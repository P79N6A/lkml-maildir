Date: Mon, 29 Nov 1999 15:05:40 +0100 (CET)
From: Andrea Arcangeli <>
Subject: Re: Large memory question
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/29/42

On Mon, 29 Nov 1999, Matthew Kirkwood wrote:
>How does the swap cache fit into this picture?  Is that obsolete
The swap cache is just a cache for the swap area. It doesn't make any
difference for the VM to have the swap cache or not. The swap cache has as
the offset/index field of the page set with the contents of the not
present pte. Then at fault time we just do a search on the cache for such
a pte before starting I/O so we can avoid major faults. It allows us to do
async swapout cleanly. The other good thing of the swap cache is that if
there is a swapin read fault then we map the page cache in userspace
(exactly as we do with the page cache for private mappings) and then if
such page must be swapped out again we only need to unmap the page cache
and write to the pte the value of the page->offset/index and we don't need
to I/O to swapout such page again (because the swap cache took the swap
entry busy and we know that the swap still contains the data of the page).
It's only a cache from/to the swap as the pagecache is for the disk.
>(or absent) under 2.3 now?
It's still present of course.
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/