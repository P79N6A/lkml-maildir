Date: Wed, 25 Jul 2007 10:40:56 +0200
From: Johannes Berg <>
Subject: Re: [RFC] fix slub krealloc()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/25/97

> > I think we already fixed this?
> >     Fix ZERO_OR_NULL_PTR(ZERO_SIZE_PTR)
> 
> There is no use of ZERO_OR_NULL ptr in krealloc. Linus added a check to
> ksize() instead so that ksize(NULL) returns 0 instead of failing.
However, this still doesn't fix the other corner case I pointed out:
krealloc(NULL, 0, GFP_KERNEL) will give you a NULL pointer instead of a
ZERO_SIZE_PTR afaict.
johannes
[unhandled content-type:application/pgp-signature]