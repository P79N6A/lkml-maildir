Date: Wed, 15 Sep 1999 06:39:02 -0500
From: The Doctor What <>
Subject: [PATCH] Thunder Lan Module - tlan.o
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/15/43

Here is a one line patch to tlan.o in drivers/net.
It fixes the fact that if you insmod it on any machine, it will
successfully insert itself.  If you use this to "probe" for hardware (like
in the TurboLinux Installer), it will give you false "yes"es.
The fix is trivial, and I believe it to be right.
It should probably be included in the next stable, as it is a bug fix.
Ciao!
PS: I maintain the kernel for TurboLinux, my employers.
-- 
Digital circuits are made from analog parts.
	 -- Don Vonada
The Doctor What: "What, Doctor What"             
http://docwhat.gerf.org/
docwhat@gerf.org                    (finger docwhat@gerf.org for PGP key)
KF6VNC
--- linux/drivers/net/tlan.c.orig	Wed Sep 15 01:39:36 1999
+++ linux/drivers/net/tlan.c	Wed Sep 15 02:38:41 1999
@@ -352,7 +352,7 @@
 	
 	/* printk( "TLAN:  Found %d device(s).\n", TLanDevicesInstalled ); */
 
-    return ( ( TLanDevicesInstalled >= 0 ) ? 0 : -ENODEV );
+	return ( ( TLanDevicesInstalled > 0 ) ? 0 : -ENODEV );
 
 } /* init_module */
 