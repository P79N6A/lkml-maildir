Date: Sun, 05 Oct 2003 22:41:58 +0200
From: Georg Chini <>
Subject: SPARC64 and 32: Several problems with 2.6.0-test5 and test6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/5/121

Hello,
I did some testing with test5 and test6 kernels on
my Sparc Ultra1 and Sparcstation 5. Here is a summary
of the problems I observed. Maybe this helps to fix
things.
1) Keyboard:
    On both architectures the Sun type 5 keyboard
    (and mouse) will not be found.
2) Console:
    On both architectures only PROM-console will work. The
    system will not switch to serial (Ultra1) or TCX (SS5)
    console.
    Sending break gives no ok-prompt.
3) Netfilter on sparc64:
    Any iptables command except iptables -L crashes my
    system without further messages. I am already in contact with
    Harald Welte about this (see netfilter-devel list).
4) Compile on sparc32
    The function sched_clock is missing in time.c.
    There is a posting by Andrew Morton on this list
    which defines the function. The kernel compiles
    and boots with this patch.
    When compiling modules I get following unresolved
    symbols in various modules in stage 2:
   .div
   .rem
   .udiv
   .umul
   .urem
   ___atomic_add
   ___atomic_sub
   ___clear_bit
   ___set_bit
   prom_apply_generic_ranges
   prom_halt
   prom_printf
   sparc_flush_page_to_ram
   sun_do_break
    I think I could fix this myself if anyone can tell me where
    to find an example.
    Regards
            Georg Chini
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/