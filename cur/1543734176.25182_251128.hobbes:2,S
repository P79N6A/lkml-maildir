Date: Fri, 10 Sep 2004 16:46:01 -0600
From: Bjorn Helgaas <>
Subject: Re: FYI: my current bigdiff
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/10/299

On Thursday 09 September 2004 10:13 pm, Kevin Fenzi wrote:
> First suspend worked.
> First resume came back, but all kinds of problems with my network,
> with my usb, and with sound.
> ...
> After booting with the pci=routeirq as suggested wireless and usb
> played nice on suspend resume again.
Yes, I've had a couple other reports of this, but haven't made any
progress on tracking it down yet.  (The other reports were from
vanilla -mm kernels, so I don't think it's related to Pavel's patch.)
I'm completely ignorant about how swsusp works; I guess this is my
chance to learn.  "pci=routeirq" just causes us to do all the PCI
ACPI IRQ routing at boot-time, before the drivers start up.  This
happens in pci_acpi_init(), which is a subsys_initcall that is run
at initial boot-time, but (I assume) not during a resume.
	- Can you confirm that your USB and prism drivers were loaded
	  and working fine before the suspend?
	- Could you post the whole dmesg log, including the part from
	  boot to suspend, and also the part after resume?  I'd like
	  to see these both with and without "pci=routeirq" to see if
	  there's some meaningful difference.
	- Can you capture the contents of /proc/interrupts before the
	  suspend?
Thanks for the problem report.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/