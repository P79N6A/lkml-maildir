Date: Tue, 23 Apr 2002 20:19:00 -0700
From: A Guy Called Tyketto <>
Subject: Re: PROBLEM:  make xconfig fails on link
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/23/160

On Tue, Apr 23, 2002 at 04:29:00PM -0700, Michael D. Johnson wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> [1] make xconfig fails to link active during fresh install/rebuild on 2.5.9  
> this worked on 2.5.7 but not here.
> [2] see above
> [3] Key Word:  xconfig
> [4] Version: 2.4.8-34.1mdk #1 Mon Nov 19 12:40:39 MST 2001 i686 unknown
> [Duron 700 Mhz]
> [5] Error reported :  make xconfig
> rm -f include/asm
> ( cd include ; ln -sf asm-i386 asm)
> make -C scripts kconfig.tk
> make[1]: Entering directory `/usr/src/linux-new/linux-2.5.9/scripts'
> cat header.tk >> ./kconfig.tk
> ./tkparse < ../arch/i386/config.in >> kconfig.tk
> drivers/isdn/Config.in: 10: incorrect argument
> make[1]: *** [kconfig.tk] Error 1
> make[1]: Leaving directory `/usr/src/linux-new/linux-2.5.9/scripts'
> make: *** [xconfig] Error 2
        I had the same problem with xconfig when I rolled 2.5.9. A bit more 
looking into it made me wonder about the conditional of Config.in on that 
line. Currently shows:
if [ "$CONFIG_ISDN_BOOL" == "y" ]; then
        I reversed this condition to make it != "y", and it worked. See below 
for patch. I'm not sure if this is correct, because I'm not that familiar with 
it (though I should!) but it made make xconfig work for me again. YMMV.
                                                        BL.
--- linux/drivers/isdn/Config.in.borked	Tue Apr 23 20:12:58 2002
+++ linux/drivers/isdn/Config.in	Mon Apr 22 18:46:45 2002
@@ -7,7 +7,7 @@
 if [ "$CONFIG_NET" != "n" ]; then
    bool 'ISDN support' CONFIG_ISDN_BOOL
 
-   if [ "$CONFIG_ISDN_BOOL" == "y" ]; then
+   if [ "$CONFIG_ISDN_BOOL" != "y" ]; then
       mainmenu_option next_comment
       comment 'Old ISDN4Linux'
-- 
Brad Littlejohn                         | Email:        tyketto@wizard.com
Unix Systems Administrator,             |           tyketto@ozemail.com.au
Web + NewsMaster, BOFH.. Smeghead! :)   |   
http://www.wizard.com/~tyketto
  PGP: 1024D/E319F0BF 6980 AAD6 7329 E9E6 D569  F620 C819 199A E319 F0BF
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/