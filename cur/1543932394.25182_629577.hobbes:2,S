Date: Tue, 18 Dec 2007 11:41:05 -0600
From: "Andrew Dyer" <>
Subject: watchdog behaviour on close? (watchdog-api.txt)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/18/201

Hi, I am trying to implement a watchdog driver in 2.6.23 for the i.MXL
cpu (based off of drivers/char/watchdog/s3c2410_wdt.c).
I had a question about the api doc for the watchdog
(Documentation/watchdog-api.txt).  Line 37 says "When the device is
closed, the watchdog is disabled."  Later on (Line 56) it says
"Drivers will not disable the watchdog, unless a specific magic
character 'V' has been sent /dev/watchdog just before closing the
file."
I would assume that from reading L37 that the driver would
unconditionally shut down the watchdog when closing (unless
CONFIG_WATCHDOG_NOWAYOUT or the nowayout module param is specified),
but line 56 seems to contradict that.
Can you clarify the intended behaviour?
I am not subscribed to the mailing list, so please cc: replies to me.
-- 
Hardware, n.:
        The parts of a computer system that can be kicked.