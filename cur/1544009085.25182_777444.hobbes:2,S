Date: Fri, 5 Dec 2008 07:57:59 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: Regression from 2.6.26: Hibernation (possibly suspend) broken on Toshiba R500 (bisected)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/5/209

On Fri, 5 Dec 2008, Rafael J. Wysocki wrote:
> > 
> > It would be very interesting to see if people affected get any printouts 
> > about IO decodes that don't show up in /proc/ioports...
> 
> From my box:
> 
> pci 0000:00:1f.0: quirk: region d800-d87f claimed by ICH6 ACPI/GP IO/TCO
> pci 0000:00:1f.0: quirk: region eec0-eeff claimed by ICH6 GPIO
> pci 0000:00:1f.0: ICH7 LPC Generic IO decode 1 PIO at 0680 (mask 007f)
> pci 0000:00:1f.0: ICH7 LPC Generic IO decode 4 PIO at 01e0 (mask 000f)
> 
> The second one shows up in /proc/ioports as "01e0-01ef : pnp 00:09", but the
> first one (at 680) doesn't.
Ok, so the patch is interesting and probably worth expanding on (to 
actually allocate the regions), but at the same time it too doesn't 
actually explain your problems.
While the kernel doesn't know about that magic 0x680 allocation, it also 
won't be allocating anything over it, since we define PCIBIOS_MIN_IO to 
0x1000 on x86, and will never allocate new resources under that.
		Linus