Date: Tue, 17 Aug 2004 12:58:59 +0200
From: Pavel Machek <>
Subject: cpufreq deprecation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/17/80

Hi!
Today I learned that /proc/cpufreq is going to be removed from
2.6.. I thought that 2.6 means "no interface changes" :-(. Anyway, if
we are going to warn about it, we might want to include newline...
Please apply,
								Pavel
--- clean-mm/drivers/cpufreq/cpufreq_userspace.c	2004-08-17 12:21:43.000000000 +0200
+++ linux-mm/drivers/cpufreq/cpufreq_userspace.c	2004-08-17 12:55:04.000000000 +0200
@@ -174,7 +174,7 @@
 
 	if (!warning_print) {
 		warning_print++;
-		printk(KERN_INFO "Access to /proc/sys/cpu/ is deprecated and will be removed from (new) 2.6. kernels soon after 2005-01-01");
+		printk(KERN_INFO "Access to /proc/sys/cpu/ is deprecated and will be removed from (new) 2.6. kernels soon after 2005-01-01\n");
 	}
 
 	if (write) {
@@ -214,7 +214,7 @@
 
 	if (!warning_print) {
 		warning_print++;
-		printk(KERN_INFO "Access to /proc/sys/cpu/ is deprecated and will be removed from (new) 2.6. kernels soon after 2005-01-01");
+		printk(KERN_INFO "Access to /proc/sys/cpu/ is deprecated and will be removed from (new) 2.6. kernels soon after 2005-01-01\n");
 	}
 
 	if (oldval && oldlenp) {
--- clean-mm/drivers/cpufreq/proc_intf.c	2004-08-17 12:21:43.000000000 +0200
+++ linux-mm/drivers/cpufreq/proc_intf.c	2004-08-17 12:54:53.000000000 +0200
@@ -115,7 +115,7 @@
 
 	if (!warning_print) {
 		warning_print++;
-		printk(KERN_INFO "Access to /proc/cpufreq is deprecated and will be removed from (new) 2.6. kernels soon after 2005-01-01");
+		printk(KERN_INFO "Access to /proc/cpufreq is deprecated and will be removed from (new) 2.6. kernels soon after 2005-01-01\n");
 	}
 
 	p += sprintf(p, "          minimum CPU frequency  -  maximum CPU frequency  -  policy\n");
@@ -190,7 +190,7 @@
 
 	if (!warning_print) {
 		warning_print++;
-		printk(KERN_INFO "Access to /proc/cpufreq is deprecated and will be removed from (new) 2.6. kernels soon after 2005-01-01");
+		printk(KERN_INFO "Access to /proc/cpufreq is deprecated and will be removed from (new) 2.6. kernels soon after 2005-01-01\n");
 	}
 	
 	proc_string[count] = '\0';
-- 
People were complaining that M$ turns users into beta-testers...
...jr ghea gurz vagb qrirybcref, naq gurl frrz gb yvxr vg gung jnl!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/