Date: Sun, 21 Oct 2001 20:25:02 +0300
From: Ville Herva <>
Subject: Re: 2.4.10ac10, cdrecord 1.9-6, Mitsumi CR-4804TE: lock up burning too large image
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/21/52

On Sun, Oct 21, 2001 at 02:10:18PM +0200, you [Joerg Schilling] claimed:
> 
> >Ok. I'll compile the newest from source.
> 
> >But do you think the too-large-image lock up might be cured with a newer
> >cdrecord, or should is the kernel the prime suspect?
> 
> It least recent libscg versions include a workaround for an incorrect
> Linux kernel return for a timed out SCSI command via ATAPI. So if the kernel 
> does return at all, cdrecord will know why.
Bummer. I'm not able to reproduce it with
progress -c 1M < /dev/zero | cdrecord dev=0,1,0 speed=4 -dummy -
(essentially same as 'cdrecord dev=0,1,0 speed=4 -dummy - < /dev/zero')
(The line I originally used was "cdrecord dev=0,1,0 speed=4 -" and the input
was from mkisofs.)
cdrecord-1.9-6
  686.00 MB; elapsed 1172 secs; 0.59 MB/s...
  cdrecord: Input/output error. write_g1: scsi sendcmd: retryable error
  CDB:  2A 00 00 05 53 E1 00 00 1F 00
  status: 0x0 (GOOD STATUS)
  write track data: error after 715065344 bytes
  Sense Bytes: 70 00 00 00 00 00 00 0A 00 00 00 00 00 00 00 00 00 00
and cdrecord 1.11a08
  686.00 MB; elapsed 1172 secs; 0.59 MB/s...
  ./cdrecord: Input/output error. write_g1: scsi sendcmd: no error
  CDB:  2A 00 00 05 53 E1 00 00 1F 00
  status: 0x2 (CHECK CONDITION)
  Sense Bytes: 71 00 03 00 00 00 00 0A 00 00 00 00 0C 00 00 00
  Sense Key: 0x3 Medium Error, deferred error, Segment 0
  Sense Code: 0x0C Qual 0x00 (write error) Fru 0x0
  Sense flags: Blk 0 (not valid)
  cmd finished after 5.706s timeout 40s
  write track data: error after 715065344 bytes
  Sense Bytes: 70 00 00 00 00 00 00 0A 00 00 00 00 00 00 00 00 00 00
(nothing in dmesg.)
Perhaps it really takes real write to trigger this or the cd media in
question was somehow flawed. I try again, when I have more time.
-- v --
v@iki.fi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/