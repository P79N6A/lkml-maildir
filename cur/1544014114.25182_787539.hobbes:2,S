Date: Tue, 6 Jan 2009 16:04:44 +0100
From: Nick Piggin <>
Subject: Re: [patch] x86: make UV support optional
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/6/170

On Tue, Jan 06, 2009 at 06:54:08AM -0800, Mike Travis wrote:
> Jack Steiner wrote:
> > On Tue, Jan 06, 2009 at 07:03:48AM +0100, Nick Piggin wrote:
> >> UV is fairly rare.... and much of the support is already there to cope with
> >> 32-bit builds. So this makes sense I think.
> >>
> > 
> > 
> > Looks ok to me. One suggestion though. There is a MAXSMP config
> > option. I would suggest enabling UV if MAXSMP is enabled. This
> > will help ensure that UV is tested more frequently & may minimize
> > regressions.
> > 
> > 
> > --- jack
> 
> Nick - would you add something like this to your patch?  Thanks! Mike
> ---
> Subject: x86: enable UV when MAXSMP is configured.
> 
> We want UV code to be tested even for non-UV architectures.  Enabling
> MAXSMP specifies "maximizing the system capabitlity" and UV is one of
> these methods.  Also helps distros select the correct config options
> for their default configurations.
I don't really follow. The config option I added is very visible and
clear, isn't it? I don't think MAXSMP means that, otherwise it would
basically be allyesconfig.
I wouldn't object to have a platform types menu like the processor
types one. Or a generic architecture checkbox to select some of
these things together.