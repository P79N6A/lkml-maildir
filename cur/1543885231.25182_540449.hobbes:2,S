Date: Sat, 5 May 2007 18:44:23 +0200
From: Adrian Bunk <>
Subject: [-mm patch] fix fs/nfs/nfsroot.c compile error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/5/105

On Sat, May 05, 2007 at 01:49:55AM -0700, Andrew Morton wrote:
>...
> Changes since 2.6.21-rc7-mm2:
>...
>  git-net.patch
>...
>  git trees
>...
match_table_t was made "const" and gcc doesn't like "const __initdata":
<--  snip  -->
...
  CC      fs/nfs/nfsroot.o
/home/bunk/linux/kernel-2.6/linux-2.6.21-mm1/fs/nfs/nfsroot.c:131: error: tokens causes a section type conflict
make[3]: *** [fs/nfs/nfsroot.o] Error 1
<--  snip  -->
Signed-off-by: Adrian Bunk <bunk@stusta.de>
---
BTW: Why is this change to include/linux/parser.h in the net tree?
--- linux-2.6.21-mm1/fs/nfs/nfsroot.c.old	2007-05-05 18:36:26.000000000 +0200
+++ linux-2.6.21-mm1/fs/nfs/nfsroot.c	2007-05-05 18:36:44.000000000 +0200
@@ -128,7 +128,7 @@
 	Opt_err
 };
 
-static match_table_t __initdata tokens = {
+static match_table_t tokens = {
 	{Opt_port, "port=%u"},
 	{Opt_rsize, "rsize=%u"},
 	{Opt_wsize, "wsize=%u"},
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/