Date: Sun, 16 Dec 2007 03:23:20 +0100
From: Marcin Slusarz <>
Subject: [PATCH RESEND] usbdevfs_urb: __user annotation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/15/158

fix warning:
drivers/usb/core/devio.c:1226:20: warning: incorrect type in assignment (different address spaces)
drivers/usb/core/devio.c:1226:20:    expected void *usercontext
drivers/usb/core/devio.c:1226:20:    got void [noderef] <asn:1>*
Signed-off-by: Marcin Slusarz <marcin.slusarz@gmail.com>
CC: Greg Kroah-Hartman <gregkh@suse.de>
---
 include/linux/usbdevice_fs.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)
diff --git a/include/linux/usbdevice_fs.h b/include/linux/usbdevice_fs.h
index 8ca5a7f..17cb108 100644
--- a/include/linux/usbdevice_fs.h
+++ b/include/linux/usbdevice_fs.h
@@ -104,7 +104,7 @@ struct usbdevfs_urb {
 	int error_count;
 	unsigned int signr;	/* signal to be sent on completion,
 				  or 0 if none should be sent. */
-	void *usercontext;
+	void __user *usercontext;
 	struct usbdevfs_iso_packet_desc iso_frame_desc[0];
 };
--
1.5.3.4