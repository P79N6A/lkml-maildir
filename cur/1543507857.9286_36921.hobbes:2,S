Date: 2 Sep 1999 00:42:51 GMT
From: (Marc MERLIN)
Subject: Re: NFS under 2.2.12
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/1/187

On 31 Aug 1999 11:49:42 -0700, Robert K. Nelson <rnelson@airflowsciences.com> wrote:
>4.   Under RedHat  5.2, I  could refer  to filesystems  mounted under  root
>directly (/net/system/home).   Under the new  stuff this doesn't  work.  If
>this is a design feature, its one that causes real pain.
Since I didn't see anyone who addressed this point, I thought I'd do it:
When you export  / on most unices,  it won't export /usr if  it's a separate
filesystem. It's annoying,  but it's  because codewise it's  not easy  to do
(you have to deal  with inodes with similar numbers but  on different FS for
instance).
The old NFS server  was user level, so it didn't really care  if you had one
big filesystem  or if you had  plenty of mounted filesystems  as it accessed
your files like any other process would.
The new server lives in the kernel  and works on a filesystem level, and the
fact that it won't automatically give  you view on other filesystems isn't a
design feature, it's simply a shortcoming that comes with the new design.
That said, Irix  for instance has the "no_hide" export  option that lets you
export / as if it were one big filesystem, so it's possible...
In the  meantime, you do  need to  export all your  filesystems explicitely,
just like you would  on Solaris, and you need an  automounter that knows how
to recursively mount  all the remote fileystems to  reconstruct an identical
hierachy (which the upcoming autofs 4.0 is supposed to do).
I hope it clears up that issue.
Cheers,
Marc
-- 
Microsoft is to software what McDonalds is to gourmet cooking
Home page: 
http://marc.merlins.org/
 (friendly to non IE browsers)
Finger marc_f@merlins.org for PGP key and other contact information
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/