Date: Tue, 15 Dec 1998 11:14:15 -0600
From: Michael Elizabeth Chastain <>
Subject: Re: Patch for Makefile to improve linkability of the kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/15/121

Hi Horst,
> (1) is not too relevant, we should strive for the cleanest source
>     (including Makefiles) possible.
I have a project for that, the Dancing Makefiles.  It does use "ld -R" and
.o files exclusively.  I haven't seen any major advantages from going that
route though.  Now that I know about --start-group, that kills the only
minor advantage.
> BTW, you can arrange for "directory static" (not C's "file static")
> symbols this way, if needed. Is this relevant?  Sure, it's a lot
> of work.
Can you tell me more about this in private mail -- I am not planning to
do anything about it, but it's something I would like to know about.
> But then, why is there unneeded stuff in the *.a's?
> Sure, I can think of situations where it does make sense.
> Are they present here? 
Yes.  The case I have here is drivers/net/auto_irq.a.  It is always in
drivers/net/net.a, and it gets pulled out if any network driver needs it.
It would be cumbersome for the Makefile to know which CONFIG_* options
enable drivers that need auto_irq.a.
Michael Elizabeth Chastain
<mailto:mec@shout.net>
"love without fear"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/