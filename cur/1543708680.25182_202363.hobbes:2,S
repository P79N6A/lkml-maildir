Date: Thu, 26 Feb 2004 18:32:13 -0500
From: Daniel Jacobowitz <>
Subject: Re: [Kgdb-bugreport] [PATCH][3/3] Update CVS KGDB's wrt connect / detach
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/26/288

On Thu, Feb 26, 2004 at 10:44:21AM -0700, Tom Rini wrote:
> Ack.  Does gdb do anything to see if the rmote side will support being
> left hanging?
No.
> > > > > - Don't try and look for a connection in put_packet, after we've tried
> > > > >   to put a packet.  Instead, when we receive a packet, GDB has
> > > > >   connected.
> > > > 
> > > > We have to check for gdb connection in putpacket or else following problem 
> > > > occurs.
> > > > 
> > > > 1. kgdb console messages are to be put.
> > > > 2. gdb dies
> > > 
> > > As in doesn't cleanly remove itself?
> > 
> > Seg faults, for instance.
> 
> That's what I was figuring.  Does gdbserver handle things like this (gdb
> up and dying in the middle of a session, disconnecting without warning)
> well?
Generally yes, if the program was stopped, as an accident of the fact
that GDB removes breakpoints when you're stopped.
When running, no, not so much.
-- 
Daniel Jacobowitz
MontaVista Software                         Debian GNU/Linux Developer
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/