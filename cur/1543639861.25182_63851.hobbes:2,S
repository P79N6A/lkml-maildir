Date: Tue, 13 Aug 2002 11:58:22 -0700
From: "Martin J. Bligh" <>
Subject: Re: [PATCH] NUMA-Q disable irqbalance
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/13/261

>> I know, but you pays your money, you choose your breakage ;-)
> 
> Well, in this case, it is _you_ who end up having to choose your breakage.
Indeed. Empower the user.
>> Forcing it on for every machine just because P4s are borked sounds wrong.
> 
> THAT IS NOT WHAT I SAID. Go back and read it. I said that since the P4
OK, I was being unclear, that's not really what I meant. If I may rephrase:
I don't like the performance hit it gives on P3 standard SMP machines (not
NUMA-Q) though it does work on there too, and there's no easy way for 
people to disable it.
> needs it, you don't have the choice of just ignoring it. Especially since
> there are about a million more P4's out there than NUMA-Q machines.
> 
> It needs to be dynamic, not "disable it".
I did read what you said, but this isn't just about NUMA-Q. There are two issues here:
1. It doesn't work at all for some machines. Yes, we can get rid of that problem by
dynamic disable, or hanging off the existing config option. If that's all you'll accept,
we can cut a minimal patch to do that (that's actually what Matt did originally)
2. It makes performance worse on some normal SMP machines. That's what I want
the manual config option for. If you want it forced on for P4s, fine. I suspect this
may be able to be removed if someone can fix the code so it's performant.
M.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/