Date: Wed, 29 Mar 2000 16:38:16 +0100
From: "Daniel J Blueman" <>
Subject: Re: Kernel 2.2.14, dirty buffers, stalls in interactivity of system/NFS-clients ...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/29/94

Hi Bryan,
[snip]
> Er, I have not figured out how to do that exactly.  And I've read
> quite a bit.  Do I do it with ./update?  Do I have to reboot for
> the changes to take effect (I hope not)?
Try doing an 'echo "100 1200 128 512 15 5000 500 1884 2"
>/proc/sys/vm/bdflush'. No reboot necessary. You'll need to tweak the
values. It's all explained in the man page for update/bdflush/kflushd.
One other tweak you can do on your system, if users are accessing lots of
files frequently, is add the 'noatime' option in the fstab file, for the
appropriate partitions. This tells linux not to update access time attribute
on files, such that the number of dirty writes is reduced, ie less disk
bandwidth is generated. This can also be done with a 'chattr +A <file>' or
on dirs 'chattr -R +A <path>'. It's covered in man mount.
Hope this helps,
    - Dan
__________________________
Daniel J Blueman
Undergraduate - BSc Computing Science
UMIST university - Manchester
Direct line: 0161 933 3569
Mobile: 07775 583766
Email: daniel.j.blueman@stud.umist.ac.uk
SMS: daniel.j.blueman@sms.genie.co.uk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/