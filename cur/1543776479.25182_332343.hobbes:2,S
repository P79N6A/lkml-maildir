Date: Fri, 8 Jul 2005 21:45:08 +0100
From: Alistair John Strachan <>
Subject: Re: Realtime Preemption, 2.6.12, Beginners Guide?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/8/237

On Friday 08 Jul 2005 20:48, Ingo Molnar wrote:
> * Alistair John Strachan <s0348365@sms.ed.ac.uk> wrote:
> > Unfortunately I see nothing like this when the machine crashes. Find
> > attached my config, which has CONFIG_4KSTACKS and the options you
> > specified. Are you sure this is sufficient to enable it?
>
> i have booted your .config, and stack overflow debugging is active and
> working. So it probably wasnt a straight (detectable) stack recursion /
> stack footprint issue.
>
Okay, I disabled IO-APIC and Local APIC, recompiled with (an otherwise 
identical) config.
Got this (slightly better) oops. Figured out how to use my camera :-)
http://devzero.co.uk/~alistair/oops6.jpeg
Onto your stack-footprint metric. I don't know what the number means, but at a 
guess it's the size of the stack. Unfortunately, if this is the case, it's 
unlikely to be an overflow causing the crash. Here's a grep of dmesg just 
before the crash.
[root] 21:39 [~] dmesg | grep new\ stack
| new stack-footprint maximum: swapper/1, 1760 bytes.
| new stack-footprint maximum: mount/471, 1716 bytes.
| new stack-footprint maximum: cupsd/2623, 1564 bytes.
| new stack-footprint maximum: kdm_greet/2845, 1528 bytes.
| new stack-footprint maximum: krootimage/2846, 1204 bytes.
| new stack-footprint maximum: konqueror/2938, 836 bytes.
The complete traces are a bit long to include here, but I've uploaded the 
entire dmesg:
http://devzero.co.uk/~alistair/dmesg.gz
-- 
Cheers,
Alistair.
personal:   alistair()devzero!co!uk
university: s0348365()sms!ed!ac!uk
student:    CS/CSim Undergraduate
contact:    1F2 55 South Clerk Street,
            Edinburgh. EH8 9PP.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/