Date: 8 Nov 1999 17:24:12 GMT
From: (Linus Torvalds)
Subject: Re: Buffer and page cache
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/8/83

In article <000a01bf29a4$ae11ca00$8dbc0280@puffin>,
braam <braam@carissimi.coda.cs.cmu.edu> wrote:
>-> Yes, bumping the page count is the perfect way to do this.
>
>If we do that, how can the VM still exert pressure to get rid of dirty
>pages?
Right now it can't do that. There's no pressure for VM except for the
bdflush deamon, so that's something that you'd have to implement. It
shouldn't be that bad - there could easily be some kind of inode-based
pressure to throw things out when memory gets tight.
>A "DirtyBit" in the page would give the VM the option of notifying file
>systems that have big caches to get rid of pages; now the count is
>irrelevant.
The count is still relevant. You should see the count as the main VM way
of keeping track of how many owners a page has. You _could_ implement a
dirty bit as an additional _hint_, though. A hint for the VM layer to
say "Ok, this page is dirty, so I should notify somebody (the inode
manager) to try to write things out because we're low on memory".
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/