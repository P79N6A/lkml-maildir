Date: Thu, 12 Oct 2000 21:47:28 +0200
From: Torben Mathiasen <>
Subject: Re: [PATCH] Fix SCSI proc oops
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/12/90

On Thu, Oct 12 2000, Linus Torvalds wrote:
> 
> 
> On Thu, 12 Oct 2000, Torben Mathiasen wrote:
> > 
> > Attached patch should fix the oops's people have been getting
> > while using /proc/scsi.
> 
> This patch makes no sense. Why
> 
> 	if (!present)
> 
> when that is obviously the wrong way around.
>
We want to make sure that all hostadapters have been unregistered 
befor we pull it out of the scsi_hosts list. We do tpnt->present--
for every hostadaper we unregister.
Prior to the new init code, we'd just do something like,
	if (tpnt->present)
		return;
I might be wrong though, it could be another bug that I've missed.
-- 
Torben Mathiasen <tmm@kernel.dk>
Linux ThunderLAN maintainer 
http://tlan.kernel.dk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/