Date: 04 Aug 2002 22:32:13 -0700
From: Jeremy Fitzhardinge <>
Subject: fix for pci_enable_device in 2.4.19ac3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/5/37

I found my tulip driver was complaining about not being able to enable
the device.  Turns out this was the problem: 
==== //depot/linux/2.4ac/drivers/pci/pci.c#3 - /home/jeremy/p4/linux/2.4ac/drivers/pci/pci.c ====
@@ -389,7 +389,7 @@
 int
 pci_enable_device(struct pci_dev *dev)
 {
-	pci_enable_device_bars(dev, 0x3F);
+	return pci_enable_device_bars(dev, 0x3F);
 }
 
 /**
I guess nobody else checks their error returns (or it just happened to
always return 0).
	J
[ sorry about the resend; forgot to turn off HTML ]
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/