Date: Sat, 9 Jun 2007 19:27:15 +0200
From: "Kay Sievers" <>
Subject: Re: Rules on how to use sysfs in userspace programs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/9/119

On 6/9/07, Alexander E. Patrakov <patrakov@ums.usu.ru> wrote:
> Greg KH wrote:
> > - Do not use libsysfs
> >   It makes assumptions about sysfs which are not true. Its API does not
> >   offer any abstraction, it exposes all the kernel driver-core
> >   implementation details in its own API. Therefore it is not better than
> >   reading directories and opening the files yourself.
> >   Also, it is not actively maintained, in the sense of reflecting the
> >   current kernel-development. The goal of providing a stable interface
> >   to sysfs has failed, it causes more problems, than it solves. It
> >   violates many of the rules in this document.
>
> The problem is that even on ftp.kernel.org there are packages like
> pcmciautils that still link to libsysfs and contain things like #define
> PATH_TO_SOCKET "/sys/class/pcmcia_socket/". Are they expected to be fixed?
It will continue to work, because we keep the symlinks it expects, but
libsysfs is so broken in its interface, that nothing should use it,
especially nothing should start using it today.
Thanks,
Kay
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/