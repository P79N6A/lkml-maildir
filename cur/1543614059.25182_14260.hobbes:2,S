Date: Thu, 20 Dec 2001 17:37:11 -0500 (EST)
From: Alexander Viro <>
Subject: Re: [OT] util-linux-2.11n
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/20/265

On Thu, 20 Dec 2001 Andries.Brouwer@cwi.nl wrote:
> >> Very off-topic: FSF promotes free software, but produces
> >> message translation files with header
> >>   # Copyright (C) 2001 Free Software Foundation, Inc.
> >> and without any indication that these files can be freely
> >> modified and distributed. No GPL or anything. Very unfree.
> 
> > Ask RMS... and he is likely to fix that.
> 
> I did.  You may well be right.  We'll see.
ObMount: now that MS_MOVE is in 2.5 (and submitted for merge in 2.4)
mount --move <oldpath> <newpath> would be nice...
Effect of mount(old, new, NULL, MS_MOVE, NULL): subtree mounted at
"old" is taken to "new". Move is atomic and takes all references
to objects in a subtree with it - opened files, current directories,
etc.  Requires CAP_SYS_ADMIN.
Errors:
	requires CAP_SYS_ADMIN (EPERM)
	old and new must exist (ENOENT)
	old must be a mountpoint (EINVAL)
	new must not be a descendent of old (ELOOP)
	old must not be the absolute root (EINVAL)
	if old is directory new must be a directory and vice versa (EINVAL)
+ usual set of errors from lookups for old and new (EFAULT if either
is not a valid address, ENOTDIR if component in the middle is not a
directory, ELOOP if too many links, EACCES if no execute permissions
on some component in the middle, ENOMEM if someone's out of memory, EIO
if fs feels like that, etc. - the usual)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/