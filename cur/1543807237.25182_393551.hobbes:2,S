Date: Sat, 04 Feb 2006 16:35:47 +0100
From: Krzysztof Halasa <>
Subject: Re: CD writing in future Linux (stirring up a hornets' nest)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/4/81

"Jim Crilly" <jim@why.dont.jablowme.net> writes:
> It's not about device discovery, hald is polling removable devices every 2s
> to see if new media was inserted and when it polls a CD drive that's
> currently burning a disc it causes problems. It's documented in Debian bug
> #262678.
Ok. So what's wrong with cdrecord using O_EXCL (and maybe retrying
for few seconds) so no other program (hald or, say, a user mistaking
a device) can interrupt it?
And, if we are here, what's wrong with hald using O_EXCL to not
interrupt any other program (does hald need to check the media
if it's in use)? I assume the problem wouldn't exist with hald
using O_EXCL and cdrecord not (yet) using it, would it?
-- 
Krzysztof Halasa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/