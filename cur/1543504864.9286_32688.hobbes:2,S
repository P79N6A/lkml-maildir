Date: Wed, 4 Aug 1999 16:14:47 -0700 (PDT)
From: Brion Vibber <>
Subject: Re: ide-scsi emulation question
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/5/32

Tim Walberg wrote:
> This, I think, would tend to hide all IDE devices behind
> the ide-scsi module. I guess I didn't really state my
> intentions - I'm trying to get the ZIP drive to work
Ide-scsi only takes over for devices that aren't supported by a currently
loaded driver already. So if ide-cd is already loaded (or compiled into
the kernel), the CD will use the regular IDE driver. Just your Zip will
get the SCSI host emulation.
What you might try is to put something like this in conf.modules:
  pre-install sd /sbin/modprobe ide-scsi
  pre-install ide-scsi /sbin/modprobe ide-cd
This will load the ide-scsi module before the SCSI disk driver, and the
ide-cd module before ide-scsi to keep the CD-ROM out of SCSI-land. Your
hard disk is safe since ide-disk is built into your kernel.
You could also compile all this into your kernel and just leave ATAPI
floppy support out, avoiding all this module mess.
-- brion vibber (brion@gizmo.usc.edu | brion@pobox.com)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/