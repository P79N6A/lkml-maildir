Date: Wed, 28 Jun 2006 15:33:37 +0400
From: Nikita Danilov <>
Subject: Re: [PATCH]  mm: moving dirty pages balancing to pdfludh entirely
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/28/131

Ananiev, Leonid I writes:
 > >From Leonid Ananiev
Hello,
 > 
 > Moving dirty pages balancing from user to kernel thread pdfludh entirely
 > reduces extra long write(2) latencies, increases performance.
 > 
[...]
 > 	The benchmarks IOzone and Sysbench for file size 50% and 120% of
 > RAM size on Pentium4, Xeon, Itanium have reported write and mix
 > throughput increasing about 25%. The described Iozone > 0.1 sec write(2)
Results are impressive.
Wouldn't this interfere with current->backing_dev_info logic? This field
is set by __generic_file_aio_write_nolock() and checked by
may_write_to_queue() to force heavy writes to do more pageout. Maybe
pdflush threads should set this field too?
 > latencies are deleted. The condition writeback_in_progress() is tested
 > earlier now. As a result extra pdflush works are not created and number
 > of context switches increasing is inside variation limites.
Nikita.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/