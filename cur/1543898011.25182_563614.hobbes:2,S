Date: Fri, 29 Jun 2007 12:01:51 +0200
From: Hans-JÃ¼rgen Koch <>
Subject: Re: Fwd: Mounting MMC card
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/29/81

Am Freitag 29 Juni 2007 11:45 schrieb Midhun Agnihotram:
> >
> > This all looks correct. How about /proc/partitions? And what's in /sys/block?
> >
> 
> Both of them show no sign of MMC.
> 
> / # cat /proc/partitions
> major minor  #blocks  name
> 
>   31     0       8192 mtdblock0
>   31     1        384 mtdblock1
>   31     2       1664 mtdblock2
>   31     3       2048 mtdblock3
>   31     4       4096 mtdblock4
> 
> 
> 
> / # cd /sys/block/
> /sys/block # ls -l
> drwxr-xr-x    3 0        0               0 Jan  1 00:00 mtdblock0
> drwxr-xr-x    3 0        0               0 Jan  1 00:00 mtdblock1
> drwxr-xr-x    3 0        0               0 Jan  1 00:00 mtdblock2
> drwxr-xr-x    3 0        0               0 Jan  1 00:00 mtdblock3
> drwxr-xr-x    3 0        0               0 Jan  1 00:00 mtdblock4
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram0
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram1
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram10
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram11
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram12
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram13
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram14
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram15
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram2
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram3
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram4
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram5
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram6
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram7
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram8
> drwxr-xr-x    2 0        0               0 Jan  1 00:00 ram9
For comparison, here's what it looks like here (kernel 2.6.21.5, udev):
# cat /proc/partitions
major minor  #blocks  name
  31     0        512 mtdblock0
  31     1       4096 mtdblock1
  31     2      28160 mtdblock2
 254     0     250880 mmcblk0
 254     1     250697 mmcblk0p1
# ls -l /sys/block/
drwxr-xr-x    6 root     root            0 Jun 29 08:41 mmcblk0
drwxr-xr-x    5 root     root            0 Jun 29 08:41 mtdblock0
drwxr-xr-x    5 root     root            0 Jun 29 08:41 mtdblock1
drwxr-xr-x    5 root     root            0 Jun 29 08:41 mtdblock2
# ls -l /sys/block/mmcblk0
-r--r--r--    1 root     root         4096 Jun 29 08:41 dev
lrwxrwxrwx    1 root     root            0 Jun 29 10:07 device -> ../../class/mmc_host/mmc0/mmc0:0002
drwxr-xr-x    2 root     root            0 Jan  1  1970 holders
drwxr-xr-x    3 root     root            0 Jun 29 08:41 mmcblk0p1
drwxr-xr-x    3 root     root            0 Jan  1  1970 queue
-r--r--r--    1 root     root         4096 Jun 29 08:41 range
-r--r--r--    1 root     root         4096 Jun 29 08:41 removable
-r--r--r--    1 root     root         4096 Jun 29 08:41 size
drwxr-xr-x    2 root     root            0 Jan  1  1970 slaves
-r--r--r--    1 root     root         4096 Jun 29 08:41 stat
lrwxrwxrwx    1 root     root            0 Jun 29 08:41 subsystem -> ../../block
--w-------    1 root     root         4096 Jun 29 08:41 uevent
# ls -l mmcblk0p1
ls: mmcblk0p1: No such file or directory
# ls -l /sys/block/mmcblk0/mmcblk0p1
-r--r--r--    1 root     root         4096 Jun 29 10:08 dev
drwxr-xr-x    2 root     root            0 Jan  1  1970 holders
-r--r--r--    1 root     root         4096 Jun 29 10:08 size
-r--r--r--    1 root     root         4096 Jun 29 10:08 start
-r--r--r--    1 root     root         4096 Jun 29 10:08 stat
lrwxrwxrwx    1 root     root            0 Jun 29 10:08 subsystem -> ../../../block
--w-------    1 root     root         4096 Jun 29 08:41 uevent
# cat /sys/block/mmcblk0/mmcblk0p1/size
501394
#
Hans
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/