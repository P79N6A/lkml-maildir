Date: Tue, 18 Dec 2007 10:05:30 -0200
From: Glauber de Oliveira Costa <>
Subject: Re: [PATCH 7/21] [PATCH] unify common parts of processor.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/18/119

Ingo Molnar wrote:
> * Glauber de Oliveira Costa <gcosta@redhat.com> wrote:
> 
>> This patch moves the pieces of processor_32.h and processor_64 that 
>> are equal to processor.h. Only what's exactly the same is moved 
>> around, the rest not being touched.
> 
> argh, it doesnt even build cleanly:
> 
>  In file included from include/linux/elf.h:6,
>                   from include/linux/module.h:14,
>                   from include/linux/crypto.h:21,
>                   from arch/x86/kernel/asm-offsets_32.c:7,
>                   from arch/x86/kernel/asm-offsets.c:2:
>  include/asm/elf.h:286: warning: 'struct mm_struct' declared inside parameter list
>  include/asm/elf.h:286: warning: its scope is only this definition or declaration, which is probably not what you want
> 
> due to zapping this bit of include/asm-x86/processor_32.h:
> 
>  -/* Forward declaration, a strange C thing */
>  -struct task_struct;
>  -struct mm_struct;
> 
> 	Ingo
> 
I'll test it with your config, and repost.