Date: Thu, 7 Feb 2002 18:09:32 +0100
From: Andi Kleen <>
Subject: [PATCH] 64bit warning fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/7/186

Hi Linus,
This patch just fixes some harmless but ugly warnings on 64bit compilations. 
From the x86-64 tree. 
For 2.5.4pre2. Please consider applying.
Thanks, 
-Andi
--- ../../v2.5/linux/include/linux/pm.h	Thu Feb  7 01:46:26 2002
+++ linux/include/linux/pm.h	Thu Feb  7 17:32:17 2002
@@ -103,8 +103,8 @@
 	void		*data;
 
 	unsigned long	 flags;
-	int		 state;
-	int		 prev_state;
+	unsigned long	 state;
+	unsigned long	 prev_state;
 
 	struct list_head entry;
 };
--- ../../v2.5/linux/kernel/pm.c	Tue Jan 15 17:53:36 2002
+++ linux/kernel/pm.c	Thu Feb  7 17:32:17 2002
@@ -154,7 +154,7 @@
 int pm_send(struct pm_dev *dev, pm_request_t rqst, void *data)
 {
 	int status = 0;
-	int prev_state, next_state;
+	unsigned long prev_state, next_state;
 
 	if (in_interrupt())
 		BUG();
@@ -163,7 +163,7 @@
 	case PM_SUSPEND:
 	case PM_RESUME:
 		prev_state = dev->state;
-		next_state = (int) data;
+		next_state = (unsigned long) data;
 		if (prev_state != next_state) {
 			if (dev->callback)
 				status = (*dev->callback)(dev, rqst, data);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/