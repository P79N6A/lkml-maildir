Date: Mon, 22 Mar 2004 18:31:26 -0800
From: "David S. Miller" <>
Subject: Re: Issues with /proc/bus/pci
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/22/249

On Tue, 23 Mar 2004 13:06:53 +1100
Benjamin Herrenschmidt <benh@kernel.crashing.org> wrote:
> I could add the host bridge thing fairly easily, but I think it
> is not very practical. Well, I probably have to add it anyway in
> case any existing stuff uses that, but it's definitely not
> practical when you have a bit of useralnd that knows the PCI ID
> (domain/bus/devfn) of the card and wants to access the legacy IO
> space of that bridge. The problem is finding which pci_dev is
> the host bridge, if any since host bridges aren't required to
> show up at all.
You have a problem.  You must implement this 'trick' because things
like xfree86 domain stuff wants it too.
I've been exporting the host PCI bridges to the usespace since day one,
and one only needs walk the devfn/bus numbers properly to find the proper
bridge for a given pci dev, right?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/