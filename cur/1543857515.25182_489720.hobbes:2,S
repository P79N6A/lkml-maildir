Date: Fri, 8 Dec 2006 18:54:12 +0100
From: Arnd Bergmann <>
Subject: Re: [Patch] Add necessary #includes to asm-powerpc/spu.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/8/206

On Friday 08 December 2006 18:10, Maynard Johnson wrote:
>  #define _SPU_H
>  #ifdef __KERNEL__
> 
> +#include <linux/fs.h>
> +#include <linux/notifier.h>
>  #include <linux/workqueue.h>
>  #include <linux/sysdev.h>
> 
Thanks for pointing this out. I'm fixing this in a different way though,
with by adding forward-declarations of the structures to spu.h in order
to avoid making the include hierarchy worse. I'll submit that in a clean
patch along with my next batch of fixes.
	Arnd <><
--- a/include/asm-powerpc/spu.h
+++ b/include/asm-powerpc/spu.h
@@ -161,6 +161,7 @@ struct spu_syscall_block {
 extern long spu_sys_callback(struct spu_syscall_block *s);
 
 /* syscalls implemented in spufs */
+struct file;
 extern struct spufs_calls {
 	asmlinkage long (*create_thread)(const char __user *name,
 					unsigned int flags, mode_t mode);
@@ -232,6 +233,7 @@ void spu_remove_sysdev_attr_group(struct
  * to object-id spufs file from user space and the notifer
  * function can assume that spu->ctx is valid.
  */
+struct notifier_block;
 int spu_switch_event_register(struct notifier_block * n);
 int spu_switch_event_unregister(struct notifier_block * n);
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/