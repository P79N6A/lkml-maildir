Date: Tue, 14 Sep 2004 14:05:03 -0400
From: Robert Love <>
Subject: Re: [patch] sched: fix scheduling latencies for !PREEMPT kernels
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/14/278

On Tue, 2004-09-14 at 17:03 +0200, Andrea Arcangeli wrote:
> we simply need a cond_resched_bkl() for that, no? Very few places are
> still serialized with the BKL, so I don't think it would be a big issue
> to convert those few places to use cond_resched_bkl.
Yes, this is all we need to do.
cond_resched() goes away under PREEMPT.
cond_resched_bkl() does not.
I did this a looong time ago, but did not get much interest.
Explicitly marking places that use BKL's "I can always call schedule()"
assumption help make it easier to phase out that assumption, too.  Or at
least better mark it.
	Robert Love
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/