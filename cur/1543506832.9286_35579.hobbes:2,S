Date: Tue, 24 Aug 1999 18:37:56 +0100 (BST)
From: Alan Cox <>
Subject: Re: fdomain.o w/ RH6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/24/109

> +Kernel panic: scsi: <fdomain> fdomain_16x0_queue() NOT
> +REENTRANT! In swapper task - not syncing
> +
> +Install fails 100%!
This is some kind of race in the SCSI layer that is not present in 2.0. 
Somehow it queued too many commands to that controller. It looks like
scsi_do_cmd() got called twice for the device. The obvious path for that
is scsi_do_cmd being called from an interrupt.  I can't however see where
this is occuring.
Does editing drivers/scsi/fdomain.h and changing 
	can_queue:	1,			\
to
	can_queue:	0,			\
fix this.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/