Date: Thu, 12 Jan 2006 15:42:20 +0100
From: Gerd Hoffmann <>
Subject: Re: [RFC] [PATCH] sysfs support for Xen attributes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/12/130

Arjan van de Ven wrote:
>>   privcmd returns a filehandle which is then used 
>> for ioctls (misc char dev maybe?). 
> 
> 
> EWWWWWWWWWWWWWW
> 
> what is wrong with open() ?????
> things that return fd's that aren't open() (or dup and socket) are just
> evil. Esp if it's in proc or sysfs.
Nothing is wrong with open, but probably the sentense above is a bit too 
short.  If you call fd = open("/proc/xen/privcmd", ...) you'll get a 
filehandle returned for the thingy (as usual) and then you'll use that 
filehandle to call ioctl(fd, ...), so it's the usual unix way ...
cheers,
   Gerd
-- 
Gerd 'just married' Hoffmann <kraxel@suse.de>
I'm the hacker formerly known as Gerd Knorr.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/