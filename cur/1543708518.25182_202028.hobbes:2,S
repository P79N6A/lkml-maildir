Date: Wed, 25 Feb 2004 21:38:36 -0500
From: Jeff Garzik <>
Subject: Re: [SUBJECT CHANGE]: megaraid unified driver version 2.20.0.0-al pha1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/25/354

Mukker, Atul wrote:
> With multiple adapters, applications would need to open multiple handles.
> This would somewhat complicate things for them. But keeping in line with
> general expectations, we would fork the drivers for different class of
> controllers now.
"opening multiple handles" is preferred.  You want one discrete object 
per controller or per device, depending on the object in question.
> I have not yet gotten strong feelings against a single driver for lk 2.4 and
> lk 2.6. If this is true, we would like to keep single driver for both
> kernels - since lk 2.4 still has a big lifecycle.
If you are doing multiple drivers in 2.6, it would seem better to match 
that as closely as possible in 2.4.
> For lk 2.6, the controllers would be detected PCI ordered and because of
> existing lk 2.4 setups, driver would re-order the registration based on boot
> controller.
Look at my libata code -- in both 2.4 and 2.6, it uses the proper PCI 
API calls.
Controller order is irrelevant -- device order is what you really care 
about, right?  This can be managed by creating a list during probe, and 
then executing the list after all controllers have been probed. 
Obviously, this excludes hotplug controllers added after the initial 
module_init() function exits.
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/