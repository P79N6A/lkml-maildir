Date: Thu, 29 Jan 2009 13:36:33 -0800
From: Jeremy Fitzhardinge <>
Subject: Re: [PATCH] x86: pass in cpu number to switch_to_new_gdt()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/29/370

Brian Gerst wrote:
> Impact: cleanup, prepare for xen boot fix.
>
> Xen needs to call this function very early to setup the GDT and
> per-cpu segments.  Remove the call to smp_processor_id() and just
> pass in the cpu number.
> 
Unfortunate that still not sufficient for a Xen boot.  I had to separate 
the gdt reload from the segment register reload.  Patches follow.
    J