Date: Tue, 30 Dec 2008 23:37:22 +0530
From: Vaidyanathan Srinivasan <>
Subject: Re: [PATCH v7 0/8] Tunable sched_mc_power_savings=n
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/30/178

* Ingo Molnar <mingo@elte.hu> [2008-12-30 07:21:39]:
> 
> * Balbir Singh <balbir@linux.vnet.ibm.com> wrote:
> 
> > > > KERNBENCH Runs: make -j4 on a x86 8 core, dual socket quad core cpu
> > > > package system
> > > >
> > > > SchedMC Run Time     Package Idle    Energy  Power
> > > > 0       81.68        52.83% 54.71%  1.00x J 1.00y W
> > > > 1       80.70        36.62% 70.11%  0.95x J 0.96y W
> > > > 2       74.95        19.53% 85.92%  0.90x J 0.98y W
> 
> > > Your result is very interesting.
> > > level 2 is more fast and efficient of power.
> > > 
> > > What's major contributor to use less time in level 2?
> > > I think it's cache bounce is less time than old.
> > > Is right ?
> > 
> > Yes, correct
> 
> yes, i too noticed that runtime improved so dramatically: +7.5% on 
> kernbench is a _very_ big deal.
> 
> So i wanted to ask you to re-test whether this speedup is reproducible, 
> and if yes, please check a few other workloads (for example sysbench on 
> postgresql / mysqld) and send a patch that changes the 
> sched_mc_power_savings default to POWERSAVINGS_BALANCE_WAKEUP (2).
The speedup for kernbench is reproducible.  I will post a more
detailed test report on kernbench soon.  The power-performance benefit
is for an under-utilised system (nr_cpus/2) run of kernbench which is
very ideal to demonstrate the power savings feature.  I will also try
sysbench and update results little later.  As Balbir mentioned, I am
on vacation and traveling.  I will post more benchmark results as soon
as possible.
--Vaidy