Date: Mon, 11 Oct 1999 16:15:44 -0700
From: "Dunlap, Randy" <>
Subject: usb-scsi in 2.3.20
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/11/192

1.  usb-scsi broken in 2.3.20
usb-scsi was *not* broken by the timeout patch
to 2.3.20.  It was broken by a UHCI patch in
the uhci_td_result() function that messed with
bytesreceived, rval, status, debug, etc.
These patch lines look OK on the surface,
but they certainly break usb-scsi, or maybe
usb-scsi doesn't use the usb_xxx() functions
correctly.  I guess I'll look at them more deeply.
Does anyone know who originated this patch
and why?  Which parts of it are _Necessary_?
2.  usb-scsi always Read-Only
usb-scsi does not implement any IOCTL functions,
so it does not have BLKROGET and BLKROSET (Block
device Read-Only Get/Set).
Does this mean that usb-scsi must implement
IOCTLs?
Alan- Would drivers/i2o/i2o_block.c be a good
place to copy ioctl's from?
Thanks,
Randy
> It appears that something has broken usb_scsi access
> in 2.3.20-pre2.  I haven't been able to find the
> problem yet.
> 
> BTW, does anyone know why USB floppy drives are
> currently always reported as Read-Only by the
> SCSI subsystem?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/