Date: Wed, 20 Oct 2004 15:04:47 +0200
From: Vojtech Pavlik <>
Subject: Re: [PATCH] Make kbtab play nice with wacom_drv in Xorg/XFree86
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/20/115

On Wed, Oct 20, 2004 at 07:27:21AM -0400, Dave Ahlswede wrote:
> In its current state, the kbtab driver can be made to work with the
> XF86/Xorg Wacom driver, but only once per modprobe. If X is restarted,
> the driver won't report any input events. This is because the driver
> always reports the pen tool as being in use, and the information doesn't
> seem to be passed after the first time the device is opened.
> 
> This patch fixes the issue by causing the driver to briefly report the
> pen not in use each time the device is opened. 
It's a bug in the X Wacom driver that it doesn't check the initial state
of the tool. It should use EVIOCGKEY() to do that.
A good way to get this working in the driver would be report the PEN
tool as not in use when the position is invalid (the pen is not within
reach), if that is possible with the hardware. It's what the bit should
signify.
> Also, while the specs say the tablet is supposed to have 256 levels of
> pressure sensitivity, it only seems to report 0-127 on both tablets that
> I have access to. This patch changes the reported bounds to cooperate
> better with Gimp 2.1.
No problem with that.
> To actually use this in X, it may require the latest stable driver from
> 
http://linuxwacom.sourceforge.net
-- 
Vojtech Pavlik
SuSE Labs, SuSE CR
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/