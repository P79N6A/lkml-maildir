Date: Tue, 7 Feb 2006 11:11:56 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH] percpu data: only iterate over possible CPUs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/7/251

On Wed, 8 Feb 2006, Dipankar Sarma wrote:
> 
> I am looking at 2.6.16-rc1 and I don't see cpu_possible_map
> being set in setup_smp()
You're right, my bad.  I looked at setup_smp() and how it walked through 
every CPU in the firmware, but it doesn't actually ever set the possible 
map, it fills in just hwrpb_cpu_present_mask (which is then then only used 
_later_ to set cpu_possible_map for some silly reason).
As far as I can tell, "hwrpb_cpu_present_mask" is just wrong, and the code 
_should_ be using cpu_possible_map.
rth? Ivan?
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/