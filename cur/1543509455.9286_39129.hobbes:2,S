Date: Wed, 15 Sep 1999 18:01:12 +0200 (MET_DST)
From: David Weinehall <>
Subject: Re: NFS corruption revisited
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/15/88

On Wed, 15 Sep 1999, Alan Cox wrote:
> > Yes, but it is this padding that causes the problems (Sun's nfsd ignores
> > the packet-size field and supposes (packet-length - header) to be the real
> > size).
> 
> Only on old unpatched Solaris. Sun fixed their server 2 years ago.
Yup... All SunOS-releases have official patches, except for one, which
only has an experimental patch (we had to search quite some time to
find that patch, I can assure you...)
> > > How close are AIX and Solaris nfsd I wonder
> > 
> > They *should* be a re-compile apart, approximately (+/- a few
> > optimisations, maybe.)
> 
> So +/- all the important bug fixes for 2 years is plausible ?
Doesn't sound too improbable, actually.
I STILL think that a compile-time, or better yet, mount-time option for
the Linux NFS-client where padding could be disabled would be something
REALLY nice. At least we here at the University of Umea would much prefer
a few percent slower connection prior to a buggy one...
Of course, if NFS v3 makes it into the kernel anytime soon, we won't have
that problem. But I have yet to see NFS v3 for the v2.3.x kernels, and as
there's a feature-freeze, I hope that NFS v3 is considered a bug-fix, not
a feature...
/David
  _                                                                 _ 
 // David Weinehall <tao@acc.umu.se> /> Northern lights wander      \\
//  Project MCA Linux hacker        //  Dance across the winter sky // 
\>  
http://www.acc.umu.se/~tao/
    </   Full colour fire           </ 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/