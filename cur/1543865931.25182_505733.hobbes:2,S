Date: Tue, 06 Feb 2007 12:44:41 -0500
From: Bill Davidsen <>
Subject: Re: hdparm for lib_pata
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/6/223

Robert Hancock wrote:
> Stephen Clark wrote:
>>> Only some of the hdparm functionality is supported in libata, which 
>>> is partially by design. Presently there's no way to override the DMA 
>>> settings in libata, it starts out at the fastest supported settings 
>>> and falls back if it gets too many errors of certain types.
>>>
>>> You shouldn't be seeing errors like this unless you have bad IDE 
>>> cables or are using 40-wire cables with high UDMA modes. Can you post 
>>> the output you're seeing?
>>>
>> Ok,
>>
>> But why are we taking away the users capability to control his/her own 
>> hardware. Sounds like windows.
>>
>> My $.02
>> Steve Clark
> Support for that ioctl could likely be added, but these days I don't 
> think there's much use for it. I can't see how anybody in their right 
> mind would want to disable DMA on a modern drive, and if libata turns it 
> off automatically then there's likely some serious hardware or driver 
> problem that will end up biting you some other way if you force it back on.
> 
I think deciding to turn off DMA which works fine in old kernels 
qualifies as a "serious driver problem," which is why it should be under 
user control.
-- 
Bill Davidsen <davidsen@tmr.com>
   "We have more to fear from the bungling of the incompetent than from
the machinations of the wicked."  - from Slashdot
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/