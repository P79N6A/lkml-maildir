Date: Fri, 8 Feb 2008 23:26:37 +0100
From: Ingo Molnar <>
Subject: Re: [PATCH] fix sparse warning from include/linux/mmzone.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/8/480

* Linus Torvalds <torvalds@linux-foundation.org> wrote:
> Heh, yeah. That's a very odd way to write it.
> 
> It would probably make more sense to just write it as something like
> 
> 	struct zone *base = zone->zone_pgdat->node_zones;
> 
> 	if (zone == base + ZONE_HIGHMEM ||
> 		(zone == base + ZONE_MOVABLE && zone_movable_is_highmem());
> 
> instead.
missing closing parenthesis ;-)
btw., doesnt this look even nicer?:
     if (zone == base + ZONE_HIGHMEM ||
        (zone == base + ZONE_MOVABLE && zone_movable_is_highmem()));
[ i guess it must be Friday... ;-) ]
	Ingo