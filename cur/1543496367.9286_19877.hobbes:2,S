Date: Wed, 19 May 1999 15:04:54 -0400 (EDT)
From: "Richard B. Johnson" <>
Subject: Re: 2.2.8 kernel panic during loading
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/21/63

On Tue, 18 May 1999, Stas Busygin wrote:
You are apparently using modules. Probably the correct module(s) was
not rebuilt with your new kernel.
> 2.2.8 kernel gives the following error message during loading:
> 
> ==
> Partition check:
> request_module[block-major-8]: Root fs not mounted
In /etc/conf.modules, there should be an alias to:
# Generated by modprobe -c (2.1.23)
alias block-major-8 sd_mod
                    (If you are using SCSI)
This will be worthless if initrd and RAM disk was not compiled into
the kernel because: 
       request_module[block-major-8]: Root fs not mounted
... shows that 'request module' didn't work because it found that
the root fs was not mounted, but you can't mount the root file-system
without that module! The modules necessary to mount the root file-system
have got to be in the initrd image.
With a working kernel, do:
 `mv /etc/conf.modules /etc/conf.modules.O` 
 `modprobe -c > /etc/conf.modules`
Then do `lsmod` to see what modules you must compile and install.
Otherwise your IDE drive was not compiled in or found.
If you are not using modules for your root file-system, you probably
did not use the correct 'root' in your /etc/lilo.conf file.
Here is an example:
#
#  Lilo boot-configuration script.
#
boot = /dev/sda
message = /boot/message
compact
delay = 15	# optional, for systems that boot very quickly
vga = normal	# force sane state
image = /vmlinuz
 root = current
 label = linux
image = /vmlinuz
  root  = /dev/sdc3 
  label = maint 
image = /vmlinuz
  root  = /dev/sdb1 
  label = maint-su
  append="init=/bin/bash" 
image = /vmlinuz.old
  root = current
  label = linux_old
other = /dev/sda1
  table = /dev/sda
  label = dos
Note that `current` tells lilo to use the current root file-system.
Also note that I keep the previous version (vmlinuz.old) installed so
I can reboot the ole kernel if I screwed up.
> VFS: Cannot open root device 08:03
> Kernel panic: VFS: Unable to mount root fs on 08:03
Simply can't access the device that contains the root file-system.
Not a kernel bug.
Cheers,
Dick Johnson
                 ***** FILE SYSTEM WAS MODIFIED *****
Penguin : Linux version 2.2.6 on an i686 machine (400.59 BogoMips).
Warning : It's hard to remain at the trailing edge of technology.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/