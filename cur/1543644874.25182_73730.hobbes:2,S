Date: Thu, 26 Sep 2002 09:51:12 +0100
From: "James Stevenson" <>
Subject: Re: 2.4.19: oops in ide-scsi
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/26/75

as far as i can tell if you change the code as you suggested
it may very possible screw over the ide system.
you suggested
if (status & ERR_STAT && rq)
    rq->errors++;
which still calls idescsi_end_request
which first line uses rq again which would
cause an opps again.
in idescsi_end_request first lines are.
if (rq->cmd != IDESCSI_PC_RQ) {
    ide_end_request (uptodate, hwgroup);
    return;
}
but as far as i can tell idescsi_end_request needs
to be called or the ide drive is left in an unkown state
----- Original Message -----
From: "Philippe Troin" <phil@fifi.org>
To: "James Stevenson" <james@stev.org>
Cc: <linux-kernel@vger.kernel.org>
Sent: Wednesday, September 25, 2002 11:30 PM
Subject: Re: 2.4.19: oops in ide-scsi
> James Stevenson <james@stev.org> writes:
>
> > Hi
> >
> > then i belive there are other possible problems which may by
> > just as bad
>
> Can you elaborate?
>
> Phil.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/