Date: Fri, 22 Jun 2007 13:59:10 +0100
From: David Howells <>
Subject: Re: [PATCH, RFD]: Unbreak no-mmu mmap
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/22/148

Bernd Schmidt <bernds_cb1@t-online.de> wrote:
> +					 MAP_PRIVATE | MAP_ANONYMOUS
> +					 | MAP_GROWSDOWN | MAP_SPLIT_PAGES, 0);
The OR-operator should end the first line.
> diff --git a/include/asm-blackfin/mman.h b/include/asm-blackfin/mman.h
> index 4d504f9..07057b6 100644
> --- a/include/asm-blackfin/mman.h
> +++ b/include/asm-blackfin/mman.h
> @@ -24,6 +24,7 @@
>  #define MAP_NONBLOCK	0x10000	/* do not block on IO */
>  #define MAP_UNINITIALIZE 0x4000000  /* For anonymous mmap, memory could
>                                      be uninitialized. */
> +#define MAP_SPLIT_PAGES  0x8000000  /* Conserve memory (nommu only). */
Blackfin should really use asm-generic/mman.h if it can.
I'll produce my own version of the patch and pass it back to you once I've got
FRV compiling with it.
David
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/