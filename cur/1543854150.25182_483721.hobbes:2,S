Date: Sat, 18 Nov 2006 11:20:56 +0100
From: Martin Lorenz <>
Subject: IEEE80211 and IPW3945
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/18/47

Dear James,
I just had some issues when trying to compile ieee80211 1.2.15 together with
ipw3945 1.1.2 on the latest kernel tree
attached are two patches I had to create to work around it
I guess they are self-explanatory :-)
greets
  mlo
--
Dipl.-Ing. Martin Lorenz
            They that can give up essential liberty 
	    to obtain a little temporary safety 
	    deserve neither liberty nor safety.
                                   Benjamin Franklin
please encrypt your mail to me
GnuPG key-ID: F1AAD37D
get it here:
http://blackhole.pca.dfn.de:11371/pks/lookup?op=get&search=0xF1AAD37D
ICQ UIN: 33588107
diff --git a/include/net/ieee80211.h b/include/net/ieee80211.h
index ee66681..b0d1ca3 100644
--- a/include/net/ieee80211.h
+++ b/include/net/ieee80211.h
@@ -30,8 +30,11 @@
 #include <linux/wireless.h>
 
 #define IEEE80211_VERSION_MAJOR 1
+#define IEEE80211_MAJOR_VERSION IEEE80211_VERSION_MAJOR
 #define IEEE80211_VERSION_API 2
+#define IEEE80211_API_VERSION IEEE80211_VERSION_API
 #define IEEE80211_VERSION_MINOR 15
+#define IEEE80211_MINOR_VERSION IEEE80211_VERSION_MINOR
 #define IEEE80211_VERSION_CODE IEEE80211_VERSION_MAJOR * 65536 + \
 			       IEEE80211_VERSION_API * 256 + \
 			       IEEE80211_VERSION_MINORdiff --git a/include/linux/config.h b/include/linux/config.h
new file mode 100644
index 0000000..a91f5e5
--- /dev/null
+++ b/include/linux/config.h
@@ -0,0 +1,8 @@
+#ifndef _LINUX_CONFIG_H
+#define _LINUX_CONFIG_H
+/* This file is no longer in use and kept only for backward compatibility.
+ * autoconf.h is now included via -imacros on the commandline
+ */
+#include <linux/autoconf.h>
+
+#endif