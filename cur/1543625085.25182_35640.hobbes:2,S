Date: Mon, 18 Mar 2002 15:04:09 +0100
From: "Martin Schwidefsky" <>
Subject: Re: 2.4.19-pre3 s390 ret_from_fork patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/18/85

>The 2.4.19-pre3 works just dandy as it is without this patch,
>but it is needed for O(1) scheduler. I think Martin was going
>to forward this into 2.5.x tree, where O(1) is standard.
>
>The problem is that schedule_tail() is supposed to unlock
>runqueue, but if interrupts are enabled before that happens,
>a timer tick may squeeze in and deadlock. I observed such
>situation myself.
>
>So, I would like this to be in 2.4.19 for the sake of O(1) users.
>Any objections?
No, not really. My fix for 2.5.6 simply removes the stosm because
the sysc_return will disable the interrupts soon after anyway.
blue skies,
   Martin
Linux/390 Design & Development, IBM Deutschland Entwicklung GmbH
Schönaicherstr. 220, D-71032 Böblingen, Telefon: 49 - (0)7031 - 16-2247
E-Mail: schwidefsky@de.ibm.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/