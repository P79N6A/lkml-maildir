Date: Wed, 14 Mar 2001 21:35:43 -0500
From: Pete Zaitcev <>
Subject: Re: scsi_scan problem.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/3/14/106

> Date: Wed, 14 Mar 2001 21:28:14 -0500
> From: Doug Ledford <dledford@redhat.com>
> A bug report I was charged with fixing (qla2x00 driver doesn't see all luns or
> sees multiple identical luns in different scenarios) was not a bug in the
> qla2x00 driver.  [...]
>  The bug is that we were detecting offline devices and linking
> them into the device list.
Why is this a bug? What would happen when I telnet into the
the RAID box and enable my volumes on those LUNs?
>  But, some devices (at least the Clariion raid
> chassis) report luns that don't currently have any device bound to them as
> present but offline.  This meant if we truly scanned all luns then we got
> something like 100+ devices on one ID from this chassis when only 1 might be
> valid:-(
16384 LUNs for Fibre Channel. As you see, scanning is out of the
question. You must issue REPORT LUNs and fall back on scanning
if the device reports a check condition. I did that when I worked
in Sun Storage with A5000/A3500/T3 arrays couple of years ago.
-- Pete
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/