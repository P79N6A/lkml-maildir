Date: Mon, 14 Jan 2002 13:43:09 +0100
From: Christoph Rohland <>
Subject: tmpfs accounting (was: losetuping files in tmpfs fails?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/14/95

Hi Peter,
On 5 Jan 2002, H. Peter Anvin wrote:
> P.S. On kernel.org, I was forced to hack tmpfs so that it returns a
> nonzero size for directories; otherwise "make distclean" breaks for
> older Linux kernels, and the incdiff robot that runs on kernel.org
> relies on this operation working correctly.  It would be a good
> thing if tmpfs could account for the amount of memory consumed by
> directories, etc.
I would not like to add the real size without a bigger goal (I would
not see a problem with a fake size).
On the other side I could imagine that we make the directories tmpfs
files which hold the swap vectors of the real tmpfs files of this
directory. With this we would gain swappable meta data for tmpfs and
had a real size for the directories for free.
Greetings
		Christoph
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/