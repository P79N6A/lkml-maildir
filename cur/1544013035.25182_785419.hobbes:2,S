Date: Wed, 31 Dec 2008 14:39:01 +0100
From: Sam Ravnborg <>
Subject: Re: [PATCH 01/15] ACPI: create kernel/acpi/
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/31/123

> diff --git a/kernel/acpi/Makefile b/kernel/acpi/Makefile
> new file mode 100644
> index 0000000..92a1f94
> --- /dev/null
> +++ b/kernel/acpi/Makefile
> @@ -0,0 +1,26 @@
> +#
> +# Makefile for the Linux/ACPI
> +#
> +
> +export ACPI_CFLAGS
> +
Why is ACPI_CFLAGS exported?
> +ACPI_CFLAGS	:= -Os
> +
> +ifdef CONFIG_ACPI_DEBUG
> +  ACPI_CFLAGS	+= -DACPI_DEBUG_OUTPUT
> +endif
> +
> +EXTRA_CFLAGS	+= $(ACPI_CFLAGS)
A better way:
ccflags-$(CONFIG_ACPI_DEBUG) := -DACPI_DEBUG_OUTPUT
Note: EXTRA_CFLAGS is deprecated in favour of ccflags-y.
> +export ACPI_CFLAGS
> +
> +ACPI_CFLAGS	:= -Os
> +
> +ifdef CONFIG_ACPI_DEBUG
> +  ACPI_CFLAGS	+= -DACPI_DEBUG_OUTPUT
> +endif
> +
> +EXTRA_CFLAGS	+= $(ACPI_CFLAGS)
Same construct - see above.
	Sam