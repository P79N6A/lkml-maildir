Date: Sat, 16 Jan 1999 03:00:12 -0800 (PST)
From: <>
Subject: matroxfb deadlock (and generic fbcon race?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/16/50

At 640x480x8 (I haven't tried others), if I cause alot of output (while
true; do cat /usr/src/linux/*/*.c; done) and switch consoles rapidly, I
get a deadlock after about 10 seconds.
If I do something similar (lots of output on the current console, switch to
another console) with vesafb, text intended for the previous
(heavy scrolling) console will sometimes end up on the current
console, or the cursor will be in the wrong place (I just tried this on
another box (p100 running 2.1.132ac3, s3 virge video), and got the same
result).  I think that the problem I am experiencing with vesafb is not
specific to vesafb.  2.1.109ish I had something like this happen with
sbusfb (sparc).
This is on a k6 200, 64 megs of sdram, asus tx97-xe motherboard.
http://blue.netnation.com/~nop/.config
 for my .config.
kernel: 2.2.0pre6-ac2 (which has matroxfb 1.9 1999/01/04)
gcc: pgcc-2.91.57 19980901 (egcs-1.1 release)
isa:
GUS max (using alsa)
MediaVision ProMovie Spectrum
noname 33.6 modem
pci:
00:00.0 Host bridge: Intel Corporation 430TX - 82439TX MTXC (rev 01)
00:01.0 ISA bridge: Intel Corporation 82371AB PIIX4 ISA (rev 01)
00:01.1 IDE interface: Intel Corporation 82371AB PIIX4 IDE (rev 01)
00:01.2 USB Controller: Intel Corporation 82371AB PIIX4 USB (rev 01)
00:01.3 Bridge: Intel Corporation 82371AB PIIX4 ACPI (rev 01)
00:09.0 Ethernet controller: Intel Corporation 82557 (rev 01)
00:0a.0 Ethernet controller: Intel Corporation 82557 (rev 02)
00:0b.0 VGA compatible controller: Matrox Graphics, Inc. MGA 2064W [Millennium] (rev 01)
00:0c.0 Multimedia video controller: Brooktree Corporation: Unknown device 036e (rev 02)
00:0c.1 Multimedia controller: Brooktree Corporation: Unknown device 0878 (rev 02)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/