Date: Wed, 06 Aug 2003 18:20:06 +1000
From: Lincoln Dale <>
Subject: Re: TOE brain dump
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/6/47

At 05:12 PM 6/08/2003, Andre Hedrick wrote:
>Do be sure to check that your data payload is correct.
>Everyone knows that a router/gateway/switch with a sticky bit in its
>memory will recompute the net crc16 checksum insure it pass the to the nic
>regardless.  It is amazing how much data can be corrupted by a network
>environment via all the NFS/NBD/etc wantabie storage products out there.
Andre, you are wrong.
firstly, do you REALLY think that most router(s)/switch(es) out there 
recompute IP checksums because they did a IP TTL decrement when routing an 
IP packet or NAT IP addresses?
no, they don't.  just like netfilter or router-on-linux is smart enough to 
be able to re-code an IP checksum by unmasking and re-masking the old/new 
values in a header, so does the most router vendor's code.
secondly, why would a router or switch even be touching the data at layer-4 
(TCP), let alone recalculating a CRC?
i know you really like your "we do ERL 2 in iSCSI" pitch, but lets stick to 
facts here eh?
cheers,
lincoln.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/