Date: Thu, 19 Feb 2004 10:09:42 +1100
From:  tridge@samba ...
Subject: Re: UTF-8 and case-insensitivity
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/18/303

Linus,
 > Why do you focus on linear directory scans?
Because a large number of file operations are on filenames that don't
exist. I have to *prove* they don't exist. That includes:
 * every file create. I have to prove there wasn't an existing file
   under a different case combination.
 * every rename. Again, I have to prove that the destination name
   doesn't exist.
 * every open of a non-existant name (*very* common, its what MS
   office does all the time).
 etc etc.
If I had a single function that could quickly tell me that a file does
not exist in any case combination then I would be much better off.
 > They simply do not happen under any reasonable IO patterns. You look up 
 > names under the same name that they are on the disk. So the _only_ thing 
 > that should matter is the exact match.
nope, see above. The most common pattern of accesses involves doing a
full directory scan on every access.
 > Sure, I can imaging that MS would make some benchmark to show that case, 
 > but at that point I just don't care. 
It's not just "some benchmark". It's the normal use case.
Cheers, Tridge
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/