Date: Thu, 11 Jan 2001 11:36:06 +0100 (CET)
From: Ingo Molnar <>
Subject: [patch] highmem-2.4.0-A0 (was: Re: 2.4.0-ac6: mm/vmalloc.c compile error)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/11/75

On Thu, 11 Jan 2001, Frank Davis wrote:
> Hello,
>   The following error occurred while compiling 2.4.0-ac6. [...]
> vmalloc.c: In function `get_vm_area':
> vmalloc.c:188: `PKMAP_BASE' undeclared (first use in this function)
you are compiling with HIGHMEM enabled (which makes sense only if you have
more than ~900MB RAM), and i accidentally broke HIGHMEM with the vmalloc
fix in -pre1/-ac5. The attached patch fixes it.
	Ingo
--- linux/include/linux/vmalloc.h.orig	Thu Jan 11 11:28:06 2001
+++ linux/include/linux/vmalloc.h	Thu Jan 11 11:28:33 2001
@@ -4,6 +4,7 @@
 #include <linux/sched.h>
 #include <linux/mm.h>
 #include <linux/spinlock.h>
+#include <linux/highmem.h>
 
 #include <asm/pgtable.h>
 