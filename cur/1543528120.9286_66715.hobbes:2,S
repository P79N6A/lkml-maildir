Date: Wed, 1 Mar 2000 11:34:46 +0100 (MET)
From: Richard Guenther <>
Subject: Re: [PATCH,BETA] new pipe code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/1/60

On Tue, 29 Feb 2000, Manfred Spraul wrote:
> I've rewritten the pipe code:
> the old code caused lots of reschedules under certain loads. The new
> code is not yet fully tested (esp. O_NONBLOCK is untested), but I'm
> really interested what you think about it.
> 
> I've described the new locking in <linux/pipe_fs_i.h>.
Can you add a hook to tune the write buffer size per pipe? (with an fcntl
or the like) It would be really useful to me to allow write-throttling
without hacks like I do now (writing 64 times garbage for each written
datum - I'm passing just pointers between threads in a FIFO manner, each
pointer has lots of storage attached to it, so write throttling is
essential to allow thread switching every few megs of data).
Or do you know another way to throttle writes to a pipe?
Richard.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/