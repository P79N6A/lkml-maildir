Date: Thu, 08 Dec 2005 14:55:27 +0000
From: Alan Cox <>
Subject: Re: RFC: ACPI/scsi/libata integration and hotswap
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/8/113

On Iau, 2005-12-08 at 14:52 +0000, Matthew Garrett wrote:
> On Thu, Dec 08, 2005 at 02:33:53PM +0000, Alan Cox wrote:
> 
> > I would say your code belongs in the ACPI subtree. At most the core code
> > wants to have the generic supporting functions for 'do a taskfile' and
> > if need be to call an arch/platform resume function that any pm system
> > can sensibly use.
> 
> How about the hotplug notification events?
Again you want this to be generic. Its not nice to throw the scsi layer
an 'ACPI hotplug'. Instead it wants to receive a generic notification
that could also be generated by other events (eg ISAPnP or platform
specific drivers or from an IRQ handler etc). There is going to be more
than ACPI here and things like PDAs that spot hotplug via an io port
register need to work just as sanely.
So you'd want
	ACPI hotplug event
	Parse into generic form
	Callback in terms of device, channel, unit, event type not ACPI
> > SCSI should not know detail about ACPI, APM or anything of that nature.
> 
> Hrm. I guess this can be implemented pretty much just by cutting and 
> pasting the code into drivers/acpi rather than drivers/scsi. Would that 
> be considered an improvement?
Yep
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/