Date: Mon, 01 Dec 2003 11:09:02 +1100
From: Benjamin Herrenschmidt <>
Subject: Re: FYI: My current suspend bigdiff
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/30/166

> As you suspect, you want only one of the fixes.
> 
> I would probably prefer Pavel's patch over mine, as he knows the suspend 
> subsystem better than me :)
Actually, you want more than that...
You want something similar to what I did for IDE, that is pipe the
suspend/resume requests down the request queue & block the queue,
though with additional crap to deal with the libata probe thread
and the scsi error mgmnt.
I didn't yet have time for it, but basically, what is needed is
to make a scsi version of the suspend/resume code that is in the
IDE code, and then hook that on sd, sg, etc...
Then, libata would have to get in the loop as HW driver, and also
by properly translating the flush cache / standby requests
Ben.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/