Date: Fri, 26 Aug 2005 15:45:10 +0200
From: Jens Axboe <>
Subject: Re: [PATCH] move tasklist walk from cfq-iosched to elevator.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/26/59

On Fri, Aug 26 2005, Christoph Hellwig wrote:
> We're trying to get rid of as much as possible tasklist walks, or at
> least moving them to core code.  This patch falls into the second
> category.
> 
> Instead of walking the tasklist in cfq-iosched move that into
> elv_unregister.  The added benefit is that with this change the as
> ioscheduler might be might unloadable more easily aswell.
> 
> The new code uses read_lock instead of read_lock_irq because the
> tasklist_lock only needs irq disabling for writers.
Looks innocent enough, fine with me. 'as' will need additional work to
be unloadable, but it wont break anything since it's running with an
elevated module count right now anyways.
-- 
Jens Axboe
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/