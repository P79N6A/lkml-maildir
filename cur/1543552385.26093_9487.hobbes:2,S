Date: Tue, 24 Oct 2000 00:12:29 -0200
From: Cristofer Velloso <>
Subject: Netscape mail sometimes frezze when i read mail stored in a vfat  partition
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/23/146

Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
[1.] One line summary of the problem:
Netscape mail sometimes frezze when i read mail stored in a vfat
partition
[2.] Full description of the problem/report:
When it happen the dmesg show as a kernel bug, and netscape got Z state:
  213 tty1     Z      0:00 [netscape <defunct>]
I use netscape with nsmail linked with a Maildir of windows version of
netscape to use the same folders for linux and windows. It happen with
kernel-2.4.0test8 .. and i upgrade to test9 because i see some updates
and
file.c but in ext2 fs not in vfat fs ...
[3.] Keywords (i.e., modules, networking, kernel):
 vfat,netscape,file.c
[4.] Kernel version (from /proc/version):
Linux version 2.4.0-test9 (root@soft) (gcc version egcs-2.91.66
19990314/Linux (egcs-1.1.2 release)) #1 sex out 20 12:23:54 BRST 2000
[5.] Output of Oops.. message (if applicable) with symbolic information
     resolved (see Documentation/oops-tracing.txt)
kernel BUG at file.c:79!
invalid operand: 0000
CPU:    0
EIP:    0010:[<c015f933>]
EFLAGS: 00013296
eax: 00000019   ebx: 00000000   ecx: c3e793e0   edx: 00000005
esi: 00000020   edi: c170d800   ebp: c0e882c0   esp: c2d89e54
ds: 0018   es: 0018   ss: 0018
Process netscape (pid: 198, stackpage=c2d89000)
Stack: c0294645 c02947c7 0000004f c015f868 00000200 00000004 c2d89eb8
00000010 
       c0131f16 c170d800 00000020 c0e882c0 00000001 c103e1c4 00000000
00000004 
       00001000 00000000 c0e52ea0 c2d89eb8 c0e882c0 c0e9d000 00000200
00000020 
Call Trace: [<c0294645>] [<c02947c7>] [<c015f868>] [<c0131f16>]
[<c0129e05>]
[<c01324d1>] [<c015f868>] 
       [<c012b600>] [<c0161214>] [<c015f868>] [<c0126fff>] [<c015f99a>]
[<c015f978>] [<c012fc95>] [<c010a4d3>] 
Code: 0f 0b 83 c4 0c 66 8b 47 20 66 89 45 0c 89 5d 04 80 4d 18 30 
[6.] A small shell script or example program which triggers the
     problem (if possible)
    Netscape 4.75
[7.] Environment
[7.1.] Software (add the output of the ver_linux script here)
Distribution: Slackware 7.1 
Netscape 4.75
Linux soft 2.4.0-test9 #1 sex out 20 12:23:54 BRST 2000 i586 unknown
Kernel modules         2.3.13
Gnu C                  egcs-2.91.66
Gnu Make               3.79
Binutils               2.9.1.0.25
Linux C Library        2.1.3
Dynamic linker         ldd: version 1.9.9
Procps                 2.0.6
Mount                  2.10l
Net-tools              1.55
Kbd                    0.99
Sh-utils               2.0
Modules Loaded         
[7.2.] Processor information (from /proc/cpuinfo):
processor       : 0
vendor_id       : AuthenticAMD
cpu family      : 5
model           : 8
model name      : AMD-K6(tm) 3D processor
stepping        : 0
cpu MHz         : 300.000689
cache size      : 64 KB
fdiv_bug        : no
hlt_bug         : no
sep_bug         : no
f00f_bug        : no
coma_bug        : no
fpu             : yes
fpu_exception   : yes
cpuid level     : 1
wp              : yes
flags           : fpu vme de pse tsc msr mce cx8 sep mmx 3dnow
bogomips        : 599.65
[7.3.] Module information (from /proc/modules):
lp                      5308   2 (autoclean)
[7.4.] Loaded driver and hardware information (/proc/ioports,
/proc/iomem)
/proc/ioports 
0000-001f : dma1
0020-003f : pic1
0040-005f : timer
0060-006f : keyboard
0080-008f : dma page reg
00a0-00bf : pic2
00c0-00df : dma2
00f0-00ff : fpu
0170-0177 : ide1
01f0-01f7 : ide0
0213-0213 : isapnp read
0220-022f : soundblaster
02f8-02ff : serial(auto)
0330-0333 : MPU-401 UART
0376-0376 : ide1
03bc-03be : parport0
03c0-03df : vga+
03f6-03f6 : ide0
03f8-03ff : serial(auto)
0620-0623 : sound driver (AWE32)
0a20-0a23 : sound driver (AWE32)
0a79-0a79 : isapnp write
0cf8-0cff : PCI conf1
0e20-0e23 : sound driver (AWE32)
5c20-5c3f : Acer Laboratories Inc. [ALi] M7101 PMU
b400-b40f : Acer Laboratories Inc. [ALi] M5229 IDE
  b400-b407 : ide0
  b408-b40f : ide1
b800-b81f : Realtek Semiconductor Co., Ltd. RTL-8029(AS)
  b800-b81f : NE2000
d000-dfff : PCI Bus #01
  d800-d8ff : 3Dfx Interactive, Inc. Voodoo Banshee
/proc/iomem
00000000-0009ffff : System RAM
000a0000-000bffff : Video RAM area
000c0000-000c7fff : Video ROM
000f0000-000fffff : System ROM
00100000-07ffbfff : System RAM
  00100000-002f195f : Kernel code
  002f1960-0031aae3 : Kernel data
07ffc000-07ffefff : ACPI Tables
07fff000-07ffffff : ACPI Non-volatile Storage
de000000-dfffffff : PCI Bus #01
  de000000-dfffffff : 3Dfx Interactive, Inc. Voodoo Banshee
e0000000-e3ffffff : Acer Laboratories Inc. [ALi] M1541
e5f00000-e7ffffff : PCI Bus #01
  e6000000-e7ffffff : 3Dfx Interactive, Inc. Voodoo Banshee
ffff0000-ffffffff : reserved
[7.5.] PCI information ('lspci -vvv' as root)
00:00.0 Host bridge: Acer Laboratories Inc. [ALi] M1541 (rev 04)
        Subsystem: Acer Laboratories Inc. [ALi] ALI M1541 Aladdin V/V+
AGP System Controller
        Control: I/O- Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop-
ParErr- Stepping- SERR- FastB2B-
        Status: Cap+ 66Mhz- UDF- FastB2B- ParErr- DEVSEL=slow >TAbort-
<TAbort- <MAbort+ >SERR- <PERR-
        Latency: 64
        Region 0: Memory at e0000000 (32-bit, non-prefetchable)
[size=64M]
        Capabilities: [b0] AGP version 1.0
                Status: RQ=28 SBA+ 64bit- FW- Rate=x1,x2
                Command: RQ=0 SBA- AGP- 64bit- FW- Rate=<none>
        Capabilities: [e0] #00 [0000]
00:01.0 PCI bridge: Acer Laboratories Inc. [ALi] M5243 (rev 04) (prog-if
00 [Normal decode])
        Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop-
ParErr- Stepping- SERR- FastB2B-
        Status: Cap- 66Mhz- UDF- FastB2B- ParErr- DEVSEL=slow >TAbort-
<TAbort- <MAbort- >SERR- <PERR-
        Latency: 64
        Bus: primary=00, secondary=01, subordinate=01, sec-latency=64
        I/O behind bridge: 0000d000-0000dfff
        Memory behind bridge: de000000-dfffffff
        Prefetchable memory behind bridge: e5f00000-e7ffffff
        BridgeCtl: Parity- SERR- NoISA- VGA+ MAbort- >Reset- FastB2B-
00:03.0 Bridge: Acer Laboratories Inc. [ALi] M7101 PMU
        Subsystem: Acer Laboratories Inc. [ALi] ALI M7101 Power
Management Controller
        Control: I/O+ Mem- BusMaster- SpecCycle- MemWINV- VGASnoop-
ParErr- Stepping- SERR- FastB2B-
        Status: Cap- 66Mhz- UDF- FastB2B+ ParErr- DEVSEL=medium >TAbort-
<TAbort- <MAbort- >SERR- <PERR-
00:07.0 ISA bridge: Acer Laboratories Inc. [ALi] M1533 PCI to ISA Bridge
[Aladdin IV] (rev c3)
        Control: I/O+ Mem+ BusMaster+ SpecCycle+ MemWINV- VGASnoop-
ParErr- Stepping- SERR- FastB2B-
        Status: Cap- 66Mhz- UDF- FastB2B- ParErr- DEVSEL=medium >TAbort-
<TAbort+ <MAbort+ >SERR- <PERR-
        Latency: 0
00:0b.0 Ethernet controller: Realtek Semiconductor Co., Ltd.
RTL-8029(AS)
        Subsystem: Realtek Semiconductor Co., Ltd. RT8029(AS)
        Control: I/O+ Mem+ BusMaster- SpecCycle- MemWINV- VGASnoop-
ParErr- Stepping- SERR- FastB2B-
        Status: Cap- 66Mhz- UDF- FastB2B- ParErr- DEVSEL=medium >TAbort-
<TAbort- <MAbort- >SERR- <PERR-
        Interrupt: pin A routed to IRQ 9
        Region 0: I/O ports at b800 [size=32]
00:0f.0 IDE interface: Acer Laboratories Inc. [ALi] M5229 IDE (rev c1)
(prog-if fa)
        Control: I/O+ Mem- BusMaster+ SpecCycle- MemWINV- VGASnoop-
ParErr- Stepping- SERR- FastB2B-
        Status: Cap- 66Mhz- UDF- FastB2B+ ParErr- DEVSEL=medium >TAbort-
<TAbort- <MAbort- >SERR- <PERR-
        Latency: 32 (500ns min, 1000ns max)
        Interrupt: pin A routed to IRQ 0
        Region 4: I/O ports at b400 [size=16]
01:00.0 VGA compatible controller: 3Dfx Interactive, Inc. Voodoo Banshee
(rev 03) (prog-if 00 [VGA])
        Subsystem: Diamond Multimedia Systems Monster Fusion AGP
        Control: I/O+ Mem+ BusMaster- SpecCycle- MemWINV- VGASnoop-
ParErr- Stepping- SERR- FastB2B-
        Status: Cap+ 66Mhz+ UDF- FastB2B+ ParErr- DEVSEL=fast >TAbort-
<TAbort- <MAbort- >SERR- <PERR-
        Interrupt: pin A routed to IRQ 0
        Region 0: Memory at de000000 (32-bit, non-prefetchable)
[size=32M]
        Region 1: Memory at e6000000 (32-bit, prefetchable) [size=32M]
        Region 2: I/O ports at d800 [size=256]
        Expansion ROM at e5ff0000 [disabled] [size=64K]
        Capabilities: [54] AGP version 1.0
                Status: RQ=7 SBA+ 64bit+ FW- Rate=x1
                Command: RQ=0 SBA- AGP- 64bit- FW- Rate=<none>
        Capabilities: [60] Power Management version 1
                Flags: PMEClk- DSI+ D1- D2- AuxCurrent=0mA
PME(D0-,D1-,D2-,D3hot-,D3cold-)
                Status: D0 PME-Enable- DSel=0 DScale=0 PME-
[7.6.] SCSI information (from /proc/scsi/scsi)
Attached devices: 
Host: scsi0 Channel: 00 Id: 00 Lun: 00
  Vendor: HP       Model: CD-Writer+ 8200  Rev: 1.0f
  Type:   CD-ROM                           ANSI SCSI revision: 02
Host: scsi0 Channel: 00 Id: 01 Lun: 00
  Vendor:          Model: ATAPI CDROM      Rev: 220C
  Type:   CD-ROM                           ANSI SCSI revision: 02
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/