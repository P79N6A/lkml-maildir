Date: Thu, 7 Aug 2003 20:34:40 +0100 (BST)
From:  Mitch@0Bits ...
Subject: Re: Linux 2.4.22-pre10-ac1 DRI doesn't work with
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/7/266

Yep, Marcelo is right. I meant to imply that the new DRM module
from X cvs or 
http://dri.sourceforge.net/downloads.phtml
 needs
a recompile for the new vmap changes and that was the one that
i use and was working fine - i.e i couldn't reproduce the problem
reported. I didn't mean (or want to imply) that the vmap changes
could/should break the old kernel module. Irrespective i did think
the kernel drm tree needed updating.
Mitch
-------- Original Message --------
Subject: Re: Linux 2.4.22-pre10-ac1 DRI doesn't work with
Date: Thu, 7 Aug 2003 16:26:24 +0200
From: Christoph Hellwig <hch@lst.de>
To: Marcelo Tosatti <marcelo@conectiva.com.br>
CC: Alan Cox <alan@lxorguk.ukuu.org.uk>, Mitch@0Bits.COM,   Erik Andersen <andersen@codepoet.org>,   Linux Kernel Mailing List <linux-kernel@vger.kernel.org>
References: <1060256649.3169.20.camel@dhcp22.swansea.linux.org.uk>
<Pine.LNX.4.44.0308071023040.6818-200000@logos.cnet>
> I dont understand how the vmap change can break DRM.
>
> The vmap patch only changes internal mm/vmalloc.c code (vmalloc() call
> acts exactly the same way as before AFAICS).
>
> Anyway, Mitch (or Erik who's seeing the problem), can please revert the
> vmap() change to check if its causing the mentioned problem?
vmap() doesn't break DRM.  The external drm code just detects that
vmap is present and then uses the new interface, but this new code
also expects a new exported symbol.
The DRM code in your tree is completly unaffected.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/