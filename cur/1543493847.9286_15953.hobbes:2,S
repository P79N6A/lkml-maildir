Date: Mon, 26 Apr 1999 08:50:29 +0200 (CEST)
From: Jakub Jelinek <>
Subject: Re: bad lmbench numbers for mmap
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/26/12

> So do you want me to change it to do reads instead?
> 
> Another thing I could do is to factor out the cost of mmap by running two
> experiments:
> 
> 	a) repeatedly read a region which is already mapped
> 
> 	b) repeatedly mmap & read & unmap.
> 
> In theory, b - a == mmap+munmap cost.  However, if the munmap causes the
> caches to get flushed, or if the new mapping is somewhere else, then cache
> misses start skewing the results.
While you're at it, could you please change the lmbench script to put the
real version number into the results file and possibly refuse to make a
summary from different versions?
Current lmbench script even in 2alpha11 prints out 1.1, that's why I told
Linus my lat_mmap result from 2.1.103 is probably output from older lmbench,
but probably it is not (I'll have to find hardware which will allow me to
run 2.1.103 to test it again). I think this is important especially when the
tests change so much during the time.
Cheers,
    Jakub
___________________________________________________________________
Jakub Jelinek | jj@sunsite.mff.cuni.cz | 
http://sunsite.mff.cuni.cz
Administrator of SunSITE Czech Republic, MFF, Charles University
___________________________________________________________________
UltraLinux  |  
http://ultra.linux.cz/
  |  
http://ultra.penguin.cz/
Linux version 2.2.5 on a sparc64 machine (3958.37 BogoMips)
___________________________________________________________________
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/