Date: Fri, 30 Aug 2002 19:16:27 +0200 (CEST)
From: Ingo Molnar <>
Subject: Re: [patch] scheduler fixes, 2.5.32-BK
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/30/100

we used to have the global semaphore_lock - which, if used separately from
the waitqueue lock, indeed can cause the unuse of the semaphore structure
before the spin_unlock in wakeup() completes.
but since 2.5.25 or so we use the semaphore waitqueue's spinlock for
semaphore locking - this also neatly solves the semaphore-unuse problem.  
Four architectures, sparc, ia64, arm and x86-64 still use the global
semaphore_lock, but the other 13 architectures use the waitqueue spinlock
already.
(unless there's something else i missed.)
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/