Date: Mon, 20 Mar 2006 15:46:22 +1100
From: Neil Brown <>
Subject: Re: Who uses the 'nodev' flag in /proc/filesystems ???
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/19/149

On Sunday March 19, jengelh@linux01.gwdg.de wrote:
> >
> >Hence the question in the subject:
> >
> >  Who uses the 'nodev' flag in /proc/filesystems?
> >
> >Are there any known users of this flag?
> >
> 
> pam_mount. If a specific filesystem is nodev, --bind or --move, fsck is 
> skipped. If you want to change /proc/filesystems, you can do so as long as 
> you provide an alternative ;) Does not need to be stable, as 
> /proc/filesystems is only used when a volume is initially mounted in 
> pam_mount.
Pam_mount .. (google...) you learn something new every day, don't you!
That sounds like a reasonable usage of 'nodev', though testing for
/sbin/fsck.$FSTYPE might do as well...
I guess in my case I could live without the auto-fsck, and as there
isn't necessarily just one device to take part in the fsck, it might
be awkward anyway.
Thanks.
I wonder if there are any others....
NeilBrown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/