Date: Sun, 12 May 2002 15:47:05 +0200
From: Sebastian Droege <>
Subject: [2.5.15] NULL pointer derefernce when mouting CD via ide-scsi
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/12/72

Hi,
I get the following oops everytime I try to mount a CD, but I can burn CDs or play audio cds with the same kernel.
ide-cd works fine, too...
Full dmesg output including oops attached...
Bye
Unable to handle kernel NULL pointer dereference at virtual address 000000a0
c01e7aab
*pde = 00000000
Oops: 0000
CPU:    0
EIP:    0010:[<c01e7aab>]    Not tainted
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010296
eax: c136bf60   ebx: c13db000   ecx: c136bf60   edx: 00000000
esi: 0000f008   edi: c136bf60   ebp: 00000008   esp: cd91bb78
ds: 0018   es: 0018   ss: 0018
Stack: c13db000 0000f008 c136bf60 00000008 c136bf60 00000003 cd91a000 00000297 
       00000000 cff4f2c0 00000086 c01f3d8b 00000000 c136bf60 c13db000 c13dc000 
       0000f008 c039c478 00000008 cff40ec0 00000000 c01f40a4 c039c36c c136bf60 
Call Trace: [<c01f3d8b>] [<c01f40a4>] [<c01fdbcc>] [<c01f42f9>] [<c01f45e9>] 
   [<c01fde2d>] [<c01fe8bb>] [<c01eefaa>] [<c01e72a6>] [<c01ef378>] [<c01efa88>] 
   [<c01fe7a2>] [<c01f66fb>] [<c01f6a80>] [<c01fc78c>] [<c01e8063>] [<c0118a72>] 
   [<c01366ed>] [<c0137216>] [<d0a61ca9>] [<c019016d>] [<c013b000>] [<c013a901>] 
   [<d0a66480>] [<d0a66480>] [<c01208e5>] [<d0a62f17>] [<d0a66480>] [<d0a61afc>] 
   [<c013ae42>] [<d0a66480>] [<c014d989>] [<c014dcd2>] [<c014daa4>] [<c014e154>] 
   [<c0106eff>] 
Code: 8b 8a a0 00 00 00 83 e1 02 89 4c 24 18 c7 44 24 28 00 00 00 
>>EIP; c01e7aab <blk_rq_map_sg+17/160>   <=====
>>eax; c136bf60 <_end+fc8a64/1054cb04>
>>ebx; c13db000 <_end+1037b04/1054cb04>
>>ecx; c136bf60 <_end+fc8a64/1054cb04>
>>esi; 0000f008 Before first symbol
>>edi; c136bf60 <_end+fc8a64/1054cb04>
>>esp; cd91bb78 <_end+d57867c/1054cb04>
Trace; c01f3d8b <build_sglist+10b/1c4>
Trace; c01f40a4 <udma_new_table+24/150>
Trace; c01fdbcc <idescsi_pc_intr+0/1f0>
Trace; c01f42f9 <ata_do_udma+31/134>
Trace; c01f45e9 <udma_read+31/38>
Trace; c01fde2d <idescsi_issue_pc+71/208>
Trace; c01fe8bb <idescsi_do_request+1b/3c>
Trace; c01eefaa <start_request+2d6/35c>
Trace; c01e72a6 <__elv_next_request+a/10>
Trace; c01ef378 <queue_commands+14c/1ac>
Trace; c01efa88 <ide_do_drive_cmd+138/1a0>
Trace; c01fe7a2 <idescsi_queue+596/5e4>
Trace; c01f66fb <scsi_dispatch_cmd+103/1b8>
Trace; c01f6a80 <scsi_done+0/b0>
Trace; c01fc78c <scsi_request_fn+54c/568>
Trace; c01e8063 <generic_unplug_device+2b/4c>
Trace; c0118a72 <__run_task_queue+6a/78>
Trace; c01366ed <__wait_on_buffer+69/a0>
Trace; c0137216 <__bread+aa/c8>
Trace; d0a61ca9 <END_OF_CODE+163eaa/????>
Trace; c019016d <flush_commit_list+c5/488>
Trace; c013b000 <.text.lock.super+147/187>
Trace; c013a901 <get_sb_bdev+20d/270>
Trace; d0a66480 <END_OF_CODE+168681/????>
Trace; d0a66480 <END_OF_CODE+168681/????>
Trace; c01208e5 <request_module+155/214>
Trace; d0a62f17 <END_OF_CODE+165118/????>
Trace; d0a66480 <END_OF_CODE+168681/????>
Trace; d0a61afc <END_OF_CODE+163cfd/????>
Trace; c013ae42 <do_kern_mount+4a/c1>
Trace; d0a66480 <END_OF_CODE+168681/????>
Trace; c014d989 <do_add_mount+69/138>
Trace; c014dcd2 <do_mount+1de/1f8>
Trace; c014daa4 <copy_mount_options+4c/9c>
Trace; c014e154 <sys_mount+a4/110>
Trace; c0106eff <syscall_call+7/b>
Code;  c01e7aab <blk_rq_map_sg+17/160>
00000000 <_EIP>:
Code;  c01e7aab <blk_rq_map_sg+17/160>   <=====
   0:   8b 8a a0 00 00 00         mov    0xa0(%edx),%ecx   <=====
Code;  c01e7ab1 <blk_rq_map_sg+1d/160>
   6:   83 e1 02                  and    $0x2,%ecx
Code;  c01e7ab4 <blk_rq_map_sg+20/160>
   9:   89 4c 24 18               mov    %ecx,0x18(%esp,1)
Code;  c01e7ab8 <blk_rq_map_sg+24/160>
   d:   c7 44 24 28 00 00 00      movl   $0x0,0x28(%esp,1)
Code;  c01e7abf <blk_rq_map_sg+2b/160>
  14:   00 
[unhandled content-type:application/octet-stream][unhandled content-type:application/pgp-signature]