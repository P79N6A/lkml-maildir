Date: Sun, 9 Jan 2000 18:55:25 -0500
From: Jens Axboe <>
Subject: Re: 2.3.38 - Scsi
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/9/62

On Sun, Jan 09 2000, James wrote:
> I can't get the scsi stuff to compile. I've got an AIC7xxx compatible
> card, and during compliation, fairly near the end i get this:
> 
> drivers/scsi/scsi.a(scsi_merge.o): In function `scsi_init_io_v':
> scsi_merge.o(.text+0x937): undefined reference to `dump_stats'
Apply this or enable SCSI debug queues.
-- 
*  Jens Axboe <axboe@image.dk>
*  Linux CD-ROM Maintainer
*  
http://www.kernel.dk
--- drivers/scsi/scsi_merge.c~	Sat Jan  8 13:36:54 2000
+++ drivers/scsi/scsi_merge.c	Sat Jan  8 13:37:15 2000
@@ -790,7 +790,9 @@
 	 */
 	if (count != SCpnt->use_sg) {
 		printk("Incorrect number of segments after building list\n");
+#ifdef CONFIG_SCSI_DEBUG_QUEUES
 		dump_stats(req, use_clustering, dma_host, count);
+#endif
 	}
 	if (!dma_host) {
 		return 1;