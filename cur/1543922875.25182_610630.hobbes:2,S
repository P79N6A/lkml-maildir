Date: Fri, 26 Oct 2007 12:25:58 -0600 (CST)
From: Joseph Parmelee <>
Subject: Re: Old version of lilo fails to boot 2.6.23
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/26/376

On Thu, 25 Oct 2007, H. Peter Anvin wrote:
> H. Peter Anvin wrote:
>> [Ancient LILO boot problem]
>> 
>> Joseph, could you try this patch on your ancient-LILO setup?
>> 
>
> Actually, please try this one instead.
>
> 	-hpa
>
This patch will work in my particular case, though it appears to violate the
rules about getting too close to the EBDA (SP=0xB000 on entry).
The boot loader is responsible for loading the kernel loader at a suitable
location in low memory, but I don't understand why the boot loader should be
involved in setting the stack at all.  If we explicitly allocate the stack
as part of the .data segment, why not just play it safe and in all cases
fully set up the stack in header.S?  This insures that the stack pointer is
not zero, is as low as possible to stay out of the EBDA, and that ss=ds;
quite irrespective of what the boot loader does.
What am I missing?
Regards,
Joseph
Please CC me directly as I am no longer subscribed to the list.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/