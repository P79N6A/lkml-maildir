Date: Sun, 03 Feb 2008 15:31:38 +0800
From: Li Zefan <>
Subject: Re: [PATCH] x86: fix compile waring building without CONFIG_SYSCTL
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/3/40

Ingo Molnar wrote:
> * Li Zefan <lizf@cn.fujitsu.com> wrote:
> 
>> +#ifdef CONFIG_SYSCTL
>>  static int unknown_nmi_panic_callback(struct pt_regs *regs, int cpu);
>> +#endif
> 
> instead of adding another #ifdef, a much cleaner solution would be to 
> just reorder do_nmi_callback() with unknown_nmi_panic_callback(), and 
> eliminate the prototype altogether.
> 
> 	Ingo
> 
I was wondering if a smaller patch will be better. But no doult cleaner
code is better. :)