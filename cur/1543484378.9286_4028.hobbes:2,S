Date: Thu, 4 Feb 1999 20:53:52 +0300 (MSK)
From:  kuznet@ms2 ...
Subject: Re: Problems with 2.2.x IP routing etc.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/4/125

Hello!
> No, but "ip route replace" does a create or change which works when,
> for instance, a different window is specified. I was just hoping
> that the metric on an existing route could be changed as easily :-(.
Operation "replace" is completely orthogonal not only to metric,
but to old Linux routing table structure. It is borrowed from 4.4BSD
to make gated and another routing daemons happy.
In 4.4BSD there is no place for metric, it can have single
route to given destination/mask. Particualrly, it means that
using metric and multiple routes to one destination is impossible
with dynamic routing with existing software. There are very good reason
to it --- space. Kernel needs only active route, and passive ones
must be stored in some another place.
Seems, you have already undestood difference between KEY and ATTRIBUTE.
Key affects position in routing table and, hence, lookup order.
Attributes are attached to a key, identified by this key,
and may be changed by "replace". If metric is key, then we cannot change it,
if it is attribute, than it cannot affect location in routing table
(and, hence, completely useless)
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/