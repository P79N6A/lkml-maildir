Date: Thu, 22 Sep 2005 22:59:45 +0200
From: Dominik Brodowski <>
Subject: Re: [Fwd: sched_clock() has poor resolution]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/22/276

Hi,
On Thu, Sep 22, 2005 at 09:28:49AM +0200, Pierre Ossman wrote:
>  * Let sched_clock() follow the time source. Don't have it coupled to
> the TSC.
> 
>  * Init the TSC even though it isn't used for anything but sched_clock().
As pmtmr requires somewhat working TSCs, you can even use TSC if pmtmr is
used as a time source:
static int init_pmtmr(char* override)
...
        /* we use the TSC for delay_pmtmr, so make sure it exists */
        if (!cpu_has_tsc)
                return -ENODEV;
...
So at least for this case, sched_clock() can and should use TSC, not
jiffies, AFAICS.
Thanks,
	Dominik
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/