Date: Mon, 8 Jan 2007 14:45:33 -0800
From: Andrew Morton <>
Subject: Re: [PATCH] Change cpu_up and co from __devinit to __cpuinit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/1/8/292

On Sat,  6 Jan 2007 09:39:07 -0500
Gautham R Shenoy <ego@in.ibm.com> wrote:
> Compiling the kernel with CONFIG_HOTPLUG = y and CONFIG_HOTPLUG_CPU = n
> with CONFIG_RELOCATABLE = y generates the following modpost warnings
> 
> WARNING: vmlinux - Section mismatch: reference to .init.data: from
> .text between '_cpu_up' (at offset 0xc0141b7d) and 'cpu_up'
> WARNING: vmlinux - Section mismatch: reference to .init.data: from
> .text between '_cpu_up' (at offset 0xc0141b9c) and 'cpu_up'
> WARNING: vmlinux - Section mismatch: reference to .init.text:__cpu_up
> from .text between '_cpu_up' (at offset 0xc0141bd8) and 'cpu_up'
> WARNING: vmlinux - Section mismatch: reference to .init.data: from
> .text between '_cpu_up' (at offset 0xc0141c05) and 'cpu_up'
> WARNING: vmlinux - Section mismatch: reference to .init.data: from
> .text between '_cpu_up' (at offset 0xc0141c26) and 'cpu_up'
> WARNING: vmlinux - Section mismatch: reference to .init.data: from
> .text between '_cpu_up' (at offset 0xc0141c37) and 'cpu_up'
I suppose we should treat this as a 2.6.20 bugfix.
> --- linux-2.6.20-rc3.orig/kernel/cpu.c
> +++ linux-2.6.20-rc3/kernel/cpu.c
> @@ -210,7 +210,7 @@ int cpu_down(unsigned int cpu)
>    #endif /*CONFIG_HOTPLUG_CPU*/
> 
>    /* Requires cpu_add_remove_lock to be held */
> -static int __devinit _cpu_up(unsigned int cpu)
> +static int __cpuinit _cpu_up(unsigned int cpu)
>    {
Well that's new.  space-stuffed emails are common enough, but you've worked
out how to do space-double-stuffing.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/