Date: Tue, 31 Aug 1999 11:53:51 -0700
From: Dean Martin Townsley <>
Subject: Re: fdomain + CD-ROM acess -> kernel panic : VIA Chipset problem?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/31/85

On Sat, 28 Aug 1999, Dean Martin Townsley spewed into the bitstream:
> I am using
> Linux version 2.2.12 (gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2
> release))
> on an RH 6.0 system (this has also occured with 2.2.10 and 2.2.11) with a
> AHA2920 (fdomain) scsi adaptor, a VIA motherboard, AMD K6-3D, and an Acer
> CRW-6206A cd-r/w drive.
> 
> I can panic the system by copying a few tens of Megs of files from the CD
> drive (through ide-cd) to the scsi disk.  The system panics after the
> message:
> kernel: scsi : aborting command due to timeout : pid 2 114, scsi0, channel 0, id 6, lun 0 Write (6) 13 6a 12 80 00
Well, I was able to get it to not panic last night.  If I move the CD from
Secondary Master to Primary Slave where the Primary Master is a 240 MB IDE
drive,  I can keep it from panicing by accessing the IDE drive at
strategic times.  I start the copy, the CD light starts blinking, I wait for
the light to stop blinking, then I do an "ls -l" on a big directory on the
IDE drive that hasn't been accessed yet.  It hesitates for a half a second
then I can hear the drive access and the CD starts blinking again and it goes
on.  This is the FIRST time I have been able to successfully copy this set of
44 Meg of test files across.  I was subsequently able to copy anoher 30 Meg
set and then unmount/remount the cd and copy the 44 Meg set again, all
without having to access the IDE drive.
So with this now I'm wondering if this is a IDE problem that is triggering
the timeout in the fdomain driver, and not a problem with the fdomain.  I'm
no expert so I could be totally off base.  This is a VIA  VA-503+
motherboard, which has been being discussed in another thread here I think.
I hope those guys notice this message.  Any ideas would be appreciated I've
tried fiddling with many of the options in the bios setup to no avail.
Thanks in advance for any advice for something else to try,
-Dean Townsley
<townsley@physics.ucsb.edu>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/