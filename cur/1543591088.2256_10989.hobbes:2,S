Date: Tue, 15 May 2001 23:05:21 -0400
From: Tom Leete <>
Subject: Re: rwsem, gcc3 again
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/15/174

mirabilos wrote:
> 
> Hi,
> I have got that patch with "movl %2,%%edx" and removing the tmp
> and still cannot compile with the same error message I posted yesterday.
> The problem seems to be that, with or without "inline", it seems to
> put a reference into main.o of arch/i386/boot/compressed.
> So I cannot test -ac9 :(
> 
> If anyone could find a (final or at least until gcc is fixed temporarily)
> solution please please could either post or mail me?
> Please no Cc: as I am on the list.
> 
> -mirabilos
> --
Hi,
Petr Vandrovic's patch works for me.
$ cat /proc/version
Linux version 2.4.5-pre1 (tleete@mercury) (gcc version 3.0 20010423
(prerelease)) #6 Tue May 15 07:13:10 EDT 2001
You don't mention the constraint changes, did you apply them too?
I posted a simpler patch which miscompiled on gcc3 and 2.95.3. Still trying
to understand why, it was Obviously Correct. It was also the cause of my
boot hangs.
Cheers,
Tom
-- 
The Daemons lurk and are dumb. -- Emerson
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/