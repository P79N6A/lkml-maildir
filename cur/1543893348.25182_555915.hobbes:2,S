Date: Mon, 11 Jun 2007 13:26:00 +0200
From: Martin Peschke <>
Subject: Re: [RFC] [Patch 4/4] lock contention tracking slimmed down
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/11/93

Bill Huey (hui) wrote:
 > However, I don't understand why all of this
 > is so heavy weight when the current measurements that Peter makes is
 > completely sufficient for any reasonable purpose I can think of at the
 > moment.
It wasn't meant to be or to stay heavy weight. To make the best of my
recent attempt: It's good that such issues show up.
 > What's this stuff with labels about ?
Sorry, I didn't come around to posting a documentation update.
It's an optional callback that allows a user to label an entry of
a statistic when it is printed. I have used this feature for adding
symbol strings to instruction pointers.
 > It's important to get the points of contention so that the greater
 > kernel group can fix this issues and not log statistics for the purpose
 > of logging it. The original purpose should not be ignore when working
 > on this stuff.
Sure.
 > By the way, what's the purpose of all of this stuff ? like what do you
 > intend to do with it over the long haul ?
Well, it started as statistics code of a device driver. When I realized
that I was increasing code duplication in the kernel, I tried to abstract
the code out that is device driver independent, allowing others to reuse it.
I have done a couple of iterations, adapting the code to requirements
which showed up when using the code for another driver etc.
This time, my lock contentaion patch showed two issues that require work:
struct statistics needs to be slimmed down or be eliminated alltogether;
allocations might be fine for some users but not for all. Solving
these issues is feasible. Anyway, I don't think I can effort pursueing
it further.
Martin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/