Date: Tue, 23 Dec 2008 20:42:39 +0100
From: "Fabio Comolli" <>
Subject: Re: TSC not updating after resume: Bug or Feature?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/23/151

Hi Thomas.
Everything seems to work fine after further testing.
Regards,
Fabio
On Mon, Dec 22, 2008 at 11:33 PM, Thomas Gleixner <tglx@linutronix.de> wrote:
> Fabio,
>
> On Mon, 22 Dec 2008, Fabio Comolli wrote:
>
>> OK, it seems that you got it.
>>
>> The system survived two hibernation / resume cycles without triggering
>> the warning and, probably the most important part, the dmesg does not
>> have any "jumps" before the "Force enable HPET on resume" line as
>> before:
>>
>> [  275.647704] PM: Creating hibernation image:
>> [  275.648005] PM: Need to copy 177844 pages
>> [  275.648005] Intel machine check architecture supported.
>> [  275.648005] Intel machine check reporting enabled on CPU#0.
>> [  275.648005] Force enabled HPET at resume
>> [  275.648005] ACPI: Waking up from system sleep state S4
>> [  275.669038] ACPI: EC: non-query interrupt received, switching to
>> interrupt mode
>> [  275.740697] pcieport-driver 0000:00:01.0: setting latency timer to 64
>> [  275.740781] pcieport-driver 0000:00:1c.0: setting latency timer to 64
>> [  275.740786] pciehp 0000:00:1c.0:pcie02: pciehp_resume ENTRY
>>
>> ...and so on.
>>
>> As i mentioned in the bug report, to be sure that the bug doesn't
>> trigger I have to wait at least on day and > 10 hibernation / resumee
>> cycles.
>
> Sure.
>
>> But with your first patch the bug triggered at the second cycle, so
>> I'm optimist :-)
>>
>> I'll keep you informed. Many thanks in advance,
>
> Many thanks to you for following up on this.
>
>     tglx
>