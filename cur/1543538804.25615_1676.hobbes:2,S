Date: Thu, 13 Jul 2000 13:45:35 +0200
From: Norbert Federa <>
Subject: How to increase the page cache size
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/13/58

i would like to increase the page cache size for some
cramfs-compression-performance tests (i386)
does anyone know the right way to do that??
PAGE_SIZE is defined in asm/page.h as (1UL << PAGE_SHIFT)
PAGE_SHIFT for i386 is 12, so PAGE_SIZE is 4096
in linux/pagemap.h PAGE_CACHE_SIZE is defined as PAGE_SHIFT.
so that is what i've tried in order to get a page cache size
of 8192 in linux/pagemap.h:
original version:
#define PAGE_CACHE_SHIFT      PAGE_SHIFT
#define PAGE_CACHE_SIZE       PAGE_SIZE
#define PAGE_CACHE_MASK       PAGE_MASK
...
my try:
#define PAGE_CACHE_SHIFT      13
#define PAGE_CACHE_SIZE       (1UL << PAGE_CACHE_SHIFT)
#define PAGE_CACHE_MASK       (~(PAGE_CACHE_SIZE-1))
the kernel is booting fine, but fails to mount root.
any hints ???
thx a lot,
Nob,
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/