Date: Fri, 25 Jan 2002 20:02:43 +0200 (EET)
From: Liakakis Kostas <>
Subject: Re: [PATCH RFC] SiS 2.4 IDE driver update (+= ATA16|ATA33|ATA100)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/25/61

Well, success :-)
Stock 2.4.17 doesn't hang any more :-)
One question though, hdparm -i/I says my drive is udma2 (UDMA/33 isnt it?)
capable. Why don't I get it on boot? (or is my chipset UDMA/33 capable?).
hdparm -X66 /dev/hda hangs the machine completely. Same with 65 and 64.
The debug messages that appear when I do so say:
sis5513_tune_chipset start, changed registers: none 
sis5513_tune_chipset ,drive 0, speed 66
sis5513_tune_chipset end, changed registers: none
Attached is the boot time debug info.
Thanks,
-K.
ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
SIS5513: IDE controller on PCI bus 00 dev 09
PCI: Assigned IRQ 14 for device 00:01.1
SIS5513: chipset revision 208
SIS5513: not 100% native mode: will probe irqs later
SIS5513 pci_init_sis5513 start
SIS5513 dump:
              0x0:0x39 0x1:0x10 0x2:0x13 0x3:0x55 0x4:0x7 0x5:0x0 0x6:0x0 0x7:0x0 0x8:0xd0 0x9:0x8a 0xa:0x1 0xb:0x1 0xc:0x0 0xd:0x40 0xe:0x80 0xf:0x0
              0x10:0xf1 0x11:0x1 0x12:0x0 0x13:0x0 0x14:0xf5 0x15:0x3 0x16:0x0 0x17:0x0 0x18:0x71 0x19:0x1 0x1a:0x0 0x1b:0x0 0x1c:0x75 0x1d:0x3 0x1e:0x0 0x1f:0x0
              0x20:0x1 0x21:0x40 0x22:0x0 0x23:0x0 0x24:0x0 0x25:0x0 0x26:0x0 0x27:0x0 0x28:0x0 0x29:0x0 0x2a:0x0 0x2b:0x0 0x2c:0x0 0x2d:0x0 0x2e:0x0 0x2f:0x0
              0x30:0x0 0x31:0x0 0x32:0x0 0x33:0x0 0x34:0x0 0x35:0x0 0x36:0x0 0x37:0x0 0x38:0x0 0x39:0x0 0x3a:0x0 0x3b:0x0 0x3c:0xe 0x3d:0x1 0x3e:0x0 0x3f:0x0
              0x40:0x1 0x41:0xa3 0x42:0x0 0x43:0x0 0x44:0x0 0x45:0x0 0x46:0x0 0x47:0x0 0x48:0x0 0x49:0x7 0x4a:0xa6 0x4b:0xff 0x4c:0x0 0x4d:0x2 0x4e:0x0 0x4f:0x2
SiS5513
SIS5513: pci_init_sis5513 end, changed registers:
none
    ide0: BM-DMA at 0x4000-0x4007, BIOS settings: hda:pio, hdb:pio
    ide1: BM-DMA at 0x4008-0x400f, BIOS settings: hdc:pio, hdd:pio
hda: ST34321A, ATA DISK drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
hda: 8404830 sectors (4303 MB) w/128KiB Cache, CHS=523/255/63
Partition check: