Date: Thu, 20 Jan 2000 17:17:30 +0100 (CET)
From: Rik van Riel <>
Subject: Re: 2.2.14 feels slow and non-interactive.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/20/178

On Thu, 20 Jan 2000, Mike A. Harris wrote:
> On Thu, 20 Jan 2000, Alan Cox wrote:
> 
> >Do you get a lot of disk activity at these points?
> 
> Not an incredible amount, but more than usual definitely.  During
> the delay until I can move the mouse, or do stuff, the disk is
> active 100% - usually anywhere from 4-10 seconds...
I think I've found the problem. Andrea Arcangeli's
do_try_to_free_pages() algorithm has been put into
2.2.14, one of the results of this is that the number
of unmapped pages in the page cache is minimal.
This does not combine very well with the absence
of the LRU code for shrink_mmap(), the end result
is that read-ahead pages and pages that are
unmapped by swap_out() will be freed immediately
without any chance at proper page aging...
The proper solution is probably to include Andrea's
LRU code for shrink_mmap() in 2.2.15. The code has
proven to be stable and functional, so we probably
implement that solution...
regards,
Rik
--
The Internet is not a network of computers. It is a network
of people. That is its real strength.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/