Date: Thu, 18 Dec 2008 23:19:56 +0100
From: "Rafael J. Wysocki" <>
Subject: Re: TSC not updating after resume: Bug or Feature?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/18/347

On Thursday, 18 of December 2008, Ingo Molnar wrote:
> 
> * Peter Zijlstra <peterz@infradead.org> wrote:
> 
> > Rafael, would something like this explain why we had to revert Shaggy's 
> > patch?
Well, I have yet to understand what the suspend-resume of the timekeeping code
actually does.
The original description sounds worrisome to me, it looks like we've overlooked
something at least.
> > His patch fixes the backward motion filter and I'm at an utter  
> > loss why that would break suspend.
> 
> yes, i'd love to have this commit reinstated:
> 
>  5b7dba4: sched_clock: prevent scd->clock from moving backwards
> 
> and the bug triggered by hibernation fixed instead.
Shaggy said he had an idea of what was wrong, so I expect an updated version
of the patch to appear.
Thanks,
Rafael