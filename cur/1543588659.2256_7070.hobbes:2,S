Date: Mon, 23 Apr 2001 17:33:04 +0200
From: Andi Kleen <>
Subject: Re: [2.2.19 reiserfs] vs-8345: get_mem_for_virtual_node: kmalloc failed.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/4/23/95

On Mon, Apr 23, 2001 at 05:20:35PM +0200, Ríkharður Egilsson wrote:
> Is there anything I can do to prevent this from happening ?
> 
> This (squid) server, serves about 50 requests/sec, so 2 minutes of downtime
> means a lot of unhappy "customers". 
The atomic allocations for incoming packets probably overwhelm the memory
system. Try to increase the values (*2,*3) in /proc/sys/vm/freepages, 
that'll keep more memory free for interrupts and flush more aggressively. 
It may also help a bit to change the rx_copybreak argument of the network 
driver.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/