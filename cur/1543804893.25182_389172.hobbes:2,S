Date: Mon, 23 Jan 2006 09:39:56 +0100
From: Bartlomiej Zolnierkiewicz <>
Subject: Re: [PATCH] Add ide_bus_type probe and remove methods
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/23/43

On 1/14/06, Russell King <rmk+lkml@arm.linux.org.uk> wrote:
> On Fri, Jan 13, 2006 at 09:06:24PM +0100, Bartlomiej Zolnierkiewicz wrote:
> > please fix ide-scsi.c (should be trivial)
>
> Updated patch attached.  However, unable to even build-test since ide-scsi
> is already broken:
>
> drivers/scsi/ide-scsi.c: In function `idescsi_eh_reset':
> drivers/scsi/ide-scsi.c:1046: error: too few arguments to function `end_that_request_last'
> drivers/scsi/ide-scsi.c:1056: error: too few arguments to function `end_that_request_last'
It seems that ide-scsi was fine after all...
> @@ -1046,7 +1043,7 @@ static int idescsi_eh_reset (struct scsi
>
>         /* kill current request */
>         blkdev_dequeue_request(req);
> -       end_that_request_last(req, 0);
> +       end_that_request_last(req);
>         if (req->flags & REQ_SENSE)
>                 kfree(scsi->pc->buffer);
>         kfree(scsi->pc);
> @@ -1056,7 +1053,7 @@ static int idescsi_eh_reset (struct scsi
>         /* now nuke the drive queue */
>         while ((req = elv_next_request(drive->queue))) {
>                 blkdev_dequeue_request(req);
> -               end_that_request_last(req, 0);
> +               end_that_request_last(req);
>         }
>
>         HWGROUP(drive)->rq = NULL;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/