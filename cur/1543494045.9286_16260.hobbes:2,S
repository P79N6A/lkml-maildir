Date: Wed, 28 Apr 1999 11:35:33 GMT
From: Werner LEMBERG <>
Subject: Linux 2.2.5 crash via /dev/port
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/28/19

Here a method how to `crash' Linux.  Since I don't know exactly to
which area this belongs, I'm sending it to this list.
First, I've patched apmd to include the line
  system("/sbin/kbdrate -s -r 30")
which will be executed after resume -- BTW, this has worked with the
2.0.x kernels, but now I get the message
  ioctl(KDKBDREP): Inappropriate ioctl for device
Why?  Can somebody tell me how I must do this correctly?  My Laptop
BIOS always resets the keyboard rate, so I want apmd to set it to the
above value after each resume.
OK, I've closed my Laptop, opened it again, see this message and then
do a
  cat /dev/port
and Linux crashes, i.e., it doesn't respond to any key combinations.
    Werner
PS:  I'm not on the list; please Cc: to me if possible.
======================================================================
Linux rigel 2.2.5 #1 Tue Apr 27 23:54:49 GMT 1999 i686 unknown
Kernel modules         2.2.2-pre6
Gnu C                  2.7.2.3
Binutils               2.9.1.0.22
Linux C Library        x   1 root     root      2475225 Apr  9 11:50 /lib/libc.so.6*
Dynamic linker         ldd (GNU libc) 2.0.7
Procps                 1.2.11
Mount                  2.9i
Net-tools              (1999-01-01)
Kbd                    0.99
Sh-utils               1.12
Modules Loaded         slip slhc ds i82365 pcmcia_core serial unix nls_iso8859-1 nls_cp437 vfat fat
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/