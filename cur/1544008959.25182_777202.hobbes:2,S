Date: Fri, 05 Dec 2008 03:33:13 +0100
From: Andi Kleen <>
Subject: Re: [patch 2/3] performance counters: documentation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/4/434

Paul Mackerras <paulus@samba.org> writes:
>> +
>> +[ Note: more hw_event_types are supported as well, but they are CPU
>> +  specific and are enumerated via /sys on a per CPU basis. Raw hw event
>> +  types can be passed in as negative numbers. For example, to count
>> +  "External bus cycles while bus lock signal asserted" events on Intel
>> +  Core CPUs, pass in a -0x4064 event type value. ]
>
> This is going to be a huge problem, at least on powerpc, because it
> means that the kernel will have to know which events can be counted on
> which counters and what values need to be put in the control registers
> to select them.
P4 has similar problems, and to some extent there's also the same
problem on newer Intel CPUs (e.g. with fixed counters and if you
consider PEBS which has some special restrictions)
-Andi
-- 
ak@linux.intel.com