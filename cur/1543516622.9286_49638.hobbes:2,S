Date: Sat, 20 Nov 1999 19:47:51 +0300
From: Hans Reiser <>
Subject: Re: Announce: LVM Patch against kernel 2.3.28
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/20/38

place in fs/buffer.c
#ifdef CONFIG_REISERFS
#include reiserfs/buffer.c
#endif
If the user doesn't turn reiserfs on, he will take no risk at all.  I'll modify our
reiserfs patch to do it that way, it should have been done.....
Hans
Alan Cox wrote:
> > That said, we don't distrurb other folks's code, so why is it such an issue?
> >
> > I don't understand the comment about exporting half of the buffer cache into
> > itself.
>
> Because its not easy to prove you dont disturb other code. You make some stuff
> global that wasnt for example.
>
The stuff should be global.....  memory management should not be done the same way
for every FS, not if you want to have genuine diversity in FS design.
What I will concede though is that it should be solved cleanly.  I've already
proposed substituting a vfs operation for ll_rw_blk where it is called by the
current memory management, and generalizing the memory pressure abstraction in other
ways.  I hope the proposal gets somewhere.  Until it is done cleanly though, folks
should be able to patch things as they must to make their code work.  Don't you
think?
Hans
--
Get Linux (
http://www.kernel.org
) plus ReiserFS
 (
http://devlinux.org/namesys
).  If you sell an OS or
internet appliance, buy a port of ReiserFS!  If you
need customizations and industrial grade support, we sell them.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/