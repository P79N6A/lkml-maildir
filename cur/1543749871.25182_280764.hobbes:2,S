Date: Wed, 22 Dec 2004 18:21:03 +0000
From: Christoph Hellwig <>
Subject: Re: Problem with XFS and/or VM deadlock in 2.6.8
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/22/102

On Wed, Dec 22, 2004 at 09:16:00AM -0500, Lennart Sorensen wrote:
> I have been having trouble with the filesystem apparently locking up on
> a P4 2.8GHz HT machine (1GB ram, dual 120G SATA in raid1 with LVM on
> top).
> 
> It locks up when I try and delete a lot of small files at once.
> Yesterday I tried to go delete a build dir for gcc-3.3 and while waiting
> for that 1.1GB to be deleted, went to delete a few other source dirs.
> When it got down to about 38M left for gcc-3.3 it stopped getting any
> further and top just showed rm in state D.  A few other rm's eventually
> hit that state too.
> 
> When I went to reboot the machine to get it back to working normally, I
> noticed the console had a bunch of messages from XFS and the VM.  So I
> saved the messages in the hopes someone can figure something out to make
> this go away.
> 
> Kernel version: 2.6.8-1-686-smp v2.6.8-10 (Debian sarge/sid build).
All this should be fixed in 2.6.10-rc3.  The XFS code in Debian's 2.6.8
is very much out of data and has various problems, but 2.6.8 is already
really old and the various required core code changes make it hard to
backport the XFS fixes.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/