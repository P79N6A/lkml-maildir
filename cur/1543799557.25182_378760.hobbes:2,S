Date: Fri, 23 Dec 2005 12:11:20 +1100
From: Grant Coady <>
Subject: Re: 4k stacks
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/22/349

On Thu, 22 Dec 2005 16:53:25 -0500, "linux-os \(Dick Johnson\)" <linux-os@analogic.com> wrote:
>
>
>Yesterday I sent a patch to add stack-poison so the stack usage
>could be observed.
>
>Today I wrote a small program and tested the stack usage. Both
>the program and the patch is attached. The result is:
>
>Offset : 2ec8f000	Available Stack bytes = 3104
>Offset : 2ecb1000	Available Stack bytes = 3104
>Offset : 2ee5f000	Available Stack bytes = 20
Hmm:
# ./stack
Offset : 003fb000       Available Stack bytes = 3348
Offset : 0195d000       Available Stack bytes = 3620
Offset : 01961000       Available Stack bytes = 3828
Offset : 01963000       Available Stack bytes = 3088
Offset : 01b7d000       Available Stack bytes = 2952
Offset : 01b9f000       Available Stack bytes = 2616
Offset : 3753d000       Available Stack bytes = 3628
Offset : 3755d000       Available Stack bytes = 3604
Offset : 3755f000       Available Stack bytes = 3608
Offset : 37561000       Available Stack bytes = 3608
Offset : 37563000       Available Stack bytes = 3608
Offset : 37585000       Available Stack bytes = 3608
Offset : 37655000       Available Stack bytes = 3756
Offset : 37657000       Available Stack bytes = 3592
Offset : 37659000       Available Stack bytes = 3304
Offset : 37753000       Available Stack bytes = 3608
Offset : 37755000       Available Stack bytes = 3756
Offset : 377b3000       Available Stack bytes = 3880
Offset : 378e5000       Available Stack bytes = 3648
Offset : 37977000       Available Stack bytes = 3608
Offset : 37979000       Available Stack bytes = 3604
Offset : 3799d000       Available Stack bytes = 3820
Offset : 37c07000       Available Stack bytes = 3376
Offset : 37c27000       Available Stack bytes = 3652
Offset : 37dcf000       Available Stack bytes = 2580
Offset : 37def000       Available Stack bytes = 3556
Offset : 37df1000       Available Stack bytes = 3732
Offset : 37f13000       Available Stack bytes = 3612
Offset : 37f15000       Available Stack bytes = 3604
Offset : 37f35000       Available Stack bytes = 3608
I get the crash on startup when 4k + 4k is set too :(
http://bugsplatter.mine.nu/test/boxen/sempro/
 with 8k 2.6.14.4.
Grant.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/