Date: Sun, 24 Sep 2000 16:58:04 +0200
From: "Andi Kleen" <>
Subject: Re: traffic shapping  problem with fragmented packets
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/24/55

On Sun, Sep 24, 2000 at 04:20:44PM -0400, Giuliano Pochini wrote:
> 
> > The problem is not really solvable unless you fix the application to send
> > smaller packets. The only way to shape traffic in IP is to drop packets
> 
> There are 3 ways: 1- dropping packets (obvious), 2- buffer packets and delay
> retransmission (if the receiver gets the packet later, it will ACK it later,
> ie you play with the timeout value without touching the window size of the 
> trasnmitter and you don't need to drop packets), 3- use (or misuse ?) ECN.
The sender is unlikely to use TCP in this case (TCP doesn't do such stupid
things) 
Increasing queue sizes and delays does not do anything to slow down a sender, 
unless you exceed the window, which will make the stream very bursty again.
(3) is unlikely to work, unless you fix the application to understand it.
In this case you could also fix it to not do such stupid things and use a cwnd
mechanism.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/