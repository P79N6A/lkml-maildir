Date: Tue, 1 Nov 2005 21:37:15 +0100
From: Pavel Machek <>
Subject: Re: Make spitz compile again
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/1/270

Hi!
> > I needed this to get it to compile... Please apply (probably modulo //
> > part).
> > 
> > Signed-off-by: Pavel Machek <pavel@suse.cz>
> 
> > --- clean-rp/arch/arm/mach-pxa/pxa_keys.c	2005-11-01 19:32:56.000000000 +0100
> > +++ linux-rp/arch/arm/mach-pxa/pxa_keys.c	2005-11-01 20:17:38.000000000 +0100
> 
> None of the Zaurus models use pxa_keys so I don't know why you're
> compiling this. I'll sort it out but its only needed for the hx2750 in
> the tree you have.
Sorry, will fix that.. The patch should still help poor 2750 users
;-).
> >  static struct pxaficp_platform_data spitz_ficp_platform_data = {
> >  	.transceiver_cap  = IR_SIRMODE | IR_OFF,
> > -	.transceiver_mode = spitz_irda_transceiver_mode,
> > +//	.transceiver_mode = spitz_irda_transceiver_mode,
> >  };
> 
> I'm not sure why you'd want to do that?
Because of this one?
  CC      arch/arm/mach-pxa/spitz.o
arch/arm/mach-pxa/spitz.c:347: error: `spitz_irda_transceiver_mode'
undeclared here (not in a function)
arch/arm/mach-pxa/spitz.c:347: error: initializer element is not
constant
arch/arm/mach-pxa/spitz.c:347: error: (near initialization for
`spitz_ficp_platform_data.transceiver_mode')
make[1]: *** [arch/arm/mach-pxa/spitz.o] Error 1
:-). I probably should have enabled irda in config or something.
> I'll move the akita code around and sort out the #ifdefs - it should
> compile and just throw the odd warning about unused code as it stands
> though?
Probably same irda problem.
							Pavel
-- 
Thanks, Sharp!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/