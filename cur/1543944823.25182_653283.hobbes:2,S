Date: Wed, 13 Feb 2008 14:33:59 -0800 (PST)
From: David Miller <>
Subject: Re: [PATCH] [POWERPC] Fix initial lmb add region with a non-zero base
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/13/601

From: Kumar Gala <galak@kernel.crashing.org>
Date: Wed, 13 Feb 2008 07:37:27 -0600 (CST)
> If we add to an empty lmb region with a non-zero base we will not coalesce
> the number of regions done to one.  This causes problems on ppc32 for the
> memory region as its assumed to only have one region.
> 
> We can fix this be easily specially casing the initial add to just replace
> the dummy region.
> 
> ---
> 
> Posting this since Dave's looking a pulling the lmb code out into lib/ and
> sharing it between powerpc and sparc.
> 
> (this is my git tree git.kernel.org:/pub/scm/linux/kernel/git/galak/powerpc.git)
I noticed this issue when I use lmb on sparc64 and I intended to bring
it up eventually.  Thanks for fixing it!