Date: Sat, 12 Nov 2005 03:03:41 +1100
From: Anton Blanchard <>
Subject: [PATCH] Allow flatmem to be disabled when only sparsemem is implemented
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/11/129

Hi Andy,
What do you think about this?
Anton
--
On architectures that implement sparsemem but not discontigmem we want
to be able to hide the flatmem option in some cases. On ppc64 for
example, when we select NUMA we must not select flatmem.
Signed-off-by: Anton Blanchard <anton@samba.org>
---
 
Index: build/mm/Kconfig
===================================================================
--- build.orig/mm/Kconfig	2005-11-11 11:31:38.000000000 +1100
+++ build/mm/Kconfig	2005-11-11 11:41:55.000000000 +1100
@@ -11,7 +11,7 @@
 
 config FLATMEM_MANUAL
 	bool "Flat Memory"
-	depends on !ARCH_DISCONTIGMEM_ENABLE || ARCH_FLATMEM_ENABLE
+	depends on !(ARCH_DISCONTIGMEM_ENABLE || ARCH_SPARSEMEM_ENABLE) || ARCH_FLATMEM_ENABLE
 	help
 	  This option allows you to change some of the ways that
 	  Linux manages its memory internally.  Most users will
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/