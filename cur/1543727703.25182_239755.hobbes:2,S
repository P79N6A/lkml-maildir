Date: Sat, 7 Aug 2004 20:12:56 +0200
From: Arnd Bergmann <>
Subject: Re: architectures with their own "config PCMCIA"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/7/97

> On Sat, Aug 07, 2004 at 06:10:51PM +0100, Christoph Hellwig wrote:
> > What about switching them to use drivers/Kconfig instead?
I'd prefer not to switch s390 to use drivers/Kconfig unless someone
volunteers to clean up all included Kconfig files by adding proper
'depends on PCI' etc. flags. Otherwise too many broken options are
offered.
On Samstag, 7. August 2004 19:25, Adrian Bunk wrote:
> Is there eny reason for such options that are never visible nor enabled,  
> or could they be removed?
Yes, the reason is that some other options depend on them. We added the
PCMCIA option to arch/s390/Kconfig to stop kbuild from asking about
some drivers that won't work anyway.
E.g. drivers/scsi/pcmcia starts with
menu "PCMCIA SCSI adapter support"
	depends on SCSI!=n && PCMCIA!=n && MODULES
which evaluate to true if the PCMCIA option is not known. Changing
that to
menu "PCMCIA SCSI adapter support"
	depends on SCSI && PCMCIA && MODULES
solves this in a different way, but I'm not 100% sure if it still has
the same meaning.
	Arnd <><
[unhandled content-type:application/pgp-signature]