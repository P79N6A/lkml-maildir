Date: Sat, 29 Sep 2007 20:11:31 -0700
From: "Paul E. McKenney" <>
Subject: Re: [PATCH RFC 6/9] RCU priority boosting for preemptible RCU
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/29/164

On Fri, Sep 28, 2007 at 07:05:14PM -0400, Steven Rostedt wrote:
> 
> 
> --
> On Fri, 28 Sep 2007, Gautham R Shenoy wrote:
> 
> > >
> > > +#ifdef CONFIG_PREEMPT_RCU_BOOST
> > > +/*
> > > + * Task state with respect to being RCU-boosted.  This state is changed
> > > + * by the task itself in response to the following three events:
> > 							^^^
> > > + * 1. Preemption (or block on lock) while in RCU read-side critical section.
> >
> > I am wondering, can a task block on a lock while in RCU read-side
> > critical section?
> 
> I think this may be specific to the -rt patch. In the -rt patch,
> spin_locks turn into mutexes, and therefor can block a read-side critical
> section.
Yep!  I do need to fix the comment.
> > > + * 2. Outermost rcu_read_unlock() for blocked RCU read-side critical section.
> > > + *
> >
> > Event #3. is missing?
> 
> I guess Paul needs to answer that one ;-)
An older version had three, the new one has two, and I forgot to s/three/two/.
							Thanx, Paul
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/