Date: Thu, 3 Jun 2004 22:23:28 +0200
From: Jan-Frode Myklebust <>
Subject: Re: qla2300 at only 1 GBit on kernel 2.6.5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/3/214

On Sat, May 22, 2004 at 03:43:28AM +0200, HÃ¥vard Lygre wrote:
> 
> Just as a datapoint: Vanilla Linux 2.6.6 gives me 2 Gbps with both
> sides set to auto.  This is with a QLogic 2312 (as sold by IBM). I
> haven't tried an earlier 2.6-series kernel on this computer.
Andrew Vasquez <andrew.vasquez@qlogic.com> found the problem. The 2.4
driver was forcing the data rate to auto negotiate, while the 2.6 (or
8.x series) driver was honouring the NVRAM setting which was at the
default 1 Gbps. Changing to auto negotiate in the qlogic BIOS fixed the
problem.
> 
> On a side note: Your driver reports 33 MHz PCI - if this is in a
> 32-bit slot, isn't 2Gbps more than the bus can handle?
It's a 64 bit slot..
   -jf
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/