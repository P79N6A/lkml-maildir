Date: Wed, 28 Jan 2009 21:45:39 -0500
From: Dave Jones <>
Subject: Re: a question about p4_clockmod module on Xeon quad core processors
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/28/651

[please don't top-post]
On Wed, Jan 28, 2009 at 06:06:37PM -0800, Xiaoning Ding wrote:
 > >  > I have tried the p4-clockmod module in Linux kernel
 > > 2.6.29 on Xeon 5355 quad-core CPUs with no luck. It seems
 > > current p4-clockmod driver still cannot support Intel Quad
 > > core processors, right? 
 > >  > 
 > >  > I know I can also use acpi-cpufreq. It can only scale
 > > down the frequence from 2.67GHz to 2GHz. But I need some
 > > lower frequencies for some experiments.
 > > 
 > > p4-clockmod doesn't change the processor frequency.
 > > Because of common misconceptions like this, the user
 > > interface has been removed.
 > > 
 > > In 2.6.29, the clock modulation code is called directly
 > > from ACPI
 > > whenever thermal events indicate that throttling is
 > > necessary.
 > > 
 > Thanks for the correction. 
 > My experiments need to reduce CPU speed. However, I can only reduce the speed by about 30% (from 2.67GHz to 2GHz) with ACPI. That is not enough for the experiments. 
The ACPI P-states are nearly always correct, so you won't be
able to go below 2GHz on this system.
 > p4-clockmod has not been removed from 2.6.29. It is under the same directory as acpi-cpufreq (arch/x86/kernel/cpu/cpufreq). So I thought it was an alternative approach. But I could not get it loaded.
The driver is present, the _user interface_ has been removed.
	Dave
-- 
http://www.codemonkey.org.uk