Date: Mon, 23 Aug 2004 11:26:30 -0700
From: Roland Dreier <>
Subject: Re: [PATCH] [broken?] Add MSI support to e1000
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/23/183

    Andi> There seems to be something wrong with the MSI code in the
    Andi> kernel.  I tried to add MSI support to the s2io driver on
    Andi> x86-64, but it just didn't work (/proc/interrupts still
    Andi> displayed IO-APIC mode). I haven't investigated in detail
    Andi> yet though.
Hmm... I've not tried MSI on x86-64 (although I have tried it on
Nocona running a 32-bit kernel).  I have successfully used both MSI
and MSI-X on i386 with my mthca (InfiniBand HCA) driver, although with
some occasional stability glitches, which may be connected to the
e1000 problem I'm seeing.  In any case, /proc/interrupts definitely
shows "PCI-MSI" mode with a non-zero number of interrupts delivered
with my patched e1000 driver.
 - Roland
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/