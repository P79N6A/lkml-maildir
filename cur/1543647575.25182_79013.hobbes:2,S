Date: Fri, 11 Oct 2002 15:56:26 +0200
From: Domenico Rotiroti <>
Subject: PATCH unusual device: nec usb floppy
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/11/48

Hi,
with my compaq notebook I got an usb floppy (nec).
It works fine with usb-storage driver, but with all the
2.4 kernel I compiled it was found 8 times (LUNs 0 through 7)
as sda..sdh
Adding it to the list of unusual devices with the "SINGLE_LUN"
flag solves the problem.
Here's a small patch that do this:
--- unusual_devs.h_orig Fri Oct 11 13:05:38 2002
+++ unusual_devs.h Fri Oct 11 13:07:42 2002
@@ -65,6 +65,14 @@
   US_SC_8070, US_PR_SCM_ATAPI, init_8200e, 0),
 #endif
+/* Submitted by Domenico Rotiroti <drotiro@tiscali.it>
+ * This device needs the SINGLE_LUN flag */
+UNUSUAL_DEV(  0x0409, 0x0040, 0x0000, 0x9999,
+  "NEC",
+  "NEC USB UF000x",
+  US_SC_UFI, US_PR_CBI, NULL,
+  US_FL_SINGLE_LUN),
+
 #ifdef CONFIG_USB_STORAGE_DPCM
 UNUSUAL_DEV(  0x0436, 0x0005, 0x0100, 0x0100,
   "Microtech",
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/