Date: Fri, 25 Aug 2000 19:25:36 -0400
From: <>
Subject: via82cxxx.c 1.7 2.4.0-test6 OOPS
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/25/148

hi,
I am using the 1.7 version of via82cxxx.c with 2.4.0-test6 on an ASUS A7V
motherboard (KT133).
I have one device on the VIA controller - a Kenwood 72x CDROM drive.
The drive is patched to firmware version 226E which "allows UDMA operation".
The drive shows up an a UDMA(33) device on boot.
Whenever I try to mount a CDROM ("mount /dev/cdrom /cdrom") I get a
kernel OOPS. I'm sorry I can't send it right now as my machine is
at home and I am at work.
I had to do a net install because even though I can mount the redhat 6.2
cd when I create my own install disk with 2.4.0-test[4,6] and your via driver,
it starts getting lost interrupts about midway through the RPM installation
(usually on a big >10MB RPM).
I think this is interesting because the drive works fine under Windows 98se
and it obviously works for the most part during the install, but now
that I have linux installed and the kernel built with the VIA driver,
any attempt to mount any CDROM causes a delay of a few seconds and an OOPS.
I am now using "ide=reverse" so that I can use LILO to dual-boot between
windows and linux. I have two IBM ATA100 drives, one on each channel, on
the onboard Promise controller.
This makes the CDROM drive /dev/hde. Do you think that might be significant?
Do you think there is a problem with the driver in that it is making
an assumption that a UDMA(33) device on the via controller is going to
be a hard drive?
Is there a newer version of the via82cxxx.c driver I can try?
Would you like me to send you additional information? If so, what
shall I send? The OOPS of course, /proc/ide/via? /proc/ide/hde/settings?
dmesg?
I would like to help debug this in any way I can.
Thanks,
Dwayne
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/