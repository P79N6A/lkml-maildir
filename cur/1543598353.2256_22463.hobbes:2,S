Date: Mon, 20 Aug 2001 16:05:02 +0100 (BST)
From: Alan Cox <>
Subject: Re: PATCH: linux-2.4.9/drivers/i2o to new module_{init,exit} interface
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/8/20/85

> 	I'm not exactly sure where to send i2o patches, so I'm
> posting them to linux-kernel.  I would appreciate a pointer if there
> is a more specialized address for i2o patches.
Me for i2o
>  	sti();
> -#ifdef CONFIG_I2O
> -	i2o_init();
> -#endif
>  #ifdef CONFIG_BLK_DEV_DAC960
>  	DAC960_Initialize();
Rejected. The ordering is critical because drivers may have both i2o and
non i2o interfaces. Also an i2o card may control other pci devices and
we will need to claim the resources beforehand when we finally support that.
>  dep_tristate '  I2O Block OSM' CONFIG_I2O_BLOCK $CONFIG_I2O
> -if [ "$CONFIG_NET" = "y" ]; then
> +if [ "$CONFIG_NET" != "n" ]; then
NET cannot be modular
> -#ifdef MODULE
>  	i = core->install(c);
> -#else
> -	i = i2o_install_controller(c);
> -#endif /* MODULE */
This changes all the module dependancy patterns - yes its right, no its not
appropriate for a "stable" kernel.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/