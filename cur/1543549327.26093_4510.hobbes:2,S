Date: Wed, 20 Sep 2000 19:03:30 +0200
From: "Robert H. de Vries" <>
Subject: Re: [PATCH] Fix queued SIGIO
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/20/78

On Wed, 20 Sep 2000, Julian Anastasov wrote:
>Hello,
>
>On Tue, 19 Sep 2000, Robert H. de Vries wrote:
>> It would be better to change SI_SIGIO in all the
>> include/asm-*/siginfo.h files from -5 to __SI_CODE(__SI_SIGIO, -5)
>> __SI_SIGIO would become (6 << 16).
>
>	This is not needed for SI_SIGIO. It is not generated from
>the kernel. It seems this interface is already obsoleted.
I think you are mistaking. The purpose of SIGIO is to notify user programs of 
IO events detected by the kernel. So its use is almost exclusively in the 
kernel.
The reason it currently breaks is that when send_sig_info is used with real 
info data the check SI_FROMUSER evaluates to true.
Other calls use a pointer to address 1 (ugh!) to inform bad_signal() that 
this signal is generated by the kernel.
	Robert
-- 
Robert de Vries
rhdv@rhdv.cistron.nl
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/