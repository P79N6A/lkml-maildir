Date: Wed, 19 Mar 2008 14:20:01 -0700 (PDT)
From: Roland McGrath <>
Subject: [PATCH 5/8] sparc64 ptrace: forced_successful_syscall_return()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/19/407

Define the forced_successful_syscall_return() macro to
pair with our force_successful_syscall_return() definition.
Signed-off-by: Roland McGrath <roland@redhat.com>
---
 include/asm-sparc64/ptrace.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)
diff --git a/include/asm-sparc64/ptrace.h b/include/asm-sparc64/ptrace.h
index 6da1978..3f8826e 100644
--- a/include/asm-sparc64/ptrace.h
+++ b/include/asm-sparc64/ptrace.h
@@ -100,6 +100,8 @@ struct sparc_trapf {
 #define force_successful_syscall_return()	    \
 do {	current_thread_info()->syscall_noerror = 1; \
 } while (0)
+#define forced_successful_syscall_return()	\
+	(current_thread_info()->syscall_noerror != 0)
 #define user_mode(regs) (!((regs)->tstate & TSTATE_PRIV))
 #define instruction_pointer(regs) ((regs)->tpc)
 #define regs_return_value(regs) ((regs)->u_regs[UREG_I0])