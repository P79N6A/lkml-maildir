Date: Thu, 16 Mar 2006 10:18:03 +0100
From: Ingo Molnar <>
Subject: Re: libata/sata_nv latency on NVIDIA CK804 [was Re: AMD64 X2 lost ticks on PM timer]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/16/55

* Lee Revell <rlrevell@joe-job.com> wrote:
> On Wed, 2006-03-15 at 22:15 -0500, Bill Rugolsky Jr. wrote:
> > 
> > I'm heading home now (it's 22:00, and I've been here 16 hours
> > already), but I figured that I'd post what I have thus far, and
> > perhaps you can tell me what the problem is.
> > 
> 
> I think it would be better to try to identify the exact circumstances 
> that trigger the large PIO delay, than to start over debugging a new 
> and untested driver, especially if the SMM hypothesis has been ruled 
> out.
well, but it's nevertheless a nice thing that the driver got enhanced - 
and Bill's patch seems to be quite close to usable. If that driver 
enhancement also ends up solving the latency then why not?
one more thing to try (in the old driver) would be to surround the inb() 
line in the offending function with mcount(); calls, and redo the 
latency trace. That will tell us for sure whether it's the PIO 
instruction that causes the delay.
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/