Date: Mon, 9 Feb 2004 23:25:34 +0100
From: Bernd Schubert <>
Subject: Re: psmouse.c, throwing 3 bytes away
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/9/166

On Monday 09 February 2004 13:43, roychris wrote:
> I resolved this problem. It's the fault of the multiplexing on i8042.
> You must pass i8042_nomux=1 to the kernel for 2.4.X or 2.6.0 or you must
> modify
> linux-2.6.x/drivers/input/serio/i8042.c by quoting many lines if > 2.6.0
> because nomux doesn't work :
>
>
> /*      if (!i8042_noaux && !i8042_check_aux(&i8042_aux_values)) {
>                 if (!i8042_nomux && !i8042_check_mux(&i8042_aux_values))
>                         for (i = 0; i < 4; i++) {
>                                 i8042_init_mux_values(i8042_mux_values +
> i, i804
> 2_mux_port + i, i);
>                                 i8042_port_register(i8042_mux_values +
> i, i8042_
> mux_port + i);
>                         }
>                 else
> */
>              i8042_port_register(&i8042_aux_values, &i8042_aux_port);
> //      }
>
Hello Roychris,
on 2.4.25-rc1 the i8042_nomux=1 option causes the following:
- on a single read on /proc/apm the mouse still jumps
- several/few reads make the mouse to stop and only to work after a few 
seconds
- a fast endless read makes the mouse to stop at all and never work again
Commenting out the lines in 2.6.2-rc2 causes the mouse not to work at all. No 
error messages, nothing in the logs.
Do you have a Thinkpad R31 and it workes there for you?
Thanks a lot for your help,
	Bernd
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/