Date: Fri, 18 Jan 2002 13:26:11 -0500
From: Doug Ledford <>
Subject: Re: Full-duplex not working with i810_audio
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/18/105

Jean-Marc Valin wrote:
> I can't get full-duplex audio to work on my laptop with 2.4.17 (using
> the i810_audio sound driver). I know my card (ADI 188x WDM) supports it
> because it works fine with the commercial OSS. 
> 
> In the sample code:
>    fd = open("/dev/dsp", O_RDWR);
>    ioctl(fd, SNDCTL_DSP_SETDUPLEX, 0)
> I get:
> SNDCTL_DSP_SETDUPLEX: Invalid argument
That ioctl is not supported in the base i810 sound driver.
> Also, when using the "rec" (based on sox) utility, my kernel crashes
> completely (no panic, no oops, nothing else happens).
Download the updated i810_audio.c file from my web site and let me know if 
basic recording still crashes for you 
(
http://people.redhat.com/dledford/i810_audio.c.gz
)
> My setup is:
> Compaq Presario 1720CA
> PIII mobile 1 GHz / 256 MB RAM
> ATI Mobility Radeon M6 / 8 MB
> ADI 188x WDM sound chip (on-board)
> RedHat 7.2/2.4.17
> 
> Can anyone help me? 
> 
> 	Jean-Marc
> 
> P.S. Please CC to me, as I am not subscribed to the list
> 
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  
http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  
http://www.tux.org/lkml/
> 
> 
-- 
  Doug Ledford <dledford@redhat.com>  
http://people.redhat.com/dledford
       Please check my web site for aic7xxx updates/answers before
                       e-mailing me about problems
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/