Date: Tue, 21 Mar 2000 09:31:14
From:  krishna@indiainf ...
Subject: Filesystem question
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/21/115

Hi,
I have minix/ext2fs running on top a 'flashdisk' on
an ep7211 based system. Writes to the flash have to
follow an erase of the corresponding sector. (Most
of the flash sectors are 128K). Filesystem syncs
sends down 1024 byte chunks to my flashdisk driver.
So I am facing the prospect of erasing an entire
flash sector, store the contents and swap them back after
writing the 1024 chunk. Needless to say, this 
process is extremely slow.
How do I get fsync to pass me down big chunks of
data at a time?
I tried changing the BLOCK_SIZE (fs.h) and
changed the 'blocksize_size[MAJOR_NO]'.
This does'nt work. ext2fs supports only a max
of PAGESIZE blocks I guess, and the filesystem
type itself is not recognized during bootup for minix.
Thanks & Regards,
Sreekrishnan V
 -------------------------------------------------------------------------------
Get a free mail address from 
http://www.indiainfo.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/