Date: Fri, 14 Jan 2000 15:25:44 +0100
From: Hubert Tonneau <>
Subject: Re: Linux 2.2.15pre1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/14/91

Alax Cox wrote:
>
> 2.2.15pre1
>
> o       Maybe fix TCP delack hang                       (Andrea Arcangeli)
The TCP connection still locks for me at the end of large FTP downloads
(both using Debian FTP client and Pliant FTP client in passive mode).
Surprisingly, downloading small files (1MB or less) works fine.
Tested with 2.2.15-pre1 + RAID, compiled using gcc 2.7.2.3
Regards,
Hubert Tonneau
Please find below the content of /proc/net/tcp when the connection is locked
instead of closing because the file transfert is finished:
  sl  local_address rem_address   st tx_queue rx_queue tr tm->when retrnsmt   uid  timeout inode                               
   0: 02016B0A:041F 2735E0C3:0015 01 00000000:00000000 00:00000000 00000000     0        0 3814                                
   1: 00000000:0521 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 2486                                
   2: 00000000:02F5 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 2392                                
   3: 00000000:02F0 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 2384                                
   4: 00000000:0A44 00000000:0000 0A 00000000:00000000 00:00000000 00000000 65534        0 1779                                
   5: 00000000:1770 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 209                                 
   6: 00000000:02CE 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 199                                 
   7: 00000000:02C6 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 46                                  
   8: 00000000:0400 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 39                                  
   9: 00000000:006F 00000000:0000 0A 00000000:00000000 00:00000000 00000000     0        0 27
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/