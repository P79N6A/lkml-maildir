Date: Mon, 19 Nov 2007 19:52:37 +0100
From: Ingo Molnar <>
Subject: Re: [patch/backport] CFS scheduler, -v24, for v2.6.24-rc3, v2.6.23.8, v2.6.22.13, v2.6.21.7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/19/214

* Erik Andersen <andersen@codepoet.org> wrote:
> On Mon Nov 19, 2007 at 04:17:56PM +0100, Ingo Molnar wrote:
> > 
> > By popular demand, here is release -v24 of the CFS scheduler patch.
> > 
> > It is a full backport of the latest & greatest scheduler code to 
> > v2.6.24-rc3, v2.6.23.8, v2.6.22.13, v2.6.21.7. The patches can be 
> > downloaded from the usual place:
> > 
> >     
http://people.redhat.com/mingo/cfs-scheduler/
> 
> Doesn't compile with 2.6.21.7:
does the patch below help?
	Ingo
Index: linux-cfs-2.6.21.7.q/include/linux/sched.h
===================================================================
--- linux-cfs-2.6.21.7.q.orig/include/linux/sched.h
+++ linux-cfs-2.6.21.7.q/include/linux/sched.h
@@ -10,7 +10,7 @@
 #define COMPAT_REGISTER_SYSCTL
 
 /* backporting helper macro: */
-#define cpu_sibling_map(cpu) per_cpu(cpu_sibling_map, cpu)
+#define cpu_sibling_map(cpu) cpu_sibling_map[cpu]
 
 /*
  * cloning flags:
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/