Date: Thu, 5 Sep 2002 17:11:15 -0500 (CDT)
From: Troy Wilson <>
Subject: Re: Early SPECWeb99 results on 2.5.33 with TSO on e1000
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/5/293

> So if i understood correctly (looking at the intel site) the main value
> add of this feature is probably in having the CPU avoid reassembling and
> retransmitting.
Quoting David S. Miller:
dsm> The performance improvement comes from the fact that the card
dsm> is given huge 64K packets, then the card (using the given ip/tcp
dsm> headers as a template) spits out 1500 byte mtu sized packets.
dsm> 
dsm> Less data DMA'd to the device per normal-mtu packet and less
dsm> per-packet data structure work by the cpu is where the improvement
dsm> comes from.
> Do you have any stats from the hardware that could show
> retransmits etc;
  I'll gather netstat -s after runs with and without TSO enabled.
Anything else you'd like to see?
> have you tested this with zero copy as well (sendfile)
  Yes.  My webserver is Apache 2.0.36, which uses sendfile for anything
over 8k in size.  But, iirc, Apache sends the http headers using writev.
Thanks,
- Troy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/