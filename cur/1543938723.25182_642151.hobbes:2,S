Date: Wed, 23 Jan 2008 22:34:57 +0800
From: rmingming <>
Subject: Re: Is try_module_get buggy?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/23/141

> Hi rminming,
>
> try_module_get is designed to ensure that you don't call a function inside a
> module without a reference.  Like any reference function, it cannot handle
> the case where the argument is invalid (or invalidated partway through the
> call).
>
> In this case, the module pointer is usually inside a registered structure.
> The pointer will be valid until the structure is unregistered, which the
> calling code presumably prevents while it's doing a lookup.
>
> Hope that clarifies,
> Rusty.
>
Hi Rusty,
Thank you so much!
I think you mean that this situation can really happen, because this
is a reference function, but it is so seldom, and the common result of
this situation is a kernel oops, it's not very important. Am I right?
Sorry about later reply, thanks again.
Best wishes,
rmingming