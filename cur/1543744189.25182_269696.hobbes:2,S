Date: Tue, 9 Nov 2004 19:18:44 +0100
From: Jean Delvare <>
Subject: Re: Kernel 2.6.9 & adm1021 & i2c_piix4 temperature monitoring
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/9/202

> How has it been re-worked, is the option no longer valid?
The option is still valid, but the init process is way less aggressive.
Chip isn't arbitrarily reset/reconfigured anymore, and temperature
limits are preserved. Thus what the option was trying to prevent is
probably not happening anymore in the first place.
> I believe it was along early 2.6.x and possibly 2.6.5-2.6.6 that I
> tried it without the option and the machine will shut itself off (due
> to lm-sensors/etc writing "their" values for what is too hot, forcing
> the machine to shutdown).
>
> $ sensors
> max1617-i2c-0-1a
> Adapter: SMBus PIIX4 adapter at 0850
> Board:       +45 C  (low  =   -55 C, high =  +127 C)
> CPU:         +41 C  (low  =   -55 C, high =  +110 C)
> 
> If I run without the option, the values change to something like -20 C
> to 50 or 60C, hence, when you compile a kernel it heats up and the box
> shuts itself off, with no warning at all, just powers off.
That part of the init process was actually removed in 2.6.6. Believe me,
you are not the only one to have complained about that nasty behavior.
-- 
Jean Delvare
http://khali.linux-fr.org/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/