Date: Fri, 18 May 2007 15:01:17 +0200
From: Thomas Gleixner <>
Subject: Re: [BUG] local_softirq_pending storm
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/18/164

On Thu, 2007-05-17 at 12:11 +0530, Anant Nitya wrote:
> On Friday 11 May 2007 03:28:46 Thomas Gleixner wrote:
> 
> > Ok, that's consistent with earlier reports. The problem surfaces when
> > one of the SMT-"cpus" goes idle. The problem goes away when you disable
> > hyperthreading.
> Yes with HT disabled in BIOS there is no local_softirq_pending messages. BTW 
> why does this problem persist only with X ? 
No idea. I uploaded a debug patch against 2.6.22-rc1 to
http://www.tglx.de/private/tglx/2.6.22-rc1-hrt-debug.patch
Can you give it a try and report the output ?
> > When you apply the ratelimit patch, does the softlockup problem
> > persist ?
> >
> Yes, though softlockup is rare and mostly hit when system is under high load. 
> Apart of that I am also getting following messages consistently across 
> multiple boot cycles with NOHZ=y and ratelimit patch applied.
> 
> May 15 11:51:22 rudra kernel: [ 2594.341068] Clocksource tsc unstable (delta = 
> 28111260302 ns)
> May 15 11:51:22 rudra kernel: [ 2594.343194] Time: acpi_pm clocksource has 
> been installed.
That's informal. The TSC is detected to be unstable and replaced by the
pm timer. Nothing to worry about. It happens with NOHZ=n as well,
right ?
	tglx
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/