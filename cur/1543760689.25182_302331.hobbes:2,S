Date: Sat, 12 Mar 2005 19:13:43 +0000
From: Sean Neakums <>
Subject: DRI breakage, 2.6.11-mm[123]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/12/99

The following happens with 2.6.11-mm[123].  (I didn't have time to
investigate earlier; sorry.)  It does not happen with 2.6.11-rc3-mm2
and 2.6.11.  I have tested 2.6.11-mm3 with dri disabled (by not
loading X's dri module) and it also does not happen then.
When I start X, I get a screen full of what looks like random pixels.
Apart from the pointer, X seems generally non-functional.  The X
server (Debian's 4.3.0.dfsg.1-1) is spinning doing the following,
apparently indefinitely (fd 5 is /dev/dri/card0):
  ioctl(5, 0x6444, 0)                     = -1 EBUSY (Device or resource busy)
  ioctl(5, 0x6444, 0)                     = -1 EBUSY (Device or resource busy)
  --- SIGALRM (Alarm clock) @ 0 (0) ---
  sigreturn()                             = ? (mask now [])
  ioctl(5, 0x6444, 0)                     = -1 EBUSY (Device or resource busy)
  --- SIGALRM (Alarm clock) @ 0 (0) ---
  sigreturn()                             = ? (mask now [])
  ioctl(5, 0x6444, 0)                     = -1 EBUSY (Device or resource busy)
  ioctl(5, 0x6444, 0)                     = -1 EBUSY (Device or resource busy)
  --- SIGALRM (Alarm clock) @ 0 (0) ---
  sigreturn()                             = ? (mask now [])
  ioctl(5, 0x6444, 0)                     = -1 EBUSY (Device or resource busy)
Kernel configuration at 
http://flynn.zork.net/~sneakums/config-2.6.11-mm3
-- 
Dag vijandelijk luchtschip de huismeester is dood
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/