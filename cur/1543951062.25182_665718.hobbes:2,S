Date: Mon, 10 Mar 2008 11:49:47 -0300
From: "Renato S. Yamane" <>
Subject: Re: Kernel Linux 2.6.23.16 hangs when run updatedb
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/10/117

cc'd: Thomas Gleixner
cc'd: Ingo Molnar
About hrtimer comment by Alan Jenkins
Alan Jenkins wrote:
> Renato S. Yamane wrote:
>> devzero@web.de wrote:
>>> Renato S. Yamane wrote:
>>>> when cron start updatedb daemon, my machine hangs. None key work, so I
>>>> need reset (press power button to restart).
>>>>
>>>> The only way to get log is runing updatedb from terminal (CTRL + ALT +
>>>> F1) and take a picture from screen:
>>>>
>>>> Up screen:
>>>> <
http://img137.imageshack.us/img137/7128/01pg1.jpg>
>>>>
>>>> Down screen:
>>>> <
http://img100.imageshack.us/img100/1456/02kx1.jpg>
>>>>
>>>> Call trace detail:
>>>> <
http://img100.imageshack.us/img100/8233/calltracedetailsj7.jpg>
>>>
>>>
>>> looks like reiserfs issue.
>>> maybe corrupt filesystem and improper handling of the reiserfs-driver?
>>>
>>> could you try some "find /" ?
>>
>>
>> "find /" don't hangs my machine.
>> The problem is only with updatedb.
>>
>> How can I fix this? Is safe run reiserfsck?
>
> 
> I think he's wrong.
> 
> Looking at the call trace, the BUG happens during an interrupt.  It
> could be a coincidence that the interrupt happened during this
> particular system call.
> 
> It looks like a timer callback has been corrupted / set to an invalid
> value.  The BUG is due to accessing the invalid address 61060fe0
> within enqueue_hrtimer, and the EIP (instruction pointer) is also
> equal to 61060fe0.  This would be consistent with the source code of
> enqueue_hrtimer.  It's not an obvious reiserfs issue.
> 
> I don't know how to find out where this corruption is happening, but
> it's worth asking the hrtimers people.