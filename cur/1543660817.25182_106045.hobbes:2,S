Date: 28 Jan 2003 00:04:19 -0700
From: (Eric W. Biederman)
Subject: Re: kexec reboot code buffer
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/28/9

Dave Hansen <haveblue@us.ibm.com> writes:
> Eric W. Biederman wrote:
> > Dave Hansen <haveblue@us.ibm.com> writes:
> >>On my system, it appears to lock up in:
> >>kimage_alloc_reboot_code_pages()
> >>after the kexec -l.
> > 
> > 
> > O.k. It should come out of it eventually from what I have
> > seen described, the current algorithm is definitely inefficient on
> > your machine.
> 
> It does appear to completely hang in the free loop.  Something funny is
> happening there.  I'll try to provide more details later.  BTW, do you
> mind updating your patches for 2.5.59?  
I will give it a shot shortly I have been intensely busy just
lately so find the free second is a bit difficult.  At the same
> I'm having some other problems
> and I want to make sure it isn't my bad merging that's at fault :)
I don't recall any merging issues at all with the stock kernel, just
a some slight line changes.
> 
> > And being able to allocate from 3GB instead of just 1GB is
> > much more polite.  The question then is how do I specify the zones
> > properly.
> 
> Actually, I think that using lowmem is OK.  The machine is going away
> soon anyway, and the necessary memory is a very small portion,
> especially on a machine with this much RAM.
I agree that lowmem for the common case is fine.  For kexec on panic,
and a some weird cases using high mem is beneficial.  I don't have
a problem with changing it back to just lowmem for the time being.
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/