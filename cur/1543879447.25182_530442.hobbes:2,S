Date: Fri, 13 Apr 2007 10:52:19 +0200
From: Mattia Dongili <>
Subject: Re: Linux 2.6.21-rc6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/13/44

On Thu, Apr 12, 2007 at 09:26:44PM +0300, Maxim Levitsky wrote:
> On Thursday 12 April 2007 18:14:02 Mattia Dongili wrote:
> > On Thu, Apr 05, 2007 at 07:50:11PM -0700, Linus Torvalds wrote:
> > ...
> > > Maxim Levitsky (1):
> > >       Add suspend/resume for HPET
> > 
> > This one breaks resume for me (from STR) on a vaio SZ. Reverting this
> > commit allows resuming again but leaves me with some periodic and unpleasant:
> > 
> > [  155.232000] BUG: soft lockup detected on CPU#1!
> > [  155.232000]  [<c0104cf2>] show_trace_log_lvl+0x1a/0x2f
> > [  155.232000]  [<c0105344>] show_trace+0x12/0x14
> > [  155.232000]  [<c01053c8>] dump_stack+0x16/0x18
> > [  155.232000]  [<c0147240>] softlockup_tick+0xa7/0xb6
> > [  155.232000]  [<c01284d3>] run_local_timers+0x12/0x14
> > [  155.232000]  [<c012887a>] update_process_times+0x3e/0x63
> > [  155.232000]  [<c0137656>] tick_sched_timer+0x50/0x95
> > [  155.232000]  [<c01340e0>] hrtimer_interrupt+0x10b/0x18b
> > [  155.232000]  [<c01137b7>] smp_apic_timer_interrupt+0x6c/0x7e
> > [  155.232000]  [<c0104840>] apic_timer_interrupt+0x28/0x30
> > [  155.232000]  [<c0102318>] cpu_idle+0x1b/0xc7
> > [  155.232000]  [<c011297a>] start_secondary+0x32b/0x333
> > [  155.232000]  [<00000000>] run_init_process+0x3fefed10/0x19
> > [  155.232000]  =======================
> > 
> > FWIW: I hit the same BUG() in -rc5.
> > full boot+suspend+resume log: 
http://oioio.altervista.org/linux/kern-2.6.21-rc6.log
> > .config: 
http://oioio.altervista.org/linux/config-2.6.21-rc6-1
> > 
> > I'm available to test more patches or to provide other info.
> 
> Strange,strange...
Yes... strange. I can't reproduce the resume breakage anymore, with or
without your patch. I still have the soft lockup anyway after resuming.
I'll still keep trying, for now just disregard my previous mail.
-- 
mattia
:wq!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/