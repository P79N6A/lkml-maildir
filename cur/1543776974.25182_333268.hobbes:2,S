Date: Tue, 12 Jul 2005 10:05:42 +0200
From: Frank Steiner <>
Subject: Re: tg3 fails with x86_64 (but works with i386)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/12/42

Frank Steiner wrote
> Hi,
> 
> I've two 3com 3C996B-T network cards (lspci says it's
> a Broadcom BCM5701 chip) in Asus A8V boards with an
> AMD64 4000+ cpu. Booting a x86_64 version of the
> 2.6.12.2 kernel, the tg3 module complains
> 
>    tg3.c: v3.31 (June 8, 2005)
>    tg3_test_dma() Write the buffer failed -19
>    tg3: DMA engine test failed, aborting.
I could solve this: The A8V boards have (like all 64bit boards I guess?)
an option for memory remapping around the memory hole at 3.5GB. When
this remapping is activated, the tg3 driver fails with the error message
above. If the remapping is deactivated, the driver and the card work fine
(but linux can only work with 3.7 of the 4GB). But I need to have the
remapping deactivated anyway, because the fglrx driver won't work
either otherwise.
cu,
FRank
-- 
Dipl.-Inform. Frank Steiner   Web:  
http://www.bio.ifi.lmu.de/~steiner/
Lehrstuhl f. Bioinformatik    Mail: 
http://www.bio.ifi.lmu.de/~steiner/m/
LMU, Amalienstr. 17           Phone: +49 89 2180-4049
80333 Muenchen, Germany       Fax:   +49 89 2180-99-4049
* Rekursion kann man erst verstehen, wenn man Rekursion verstanden hat. *
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/