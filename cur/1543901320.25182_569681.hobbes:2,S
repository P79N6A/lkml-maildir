Date: Mon, 16 Jul 2007 08:59:00 +0900
From: TAKADA Yoshihito <>
Subject: Re: [PATCH 1/1] i386: Geode's TSC is not neccessary to mark tu unstable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/15/268

Hi.
Thanks. you are right. TSC is still unstable.
On Sun, 15 Jul 2007 21:06:27 +0200
Juergen Beisert <juergen127@kreuzholzen.de> wrote:
> Hi,
> 
> On Sunday 15 July 2007 14:00, TAKADA Yoshihito wrote:
> > Hi. I reported to remove pit_latch_buggy(
http://lkml.org/lkml/2007/2/10/8
).
> > In the report, I stated that TSC was unstable.
> > When I installed 2.6.21, GeodeGX's TSC is stable.
> 
> GeodeGX1's TSC is stable until you activate halt/suspend feature. In 
> arch/i386/kernel/cpu/cyrix.c:geode_configure() it will be activated by 
> default. But due to a macro failure the line
>   setCx86(CX86_CCR2, getCx86(CX86_CCR2) | 0x88);
> does nothing.
> Replace the setCx86/getCx86 macros by the attached patch, and the TSC will be 
> unstable again!
> 
> So it makes sense to mark the TSC unstable if the halt/suspend feature is 
> activated.
> 
> Juergen
-- 
TAKADA <takada@mbf.nifty.com>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/