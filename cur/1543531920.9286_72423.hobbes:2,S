Date: Mon, 27 Mar 2000 12:28:32 +0400
From: "Peter Zaitsev" <>
Subject: Socket problem.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/27/22

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content="text/html; charset=koi8-r" http-equiv=Content-Type>
<META content="MSHTML 5.00.2919.6307" name=GENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=#ffffff>
<DIV><FONT face=Arial size=2>I'm running linux 2.2.14 with glibc 2.1.2&nbsp; on 
SMP machine and have discovered the following problem:</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face="ARIAL CYR" size=2>The system is running HTTP server.&nbsp; No 
matter if this is standart apache 1.3.12&nbsp; or hand writtend multi freaded 
server. </FONT></DIV>
<DIV><FONT face="ARIAL CYR" size=2>The server gets many small requests - about 
100 requests per second wich are typically very small. The problem is it takes 
really long time to connect the server even there are many processes waiting in 
accept in a time !</FONT></DIV>
<DIV><FONT face="ARIAL CYR" size=2>This happens SOMETIMES and I can't really 
find then. But it seems to be related to a number of request - the problem 
appears then a number of requests per second is about 100. each request includes 
connect processling and disconect, no keep-alives are used.</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face="ARIAL CYR" size=2>Is this seems to be a known problem with no 
fixes yet or it did not appear for anyone else ?</FONT></DIV>
<DIV><FONT face="ARIAL CYR" size=2>The system is not loaded high - about 80% is 
idle and context swithes per second does not cross 2000.</FONT></DIV>
<DIV><FONT face="ARIAL CYR" size=2>The system is 2*PII550 so it should be handle 
such thing.</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face="ARIAL CYR" size=2>Any Ideas ?</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV></BODY></HTML>