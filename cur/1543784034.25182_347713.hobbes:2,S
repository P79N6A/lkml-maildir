Date: Tue, 06 Sep 2005 12:58:09 -0400
From: 	Valdis.Kletnieks@vt ...
Subject: Re: what will connect the fork() with its following code ? a simple example below:
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/6/127

On Tue, 06 Sep 2005 17:15:51 +0800, "Sat." said:
Not a kernel problem, please consult an intro-to-C list next time....
> if(!(pid=fork())){
>      ......
>      printk("in child process");
>      ......
> }else{
>      .....
>      printk("in father process"); 
>      .....
> }
> 
> values., and do nothing . so the bridge  between the new process and
> its following code, printk("in child process"), seems disappear 
I'm assuming you actually meant printf() (which is the userspace stdio call)
rather than printk() (which is the inside-the-kernel variant).
'man setbuf' - most likely the output of the child process is buffered and
never actually output before it exits.  You want to set stdout to be
line-buffered or unbuffered, or write to stderr (unbuffered by default) rather
than stdout. 
[unhandled content-type:application/pgp-signature]