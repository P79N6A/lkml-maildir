Date: Thu, 22 May 2003 15:26:53 +0100
From: Russell King <>
Subject: Re: 2.5.69-mm6: pccard oops while booting: gcc bug?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/22/74

On Sun, May 18, 2003 at 09:38:53PM +0200, Felipe Alfaro Solana wrote:
> I've read the announcement of gcc 3.3 and saw that gcc 3.2 is not yet
> supported for linux kernel compilations (I've been using Red Hat's
> gcc-3.2.3-4 to compile 2.5.69-mm6). So I thought, what would happen if I
> use gcc 2.96 to compile the kernel instead?
> 
> And voilÃ ... I've compiled 2.5.69-mm6 with Red Hat's 2.96.118 and now,
> I'm unable to reproduce the pccard oops you've been trying to chase
> down. Does this mean the pccard oops was caused by a compiler bug?
Interesting.  We know GCC 3.2.x produces wrong code on ARM without
the patch in PR8896 (
http://gcc.gnu.org/cgi-bin/gnatsweb.pl?cmd=view&pr=8896
)
being applied.  GCC people aren't happy about applying this patch
because it touches the generic reload code, which apparantly is
sacred voodoo.
I'm wondering if this problem isn't only ARM, but affects others as
well.  (The result is that gcc pokes '4' instead of '3' into the ELF
AUX entries as the value of AT_PHDR.)
Obviously, if x86 is affected and this patch fixes the problem, there's
more motivation for the GCC people to include this fix.  Someone needs
to track down what's going wrong, and then gcc people need to comment.
-- 
Russell King (rmk@arm.linux.org.uk)                The developer of ARM Linux
             
http://www.arm.linux.org.uk/personal/aboutme.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/