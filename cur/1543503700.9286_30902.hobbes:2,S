Date: Fri, 23 Jul 1999 07:21:08 -0500 (CDT)
From:  cd_smith@ou ...
Subject: Re: High-availability question
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/23/43

Steve Underwood <steveu@netpage.com.hk>
> Try this with most SCSI card/driver combinations and you will have trouble.
> The bus reset performed by the second SCSI card to start up will screw up the
> operation of the first SCSI card. IF you use some sequencing trick to get
> things to start up you still cannot reboot one backup machine without
> screwing up the operation of the other.
Do some drivers do this?  The Adaptec 294x cards, for example, do a bus
reset on hardware startup in the factory default configuration, but if
you've got a multiple initiator bus you can change that with Adaptec's
"SCSISelect" utility (or AlphaBIOS + an app from the driver disk on an
Alpha).  Just disable the "SCSI bus reset on startup" option, and all such
problems are solved.  Also set the card not to internally terminate, and
add external terminators... that way the bus doesn't get screwed when one
of the systems goes down.
I've set up quite a few SCSI buses that way using Adaptec 2944UW cards,
both clustered and just sharing devices like hardware RAID, and I haven't
had any problems yet. No Linux involved though, so if this is a Linux
specific problem then I'm wrong and you can ignore me.
Chris Smith <cd_smith@ou.edu>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/