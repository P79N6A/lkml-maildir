Date: Tue, 13 May 2003 16:33:23 -0700
From: Andrew Morton <>
Subject: Re: PCMCIA 2.5.X sleeping from illegal context
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/13/426

Alan Cox <alan@lxorguk.ukuu.org.uk> wrote:
>
> On Maw, 2003-05-13 at 00:36, Richard B. Johnson wrote:
> > Could somebody please change the error message? Although everybody
> > seems to want to be a lawyer, even lawyers don't make law. Certainly
> > Software Engineers don't. The correct word is 'invalid', not 'illegal'.
> > Yes, I know there is a 30-year history of the use of that word in
> > Unix, but it's wrong. Only governments make law.
> 
> Much to my suprise you are right on this. The reference dictionary is 
> quite explicit that "illegal" means prohibited by law. Since users will
> eventually see this message it perhaps does make sense to fix it
> 
diff -puN kernel/sched.c~might-sleep-fix kernel/sched.c
--- 25/kernel/sched.c~might-sleep-fix	Tue May 13 16:32:18 2003
+++ 25-akpm/kernel/sched.c	Tue May 13 16:32:46 2003
@@ -2842,8 +2842,8 @@ void __might_sleep(char *file, int line)
 		if (time_before(jiffies, prev_jiffy + HZ))
 			return;
 		prev_jiffy = jiffies;
-		printk(KERN_ERR "Debug: sleeping function called from illegal"
-				" context at %s:%d\n", file, line);
+		printk(KERN_ERR "Debug: sleeping in immoral context "
+					"at %s:%d\n", file, line);
 		dump_stack();
 	}
 #endif
_
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/