Date: Wed, 28 Aug 2002 10:48:22 -0300 (BRT)
From: Rik van Riel <>
Subject: Re: [patch] limit buffer_head consumption to 10% of ZONE_NORMAL
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/28/77

On Tue, 27 Aug 2002, Andrew Morton wrote:
> This patch addresses the excessive consumption of ZONE_NORMAL by
> buffer_heads on highmem machines.
>
> The buffer.c change implements the buffer_head accounting - it sets the
> upper limit on buffer_head memory occupancy to 10% of ZONE_NORMAL.
>
> A possible side-effect of this change is that the kernel will perform
> more calls to get_block() to map pages to disk.  This will only be
> observed when a file is being repeatadly overwritten - this is the only
> case in which the "cached get_block result" in the buffers is useful.
Another possible side effect is writing dirty data to disk
earlier when we've got insane amounts.
All in all, this patch should make the system behave much
more sanely. I like it.
Rik
-- 
	
http://www.linuxsymposium.org/2002/
"You're one of those condescending OLS attendants"
"Here's a nickle kid.  Go buy yourself a real t-shirt"
http://www.surriel.com/
		
http://distro.conectiva.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/