Date: Thu, 13 Dec 2007 17:13:36 +0530
From: Dhaval Giani <>
Subject: Re: 2.6.22.14 oops msg with commvault galaxy ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/13/174

Hi Vincent,
Could you please see if the following patch removes the oops due to CFS
sysfs files? (There might still be the other oops due to the floppy
sysfs files)
Ingo, could you please add this patch in your CFS backport to 2.6.22 and
older kernels?
Thanks,
--
kdump showed that the owner field had some junk value which caused
the oops reported at 
http://lkml.org/lkml/2007/12/10/113
 . This
patch sets the value of that field to NULL.
Signed-off-by: Dhaval Giani <dhaval@linux.vnet.ibm.com>
Signed-off-by: Maneesh Soni <maneesh@in.ibm.com>
---
 kernel/user.c |    1 +
 1 files changed, 1 insertion(+)
Index: linux-2.6.22.13/kernel/user.c
===================================================================
--- linux-2.6.22.13.orig/kernel/user.c
+++ linux-2.6.22.13/kernel/user.c
@@ -145,6 +145,7 @@ ssize_t cpu_shares_store(struct kset *ks
 
 static void user_attr_init(struct subsys_attribute *sa, char *name, int mode)
 {
+	sa->attr.owner = NULL;
 	sa->attr.name = name;
 	sa->attr.mode = mode;
 	sa->show = cpu_shares_show;
-- 
regards,
Dhaval