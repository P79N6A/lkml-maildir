Date: Fri, 23 Sep 2005 17:05:07 -0700 (PDT)
From: Christoph Lameter <>
Subject: Re: 2.6.14-rc1-git-now still dying in mm/slab - this time line 1849
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/23/226

Patch was not send inline. So this is going to look at a bit strange.
Comments on the code:
@@ -2852,6 +2860,8 @@
 	cache_alloc_debugcheck_before(cachep, flags);
 	local_irq_save(save_flags);
+	if (nodeid == numa_node_id())
+		____cache_alloc(cachep, flags);
 	ptr = __cache_alloc_node(cachep, flags, nodeid);
This should be 
		ptr = ___cache_alloc(cachep, flags)
	else
		ptr = __cache_alloc_node(...)
right?
 	local_irq_restore(save_flags);
 	ptr = cache_alloc_debugcheck_after(cachep, flags, ptr, __builtin_return_address(0));
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/