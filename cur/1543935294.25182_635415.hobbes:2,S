Date: Mon, 07 Jan 2008 17:11:42 -0800
From: Jeremy Fitzhardinge <>
Subject: Re: [PATCH 1 of 8] x86: page.h: unify constants
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/7/371

Andi Kleen wrote:
> THREAD_ORDER should be used on 32bit too.
>
> 32bit also has the equivalent of irq stacks (quite similar) 
> and exception stacks (somewhat different). Currently they use
> other defines, but they could use the same. Also i386 has varying
> irqstack orders disabling them with 8k stacks, but that is something
> that would be best dropped and irqstacks always used imho.
> [...]
> It might be, but it's not a 64bit specific concept.
> 
OK.  That's out of the scope of these particular patches, since they're 
restricting themselves to just unifying what's there.  Another pass 
could definitely tidy a lot more up.
> Yes they do, but hardcoding that doesn't make sense because it varies.
> We already got CPUs with 36, 38, 40 and 48 bits phys size.
>
> The only size that could be hard coded would be 52 bit (theoretical max), but 
> that also doesn't make sense if all we want to do is to mask off NX.
> 
OK.  I'll see how much removing it gains us.
    J