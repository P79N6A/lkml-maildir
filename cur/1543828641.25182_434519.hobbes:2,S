Date: Tue, 20 Jun 2006 11:54:55 +0200 (MEST)
From: Jan Engelhardt <>
Subject: Re: [RFC/SERIOUS] grilling troubled CPUs for fun and profit?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/20/134

> > > Let's assume that we have a less than moderate fan failure that causes
> > > the CPU to heat up beyond the critical limit...
> > > That might result in - you guessed it - crashes or doublefaults.
> > > In which case we enter the corresponding handler and do... what?
> > 
> > A CPU without a fan will go into
> > a cold, cold, shutdown, requiring a hardware reset to get it out of
> > that latched, no internal clock running, mode.
>
>Wrong.
>
Fact: The fan of a Sony Vaio U3 (TM5800 CPU) increases its speed when:
- I'm in the BIOS (seems programmed using busy-wait)
- kernel panic
- or worse
IOW, whenever it is not executing HLT.
What do we learn? No automatic shutdown, at least not into a cool state.
> > In the first place, when the Intel and AMD CPUs overheat, they
> > shut down. 
Can't confirm this either. The same behavior as with the TM5800 (above 
list) can be experienced with (also autonomic fans) with AMD K6
(preferably VIA Apollo boards).
>cpu_relax() and friends aren't going to save a box in light of
>a fan failure in my experience.  
>However for a box which has locked up (intentionally)
>running instructions that do save power in a loop has obvious advantages.
Jan Engelhardt
-- 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/