Date: Wed, 21 Apr 1999 16:31:38 +0100
From: Tony Hoyle <>
Subject: Ne2000 clone on 2.2.5ac6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/21/55

I have recently upgraded an old 486 to a less old Compaq prolinea
w/16mb.  One
of the cards is an unmarked NE2000 clone (using a UL0020 chip, which I
managed
to find a setup program for).
This card worked fine on the 486 with a similar setup, but on the Compaq
it
sporadically generates errors:
Apr 21 14:34:40 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 14:34:52 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 14:34:55 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 14:35:00 betty kernel: eth1: unexpected TX-done interrupt,
lasttx=20.
Apr 21 14:35:01 betty kernel: eth1: next frame inconsistency, 0xa0
Apr 21 14:35:04 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 14:37:49 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 14:38:30 betty kernel: eth1: next frame inconsistency, 0xb3
Apr 21 14:38:31 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 14:38:47 betty kernel: eth1: mismatched read page pointers 4c vs
76.
Apr 21 14:38:49 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 14:39:19 betty kernel: eth1: mismatched read page pointers 4c vs
74.
Apr 21 14:39:24 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 15:19:19 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 15:37:39 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 15:41:40 betty kernel: eth1: mismatched read page pointers 4c vs
63.
Apr 21 15:42:33 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 16:07:27 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 16:07:31 betty kernel: eth1: timeout waiting for Tx RDC.
Apr 21 16:07:35 betty kernel: eth1: timeout waiting for Tx RDC.
The timeout errors are usually accompanied by NFS and/or FTP freezing. 
This
happens on almost any large NFS/FTP transfer on the local network.
I tried changing the IRQ and that seemed to reduce the errors (the
'unexpected TX-done'
is from before I did this).  I also increased the timeout in ne.c to
100ms, but it
still times out.
I suspect some kind of problem with that network card on a Compaq, and I
wonder if
anyone else has had similar problems and how have they solved them? (OK
the obvious
solution is to junk the NE2000 and get a better card but...)
Tony
-- 
Life is what happens to    |
you while you're busy      |  tmh@magenta-logic.com
making other plans         |  
http://betty.magenta-logic.com
 -- John Lennon            |
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/