Date: Wed, 21 Sep 2005 14:28:02 +0200
From: "David Sanchez" <>
Subject: RE: How to Force PIO mode on sata promise (Linux 2.6.10)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/21/56

Hi,
I'm using the linux kernel 2.6.10 and busybox on an AMD db AU1550 with a hdd connected to the pata port of a PCI card (Promise PDC20579).
I've got file copy corruption on big files (around 500MB). I made some investigations and I found that sometimes the read(fd,4096) function returns unexpected data and sometimes after a write(fd,4096) function, the data on disk is not the data send in the write() function... 
Maybe a hw bug ? A hw or sw DMA transfer bug ? or anything else... I need to known what happens so I try everything...
Any idea on my problem Jeff ?
David 
Note: I've connected a hdd through the ide interface in PIO mode and my problem seems to not appear. But when I enable DMA, I've got a lot of error messages. In other word, the DMA doesn't work (as it is wrote in the HELP of the option in the kernel) with the ide interface.
-----Message d'origine-----
De : Jeff Garzik [mailto:jgarzik@pobox.com] 
Envoyé : mercredi 21 septembre 2005 14:01
À : David Sanchez
Cc : linux-kernel@vger.kernel.org
Objet : Re: How to Force PIO mode on sata promise (Linux 2.6.10)
David Sanchez wrote:
> I'm using the Linux kernel 2.6.10 on a DBAU1550 and I would like to
> force PIO mode (and thus disable DMA) on my sata promise TX2.
> How can I do that ?
Why do you wish to do this?
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/