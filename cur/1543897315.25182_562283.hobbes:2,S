Date: Tue, 26 Jun 2007 06:34:02 +0200
From: Sam Ravnborg <>
Subject: Re: [PATCH] IOATDMA: fix section mismatches
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/26/8

On Mon, Jun 25, 2007 at 02:51:47PM -0700, Randy Dunlap wrote:
> From: Randy Dunlap <randy.dunlap@oracle.com>
> 
> Rename struct pci_driver data so that false section mismatch
> warnings won't be produced.
> 
> Sam, ISTM that depending on variable names is the weakest & worst part of
> modpost section checking.  Should __init_refok work here?  I got build
> errors when I tried to use it, probably because the struct pci_driver
> probe and remove methods are not marked "__init_refok".
Relying on naming is obviously a bad thing but without doing so
we would have tons of warnings from drivers/
__init_refok is for functions. For this case __initdata_refok
could have worked but to be consistent the renaming is much
better.
	Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/