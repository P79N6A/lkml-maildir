Date: Tue, 09 Dec 2008 18:49:49 +0100
From: Heiko Carstens <>
Subject: [PATCH 0/2] sched: re-add removed arch_update_cpu_topology call
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/9/176

arch_reinit_sched_domains used to call arch_update_cpu_topology
via arch_init_sched_domains. This call got lost with
e761b7725234276a802322549cee5255305a0930 ("cpu hotplug, sched: Introduce
cpu_active_map and redo sched domain managment (take 2)".
So we might end up with outdated and missing cpus in the cpu core
maps (architecture used to call arch_reinit_sched_domains if cpu
topology changed).
This patch set changes arch_update_cpu_topology so that it can indicate
if the cpu topology changed and adds a call to arch_update_cpu_topology
in partition_sched_domains which gets called whenever scheduling domains
get updated. Which is what is supposed to happen when cpu topology changes.