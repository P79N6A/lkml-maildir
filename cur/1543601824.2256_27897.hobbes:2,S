Date: 20 Sep 2001 18:24:48 -0400
From: Robert Love <>
Subject: Re: [PATCH] Significant performace improvements on reiserfs systems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/20/228

On Thu, 2001-09-20 at 17:11, Dieter NÃ¼tzel wrote:
> > I am putting together a conditional scheduling patch to fix some of the
> > worst cases, for use in conjunction with the preemption patch, and this
> > might be useful.
> 
> The conditional_schedule() function hampered me from running it already.
hrm, i didnt notice that conditional_schedule wasnt defined in that
patch.  you will need to do it, but do something more like
if (current->need_resched && current->lock_depth == 0) {
	unlock_kernel();
	lock_kernel();
}
like Andrew wrote.
If you don't jump on the idea of trying this :) I will send work out a
patch that does some other low-latency thigns and send it out.
-- 
Robert M. Love
rml at ufl.edu
rml at tech9.net
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/