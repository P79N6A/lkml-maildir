Date: Fri, 23 Jan 2009 01:12:00 +0100
From: Miklos Vajna <>
Subject: Re: System clock runs too fast after 2.6.27 -> 2.6.28.1 upgrade
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/22/389

On Thu, Jan 22, 2009 at 08:55:58PM +0100, Ingo Molnar <mingo@elte.hu> wrote:
> these look suspect in the good->bad diff:
> 
>  # CONFIG_X86_VOYAGER is not set
>  # CONFIG_X86_GENERICARCH is not set
>  # CONFIG_X86_VSMP is not set
> -# CONFIG_X86_VISWS is not set
> -# CONFIG_X86_RDC321X is not set
> +CONFIG_X86_VISWS=y
> +CONFIG_X86_RDC321X=y
>  CONFIG_SCHED_NO_NO_OMIT_FRAME_POINTER=y
> -# CONFIG_PARAVIRT_GUEST is not set
> +CONFIG_PARAVIRT_GUEST=y
> +# CONFIG_VMI is not set
> +CONFIG_KVM_CLOCK=y
> +CONFIG_KVM_GUEST=y
> +CONFIG_LGUEST_GUEST=y
> +CONFIG_PARAVIRT=y
> +CONFIG_PARAVIRT_CLOCK=y
> +# CONFIG_PARAVIRT_DEBUG is not set
>  CONFIG_MEMTEST=y
Hmm it seems my reply to this mail was lost, so:
First I build with CONFIG_X86_VISWS, CONFIG_X86_RDC321X and
CONFIG_PARAVIRT_GUEST disabled, then the clock became normal again.
Then later I tried just disabling CONFIG_X86_VISWS and
CONFIG_X86_RDC321X, and that was enough as well.
Thank you!
[unhandled content-type:application/pgp-signature]