Date: Sat, 28 Jul 2007 23:01:14 -0400
From: Chris Snook <>
Subject: Re: [RFC] scheduler: improve SMP fairness in CFS
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/28/199

Tong Li wrote:
> Without the global locking, the global synchronization here is simply 
> ping-ponging a cache line once of while. This doesn't look expensive to 
> me, but if it does after benchmarking, adjusting sysctl_base_round_slice 
> can reduce the ping-pong frequency. There might also be a smart 
> implementation that can alleviate this problem.
Scaling it proportionally to migration cost and log2(cpus) should suffice.
> I don't understand why quantizing CPU time is a bad thing. Could you 
> educate me on this?
It depends on how precisely you do it.  We save a lot of power going 
tickless.  If round expiration is re-introducing ticks on idle CPUs, we 
could waste a lot of power.  Hardware is getting even more aggressive 
about power saving, to the point of allowing individual cores to be 
completely powered off when idle.  We need to make sure the scheduler 
doesn't interfere with power management.
	-- Chris
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/