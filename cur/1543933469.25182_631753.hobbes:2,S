Date: Tue, 25 Dec 2007 20:07:37 +0300
From: Cyrill Gorcunov <>
Subject: [x86] is checkpatch.pl broken
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/25/41

Hi list,
by doing cleanup of arch/x86/boot/*.[ch] i found that
checkpatch does ignore obvious things. For example,
run it over edd.c showed only one warning:
---
cyrill@cvg linux-2.6.git $ scripts/checkpatch.pl --file arch/x86/boot/edd.c 
WARNING: externs should be avoided in .c files
#45: FILE: x86/boot/edd.c:45:
+       extern char _end[];
total: 0 errors, 1 warnings, 167 lines checked
Your patch has style problems, please review.  If any of these errors
are false positives report them to the maintainer, see
CHECKPATCH in MAINTAINERS.
---
but on line 53 we have:
mbr_base = (buf_base+sector_size-1) & ~(sector_size-1);
so checkpatch should at least worn me about missed space
btw math operators. Am I wrong?
--
BTW, is there someone who is already involved in a such
cleanup to eliminate double effort?
			- Cyrill -