Date: Mon, 14 Aug 2006 09:00:54 +0200
From: Heiko Carstens <>
Subject: [patch -mm] s390: remove HIGHMEM dependencies
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/14/28

From: Heiko Carstens <heiko.carstens@de.ibm.com>
s390 doesn't support CONFIG_HIGHMEM. Anything that depends on it would be
dead code.
Cc: Christoph Lameter <clameter@engr.sgi.com>
Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
---
Probably should be merged with
reduce-max_nr_zones-remove-display-of-counters-for-unconfigured-zones-s390-fix.patch
 arch/s390/appldata/appldata_mem.c |    3 ---
 1 files changed, 3 deletions(-)
Index: linux-2.6.18-rc4-mm1/arch/s390/appldata/appldata_mem.c
===================================================================
--- linux-2.6.18-rc4-mm1.orig/arch/s390/appldata/appldata_mem.c	2006-08-14 08:35:16.000000000 +0200
+++ linux-2.6.18-rc4-mm1/arch/s390/appldata/appldata_mem.c	2006-08-14 08:36:18.000000000 +0200
@@ -118,9 +118,6 @@
 	mem_data->pswpin     = ev[PSWPIN];
 	mem_data->pswpout    = ev[PSWPOUT];
 	mem_data->pgalloc    = ev[PGALLOC_NORMAL] + ev[PGALLOC_DMA];
-#ifdef CONFIG_HIGHMEM
-	mem_data->pgalloc    += ev[PGALLOC_HIGH];
-#endif
 	mem_data->pgfault    = ev[PGFAULT];
 	mem_data->pgmajfault = ev[PGMAJFAULT];
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/