Date: 17 Aug 2003 09:52:08 +0100
From: Alan Cox <>
Subject: Re: [PATCH] 8/8 Backport recent 2.6 IDE updates to 2.4.x
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/17/27

On Sul, 2003-08-17 at 07:14, Erik Andersen wrote:
> This patch limits drive capacity to 137GB if host doesn't support
> LBA48.  This fixes some serious problems (see the recent thread on
> "uncorrectable ext2 errors").
Already fixed in -ac, but this fix cleans up other stuff too
> This also kills the probe_lba_addressing() wrapper, and renames
> "hwif->addressing" to "hwif->no_lba48".  This is because
> "hwif->addressing" is way too similar to "drive->addressing"
> which has a totally different meaning.
Partly ejected, see the FIXME note in the ac3 tree. When playing with
this I found we actually need two different hwif things for each size,
so that we can handle the fact most controllers are PIO capable for
LBA48 even if not DMA capable.
Its actually really important we do fix this properly because someone
using a disk in PIO mode will suddenely find that the update stops
them from using their filesystem any more.
no_lba48 is questionable given the existance of higher modes but either
way we definitely need both "lba48" "lba48_dma"
Other patches look fine and I'll merge them. I'd like to hear Andries
and Bartlomiej views on how we deal with the lba48 pio only case 
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/