Date: Sun, 25 Nov 2007 11:06:40 -0500 (EST)
From: Alan Stern <>
Subject: Re: [linux-usb-devel] [BUG] USB_PERSIST
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/25/33

On Sat, 24 Nov 2007, Andrew Morton wrote:
> On Tue, 20 Nov 2007 17:04:32 -0700 "Raymano Garibaldi" <raymano@faunos.com> wrote:
> 
> > Is there any other information that I can provide which might help in
> > resolving this bug?
> 
> Let's cc the USB developers.
> 
> > On 11/18/07, Raymano Garibaldi <raymano@faunos.com> wrote:
> > > The last time I tried this and it worked was 2.6.21. Below is a
Sorry, that's not possible.  2.6.21 doesn't include USB Persist 
support.  Nor does 2.6.22.
There were some experimental patches with early versions of USB Persist 
for those kernels.  They are different from what eventually went into 
2.6.23.
> > > On 11/18/07, Denys Vlasenko <vda.linux@googlemail.com> wrote:
> > > > On Sunday 18 November 2007 20:14, Raymano Garibaldi wrote:
> > > > > In kernel 2.6.23.8 USB_PERSIST feature does not work if the same USB
> > > > > device is detached and reattached while computer is suspended. The
> > > > > mount points for the USB storage device mounted before suspend are
> > > > > lost and the device has to be remounted after resume.
USB Persist was never meant to allow you to detach and reattach a 
device while the computer is suspended; it was meant to deal with 
hibernation.  So what you observed is the correct behavior, not a bug.
Detaching and reattaching a device while the computer is suspended 
should result in exactly the same behavior as detaching and reattaching 
the device while the computer is awake.
If you try doing the same thing but with the computer in hibernation 
instead of suspended, you may find it more in line with what you 
expect.
Alan Stern
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/