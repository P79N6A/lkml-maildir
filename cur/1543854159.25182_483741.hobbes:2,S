Date: Sat, 18 Nov 2006 14:12:29 +0100
From: Christian <>
Subject: Sluggish system responsiveness on I/O
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/18/67

Hello lkml!
Im currently testing 2.6.19-rc5-mm1. Everything works really fine except the 
little wart with bad multimedia interactivity with a kernel compiling in the 
background. So I tried to narrow it down as much 
as possible.
I did several find's,dd's and cats in parrallel and watched four instances of 
glxgears and also played a little enemy-territory. The interactivity was very 
good, in fact no loss of interactivity at all. This was contrary to what I 
believed the whole time. The loss of interactivity has nothing to do with 
heavy I/O. In fact it happens only when I run a task which is I/O and CPU 
heavy at the same time. That means a single kernel compile (with -j1) is able 
to harm interactivity with glxgears and enemy-territory, but fully loading my 
three disks does no harm at all.
So I tried to nice the make and see what happens:
nice 5 make -j4: Seems to make no difference. Heavy stuttering in glxgears and 
et
nice 10 make -j4: Somewhat better but still unusable with et
everything above nice 15 is usable. nice 19 has full interactivity, that means 
you can't make out a difference between no load and kernel compile while 
playing enemy-territory.
I suspect that it has something to do with the priority boost for I/O hogs. 
But if this is a "general" scheduler problem, then why aren't more people 
complaining about this?
-Christian
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/