Date: Sat, 9 Oct 1999 06:20:22 -0700
From: John Kennedy <>
Subject: Re: 2.2.13pre15 aic78xx probs [disabling CONFIG_SCSI_MULTI_LUN doesn't help]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/9/88

On Fri, Oct 08, 1999 at 11:39:04AM -0700, John Kennedy wrote:
> On Fri, Oct 08, 1999 at 09:26:02AM -0400, Doug Ledford wrote:
> > Turn off the PROBE ALL LUNS option in the SCSI config then promptly file a bug
> > report with the Yamaha CD-RW devision about the firmware in their devices.
> 
>   Fair enough.  (:
> 
>   Didn't change that between pre14 and pre15 though:
...
  Indeed.  I recompiled without CONFIG_SCSI_MULTI_LUN and it didn't help.
    [diff -u linux-2.2.13pre1[45]/.config]
	--- linux-2.2.13pre14/.config	Mon Sep 27 20:31:25 1999
	+++ linux-2.2.13pre15/.config	Sat Oct  9 05:37:35 1999
	@@ -173,7 +173,7 @@
	 #
	 # Some SCSI devices (e.g. CD jukebox) support multiple LUNs
	 #
	-CONFIG_SCSI_MULTI_LUN=y
	+# CONFIG_SCSI_MULTI_LUN is not set
	 CONFIG_SCSI_CONSTANTS=y
	 # CONFIG_SCSI_LOGGING is not set
	 
	@@ -207,6 +207,7 @@
	 # CONFIG_SCSI_INIA100 is not set
	 # CONFIG_SCSI_NCR53C406A is not set
	 # CONFIG_SCSI_SYM53C416 is not set
	+# CONFIG_SCSI_SIM710 is not set
	 # CONFIG_SCSI_NCR53C7xx is not set
	 # CONFIG_SCSI_NCR53C8XX is not set
	 # CONFIG_SCSI_SYM53C8XX is not set
  Michael Surenbrock also said that his multiple LUN support was disabled.
  Under pre15, my kernel detects the Yamaha as a "scsi removable disk sdc"
and my SCSI bus-activity light goes on and stays lit.
  I've included a pre14 boot for your viewing pleasure.
								--- john
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Oct  9 06:05:20 akasha syslogd 1.3-3: restart.
Oct  9 06:05:22 akasha kernel: klogd 1.3-3, log source = /proc/kmsg started.
Oct  9 06:05:22 akasha kernel: Inspecting /boot/System.map-2.2.13pre14
Oct  9 06:05:22 akasha init: Entering runlevel: 2
Oct  9 06:05:22 akasha kernel: Loaded 7855 symbols from /boot/System.map-2.2.13pre14.
Oct  9 06:05:22 akasha kernel: Symbols match kernel version 2.2.13.
Oct  9 06:05:22 akasha kernel: No module symbols loaded.
Oct  9 06:05:22 akasha kernel: Linux version 2.2.13pre14 (warlock@akasha) (gcc version egcs-2.91.60 19981201 (egcs-1.1.1 release)) #56 Mon Sep 27 20:31:49 PDT 1999 
...
Oct  9 06:05:22 akasha kernel: (scsi0) <Adaptec AIC-7890/1 Ultra2 SCSI host adapter> found at PCI 6/0 
Oct  9 06:05:22 akasha kernel: (scsi0) Wide Channel, SCSI ID=7, 32/255 SCBs 
Oct  9 06:05:22 akasha kernel: (scsi0) Downloading sequencer code... 374 instructions downloaded 
Oct  9 06:05:22 akasha kernel: scsi0 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI) 5.1.19/3.2.4 
Oct  9 06:05:22 akasha kernel:        <Adaptec AIC-7890/1 Ultra2 SCSI host adapter> 
Oct  9 06:05:22 akasha kernel: scsi : 1 host. 
Oct  9 06:05:22 akasha kernel: (scsi0:0:0:0) Synchronous at 80.0 Mbyte/sec, offset 15. 
Oct  9 06:05:22 akasha kernel:   Vendor: SEAGATE   Model: ST118273LW        Rev: 5960 
Oct  9 06:05:22 akasha kernel:   Type:   Direct-Access                      ANSI SCSI revision: 02 
Oct  9 06:05:22 akasha kernel: Detected scsi disk sda at scsi0, channel 0, id 0, lun 0 
Oct  9 06:05:22 akasha kernel: (scsi0:0:1:0) Synchronous at 40.0 Mbyte/sec, offset 15. 
Oct  9 06:05:22 akasha kernel:   Vendor: SEAGATE   Model: ST19171W          Rev: 0023 
Oct  9 06:05:22 akasha kernel:   Type:   Direct-Access                      ANSI SCSI revision: 02 
Oct  9 06:05:22 akasha kernel: Detected scsi disk sdb at scsi0, channel 0, id 1, lun 0 
Oct  9 06:05:22 akasha kernel: (scsi0:0:5:0) Synchronous at 8.0 Mbyte/sec, offset 31. 
Oct  9 06:05:22 akasha kernel:   Vendor: YAMAHA    Model: CRW4416S          Rev: 1.0e 
Oct  9 06:05:22 akasha kernel:   Type:   CD-ROM                             ANSI SCSI revision: 02 
Oct  9 06:05:22 akasha kernel: Detected scsi CD-ROM sr0 at scsi0, channel 0, id 5, lun 0 
Oct  9 06:05:22 akasha kernel: scsi : detected 1 SCSI cdrom 2 SCSI disks total. 
Oct  9 06:05:22 akasha kernel: sr0: scsi3-mmc drive: 16x/16x writer cd/rw xa/form2 cdda tray 
Oct  9 06:05:22 akasha kernel: Uniform CDROM driver Revision: 2.56 
Oct  9 06:05:22 akasha kernel: SCSI device sda: hdwr sector= 512 bytes. Sectors= 35566480 [17366 MB] [17.4 GB] 
Oct  9 06:05:22 akasha kernel: SCSI device sdb: hdwr sector= 512 bytes. Sectors= 17783112 [8683 MB] [8.7 GB] 
...[unhandled content-type:application/pgp-signature]