Date: Tue, 03 Apr 2007 19:28:36 -0400
From: David Woodhouse <>
Subject: Re: [PATCH] Stop pmac_zilog from abusing 8250's device numbers.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/3/321

On Wed, 2007-04-04 at 09:14 +1000, Paul Mackerras wrote:
> Sigh.  I guess this is inevitable, but IMNSHO this exposes a weakness
> in our serial subsystem.
> 
> The problem is that this means that a user has to know "oh, the serial
> port on my computer is implemented with a Z85C30 chip, therefore it's
> /dev/ttyPZ0 not /dev/ttyS0, like it would be if the designers had used
> a 16C550".
> 
> Plus I'm sure this is going to mean that people using gui ppp dialers
> on powermacs will suddenly find that the gui can no longer find their
> serial port and they have no idea why.
> Why should a user know or care about that?  It really should be "it's
> the built-in serial port on my computer therefore it's /dev/ttyS0".
I agree to a certain extent -- but then again, why should a user know or
care about the name /dev/ttyS0 _either_? A GUI PPP dialer should be
listing the available serial ports in the system whatever their names
are.
And nobody _forces_ you to use the name ttyPZ0. If you really want, you
can call it ttyS0.... just mknod /dev/ttyS0 204 192
You could even have udev rules which share the /dev/ttyS$N namespace
between _all_ kinds of serial ports, if you really want to.
Abusing the 8250 device numbers prevents the 8250 module from being
loaded at the same time as pmac_zilog, and means you can't have both
internal port and PCMCIA or PCI 8250 ports active at the same time.
 
-- 
dwmw2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/