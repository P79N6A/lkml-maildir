Date: Wed, 2 Aug 2000 00:37:30 +0200 (CEST)
From: Andrea Arcangeli <>
Subject: Re: Small fix for 2.4.0-test5, asm-alpha/fpu.h (cix extension)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/1/162

On 1 Aug 2000, Claus-Justus Heine wrote:
>the "__asm__" in wrfpcr() is missing a "__volatile__" when
>__alpha_cix__ is defined. Otherwise gcc-2.95.2 optimizes the wrfpcr()
>away (in arch/alpha/kernel/osf_sys.c, have looked at the asm output of
>gcc).
Yes, that was a kernel bug and your patch sure fixes it. tmp was not
returned, it was local variable, so any side effect on it could be
discarded, and val was an input.
Thanks,
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/