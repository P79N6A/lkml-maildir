Date: Thu, 25 Oct 2007 07:55:00 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: Is gcc thread-unsafe?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/25/186

On Thu, 25 Oct 2007, Nick Piggin wrote:
> 
> Andi spotted this exchange on the gcc list. I don't think he's
> brought it up here yet, but it worries me enough that I'd like
> to discuss it.
Are you surprised?
The gcc developers seem to have had a total disregard for what people 
want or need, and every time some code generation issue comes up, there's 
a lot of people on the list that do language-lawyering, rather than admit 
that there might be a problem.
It's happened before, it will happen again. I don't think it's true of all 
gcc developers (or even most, I hope), but it's common enough. For some 
reason, compiler developers seem to be far enough removed from "real life" 
that they have a tendency to talk in terms of "this is what the spec says" 
rather than "this is a problem".
Happily, at least in this kind of situation, threading is a real issue for 
other projects than just the kernel, so maybe it gets solved properly.
But I have to admit that for the last five years or so, I've really wanted 
some other compiler team to come up with a good open-source compiler. 
Exactly due to issues like this (Q: "Gcc creates bogus code that doesn't 
work!" A: "It's not bogus, it's technically allowed by the language specs 
that don't talk about xyz, the fact that it doesn't work isn't our 
problem").
I think the OpenBSD people decided to actually do something about this, 
and I suspect it had *nothing* to do with license issues, and everything 
to do with these kinds of problems. I wish them all the luck, although 
personally I think LLVM is a much more interesting project.
			Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/