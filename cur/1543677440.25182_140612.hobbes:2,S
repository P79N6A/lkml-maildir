Date: 14 Jun 2003 23:19:06 -0700
From: "David S. Miller" <>
Subject: Re: New struct sock_common breaks parisc 64 bit compiles with a misalignment
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/15/8

On Mon, 2003-06-09 at 21:57, James Bottomley wrote:
> The problem seems to be that the new struct sock_common ends with a
> pointer and an atomic_t (which is an int on parisc), so the compiler
> adds an extra four bytes of padding where none previously existed in
> struct tcp_tw_bucket, so the __u64 ptr tricks with tw_daddr fail.
I'm fixing this, but why does it "fail"?  You should get unaligned
traps which get fixed up by the trap handler.
If that isn't happening, lots of things in the networking should
break on you.
-- 
David S. Miller <davem@redhat.com>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/