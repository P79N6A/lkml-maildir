Date: Mon, 19 Jun 2006 00:13:06 +0200
From: Hansjoerg Lipp <>
Subject: [PATCH 1/1] i4l: Gigaset drivers: add IOCTLs to compat_ioctl.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/18/184

From: Hansjoerg Lipp <hjlipp@web.de>
This patch adds the IOCTLs of the Gigaset drivers to compat_ioctl.h
in order to make them available for 32 bit programs on 64 bit platforms.
Please merge.
Signed-off-by: Hansjoerg Lipp <hjlipp@web.de>
Acked-by: Tilman Schmidt <tilman@imap.cc>
---
 fs/compat_ioctl.c            |    1 +
 include/linux/compat_ioctl.h |    5 +++++
 2 files changed, 6 insertions(+)
diff -urp linux-2.6.17.orig/fs/compat_ioctl.c linux-2.6.17/fs/compat_ioctl.c
--- linux-2.6.17.orig/fs/compat_ioctl.c	2006-04-04 23:29:12.000000000 +0200
+++ linux-2.6.17/fs/compat_ioctl.c	2006-06-18 20:37:17.000000000 +0200
@@ -80,6 +80,7 @@
 #include <net/bluetooth/rfcomm.h>
 
 #include <linux/capi.h>
+#include <linux/gigaset_dev.h>
 
 #include <scsi/scsi.h>
 #include <scsi/scsi_ioctl.h>
diff -urp linux-2.6.17.orig/include/linux/compat_ioctl.h linux-2.6.17/include/linux/compat_ioctl.h
--- linux-2.6.17.orig/include/linux/compat_ioctl.h	2006-04-04 23:29:14.000000000 +0200
+++ linux-2.6.17/include/linux/compat_ioctl.h	2006-06-18 20:37:17.000000000 +0200
@@ -673,6 +673,11 @@ COMPATIBLE_IOCTL(CAPI_SET_FLAGS)
 COMPATIBLE_IOCTL(CAPI_CLR_FLAGS)
 COMPATIBLE_IOCTL(CAPI_NCCI_OPENCOUNT)
 COMPATIBLE_IOCTL(CAPI_NCCI_GETUNIT)
+/* Siemens Gigaset */
+COMPATIBLE_IOCTL(GIGASET_REDIR)
+COMPATIBLE_IOCTL(GIGASET_CONFIG)
+COMPATIBLE_IOCTL(GIGASET_BRKCHARS)
+COMPATIBLE_IOCTL(GIGASET_VERSION)
 /* Misc. */
 COMPATIBLE_IOCTL(0x41545900)		/* ATYIO_CLKR */
 COMPATIBLE_IOCTL(0x41545901)		/* ATYIO_CLKW */
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/