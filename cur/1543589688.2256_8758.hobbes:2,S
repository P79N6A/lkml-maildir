Date: Wed, 2 May 2001 07:40:50 -0500
From:  Matt_Domsch@Dell ...
Subject: RE: 2.4.4, 2.4.4-ac1 and -ac3: oops loading future domain scsi mo  dule
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/2/54

> That one's mine.  It should be:
>    scsi_set_pci_device(shpnt, pdev);
Can you please try this patch and see if it works for you?
diff -burN linux-2.4.4/drivers/scsi/fdomain.c linux/drivers/scsi/fdomain.c
--- linux-2.4.4/drivers/scsi/fdomain.c  Fri Apr 27 15:59:18 2001
+++ linux/drivers/scsi/fdomain.c        Wed May  2 07:27:32 2001
@@ -971,7 +971,7 @@
        return 0;
    shpnt->irq = interrupt_level;
    shpnt->io_port = port_base;
-   scsi_set_pci_device(shpnt->pci_dev, pdev);
+   scsi_set_pci_device(shpnt, pdev);
    shpnt->n_io_port = 0x10;
    print_banner( shpnt );
Thanks,
Matt
-- 
Matt Domsch
Sr. Software Engineer
Dell Linux Systems Group
Linux OS Development
www.dell.com/linux
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/