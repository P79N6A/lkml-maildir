Date: Wed, 6 Feb 2008 13:22:48 +0100
From: Ingo Molnar <>
Subject: Re: [bug] networking broke, ssh: connect to port 22: Protocol error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/6/91

* David Miller <davem@davemloft.net> wrote:
> From: Ingo Molnar <mingo@elte.hu>
> Date: Wed, 6 Feb 2008 12:38:29 +0100
> 
> > 
> > randconfig qa on x86.git ran into the following new networking related 
> > problem on latest -git: with the attached .config the testbox comes up 
> > but cannot establish any TCP connections due to -ENOPROTO in 
> > sys_connect().
> 
> Make sure you have the following fix in your tree.
> 
> It might be the cause.
> 
> commit 5d8c0aa9433b09387d9021358baef7939f9b32c4
> Author: Pavel Emelyanov <xemul@openvz.org>
> Date:   Tue Feb 5 03:14:44 2008 -0800
this is already upstream. As i mentioned above i tested latest -git. 
(HEAD 551e4fb2465b8)
So no, it does not fix the problem. The config i sent is a rather 
generic one, it should boot on most whitebox PCs. TCP connections will 
fail immediately, all the time.
(I reverted 5d8c0aa943 as well, that didnt solve the problem either.)
	Ingo