Date: Tue, 08 Feb 2000 19:12:50 +0900
From: Yoshihiro Kawabe <>
Subject: Yamaha CD-R/RW Trouble.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/8/25

Dear Linux developpers.
I found a little trouble Kernel 2.2.15pre6.
[1] Kernel hungs up when meet Yamaha CD-R/RW(CRW8424S).
[2] Kernel silently stop, just after shows following console messages.
---------
 scsi : aborting command due to timeout : pid 12, scsi0, channel 0, id 4
, lun 0 Test Unit Ready 00 00 00 00 00  
   Vendor: YAMAHA    Model: CRW8424S          Rev: 1.0d 
   Type:   CD-ROM                             ANSI SCSI revision: 02 
 Detected scsi CD-ROM sr0 at scsi0, channel 0, id 4, lun 0 
---------
[3] SCSI CD-ROM YAMAHA CRW8424S
[4] 2.2.13 2.2.14 2.2.15pre6
[7.4] result of `cat /proc/scsi/scsi'
Attached devices: 
Host: scsi0 Channel: 00 Id: 00 Lun: 00
  Vendor: SEAGATE  Model: ST32272W         Rev: 0876
  Type:   Direct-Access                    ANSI SCSI revision: 02
[X] Reason and patch.
    CRW8424S is also same other YAMAHA CD-R Series (i.e. CDR100).
    So forcely, kerenel decides LUN=0 only.
    I made a tiny patch for CRW8424S in scsi.c
--------- BEGIN
--- linux/drivers/scsi/scsi.c.bak	Tue Feb  8 18:38:04 2000
+++ linux/drivers/scsi/scsi.c	Tue Feb  8 18:39:59 2000
@@ -277,6 +277,7 @@
 {"HP", "C2500A", "", BLIST_NOLUN},              /* scanjet iicx */
 {"YAMAHA","CDR100","1.00", BLIST_NOLUN},	/* Locks up if polled for lun != 0 */
 {"YAMAHA","CDR102","1.00", BLIST_NOLUN},	/* Locks up if polled for lun != 0 */
+{"YAMAHA","CRW8424S","1.0", BLIST_NOLUN},	/* Locks up if polled for lun != 0 */
 {"RELISYS", "Scorpio", "*", BLIST_NOLUN},	/* responds to all LUN */
 
 /*
--------- END
--------
  Kawabe,Yoshihiro <sowhat@amnis.co.jp> in Amnis Corp. 
  There's a Victory for ME! by L. I.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/