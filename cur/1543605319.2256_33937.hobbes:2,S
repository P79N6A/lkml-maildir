Date: Thu, 18 Oct 2001 13:20:35 -0700
From: Mike Fedyk <>
Subject: Re: RFC - tree quotas for Linux (2.4.12, ext2)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/18/155

On Thu, Oct 18, 2001 at 09:38:47AM +0100, James Sutherland wrote:
> On Wed, 17 Oct 2001, Ben Greear wrote:
> 
> > Neil Brown wrote:
> > >
> > > Hi,
> > >  In my ongoing effort to provide centralised file storage that I can
> > >  be proud of, I have put together some code to implement tree quotas.
> > >
> > >  The idea of a tree quota is that the block and inode usage of a file
> > >  is charged to the (owner of the root of the) tree rather than the
> > >  owner (or group owner) of the file.
> > >  This will (I hope) make life easier for me.  There are several
> > >  reasons that I have documented (see URL below) but a good one is that
> > >  they are transparent and predictable.  du -s $HOME should *always*
> > >  match your usage according to "quota".
> >
> > Err, except maybe when you also own a file in /home/idiot/idiots_unprotected_storage_dir
> > (This relates not at all to your patch/comments.)
> 
> No - "the ... usage of a file is charged to the tree, RATHER THAN THE
> OWNER OF THE FILE". So, in this case, if you own a file in ~idiot/foo,
> idiot's quota is charged for the file, not you.
Actually, it looks like Niel is creating a two level Quota system.  In ther
normal quota system, if you own a file anywhere, it is attributed to you.
But, in the tree quota system, it is attributed to the owner of the tree...
Niel, how do you plan to notify someone that their tree quota has been
exceeded instead of their normal quota?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/