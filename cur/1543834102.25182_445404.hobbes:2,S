Date: Wed, 19 Jul 2006 10:18:44 +0100
From: Ian Stirling <>
Subject: Re: Improvement on memory subsystem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/19/33

Valdis.Kletnieks@vt.edu wrote:
> On Tue, 18 Jul 2006 18:03:54 +0800, yunfeng zhang said:
> 
> 
>>2. Read-ahead process during page-in/out (page fault or swap out) should be
>>based on its VMA to enhance IO efficiency instead of the relative physical pages
>>in swap space.
> 
> 
> But wouldn't that end up causing a seek storm, rather than handling the pages
> in the order that minimizes the total seek distance, no matter where they are
> in memory? Remember - if you have a 2Ghz processor, and a disk that seeks in 1
> millisecond, every seek is (*very* roughly) about 2 million instructions.  So
> if we can burn 20 thousand instructions finding a read order that eliminates
> *one* seek, we're 1.98M instructions ahead.
To paraphrase shakespear - all the world is not a P4 - and all the swap 
devices are not hard disks.
For example - I've got a 486/33 laptop with 12M RAM that I sometimes use 
, with swapping to a 128M PCMCIA RAM card that I got from somewhere.
20K instructions wasted on a device with no seek time is just annoying.
And on my main laptop - I have experimented with swap-over-wifi to a 
large ramdisk on my server - which works quite well. (until the wifi 
connection falls over).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/