Date: Sat, 22 Sep 2007 13:24:32 +0200 (CEST)
From: Jan Engelhardt <>
Subject: Unfortunate infinite make recursion
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/22/60

Hi,
You can cause a recursion in kbuild/make with the following:
make O=$PWD kernel/time.o
make mrproper
Of course no one would use O=$PWD (that's just the testcase),
but this happened too often:
/ws/linux/linux-2.6.23$ make O=/ws/linux/linux-2.6.23 kernel/time.o
(Oops - should have been O=/ws/linux/obj-2.6.23!)
The make O=$PWD truncates the Makefile, making it necessary to run `git 
checkout Makefile` - should you have git; or reextract the tarball 
(should you /still/ have it). Well, can we catch this case somehow?
thanks,
Jan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/