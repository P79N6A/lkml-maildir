Date: Fri, 18 Jun 1999 22:31:40 MET DST
From: "Giuliano Pochini" <>
Subject: getting close to remobale media bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/19/81

Yes, I'm here again...
I noticed an important thing about the famous RMB. I initialized 4 
disksin this way:
230MB disk (512  bytes/sector)  a single partition covering the whole 
disk
230MB disk (512  bytes/sector)  2 partitions covering 1/2 disk each
640MB disk (2048 bytes/sector)  a single partition covering the whole 
disk
640MB disk (2048 bytes/sector)  2 partitions covering 1/2 disk each
When I mount a partition from a 640MB disk, then I change disk and I 
try to mount
the new one (640MB) I get some errors about ext2 corruption(bsd inode 
etc. etc.. But if I do the same with 230MB disk, all goes right. No 
errors, no warning, no data loss.
So we can definitely say that all problems come from the non-standard 
sector size.  After all, support for non-512 bytes sized sectors come 
only with 2.2.1/2 as far I remember (before that I wasn't able to use 
640MB disks at all), so the presence of some hidden bug is somewhat 
normal...
Anyway, how can I trace the bug and fix it ?  My knowledge of the 
kernel is far too spare to locate the bug by myself :(
Bye.
P.S.: The drive do not send UNIT_ATTENTION, so I still need to try to 
mount the device with no disk insented before inserting the new disk to 
force the kernel to consider a disk_change event, but this is another 
story...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/