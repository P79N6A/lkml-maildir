Date: Fri, 10 Jan 2003 22:20:59 -0800
From: Andrew Morton <>
Subject: Re: Linux v2.5.56
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/11/18

On Fri January 10 2003 21:47, Udo A. Steinberg wrote:
>
> On Fri, 10 Jan 2003 12:26:56 -0800 (PST) Linus Torvalds (LT) wrote:
>
> LT> Summary of changes from v2.5.55 to v2.5.56
> LT> ============================================
>
> Hello,
>
> I just got the following bug with 2.5.56 pretty much out of the blue:
>
> VFS: brelse: Trying to free free buffer
> buffer layer error at fs/buffer.c:1182
> Call Trace:
>  [<c0147105>] __brelse+0x35/0x40
Presumably one of your filesystems is using htree (indexed directories).
It's a bug - nobody has found it yet.
The modestly good news is that I have found a workload which triggers it in
ten minutes, but I have not looked into it at all.
The modestly bad news is that e2fsprogs-1.32's mke2fs enables htree by
default.  It really shouldn't be doing that - htree isn't ready yet.
Use
	dumpe2fs -h /dev/hda1 | grep dir_index
to see if htree is enabled.
Use
	tune2fs -O '^dir_index' /dev/hda1
to disable it.
There are no trmendously bad bugs in htree.  Mainly this one (which _could_
cause crashes and scribbled directories) and a small memory leak on each
unlink.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/