Date: Sat, 20 Jul 2002 14:19:39 +1000
From: Rusty Russell <>
Subject: Re: [PATCH] check shm mount succeeded in shmem_file_setup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/20/25

In message <200207191502.KAA02022@ccure.karaya.com> you write:
> rusty@rustcorp.com.au said:
> > And if the initialization fails at boot, we're screwed anyway. 
> 
> Why?  If it fails, it still boots fine until something tries using shared
> memory.  With UML and my Debian fs, that's Apache, which is the last thing
> before the gettys run.
Same argument applies to lots of subsystems, but I'd suggest a policy:
we should be failing the boot rather than coming partially up and
trying to deal with failures that shouldn't happen.
Unfortunately, we don't check init returns at boot, because we
*expect* device driver initialization to fail for builtin device
drivers who have found no device.  It'd be nice to standardize on
-ENODEV for these failures, so we *could* handle these failures
easily, and discourage the current sloppiness.
Cheers,
Rusty.
--
  Anyone who quotes me in their sig is an idiot. -- Rusty Russell.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/