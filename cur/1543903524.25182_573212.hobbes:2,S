Date: Sun, 22 Jul 2007 16:50:39 +0400
From: Dmitry Monakhov <>
Subject: [PATCH 2/2] x86: ignore_int cleanup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/22/98

- for argument was pushed to the stack, but printk use only three of
  them.
Signed-off-by: Dmitry Monakhov <dmonakhov@openvz.org>
---
 arch/i386/kernel/head.S |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)
diff --git a/arch/i386/kernel/head.S b/arch/i386/kernel/head.S
index 7c52b22..9bcd106 100644
--- a/arch/i386/kernel/head.S
+++ b/arch/i386/kernel/head.S
@@ -481,10 +481,9 @@ ignore_int:
 	cmpl $2,early_recursion_flag
 	je hlt_loop
 	incl early_recursion_flag
-	pushl 16(%esp)
-	pushl 24(%esp)
-	pushl 32(%esp)
-	pushl 40(%esp)
+	pushl 20(%esp)
+	pushl 28(%esp)
+	pushl 36(%esp)
 	pushl $int_msg
 #ifdef CONFIG_EARLY_PRINTK
 	call early_printk
-- 
1.5.2.2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/