Date: Sun, 17 Mar 2002 18:34:29 +0000
From: David Woodhouse <>
Subject: Re: Problems using new Linux-2.4 bitkeeper repository.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/17/3

lm@bitmover.com said:
>  Then you get to save them as diffs, unedit the files, and put them
> back  after the merge. 
I can do better than that. If I save them as diffs, I don't get to use your 
cute merge tools. I could commit them with a throwaway changelog, do the 
pull and use the merge tools, then copy the resulting files, undo both the 
pull and the previous merge, do the pull again and then lock the files and 
drop the previously-saved copies into place.
It's a bit contrived though - it would be nice if BK would do something 
like that for me instead of just bailing out when files are modified. 
Asking me if I'm really sure I want to continue is fine. Aborting 
unconditionally less so.
>  citool is a tcl program, how about you hack it in?  Look for
> $diffsOpts, that's what you'll need to modify.  You need to get the
> diffs parsing  code to do the right thing with -up style diffs though.
Er, actually I can't get 'bk diffs -up' to give output the same as (GNU)
'diff -up' either. What I was after was stuff like:
	@@ -331,6 +331,7 @@ int jffs2_decompress(unsigned char compr
> We don't have this feature.  We've talked about it, but that's all
> we've done.
Which? Actually tracking functions that move between files, or the hack in
the merge tool? I appreciate that the former is a _lot_ harder to achieve.
--
dwmw2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/