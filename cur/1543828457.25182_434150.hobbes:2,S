Date: Mon, 19 Jun 2006 09:16:51 -0700
From: Joel Becker <>
Subject: Re: [RFC] [PATCH 5/8] inode-diet: Eliminate i_blksize and use a per-superblock default
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/19/210

On Mon, Jun 19, 2006 at 04:58:21PM +0100, Christoph Hellwig wrote:
> Blease don't add a field to the superblock for the optimal I/O size.
> Any filesystem that wants to override it can do so directly in ->getattr.
	I don't disagree with you, but the idea of everyone implementing
->getattr where they just let it work before scares me.  It's a ton of
cut-n-paste error waiting to happen.  Especially if we make something
stale.
	Perhaps add generic_fillattr_blksize()?
myfs_fillattr(inode, stat)
{
    generic_fillattr_size(inode, myfavoriteblksize, stat)
}
Joel
-- 
Life's Little Instruction Book #407
	"Every once in a while, take the scenic route."
Joel Becker
Principal Software Developer
Oracle
E-mail: joel.becker@oracle.com
Phone: (650) 506-8127
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/