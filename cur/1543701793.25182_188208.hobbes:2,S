Date: Sun, 4 Jan 2004 22:37:10 +0000
From:  viro@parcelfa ...
Subject: Re: udev and devfs - The final word
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/4/156

On Sun, Jan 04, 2004 at 11:01:04PM +0100, Andries Brouwer wrote:
> A common Unix idiom is testing for the identity
> of two files by comparing st_ino and st_dev.
> A broken idiom?
	No, just your usual highly selective reading.  First of all, that
idiom relies only on different ->s_dev *among* *currently* *mounted*
*filesystems*.  In part that has anything to do with devices, it means
only one thing:
	Any two different block devices that are both currently opened by
	the kernel and are both alive must have different device numbers.
Note the "are alive" part - we can even allow reuse of device numbers
as long as we make sure that stat() will fail on filesystems mounted
from dead ones.
Now, care to explain how preserving aforementioned common Unix idiom
is related to your expostulations?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/