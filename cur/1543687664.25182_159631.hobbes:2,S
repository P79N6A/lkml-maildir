Date: Fri, 22 Aug 2003 15:48:01 -0500
From: Wes Janzen <>
Subject: Re: [PATCH] O17int
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/22/179

Yep, those are very bad stalls, much worse than the normal temporary 
stalls when something is running in the background.  I think part of 
that can be attributed to mozilla, which likes to do very little for a 
while, then jump up to 5% for a little bit and then up to 35% for 5 
seconds or so. 
With something running in the background, things get very bad.  Those 
vmstat were supposed to be reported at 5 second intervals, but they were 
not being reported at the rate during the problem.  Those represent 
about 5 minutes of stalling.  I could live with a short stall, but 5 
minutes where the computer barely takes input is crazy.  X becomes 
totally unresponsive to the point I cannot switch to a VT. 
I started a shutdown one time with the acipd daemon watching for power 
button events.  It took 1 hour 30 minutes from the time it said that it 
was shutting down (I could hear the beep from the shutdown process) to 
the point I got to "Stopping at daemon" which is barely into the 
shutdown cycle.  Even then I waited another 10 minutes for it to 
complete the shutdown and it never did.  All I was doing there was 
compiling in a gnome-terminal, and had just clicked on a bug-buddy 
window to get it to show debugging information.  I couldn't get to a VT 
so I wasn't able to get a vmstat log of that one. 
Even if this is due to a bad interaction between a program and X, it 
shouldn't be able to bring the system to its knees.
Kernel version:
2.6.0-test3-mm2 + O16.3int
Mike Galbraith wrote:
>
> Those high interrupt counts are all stalls?  What kernel is that?
>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/