Date: Mon, 10 Mar 2008 14:37:13 +0200
From: Tarkan Erimer <>
Subject: Re: [BUG] Linux-2.6.25-rc4 (and also in rc3) Compile Error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/10/76

Tarkan Erimer wrote:
> Jeremy Fitzhardinge wrote:
>> At what point does it fail?  Is it early in the build, or late?  
>> What's your build command line?
>>
>>    J
> I use Kubuntu's own kernel build via the command "make-kpkg 
> --revision=1  kernel_image kernel_headers". It fails at the very early 
> build stage. When issued this command, just after few lines and then 
> it fails. Today, I will try the same .config with recently released 
> rc5 and will let know the result.
>
I tried with .rc5 now and the result is the same. I attached the full 
error log.
/usr/src/linux-2.6.25-rc5# make-kpkg --revision=1  kernel_image kernel_headers
exec make -f /usr/share/kernel-package/ruleset/minimal.mk debian DEBIAN_REVISION=1
====== making target minimal_debian [new prereqs: ]======
This is kernel package version .
test -d debian || mkdir debian
test ! -e stamp-building || rm -f stamp-building
test -f debian/control || sed         -e 's/=V/2.6.25-rc5/g'        \
                -e 's/=D/1/g'         -e 's/=A/i386/g'  \
                -e 's/=SA//g'   -e 's/=L/ /g' \
                -e 's/=I//g'                                    \
                -e 's/=CV/2.6/g'                       \
                -e 's/=M/Unknown Kernel Package Maintainer <unknown@unconfigured.in.etc.kernel-pkg.conf>/g'                        \
                -e 's/=ST/linux/g'      -e 's/=B/xen/g'    \
                         /usr/share/kernel-package/Control > debian/control
test -f debian/changelog ||  sed -e 's/=V/2.6.25-rc5/g'             \
            -e 's/=D/1/g'        -e 's/=A/i386/g'       \
            -e 's/=ST/linux/g'     -e 's/=B/xen/g'         \
            -e 's/=M/Unknown Kernel Package Maintainer <unknown@unconfigured.in.etc.kernel-pkg.conf>/g'                        \
             /usr/share/kernel-package/changelog > debian/changelog
install -p -m 755 /usr/share/kernel-package/rules debian/rules
for file in ChangeLog  Control  Control.bin86 config templates.in rules; do                                      \
            cp -f  /usr/share/kernel-package/$file ./debian/;                               \
        done
for dir  in Config docs examples ruleset scripts pkg po;  do                                      \
          cp -af /usr/share/kernel-package/$dir  ./debian/;                                 \
        done
test -d ./debian/stamps || mkdir debian/stamps
exec debian/rules  DEBIAN_REVISION=1  kernel_image kernel_headers
[: 1: 2: unexpected operator
[: 1: 2: unexpected operator
[: 1: 3: unexpected operator
[: 1: 2: unexpected operator
[: 1: 2: unexpected operator
[: 1: 2: unexpected operator
[: 1: 2: unexpected operator
[: 1: 2: unexpected operator
[: 1: 2: unexpected operator
[: 1: 2: unexpected operator
[: 1: 2: unexpected operator
====== making target CONFIG-common [new prereqs: testdir]======
====== making target debian/stamp-conf [new prereqs: ]======
# work around idiocy in recent kernel versions
test ! -e scripts/package/builddeb || \
            mv -f scripts/package/builddeb scripts/package/builddeb.kpkg-dist
test ! -e scripts/package/Makefile || \
            (mv -f scripts/package/Makefile scripts/package/Makefile.kpkg-dist && \
               (echo "# Dummy file "; echo "help:") >  scripts/package/Makefile)
test -d debian || mkdir ./debian
test ! -e stamp-building || rm -f stamp-building
test ! -f ./debian || test -f stamp-debian || test -f debian/official || \
               (rm -rf ./debian && mkdir ./debian)
test -f stamp-debian  ||                                           \
          ( test -f debian/official && test -f debian/control) ||          \
           sed -e 's/=V/../g'         -e 's/=D/1/g'        \
               -e 's/=A/i386/g'   -e 's/=SA//g'  \
                -e 's/=L/grub,xen-vm, /g' -e 's/=I//g'     \
                -e 's/=CV/./g'                      \
                -e 's/=M/Unknown Kernel Package Maintainer <unknown@unconfigured.in.etc.kernel-pkg.conf>/g'                       \
                -e 's/=ST/linux/g'      -e 's/=B/xen/g'   \
                         /usr/share/kernel-package/Control> debian/control
test -f stamp-debian  ||    test -f debian/official ||                \
           sed -e 's/=V/../g' -e 's/=D/1/g'                   \
            -e 's/=A/i386/g' -e 's/=M/Unknown Kernel Package Maintainer <unknown@unconfigured.in.etc.kernel-pkg.conf>/g' \
            -e 's/=ST/linux/g'     -e 's/=B/xen/g'           \
                /usr/share/kernel-package/changelog > debian/changelog
test  -f debian/rules || install -p -m 755 /usr/share/kernel-package/rules debian/rules
test  -f stamp-debian || test -f debian/official ||                     \
           for file in ChangeLog  Control  Control.bin86 config templates.in rules; do                                      \
               cp -f  /usr/share/kernel-package/$file ./debian/;                               \
           done
test  -f stamp-debian || test -f debian/official ||                     \
           for dir  in Config docs examples ruleset scripts pkg po;  do                                      \
             cp -af /usr/share/kernel-package/$dir  ./debian/;                                 \
           done
echo done >  stamp-debian
echo done >  debian/stamp-conf
====== making target CONFIG-common [new prereqs: stamp-conf]======
This is kernel package version 11.001.
====== making target stamp-arch-conf [new prereqs: CONFIG-common]======
====== making target CONFIG-arch [new prereqs: stamp-arch-conf]======
====== making target conf.vars [new prereqs: Makefile .config]======
Makefile:514: /usr/src/linux-2.6.25-rc5/arch/xen/Makefile: No such file or directory
make[1]: *** No rule to make target `/usr/src/linux-2.6.25-rc5/arch/xen/Makefile'.  Stop.
make: *** [conf.vars] Error 2
root@tarkane:/usr/src/linux-2.6.25-rc5#                                              