Date: Wed, 29 Sep 1999 18:38:09 -0400
From: Didier CONTIS <>
Subject: [OOPS] : kupdate + SMP
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/29/141

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
I have an unstable NFS server which tends to reboot every three days.
My current kernel is 2.2.13pre11, which knfsd-1.4.7 (+patches applied).
My configuration is a Dell PowerEdge 4300, Onboard aic7890, DTP raid card, 
Adaptec UW2940 (for
managing a DLT tape drive), 2 CPUs, 1 Raid 5 volume of ~80Go.
I am running Redhat 6.0 + latest updates.
Here is the output of the OOPS (taken by hand, since it did not appears in 
the /var/log/messages).
kernel: Oops: 0002
kernel: CPU:    1
kernel: EIP:    0010:[<c01e044d>]
kernel: EFLAGS: 00010002
kernel: eax: dffb0078   ebx: dffb0078   ecx: 00000001   edx: 00000086
kernel: esi: 00000000   edi: 00000046   ebp: 00000006   esp: dffd35d4
kernel: ds: 0018   es: 0018   ss: 0018
kernel: Process kupdate (pid: 3, process nr: 4, stackpage=dffd3000)
kernel: Stack: dffb0000 dff88c00 00000000 00000001 dffb8080 c01bcbd8 
dff88c00 00000001
kernel:        00000001 dff88c00 00000002 dffd3644 00000001 c01bc7af 
dff88c00 00000001
kernel:        c02126e0 00000003 00000000 dffb0078 00000000 c01bc364 
00000002 00000000
kernel: Call Trace: [<c01bcbd8>] [<c01bc7af>] [<c02126e0>] [<c01bc364>] 
[<c01e16d7>] [<c01deef7>] [<c01e1270>]
                     [<c01deef7>] [<c01deef7>] [<c01e1270>] [<c01deef7>] 
[<c01deef7>] [<c01e1270>] [<c019b7c7>] [<c01e91a9>]
                     [<c019c3e6>] [<c019f9f9>] [<c01162cf>] [<c01ba9ec>] 
[<c01b919b>] [<c01b925f>] [<c01bc364>] [<c01bc820>]
                     [<c01bc364>] [<c01e10d7>] [<c01ba9ec>] [<c01b6d35>] 
[<c01b6e0a>] [<c01bc364>] [<c02138ad>] [<c01c4215>]
                     [<c01c2b98>] [<c01b6e0a>] [<c01b44ee>] [<c0210008>] 
[<c01130bf>] [<c01c34d0>] [<c019026c>] [<c0190356>]
                     [<c0190d1b>] [<c0190ee7>] [<c012b4a7>] [<c01f5f4b>] 
[<c012b980>] [<c0106000>] [<c0107cdf>]
kernel: Code: c7 86 10 01 00 00 00 00 08 00 56 8b 86 e4 00 00 00 ff d0 83
I have been unable to run ksymoops :
ksymoops 0.7c on i686 2.2.13pre11.  Options used
      -v /usr/src/linux/vmlinux (specified)
      -k /proc/ksyms (default)
      -l /proc/modules (default)
      -o /lib/modules/2.2.13pre11/ (default)
      -m /usr/src/linux/System.map (default)
No modules in ksyms, skipping objects
Warning (read_lsmod): no symbols in lsmod, is /proc/modules a valid lsmod file?
                    [<c01deef7>] [<c01deef7>] [<c01e1270>] [<c01deef7>] 
[<c01deef7>] [<c01e1270>] [<c019b7c7>] [<c01e91a9>]
                    [<c019c3e6>] [<c019f9f9>] [<c01162cf>] [<c01ba9ec>] 
[<c01b919b>] [<c01b925f>] [<c01bc364>] [<c01bc820>]
                    [<c01bc364>] [<c01e10d7>] [<c01ba9ec>] [<c01b6d35>] 
[<c01b6e0a>] [<c01bc364>] [<c02138ad>] [<c01c4215>]
                    [<c01c2b98>] [<c01b6e0a>] [<c01b44ee>] [<c0210008>] 
[<c01130bf>] [<c01c34d0>] [<c019026c>] [<c0190356>]
                     [<c0190d1b>] [<c0190ee7>] [<c012b4a7>] [<c01f5f4b>] 
[<c012b980>] [<c0106000>] [<c0107cdf>]
All the drivers are built in the kernel, not as modules.
Can someone help me ? Is someone can give me a hint on how to run ksymoops 
since I do not have yet
a useful output.
Below is some additionnal info.
Thanks for any help. Didier.
* # cat /proc/scsi/scsi
Attached devices:
Host: scsi0 Channel: 00 Id: 06 Lun: 00
   Vendor: QUANTUM  Model: DLT7000          Rev: 2150
   Type:   Sequential-Access                ANSI SCSI revision: 02
Host: scsi1 Channel: 00 Id: 00 Lun: 00
   Vendor: IBM      Model: DDRS-39130D      Rev: DC1B
   Type:   Direct-Access                    ANSI SCSI revision: 02
Host: scsi2 Channel: 00 Id: 05 Lun: 00
   Vendor: NEC      Model: CD-ROM DRIVE:466 Rev: 1.06
   Type:   CD-ROM                           ANSI SCSI revision: 02
Host: scsi3 Channel: 00 Id: 00 Lun: 00
   Vendor: DPT      Model: RAID-5           Rev: 211D
   Type:   Direct-Access                    ANSI SCSI revision: 02
Host: scsi3 Channel: 00 Id: 06 Lun: 00
   Vendor: DELL     Model: 1x6 U2W SCSI BP  Rev: 5.23
   Type:   Processor                        ANSI SCSI revision: 02
* [root@yamacraw scripts]# ./ver_linux
- -- Versions installed: (if some fields are empty or looks
- -- unusual then possibly you have very old versions)
Linux yamacraw.ece.gatech.edu 2.2.13pre11 #2 SMP Thu Sep 23 08:00:13 EDT 
1999 i686 unknown
Kernel modules         2.1.121
Gnu C                  egcs-2.91.66
Binutils               2.9.1.0.23
Linux C Library        2.1.1
Dynamic linker         ldd (GNU libc) 2.1.1
Procps                 2.0.2
Mount                  2.9o
Net-tools              1.52
Console-tools          1999.03.02
Sh-utils               1.16
Modules Loaded         
-----BEGIN PGP SIGNATURE-----
Version: PGPfreeware 6.5.1 for non-commercial use <
http://www.pgp.com
>
iQA/AwUBN/KU0V1P+9FfLSJ3EQIxLQCbBcfXgH66Oxi5g0kfeSETZuUKV4QAoJBd
VE+tHaHysP3hFhulB5uRJERL
=82GV
-----END PGP SIGNATURE-----
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/