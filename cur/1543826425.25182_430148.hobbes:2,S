Date: Mon, 5 Jun 2006 09:37:01 -0700
From: Rajesh Shah <>
Subject: Re: [PATCH 8/9] PCI PM: clear IO and MEM when disabling a device
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/5/187

On Mon, Jun 05, 2006 at 04:46:16AM -0400, Adam Belay wrote:
> This patch modifies pci_disable_device() to clear IO and MEM from the
> COMMAND PCI config register.  This is required before entering D3,  but
> also probably a good general practice for system suspend.
> 
I'd submitted a patch to do this about a month ago, see
http://marc.theaimsgroup.com/?l=linux-pci&m=114669552428309&w=2
That patch does the same thing, but in arch specific code (since
that's where memory and IO decode get enabled today). This patch
will cover the other arch's too, so I'm fine with this if this
is the right thing to do. My original patch is already in Greg's
tree and needs to be removed if this patch is accepted.
thanks,
Rajesh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/