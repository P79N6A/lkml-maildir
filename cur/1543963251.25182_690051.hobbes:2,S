Date: Wed, 07 May 2008 19:28:57 -0700
From: "H. Peter Anvin" <>
Subject: Re: [PATCH] x86: introduce a new Linux defined feature flag for PAT support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/7/466

Linus Torvalds wrote:
> 
>> *Certainly* I don't want anything like this crap:
>>
>>> -    if (cpu_has_pat)
>>> +    if (cpu_has_pat && cpu_has_pat_good)
> 
> This in fact is likely the best part of it.
> 
> Because that at least guarantees that we never say we have a good PAT when 
> the hardware doesn't even report it.
> 
> As it is, we seem to just blindly override hardware. It may be correct for 
> all the models we override, but still..
> 
Yah, this is not good.  We should mask out the bit, but never, ever, set 
it if it was clear to begin with (unless we have it on really, *really*, 
good authority.)
I'm embarrassed to have let that slink by.
	-hpa