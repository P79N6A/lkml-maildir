Date: Fri, 25 Jan 2008 13:54:55 +0800
From: "Huang, Ying" <>
Subject: [PATCH 2/6] x86: make early_ioremap_debug early_param
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/25/13

This patch makes "early_ioremap_debug" a early parameter, because
"early_ioreamp/early_iounmap" is only used during early boot stage.
Signed-off-by: Huang Ying <ying.huang@intel.com>
---
 arch/x86/mm/ioremap_32.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)
--- a/arch/x86/mm/ioremap_32.c
+++ b/arch/x86/mm/ioremap_32.c
@@ -215,9 +215,9 @@ static int __init early_ioremap_debug_se
 {
 	early_ioremap_debug = 1;
 
-	return 1;
+	return 0;
 }
-__setup("early_ioremap_debug", early_ioremap_debug_setup);
+early_param("early_ioremap_debug", early_ioremap_debug_setup);
 
 static __initdata int after_paging_init;
 static __initdata pte_t bm_pte[PAGE_SIZE/sizeof(pte_t)]