Date: Tue, 6 May 2003 06:41:57 -0400 (EDT)
From: Zwane Mwaikambo <>
Subject: Re: 2.5.68-mmX: Drowning in irq 7: nobody cared!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/6/87

On Tue, 6 May 2003, Alan Cox wrote:
> With APIC at least it doesnt suprise me the least. The IRQ hack seems
> extremely racey. Remember on most systems (especially with PIII type
> APIC) IRQ delivery is asynchronous to the bus so you get
> 
> IRQ arrives
> 			sound card
> 			loop
> 				clean up IRQ
> IRQ sent
> 				still more work, do it
> 			done
> 			HANDLED
> 
> IRQ arrives
> 			sound card
> 			Umm duh no work for me
> 			NOT HANDLED
> 
> 		Whine
> 
> For anything where you get pairs of close IRQ's
Shouldn't this also be observed more easily on P4/xAPIC since you can have 
a pending vector in the IRR and ISR whilst the core processes one.
	Zwane
-- 
function.linuxpower.ca
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/