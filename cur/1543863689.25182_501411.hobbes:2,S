Date: Wed, 24 Jan 2007 16:19:52 -0500
From: David Moore <>
Subject: Re: In-tree version of new FireWire drivers available
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/1/24/216

Kristian HÃ¸gsberg wrote:
>  - Always allocate a page for headers and a page for the payload.
This method would not really be acceptable as a replacement for 
video1394, since video buffers can often be many tens of megabytes. 
Doubling the space requirement would be a big deal and may cause the 
allocation to fail.
How about this solution:
Give userspace the option of specifying the exact size of the received 
ISO packets.  If userspace provides this, you can allocate the dual 
buffer descriptors appropriately.
If userspace does not know the exact size of the received ISO packets or 
does not specify it, then use dual buffer descriptors for only the first 
packet, and use regular buffer fill for the remaining packets.
I suggest this strategy because I can't think of an application that 
needs all the packet headers, yet doesn't know the exact size of the 
packet.  Is there such an application?
-David
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/