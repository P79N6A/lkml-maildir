Date: Sun, 30 Jan 2005 13:15:49 +0100
From: Michael Gernoth <>
Subject: Re: 2.4.29, e100 and a WOL packet causes keventd going mad
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/30/38

On Sat, Jan 29, 2005 at 04:18:21PM -0200, Marcelo Tosatti wrote:
> Probably a task event is rescheduling itself repeatedly? e100 does not seem 
> to schedule_task() events directly, so I wonder what is going on.
> 
> Can you boot a machine with profile=2, then send the WOL packet causing
> keventd to go mad and run:
> 
> readprofile | sort -nr +2 | head -20
faui07c:~# readprofile | sort -nr +2 | head -20
  2352 acpi_ns_get_next_valid_node              130.6667
  9577 acpi_os_read_port                        121.2278
  4431 acpi_os_signal_semaphore                 100.7045
  4639 default_idle                              57.9875
  4363 acpi_ns_get_next_node                     57.4079
  5957 acpi_ns_delete_namespace_by_owner         37.7025
  2307 acpi_os_write_port                        34.9545
  4048 acpi_os_wait_semaphore                    18.8279
  1924 acpi_ut_acquire_mutex                     16.8772
   492 __rdtsc_delay                             15.3750
   526 acpi_os_get_thread_id                     15.0286
  1421 acpi_ut_release_mutex                     13.1574
   339 acpi_ns_get_parent_node                   11.6897
  1506 acpi_ut_release_to_cache                  10.9130
  1600 acpi_ut_acquire_from_cache                 9.8160
   909 acpi_ds_method_data_init                   8.4953
   327 acpi_ut_valid_acpi_name                    6.9574
   311 acpi_ns_search_node                        4.7121
   268 acpi_ps_get_opcode_info                    4.0606
    31 acpi_ut_delete_generic_state_cache         3.4444
The machine has an uptime of 10 minutes at that point, and the second
WOL packet was sent directly after the machine came up and I was able
to ssh into it.
Regards,
  Michael
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/