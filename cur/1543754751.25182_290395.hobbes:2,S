Date: Thu, 27 Jan 2005 11:50:38 -0500
From: David Hollis <>
Subject: Re: confguring grub to load new kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/27/159

On Thu, 2005-01-27 at 01:01 -0500, sudhir@digitallink.com.np wrote:
> Hi,
> 
> I just compiled kernel 2.6.10 and now wondering how to make the grub to
> load the newkernel.
> 
> The grub.conf file is configured as:
> 
> #boot=/dev/hda
> default=1
> timeout=10
> splashimage=(hd0,5)/boot/grub/splash.xpm.gz
> title Red Hat Linux (2.4.20-8)
>         root (hd0,5)
>         kernel /boot/vmlinuz-2.4.20-8 ro root=LABEL=/
>         initrd /boot/initrd-2.4.20-8.img
> title DOS
>         rootnoverify (hd0,0)
>         chainloader +1
> 
> 
> How should I change the configuration?
Upgrade your modutils to the one from Fedora Core 2.  It supports the
2.6 modules as well as 2.4 so you are covered in either case.  FC3 now
uses module-init-tools which only works with 2.6.  You should be able to
just run a 'make install' which will use /sbin/installkernel to setup
the proper files in /boot.
The Fedora kernel RPMS use this kind of statement to add the entries to
grub:
[ -x /sbin/new-kernel-pkg ] && /sbin/new-kernel-pkg --package kernel --
mkinitrd --depmod --install 2.6.10-1.741_FC3
Should work for you as well with no issues.
-- 
David Hollis <dhollis@davehollis.com>
[unhandled content-type:application/pgp-signature]