Date: Mon, 07 Jan 2008 11:09:23 +0100
From: 	devzero@web ...
Subject: Re: [patch 1/2] show being-loaded/being-unloaded indic ator for modules
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/7/57

this looks very useful!
>Unfortunatly, it's not always easy to see directly
>which module is being loaded/unloaded from the oops itself.
no wonder, as most modules seem to be very quiet on on load/unload.
some days ago i was curious how "consistent" modules would leave messages in syslog load/unload.
this is why i made a little statistic on that.
i`d like to share the essential part here (can provide more details if you like):
on load, 1204 on unload, 1655 (out of 2088) left absoultely _no_ message in syslog           
example:
3c359 - silence
3c501 - silence
3c503 - 2 lines on load, 0 on unload
3c505 - 3 lines on load, 0 on unload
3c507 - silence
3c509 - silence
3c515 - 1 line on load, 0 on unload
3c574_cs - silence
3c589_cs - silence
3c59x  - silence
ok, this is not too reliable, because modules might act differently if they find appropriate hardware.
but i wonder if some mandatory "print a message on init/exit" wouldn`t give a benefit to admins or end-users, too.
sure this would additionally clutter up syslog, but it would add transparency.
if modules can print informations like credits, email-adresses and path-to-the-source-files, why not some mandatory message on load/unload then....
>List:       linux-kernel
>Subject:    [patch 1/2] show being-loaded/being-unloaded indicator for modules
>From:       Arjan van de Ven <arjan () infradead ! org>
>Date:       2008-01-06 23:18:50
>Message-ID: 20080106151850.3eab58b0 () laptopd505 ! fenrus ! org
>[Download message RAW]
>
>Subject: show being-loaded/being-unloaded indicator for modules in oopses
>From: Arjan van de Ven <arjan@linux.intel.com>
>CC: rusty@rustcorp.com.au
>CC: ak@suse.de
>CC: mingo@elte.hu
>
>It's rather common that an oops/WARN_ON/BUG happens during the load or
>unload of a module. Unfortunatly, it's not always easy to see directly
>which module is being loaded/unloaded from the oops itself. Worse,
>it's not even always possible to ask the bug reporter, since there
>are so many components (udev etc) that auto-load modules that there's
>a good chance that even the reporter doesn't know which module this is.
>
>This patch extends the existing "show if it's tainting" print code,
>which is used as part of printing the modules in the oops/BUG/WARN_ON
>to include a "+" for "being loaded" and a "-" for "being unloaded".
>As a result this extension, the "taint_flags()" function gets renamed to
>"module_flags()" (and takes a module struct as argument, not a taint
>flags int).
_____________________________________________________________________
Der WEB.DE SmartSurfer hilft bis zu 70% Ihrer Onlinekosten zu sparen!
http://smartsurfer.web.de/?mc=100071&distributionid=000000000066