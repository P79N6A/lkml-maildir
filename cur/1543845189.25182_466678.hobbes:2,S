Date: Tue, 26 Sep 2006 15:36:38 +0200
From: Peter Zijlstra <>
Subject: Re: [PATCH 2/2] serio: lockdep annotation for ps2dev->cmd_mutex and serio->lock
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/26/135

On Tue, 2006-09-26 at 15:21 +0200, Jiri Kosina wrote:
> the lockdep part of the patch (1/2) is OK. The second part, specifically 
> the libps2.c changes, are not complete - the originally (wrongly) 
> introduced mutex_lock_nested() has to be changed back to mutex_lock(), 
> otherwise we will get spurious warning from lockdep about ps2_mutex_key.
Ah, missed that that part was actually in the tree ;-)
> Below is the fixed version of the patch. I confirm that this (together 
> with Peter's original changes in lockdep, already acked by Ingo) fixes the 
> synpatics passthrough port lockdep warnings.
> 
> So, as long as you, Dmitry, seem to be convenient with this approach, 
> please apply. Thanks.
> 
> Signed-off-by: Jiri Kosina <jikos@jikos.cz>
Acked-by: Peter Zijlstra <a.p.zijlstra@chello.nl>
Thanks for testing
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/