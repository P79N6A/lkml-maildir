Date: Wed, 30 Aug 2006 09:45:31 +1000
From: Nigel Cunningham <>
Subject: Re: megaraid_sas suspend ok, resume oops
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/29/359

Hi.
On Tue, 2006-08-29 at 20:22 +0800, Jeff Chua wrote:
> On 8/29/06, Jens Axboe <axboe@kernel.dk> wrote:
> > On Tue, Aug 29 2006, Jeff Chua wrote:
> > > Anyone working on suspend/resume for the Megaraid SAS RAID card?
> > >
> > > This is on a DELL 2950.
> > >
> > > Suspend/resume (to disk) has been running great on my IBM x60s, but
> > > when I tried the same kernel (2.6.18-rc4) on the DELL 2950, it
> > > suspended ok, but when resuming, the megaraid driver crashed.
> >
> > And what exactly is your intention with this email? It can't be getting
> > the bug fixed, since there's exactly 0% information to help people doing
> > so :-)
> >
> > IOW, provide the oops from the resume crash at least.
> 
> The intend is to see if there's already someone working on, and if so,
> then it'll not be good to post oops that has already been taken care
> of. I'm trying not to send unnecessary info.
> 
> I'll try to get oops in the next few days when I get a chance.
> Currently traveling.
> 
> 
> Another point ... on IBM x60s notebook, setting ...
> 
>        High Memory Support (64GB)
>                CONFIG_HIGHMEM64G=y
>                CONFIG_RESOURCES_64BIT=y
>                CONFIG_X86_PAE=y
> 
> will cause resume to "REBOOT" sometimes (may be 6 out of 10).
> 
> I was trying to compile a kernel that would run both on the DELL with
> 16GB RAM, and on my IBM notebook with 2GB RAM.
> 
> But without 64 bit support, my notebook will suspend/resume many times
> without failing (with the 5 ahci patches from Pavel Machek)....
Neither swsusp (as far as I know) or suspend2 support CONFIG_HIGHMEM64G
at the moment, I'm afraid.
It's not impossible, we just haven't seen it as a priority worth putting
time into. Do you really have more than 4GB of RAM and want to suspend
to disk?
Regards,
Nigel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/