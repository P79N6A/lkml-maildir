Date: Fri, 26 Nov 1999 10:32:33 +0000
From: Hannes Reinecke <>
Subject: PCI problems on alpha (2.3.29/30pre)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/26/36

Hiya,
after finally someone got around to fix the 2.3.X series for the alpha
(thanks, Andrea !), I gave it a go and was quite impressed with it.
Unfortunately, the graphics card (Matrix Mystique) did not advertise it
Expansion Rom via PCI and subsequently X stopped working (XFree86
3.9.16b; it tried to allocate the memory region 0xC0000 - 0xFFFFF, which
obviously failed). And lspci still doubles all PCI devices, for reasons
best known to themselves.
I've attached the lspci output for 2.2.12 and 2.3.30pre1, just in case
someone more knowledgeable finds it useful.
TIA,
Hannes
-- 
Hannes Reinecke                                 <civhr@civ.hw.ac.uk>
Fluid Loading and Instrumentation Center        Tel: (+44) 131 451 3149
Dept. of Civil & Offshore Engineering           Fax: (+44) 131 451 3154
Heriot Watt University, Edinburgh EH14 4AS00:09.0 VGA compatible controller: Matrox Graphics, Inc. MGA 1064SG [Mystique] (rev 03)
	Subsystem: Unknown device 102b:0100
	Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping+ SERR- FastB2B-
	Status: Cap- 66Mhz- UDF- FastB2B+ ParErr- DEVSEL=medium >TAbort- <TAbort- <MAbort- >SERR- <PERR-
	Latency: 32 set
	Interrupt: pin A routed to IRQ 24
	Region 0: Memory at 0000000009800000 (32-bit, prefetchable)
	Region 1: Memory at 000000000a000000 (32-bit, non-prefetchable)
	Region 2: Memory at 000000000a800000 (32-bit, non-prefetchable)
	Expansion ROM at 000c0000
00: 2b 10 1a 05 87 00 80 02 03 00 00 03 00 20 00 00
10: 08 00 80 09 00 00 00 0a 00 00 80 0a 00 00 00 00
20: 00 00 00 00 00 00 00 00 00 00 00 00 2b 10 00 01
30: 01 00 0c 00 00 00 00 00 00 00 00 00 18 01 00 00
40: 21 4f 0c 5f 08 3c 00 00 00 00 ff 00 00 00 00 00
50: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
70: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
a0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
b0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
c0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
d0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
e0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00:09.0 VGA compatible controller: Matrox Graphics, Inc. MGA 1064SG [Mystique] (rev 03)
	Subsystem: Unknown device 102b:0100
	Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping+ SERR- FastB2B-
	Status: Cap- 66Mhz- UDF- FastB2B+ ParErr- DEVSEL=medium >TAbort- <TAbort- <MAbort- >SERR- <PERR-
	Latency: 32 set
	Interrupt: pin A routed to IRQ 24
	Region 0: Memory at 0000000009800000 (32-bit, prefetchable)
	Region 1: Memory at 0000000009004000 (32-bit, non-prefetchable)
	Region 2: Memory at 000000000a000000 (32-bit, non-prefetchable)
00: 2b 10 1a 05 87 00 80 02 03 00 00 03 00 20 00 00
10: 08 00 80 09 00 40 00 09 00 00 00 0a 00 00 00 00
20: 00 00 00 00 00 00 00 00 00 00 00 00 2b 10 00 01
30: 00 00 0c 00 00 00 00 00 00 00 00 00 18 01 00 00
40: 21 4f 0c 5f 00 3c 00 00 06 00 ff 06 00 00 00 00
50: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
70: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
a0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
b0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
c0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
d0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
e0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00:09.0 VGA compatible controller: Matrox Graphics, Inc. MGA 1064SG [Mystique] (rev 03)
	Subsystem: Unknown device 102b:0100
	Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping+ SERR- FastB2B-
	Status: Cap- 66Mhz- UDF- FastB2B+ ParErr- DEVSEL=medium >TAbort- <TAbort- <MAbort- >SERR- <PERR-
	Latency: 32 set
	Interrupt: pin A routed to IRQ 0
	Region 0: Memory at <ignored> (32-bit, prefetchable)
	Region 1: Memory at <ignored> (32-bit, non-prefetchable)
	Region 2: Memory at <ignored> (32-bit, non-prefetchable)
00: 2b 10 1a 05 87 00 80 02 03 00 00 03 00 20 00 00
10: 08 00 80 09 00 40 00 09 00 00 00 0a 00 00 00 00
20: 00 00 00 00 00 00 00 00 00 00 00 00 2b 10 00 01
30: 00 00 0c 00 00 00 00 00 00 00 00 00 18 01 00 00
40: 21 4f 0c 5f 00 3c 00 00 06 00 ff 06 00 00 00 00
50: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
70: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
a0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
b0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
c0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
d0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
e0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00