Date: Wed, 22 Dec 1999 21:11:54 -0600
From: "water modem" <>
Subject: Re: [linux-usb] Re: [patch] drivers/usb/usb.c: auto loading of USB
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/23/26

A question tangential to this...
   I have a machine with a USB (Logitech) mouse plugged into a M$ usb keyboard
plugged into a Dell.  It is running dual boot RH 6.0 with kernel 2.3.33 (usb
enabled) and Win98.  For RH to work with the keyboard I needed to plug it into
the mouse PS/2 port and USB (the kbd PS/2 port is crushed).
After a lot of pain I got it running fine in X (gnome).   I went home leaving it
at login screen.
Came back this morning and I couldn't click or type anything but I could telnet
to it.  After rebooting, X-Windows no longer worked and I couldn't make the
mouse work.  (linux sees it)  I have seen Win98 loose the mouse too.   In Win98
I could reset the mouse by unplugging it and re-plugging it.  This didn't work
for linux.
I guess I have a lot of questions here.
   1)   why does usb access seem to time out?
   2)   how do I make linux see a usb keyboard without the PS/2 plug?
   3)   do I need to do some sort of mknod for the keyboard like I did with the
mouse?
   4)   why doesn't X see the mouse anymore?   (do I need to repeat the mknod? )
Thanks...
----- Original Message -----
From: "Alan Cox" <alan@lxorguk.ukuu.org.uk>
To: "Tim Waugh" <twaugh@redhat.com>
Cc: <alan@lxorguk.ukuu.org.uk>; <sailer@ife.ee.ethz.ch>; <wakko@animx.eu.org>;
<linux-kernel@vger.rutgers.edu>; <linux-usb@suse.com>
Sent: Tuesday, December 21, 1999 8:09 AM
Subject: Re: [linux-usb] Re: [patch] drivers/usb/usb.c: auto loading of USB
> > > Then usb-uhci is unloaded after time, possibly when usbcore isnt. It
doesn't
> >
> > Not if the -k option isn't given to modprobe in the post-install rule.
> > Anyway, the MOD_USE_COUNT should take care of that, surely?
>
> So you want to wedge it in memory. MOD_USE_COUNT btw doesn't take care of it.
>
> > > Dont go that way . The sound folks relied on it for a bit - its a mistake
> >
> > I don't see why it's any worse than having magic module aliases in the
> > kernel (with the implicit assumption that there is only _one_ possible
> > lowlevel parport/scsi/usb driver for any one machine).
>
> The assumption is fixable
>
> if(no_driver_for(bus))
> {
> char buf[64];
> sprintf(buf, "usb_bus %d", bus);
> ....
>
> }
>
>
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.rutgers.edu
> Please read the FAQ at 
http://www.tux.org/lkml/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/