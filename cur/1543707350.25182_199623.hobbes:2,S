Date: Wed, 18 Feb 2004 16:07:02 +0530
From: Niraj Kumar <>
Subject: Re: [PATCH] [2.6]  UFS2 Read Only Patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/18/49

Andrew,
Thanks for the comments.
>> The patch for 2.6.3 is here :
>> 
http://ufs-linux.sourceforge.net/ufs2/2.6.3/ufs2-read-only-p1.txt
>> 
http://ufs-linux.sourceforge.net/ufs2/2.6.3/ufs2-read-only-p2.txt
>> 
>>
>
>ooh, I see you have a mkfs.ufs there.  Does it support UFS1 as well?
>
Yeah , it does support UFS1 as well ....
>Does current UFS support little-endian machines?  If so, has this code been
>tested on a little-endian host?  The code _looks_ OK, but one does need to
>test...
>
This patch has been somewhat tested on my "Pentium 4"  machine (running 
RHEL 3).
Other than that , 1-2 persons on freebsd list has also tried this.
>Has the patched filesystem been regression tested against a UFS1 filesystem?
>
Only some most basic (mount , read ) functionality has been cheked to be 
working.
>
>
>The patches which you have there are a bit of a disaster coding-style wise.
>
>- Use hard tabs everywhere, not eight-spaces.
>
>- No space before terminating semicolons
>
>-
>
>+        if ( (flags & UFS_TYPE_MASK) == UFS_TYPE_UFS2)
>+        {
>+	     uspi->s_u2_size  = fs64_to_cpu(sb, usb->fs_u11.fs_u2.fs_size);
>
>  should be
>
>	if ((flags & UFS_TYPE_MASK) == UFS_TYPE_UFS2) {
>
>  etcetera.   See Documentation/CodingStyle.
>
Well .... I will prepare a modifed patch and send that again .
>Thanks.
>
All-in-all , the problem is that this
was not getting enough testing so  I thought that unless it is included
in  , say mm series, it will not get tested.  That's why I send it to you .
But anyway , wait for the modifed version (which will take care of 
Documentation/CodingStyle) .
Niraj
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/