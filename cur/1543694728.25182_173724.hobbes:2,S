Date: Sun, 19 Oct 2003 20:33:06 -0700
From: William Lee Irwin III <>
Subject: Re: [BUG] D-states in test8
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/19/166

On Sun, Oct 19, 2003 at 06:36:10PM -0700, Andrew Morton wrote:
>> Well.  The emphasis is on "might".  That locking bug was on an error path
>> and it's quite possible that the deadlock is due to a different bug which
>> is still there.
On Mon, Oct 20, 2003 at 04:24:43AM +0200, Pedro Larroy wrote:
> Now seems I can't get them stuck.
> Hmm, Before I just opened twice /dev/dsp IIRC and then both processes got 
> stuck in D.
> so snd_pcm_open_file must have returned < 0
> I can try to play a little with it tomorrow to see why gets into the error 
> path.
O_NONBLOCK usage when snd_pcm_open_file() returns -EAGAIN (e.g.
SUBSTREAM_BUSY() is true, i.e. substream->file != NULL) is a trivial
way to get into the error path.
-- wli
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/