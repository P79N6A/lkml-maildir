Date: Thu, 27 May 1999 14:00:21 +0000
From: Glen Turner <>
Subject: Re: Quota file format proposal
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/28/187

Jan Kara wrote:
> * We don't have good estimation of how large should hash table be
>   and resizing it is really pain.
Most system administrators know how many users are on their
machines.  Set a reasonable default for small machines
and allow this to be overridden on the command line by the
utility that writes the quota file.
From a user interface point of view, don't ask for the
size of the hash table.  Ask for the estimated number of
disk-using users.
Have an option that allows a space/time tradeoff (which would
technically be the probability of a hash value collision).
Than derive the hash table size from these two values.  The hash
divisor should be prime, as user IDs tend to be clustered.
Finally, a real-life use for those prime-searching algorithms
that clutter CompSci textbooks :-)
The size of the hash table would be recorded in the quota file
header.
Changing the size of the hash table can be done by exporting
and importing the quota file -- something already done
by edquota.
            ----------------------------
On 32-bit UIDs and GIDs in general.  Linux *really* needs
these.  In an enterprise trying to implement enterprise-
wide security, UNIXen UIDs have to be unique and can never
be reused.  For universities with large student populations,
a 16-bit UID space is consumed very quickly.
Linux's 16-bit UIDs are *the* reason that our computing facilities'
staff prefer Microsoft Windows NT or Solaris in computing labs
(ie: the #1 reason wasn't mindshare, ease of use, application
availability, ...)  The reason is that WinNT and Solaris allow
lab staff to pass the load of user and password management
onto the central NDS/LDAP/NIS+/Kerberos-enabled facility.
A time-use survey here last year found that about 10% of our
computing lab staff (ie, about an hour a day) was spent managing
user accounts when they didn't use the central facility.
This is a cost-of-ownership penalty of about US$50 per
machine per year.
About 30% of lab staff time was spent installing and managing
software, something that is much simpler for most Linux
distributions.  Hopefully, software bundling will become
harmonised across Linux distributions with the LSB project.
This would give Linux a significant running-cost advantage
over Windows.
These two steps would allow our lab staff to do the thing
that the survey said they wanted to do most: help users
(currently <10% of time, listed as the activity that gave
most job satisfaction).
-- 
 Glen Turner                               Network Specialist
 Tel: (08) 8303 3936          Information Technology Services
 Fax: (08) 8303 4400         The University of Adelaide  5005
 Email: glen.turner@adelaide.edu.au           South Australia
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/