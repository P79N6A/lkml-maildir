Date: Tue, 23 Aug 2005 16:29:50 -0700
From: Ben Greear <>
Subject: Re: 2.6.12 Performance problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/23/252

Patrick McHardy wrote:
> Danial Thom wrote:
> 
>>None of this is helpful, but since no one has
>>been able to tell me how to tune it to provide
>>absolute priority to the network stack I'll
>>assume it can't be done.
> 
> 
> The network stack already has priority over user processes,
> except when executed in process context, so preemption has
> no direct impact on briding or routing performance.
Well, NAPI puts a lot more of the packet processing in
process context, including the code that would do routing
I believe.
To give networking more priority, you can re-nice the ksoftirqd
process(es) to a high-priority level like -18 or so.
You can also reserve more memory for the networking stack
and increase the size of the permitted buffers.
I am also interested to hear how your system responds to compiling
w/out PREEMPT.
Ben
-- 
Ben Greear <greearb@candelatech.com>
Candela Technologies Inc  
http://www.candelatech.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/