Date: Sat, 2 Feb 2008 15:18:57 +0100
From: Ingo Molnar <>
Subject: Re: [scsi bug] spurious build failures in aic7xxx
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/2/113

i should also specify the build environment:
it's a distcc setup with 5-10 hosts active at a time, so highly parallel 
with large, networking related delays. It's make -j130:
nice -15 /usr/bin/time make -j130 bzImage ARCH=i386 \
CROSS_COMPILE='distcc \
/opt/crosstool/gcc-4.2.2-glibc-2.3.6/i686-unknown-linux-gnu-'
the build host is a 64-bit quad CPU box, so highly parallel as well.
before this i did about a thousand x86.git builds/boots a day without 
any build (or boot) failure, so i'm 100% sure that the build race was 
not present before. It started triggering it a few days ago, roughly 
when the commit you suspected went in.
here's all SCSI build failures logged from the past 1-2 days:
      2 drivers/scsi/aic7xxx/aic79xx_reg.h
      4 drivers/scsi/aic7xxx/aic7xxx.h
      4 drivers/scsi/lpfc/lpfc_init.c
     12 drivers/scsi/aic7xxx/aic7xxx_osm.h
    108 drivers/scsi/aic7xxx/aic7xxx_inline.h
    280 drivers/scsi/aic7xxx/aic7xxx_pci.c
first column is the number of error lines from logs.
When i turned off all the AICxxxx builds (all 3 drivers for good 
measure), the build failures went away. [but this excludes one of my 
testboxes from qa coverage - which has aic7xxx hardware - so it would be 
nice to fix this.]
the host box is Fedora 8, make-3.81-10.fc8. gcc-4.2.2 crosscompiler, 
built from sources. (i.e. not distro patched)
	Ingo