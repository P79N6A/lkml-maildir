Date: Thu, 28 Oct 1999 22:06:20 +0000
From: "George T. Talbot" <>
Subject: Does the serial driver (kernel 2.2.12, Intel) still drop characters  during heavy IDE disk activity?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/29/8

I've got this touchscreen industrial PC that I'm using that's basically laptop hardware with a
touchscreen.  It's got 16550A UARTS.  The problem I'm having is that I've got a serial device that
pumps data into a serial port at 38.4Kbaud, and when the kernel swaps something in or out, more
likely than not, the serial driver will lose a character or two.
I searched the archives and found two threads:
	"2.2.12 serial driver swapping characters?" (circa Sept. 99)
	In this thread started by Ulrich Windl <ulrich.windl@rz.uni-regensburg.de>,
	there's a discussion about how the serial drivers got weird at 2.2.11+.  Sounds
	a whole lot like what's happening to me.
	"pre-patch-2.0.31 try_to_free_page() messages" (circa June 97)
	There's a rather fascinating message from Ted T'so discussing an intentional
	workaround for crappy IDE controllers that causes the serial driver to lose
	characters. ( 
http://www.uwsg.indiana.edu/hypermail/linux/kernel/9706.0/0075.html
 )
Anybody (Ted, maybe) know if the fix described in the June 97 post works with current
kernels?  Did something else happen to the serial driver?  I fear doing what Ted suggests
in the post, as he warns of "MASSIVE FILESYSTEM DAMAGE".
I've got a reasonably good test setup here for repeating this problem if anyone's interested.  I
do not have a reasonable picture of how the serial driver works, however.
Please CC me in replies to this thread, as I can't read fast enough to subscribe to the list.
Thanks.
--
George T. Talbot
<george@moberg.com>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/