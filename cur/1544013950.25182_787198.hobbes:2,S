Date: Tue, 6 Jan 2009 00:25:11 +0300
From: Cyrill Gorcunov <>
Subject: Re: early exception error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/5/441

[david@lang.hm - Mon, Jan 05, 2009 at 02:20:42PM -0800]
> On Sun, 4 Jan 2009, Cyrill Gorcunov wrote:
>
> I assume you want this instead of the prior patches. I will test this  
> shortly.
>
> David Lang
>
>> ---
>> include/linux/mmzone.h |    1 +
>> 1 file changed, 1 insertion(+)
>>
>> Index: linux-2.6.git/include/linux/mmzone.h
>> ===================================================================
>> --- linux-2.6.git.orig/include/linux/mmzone.h
>> +++ linux-2.6.git/include/linux/mmzone.h
>> @@ -980,6 +980,7 @@ extern struct mem_section mem_section[NR
>>
>> static inline struct mem_section *__nr_to_section(unsigned long nr)
>> {
>> +	BUG_ON(SECTION_NR_TO_ROOT(nr) >= NR_SECTION_ROOTS);
>> 	if (!mem_section[SECTION_NR_TO_ROOT(nr)])
>> 		return NULL;
>> 	return &mem_section[SECTION_NR_TO_ROOT(nr)][nr & SECTION_ROOT_MASK];
>>
>
Yes, you even may combine it with the patch Johannes proposed.
They should not interfere.
		- Cyrill -