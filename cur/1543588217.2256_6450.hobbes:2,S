Date: Thu, 19 Apr 2001 13:40:53 +0200
From: "Cabaniols, Sebastien" <>
Subject: OOM tries to kill a root process eating all the memory but does n ot make it.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/4/19/228

Hello,
I have a process  which eats all the memory available 
(buy making a loop of mallocs, writing and reading the 
malloc'd memory) called memoryEater (to torture test
the memory system before going to a production system)
My kernel is 2.4.2smp on a 4 way Alpha machine with 8 Go
of  RAM.
When the process is launched under a user ID everything
works the way it should, i.e. the malloc works fine until 
the process eats 7.8 Gbytes of RAM and then the process
stops on a segfault.
When the process is launched under the root ID, I see
the OOM in the /var/log/messages saying it wants to kill
this process (memoryEater) but it does not kill it.
Hitting Control+C, kill PID -9 does not work. Halting the machine 
is my only solution.
Any ideas ?
----------------------------------------------------------------------------
--
Sebastien CABANIOLS
COMPAQ France 
HPTC Engineer
CustomSystems & Solutions  Annecy  
High Performance Technical Computing 
Office No.  +33 (0)4 50 09 44 10
Fax No.  +33 (0)4 50 64 01 39 
Email.   sebastien.cabaniols@compaq.com 
----------------------------------------------------------------------------
--
  
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/