Date: Wed, 1 Feb 2006 09:43:32 +0100
From: Ivan Korzakow <>
Subject: Re: GPIO device class driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/1/58

2006/2/1, Robert Schwebel <robert@schwebel.de>:
> On Wed, Feb 01, 2006 at 01:00:27AM -0600, Kumar Gala wrote:
> > Any further progress on this.  I'm looking at the GPIO's on an
> > embedded PowerPC and would prefer to produce a driver towards a
> > standard kernel interface.  I'm also happy to help on the standard
> > interface if it needs some work.
>
> Sorry, no progress so far on our side.
>
Hi,
I worked on a GPIO driver, starting from the work of Robert Schwebel.
I wrote something that suited my needs, but I kept in mind the idea of
a generic layer. It's worth what it's worth, but i'm sending it in
case it might help someone.
Basically I nearly didn't touch the sysfs part of Robert's driver. I
added the possibility to register a block of GPIO pins, and to handle
interrupts. The platform specific layer registers itself with this
generic layer and passes all the required platform dependant functions
and parameters through a struct.
Attached is the generic layer gpio.c and I moved the header in
include/linux/gpio.h
Feel free to comment, criticize, reject  :-)
Ivan
[unhandled content-type:application/x-gzip]