Date: Sun, 6 Jan 2008 16:17:30 +0100
From: Ingo Molnar <>
Subject: Re: [PATCH] Re: Regression: VIDIOCGMBUF ioctl hangs on bttv driver (2.6.24-rc6)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/6/132

* Gregor Jasny <jasny@vidsoft.de> wrote:
> From: Gregor Jasny <gjasny@web.de>
> 
> Fix bttv VIDIOCGMBUF locking like done in commit
> 820eacd84cff23b76693f4be1e28feb672f4488f. 
i've double-checked that there are no other video drivers affected by 
this problem:
 $ cd drivers/media/
 $ grep -C 10 videobuf_mmap_setup `grep -l mutex_lock */*.c */*/*.c */*/*/*.c`
 video/videobuf-core.c-  mutex_lock(&q->lock);
 video/videobuf-core.c-  mutex_lock(&q->lock);
 video/bt8xx/bttv-driver.c-              mutex_lock(&fh->cap.lock);
so only bttv-driver.c was affected, at first sight.
	Ingo