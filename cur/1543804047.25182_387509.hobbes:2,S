Date: Wed, 18 Jan 2006 13:13:04 +0100
From: Jean Delvare <>
Subject: Re: Linux 2.6.16-rc1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/18/149

Hi Sam,
> The shell script check-dialog.sh is called which again do:
> echo "main() {}" | gcc -xc - -o /dev/null
> 
> And it seems that gcc will trash /dev/null in your setup when doing
> this.
> One fix would be to avoid the two lines during distclean,
> but I may have to resort to a temporary file.
> 
> Could you please confirm that the above command is the one that trashes
> /dev/null, then I will try to cook up something better.
I confirm that this one line is causing the trouble:
root@arrakis:~> ls -l /dev/null
crw-rw-rw-  1 root root 1, 3 2006-01-18 13:34 /dev/null
root@arrakis:~> echo "main() {}" | gcc -xc - -o /dev/null
root@arrakis:~> ls -l /dev/null
crwxrwxrwx  1 root root 1, 3 2006-01-18 13:34 /dev/null
root@arrakis:~> 
This is with both gcc 3.3.6 from Slackware 10.2 and gcc 4.0.2 from Suse
10.0. Didn't try with self-compiled gcc versions on these systems.
BTW, I have noticed recently an "a.out" file at the root of my linux
sources tree when I build a kernel.
-rwxr-xr-x   1 khali users  11K 2006-01-16 19:51 a.out*
Running it doesn't seem to do anything useful. Is this file generated
here on purpose? Is it somehow related to the current issue?
Thanks,
-- 
Jean Delvare
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/