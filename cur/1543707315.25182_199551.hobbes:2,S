Date: Tue, 17 Feb 2004 20:46:52 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH][2.6] IBM PowerPC Virtual Ethernet Driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/17/367

On Wed, 18 Feb 2004 viro@parcelfarce.linux.theplanet.co.uk wrote:
> > 
> > That can't be right surely ? That would make them utterly useless afaics.
> > I've not seen this happen in practice either with the 2 x86 cpufreq drivers
> > I wrote that both use bitfields extensively.
> 
> It _is_ right and they are utterly useless.  Original rationale was, indeed,
> "describe the layout of hardware registers" but it had gone to hell may years
> ago.  Any assumptions regarding their allocation are non-portable.
Well, to be fair, most compilers still aim to make them useful. 
There's a difference between "the standard doesn't guarantee anything" and 
"the implementation makes no sense". 
(Sadly, a lot of compiler people do seem to look to standards more than
actual users for guides to do things, but at the same time I do believe
that gcc has useful semantics for bitfields and hardware accesses. You
just have to know what the implementation-specific rules are)
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/