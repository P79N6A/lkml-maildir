Date: Mon, 28 Jan 2008 06:53:15 -0500
From: Mike Frysinger <>
Subject: Re: [LTP] [TEST] : LTP Build failure on 2.6.24 kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/28/124

On Monday 28 January 2008, Rishikesh K. Rajak wrote:
> Here i am getting failure on the x86_64 machine with new kernel.
>
> Here is the uname for that machine:
>
> rishi@:~/ltp-full-20071231# uname -a
> Linux rishi.in.ibm.com 2.6.24 #1 SMP PREEMPT Mon Jan 28 06:47:28 UTC
> 2008 x86_64 GNU/Linux
i'm guessing you're using ubuntu and thus dash is your /bin/sh ... shouldnt be 
a 2.6.24 issue
> make[4]: Entering directory
> `/root/ltp-full-20071231/testcases/network/tcp_cmds/ftp'
> ../../generate.sh
> ../../generate.sh: 60: arith: syntax error: "cnt=cnt-1"
sadly, this is becoming a FAQ.  ubuntu ships a broken /bin/sh (dash) and thus 
some LTP scripts fall apart.  i would prefer to not change the scripts as the 
message is simple in LTP: fix your shell, dont add hacks to LTP.  otherwise 
we slowly back ourselves into this corner with the shell scripts where we try 
to support every craptastic shell out there and we're afraid to make any 
changes because we dont know what crappy shell is going to drop a brick.  LTP 
scripts are written to be POSIX complaint and only POSIX complaint shells 
should be provided by /bin/sh.
-mike
[unhandled content-type:application/pgp-signature]