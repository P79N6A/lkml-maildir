Date: Mon, 21 Jan 2008 17:49:15 -0600
From: Robert Hancock <>
Subject: Re: PCI Interrupt Problems Since Kernel-2.6.19
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/21/348

Lost Garden wrote:
>     I'm writing a driver for DVB-C PCI receiving cards these days and
> I found a tricky problem of interrupts. Since kernel-2.6.19 the
> interrupt handlers get rid of "struct pt_regs*" argument  and I think
> it will be easy for me to modify the driver to fit for the recent
> kernel.
>    I simply delete the "struct pt_regs *" argument of my interrupt
> handler and compile the driver again. But then I met a rather tricky
> problem. I cann't get the PCI intterrupt now! I found that the chip on
> the card actually had generate an interrupt and it should not be the
> hardware problem.
>   I'm get seriously confused. My driver works well under kernel-2.6.18
> but not generates a single interrupt signal when works above
> kernel-2.6.19.
>  Does anybody meet similar problems?
>  Sincerely
>  Yours, Lost Graden.
> 1,21. 2008
Need more details, like dmesg output. The source code of your driver 
would also be useful. One common problem is not calling 
pci_enable_device before requesting the interrupt..
-- 
Robert Hancock      Saskatoon, SK, Canada
To email, remove "nospam" from hancockr@nospamshaw.ca
Home Page: 
http://www.roberthancock.com/