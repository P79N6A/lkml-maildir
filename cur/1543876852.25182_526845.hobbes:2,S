Date: Tue, 03 Apr 2007 16:55:18 -0700 (PDT)
From: David Miller <>
Subject: Re: [PATCH] Stop pmac_zilog from abusing 8250's device numbers.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/3/335

From: Paul Mackerras <paulus@samba.org>
Date: Wed, 4 Apr 2007 09:14:20 +1000
> David Woodhouse writes:
> 
> > There are proper device numbers registered for pmac_zilog now. Use them.
> 
> Sigh.  I guess this is inevitable, but IMNSHO this exposes a weakness
> in our serial subsystem.
> 
> The problem is that this means that a user has to know "oh, the serial
> port on my computer is implemented with a Z85C30 chip, therefore it's
> /dev/ttyPZ0 not /dev/ttyS0, like it would be if the designers had used
> a 16C550".
...
> Why should a user know or care about that?  It really should be "it's
> the built-in serial port on my computer therefore it's /dev/ttyS0".
I totally agree with Paul, the onboard serial device should get
ttyS0 regardless of what hardare is used to drive it.
We dish out the minors sequentially on sparc in order to handle
the case of multiple onboard serial controllers of different
types which can happen on sparc.
Generalizing this minor number allocation for ttyS? might be the
best way to handle this.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/