Date: Thu, 11 Mar 2004 13:16:41 +0100
From: Christian Hesse <>
Subject: Oops on USB-bluetooth plug/unplug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/11/73

Hello!
I get an oops if I plug/unplug my USB-bluetooth device. This one occured after 
I plug and unplugged the device once, an plugged it again. System hangs 
completely after that. I'm running 2.6.4-rc3.
Oops: 0002 [#1]
PREEMPT
CPU: 0
EIP: 0060 [<c032f1f0>] Tainted: P
EFLAGS: 00010002
EIP is at urb_unlink+0x30/0xa0
eax: db7a695c ebx: 00000000 ecx: 00000000 edx: d5f80000
esi: 00000246 edi: db7a6954 ebp: dfc2edf0 edp: d5f81efc
ds: 007b es: 007b ss: 0068
Process hotplug (pid: 7054, threadinfo=d5f80000 task=d55005e0)
Stack: db7a6954 dfc2ec00 d5f81fc4 db7a6954 d5f81fc4 dfc2ec00 c032f9ab db7a6954
ab7a6954 d5f80000 db7a6954 c0340df0 dfc2ec00 db7a6954 d5f81fc4 d5f81fc4
dfc2edd0 dfc2edd0 dfc2ec00 d5f81fc4 c0340fd6 dfc2ec00 d5f81fc4 00000000
Call Trace:
[<c032f9ab>] usb_hcd_giveback_urb+0x1b/0x40
[<c0340df0>] uhci_finish_completion+0x60/0xa0
[<c0340fd6>] uhci_irq+0x116/0x180
[<c032fa06>] usb_hcd_irq+0x36/0x70
[<c010cda9>] handle_IRQ_event+0x49/0x80
[<c010d11f>] do_IRQ+0x8f/0x130
[<c010b568>] common_interrupt+0x18/0x20
Code: 89 59 04 89 0b 89 40 04 8b 5f 14 89 47 08 56 9d ff 4a 14 8b
<0> Kernel panic: Fatal exception in interrupt
In interrupt handler - not syncing
These bt config options are set:
CONFIG_BT=y
CONFIG_BT_L2CAP=y
CONFIG_BT_RFCOMM=y
CONFIG_BT_RFCOMM_TTY=y
CONFIG_BT_HCIUSB=y
CONFIG_BT_HCIBCM203X=y
CONFIG_BT_HCIBTUART=m
Please cc as I'm not subscribed to the list.
-- 
Christian Hesse
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/