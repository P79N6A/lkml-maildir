Date: Fri, 07 Sep 2001 17:37:25 -0600
From: "Justin T. Gibbs" <>
Subject: Re: AIC + RAID1 error? (was: Re: aic7xxx errors)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/7/170

>> You need to be running with aic7xxx=verbose for these messages to be
>> useful.  In the 6.2.2 driver release I've turned these messages on
>> by default.
>
>Could you please shortly explain what this option does...(before it
>fills my logfiles with notes "succesfully wrote 1 Byte to disk abc"..:-)
It turns on some diagnostics regarding:
1) Card initialization
2) Transfer Negotiation (occurs with every check condition that occurs
			 prior to sending data, so while not rare, is
			 not a common occurrence).
3) Abort/Timeout processing
It should not fill your log file unless you have a timeout.  This is
exactly the time you want it to fill your logs, so I can help diagnose
and fix your problem.
>> This is 8 times the tag load the old driver defaults to.
>
>Thats true, and e.g., my relatively new IBM-drives (DGHS18V, 2x
>DNES-309170W,  DDRS-39130W, all Server-disks according to IBM) can only
>64...and the kernel complains, if i compile it with 255 and locks to
>64...
Its not really "complaining", its just telling you that it has determined
the proper setting for this device.  There is an advantage to setting
your tag depth to the locked value - the SCSI layer cannot be told
dynamically to lower the tag depth, so there may be extra transactions
sitting in the driver queue for no real purpose - but its not that
big of a deal.
>as i have played with this feature a while ago, i did not realize a
>big performance-plus from 8 to 64, so i switched to 32...and i would go
>down to <8 if i where in doubt....
It all depends on your workload.  If you run a news server or have lots
of concurrent active users on the machine, you are more likely to see
a difference.
--
Justin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/