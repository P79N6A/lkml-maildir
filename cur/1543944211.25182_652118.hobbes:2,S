Date: Tue, 12 Feb 2008 11:35:02 +0100 (CET)
From: Jiri Kosina <>
Subject: Re: [PATCH] Avoid buffer overflows in get_user_pages()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/12/131

On Mon, 11 Feb 2008, Andrew Morton wrote:
> > +	if (len <= 0)
> > +		return 0;
> >  	/* 
> >  	 * Require read or write permissions.
> >  	 * If 'force' is set, we only require the "MAY" flags.
> Can we just convert
> 	do {
> 		...
> 	} while (len);
> into
> 	while (len) {
> 		...
> 	}
How would that help?
Rather
	while (len > 0) {
		...
	}
would do the trick.
-- 
Jiri Kosina