Date: Sun, 30 Dec 2007 12:17:25 +0200
From: Eduard-Gabriel Munteanu <>
Subject: Re: [PATCH] Option to disable AMD C1E (allows dynticks to work)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/30/74

On Sun, 30 Dec 2007 03:49:21 +0200
Islam Amer <pharon@gmail.com> wrote:
> So what I understand now is that AMD C1E state saves battery like
> dynticks, so we don't need dynticks ?
No, it's not true.
C1E currently saves more power than dynticks just
because these platforms do not support higher C-states (like C2 and
C3). So, if we want to enable the current dynticks implementation, we
have to disable C1E, so we're left only with C1 (the old plain 'hlt'),
which isn't that great.
Other kernel developers, as discussed previously in this thread, are
working on a HPET-driven dynticks (as opposed to the current
LAPIC-driven one), but the change isn't that easy to make. This way,
dynticks and C1E could be both enabled and thus save more power.
Moreover, as I previously stated, dynticks isn't just about power
saving.
Note that this problem is only related to AMD64 multi-core laptops. As
far as I can see, devs might not invest much coding effort into this
and instead say "Go buy an Intel laptop!", as this really is a hardware
quirk. And if Andi Kleen is correct, this is not just a laptop vendors'
problem, but AMD itself doesn't offer support for higher C-states.