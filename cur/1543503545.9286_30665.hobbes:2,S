Date: 22 Jul 1999 00:24:46 +0200
From: Olaf Dietsche <>
Subject: New virtual in-memory file system
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/21/130

Hi,
this is my first attempt at kernel programming. It's a simple file
system, which relies upon dentries and memory-inodes.
I would like to hear comments, flames, bug reports, ...
Regards, Olaf.
--8<--cut here--------------
begin 644 virtfs.tar.gz
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
=M=]<7^MK?:VO];6^UM?Z6E]_Y/4O"<%%3@!0````
`
end
--cut here-->8--------------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/