Date: Thu, 08 May 2003 23:58:09 +0200
From: Patrick McHardy <>
Subject: [PATCH] fix kfree(skb) in iphase driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/8/231

This patch fixes a kfree(skb) in the iphase driver.
Best regards,
Patrick
# This is a BitKeeper generated patch for the following project:
# Project Name: Linux kernel tree
# This patch format is intended for GNU patch command version 2.5 or higher.
# This patch includes the following deltas:
#	           ChangeSet	1.1198  -> 1.1199 
#	drivers/atm/iphase.c	1.14    -> 1.15   
#
# The following is the BitKeeper ChangeSet Log
# --------------------------------------------
# 03/05/08	kaber@trash.net	1.1199
# fix kfree(skb)
# --------------------------------------------
#
diff -Nru a/drivers/atm/iphase.c b/drivers/atm/iphase.c
--- a/drivers/atm/iphase.c	Thu May  8 23:56:27 2003
+++ b/drivers/atm/iphase.c	Thu May  8 23:56:27 2003
@@ -2965,7 +2965,7 @@
 	                 dev_kfree_skb_any(skb);
 	           return 0;
 	   }
-	   kfree(skb);
+	   dev_kfree_skb_any(skb);
 	   skb = newskb;
         }       
 	/* Get a descriptor number from our free descriptor queue  