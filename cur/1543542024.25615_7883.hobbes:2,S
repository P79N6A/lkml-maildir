Date: Tue, 22 Aug 2000 12:04:41 +0200
From: Frédéric Danis <>
Subject: PROBLEM: Linux reboot when using Deflate with compression set to 8
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/22/34

Hello,
I think that I have found a bug, and as I haven't found any information about this problem on the
web, so I post this problem.
I think I have post all necessary info. If you need more info, fell free to contact me.
[1.] One line summary of the problem:
Linux reboot when using Deflate with compression set to 8
[2.] Full description of the problem/report:
When we use pppd with deflate compression enabled and to to the min for compressor (8), after a
short use of the session (read of a web page) linux reboot.
I haven't find any message or log about it.
[3.] Keywords (i.e., modules, networking, kernel):
kernel, modules, ppp, deflate
[4.] Kernel version (from /proc/version):
I have try this on two version that I can't upgrade because there are used for other development.
	[1st computer]
Linux version 2.2.5-22 (root@porky.devel.redhat.com) (gcc version egcs-2.91.66 19990314/Linux
(egcs-1.1.2 release)) #1 Wed Jun 2 09:17:03 EDT 1999
	[2nd computer]
Linux version 2.2.12-20 (root@porky.devel.redhat.com) (gcc version egcs-2.91.66 19990314/Linux
(egcs-1.1.2 release)) #1 Mon Sep 27 10:25:54 EDT 1999
[5.] Output of Oops.. message (if applicable) with symbolic information 
     resolved (see Documentation/oops-tracing.txt)
I haven't find Oops message
[6.] A small shell script or example program which triggers the
     problem (if possible)
Set pppd options :
deflate 8,15
connect and use it.
[7.] Environment
	[1st computer]
RH 6.0 PII266 128Mo RAM
	[2nd computer]
RH 6.1 P120 80Mo RAM
[7.1.] Software (add the output of the ver_linux script here)
	[1st computer]
-- Versions installed: (if some fields are empty or looks
-- unusual then possibly you have very old versions)
Linux rapanui.eur.palm.com 2.2.5-22 #1 Wed Jun 2 09:17:03 EDT 1999 i686 unknown
Kernel modules         2.1.121
Gnu C                  egcs-2.91.66
Binutils               2.9.1.0.23
Linux C Library        2.1.1
Dynamic linker         ldd (GNU libc) 2.1.1
Procps                 2.0.2
Mount                  2.9o
Net-tools              (1999-04-20)
Kbd                    [option...]
Sh-utils               1.16
Modules Loaded         ppp_deflate bsd_comp ppp slhc sound soundlow soundcore 3c59x
	[2nd computer]
-- Versions installed: (if some fields are empty or looks
-- unusual then possibly you have very old versions)
Linux rapanui2.mtp.eur.palm.com 2.2.12-20 #1 Mon Sep 27 10:25:54 EDT 1999 i586 unknown
Kernel modules         2.1.121
Gnu C                  egcs-2.91.66
Binutils               2.9.1.0.24
Linux C Library        2.1.2
Dynamic linker         ldd (GNU libc) 2.1.2
Procps                 2.0.4
Mount                  2.9u
Net-tools              1.53
Console-tools          1999.03.02
Sh-utils               2.0
Sh-utils               Parker.
Sh-utils               
Sh-utils               Inc.
Sh-utils               NO
Sh-utils               PURPOSE.
Modules Loaded         ppp_deflate ppp slhc 3c59x
[7.2.] Processor information (from /proc/cpuinfo):
	[1st computer]
processor	: 0
vendor_id	: GenuineIntel
cpu family	: 6
model		: 3
model name	: Pentium II (Klamath)
stepping	: 3
cpu MHz		: 266.618732
cache size	: 512 KB
fdiv_bug	: no
hlt_bug		: no
sep_bug		: no
f00f_bug	: no
fpu		: yes
fpu_exception	: yes
cpuid level	: 2
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 sep mtrr pge mca cmov mmx
bogomips	: 266.24
	[2nd computer]
processor	: 0
vendor_id	: GenuineIntel
cpu family	: 5
model		: 2
model name	: Pentium 75 - 200
stepping	: 6
cpu MHz		: 119.754428
fdiv_bug	: no
hlt_bug		: no
sep_bug		: no
f00f_bug	: yes
coma_bug	: no
fpu		: yes
fpu_exception	: yes
cpuid level	: 1
wp		: yes
flags		: fpu vme de pse tsc msr mce cx8
bogomips	: 47.82
[7.3.] Module information (from /proc/modules):
	[1st computer]
ppp_deflate            40548   0 (autoclean)
bsd_comp                3632   0 (autoclean)
ppp                    18316   0 (autoclean) [ppp_deflate bsd_comp]
slhc                    4328   0 (autoclean) [ppp]
sound                  57208   0 (autoclean) (unused)
soundlow                 300   0 (autoclean) [sound]
soundcore               2372   3 (autoclean) [sound]
3c59x                  18920   1 (autoclean)
	[2nd computer]
ppp_deflate            40548   2 (autoclean)
ppp                    20012   2 (autoclean) [ppp_deflate]
slhc                    4328   1 (autoclean) [ppp]
3c59x                  19112   1 (autoclean)
[7.4.] SCSI information (from /proc/scsi/scsi)
Attached devices: none
[7.5.] Other information that might be relevant to the problem
       (please look in /proc and include all information that you
       think to be relevant):
my options file for pppd :
	[1st computer]
### GENERAL OPTIONS ###
debug
debug
debug
debug
debug
kdebug 1
usehostname
nodetach
nodefaultroute
proxyarp
netmask 255.255.255.0
### PPP OPTIONS ###
mru 1500   
mtu 1500
asyncmap 000A0000
### Compression Options ###
vj-max-slots 16
bsdcomp 15,15
deflate 8,8
### Authentication OPTIONS ###
require-chap
require-pap
### IPCP options ###
ms-dns 172.17.21.103
ms-dns 64.28.144.1
	[2nd computer]
### GENERAL OPTIONS ###
debug
debug
debug
debug
debug
kdebug 1
usehostname
nodetach
nodefaultroute
proxyarp
netmask 255.255.255.0
### PPP OPTIONS ###
mru 3000
mtu 3000
asyncmap 0FFFFFFF
### Compression Options ###
nobsdcomp
deflate 8,15
### Authentication OPTIONS ###
require-chap
require-pap
### IPCP options ###
ms-dns 172.17.21.103
ms-dns 64.28.144.1
[X.] Other notes, patches, fixes, workarounds:
-- 
-----------------------------------------------
Danis Frederic       PALM COMPUTING EUROPE SARL
Software engineer
Mail : mailto:frederic_danis@palm.com
-----------------------------------------------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/