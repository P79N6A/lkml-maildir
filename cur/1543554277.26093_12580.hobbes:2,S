Date: Fri, 10 Nov 2000 18:41:49 -0800
From: David Ford <>
Subject: Re: Wild thangs, was: sendmail fails to deliver mail with attachments in  /var/spool/mqueue
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/11/10/249

> They're not modprobes, they're misnamed processes sleeping from NWFS.
If they're sleeping, why are they in D state?  That ups the load average.
> I got the fix from someone so now they display their proper names.
> top displays the names correctly, ps does not.  Several people have
> verified this problem, and all you are saying is that your servers
> are never heavily loaded for long periods of time, say 200 hours
> at a stretch of consatnt ftp traffic?
If I had a normally expected constant load average that came very close to the
sendmail configured limit, I would increase the limit.  That's just common
sense for an admin.  Sendmail in itself doesn't affect the load average any
more than any daemon does.
If your normal operating load is significant, and your configured limits are
close to that, you have to expect sendmail to throttle back.  It doesn't pick
large emails as it's victims, everything gets throttled.
I would suspect that if you are near the limit then your disk is blocking
causing a load spike which is detected by sendmail so sendmail throttles back.
In my experience, Linux (and others) can be very sluggish at a load of 2 and at
another time be quite responsive w/ a load of 200.  An admin should configure
limits based on that machine's load history, not any given default number.
I've run sendmail for a lot of years at a lot of places.  I've never seen this
'large emails aren't sent' issue that people have verified.  The only reason I
find valid is if the machine hovers near the limit and disk io causes the
spike.  That isn't sendmail's fault, it's a configuration fault.
-d
--
"The difference between 'involvement' and 'commitment' is like an
eggs-and-ham breakfast: the chicken was 'involved' - the pig was
'committed'."
begin:vcard 
n:Ford;David
x-mozilla-html:TRUE
adr:;;;;;;
version:2.1
email;internet:david@kalifornia.com
title:Blue Labs Developer
x-mozilla-cpt:;14688
fn:David Ford
end:vcard