Date: Fri, 4 Jun 2004 01:03:54 -0400
From: Daniel Phillips <>
Subject: Re: [PATCH/RFC] Lustre VFS patch, version 2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/4/12

On Thursday 03 June 2004 10:19, Lars Marowsky-Bree wrote:
> The hooks (once cleaned up, no disagreement here, the technical feedback
> so far has been very valuable and continues to be) are useful and in
> effect needed not just for Lustre, but in principle for all cluster
> filesystems, such as (Open)GFS and others, even potentially NFS4 et al.
GFS is now down to needing two trivial patches:
  1) export sync_inodes_sb
  2) provide a filesystem hook for flock
Since GFS functions well without any of the current batch of proposed vfs 
hooks, the word "needed" is not appropriate.  Maybe there is something in 
here that could benefit GFS, most probably in the intents department, but we 
certainly do want to try it first before pronouncing on that.  The raw_ops 
seem to be entirely irrelevant to GFS, which is peer-to-pear, so does not 
delegate anything to a server.  I don't think we have a use for lookup_last.
There are quite possibly some helpful ideas in the dcache tweaks but the devil 
is in the details: again we need to try it.
Such things as:
+#define DCACHE_LUSTRE_INVALID	0x0020	/* invalidated by Lustre */
clearly fail the "needed not just for Lustre" test.
Looking into my crystal ball, I see many further revisions of this patch set.  
Unfortunately, in the latest revision we lost the patch-by-patch discussion, 
which seems to have been replaced by list of issues sorted by complainant.   
That's interesting, but it's no substitute.
Regards,
Daniel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/