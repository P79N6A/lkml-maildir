Date: Mon, 14 Nov 2005 17:12:26 -0800
From: Andrew Morton <>
Subject: Re: + perfmon2-reserve-system-calls.patch added to -mm tree
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/14/276

Arnd Bergmann <arnd@arndb.de> wrote:
>
> >  #ifdef __KERNEL__
> >  #define __NR__exit __NR_exit
> 
> Hmm, I had sent an earlier patch to paulus that reserves 278 and
> 279 for spu_run and spu_create and that apparently got dropped.
> 
> Could I have those two numbers or is there already an established
> user based for the perfmon2 numbers that would take preference?
aargh.  Any time anyone dinks with the syscall tables I have tons of fun
fixing up rejects.  It doesn't help that both Stephane and Christoph's
patches were fairly broken.
Rules:
a) Keep unistd.h and the syscall tables in sync.
b) Keep ppc32 and powerpc[64] in sync
c) Add prototypes to syscalls.h (When the implementation goes in -
   obviously not relevant when we're just reserving syscall slots)
d) Some architectures have multiple syscall tables.  Stephane, you
   missed arch/ia64/ia32/ia32_entry.S, for example.  But then, that looks
   to be seriously out of date anyway.  No idea what's going on there.
e) review your work carefully.  Grep the tree for, say, `getxattr' (or
   any other syscall name which is unique-looking and which you expect all
   architectures to implement).
Anyway, I have a shower of fixup patches here.   Hopefully it all landed OK.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/