Date: Fri, 10 Dec 1999 13:48:20 +0100
From: Josef Höök <>
Subject: Re: Ext3 Filesystem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/10/71

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
Peter Samuelson wrote:
<blockquote TYPE=CITE>[Dr. Michael Weller &lt;eowmob@exp-math.uni-essen.de>]
<br>> I mean, what you really want is: have the journal on a separate
<br>> partition with no filesystem at all. Best of all on a seperate disk
<br>> (controller, maybe). And you might want to have one journal only
for
<br>> all filesystems.
<p>AIX does this.&nbsp; There is one journal LV (logical volume) for each
VG
<br>(volume group).&nbsp; This (rather than one journal per whole system)
is
<br>because the VG is intended to be the unit of portability,</blockquote>
Thats statement is dependent on if you have created more vg's then the
default rootvg.
<br>If you only has the rootvg then there's one journal for the system.
<blockquote TYPE=CITE>i.e. you can
<br>eject a ZIP disk with a VG on it and the VG on it will work elsewhere.
<br>AIX's JFS is restricted to the LV/VG universe (it starts calling you
<br>nasty names if you try to create one on just any old block device),
so
<br>this scheme works well.
<br>&nbsp;</blockquote>
It's possible to do that to but with some odm hacking though :-)
<blockquote TYPE=CITE>&nbsp;
<br>I don't think AIX makes any effort to load-balance the log between
<br>physical disks.&nbsp; It can't -- the size of the journal LV is the
minimum.
<br>&nbsp;</blockquote>
The journal lv acts like paging lv's
<br>which means you can change the size on it whenever you want, stripe
it, let it grow over
<br>multiple disks etc.
<br>&nbsp;
<blockquote TYPE=CITE>&nbsp;
<br>I agree that for load-balancing reasons it would be nice if ext3 moved
<br>in the direction of supporting journal-outside-fs and even a shared
<br>journal blockdev.
<br>&nbsp;</blockquote>
I must dissagre.
<br>When you put it outside the fs you loose control of it.
<br>I would like to see the journal on a fs and then a lv on top of it.
(oh no that sounded like AIX&nbsp;impl :) )
<br>The question is why havent the LVM been integrated to 2.3.x kernels?
<p>/joh
<br>&nbsp;
<pre>--&nbsp;
Code speaks louder than words.&nbsp;
| ******* Josef H&ouml;&ouml;k, Xinit AB ******** |
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IBM Certified Specialist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
| AIX System Administration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
| SUN System Administrator&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
| phone: +46(0)60 120690,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +46(0)70 6734576&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
| mail:&nbsp; joh@xinit.se&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
| ************************************* |</pre>
&nbsp;</html>