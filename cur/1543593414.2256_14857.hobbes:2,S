Date: Tue, 5 Jun 2001 07:49:39 +0100 (BST)
From: Alan Cox <>
Subject: Re: Missing cache flush.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/6/5/167

>  - it is buggy and will lock up some CPU's. Use with EXTREME CAUTION.
>    Intel set a special field in the MP table for whether wbinval is
>    usable or not, and you can probably find their errata on which CPU's
>    it doesn't work on (I think it was some early PPro steppings).
Also some intel chipsets it didnt work with (notably earlier PCI ones) - indeed
that seems to be the cause of the 'bzImage wont boot on XYZ 486 tosh
laptop' bug.
> On the whole, I would suggest avoiding this like the plague, and just
> marking such memory to be non-cacheable, regardless of whether there is
> a performance impact or not. If you mark it write-combining and
> speculative, it's going to perform a bit better.
Or memcpy the blocks into the block or page cache when you need them. 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/