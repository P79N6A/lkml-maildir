Date: Sun, 12 Mar 2000 22:06:59 +0000
From: Philip Blundell <>
Subject: cross compile fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/12/152

There are a couple of places in the kernel makefiles that call `ld' directly.  
This is bad news in a cross-compile environment because the host linker will 
be invoked.  The patch below ensures the correct linker is used.
p.
--- linux/drivers/net/wan/Makefile	Mon Feb  7 21:23:46 2000
+++ linux/drivers/net/wan/Makefile	Sat Mar 11 21:43:19 2000
@@ -180,8 +180,8 @@ clean:
 	rm -f core *.o *.a *.s
 
 wanpipe.o: $(WANPIPE_OBJS)
-	ld -r -o $@ $(WANPIPE_OBJS)
+	$(LD) -r -o $@ $(WANPIPE_OBJS)
 
 cyclomx.o: $(CYCLOMX_OBJS)
-	ld -r -o $@ $(CYCLOMX_OBJS)
+	$(LD) -r -o $@ $(CYCLOMX_OBJS)
 
--- linux/net/atm/Makefile	Wed Sep 29 22:41:16 1999
+++ linux/net/atm/Makefile	Sat Mar 11 21:44:08 2000
@@ -58,4 +58,4 @@ endif
 include $(TOPDIR)/Rules.make
 
 mpoa.o: mpc.o mpoa_caches.o mpoa_proc.o
-	ld -r -o mpoa.o mpc.o mpoa_caches.o mpoa_proc.o
+	$(LD) -r -o mpoa.o mpc.o mpoa_caches.o mpoa_proc.o
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/