Date: Tue, 4 Mar 2008 21:53:53 +0100
From: Ingo Molnar <>
Subject: Re: [patch 1/2] x86, fpu: split FPU state from task struct - v3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/4/430

* Suresh Siddha <suresh.b.siddha@intel.com> wrote:
> >   v3: Fixed the non-atomic calling sequence in atomic context.
> > 
> > is that the same bug?
> 
> Yes. Sorry for not pointing out explicitly. Essentially 32bit kernel 
> with CONFIG_PREEMPT is calling math_state_restore() with interrupts 
> disabled. Handled this by enabling/disabling the interrupts around the 
> blocking call. with small code changes ensuring that it is safe to 
> enable/disable interrupts at this point.
> 
> Do you want a v4 or separate patch for handling the kmem_cache_alloc() 
> failure
would be nice to resend a v4 - i couldnt pick v3 up due to the pending 
questions. (the NULL thing was quite serious)
	Ingo