Date: Mon, 30 Dec 2002 15:01:36 +0200
From: Muli Ben-Yehuda <>
Subject: PATCH: module.h - silence "statement with no effect" warnings 2.5.53-bk
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/12/30/63

2.5.53-bk complains about "statement with no effect" in module.h in
multiple files including module.h. This patch shuts it up. 
# This is a BitKeeper generated patch for the following project:
# Project Name: Linux kernel tree
# This patch format is intended for GNU patch command version 2.5 or higher.
# This patch includes the following deltas:
#	           ChangeSet	1.973   -> 1.974  
#	include/linux/module.h	1.32    -> 1.33   
#
# The following is the BitKeeper ChangeSet Log
# --------------------------------------------
# 02/12/30	mulix@alhambra.mulix.org	1.974
# get rid of "statement has no effect" warnings from gcc
# --------------------------------------------
#
diff -Nru a/include/linux/module.h b/include/linux/module.h
--- a/include/linux/module.h	Mon Dec 30 14:10:56 2002
+++ b/include/linux/module.h	Mon Dec 30 14:10:56 2002
@@ -311,7 +311,7 @@
 	/*
 	 * Yes, we ignore the retval here, that's why it's deprecated.
 	 */
-	try_module_get(module);
+	(void)try_module_get(module);
 }
 
 static inline void __deprecated __MOD_DEC_USE_COUNT(struct module *module)
@@ -347,7 +347,7 @@
 	local_inc(&module->ref[get_cpu()].count);
 	put_cpu();
 #else
-	try_module_get(module);
+	(void)try_module_get(module);
 #endif
 }
 #define MOD_INC_USE_COUNT \
-- 
Muli Ben-Yehuda
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/