Date: Tue, 17 Jul 2007 19:34:32 +0200
From: Peter Zijlstra <>
Subject: [RFC/T PATCH 04/12] mm: remove raw ClearPageLocked() usage
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/17/310

remove the last raw ClearPageLocked() user
Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl>
---
 mm/swap_state.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
Index: linux-2.6/mm/swap_state.c
===================================================================
--- linux-2.6.orig/mm/swap_state.c
+++ linux-2.6/mm/swap_state.c
@@ -368,7 +368,7 @@ struct page *read_swap_cache_async(swp_e
 	} while (err != -ENOENT && err != -ENOMEM);
 
 	if (new_page) {
-		ClearPageLocked(new_page);
+		unlock_page(new_page);
 		page_cache_release(new_page);
 	}
 	return found_page;
--
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/