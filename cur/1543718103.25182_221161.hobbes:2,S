Date: Mon, 17 May 2004 10:45:02 -0700
From: Andy Isaacson <>
Subject: Re: [OT] "bk pull" does not update my sources...?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/17/130

On Sun, May 16, 2004 at 10:29:36AM -0700, Randy.Dunlap wrote:
> On Sun, 16 May 2004 19:13:41 +0200 Christian Kujau <evil@g-house.de> wrote:
> | walt schrieb:
> | |> evil@sheep:/usr/src/linux-2.6-BK$ head -n5 Makefile
> | |> VERSION = 2
> | |> PATCHLEVEL = 6
> | |> SUBLEVEL = 6
> | |> EXTRAVERSION =
> | |
> | | This is correct.  Linus does not include the 'bk' in the 'extraversion'
> | | field.
> | 
> | so, the Makefile from the -bk snapshots (e.g. patch-2.6.6-bk1.bz2) was
> | edited and will show an EXTRAVERSION of "-bk1", while the original
> | Makefile does not? this is insane!
> 
> Right.  The bk tree does not contain -bkN or anything in the
> EXTRAVERSION string.  The bk snapshots do add that string.
> 
> I don't find it hard to keep them separated, but, yeah, that's the
> way it is.
Perhaps a kernel built from BK sources should have the :UTC: or :MD5KEY:
in the version output.  "bk changes -r+ -d:UTC:" is the command to get
the current UTC string; that's an all-numeric representation of the date
of the current top cset.
The downside is that if you just do something like
BKEXTRAVERSION := `bk changes -r+ -d:UTC:`
then there is no way to distinguish "clean, everything corresponds to
BK" from "I edited some files, or applied a patch, and haven't created a
cset yet".  Of course you can do something like "bk -r diffs -u|wc -l"
to get an indication of diff size, but that's pretty hackish.
-andy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/