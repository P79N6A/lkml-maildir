Date: Wed, 31 Dec 2003 13:44:27 +0000
From:  viro@parcelfa ...
Subject: Re: hmm..
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/31/85

On Thu, Dec 25, 2003 at 02:56:37AM -0500, Valdis.Kletnieks@vt.edu wrote:
> work-around because IBM refused to fix it on the grounds that the VALC macro
> was to protect against a SEGV if the macro was fed an 'int' rather than a
> 'char' (why they didn't just use 'mask[__c & 255]' is beyond me), and that you
Err...
a) is...() must be able to deal with any value that fits into unsigned char
and with EOF.  Behaviour on anything else is undefined, so their argument
is obviously bogus.
b) mask[__c & 255] is _not_ a solution, simply because EOF and 255 might
have different properties.  Doesn't apply to kernel, but our is...()
do not bother with EOF at all.  Userland ones have to.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/