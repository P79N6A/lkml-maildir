Date: Sun, 16 Dec 2007 20:19:07 +0100
From: 	devzero@web ...
Subject: Re: [PATCH] [RFC] be more verbose when probing EDD
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/16/107

> This is awfully verbose.
yes, this was meant as an example
also mind, that the last printf with "\rOK...." is meant to overwrite the hint message, so nobody should ever notice that message. i`m just unsure if this is a good approach. i have found two occurences in linux kernel, where drivers do something similar.
> [or even "failed"...]
yes, but how to detect if we got stuck forever inside that bios probe ?
i assume that`s hard to do, so that`s why i`m printing that hint "into the future", to be overwritten on successful return.
> Also, you really should look for the "quiet" command-line option and 
> squelch the message.
sure! will add that if there is some positive feedback and someone finds this patch useful.
regards
roland
> -----Ursprüngliche Nachricht-----
> Von: "H. Peter Anvin" <hpa@zytor.com>
> Gesendet: 16.12.07 19:17:40
> An: devzero@web.de
> CC: linux-kernel@vger.kernel.org, Matt.Domsch@dell.com
> Betreff: Re: [PATCH] [RFC] be more verbose when probing EDD
> 
> devzero@web.de wrote:
> >         /* Query EDD information */
> >  #if defined(CONFIG_EDD) || defined(CONFIG_EDD_MODULE)
> > -       query_edd();
> > +        printf("Probing EDD (query Bios for boot-device information)\n");
> > +        printf("If boot hangs here, you may have a buggy Bios. Try edd=skipmbr or edd=off");
> > +        query_edd();
> > +        printf("\rOK                                                                       \n");
> >  #endif
> 
> This is awfully verbose.
> 
> I'd prefer something like:
> 
> printf("Probing EDD BIOS... ");
> query_edd();
> printf("ok\n");
> 
> [or even "failed"...]
> 
> Also, you really should look for the "quiet" command-line option and 
> squelch the message.
> 
> 	-hpa
> 
_______________________________________________________________________
Jetzt neu! Schützen Sie Ihren PC mit McAfee und WEB.DE. 3 Monate
kostenlos testen. 
http://www.pc-sicherheit.web.de/startseite/?mc=022220
--
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/