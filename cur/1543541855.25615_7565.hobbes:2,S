Date: Mon, 14 Aug 2000 17:24:55 +0200 (MEST)
From: (Rogier Wolff)
Subject: Re: NTFS-like streams?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/15/36

Mo McKinlay wrote:
> 
> # You can almost trivially write a "shell" that will do 
> # 	rm .Appledoube/somefile somefile 
> # when you type "rm somefile" . 
> 
> This is *not* the point!
> 
> This isn't about how we should store this kind of stuff on ext2fs -
> that's an implementation detail to be discussed when we get to "how do 
> we emulate this on filesystems that don't support it".
> It's about how we access it on filesystems that support it already.
Right. And I'm suggesting that an access method can and SHOULD be
designed that works exactly the same on filesystems that support it and
on filesystems that don't. 
HFS managed that. (provided with the right options) "atalkd" won't
notice the difference between an HFS filesystem or an ext2fs. That's
good. This is a feature that, if it doesn't prove to be impossible
(which I think the HFS case proves it isn't) should be designed. 
> Without a clear set of semantics, each filesystem will end up working
> differently and kludgily, or as things are now, some will work and some
> won't.
Right. It's not the actual NAMES of the HFS tricks that I'm proposing
to keep. I'm saying that we should try to make something generic which
will allow NTFS named streams and HFS resources to both be accessed in
similar ways, and also in such a way that you almost don't notice it
when you unpack it on a normal posix filesystem.
The .Appledoube/myfile hack satisfies that requirement. As Apples have
only one resource, this "myfile" would need to be a directory with the
stream-names in there for NTFS, or the other way around, the filename
should be a directory with the resources in there. I think I prefer
that last suggestion. On the other hand, if you want to create
apple-friendly symlinks to make the old apple software work, you'd
need one per file, while in the other case, you'd need one per
directory.
				Roger.
-- 
** R.E.Wolff@BitWizard.nl ** 
http://www.BitWizard.nl/
 ** +31-15-2137555 **
*-- BitWizard writes Linux device drivers for any device you may have! --*
*       Common sense is the collection of                                *
******  prejudices acquired by age eighteen.   -- Albert Einstein ********
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/