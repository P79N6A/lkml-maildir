Date: Fri, 23 Apr 2004 15:08:06 -0700
From: Dave Olien <>
Subject: [PATCH] trivial patch to trivial patch to dm-table.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/23/176

Hi, Joe
Here's a trivial patch to call to dm_vcalloc().  The patch doesn't
actually change the behavior of the code.  But I think this change
makes the call more in the spirit of the declaration for dm_vcallc().
this is to your latest udm1 patch to 2.6.6-rc2.
diff -ur rc2-mm1-UDM1-original/drivers/md/dm-table.c rc2-mm1-UDM1-patched/drivers/md/dm-table.c
--- rc2-mm1-UDM1-original/drivers/md/dm-table.c	2004-04-23 14:53:20.000000000 -0700
+++ rc2-mm1-UDM1-patched/drivers/md/dm-table.c	2004-04-23 14:57:20.000000000 -0700
@@ -181,8 +181,8 @@
 	/*
 	 * Allocate both the target array and offset array at once.
 	 */
-	n_highs = (sector_t *) dm_vcalloc(sizeof(struct dm_target) +
-					  sizeof(sector_t), num);
+	n_highs = (sector_t *) dm_vcalloc(num, sizeof(struct dm_target) +
+					  sizeof(sector_t));
 	if (!n_highs)
 		return -ENOMEM;
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/