Date: 26 Jan 2000 00:24:36 -0800
From: (H. Peter Anvin)
Subject: Re: Intel 810 Random Number Generator
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/26/96

Followup to:  <388EAA4F.6B553FB7@idb.hist.no>
By author:    Helge Hafting <helgehaf@idb.hist.no>
In newsgroup: linux.dev.kernel
>
> >Taking the least significant bits of a fast timer between keypresses is a
> >very good way of generating entropy.
> 
> Typing produce good entropy this way.  Holding down a key and
> getting auto-repeat from the keyboard chips is another story though.  Of
> course
> the user can only blame himself for doing that.  NSA will probably not
> send someone to hold down a key for you while you generate your pgp
> keys. :-)
> 
Very easy to work around.  A keyboard that's being pounded on
generates:
MAKE BREAK MAKE BREAK MAKE BREAK MAKE BREAK
A keyboard that's autorepeating generates:
MAKE MAKE MAKE MAKE MAKE MAKE MAKE MAKE MAKE
Therefore, you ignore a MAKE signal from any key that you already know
is down.  If you don't want to bother keeping track of all the keys
that are pressed (except for modifier keys, where you don't get a
choice) then the solution is simply to not account for any entrophy
for the MAKE signal at all (but still mix its timing into the pool!),
but only for the BREAK signal.  Note that each BREAK will have at
least one MAKE associated with it, and the first such MAKE will be the
"real" one when the key is pressed, so the BREAK code can bump the
enthropy counter for both one MAKE and one BREAK timing.
     -hpa
-- 
<hpa@transmeta.com> at work, <hpa@zytor.com> in private!
"Unix gives you enough rope to shoot yourself in the foot."
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/