Date: Thu, 29 Apr 1999 14:27:47 +0200
From: BROWN Nick <>
Subject: RE: Removable media bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/29/46

	>> Exactly. Just as a umount forces writing of all buffers, it must
> >> invalidate the buffers. I'm curious why noone noticed that earlier.
	>He has a faulty floppy drive, everyone else doesn't is the short
summary.
	>The FDC has a "disk changed" detection line.
So the umount doesn't invalidate the buffers ?  Hmmm.  Even if it is
desirable to optimise access when the user umounts and re-mounts a diskette,
the fact that this situation (disk changed detection line in error) is
possible (widespread, maybe ?) should perhaps warrant a sanity check on the
optimisation.
For one thing, this kind of hardware problem is something that most people
would never be aware of - it's not exactly a showstopper that gets them down
to the shop for repair, I doubt if one BIOS in a hundred can detect it in
the POST, etc.  
Nick Brown, Strasbourg, France (Nick(dot)Brown(at)coe(dot)int)
__________________________________________________________
email address updates : @coe.int replaces  @coe.fr
for more information, 
http://dct.coe.int/info/emfci001.htm
__________________________________________________________
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/