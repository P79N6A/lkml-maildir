Date: Wed, 6 Aug 2003 15:51:06 +0200 (MEST)
From:  Andries.Brouwer@cwi ...
Subject: Re: Add identify decoding 4/4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/6/124

	Andries.Brouwer@cwi.nl wrote:
	> Here a somewhat uneven commented ide_identify.h.
	> This is part of a larger patch, but suffices for now.
	Do you really want to stick that long function in a header?
	Stick it in ide-lib.c, that's a better place for it, IMO...
No. <linux/ide-identify.h> contains a lot of 1-line static inline
functions, just readable names for current magic bit checks,
and one big function ide_dump_identify_info() that is included as
#ifdef IDE_IDENTIFY_DEBUG
static void
ide_dump_identify_info(const struct hd_driveid *id, const char *name)
{
...
}
#endif
Thus, ide-floppy.c and ide-tape.c and isd200.c can do
#if IDEFLOPPY_DEBUG_INFO
#define IDE_IDENTIFY_DEBUG
#include <linux/ide-identify.h>
#endif
and get this big function, but only when their local debugging option
is set. We would not want to see it in the binary if there were no users.
Andries
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/