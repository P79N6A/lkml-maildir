Date: Sat, 13 Nov 1999 12:22:05 +0100
From: Dominik Kubla <>
Subject: Re: PATCH 2.3.28: drivers/net/Makefile update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/13/27

On Sat, Nov 13, 1999 at 11:01:21AM +0000, Jeff Garzik wrote:
> 
> The problem lies in that drivers which use module_init() can be valid,
> linkable objects, with no external references at all.  There needs to be
> some way to tell the linker to include all objects which have
> module_init() in them.
> 
You'll probably have to feed ld(1) with a link script to achieve this...
If you go on to investigate this, i would like to float an idea that i have
entertained since the 1995 Linux Kongress (and which i had discussed back
then with several people):
It should be possible compiling all modularized drivers as linkable and
loadable drivers at once by using different ELF sections for the kernel
interface.  The drivers could then be linked to produce a monolithic
kernel or just loaded as LKM.  Am i making myself understandable here?
The result would be a link kit for the kernel just like the "big" Unices
have.  That would make things easier for distributors, because they could
simply run a link script to produce a customized kernel after installation.
That procedure is described in every text about Unix system administration
with an asterisk telling people that with Linux you need to recompile your
kernel...  We should get rid of this, shouldn't we?
Yours,
  Dominik Kubla 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/