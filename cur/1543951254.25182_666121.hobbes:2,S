Date: Tue, 11 Mar 2008 19:12:54 +1100
From: Nick Piggin <>
Subject: Re: [PATCH] sysrq show-all-cpus
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/11/69

On Tuesday 11 March 2008 05:03, Rik van Riel wrote:
> SysRQ-P is not always useful on SMP systems, since it usually ends up
> showing the backtrace of a CPU that is doing just fine, instead of the
> backtrace of the CPU that is having problems.
>
> This patch adds SysRQ show-all-cpus(L), which shows the backtrace of every
> active CPU in the system.  It skips idle CPUs because some SMP systems are
> just too large and we already know what the backtrace of the idle task
> looks like.
>
Yeah we need something like this. I prefer mine though ;) It shows
registers as well as stack...
http://groups.google.com.au/group/fa.linux.kernel/msg/3cd0288f7fd3be2c?dmode=source&output=gplain
It prints just a single CPU at a time, but cycles through each one.
An alternative might be to have one sysrq key used to cycle between
CPUs, and sysrq+P could then just print out a trace from the selected
CPU...