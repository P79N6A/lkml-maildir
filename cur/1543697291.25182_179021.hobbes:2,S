Date: 19 Nov 2003 19:02:22 -0800
From: john stultz <>
Subject: Re: high res timestamps and SMP
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/19/152

On Wed, 2003-11-19 at 14:40, Chris Friesen wrote:
> We have a requirement to have high-res timestamps available on SMP systems.
> 
> Assuming that we are running identical cpus, is a sync-up at boot time 
> enough to give usable time values, or do I need to do force periodic 
> re-syncs?
If the cpus (or their time stamp counter) are all driven by the same
signal and you do not suffer from NUMA effects, then syncing them should
be enough. 
However, if you suffer from NUMA effects, or if the counters are not
driven off the same signal, its likely you could run into problems. 
> We're currently looking at MIPS, x86 (Xeons), and PPC.
o No clue on MIPS.
o The x86 TSC is a horrible time source, but may work well enough on
simple SMP systems. 
o PPC has a nice in-cpu time-base register (ppc folks, feel free to
smack or correct me on this) which is driven off the bus-clock and is
synced in hardware. 
good luck!
-john
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/