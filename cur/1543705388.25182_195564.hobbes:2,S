Date: Mon, 02 Feb 2004 21:13:41 +0200
From: Martin Schlemmer <>
Subject: Re: module-init-tools/udev and module auto-loading
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/2/127

On Mon, 2004-02-02 at 07:21, Greg KH wrote:
> On Mon, Feb 02, 2004 at 12:31:58AM +0200, Martin Schlemmer wrote:
> > Hi
> > 
> > A quick question on module-init-tools/udev and module auto-loading ...
> > lets say I have a module called 'foo', that I want the kernel to
> > auto-load.
> 
> Wait, stop right there.  When do you want the module autoloaded?
> 
> If you want it loaded when the device is plugged in, then great, the
> hotplug scripts will do that.
> 
> If you want the module loaded when you try to access the /dev node, then
> see the FAQ about udev for that :)
> 
Whoa, stop the horses :)  I do not want to start another devfs/udev
argument 8)
As I said - this feature _does_ work of autoloading the module _if_
the device node and alias exists.  If the node is deleted however it
does not.  So this tells me there functionality is half way there,
and I was wondering if it could be completed without too much extra
overhead.
You can check the mail to Rusty for more what I mean (hopefully it
comes through correctly).
> > Then a distant related issue - anybody thought about dynamic major
> > numbers of 2.7/2.8 (?) and the 'alias char-major-<whatever>-* whatever'
> > type modprobe rules (as the whole fact of them being dynamic, will make
> > that alias type worthless ...)?
> 
> Yes, it will make the char-major-* stuff worthless, however the distro
> I use has not used that style of alias for years, why would yours?  :)
> 
> Rusty had it correct in that you need to try to load for the type of
> module:
> 	alias eth1 tulip
> 	alias usb-controller usb-ohci
> and so on.  That's the much better way.
> 
Stupid question - is there a complete list of all these aliases?
Thanks,
-- 
Martin Schlemmer
[unhandled content-type:application/pgp-signature]