Date: Wed, 6 Mar 2002 13:41:51 -0500
From: "Bulent Abali" <>
Subject: Re: [PATCH] struct page shrinkage
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/6/135

>> Andrew,
>> I have an application which needs to know the total number of locked and
>> dirtied pages at any given time.  In which application locked-page
>> accounting is done?   I don't see it in base 2.5.5.   Are there any
patches
>> or such that you can give pointers to?
>
>This is in the ebulliently growing delayed-allocate and
>buffer_head-bypass patches at
>
> 
http://www.zip.com.au/~akpm/linux/patches/2.5/2.5.6-pre2/
>
>The implementation you're looking for is in dalloc-10-core.patch:
>mm.h and mm/page_alloc.c
extern struct page_state {
             unsigned long nr_dirty;
             unsigned long nr_locked;
} ____cacheline_aligned page_states[NR_CPUS];
This is perfect.   Looks like, if a run summation over all the CPUs I will
get the total locked and dirty pages, provided mm.h macros are respected.
What is the outlook for inclusion of this patch in the main kernel?  Do you
plan to submit or have been included yet?
Bulent
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/