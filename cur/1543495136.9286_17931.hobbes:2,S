Date: Sat, 8 May 1999 17:35:34 -0700 (PDT)
From: Cacophonix Gaul <>
Subject: Re: 2.2.7 fixes Apache problem? (Was: Re: 2.2.5 optimizations for web benchmarks?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/8/66

The fix you mention does fix the 200ms delay for each connection
between 2.2.5 and host stacks that (incorrectly) increment 
cwnd on the initial syn-ack. I had mentioned this as a problem
in my first message
http://www.linuxhq.com/lnxlists/linux-kernel/lk_9904_03/msg00146.html
However, the apache problem I refer to is the problem where
apache is pushed "over the limit", and performance drops
to below 30 connections/second. After reaching this state,
and _after_ the specweb run is over, performance remains 
low. _Every_ connection after that incurs a ~4 second
latency (even in unloaded conditions), until apache is
restarted. I don't believe this problem is caused by the 
cwnd issue.
Again, as I mentioned, I haven't been able to explain this
on 2.2.5. The problem does not occur in 2.2.7, but that's
possibly because I'm unable to saturate apache on my
system.
cheers,
karthik
--- "David S. Miller" <davem@redhat.com> wrote:
>    Date: 	Sat, 8 May 1999 16:48:40 -0700 (PDT)
>    From: Cacophonix Gaul <cacophonix@yahoo.com>
> 
>    I'm not sure if I can say that 2.2.7 _fixes_ the apache problem or
>    merely _masks_ it. 
> 
> It does fix the problem, there were erroneous 200ms delays at the
> start and end of every TCP connection when talking to broken BSD and
> Microsoft stacks and a workaround for these systems was implemented by
> me in 2.2.7 which cures it.
> 
> Plain and simple.
> 
> Later,
> David S. Miller
> davem@redhat.com
> 
_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at 
http://mail.yahoo.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/