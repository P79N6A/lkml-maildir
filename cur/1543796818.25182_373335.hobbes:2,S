Date: Tue, 6 Dec 2005 10:04:18 -0200
From: Luiz Fernando Capitulino <>
Subject: [PATCH 10/10] usb-serial: adds initialization code for all ports.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/6/91

 Initialize the write URB lock for all ports.
Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
 drivers/usb/serial/usb-serial.c |    1 +
 1 file changed, 1 insertion(+)
diff -Nparu -X /home/lcapitulino/kernels/dontdiff a/drivers/usb/serial/usb-serial.c a~/drivers/usb/serial/usb-serial.c
--- a/drivers/usb/serial/usb-serial.c	2005-12-04 20:12:18.000000000 -0200
+++ a~/drivers/usb/serial/usb-serial.c	2005-12-04 20:12:55.000000000 -0200
@@ -784,6 +784,7 @@ int usb_serial_probe(struct usb_interfac
 		port->number = i + serial->minor;
 		port->serial = serial;
 		sema_init(&port->sem, 1);
+		usb_serial_write_urb_lock_init(port);
 		INIT_WORK(&port->work, usb_serial_port_softint, port);
 		serial->port[i] = port;
 	}
-- 
Luiz Fernando N. Capitulino
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/