Date: Mon, 25 Jan 1999 20:40:25 -0800 (PST)
From: Christopher Seawood <>
Subject: Re: compile fialure (sb_ess.o) [PATCH]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/25/235

On Mon, 25 Jan 1999, Bradley Wendelboe wrote:
> drivers/sound/sound.a(sb_ess.o): In function `ess_init':
> sb_ess.o(.text+0xde2): undefined reference to `esstype'
> sb_ess.o(.text+0xe77): undefined reference to `esstype'
> make: *** [vmlinux] Error 
Here's a patch to fix that problem.  esstype was only being defined when
sound was being compiled as a module.
- cls
--- linux/drivers/sound/sb_card.c	Sun Jan 24 22:04:02 1999
+++ /usr/src/linux/drivers/sound/sb_card.c	Mon Jan 25 20:33:14 1999
@@ -113,6 +113,7 @@
 }
 
 int sb_be_quiet=0;
+int esstype = 0;	/* ESS chip type */
 
 #ifdef MODULE
 
@@ -136,7 +137,6 @@
 int pas2 = 0;	/* Set pas2=1 to load this as support for pas2 */
 int sm_games = 0;	/* Mixer - see sb_mixer.c */
 int acer = 0;	/* Do acer notebook init */
-int esstype = 0;	/* ESS chip type */
 
 MODULE_PARM(io, "i");
 MODULE_PARM(irq, "i");