Date: Mon, 26 Jan 2009 01:09:21 -0800
From: "Nicholas A. Bellinger" <>
Subject: [PATCH 5/7] [Target_Core_Mod/IBLOCK]: Convert to use Linux/SCSI SCSI_3 define
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/26/46

>From 4bbf3522fc51145b666a7f6026361473baa413e4 Mon Sep 17 00:00:00 2001
From: Nicholas Bellinger <nab@linux-iscsi.org>
Date: Mon, 26 Jan 2009 00:39:54 -0800
Subject: [PATCH 5/7] [Target_Core_Mod/IBLOCK]: Convert to use Linux/SCSI SCSI_3 define
Make iblock_get_device_rev() return include/scsi/scsi.h:SCSI_3 (for
Target_Core_Mod/ConfigFS testing) and iblock_get_device_type() return
SCSI device type: TYPE_DISK following Linux/SCSI includes.
Signed-off-by: Nicholas A. Bellinger <nab@linux-iscsi.org>
---
 drivers/lio-core/target_core_iblock.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)
diff --git a/drivers/lio-core/target_core_iblock.c b/drivers/lio-core/target_core_iblock.c
index 25e2318..29dc87b 100644
--- a/drivers/lio-core/target_core_iblock.c
+++ b/drivers/lio-core/target_core_iblock.c
@@ -837,12 +837,12 @@ extern u32 iblock_get_blocksize (se_device_t *dev)
 
 extern u32 iblock_get_device_rev (se_device_t *dev)
 {
-	return(02);
+	return(SCSI_3);
 }
 
 extern u32 iblock_get_device_type (se_device_t *dev)
 {
-	return(0); /* TYPE_DISK */
+	return(TYPE_DISK);
 }
 
 extern u32 iblock_get_dma_length (u32 task_size, se_device_t *dev)
-- 
1.5.4.1