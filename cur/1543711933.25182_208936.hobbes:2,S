Date: Wed, 24 Mar 2004 13:59:34 +0200
From: "Petr Vandrovec" <>
Subject: Re: VMware-workstation-4.5.1 on linux-2.6.4-x86_64 host fai
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/24/56

On 24 Mar 04 at 11:43, Hans-Peter Jansen wrote:
> On Tuesday 23 March 2004 23:05, Andrei Mikhailovsky wrote:
> > I have successfully installed (well actually upgraded) to 4.5.1
> > from 4.0.5. No patches where required and everything seems to work
> > like a charm.
> 
> Am I right, that you're running on i586, while the problem expose
> on x86_64 arch?
Not only. It builds & runs without patches if you use "right" x86_64
kernels. Patch you posted is needed on SuSE (AFAIK) 2.4.x kernels and
on 2.6.x kernels, while RedHat 2.4.x kernels works without patch. On
other side ffs(0) returns 33 on RedHat's 2.4.x kernels (at least on
one...) which can cause machine lockup in endless loop waiting until
ffs(0) will become 0...
On 2.6.x kernels additionally (problem you are hitting now) SIO*BRIDGE
ioctls were moved from "compatible" to "not so compatible" group.
If you'll just mark them as "compatible", it will work sufficiently
well to get networking in VMware.
Unfortunately I'm not aware about any way how to issue x86_64 ioctls
from 32bit ia32 program, and spawning external program just to perform
one ioctl on some file descriptor looks like overkill.
I'll start supporting x86_64 in vmware-any-any- patches as soon as
someone donates x86_64 system to me, or after ~ September 2004, whatever
comes first. Until then you have to get it to work yourself - change
you made is already done in vmware-any-any-update55, unfortunately
other parts of that update do not build on x86_64 yet...
                                                Petr Vandrovec
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/