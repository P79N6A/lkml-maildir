Date: Fri, 14 Feb 2003 13:12:28 +0100
From: Michael Westermann <>
Subject: strangely serial Problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/14/86

Hello,
We have a strangely serial Problem. 
I have a box with Kernel 2.2.23 and Suse and a box with
Debian with kernel 2.2.23. Old IDE-Disk's without DMA. 
Both boxes are connect with crossober Cable.
On the reading box run's a "find /[!p]* -type f -exec grep  "balffasel" {} \;
to the same time. 
I have tested with:
stty -F /dev/ttyS0 0:0:800008bf:0:3:1c:7f:15:4:0:1:0:0:0:1a:0:12:f:17:16:0:0:0:0
:0:0:0:0:0:0:0:0:0:0:0:0 
38400 baud
cat /dev/ttyS0 > testdat 
on the reading box
for i in `seq 1 500`; do \
printf "%04d 0123456789012345678901234567890123456789012345678901234567890\n" $i
 > /dev/ttyS0  ; done
on the writing box
When the debian-Box send the characters, to get lost characters.
When the Suse-Box send's it's ok. i
I have tested only with a runnig bash "lili: linux init=/bin/bash"
the same Problem. On both boxes are the same kernel, the same
serial parabeters, both boxes work with FIFO. 
I have tested the kernel 2.2.16...23 and 2.4.2 2.4.17 2.4.20, only
the 2.4.17 has the same problem on debian. 
I think that is a interrupt  Probelem,but what is the causale?
what the difference.
When I use the FIFO, the UART read 8 char's to put a Interrupt.  
The time for 8 char's is 2 ms. After this time we have a overrun,
but I thin that is a long time witout a Interrupt.
Thank's
Michael Westermann
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/