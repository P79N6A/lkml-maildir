Date: Tue, 27 Nov 2007 11:03:48 -0800
From: David Brownell <>
Subject: Re: [patch/rfc 1/4] GPIO implementation framework
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/27/235

On Tuesday 27 November 2007, eric miao wrote:
>    c) removal of "gpiochip_is_requested()", and use "gpio_desc->requested"
>       instead
That's problematic for GPIO code that needs to know if a given
GPIO has been requested ... since you don't export gpio_desc[]
(and shouldn't) that functionality has effectively been removed!
So that would break two patches now in MM (mcp23s08 support, and
the avr32 platform conversion) plus others not yet merged...
>    d) make gpio_ensure_requested() use gpio_desc, and simplify the code a
>       bit
That's problematic too ... since it no longer actually ensures
that the chip gets marked as requested.  :(
Since struct gpio_desc isn't exported, it might as well be
private to lib/gpiolib.c instead of public in the header...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/