Date: Thu, 1 Sep 2005 00:10:31 +0200 (CEST)
From: Roman Zippel <>
Subject: Re: FW: [RFC] A more general timeout specification
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/31/261

Hi,
On Wed, 31 Aug 2005, Perez-Gonzalez, Inaky wrote:
> +	flags = tp->clock_id & TIMEOUT_FLAGS_MASK;
> +	clock_id = tp->clock_id & TIMEOUT_CLOCK_MASK;
> +
> +	result = -EINVAL;
> +	if (flags & ~TIMEOUT_RELATIVE)
> +	    goto out;
> +
> +	/* someday, we should support *all* clocks available to us */
> +	if (clock_id != CLOCK_REALTIME && clock_id != CLOCK_MONOTONIC)
> +		goto out;
> +	if ((unsigned long)tp->ts.tv_nsec >= NSEC_PER_SEC)
> +		goto out;
Why is that needed in a _general_ timeout API? What exactly makes it so 
useful for everyone and not just more complex for everyone?
bye, Roman
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/