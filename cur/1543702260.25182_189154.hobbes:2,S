Date: Wed, 7 Jan 2004 15:30:14 -0600
From: Matt Mackall <>
Subject: Re: 2.6.1-rc1-tiny2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/7/248

> > For the sake of our other readers, I'll point out that mempool doesn't
> > intrinisically reduce deadlock odds to zero unless we have a hard
> > limit on requests in flight that's strictly less than pool size.
> 
> That's not true, depends entirely on usage. It's not a magic wand. And
> you don't need a hard limit, you only need progress guarentee.
Yes, definitely depends on usage.
> Typically just a single pre-allocated object can make you 100%
> deadlock free, if stacking is not involved. So for most cases, I
> think it would be much better if you just hard wired min_nr to 1,
> that would move you from 90% to 99% safe :-)
Sure, I've considered that. I'll put an option for that on my todo list.
-- 
Matt Mackall : 
http://www.selenic.com
 : Linux development and consulting
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/