Date: Thu, 8 Nov 2001 23:39:12 +0100
From: Christoph Hellwig <>
Subject: Re: [Lse-tech] [PATCH]Disk IO statisitics gathering for all disks
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/8/177

On Thu, Nov 08, 2001 at 02:33:44PM -0800, Mingming cao wrote:
> Hello,
> 
> Attached is a patch to dynamically allocate the data buffers for the
> disk statistics, and to extend the gathering of disk statistics to
> include major numbers greater than 15.
> 
> A disk statistics structure is allocated when a new block device 
> is registered.  A global array (kstat.dkdrive_info[]) is used
> to hold the address of the statistics structures for all block
> devices.  The  disk statistics lookup is the same as before: indexed by
> the major number and the disk number.
A very minor nitpick: please use struct dk_stat (or disk_stat) instead of
dk_stat_t - it is by no means an opaque type.
	Christoph
-- 
Of course it doesn't work. We've performed a software upgrade.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/