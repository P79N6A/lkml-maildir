Date: Mon, 16 Oct 2006 11:52:39 -0700
From: "Lu, Yinghai" <>
Subject: [PATCH] x86_64: store Socket ID in phys_proc_id
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/16/244

Current code store phys_proc_id with init APIC ID, and later will change
to apicid>>bits.
So for the apic id lifted system, for example BSP with apicid 0x10, the
phys_proc_id will be 8.
This patch use initial APIC ID to get Socket ID.
It also removed ht_nodeid calculating, because We already have correct
socket id for sure.
Signed-off-by: Yinghai Lu <yinghai.lu@amd.com>
[unhandled content-type:application/octet-stream]