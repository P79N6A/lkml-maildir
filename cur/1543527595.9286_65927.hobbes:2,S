Date: Sat, 26 Feb 2000 17:18:12 -0500
From: Wakko Warner <>
Subject: Re: I have an i82365-compatible PCMCIA PCI that is non-CardBus, I'd want that PCI detection for it was put back.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/26/86

> I have a PCMCIA controller Cirrus Logic CL 6729 that is PCCARD only,
> not CardBus, *BUT* is PCI not ISA. Everywhere I seem to read that PCI
> are all CardBus. There are some exceptions. I was locked to 2.3.36
> because at first glance changes made in kernel didn't allow my
> PCMCIA bridge to work and origin pcmcia-cs package doesn't compile
> anymore (bridges, then later cards) modules for 2.3.37+.
I have a Kiwi OpenNote 680T that I use at work.  Crappy thing, but it works. 
It has an omega micro pci-to-pcmcia controller.  2.3.47 locks solid when
trying to find it (and thinks it's an isa-to-pcmcia)
> 00:18.0 PCMCIA bridge: Cirrus Logic CL 6729 (rev 07)
>         Flags: stepping, slow devsel
>         I/O ports at 3000 [size=4]
> 
> Feb 26 16:30:17 blackhole kernel: Linux PCMCIA Card Services 3.1.11
> Feb 26 16:30:17 blackhole kernel:   kernel build: 2.3.36 unknown
> Feb 26 16:30:17 blackhole kernel:   options:  [pci] [apm]
> Feb 26 16:30:17 blackhole kernel: Intel PCIC probe:
> Feb 26 16:30:17 blackhole kernel:   Cirrus PD6729 PCI-to-PCMCIA at slot 00:18, port 0x3000
> Feb 26 16:30:17 blackhole kernel:     host opts [0]: [ring] [1/5/0] [1/20/0]
> Feb 26 16:30:17 blackhole kernel:     host opts [1]: [ring] [1/5/0] [1/20/0]
This is where mine locks up in 2.3.47, but there's nothing after the : on
those last 2 lines on mine.
> Feb 26 16:30:17 blackhole kernel:     ISA irqs (default) = 3,4,5,10,11 polling interval = 1000 ms
> Feb 26 16:30:18 blackhole cardmgr[5368]: starting, version is 3.1.11
> Feb 26 16:30:18 blackhole cardmgr[5368]: watching 2 sockets
> Anyways it's not very interesting to have lost PCI autodetection.
> By the way: linux/drivers/pcmcia/i82365.c still has:
> 
> printk(KERN_INFO "Intel PCIC probe: ");
> 
> but all PCI probe code is removed. So some people would think their
> PCI card was really probed (it wasn't at all), but not correctly
> detected.
I guess this is why it says mine's an ISA instead of PCI.  Grrrr.
-- 
 Lab tests show that use of micro$oft causes cancer in lab animals
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/