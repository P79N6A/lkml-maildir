Date: Mon, 11 Mar 2002 11:46:54 +0100
From: Stephan von Krawczynski <>
Subject: Re: BUG REPORT: kernel nfs between 2.4.19-pre2 (server) and 2.2.21-pre3 (client)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/11/59

On Mon, 11 Mar 2002 09:14:58 +0300
Oleg Drokin <green@namesys.com> wrote:
> Hello!
> 
> On Mon, Mar 11, 2002 at 01:28:42AM +0100, Trond Myklebust wrote:
> >      > this is a weak try of an explanation. All involved fs types are
> >      > reiserfs. The problem occurs reproducably only after (and
> > Which ReiserFS format? Is it version 3.5?
> 
> >    'cat /proc/fs/reiserfs/device/version'
> 
> If this does not work because you have no such file, then look through your
> kernel logs, if you use reiserfs v3.5 on 2.4 kernel, it will show itself
> as such record in the log file: "reiserfs: using 3.5.x disk format"
Hello Oleg, hello Trond, hello Alan,
I have several reiserfs fs in use on this server. boot.msg looks like
<4>reiserfs: checking transaction log (device 08:03) ...
<4>Using r5 hash to sort names
<4>ReiserFS version 3.6.25
<4>VFS: Mounted root (reiserfs filesystem) readonly.
<4>Freeing unused kernel memory: 224k freed
<6>Adding Swap: 265032k swap-space (priority 42)
<4>reiserfs: checking transaction log (device 21:01) ...
<4>Using r5 hash to sort names
<4>ReiserFS version 3.6.25
<4>reiserfs: checking transaction log (device 22:01) ...
<4>Using tea hash to sort names
<4>reiserfs: using 3.5.x disk format
<4>ReiserFS version 3.6.25
<4>reiserfs: checking transaction log (device 08:04) ...
<4>Using r5 hash to sort names
<4>ReiserFS version 3.6.25
I tried to find out which device has which numbers and did a cat /proc/devices:
Block devices:
  2 fd
  8 sd
 11 sr
 22 ide1
 33 ide2
 34 ide3
 65 sd
 66 sd
Interestingly there is no #21. Shouldn't I see a block device 21 here?
More strange the only two existing ide-drives in this system are located on
ide2 and ide3 and should therefore have device numbers 33 and 34, or not?
There is no hd on ide1, only a CDROM (not used during the test). ide0 is
completely empty.
As told earlier this is kernel 2.4.19-pre2.
Enlighten me, please...
Stephan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/