Date: Mon, 18 Mar 2002 01:05:38 +0100
From: Kurt Garloff <>
Subject: Re: SCSI-Problem with AM53C974
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/17/66

On Sun, Mar 17, 2002 at 11:58:38PM +0100, Matthias Andree wrote:
> On Sun, 17 Mar 2002, Marion Steiner wrote:
> 
> > There is a problem with the AM53C974 Scsi-driver (Revision 0.5, 
> > kernel 2.4.x) and the DawiControl DC-2974.
> > 
> > Mar 17 14:13:01 orion kernel: scsi : aborting command due to timeout : pid
> > 123, scsi1, channel 0, id 0, lun 0 Inquiry 00 0
> > Mar 17 14:13:03 orion kernel: SCSI host 1 abort (pid 123) timed out -
> > resetting
> > Mar 17 14:13:03 orion kernel: SCSI bus is being reset for host 1 channel 0.
> 
> Command timeouts rather look like bus termination problem, plug loose or
> something like that. Does the problem still occur with all cables
> unplugged from the DC-2974? Does the problem occur with the DC-2974 in
> a different computer?
As far as I could see there were TWO driver loaded trying to drive the same
piece of hardware at the same time. You can really expect trouble if this
happens and you can't take any conclusions about hardware problems.
The problem is of course with the drivers: They should not allow to be
loaded both for the same device.
IMHO, The AM53C974 driver should register the ioports and fail
initialization if it can't grab them, so the conflict would be solved. I'll
investigate what the most proper solution to avoid such things is and come
up with a patch.
Regards,
-- 
Kurt Garloff  <garloff@suse.de>                          Eindhoven, NL
GPG key: See mail header, key servers         Linux kernel development
SuSE Linux AG, Nuernberg, DE                            SCSI, Security
[unhandled content-type:application/pgp-signature]