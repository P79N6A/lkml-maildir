Date: Wed, 1 Feb 2006 21:43:19 +0100
From: Andi Kleen <>
Subject: Re: [PATCH] AMD64: fix mce_cpu_quirks typos
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/1/384

On Wednesday 01 February 2006 21:21, Florian Weimer wrote:
> > but it's still logged and the regular polling picks them up
> > anyways. I have not found a nice way to handle this (other than
> > adding a ugly CPU specific special case in the middle of the nice
> > cpu independent machine check handler, which I couldn't bring myself
> > to do so far...)
> 
> Someone tried to track these messages down together with someone else
> from AMD, but they never got it finished.
They could have saved themselves a lot of work by just asking
at the right mailing lists (which is not l-k BTW)
> For reference, here's the lspci -n output for the system.  It's a
> two-way Opteron box (248, 2.2 GHz, stepping 10) with 8 GB of RAM.
> (BIOS and chipset details are not available to me at the moment.)
> The MCEs only appeared after a switch to a 64-bit kernel (2.6.15.2),
> adding the second CPU, along with 4 GB of RAM.  Previously, the box
> ran 2.6.13 in 32-bit mode, and no MCEs appeared regularly.
The 64bit kernel uses the AGP aperture as IOMMU, the 32bit kernel doesn't.
It's a known documented hardware bug that this causes spurious GART errors.
That is why the BIOS and Linux disable them. Unfortunately the Linux
MCE handler is too thorough and picks them up anyways as corrected events.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/