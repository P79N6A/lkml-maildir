Date: Sat, 24 Jan 2009 02:37:09 +1100
From: Nick Piggin <>
Subject: Re: [PATCH] SLUB: revert direct page allocator pass through
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/23/202

On Saturday 24 January 2009 02:27:29 Christoph Lameter wrote:
> On Sat, 24 Jan 2009, Nick Piggin wrote:
> > > I thought higher order allocations were not supposed to be used in
> > > performance critical paths?
> >
> > ? You use them all the time in SLUB alone.
>
> But SLUB compensates for the slow higher order allocs by using them as
> buffers for smaller objects.. The higher order allocs are in the slow
> paths.
I don't quite know what you're asking of me. If you see higher order
allocations in performance critical code, then you answer your own
question?
However, I don't know if netperf udp 4K over loopback is totally
realistic. Maybe real network drivers have different allocation patterns.
If I were you I wouldn't be too hasty to make big changes based on that
alone, if it could introduce regression in somewhere more important.