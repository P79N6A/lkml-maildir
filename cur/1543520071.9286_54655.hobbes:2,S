Date: Mon, 20 Dec 1999 23:09:45 -0500 (EST)
From: Charles Galpin <>
Subject: oops diagnostic help please
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/20/171

Hi
I'm not subscribed to the list, so please cc me at cgalpin@lhsw.com in
replies please.
I cannot tell where the problem is occuring. I have a few models compiled
after the kernel was built (it's a stock 2.2.5-15 on a Redhat 6.0 AMD K6
II 450 / 256MB), ksymoops couldn't find symbols for. Does it mean one of
them is the culprit?
The first happened at 5 in the morning. no much going on then. I was
downloading files to a nfs drive (served by this machine) at the time (or
shortly before) it dies.
thanks
charles
[root@kanga ksymoops]# ./ksymoops -m /boot/System.map-2.2.5-15 <
/root/oops1
Options used: -V (default)
              -o /lib/modules/2.2.5-15/ (default)
              -k /proc/ksyms (default)
              -l /proc/modules (default)
              -m /boot/System.map-2.2.5-15 (specified)
              -c 1 (default)
Warning in compare_ksyms_lsmod, module es1371 is in lsmod but not in
ksyms, probably no symbols exported
Warning in compare_ksyms_lsmod, module nfsd is in lsmod but not in ksyms,
probably no symbols exported
Warning in compare_ksyms_lsmod, module vmppuser is in lsmod but not in
ksyms, probably no symbols exported
Warning: cannot match loaded module tulip to any module object.  Trace may
not be reliable.
Warning: cannot match loaded module aic7xxx to any module object.  Trace
may not be reliable.
Dec 16 05:02:20 kanga kernel: Unable to handle kernel paging request at
virtual address a5c32f33 
Dec 16 05:02:20 kanga kernel: current->tss.cr3 = 05415000, %cr3 = 05415000 
Dec 16 05:02:20 kanga kernel: *pde = 00000000 
Dec 16 05:02:20 kanga kernel: Oops: 0002 
Dec 16 05:02:20 kanga kernel: CPU:    0 
Dec 16 05:02:20 kanga kernel: EIP:    0010:[__kfree_skb+37/168] 
Dec 16 05:02:20 kanga kernel: EFLAGS: 00013286 
Dec 16 05:02:20 kanga kernel: eax: ce88a001   ebx: ce88a1a0
ecx: ce88a1a0   edx: a5c32f2b 
Dec 16 05:02:20 kanga kernel: esi: 000001f4   edi: 00000001
ebp: c86570c4   esp: c4a67ee0 
Dec 16 05:02:20 kanga kernel: ds: 0018   es: 0018   ss: 0018 
Dec 16 05:02:20 kanga kernel: Process X (pid: 706, process nr: 57,
stackpage=c4a67000) 
Dec 16 05:02:20 kanga kernel: Stack: c0172893 ce88a1a0 ca5a8d5c 00001000
00000040 c4a67f80 c86572a4 ce88a1a0  
Dec 16 05:02:20 kanga kernel:        c86572a4 00000001 000001f4 00000000
00000040 c8657080 c0148fca ca5a8d5c  
Dec 16 05:02:20 kanga kernel:        c4a67f80 00000e0c 00000040 c4a67f48
ca5a8d5c c4a67f78 00000000 00001000  
Dec 16 05:02:20 kanga kernel: Call Trace: [unix_stream_recvmsg+635/816]
[sock_recvmsg+66/180] [unix_stream_recvmsg+0/816]
Dec 16 05:02:20 kanga kernel: Code: ff 4a 08 8b 93 8c 00 00 00 85 d2 74 06
53 ff d2 83 c4 04 c7  
Warning: trailing garbage ignored on Code: line
  Text: 'Code: ff 4a 08 8b 93 8c 00 00 00 85 d2 74 06 53 ff d2 83 c4 04 c7
'
  Garbage: '  '
Code:  00000000 Before first symbol            00000000 <_IP>: <===
Code:  00000000 Before first symbol               0:    ff 4a 08
decl   0x8(%edx) <===
Code:  00000003 Before first symbol               3:    8b 93 8c 00 00 00
movl   0x8c(%ebx),%edx
Code:  00000009 Before first symbol               9:    85 d2
testl  %edx,%edx
Code:  0000000b Before first symbol               b:    74 06
je      00000013 Before first symbol
Code:  0000000d Before first symbol               d:    53
pushl  %ebx
Code:  0000000e Before first symbol               e:    ff d2
call   *%edx
Code:  00000010 Before first symbol              10:    83 c4 04
addl   $0x4,%esp
Code:  00000013 Before first symbol              13:    c7 00 00 00 00 00
movl   $0x0,(%eax)
6 warnings issued.  Results may not be reliable.
[root@kanga ksymoops]# ./ksymoops -m /boot/System.map-2.2.5-15 <
/root/oops 
Options used: -V (default)
              -o /lib/modules/2.2.5-15/ (default)
              -k /proc/ksyms (default)
              -l /proc/modules (default)
              -m /boot/System.map-2.2.5-15 (specified)
              -c 1 (default)
Warning in compare_ksyms_lsmod, module es1371 is in lsmod but not in
ksyms, probably no symbols exported
Warning in compare_ksyms_lsmod, module nfsd is in lsmod but not in ksyms,
probably no symbols exported
Warning in compare_ksyms_lsmod, module vmppuser is in lsmod but not in
ksyms, probably no symbols exported
Warning: cannot match loaded module tulip to any module object.  Trace may
not be reliable.
Warning: cannot match loaded module aic7xxx to any module object.  Trace
may not be reliable.
Dec 20 13:34:59 kanga kernel: Unable to handle kernel NULL pointer
dereference at virtual address 00000001 
Dec 20 13:34:59 kanga kernel: current->tss.cr3 = 0b285000, %cr3 = 0b285000 
Dec 20 13:34:59 kanga kernel: *pde = 00000000 
Dec 20 13:34:59 kanga kernel: Oops: 0000 
Dec 20 13:34:59 kanga kernel: CPU:    0 
Dec 20 13:34:59 kanga kernel: EIP:    0010:[kmalloc+81/348] 
Dec 20 13:34:59 kanga kernel: EFLAGS: 00010006 
Dec 20 13:34:59 kanga kernel: eax: c76cafe0   ebx: c76cafe0
ecx: 00000001   edx: ffffffe0 
Dec 20 13:34:59 kanga kernel: esi: c0fae080   edi: 00000015
ebp: 00000282   esp: c9b69e80 
Dec 20 13:34:59 kanga kernel: ds: 0018   es: 0018   ss: 0018 
Dec 20 13:34:59 kanga kernel: Process wander (pid: 1561, process nr: 72,
stackpage=c9b69000) 
Dec 20 13:34:59 kanga kernel: Stack: 00000015 00000040 c014b2f9 00000014
00000015 ccc73980 00000000 c9b68000  
Dec 20 13:34:59 kanga kernel:        c014ab23 00000010 00000015 ccc73980
c014ad17 ccc73980 00000010 00000000  
Dec 20 13:34:59 kanga kernel:        00000015 c9b69f08 00000010 c0172228
c9b69f0c c9b68000 c0172312 ccc73980  
Dec 20 13:34:59 kanga kernel: Call Trace: [alloc_skb+113/220]
[sock_wmalloc+35/72] [sock_alloc_send_skb+99/168] [unix_str
Dec 20 13:34:59 kanga kernel: Code: 8b 01 89 03 85 c0 74 2b 8b 7b 04 85 ff
75 10 89 19 89 c8 2b  
Warning: trailing garbage ignored on Code: line
  Text: 'Code: 8b 01 89 03 85 c0 74 2b 8b 7b 04 85 ff 75 10 89 19 89 c8 2b
'
  Garbage: '  '
Code:  00000000 Before first symbol            00000000 <_IP>: <===
Code:  00000000 Before first symbol               0:    8b 01
movl   (%ecx),%eax <===
Code:  00000002 Before first symbol               2:    89 03
movl   %eax,(%ebx)
Code:  00000004 Before first symbol               4:    85 c0
testl  %eax,%eax
Code:  00000006 Before first symbol               6:    74 2b
je      00000033 Before first symbol
Code:  00000008 Before first symbol               8:    8b 7b 04
movl   0x4(%ebx),%edi
Code:  0000000b Before first symbol               b:    85 ff
testl  %edi,%edi
Code:  0000000d Before first symbol               d:    75 10
jne     0000001f Before first symbol
Code:  0000000f Before first symbol               f:    89 19
movl   %ebx,(%ecx)
Code:  00000011 Before first symbol              11:    89 c8
movl   %ecx,%eax
Code:  00000013 Before first symbol              13:    2b 00
subl   (%eax),%eax
6 warnings issued.  Results may not be reliable.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/