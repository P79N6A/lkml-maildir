Date: Wed, 06 Oct 2004 13:54:46 -0600
From: Chris Friesen <>
Subject: Re: UDP recvmsg blocks after select(), 2.6 bug?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/6/214

Hua Zhong wrote:
> How hard is it to treat the next read to the fd as NON_BLOCKING, even if
> it's not set?
Userspace likely would not properly handle EAGAIN on a nonblocking socket.
As far as I can tell, either you block, or you have to scan the checksum before 
select() returns.
Would it be so bad to do the checksum before marking the socket readable? 
Chances are we're going to receive the message "soon" anyways, so there is at 
least a chance it will stay hot in the cache, no?
Chris
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/