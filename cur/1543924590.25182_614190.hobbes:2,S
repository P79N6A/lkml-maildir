Date: Mon, 5 Nov 2007 14:18:19 +0100
From: Cornelia Huck <>
Subject: Re: [PATCH 27/54] kset: convert s390 hypervisor kset to use kset_create
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/5/89

On Fri,  2 Nov 2007 16:59:05 -0700,
Greg Kroah-Hartman <gregkh@suse.de> wrote:
> Dynamically create the kset instead of declaring it statically.
> 
> Cc: Kay Sievers <kay.sievers@vrfy.org>
> Cc: Michael Holzheu <holzheu@de.ibm.com>
> Cc: Cornelia Huck <cornelia.huck@de.ibm.com>
> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
> ---
>  arch/s390/hypfs/inode.c |   15 +++++++++------
>  1 files changed, 9 insertions(+), 6 deletions(-)
arch/s390/hypfs/inode.c: In function 'hypfs_init':
arch/s390/hypfs/inode.c:512: error: implicit declaration of function 'IS_PTR'
Signed-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>
---
 arch/s390/hypfs/inode.c |    2 +-
 1 files changed, 1 insertion(+), 1 deletion(-)
Index: linux-2.6/arch/s390/hypfs/inode.c
===================================================================
--- linux-2.6.orig/arch/s390/hypfs/inode.c	2007-11-05 11:12:49.000000000 +0100
+++ linux-2.6/arch/s390/hypfs/inode.c	2007-11-05 14:14:46.000000000 +0100
@@ -509,7 +509,7 @@ static int __init hypfs_init(void)
 
 	s390_kset = kset_create_and_register("s390", NULL, NULL,
 		    hypervisor_kset);
-	if (IS_PTR(s390_kset)) {
+	if (IS_ERR(s390_kset)) {
 		rc = PTR_ERR(s390_kset);
 		goto fail_sysfs;
 	}
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/