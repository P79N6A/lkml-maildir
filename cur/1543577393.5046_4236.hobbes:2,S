Date: Thu, 4 Jan 2001 20:03:33 -0800
From: Matthew Dharm <>
Subject: Re: Announce: modutils 2.4.0 is available
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/4/217

Well, I'll be the one to fall on my sword...
This is probably my fault.  The matching code was pretty much broken for a
non-trivial subset of usb devices.  I'd submitted the patch to Linus before
the holdiays, but it was rejected for various reasons.  After some back and
forth, Linus finally accepted it on about the 2st of the year.
It's pretty much the same patch (functionally) as I posted to the
linux-usb-devel mailing list, which I presumed would inform the hotplugging
people.  Mea culpa, I seem to have been in error there.  Tho, that was
several weeks ago, so it may have just fallen out of people's heads in the
interim time.
Keith, if you need any info on what the new structure means, please let me
know and I can fill you in on all the details.
Matt
On Fri, Jan 05, 2001 at 02:56:29PM +1100, Keith Owens wrote:
> On Fri, 05 Jan 2001 13:59:12 +1100, 
> Keith Owens <kaos@ocs.com.au> wrote:
> >modutils-2.4.0.tar.gz           Source tarball, includes RPM spec file
> 
> I have just found out that there was an incompatible change to struct
> usb_device_id during 2.4.0-prerelease :(((.  That means that all
> versions of depmod will break on kernel 2.4.0 if you have any modules
> that use MODULE_DEVICE_TABLE(usb).  Incompatible changes to an ABI
> structure without notification immediately prior to a major kernel
> release, yech!
> 
> If you have usb modules then stay on kernel 2.4.0-prerelease or compile
> usb without modules or wait until I can test and release modutils
> 2.4.1.  The usb hotplug utilities will also have to change to handle
> the new table layout.
> 
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> Please read the FAQ at 
http://www.tux.org/lkml/
-- 
Matthew Dharm                              Home: mdharm-usb@one-eyed-alien.net 
Maintainer, Linux USB Mass Storage Driver
A:  The most ironic oxymoron wins ...
DP: "Microsoft Works"
A:  Uh, okay, you win.
					-- A.J. & Dust Puppy
User Friendly, 1/18/1998
[unhandled content-type:application/pgp-signature]