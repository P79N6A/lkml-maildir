Date: Mon, 23 Jan 2006 20:16:09 -0500
From: Chuck Ebbert <>
Subject: [patch 2/9] ia32 syscalls: rename some i386 syscalls
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/23/348

References: <200601231938_MC3-1-B687-7C42@compuserve.com>
In-Reply-To: <200601231938_MC3-1-B687-7C42@compuserve.com>
Shared ia32 syscall table 2/9:
Rename some i386 syscalls so they match up better with x86_64
32-bit syscalls.
Signed-Off-By: Chuck Ebbert <76306.1226@compuserve.com>
---
 arch/i386/kernel/sys_i386.c      |    4 ++--
 arch/i386/kernel/syscall_table.S |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)
--- 2.6.16-rc1-mm2.orig/arch/i386/kernel/sys_i386.c
+++ 2.6.16-rc1-mm2/arch/i386/kernel/sys_i386.c
@@ -89,7 +89,7 @@ struct mmap_arg_struct {
 	unsigned long offset;
 };
 
-asmlinkage int old_mmap(struct mmap_arg_struct __user *arg)
+asmlinkage int sys_old_mmap(struct mmap_arg_struct __user *arg)
 {
 	struct mmap_arg_struct a;
 	int err = -EFAULT;
@@ -113,7 +113,7 @@ struct sel_arg_struct {
 	struct timeval __user *tvp;
 };
 
-asmlinkage int old_select(struct sel_arg_struct __user *arg)
+asmlinkage int sys_old_select(struct sel_arg_struct __user *arg)
 {
 	struct sel_arg_struct a;
 
--- 2.6.16-rc1-mm2.orig/arch/i386/kernel/syscall_table.S
+++ 2.6.16-rc1-mm2/arch/i386/kernel/syscall_table.S
@@ -81,7 +81,7 @@ ENTRY(sys_call_table)
 	.long sys_settimeofday
 	.long sys_getgroups16	/* 80 */
 	.long sys_setgroups16
-	.long old_select
+	.long sys_old_select
 	.long sys_symlink
 	.long sys_lstat
 	.long sys_readlink	/* 85 */
@@ -89,7 +89,7 @@ ENTRY(sys_call_table)
 	.long sys_swapon
 	.long sys_reboot
 	.long old_readdir
-	.long old_mmap		/* 90 */
+	.long sys_old_mmap	/* 90 */
 	.long sys_munmap
 	.long sys_truncate
 	.long sys_ftruncate
-- 
Chuck
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/