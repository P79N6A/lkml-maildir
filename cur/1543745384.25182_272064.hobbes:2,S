Date: Thu, 18 Nov 2004 09:17:13 +0100
From: Miklos Szeredi <>
Subject: Re: [PATCH] [Request for inclusion] Filesystem in Userspace
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/18/30

> I know I've asked before... but how is the "fuse-userspace-part
> swapped out and memory full of dirty data on fuse" deadlock solved?
By either
  1) not allowing share writable mappings 
  2) doing non-blocking asynchronous writepage
In the first case there will never be dirty data, since normal writes
go synchronously through the page cache.
In the second case there is no deadlock, because the memory subsystem
doesn't wait for data to be written.  If the filesystem refuses to
write back data in a timely manner, memory will get full and OOM
killer will go to work.  Deadlock simply cannot happen.
Miklos
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/