Date: Mon, 20 Feb 2006 09:04:27 +1100
From: Neil Brown <>
Subject: Re: [PATCH 0/3] sysfs representation of stacked devices (dm/md)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/19/142

On Friday February 17, j-nomura@ce.jp.nec.com wrote:
> Hello,
> 
> These patches provide common representation of dependencies
> between stacked devices (dm and md) in sysfs.
> For example, if dm-0 maps to sda, we have the following symlinks;
>    /sys/block/dm-0/slaves/sda --> /sys/block/sda
>    /sys/block/sda/holders/dm-0 --> /sys/block/dm-0
I happy with the idea of having these links.
I agree that it would be nice to have this very strongly based on the
bd_claim infrastructure.
It would be really nice if bd_claim took a "kobject *" rather than a 
"void *" and put a link in there.  This would be easy for dm and md,
but awkward for other claimers like filesystems and open file
descriptors as they don't currently have kobjects.
Possibly an extra flag that says if the 'holder' is a kobject or not,
and if it is, appropriate symlinks are created...??
NeilBrown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/