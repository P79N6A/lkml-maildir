Date: Wed, 19 Apr 2006 08:44:21 +1000
From: Nigel Cunningham <>
Subject: [PATCH] Kernel doesn't compile with CONFIG_HOTPLUG && !CONFIG_NET
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/18/262

Hi.
2.6.17-rc1 doesn't compile if networking support is disabled but hotplug is
enabled. This patch addresses that issue.
Please consider applying.
Signed-off-by: Nigel Cunningham <nigel@suspend2.net>
 sysctl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
diff -ruNp 9904.patch-old/kernel/sysctl.c 9904.patch-new/kernel/sysctl.c
--- 9904.patch-old/kernel/sysctl.c	2006-04-19 08:40:47.000000000 +1000
+++ 9904.patch-new/kernel/sysctl.c	2006-04-17 21:06:23.000000000 +1000
@@ -401,7 +401,7 @@ static ctl_table kern_table[] = {
 		.strategy	= &sysctl_string,
 	},
 #endif
-#ifdef CONFIG_HOTPLUG
+#if defined(CONFIG_HOTPLUG) && defined(CONFIG_NET)
 	{
 		.ctl_name	= KERN_HOTPLUG,
 		.procname	= "hotplug",[unhandled content-type:application/pgp-signature]