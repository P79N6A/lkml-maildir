Date: Sat, 13 Nov 1999 20:10:27 -0500
From: Joe <>
Subject: 2.2.13 error fix #2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/13/108

Here is another warning that I got agains 2.2.13
** I am not 100% sure if I put the braces in the right place, but it
seems like the 'logical' right place.   Could someone please verify this
is correct and then please please let me know -> ie email me as I am not
on this list.
error
------------------------------
dquot.c: In function `reset_inode_dquot_ptrs':
dquot.c:720: warning: suggest explicit braces to avoid ambiguous `else'
--------------
patch
------------------
--- /root/dquot.c Sat Nov 13 19:37:49 1999
+++ /usr/src/linux-2.2.memptch/fs/dquot.c Sat Nov 13 19:58:19 1999
@@ -717,7 +717,7 @@
  }
  inode->i_flags &= ~S_QUOTA;
 put_it:
- if (dquot != NODQUOT)
+ if (dquot != NODQUOT) {
   if (dqput_blocks(dquot)) {
    spin_unlock(&inode_lock); /* We may block so drop the lock... *
    dqput(dquot);
@@ -725,9 +725,12 @@
    /* we may have blocked ... */
    return 1;
   }
-  else
+  else {
    dqput(dquot); /* dqput() won't block so we can hold locks... */
+                }
+        }
  return 0;
 }
 static void reset_dquot_ptrs(kdev_t dev, short type)
--
Joe  Acosta
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/