Date: Sun, 14 Oct 2007 23:41:49 -0700
From: Andrew Morton <>
Subject: Re: apm system does not power off anymore
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/15/34

On Mon, 15 Oct 2007 16:37:20 +1000 Stephen Rothwell <sfr@canb.auug.org.au> wrote:
> On Sun, 14 Oct 2007 23:23:16 -0700 Andrew Morton <akpm@linux-foundation.org> wrote:
> >
> > Also, it's bad that the operator has to provide some special boot command-line
> > option to make the machine work properly.  Please consider this to be a
> > bug.  Has it always needed apm=power-off?
> 
> It has always been that way because the behaviour of APM on SMP is not
> defined.  We discovered early that it will work (at least for powering
> off) for most SMP machines as long as the APM calls are done on CPU 0.
> However on an SMP machine that does not cope, very bad things happen -
> thus the operator has to explictly enable the power off behaviour on an
> SMP box.  (On UP power off is enabled by default.)
hrm, OK.
But it could have been controlled by a more-user-friendly runtime knob, I
guess.  Not that it's worth changing that now.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/