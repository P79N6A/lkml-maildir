Date: 15 Sep 2000 17:39:35 -0000
From: "D. J. Bernstein" <>
Subject: Re: No Bug: accept discards socket options/O_NONBLOCK
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/15/56

I'm going to work around this Linux bug in the next release of djbdns,
just as I've worked around many other Linux bugs in the past. But the
bug is going to continue to bite people.
Matthias Andree writes:
> Now, interpreting properties as "socket properties", and O_NONBLOCK
> being a file descriptor property,
O_NONBLOCK is not an fd property. It is an ofile property. Two different
fds created by dup() will point to the same O_NONBLOCK bit.
The absence of a non-blocking fd property causes reliability problems,
as discussed in 
http://cr.yp.to/docs/unixapi.html.
 I'd really like to
have ndelay_read() and ndelay_write() syscalls.
---Dan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/