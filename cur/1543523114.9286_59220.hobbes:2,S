Date: Sat, 22 Jan 2000 20:32:13 +0300 (MSK)
From:  kuznet@ms2 ...
Subject: Re: EINVAL when reading files in /proc/sys
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/23/29

Hello!
> zeus 62 % ls -l /proc/sys/net/ipv4/route/flush 
> -rw-r--r--   1 root     root            0 Jan 20 16:42
Seems, it is one of those magic bugs, which are fixed, but return back. 8)
I remember Andi repaired this once!
> This is really the only thing that severely breaks walking /proc/sys
> with a simple shell script.
One warning. If you plan to write the information read from sys/net
back to sys/net, be ready to surprises. 
Particularly, setting "forward" (and "flush", and, probably, a few
of another entries) has side effects and saving them is undefined.
Moreover, essentially, the script, which scans all sys/ and would-be "saves"
its content is non-sense. It should touch only variables, which are safe
to touch and, hence, should not touch variables with sense not clear
to script's author (or even undocumented variables, which will be _always_
present and are supposed to be touched only by expert's request/advice
in well understood curcumstances.)
It is the reason why I am not bothered too much by attributes on "flush".
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/