Date: Wed, 22 Mar 2000 13:01:43 -0600 (CST)
From: Mark Orr <>
Subject: [2.3.99-pre3 #6] SCSI oddities
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/22/196

Just compiled 2.3.99pre3-pre6...(was using 2.3.99pre3-pre3):
Noticed some SCSI oddities:
Using a SB16SCSI-2 card (AHA152x) -- all SCSI drivers are
compiled as modules (scsi_mod, aha152x, sr_mod).  1 device on
the bus -- a NEC 3Xi internal (NEC 500).
The drive works, I can mount cdroms, and use a audio cdrom
player,  but apparently the aha152x driver gets stuck:
root@darkstar:/proc/scsi# lsmod
Module                  Size  Used by
aha152x                    0   0  (deleted)
scsi_mod               93432   2  (autoclean) [sr_mod aha152x]
Mounting/unmounting doesnt seem to trigger this, but playing
an audio cdrom does.  Once it's like this, it wont rmmod.
However, I can still use the drive perfectly (for both mounting
data disks and playing audio).
I also got one, non-repeateable (so far), system-crashing
kernel panic trying to mount a cdrom.
I usually try to stress test these kernels by repeatedly loading
and unloading modules...it happened after I did that. Just happened
once.
"this didnt happen w/ 2.3.99pre3-pre3!" :)
Oddly, it doesnt look like anyone's messed with the aha152x driver
between these versions.
Not complainin', just reportin'
--
Mark Orr
markorr@intersurf.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/