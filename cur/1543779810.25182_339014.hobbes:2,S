Date: Thu, 4 Aug 2005 08:54:47 +0200
From: Jan-Benedict Glaw <>
Subject: Re: [2.6 patch] remove support for gcc < 3.2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/4/32

On Thu, 2005-08-04 11:34:27 +1000, Dave Airlie <airlied@gmail.com> wrote:
> On 8/1/05, Adrian Bunk <bunk@stusta.de> wrote:
> > This patch removes support for gcc < 3.2 .
> > 
> > The advantages are:
> > - reducing the number of supported gcc versions from 8 to 4 [1]
> >   allows the removal of several #ifdef's and workarounds
> > - my impression is that the older compilers are only rarely
> >   used, so miscompilations of a driver with an old gcc might
> >   not be detected for a longer amount of time
> > 
> >
> 
> Another disadvantage is you'll really piss of the VAX developers (all
> 3 of us!!!, well me not so much anymore...)
> 
> I think there is a gcc 4.x compiler nearly capable of building a
> kernel for the VAX...
-sh-3.00# cat cpuinfo
cpu             : VAX
cpu type        : KA43
cpu sid         : 0x0b000006
cpu sidex       : 0x04010002
page size       : 4096
BogoMIPS        : 10.08
-sh-3.00# cat version
Linux version 2.6.12 (jbglaw@d2) (gcc version 4.1.0 20050803 (experimental)) #2 Wed Aug 3 23:42:11 CEST 2005
Current GCC from CVS (plus minor configury patches) seems to work. We
had -fno-unit-at-a-time missing in our arch Makefile which hides a bug
in kernel's sources.
I guess that if you remove -fno-unit-at-a-time from i386 and use a
current GCC, you'll run into that fun, too.
MfG, JBG
PS: Yes, we lie about page size.
-- 
Jan-Benedict Glaw       jbglaw@lug-owl.de    . +49-172-7608481             _ O _
"Eine Freie Meinung in  einem Freien Kopf    | Gegen Zensur | Gegen Krieg  _ _ O
 fuer einen Freien Staat voll Freier BÃ¼rger" | im Internet! |   im Irak!   O O O
ret = do_actions((curr | FREE_SPEECH) & ~(NEW_COPYRIGHT_LAW | DRM | TCPA));
[unhandled content-type:application/pgp-signature]