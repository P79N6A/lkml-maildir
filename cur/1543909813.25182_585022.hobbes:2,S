Date: Wed, 15 Aug 2007 16:36:33 -0700
From: "Nelson, Shannon" <>
Subject: RE: [-mm patch] DMA engine kconfig improvements
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/15/387

>From: Adrian Bunk [mailto:bunk@stusta.de] 
>Sent: Wednesday, July 25, 2007 10:26 PM
>To: Andrew Morton; Nelson, Shannon
>Cc: linux-kernel@vger.kernel.org
>Subject: [-mm patch] DMA engine kconfig improvements
>
>On Wed, Jul 25, 2007 at 04:03:04AM -0700, Andrew Morton wrote:
>>...
>> Changes since 2.6.22-rc6-mm1:
>>...
>> +dma-arch-fix.patch
>> 
>>  Fix git-dma.patch
>>...
>
>This results in an ARM-only driver in an X86-only menu...
>
>What about the patch below instead that also improves a few 
>other things?
>
>
><--  snip  -->
>
>
>This patch contains the following changes to the DMA engine menus:
>- switch to menuconfig
>- INTEL_IOATDMA must depend on X86
>- INTEL_IOATDMA must select DCA
>- device drivers shouldn't "default m"
>- DCA shouldn't be a user visible option
>- make it clear in the INTEL_IOATDMA help text that this driver is for
>  rare hardware the user most likely doesn't has
>- let DMA_ENGINE be select'ed by the DMA devices, making it less likely
>  for a user to accidentally enable NET_DMA
>
>Signed-off-by: Adrian Bunk <bunk@stusta.de>
>
Thanks, Adrian.  With a couple minor notes changes, I'm using this
patch.  What's nice is this also takes care of the DCA configuration
issue as well such that I don't need to add #ifdef's to the code.  Doing
this changes an argument I gave to Satyam, but the effect is small
enough that it shouldn't matter.
Once I get my git tree cleaned up again (I'll learn this part yet...)
I'll have it out, probably tomorrow.
sln
======================================================================
Mr. Shannon Nelson                 LAN Access Division, Intel Corp.
Shannon.Nelson@intel.com                I don't speak for Intel
(503) 712-7659                    Parents can't afford to be squeamish.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/