Date: 21 Apr 2001 10:42:57 -0700
From: (Linus Torvalds)
Subject: Re: try_to_swap_out() deactivating pages w. count > 2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/4/21/69

In article <Pine.LNX.4.21.0104211336390.1685-100000@imladris.rielhome.conectiva>,
Rik van Riel  <riel@conectiva.com.br> wrote:
>
>What I _am_ worried about is the fact that we do this to pages with
>a really high page age. These things are in active use and cannot
>be swapped out any time soon, yet we do claim swap space for it ...
Ehh... And if we didn't do that, then how could they every become less
active?
We should _absolutely_ do the swap space reclaiming without looking at
the page count. If we don't, you will never free those pages, and I have
a trivial exploit for you that will basically mlock all pages in memory.
try_to_swap_out() _absolutely_ does the right thing.  Also note how it
will need to allocate the swap space backing store only once. 
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/