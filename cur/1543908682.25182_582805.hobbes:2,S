Date: Sun, 12 Aug 2007 15:39:48 -0400
From: Mark Cannon <>
Subject: Re: Use of directories to hold root?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/12/235

On Saturday 11 August 2007, Jan Engelhardt wrote:
> 
> On Aug 10 2007 17:08, H. Peter Anvin wrote:
> >Jan Engelhardt wrote:
> >> On Aug 10 2007 17:24, Mark Cannon wrote:
> >>> You pass the kernel the root option to specify the root partition.
> >>> Is there a way to identify a directory in that partition that holds the
> >>> root or something equivalent to this?
> >> 
> >> No, but you can use pivot_root.
> >
> >Or better yet, use an initramfs with MS_MOVE; same as you would with the
> >"normal" use of initramfs.
> 
> mount --move /foo /
> => error
> 
> What did I miss?
> 
> 
> 
> 	Jan
Thank you for the prompt replies. I have looked int pivot_root and
with my limited knowledge it looks like I could do this in the linuxrc 
during start up. I believe the new kernel 2.6.21 is independent of the
root tree, so right after it mounts the old root /dev/sda3, it then can
pivot-root to /ker2621. 
This can quickly be tested in the lab. I already use chroot for tests. Was
unaware of pivot_root.
I am not sure I understand initramfs with MS_MOVE concept. I will look into
it. Any pointers for documentation? 
Again, thank you for the help.
Mark Cannon
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/