Date: Tue, 29 Dec 1998 12:31:29 +0100 (CET)
From: MOLNAR Ingo <>
Subject: Re: 2.2.0-pre1 worse than 2.1.132
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/29/65

On Tue, 29 Dec 1998, George wrote:
> (gcc version egcs-2.91.60 19981201 (egcs-1.1.1 release)) #826 SMP Tue Dec 29 00:50:34 EST 1998
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
(it should work with egcs, but i'd suggest you try 2.7.2.3 too. The fact
that earlier kernels worked with your compiler means nothing, the SMP and
scheduling changes in pre5-2.1.133 (and pre-2.2) introduced some quite
optimized piece of APIC code)
i'll double check those changes now.
> Intel Pentium with F0 0F bug - workaround enabled.
> stuck on TLB IPI wait (CPU#0)
> per-CPU timeslice cutoff: 3702.36 usecs.
[what cachesize does /proc/cpuinfo report?]
> APIC delivery error (4).
> CPU #1 not responding. Removing from cpu_present_map.
> Error: only one processor found.
hm, have you enabled 'CONFIG_M686' by any chance (thats the default too)? 
With those changes it's not safe to run a CONFIG_M686 kernel on
dual-Pentium boxes. (i'll post a patch today that makes this distinction
more visible and harder to get wrong)
-- mingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/