Date: Tue, 22 Dec 1998 09:55:02 -0600
From: Fuzzy Fox <>
Subject: Re: TCPv4 bad checksums
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/22/94

Mike Jagdis <mike@roan.co.uk> wrote:
>
> If it helps anyone I have seen TCPv4 checksum errors on a
> relatively simple network connected by ippp (ISDN):
> 
>   SCO 3.2v5 -- 100BaseTx -- Linux 2.0
>                                |
>                               ippp
>                                |
>                             Linux 2.0 -- 100BaseTx -- Linux 2.1.131
I myself have just recently seen a burst of TCPv4 checksum errors on a
similarly-simple network:
    <ISP>  --- ISDN/PPP ---- Linux 2.1
                                |
                              100bTX	<-- errors here
                                |
                             Linux 2.1
In this case, the errors were between the two Linux 2.1 boxes.  The box
with two interfaces is an IP Masq router, obviously doing IP reassambly
and at the time, I believe I was using transparent proxying to reach the
Internet.  This means that the TCP packets were being generated by one
Linux 2.1 box, and being sent over 100bTX to the other.  The fact that
the packets came in over ISDN, and didn't generate checksum errors when
they originally came in before being demasq'd/transproxied, should
indicate that Linux itself generated the wrong checksums.  Either that
or my hardware is just broken, I guess..??  Sure seems to work.
-- 
   fox@dallas.net (Fuzzy Fox)      || "Nothing takes the taste out of peanut
sometimes known as David DeSimone  ||  butter quite like unrequited love."
  
http://www.dallas.net/~fox/
      ||                       -- Charlie Brown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/