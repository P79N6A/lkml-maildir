Date: Wed, 22 Mar 2006 22:13:43 +0100
From: Andi Kleen <>
Subject: Re: [RFC, PATCH 1/24] i386 Vmi documentation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/22/386

On Wednesday 22 March 2006 22:34, Chris Wright wrote:
> * Andi Kleen (ak@suse.de) wrote:
> > On Monday 13 March 2006 18:59, Zachary Amsden wrote:
> > 
> > > +     The general mechanism for providing customized features and
> > > +     capabilities is to provide notification of these feature through
> > > +     the CPUID call, 
> > 
> > How should that work since CPUID cannot be intercepted by 
> > a Hypervisor (without VMX/SVM)?  
> 
> Yeah, it requires guest kernel cooperation/modification.
Even then it's useless for many flags because any user program can (and will) 
call CPUID directly. 
> > > +   The net result of these choices is that most of the calls are very
> > > +   easy to make from C-code, and calls that are likely to be required in
> > > +   low level trap handling code are easy to call from assembler.   Most
> > > +   of these calls are also very easily implemented by the hypervisor
> > > +   vendor in C code, and only the performance critical calls from
> > > +   assembler paths require custom assembly implementations.
> > > +
> > > +   CORE INTERFACE CALLS
> > 
> > Did I miss it or do you never describe how to find these entry points? 
> 
> It's the ROM interface.  For native they are emitted directly inline.
> For non-native, they are emitted as call stubs, which call to the ROM.
> I don't recall if it's in this doc, but the inline patch has all the
> gory details.
Sure the point was if they write this long fancy document why stop
at documenting the last 5%?
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/