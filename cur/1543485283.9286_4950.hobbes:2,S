Date: Wed, 10 Feb 1999 22:19:48 +0100
From: Thierry Danis <>
Subject: knfsd-981204 not handling SUID BIT
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/10/81

Hello,
I think I have missed something, but knfsd (981204) is not working properly
with the bit 's' for the group on a directory (creation of a subdirectory
within a g+s directory does not propagate the g+s bit). The files or
directories created within a g+s directory inherit the group of the
directory.
$ cd /mnt/tmp/exemple
$ ls -ld
drwxrwsr-x   2 danis    canac        1024 Feb 10 22:14 .
$ mkdir ZZ
$ >zz
$ ls -l
drwxrwxr-x   2 danis    canac        1024 Feb 10 22:15 ZZ
-rw-rw-r--   1 danis    canac           0 Feb 10 22:15 zz
$ 
Here, ZZ is missing its g+s bit.
It is working the user-land version of the NFS serveur (at least
with version 2.2beta37.
I remember having had the same bug with nfs-server-2.?? two years ago,
and Olaf sent me a fix two hours later, a sunday afternoon !
Thanks in advance,
-- 
	Thierry Danis
	home : danis@mail.dotcom.fr
	work : danis@sagem.fr
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/