Date: Wed, 12 Jan 2005 20:56:27 +0100
From: Miklos Szeredi <>
Subject: Re: [fuse-devel] Merging?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/12/193

> I was using siefs, to mount the fs of my Siemens mobile phone
> (via serial cable). However it doesn't seem to work with the
> current fuse anymore.
The following patch makes it compile with FUSE 2.2-pre3 too.  You need
to run autoreconf after patching.
Not tested, since I don't have a Siemens phone.
Miklos
diff -ru siefs-0.4.orig/configure.in siefs-0.4/configure.in
--- siefs-0.4.orig/configure.in	2004-08-13 08:39:07.000000000 +0200
+++ siefs-0.4/configure.in	2005-01-12 20:40:20.000000000 +0100
@@ -39,14 +39,6 @@
 ])
 fi
 
-if ! grep -q '\(\*release\)' $fuseinst/include/fuse.h ; then
-	AC_MSG_RESULT([old])
-	AC_MSG_ERROR([
-*** You need fuse version 1.0 or later.
-*** Please go to 
http://sourceforge.net/projects/avf
-*** and download the latest version
-])
-fi
 AC_MSG_RESULT(${fuseinst})
 AC_SUBST(fuseinst)
 
diff -ru siefs-0.4.orig/siefs/Makefile.am siefs-0.4/siefs/Makefile.am
--- siefs-0.4.orig/siefs/Makefile.am	2004-08-13 08:45:30.000000000 +0200
+++ siefs-0.4/siefs/Makefile.am	2005-01-12 20:49:27.000000000 +0100
@@ -1,6 +1,6 @@
 ## Process this file with automake to produce Makefile.in
 
-CFLAGS = -I$(fuseinst)/include
+CFLAGS = -I$(fuseinst)/include -D_FILE_OFFSET_BITS=64 -DFUSE_USE_VERSION=11
 
 bin_PROGRAMS = siefs slink
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/