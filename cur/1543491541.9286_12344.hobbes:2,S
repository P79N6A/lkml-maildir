Date: 31 Mar 1999 14:20:52 +0200
From: Mats Lofkvist <>
Subject: Re: softupdates and ext2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/31/63

Trevor Johnson <trevor@jpj.net> writes:
> > I made some benchs and it seems rather fast (about 5 to 10% slower than
> > the async mount, which is what Linux does).
> 
> It does that by default, but (for ext2 at least) you can mount with the
> "sync" option to have at least the metadata written synchronously.  It is
> much slower than the asynchronous way, but I would do it if the unclean
> shutdowns couldn't be prevented.
The reason the "sync" option is so slow is because it makes _all_ writes
synchronous. The default of sync metadata / async userdata used by most
Unixen is not noticeably slower than async except for large metadata
operations like removing large directory trees.
E.g. when testing with bonnie on a system using sync/async as default,
there is no visible difference from using "async". But when using "sync"
on a Linux system, the write performance dropped to ~80kbyte/s (on a
disk that writes ~8Mbytes/s using "async").
      _
Mats Lofkvist
mal@algonet.se
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/