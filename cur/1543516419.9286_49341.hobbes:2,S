Date: Thu, 18 Nov 1999 03:44:40 +0100
From: Matthew Wilcox <>
Subject: Re: your mail
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/17/161

On Thu, Nov 18, 1999 at 02:20:35AM +0200, Reine Gill wrote:
> 
> Im trying to upgrade a driver from kernel 2.0 to 2.2, i have done so before 
> without problems, after changing all that i usually change i get this:
> 
> gcc -Wall -O2 -DMODULE -D_KERNEL__ -DLINUX -c tmnp_head_3.2.c -o tm.o
your compile line there is wrong.  -D__KERNEL__ is used by the kernel
Makefile.  You're also missing a -I/path/to/linux/include/linux/.
The kernel makefiles also turn on other -f options, depending on architecture
and C compiler, though these won't be relevant to the trouble you're seeing.
-- 
Matthew Wilcox <willy@bofh.ai>
"Windows and MacOS are products, contrived by engineers in the service of
specific companies. Unix, by contrast, is not so much a product as it is a
painstakingly compiled oral history of the hacker subculture." - N Stephenson
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/