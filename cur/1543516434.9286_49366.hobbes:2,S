Date: Thu, 18 Nov 1999 20:33:13 +1100
From: Bradley Baetz <>
Subject: Lockup in 2.2.14pre4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/18/18

2.2.14pre4 died on me this evening.
My sister was sending mail using hotmail, and as she was finishing the
hard drive started swapping madly. The system became basically
unresponsive. I changed to a VC (which took about five minutes to
respond), and SysRq-P (used repeatadly) showed that the kernel was
looping on the same EIP value most of the time (>90%):
EIP: 0010:[<C010851d7>] EFLAGS: 00000246
Syslogd translated that as cpu_idle+89/104, which matches the System.map
values. I'm running rc5des/dnetc, if that makes a difference.
The other EIP values varied - the most common one was 0023:[<08090306>].
This is userspace, right? It didn't match up to any of the SysRq=T
values (assuming they were meant to match up)
I couldn't log in because the login timed out either before or just
after the password prompted timed out. (How do I increase this from the
default 60 seconds?)
I got control back by changing back to X and using SysRq-K, which took
just under five minutes to respond (I timed it). The X display never
came up until after the sysrq-K. The system is now fine.
This also happened in at least 2.2.13, almost always while my sister is
sending mail using hotmail, and always when using Netscape (AFAIR)
This is the first time I've been home to notice it since I realised that
RedHat 6.1 disables SysRq by default. (I wondered why I could never get
SysRq to do anything...) Before that though, I've left it up to 45
minutes without the system coming back to normal - I had to use the
reset button.
I think its related to an OOM condition - I need to get more RAM for
this machine. SysRq-M showed 0 NonDMA pages free, and 424kb of DMA
memory free (32 Megs RAM, 52 Megs swap). There are non OOM messages in
the logs though, but the hard drive was contantly doing something.
I'm compiling 2.2.14pre6 now to check if that fixed it. The problem is
90% reproducable except when I'm here to watch it...
More info (All the SysRq-M, -T, and -P from the logs, and .config)
available on request.
Thanks,
Bradley
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/