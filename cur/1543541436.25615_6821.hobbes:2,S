Date: Fri, 11 Aug 2000 17:16:18 -0400
From: Matthew Wilcox <>
Subject: wake_one_more
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/11/145

[attn: arch maintainers]
i was just going through the parisc semaphore implementation, and i turned
to all the other architectures for inspiration.
willy@femmeviolet:~/kernels/linux-test6/arch$ find . -type f |xargs grep wake_one_more
./alpha/kernel/semaphore.c:     wake_one_more(sem);
./sparc/kernel/semaphore.c:     wake_one_more(sem);
./mips/kernel/semaphore.c:      wake_one_more(sem);
./ppc/kernel/semaphore.c:       wake_one_more(sem);
./m68k/kernel/semaphore.c:      wake_one_more(sem);
./sparc64/kernel/semaphore.c:   wake_one_more(sem);
./sh/kernel/semaphore.c:        wake_one_more(sem);
./mips64/kernel/semaphore.c:    wake_one_more(sem);
i believe all these are redundant now that the wake_up() call has wake_one
semantics.  does anyone else agree?
(evidence: it's missing from i386, the wake_one semantics are present in
arch-independent code).
-- 
Revolutions do not require corporate support.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/