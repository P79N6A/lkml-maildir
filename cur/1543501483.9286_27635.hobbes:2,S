Date: Fri, 02 Jul 1999 11:08:27 -0700
From: Stephen Williams <>
Subject: Re: Standard for module delivery
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/2/122

	MYDIR=`pwd`
	cd /usr/src/linux
	make SUBDIRS=$MYDIR modules
David.Woodhouse@mvhi.com said:
> This also allows you to include the current config options. 
Now that's pretty slick. However, should it really be necessary for the
kernel source to be installed? I have compiled my module with only the
kernel headers installed, and think that should be just fine. It should
work.
>    2) Where do I install the module? The "make modules_install" of the
>       kernel source uses one convention, the redhat kernels use another,
>       I'm afraid to ask what the other distributions do. Can't we just
>       pick a place and use that?
David.Woodhouse@mvhi.com said:
> Certainly, you should be able to standardise on /lib/modules/`uname
> -r`/  because that's what the user-space modutils use.
One would think, but in reality they has the modules in something like
/lib/modules/2.0.36-N and linked /lib/modules/current to that directory.
So, /lib/modules/`uname -r` tried to use /lib/modules/2.0.36, which
doesn't exist.
Maybe the right answer is /lib/modules/current and be done with it?
-- 
Steve Williams                "The woods are lovely, dark and deep.
steve@icarus.com              But I have promises to keep,
steve@picturel.com            and lines to code before I sleep,
http://www.picturel.com
       And lines to code before I sleep."
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/