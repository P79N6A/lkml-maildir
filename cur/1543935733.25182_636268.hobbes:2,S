Date: Wed, 9 Jan 2008 14:20:14 +0100
From: Ingo Molnar <>
Subject: Re: Analysis of sched_mc_power_savings
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/9/143

* Vaidyanathan Srinivasan <svaidy@linux.vnet.ibm.com> wrote:
> I will watch this during the experiments.  I have been using klog 
> application to dump relayfs data.  I did run powertop and top as well, 
> I will bind them to certain CPUs and isolate their impact.
> 
> I believe the margin of error would be less since all the measurement 
> tasks sleep for long duration.
ok, long duration ought to be enough.
i think a possible explanation of your observtions would be this: sleepy 
workloads are affected more by the wakeup logic, and most of the 
power-savings works via runtime balancing.
So perhaps try to add some SD_POWERSAVINGS_BALANCE logic to 
try_to_wake_up()? I think waking up on the same CPU where it went to 
sleep is the most power-efficient approach in general. (or always waking 
up where the wakee runs - this should be measured.) Right now 
try_to_wake_up() tries to spread out load opportunistically, which is 
throughput-maximizing but it's arguably not very power conscious.
	Ingo