Date: Tue, 19 Oct 1999 20:58:19 +0200 (MET DST)
From: Gerard Roudier <>
Subject: Re: HP NetServer LHr3/aic7xxx Help??
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/19/122

On Tue, 19 Oct 1999, Doug Ledford wrote:
> On Mon, 18 Oct 1999, Gerard Roudier wrote:
> 
> > The devices that appeared to be detected twice seem to be the ones that
> > reside on secondary PCI BUSes. At the time we have had to look into this
> 
> Peer PCI busses to be more accurate.  The problem is that the PCI probe
> code will probe the peer busses that are behind a 451NX chipset without
> needing a bridge device to guide them there (which is correct) but in
> order to make legacy PCI probe code from other OSes work on the system, HP
> put some "fake" bridge devices on pci bus 0 that *also* point to the same
> busses as the peer bus configuration registers on the 451NX chipset.  Net
> result, we probe the bus twice.  There is a patch that fixes this in the
> 2.2.12 kernel we shipped, and I also gave that patch to Martin and it has
> been forward ported to his 2.3 stuff.  It handles more than just the 451NX
> chipset, it also does the two RCC chipsets that have peer busses and it
> handles the Compaq hot plug PCI chipset in use on most 8way x86 boxes
> today.
Thanks a lot, Doug, for your accurate explanation.
No more comments, given that your employer is throwing away any posting
from me for this discussion.
GÃ©rard.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/