Date: Wed, 08 Nov 2006 12:43:04 -0800
From: Jeremy Fitzhardinge <>
Subject: Re: [PATCH] i386: make BUG() expansion look like instruction
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/8/308

Hugh Dickins wrote:
> On Wed, 8 Nov 2006, Jan Beulich wrote:
> 
>> This gets i386's handle_BUG() in sync with x86-64's, namely introducing
>> a 'struct bug_frame' and arranging for the code generated by the BUG()
>> macro to represent an instruction, so that disassembling code
>> containing such constructs doesn't produce garbage anymore. The
>> resulting increase of code size is marginal (1 byte per instance).
>> 
>
> I thought we were heading towards merging Jeremy's generic-bug-*
> (with file and line in another section), in -mm for a while now?
> 
That's certainly my impression.  Andrew already NAKed my original patch 
which did something similar to Jan's, in favour of making the powerpc 
BUG handling code generic.  I'm hoping the generic bug can be put in 
mainline fairly soon, and then encourage other arch maintainers to use it.
I think there's still some question in the air over powerpc's use of the 
generic bug stuff, but as far as I know Andrew is the only person to 
have a problem with it.
    J
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/