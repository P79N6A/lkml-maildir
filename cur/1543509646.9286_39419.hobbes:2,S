Date: Thu, 16 Sep 1999 22:54:45 -0700
From: Dan Kegel <>
Subject: re: > 15K simultaneous connections EXAMPLE program/OS config needed,  was: Re: POSIX aio vs 	completion ports
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/17/2

"Stephen D. Williams" <sdw@lig.net> asked:
> Stephen, or anyone else, are you aware of a test program that illustrates the
> use of existing (2.2.12+) mechanisms to efficiently handle many sockets?
There are a couple programs like that listed at
http://www.kegel.com/c10k.html
> Is there a limit to the number of connections per IP address, assuming many
> different client IP's?  (In other words, is there any problem with running out
> of local sockets?  There shouldn't be really since a client program that
> doesn't specify a certain local socket doesn't care if it has that same socket
> number used with N different remote IP's.)
> 
> I really want to handle 100,000 TCP connections simultaneously per system,
> eventually.
Guess I should rename my page c100k.html :-)
Alan recently said that each handle takes up 20k in kernel space.
so 100,000 connections could take up 100k*20k = 2GB of RAM,
which might cause some trouble except on very recent kernels
(and maybe you still need a patch for this).
I'd be interested in hearing whether anyone has gone past
64k handles opened; who knows, maybe some bad code somewhere is
using a short to hold an fd.
- Dan
-- 
(The above is my opinion alone, and not that of my employer)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/