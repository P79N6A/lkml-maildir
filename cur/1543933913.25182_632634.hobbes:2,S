Date: Sun, 30 Dec 2007 14:03:39 +0100
From: Ingo Molnar <>
Subject: Re: [PATCH] x86: provide a DMI based port 0x80 I/O delay override
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/30/82

* Linus Torvalds <torvalds@linux-foundation.org> wrote:
> > This fixes "hwclock" triggered boottime hangs for a few HP/Compaq 
> > laptops and might as such be applicable to 2.6.24 still.
> 
> It's not a regression as far as I can see (ie we've always done that 
> port 80 access for slow-down), and quite frankly, I think the code is 
> horribly ugly.
> 
> Using a DMI quirk for something like this is just not maintainable. 
> Are we going to live with doing new quirks forever? I'd rather just 
> remove the slowdown entirely (obviously that is not for 2.6.24 either, 
> though!), and drivers that then are shown to really need it could use 
> their *own* ports.
yep, that's exactly the plan: in x86.git we've got it all set up so that 
we can switch over to ioport=nodelay by default in v2.6.25, and then get 
rid of all the iodelay infrastructure in 2.6.26 altogether if things 
work out fine (which is the expectation from all test feedback so far).
	Ingo