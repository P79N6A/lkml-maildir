Date: Tue, 17 Apr 2001 09:29:42 +1200
From: Chris Wedgwood <>
Subject: Re: No 100 HZ timer!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/4/16/117

On Mon, Apr 16, 2001 at 04:45:39PM -0400, Albert D. Cahalan wrote:
    > CLOCK_10MS a wall clock supporting timers with 10 ms resolution (same as
    > linux today). 
    
    Except on the Alpha, and on some ARM systems, etc.
    The HZ constant varies from 10 to 1200.
Or some people use higher values on x86:
cw@charon(cw)$ uptime
 14:13:02 up 11 days, 21:44,  2 users,  load average: 0.00, 0.00, 0.00
cw@charon(cw)$ cat /proc/interrupts
           CPU0
  0: 2106736381          XT-PIC  timer
  1:     187633          XT-PIC  keyboard
  2:          0          XT-PIC  cascade
  7:   94128650          XT-PIC  eth0, usb-uhci, usb-uhci
 10:   18265929          XT-PIC  ide2
 12:    3107415          XT-PIC  PS/2 Mouse
 14:     753375          XT-PIC  via82cxxx
 15:          2          XT-PIC  ide1
NMI:          0
ERR:          0
thats 2048 ticks/sec -- I had to hack the kernel in a couple of
places to make things happy with that, but so far it seems to work.
I also had to hack libproc.so.* -- what a terribly obscure way that
it uses to determine what HZ is defined as!
I know this has ben beaten to death before but can someone tell me:
   - why we cannot export HZ somewhere
   - why is it called HZ, it seems misleading why not something like
     TICKS_PER_SECOND or similar
   - it seems there are a couple of places that assume HZ==100 still,
     or am I just imagining this (ide code, I forget where now)
  --cw
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/