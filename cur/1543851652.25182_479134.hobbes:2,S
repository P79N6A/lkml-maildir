Date: Fri, 03 Nov 2006 16:00:58 +0000
From: Alan Cox <>
Subject: Re: irqpoll kernel option hurts performance?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/3/95

Ar Gwe, 2006-11-03 am 07:10 -0800, ysgrifennodd xp newbie:
> Thank you, Alan. Indeed, it is a desktop machine so I
> guess I should not be too concerned. I should note
> hoever that while downloading an ISO image from the
> Internet and doing nothing else (not even moving the
> mouse), the System Monitor showed CPU usage of 15%.
> The same machine booting to Windows 2000, shows in
> such circumstances 0% CPU use (something lesser than
> 1% to be more exact).
The two systems don't measure performance the same way. That makes
comparisons using their own monitoring tools a bit dubious and can make
either OS look better in cases where it isn't
> But that board, again, was running Windows 2000
> without any performance sacrifices... How does Windows
> achieve that trick?
I wish I knew. One possibility - especially as this appears to be the
USB 2.0 is that it provides different rules for different OS's (thats
intended to be a feature so it can hide EHCI from old windows etc)
You might want to see if booting with the kernel option	"acpi_noirq" has
any effect for the better, you can also spoof different versions of
windows for ACPI using
	acpi_os_name="Microsoft Windows"
(Not sure how you spoof XP etc offhand but it should be documented
somewhere)
Various things are going on to improve the poor state of PC BIOSes
including a firmware test kit from Intel.
> I know that there is an issue with Promise
> controllers, as Promise releases only binaries of its
> drivers for Linux, not the source code. :(
Actually promise are generally providing both docs and their own binary
driver. 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/