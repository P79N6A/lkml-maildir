Date: Sun, 5 Oct 2003 19:51:58 +0000 (UTC)
From:  haiquy@yahoo ...
Subject: 2.6.0-test6 Problem with ppp and alsa
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/5/10

Hi
After surfing the internet for a while and using gphone to talk to my
brother, the kernel OOP and here is the dmesg.log
OOP because alsa ? my card use i810 driver
More information on request.
Regards,
Steve Kieu
Homepage 
http://scorpius.spaceports.com/~skieu/
PGP Key 
http://scorpius.spaceports.com/~skieu/steve-pub.key
 on CPU#0.
CPU: Intel Celeron (Coppermine) stepping 03
Enabling fast FPU save and restore... done.
Enabling unmasked SIMD FPU exception support... done.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
enabled ExtINT on CPU#0
ESR value before enabling vector: 00000000
ESR value after enabling vector: 00000000
Using local APIC timer interrupts.
calibrating APIC timer ...
..... CPU clock speed is 668.0087 MHz.
..... host bus clock speed is 66.0808 MHz.
NET: Registered protocol family 16
PCI: PCI BIOS revision 2.10 entry at 0xfb120, last bus=1
PCI: Using configuration type 1
mtrr: v2.0 (20020519)
SCSI subsystem initialized
PCI: Probing PCI hardware
PCI: Probing PCI hardware (bus 00)
Transparent bridge - 0000:00:1e.0
PCI: Using IRQ router PIIX [8086/2440] at 0000:00:1f.0
apm: BIOS version 1.2 Flags 0x07 (Driver version 1.16ac)
devfs: v1.22 (20021013) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
Initializing Cryptographic API
pty: 256 Unix98 ptys configured
Linux agpgart interface v0.100 (c) Dave Jones
agpgart: Detected an Intel i815 Chipset.
agpgart: Maximum main memory to use for agp memory: 148M
agpgart: AGP aperture is 64M @ 0xd0000000
[drm] Initialized i810 1.4.0 20030605 on minor 0
Serial: 8250/16550 driver $Revision: 1.90 $ IRQ sharing disabled
ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
ttyS1 at I/O 0x2f8 (irq = 3) is a 16550A
Using anticipatory io scheduler
Floppy drive(s): fd0 is 1.44M
FDC 0 is a post-1991 82077
loop: loaded (max 8 devices)
Uniform Multi-Platform E-IDE driver Revision: 7.00alpha2
ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
ICH2: IDE controller at PCI slot 0000:00:1f.1
ICH2: chipset revision 1
ICH2: not 100% native mode: will probe irqs later
    ide0: BM-DMA at 0xf000-0xf007, BIOS settings: hda:DMA, hdb:DMA
    ide1: BM-DMA at 0xf008-0xf00f, BIOS settings: hdc:DMA, hdd:DMA
hda: ST34311A, ATA DISK drive
hdb: QUANTUM FIREBALLlct20 20, ATA DISK drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
hdc: SAMSUNG CD-R/RW DRIVE SW-224B, ATAPI CD/DVD-ROM drive
hdd: IDE/ATAPI CD-ROM 52XS, ATAPI CD/DVD-ROM drive
ide1 at 0x170-0x177,0x376 on irq 15
hda: max request size: 128KiB
hda: 8452080 sectors (4327 MB) w/256KiB Cache, CHS=8944/15/63, UDMA(66)
 /dev/ide/host0/bus0/target0/lun0: p1 p2
hdb: max request size: 128KiB
hdb: 39876480 sectors (20416 MB) w/418KiB Cache, CHS=39560/16/63, UDMA(33)
 /dev/ide/host0/bus0/target1/lun0: p1 p2 < p5 > p3
hdc: ATAPI 40X CD-ROM CD-R/RW drive, 2048kB Cache, DMA
Uniform CD-ROM driver Revision: 3.12
end_request: I/O error, dev hdd, sector 0
hdd: ATAPI 11X CD-ROM drive, 128kB Cache, UDMA(33)
mice: PS/2 mouse device common for all mice
input: ImPS/2 Logitech Wheel Mouse on isa0060/serio1
serio: i8042 AUX port at 0x60,0x64 irq 12
input: AT Translated Set 2 keyboard on isa0060/serio0
serio: i8042 KBD port at 0x60,0x64 irq 1
NET: Registered protocol family 2
IP: routing cache hash table of 1024 buckets, 8Kbytes
TCP: Hash tables configured (established 16384 bind 32768)
NET: Registered protocol family 1
EXT3-fs: INFO: recovery required on readonly filesystem.
EXT3-fs: write access will be enabled during recovery.
kjournald starting.  Commit interval 5 seconds
EXT3-fs: hda2: orphan cleanup on readonly fs
ext3_orphan_cleanup: deleting unreferenced inode 147772
EXT3-fs: hda2: 1 orphan inode deleted
EXT3-fs: recovery complete.
EXT3-fs: mounted filesystem with writeback data mode.
VFS: Mounted root (ext3 filesystem) readonly.
Mounted devfs on /dev
Freeing unused kernel memory: 304k freed
Adding 160608k swap on /dev/hda1.  Priority:-1 extents:1
EXT3 FS on hda2, internal journal
kjournald starting.  Commit interval 5 seconds
EXT3 FS on hdb3, internal journal
EXT3-fs: mounted filesystem with writeback data mode.
kjournald starting.  Commit interval 5 seconds
EXT3 FS on hdb5, internal journal
EXT3-fs: mounted filesystem with writeback data mode.
FAT: Unrecognized mount option user
ISO 9660 Extensions: RRIP_1991A
Linux video capture interface: v1.00
bttv: driver version 0.9.11 loaded
bttv: using 8 buffers with 2080k (520 pages) each for capture
bttv: Host bridge is 0000:00:00.0
bttv: Bt8xx card found (0).
PCI: Found IRQ 5 for device 0000:01:05.0
PCI: Sharing IRQ 5 with 0000:01:05.1
bttv0: Bt878 (rev 17) at 0000:01:05.0, irq: 5, latency: 32, mmio: 0xd4100000
bttv0: using: BT878(Prolink PixelView PlayT) [card=37,insmod option]
bttv0: using tuner=1
bttv0: i2c: checking for TDA9875 @ 0xb0... not found
bttv0: i2c: checking for TDA7432 @ 0x8a... not found
tuner: chip found @ 0xc2
tuner(bttv): type forced to 5 (Philips PAL_BG (FI1216 and compatibles)) [insmod]
tuner: type already set (5)
registering 0-0061
videodev: "BT878(Prolink PixelView PlayT)" has no release callback. Please fix your driver for proper sysfs support, see 
http://lwn.net/Articles/36850/
bttv0: registered device video0
videodev: "bt848/878 vbi" has no release callback. Please fix your driver for proper sysfs support, see 
http://lwn.net/Articles/36850/
bttv0: registered device vbi0
videodev: "bt848/878 radio" has no release callback. Please fix your driver for proper sysfs support, see 
http://lwn.net/Articles/36850/
bttv0: registered device radio0
bttv0: PLL: 28636363 => 35468950 .. ok
PCI: Found IRQ 9 for device 0000:00:1f.5
PCI: Setting latency timer of device 0000:00:1f.5 to 64
intel8x0: clocking to 48000
drivers/usb/core/usb.c: registered new driver usbfs
drivers/usb/core/usb.c: registered new driver hub
drivers/usb/host/uhci-hcd.c: USB Universal Host Controller Interface driver v2.1
PCI: Found IRQ 9 for device 0000:00:1f.2
uhci-hcd 0000:00:1f.2: UHCI Host Controller
PCI: Setting latency timer of device 0000:00:1f.2 to 64
uhci-hcd 0000:00:1f.2: irq 9, io base 0000d000
uhci-hcd 0000:00:1f.2: new USB bus registered, assigned bus number 1
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 2 ports detected
PCI: Assigned IRQ 9 for device 0000:00:1f.4
uhci-hcd 0000:00:1f.4: UHCI Host Controller
PCI: Setting latency timer of device 0000:00:1f.4 to 64
uhci-hcd 0000:00:1f.4: irq 9, io base 0000d800
uhci-hcd 0000:00:1f.4: new USB bus registered, assigned bus number 2
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 2 ports detected
hw_random hardware driver 1.0.0 loaded
vmmon: no version magic, tainting kernel.
vmmon: module license 'unspecified' taints kernel.
/dev/vmmon: Module vmmon: registered with major=10 minor=165
/dev/vmmon: Module vmmon: initialized
vmnet: no version magic, tainting kernel.
vmnet: module license 'unspecified' taints kernel.
Initializing USB Mass Storage driver...
drivers/usb/core/usb.c: registered new driver usb-storage
USB Mass Storage support registered.
/dev/vmnet: open called by PID 450 (vmnet-netifup)
/dev/vmnet: hub 0 does not exist, allocating memory.
/dev/vmnet: port on hub 0 successfully opened
Real Time Clock Driver v1.12
CSLIP: code copyright 1989 Regents of the University of California
PPP generic driver version 2.4.2
parport0: PC-style at 0x378, irq 7 [PCSPP(,...)]
NET3 PLIP version 2.4-parport gniibe@mri.co.jp
plip0: Parallel port at 0x378, using IRQ 7.
parport0: PC-style at 0x378, irq 7 [PCSPP(,...)]
NET3 PLIP version 2.4-parport gniibe@mri.co.jp
plip0: Parallel port at 0x378, using IRQ 7.
ip_tables: (C) 2000-2002 Netfilter core team
ip_conntrack version 2.1 (1527 buckets, 12216 max) - 300 bytes per conntrack
NET: Registered protocol family 10
IPv6 over IPv4 tunneling driver
plip0: no IPv6 routers present
vmnet0: no IPv6 routers present
mtrr: base(0xd0000000) is not aligned on a size(0x12c000) boundary
[drm] Using PRE v1.2 init.
PCI: Found IRQ 11 for device 0000:00:02.0
PPP Deflate Compression module registered
Badness in local_bh_enable at kernel/softirq.c:119
Call Trace:
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9d5c12>] ppp_async_push+0xa2/0x190 [ppp_async]
 [<cc9d54dd>] ppp_asynctty_wakeup+0x2d/0x60 [ppp_async]
 [<c01dbfcd>] uart_flush_buffer+0x6d/0x80
 [<c01b85e3>] do_tty_hangup+0x493/0x500
 [<c012d13d>] worker_thread+0x1dd/0x2d0
 [<c01b8150>] do_tty_hangup+0x0/0x500
 [<c011a930>] default_wake_function+0x0/0x30
 [<c0109282>] ret_from_fork+0x6/0x14
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012cf60>] worker_thread+0x0/0x2d0
 [<c0107219>] kernel_thread_helper+0x5/0xc
Badness in local_bh_enable at kernel/softirq.c:119
Call Trace:
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9d5c12>] ppp_async_push+0xa2/0x190 [ppp_async]
 [<c010a10c>] dump_stack+0x1c/0x20
 [<cc9d5b35>] ppp_async_send+0x15/0x50 [ppp_async]
 [<cc9ee7cf>] ppp_channel_push+0x8f/0x1d0 [ppp_generic]
 [<cc9d5500>] ppp_asynctty_wakeup+0x50/0x60 [ppp_async]
 [<c01dbfcd>] uart_flush_buffer+0x6d/0x80
 [<c01b85e3>] do_tty_hangup+0x493/0x500
 [<c012d13d>] worker_thread+0x1dd/0x2d0
 [<c01b8150>] do_tty_hangup+0x0/0x500
 [<c011a930>] default_wake_function+0x0/0x30
 [<c0109282>] ret_from_fork+0x6/0x14
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012cf60>] worker_thread+0x0/0x2d0
 [<c0107219>] kernel_thread_helper+0x5/0xc
Badness in local_bh_enable at kernel/softirq.c:119
Call Trace:
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9d5c12>] ppp_async_push+0xa2/0x190 [ppp_async]
 [<cc9d5b66>] ppp_async_send+0x46/0x50 [ppp_async]
 [<cc9ee7cf>] ppp_channel_push+0x8f/0x1d0 [ppp_generic]
 [<cc9d5500>] ppp_asynctty_wakeup+0x50/0x60 [ppp_async]
 [<c01dbfcd>] uart_flush_buffer+0x6d/0x80
 [<c01b85e3>] do_tty_hangup+0x493/0x500
 [<c012d13d>] worker_thread+0x1dd/0x2d0
 [<c01b8150>] do_tty_hangup+0x0/0x500
 [<c011a930>] default_wake_function+0x0/0x30
 [<c0109282>] ret_from_fork+0x6/0x14
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012cf60>] worker_thread+0x0/0x2d0
 [<c0107219>] kernel_thread_helper+0x5/0xc
Badness in local_bh_enable at kernel/softirq.c:119
Call Trace:
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9ee7f6>] ppp_channel_push+0xb6/0x1d0 [ppp_generic]
 [<cc9d5500>] ppp_asynctty_wakeup+0x50/0x60 [ppp_async]
 [<c01dbfcd>] uart_flush_buffer+0x6d/0x80
 [<c01b85e3>] do_tty_hangup+0x493/0x500
 [<c012d13d>] worker_thread+0x1dd/0x2d0
 [<c01b8150>] do_tty_hangup+0x0/0x500
 [<c011a930>] default_wake_function+0x0/0x30
 [<c0109282>] ret_from_fork+0x6/0x14
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012cf60>] worker_thread+0x0/0x2d0
 [<c0107219>] kernel_thread_helper+0x5/0xc
Badness in local_bh_enable at kernel/softirq.c:119
Call Trace:
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9d5c12>] ppp_async_push+0xa2/0x190 [ppp_async]
 [<cc9d5b35>] ppp_async_send+0x15/0x50 [ppp_async]
 [<cc9ee6fd>] ppp_push+0x9d/0xe0 [ppp_generic]
 [<cc9ee140>] ppp_xmit_process+0x50/0x120 [ppp_generic]
 [<cc9ee81a>] ppp_channel_push+0xda/0x1d0 [ppp_generic]
 [<cc9d5500>] ppp_asynctty_wakeup+0x50/0x60 [ppp_async]
 [<c01dbfcd>] uart_flush_buffer+0x6d/0x80
 [<c01b85e3>] do_tty_hangup+0x493/0x500
 [<c012d13d>] worker_thread+0x1dd/0x2d0
 [<c01b8150>] do_tty_hangup+0x0/0x500
 [<c011a930>] default_wake_function+0x0/0x30
 [<c0109282>] ret_from_fork+0x6/0x14
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012cf60>] worker_thread+0x0/0x2d0
 [<c0107219>] kernel_thread_helper+0x5/0xc
Badness in local_bh_enable at kernel/softirq.c:119
Call Trace:
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9d5c12>] ppp_async_push+0xa2/0x190 [ppp_async]
 [<cc9d5b66>] ppp_async_send+0x46/0x50 [ppp_async]
 [<cc9ee6fd>] ppp_push+0x9d/0xe0 [ppp_generic]
 [<cc9ee140>] ppp_xmit_process+0x50/0x120 [ppp_generic]
 [<cc9ee81a>] ppp_channel_push+0xda/0x1d0 [ppp_generic]
 [<cc9d5500>] ppp_asynctty_wakeup+0x50/0x60 [ppp_async]
 [<c01dbfcd>] uart_flush_buffer+0x6d/0x80
 [<c01b85e3>] do_tty_hangup+0x493/0x500
 [<c012d13d>] worker_thread+0x1dd/0x2d0
 [<c01b8150>] do_tty_hangup+0x0/0x500
 [<c011a930>] default_wake_function+0x0/0x30
 [<c0109282>] ret_from_fork+0x6/0x14
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012cf60>] worker_thread+0x0/0x2d0
 [<c0107219>] kernel_thread_helper+0x5/0xc
Badness in local_bh_enable at kernel/softirq.c:119
Call Trace:
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9ee140>] ppp_xmit_process+0x50/0x120 [ppp_generic]
 [<cc9ee81a>] ppp_channel_push+0xda/0x1d0 [ppp_generic]
 [<cc9d5500>] ppp_asynctty_wakeup+0x50/0x60 [ppp_async]
 [<c01dbfcd>] uart_flush_buffer+0x6d/0x80
 [<c01b85e3>] do_tty_hangup+0x493/0x500
 [<c012d13d>] worker_thread+0x1dd/0x2d0
 [<c01b8150>] do_tty_hangup+0x0/0x500
 [<c011a930>] default_wake_function+0x0/0x30
 [<c0109282>] ret_from_fork+0x6/0x14
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012cf60>] worker_thread+0x0/0x2d0
 [<c0107219>] kernel_thread_helper+0x5/0xc
Badness in local_bh_enable at kernel/softirq.c:119
Call Trace:
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9ee81a>] ppp_channel_push+0xda/0x1d0 [ppp_generic]
 [<cc9d5500>] ppp_asynctty_wakeup+0x50/0x60 [ppp_async]
 [<c01dbfcd>] uart_flush_buffer+0x6d/0x80
 [<c01b85e3>] do_tty_hangup+0x493/0x500
 [<c012d13d>] worker_thread+0x1dd/0x2d0
 [<c01b8150>] do_tty_hangup+0x0/0x500
 [<c011a930>] default_wake_function+0x0/0x30
 [<c0109282>] ret_from_fork+0x6/0x14
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012cf60>] worker_thread+0x0/0x2d0
 [<c0107219>] kernel_thread_helper+0x5/0xc
Badness in local_bh_enable at kernel/softirq.c:119
Call Trace:
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9d5500>] ppp_asynctty_wakeup+0x50/0x60 [ppp_async]
 [<c01dbfcd>] uart_flush_buffer+0x6d/0x80
 [<c01b85e3>] do_tty_hangup+0x493/0x500
 [<c012d13d>] worker_thread+0x1dd/0x2d0
 [<c01b8150>] do_tty_hangup+0x0/0x500
 [<c011a930>] default_wake_function+0x0/0x30
 [<c0109282>] ret_from_fork+0x6/0x14
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012cf60>] worker_thread+0x0/0x2d0
 [<c0107219>] kernel_thread_helper+0x5/0xc
Badness in local_bh_enable at kernel/softirq.c:119
Call Trace:
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9d5c12>] ppp_async_push+0xa2/0x190 [ppp_async]
 [<c0121d06>] local_bh_enable+0x86/0x90
 [<cc9d54dd>] ppp_asynctty_wakeup+0x2d/0x60 [ppp_async]
 [<c01b85d5>] do_tty_hangup+0x485/0x500
 [<c012d13d>] worker_thread+0x1dd/0x2d0
 [<c01b8150>] do_tty_hangup+0x0/0x500
 [<c011a930>] default_wake_function+0x0/0x30
 [<c0109282>] ret_from_fork+0x6/0x14
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012cf60>] worker_thread+0x0/0x2d0
 [<c0107219>] kernel_thread_helper+0x5/0xc
Unable to handle kernel paging request at virtual address cce46000
 printing eip:
cc970cc0
*pde = 01f10067
*pte = 00000000
Oops: 0002 [#1]
CPU:    0
EIP:    0060:[<cc970cc0>]    Tainted: PF 
EFLAGS: 00010206
EIP is at snd_pcm_format_set_silence+0xc0/0x1f0 [snd_pcm]
eax: 00000000   ebx: cce45000   ecx: 0000048e   edx: 00002238
esi: 00000002   edi: cce46000   ebp: 0000111c   esp: c6555ee4
ds: 007b   es: 007b   ss: 0068
Process gphone (pid: 1118, threadinfo=c6554000 task=ca2de740)
Stack: 00000002 00000292 0000111c c8525800 cbe4f080 c85d7f80 cc9feccb 00000002 
       cce45000 0000111c c8d67460 c85d7f80 ca8b0600 c8d67460 cca001c2 c85d7f80 
       cbcc7460 c8d67460 00000000 cbee4220 c5dd1ce0 c015299a c5dd1ce0 c8d67460 
Call Trace:
 [<cc9feccb>] snd_pcm_oss_sync+0x6b/0x170 [snd_pcm_oss]
 [<cca001c2>] snd_pcm_oss_release+0x22/0xc0 [snd_pcm_oss]
 [<c015299a>] __fput+0x10a/0x120
 [<c0150fa9>] filp_close+0x59/0x90
 [<c011f554>] put_files_struct+0x64/0xd0
 [<c01201d3>] do_exit+0x153/0x3f0
 [<c011a930>] default_wake_function+0x0/0x30
 [<c012051a>] do_group_exit+0x3a/0xb0
 [<c01093ab>] syscall_call+0x7/0xb
Code: f3 ab f6 c2 02 74 02 66 ab f6 c2 01 74 01 aa eb 9f 89 e8 4d 
 <4>plip0: transmit timeout(1,7f)