Date: Mon, 2 Apr 2007 09:09:07 +0200
From: Ingo Molnar <>
Subject: Re: [patch] enhance initcall_debug, measure latency
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/2/81

* Andi Kleen <andi@firstfloor.org> wrote:
> Ingo Molnar <mingo@elte.hu> writes:
> 
> > so 93.6% of the allyesconfig bootup time is in 2.5% of the 
> > initcalls. If they were fixed then an allyesconfig bzImage, which 
> > would be capable to run on every PC known to mankind without any 
> > module whatsoever, would
> 
> Assuming that every PC has enough memory @) Allyes is >35MB
yes :)
> > take around 10 seconds to boot up (which is acceptable for kernel 
> > bootup time).
> 
> It might make sense to measure idle ticks vs busy ticks too. If it's 
> idle cycles perhaps things can be more easily fixed by multi threading 
> the initialization. If it's busy cycles perhaps they can be converted 
> into sleeping cycles.
> 
> Perhaps you should tell the individual maintainers for those? If they 
> still have one. A lot of them look like old hardware where there might 
> be no working ones left, perhaps just deprecation would make sense.
note that i have done another run today too, with common drivers (see 
the same thread).
But obviously it doesnt really scale for me to notify every maintainer, 
we've basically got no infrastructure to bulk-mail maintainers based on 
a list of symbols. (maybe git could be extended to know about things 
like who-owns-this-and-that-file? Or the source could be annotated so 
that automated tools could parse it out.) So i did the notification the 
usual way: by mailing to lkml ;-)
> > initcall 0xc1f5487d ran for 23083 msecs: pca_isa_init+0x0/0x143() 
> > initcall 0xc1f54fba ran for 17121 msecs: pcf8574_init+0x0/0x20()
> 
> e.g. those just look like bugs.
it's ok i think: it's ISA so it spends its time fairly to tickle the 
ports in a loop.
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/