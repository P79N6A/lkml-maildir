Date: Fri, 30 Jan 2009 23:56:42 +0100
From: Sam Ravnborg <>
Subject: [PATCH] kbuild: drop check for CONFIG_ in headers_check
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/30/312

The check for references to CONFIG_ symbols in exported headers turned
out to be too agressive with the current state of affairs.
After the work of Jaswinder to clean up all relevant cases we are down
to almost pure noise.
So lets drop the check for now - we can always add it back later
should our headers be ready for that.
Cc: Jaswinder Singh Rajput <jaswinder@kernel.org>
Signed-off-by: Sam Ravnborg <sam@ravnborg.org>
---
Hi Ingo.
Please include this in the  tip/core/header-fixes brach
as this is the natural path towards mainline.
Jaswinder - thanks for your effort chasing all these warnings!
	Sam
diff --git a/scripts/headers_check.pl b/scripts/headers_check.pl
index db30fac..56f90a4 100644
--- a/scripts/headers_check.pl
+++ b/scripts/headers_check.pl
@@ -38,7 +38,7 @@ foreach my $file (@files) {
 		&check_asm_types();
 		&check_sizetypes();
 		&check_prototypes();
-		&check_config();
+		# Dropped for now. Too much noise &check_config();
 	}
 	close FH;
 }