Date: 25 Sep 2000 09:16:21 +0200
From: Christoph Rohland <>
Subject: Re: problem with 2.4.0-test9-pre6 seems to be SHM
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/25/216

safemode <safemode@voicenet.com> writes:
> The sum of the Bytes used in the 4096 entries ipcs shows is WAY off from the
> bytes used in df if that's what you wanted to know.    df shows 109K in
> use... and that's easily beaten by the first entry in ipcs
> 
> ------ Shared Memory Segments --------
> key       shmid     owner     perms     bytes     nattch    status
> 0x00000000 32769     root      600       503808    2         dest
> 0x00000002 131074    root      600       196608    2
> 0x00000003 163843    root      600       655360    2
> 0x00000000 3997700   root      777       5240      1         dest
> 0x00000000 4030469   root      777       5060      1         dest
> 0x00000000 4063238   root      777       4700      1         dest
> 
> 
> this is the first 6 entries ...  i'm not sure what you're getting at with
> this though..
Just to give you some debugging help for the future: you can get the
attachees to a shm segment with shmfs using fuser(1):
[root /root]# ipcs -m
------ Shared Memory Segments --------
key       shmid     owner     perms     bytes     nattch    status
0x00000000 32769     nobody    600       46084     11        dest
 
[root /root]# fuser -v /dev/shm/.IPC_00008001
 
                     USER        PID ACCESS COMMAND
/dev/shm/.IPC_00008001
                     root        883 ....m  httpd
                     root        886 ....m  httpd
                     root        887 ....m  httpd
                     root        888 ....m  httpd
                     root        889 ....m  httpd
                     root        890 ....m  httpd
                     root        891 ....m  httpd
                     root        892 ....m  httpd
                     root        893 ....m  httpd
                     root        894 ....m  httpd
                     root        895 ....m  httpd
The number in .IPC_######## is the shmid in hex.
So if you are in doubt which program is to blame, you should have a
way to find it now.
Greetings
		Christoph
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/