Date: Fri, 19 Sep 2003 00:06:17 +0200 (CEST)
From: Daniël Mantione <>
Subject: Re: Patch: Make iBook1 work again
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/18/144

On Thu, 18 Sep 2003, Benjamin Herrenschmidt wrote:
>
> > The Mach64 LT does not have the M64F_FIFO_24 flag set! That will result in
> > completely different values to be calculated and cause a distorted
> > display.
>
> I confirm, problem fixed ;)
Great! I'm a bit puzzled how it could work before; it might be
accidentally or the old code was tweaked and tweaked till the timings
seemed to work, but at the cost of working in the generic case. It might
explain why the code deviated so much from the formulas in the
documentation.
It also makes me think of the 63 MHz clock speed, as you did indicate it
should be 67 MHz. Knowing that the memory clock speed is used in the display
fifo calculation, I wonder if it was tweaked to get things right.
Enough speculation, I'll post a patch asap, but I have currently no Linux
machines around me. Expect a patch tomorrow.
Greetings,
Daniël Mantione
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/