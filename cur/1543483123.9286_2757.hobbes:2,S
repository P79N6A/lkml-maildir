Date: Fri, 29 Jan 1999 15:18:35 -0500
From: Greg Wooledge <ic5035%>
Subject: Re: help: PS/2 hard drive not found
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/29/92

On Fri, Jan 22, 1999 at 09:18:14AM +0100, David Weinehall wrote:
> Ok, I'll hack up a working v2.1.30 driver for you that works with
> v2.2.0final. I'll need it too, anyway, until there's a working version of
> the new driver...
Not to be a pest, but... have you had a chance to do this yet?
I've actually had some more success with this project now.  I installed
an old version of binutils on my Compaq-with-Madge-TR-card system and
was able to compile kernel 2.1.30 for the PS/2 (a 9556).  I was able to
boot this kernel; and with boot parameter "ibmmcascsi=7" it was even
able to see the disk drive! :-)
So, I've got a minimal Debian installation on the PS/2, and I'm trying
to pull additional packages across the token ring network, but it's
horribly slow.  The networking seems acceptable for low-bandwidth
interactive use, but for file transfers it seems to come to a
standstill somewhere between 8k-16k[1], and after that the data just
barely trickle in.  I'm lucky to get over 200-300 bytes a second
averaged over a large file transfer (large means over 10k).  This is on
a 16 Mbit token ring network, to an RS/6000 on the same segment (1 hop).
(I sneaker-netted wget over, so now I can actually pull other packages;
wget faithfully retries every few minutes (50-100k) until it gets the
whole file.)
I also get some rather verbose kernel messages on the console and in
dmesg from time to time --
  tr0: Line errors 01, Internal errors 00, Burst errors 00
  A/C errors 00, Abort delimiters 01, Lost frames 00
  Receive congestion count 00, Frame copied errors 00
  Frequency errors FF, Token errors 00
  Socket destroy delayed (r=0 w=888)
  Socket destroy delayed (r=0 w=888)
There's also one RS/6000 on this segment that I can only intermittently
reach.  Sometimes pings to this box work, but usually they don't.  It's
rather annoying, since this is the system I'm most interested in
reaching (it's the one from which I'm sending this e-mail)....  The
"socket destroy delayed" messages always occur in pairs after I
interrupt an attempted ping to this system.  The 4-line stat dump
occurs about 1-2 times per hour without any obvious cause on my part.
Transfers between RS/6000s on this network segment aren't subject to
problems of this magnitude.  So I'm hoping (perhaps naively) that a
newer kernel would have a more stable ibmtr driver, but I need a
working ibmmca SCSI driver as well.
[1]Perhaps not coincidentally, the kernel reports that this token ring
card has an 8 kB shared memory region.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/