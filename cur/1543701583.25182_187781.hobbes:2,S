Date: Fri, 02 Jan 2004 16:15:05 -0500
From: Bill Davidsen <>
Subject: Re: [RFC,PATCH] use rcu for fasync_lock
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/2/145

Jamie Lokier wrote:
> We have found the performance impact of the extra ->poll calls
> negligable with epoll.  They're simply not slow calls.  It's
> only when you're doing select() or poll() of many descriptors
> repeatedly that you notice, and that's already poor usage in other
> ways.
I do agree with you, but there is a lot of old software, and software 
written on/for BSD, which does do this. I'm not prepared to say that BSD 
does it better, but it's easier to fix in one place, the kernel, than 
many other places.
Your point about the complexity is also correct, but perhaps someone 
will offer a better solution to speeding up select(). I think anything 
as major as this might be better off in a development series, and that's 
a clear prod for someone to find a simpler way to do it ;-)
Old programs grow; INN uses select and worked fine with 10-20 peers, 
with 200 peers sharing 2m articles and 1 TB of data it seems to work 
less well on Linux than BSD or Solaris. I'd love to see faster, there 
are lots of other servers out there as well.
-- 
bill davidsen <davidsen@tmr.com>
   CTO TMR Associates, Inc
   Doing interesting things with small computers since 1979
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/