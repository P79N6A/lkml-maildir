Date: Thu, 15 Jan 2009 12:08:29 +0900
From: KAMEZAWA Hiroyuki <>
Subject: Re: [RFC][PATCH 5/4] memcg: don't call res_counter_uncharge when obsolete
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/14/610

On Thu, 15 Jan 2009 11:48:46 +0900
KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com> wrote:
> On Wed, 14 Jan 2009 19:25:39 +0530
> Balbir Singh <balbir@linux.vnet.ibm.com> wrote:
> > I liked the earlier, EBUSY approach that ensured that parents could
> > not go away if children exist. IMHO, the code has gotten too complex
> > and has too many corner cases. Time to revisit it.
> > 
> It's on my plan. 
> I'll fix this by CSS-ID patch.
> 
> When I recored memcg's CSS-ID to swap_cgroup (not pointer to memcg), 
> we never need memcg's refcnt.
> 
Sorry, ignore this. refcnt in memcg is necessary anyway to prevent reuse of ID.
-Kame