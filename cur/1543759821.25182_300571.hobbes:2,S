Date: Mon, 7 Mar 2005 14:24:18 -0800
From: David Brownell <>
Subject: Re: [linux-usb-devel] Re: kexec and IRQ sharing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/7/269

On Monday 07 March 2005 2:08 pm, Eric W. Biederman wrote:
> 
> The ongoing DMA transfers which are companions of the irq generating
> events are what really concern me, as we could get all kinds of
> interesting memory stomps.  Do you think you could implement
> a reboot notifier or a shutdown() method to handle that case?
> 
> This appears to be yet another case of kexec transforming theoretical
> bugs into actual ones.  Groan.
Reboot notifiers seem to be a more general solution than the
driver model shutdown() hooks, since as Alan noted not every
bus framework uses shutdown() ... and although remove() would
solve the issue too, for essentially all busses, it doesn't
kick in here (and linker tricks may have removed it anyway).
Of possible relevance:  Documentation/arm/Booting lists, at
the end, requirements the boot firmware must meet before it
runs Linux.  (Stuff like U-Boot, BLOB, HaRET, or dozens of
other open-sourced analogues of x86 BIOS code.)  Seems like
the same rules will apply before kexec ... yes?  That mentions
DMA, though not IRQs (possibly an omission).
- Dave
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/