Date: Wed, 4 Jul 2007 14:18:19 +0100
From: Alan Cox <>
Subject: Re: Libata PATA status
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/4/149

> > > disabled without risking breaking old root file systems.
> > 
> > That would be udevd for new systems or "ln -s" for old ones ? 
> 
> Then old kernels couldn't be booted anymore.
Why not. I boot back and forth randomly between old and new IDE kernels
without problems. The root fs loaded is set in kernel or grub (or on most
distros nowdays by label scanning from initrd) so just works. Then mount
label or uuid based mounting does the rest.
> Sure for SATA. But surely for PATA it would be possible to fake
> the mapping of the old driver? Doing it simple minded (e.g. only
> for the builtin devices) would be probably sufficient.
You could probably reliably map "hda/b/c/d" initially with some kind of
forwarder providing nobody hot plugged them.  Just not sure I see the
point of doing it kernel side.
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/