Date: Fri, 25 Oct 2002 18:53:54 +0200
From: Jens Axboe <>
Subject: Re: [Bug] 2.5.44-ac2 cdrom eject panic
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/25/129

On Fri, Oct 25 2002, Markus Plail wrote:
> Hi Jens!
> 
> * Jens Axboe writes:
> >Please try:
> >*.kernel.org/pub/linux/kernel/people/axboe/patches/v2.5/2.5.44/sgio-16.bz2
>                                                                      ^^16b
> >That should fix the silly panic.
> 
> Yes it does. I can't burn though. I attached the cdrecord output. Hava
> a look at the Blocks numbers. Although the image is only 500MB, it says
> it wouldn't fit on the disc which is 700MB. In another try it wanted to
> start burning although I had a bought audio CD in the burner.
As a hack, can you change:
	if ((rq->flags & REQ_BLOCK_PC) && !rq->errors)
		rq->errors = sense_key;
in drivers/ide/ide-cd.c:cdrom_decode_status() to
	if ((rq->flags & REQ_BLOCK_PC) && !rq->errors)
		rq->errors = 2;
-- 
Jens Axboe
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/