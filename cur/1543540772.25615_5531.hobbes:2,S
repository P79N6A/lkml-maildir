Date: Fri, 4 Aug 2000 18:44:43 +0530
From: "Madan A S" <>
Subject: mem=32 Kernel Panic , Physical check 32Mb, takes 24 mb
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/4/96

I have Redhat 6.2
The Following is the normal output i get to see on my screen:
------------------------------------------------------------------------
Linux version 2.2.14-12 (root@porky.devel.redhat.com) (gcc version
egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)) #1 Tue Apr 25 13:04:07 EDT
2000
Detected 400910451 Hz processor.
Console: colour VGA+ 80x25
Calibrating delay loop... 399.77 BogoMIPS
Memory: 22356k/24512k available (1068k kernel code, 412k reserved, 612k
data, 64k init, 0k bigmem)
Dentry hash table entries: 262144 (order 9, 2048k)
Buffer cache hash table entries: 32768 (order 5, 128k)
Page cache hash table entries: 8192 (order 3, 32k)
VFS: Diskquotas version dquot_6.4.0 initialized
CPU: Intel Celeron (Mendocino) stepping 05
Checking 386/387 coupling... OK, FPU using exception 16 error reporting.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
mtrr: v1.35a (19990819) Richard Gooch (rgooch@atnf.csiro.au)
PCI: PCI BIOS revision 2.10 entry at 0xfb300
PCI: Using configuration type 1
PCI: Probing PCI hardware
Linux NET4.0 for Linux 2.2
Based upon Swansea University Computer Society NET3.039
NET4: Unix domain sockets 1.0 for Linux NET4.0.
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
TCP: Hash tables configured (ehash 32768 bhash 32768)
Initializing RT netlink socket
Starting kswapd v 1.5
Detected PS/2 Mouse Port.
Serial driver version 4.27 with MANY_PORTS MULTIPORT SHARE_IRQ enabled
ttyS00 at 0x03f8 (irq = 4) is a 16550A
ttyS01 at 0x02f8 (irq = 3) is a 16550A
pty: 256 Unix98 ptys configured
apm: BIOS version 1.2 Flags 0x07 (Driver version 1.9)
Real Time Clock Driver v1.09
RAM disk driver initialized:  16 RAM disks of 4096K size
SIS5513: IDE controller on PCI bus 00 dev 01
SIS5513: not 100% native mode: will probe irqs later
    ide0: BM-DMA at 0x4000-0x4007, BIOS settings: hda:DMA, hdb:DMA
    ide1: BM-DMA at 0x4008-0x400f, BIOS settings: hdc:DMA, hdd:DMA
hda: ST36421A, ATA DISK drive
hdd: Philips 40X PCA403CD, ATAPI CDROM drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
ide1 at 0x170-0x177,0x376 on irq 15
hda: ST36421A, 6150MB w/256kB Cache, CHS=784/255/63
hdd: ATAPI 48X CD-ROM drive, 128kB Cache
Uniform CDROM driver Revision: 2.56
Floppy drive(s): fd0 is 1.44M
FDC 0 is a post-1991 82077
md driver 0.90.0 MAX_MD_DEVS=256, MAX_REAL=12
raid5: measuring checksumming speed
raid5: MMX detected, trying high-speed MMX checksum routines
   pII_mmx   :   891.540 MB/sec
   p5_mmx    :   936.498 MB/sec
   8regs     :   688.467 MB/sec
   32regs    :   385.953 MB/sec
using fastest function: p5_mmx (936.498 MB/sec)
scsi : 0 hosts.
scsi : detected total.
md.c: sizeof(mdp_super_t) = 4096
Partition check:
 hda: hda1 hda2 < hda5 hda6 > hda3 hda4
autodetecting RAID arrays
autorun ...
... autorun DONE.
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 64k freed
Adding Swap: 72252k swap-space (priority -1)
cm: version v1.1 time 13:05:42 Apr 25 2000
cm: found CM8738 adapter at io 0xe000 irq 10
 ---------------------------------------------
The PROBLEM :
 [root@Madan]$cat /proc/meminfo
 total:    used:    free:  shared: buffers:  cached:
 Mem:  22892544 22360064   532480 13049856   618496 13893632
 Swap: 73986048  2600960 71385088
 MemTotal:     22356 kB
 MemFree:        520 kB
 MemShared:    12744 kB
 Buffers:        604 kB
 Cached:       13568 kB
 BigTotal:         0 kB
 BigFree:          0 kB
 SwapTotal:    72252 kB
 SwapFree:     69712 kB
 This the output of cat /proc/memento in my Linux system
 The imp point over here is that Mem:22892544
 but when I boot the initial memcheck counts untill 32768K
This is when i tried giving mem=32m
I had manually copy this below , is there any other way
---------------------------------------------
Linux version 2.2.14-12 (root@porky.devel.redhat.com) (gcc version
egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)) #1 Tue Apr 25 13:04:07 EDT
2000
Detected 400910451 Hz processor.
Console: colour VGA+ 80x25
Calibrating delay loop... 399.77 BogoMIPS
Memory: 30532k/32768k available (1068k kernel code, 412k reserved, 612k
data, 64k init, 0k bigmem)
General Protection Fault : 0000
CPU : 0
EIP : 0010 : [<c01210cf>]
EFLAGS : 00010286
eax : 0000009f    ebx : c1fff0d8    ecx : ffffffff    edx : c02cb000
esi : 00000028    edi : ffffffff    ebp : c1ffffe0    esp : c0235f40
ds : 0018    es : 0018    ss : 0018
Process Swapper(PID : 0 , Process nr : 0 , StackPage = c023500)
Stack : c0210640    00000282    ffffffff    00000212    00000001    00000015
00000020    00000000
            c01212cb    c021a6640    000000015    00000000    00000020
00000000    0000000    c012092c
            c021a640    00000012    00000000    00098800    00000000
00000000    c0239c14    c01dff20
Call Trace :
[<c01212cd>][<c012092c>][<c01dff20>][<c01e199e>][<c0106000>][<c0106000>][<c0
100175>]
Code :    89    07    8b    4c    24    10    8b    09    89    4c    24
10    83    ee    01    73    b8    c7    01    00
Kernel Panic : Attempted to kill the idle task!
In Swapper Task - not syncing
----------------------------------------------------------
>hda2 isn't using space: it's probably just an "extended" partition,
>since you can only have 4 primary partitions.
Its not a question of stinginess of losing 1Mb of ~10GB
I just wanted to know why is that . It all occurred when
i repartitioned my disk few weeks ago .
Anyway i found the ans , hda2 is "eating" 1K, not 1M
I am just mailing the other ans that i received
I believe they also substantiate your reply
from ray@comarre.com
Second, it is surely an extended partition, sort of a "wrapper" that in turn
holds the partition table for hda5 and hda6. IDE drives can have only 4
"real" partitions. They can be 4 primary partitions or 3 primary and 1
extended partition. In the second case, the extended can hold any number (or
at least some large number) of additional "logical" partitions.
from ashak@eth.net
There is in fact no memory wastage
What you see is the extended partition (hda2) =1Mb
hda1 is the primary partition (say 4024251 Mb)
The extended partition only contains partition information
of all the logical partition it contains ie D, E
This is the 3rd partition = 128520  hda3
This is the swap partition=1646662 hda4
 425691 hda5   72261 hda6 are the logical partitions in hda2
 Partition magic does not show hda2 as it is only an abstraction and
does not contain any data itself
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/