Date: Thu, 6 Jan 2000 23:09:35 +0100
From: Jasper Spaans <>
Subject: Re: 2.3.37 broke matroxfb
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/6/177

On Thu, Jan 06, 2000 at 11:16:01PM +0200, Tuomas Heino wrote:
> Trying to compile 2.3.37 (w/ equal configuration to .36):
> 
> matroxfb.c: In function `matrox_init':
> matroxfb.c:6023: invalid type argument of `->'
> matroxfb.c:6024: invalid type argument of `->'
> matroxfb.c:6019: warning: `svid' might be used uninitialized in this function
> matroxfb.c:6020: warning: `sid' might be used uninitialized in this function
Quick fix:
--- linux/drivers/video/matroxfb.c~     Thu Jan  6 22:36:45 2000
+++ linux/drivers/video/matroxfb.c      Thu Jan  6 23:05:00 2000
@@ -6020,8 +6020,8 @@
                u_int16_t sid;
                pci_read_config_byte(pdev, PCI_REVISION_ID, &rev);
-               svid = dev->subsystem_vendor;
-               sid = dev->subsystem_device;
+               svid = pdev->subsystem_vendor;
+               sid = pdev->subsystem_device;
                for (b = dev_list; b->vendor; b++) {
                        if ((b->vendor != pdev->vendor) || (b->device != pdev->device) || (b->rev < rev)) continue;
                        if (b->svid)
Regards,
-- 
  Q_.        Jasper Spaans  <mailto:jspaans@mediakabel.nl>        -o)
 `~\         Conditional Access/DVB-C/OpenTV/Unix-adviseur        /\\
Mr /\                                                            _\_v
Zap  Een echte programmeur nodig? 
http://www.rent-a-nerd.nl
 heeft ze!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/