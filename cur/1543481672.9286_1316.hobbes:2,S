Date: Sat, 23 Jan 1999 13:57:03 +0100 (MET)
From:  mario.mikocevic@sk ...
Subject: Re: bttv driver freezes 2.2.0-pre8 and 2.2.0-pre9
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/23/61

Hi,
> I have a Hauppauge TV card with a bt878 chip. Before linux-2.2.0-pre8 the
> bt848 driver included in the kernel didn't work for my card. It showed a
> scrambled tv image. However the bttv driver included in the xawtv packages
> worked fine since version 2.26. 
> 
> The kernel patch patch-2.2.0pre7ac4 was the first time my wintv card
> worked as it should. The next two patches patch-2.2.0-pre8 and
> patch-2.2.0-pre9 do show a clear TV image but the system freezes. The only
> responce I get is with ping from another system. After a reboot I don't
> see any logged error messages. The last messages is: msp3400: init: 
> chip=MSP3410D-B4, has NICAM support (my card has a MSP3415D chip). 
> 
> It didn't help to install the bttv driver from the new xawtv package
> (version 2.34). I get the same result. 
> 
> I have these lines in my /etc/conf.modules
> 
> alias char-major-81 bttv pre-install bttv modprobe "-k" msp3400; modprobe
> "-k" tuner options tuner debug=0 type=5 options bttv card=10 radio=1 pll=1
> vidmem=0xe60
> 
> My system is a AMD K6-2 300, a riva128 video card with pgcc-2.91.60 (egcs
> 1.1.1). 
Almost same here, pre8 and final freezes machine ->
Jan 23 13:38:18 danielle kernel: i2c: driver registered: tuner
Jan 23 13:38:41 danielle kernel: i2c: driver registered: msp3400
Jan 23 13:38:51 danielle kernel: Linux video capture interface: v1.00
Jan 23 13:38:52 danielle kernel: bttv0: Brooktree Bt848 (rev 18) bus: 0, devfn: 
88, irq: 11, memory: 0xe6000000.
Jan 23 13:38:52 danielle kernel: bttv: 1 Bt8xx card(s) found.
Jan 23 13:38:52 danielle kernel: bttv0: Hauppauge eeprom: tuner=Philips FI1216 M
K2 (5)
Jan 23 13:38:52 danielle kernel: bttv0: model: BT848(Hauppauge old)
Jan 23 13:38:52 danielle kernel: i2c: bus registered: bt848-0
Jan 23 13:38:52 danielle kernel: bt848-0: < 00- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 02- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 04- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 06- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 08- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 0a- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 0c- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 0e- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 10- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 12- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 14- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 16- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 18- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 1a- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 1c- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 1e- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 20- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 22- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 24- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 26- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 28- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 2a- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 2c- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 2e- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 30- >
Jan 23 13:38:52 danielle kernel: bt848-0: < 32- >
this is the only things that gets written to disk, on console it keeps
writing those debug messages and I don't have a way to write them down.
Here's pre7 syslog (successfull one) ->
Jan 18 20:38:57 danielle kernel: Linux video capture interface: v1.00
Jan 18 20:38:57 danielle kernel: i2c: initialized (i2c bus scan enabled)
Jan 18 20:38:57 danielle kernel: bttv0: Brooktree Bt848 (rev 18) bus: 0, devfn: 
88, irq: 11, memory: 0xe5010000.
Jan 18 20:38:57 danielle kernel: bttv: 1 Bt8xx card(s) found.
Jan 18 20:38:57 danielle kernel: bttv0: model: HAUPPAUGE
Jan 18 20:38:57 danielle kernel: i2c: bus registered: bt848-0
Jan 18 20:38:57 danielle kernel: i2c: scanning bus bt848-0: found device at addr
=0x80
Jan 18 20:38:57 danielle kernel: i2c: scanning bus bt848-0: found device at addr
=0xa0
Jan 18 20:38:57 danielle kernel: i2c: scanning bus bt848-0: found device at addr
=0xc2
Jan 18 20:38:57 danielle kernel: i2c: driver registered: tuner
Jan 18 20:38:57 danielle kernel: i2c: device attached: tuner (addr=0xc2, bus=bt8
48-0, driver=tuner)
Jan 18 20:38:57 danielle kernel: i2c: driver registered: msp3400
Jan 18 20:38:57 danielle kernel: msp3400: init: chip=MSP3400C-C6, registered as 
sound mixer
Jan 18 20:38:57 danielle kernel: i2c: device attached: MSP3400C-C6 (addr=0x80, b
us=bt848-0, driver=msp3400)
Jan 18 20:38:57 danielle kernel: bttv: PCI display adapter: S3.
Jan 18 20:38:57 danielle kernel: bttv: Video memory override: 0xe0000000
-- 
Mario Mikocevic (Mozgy)
lfsck error: FUBR !
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/