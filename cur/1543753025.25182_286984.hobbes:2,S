Date: 15 Jan 2005 23:39:00 -0500
From: Greg Stark <>
Subject: Re: the umount() saga for regular linux desktop users
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/15/191

William <wh@designed4u.net> writes:
> In my opinion, in order for linux to be trully user friendly, "a umount() 
> should NEVER fail" (even if the device containing the filesystem is no 
> longuer attached to the system). The kernel should do it's best to satisfy 
> the umount request and cleanup. Maybe the kernel could try some of the 
> following:
What you're asking for is for the umount -f option to be supported. This isn't
a new fangled idea. BSD supported has supported it since sometime in the last
millennium. Seriously, it's pretty basic functionality and really ought to be
supported.
The semantics of umount -f are simpler than you make it sound. It just
unmounts the file system normally and revokes any file descriptors for that
file system. Any further i/o on those file descriptors just gets an error
(EINVAL I expect). 
This is one of my biggest pet peeves about Linux.
-- 
greg
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/