Date: Mon, 8 Mar 2004 16:32:06 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH] fix warning about duplicate 'const'
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/8/217

On Mon, 8 Mar 2004, Andrew Morton wrote:
> > 
> > This is done by removing the 'const' from the temporary variables of the min() 
> > and max() macros. For me it seems to have no negative impact, so please 
> > consider applying...
> 
> I think there was a reason for those consts in kernel.h's min() and max()
> macros, but memory fails me.  Linus, do you recall?
I'm not 100% sure, but I think they are required to make a few other 
warnings go away. The fact that gcc complains about "const typeof" is a 
gcc misfeature, I think, and should be fixed there.
The warnings the extra "const" fixes is something like:
	int a;
	const int b;
	min(a,b)
where otherwise it would complain about pointers to different types when
comparing the type of the pointer. Or something.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/