Date: Sat, 8 May 1999 22:24:03 +0100 (GMT)
From: "Alex Butcher(linkern)" <>
Subject: Re: TCP/PPP latency
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/9/35

On Sat, 8 May 1999, Rik van Riel wrote:
> Hi,
> 
> I'm experiencing _bad_ trouble with TCP/PPP latency lately.
> 
> About half of my calls to demon.nl gives normal PPP latency
> and performance (100 to 200 ms latency), but sometimes I get
> a network latency of 20 to 30(!) seconds on the PPP link.
> 
> I'm using kernel 2.2.7 with the following PPP command line:
> 
> /usr/sbin/pppd lock modem /dev/modem 115200 idle 90 demand \
>     defaultroute mru 296 mtu 296 bsdcomp 15,15 $LOCAL_IP:$REMOTE_IP\
>     novj netmask $NETMASK connect $DIALER_SCRIPT
> 
> Before switching off Von Jacobson compression the network
> latency was usually worse, but now it's all right about
> 50% of the time...
Have you recently started using Demon NL? I had similar problems with
Demon UK until I disabled VJ header compression. Once I did that, the
problems went away *completely*.
Some friends at a rival ISP reckon it's because the remote access servers
Demon UK use run out of horsepower if they're fully utilised *and* people
are using VJ. I have no evidence to back this up. 
If this does turn out to be a Linux problem, I'd be very interested in
testing any patches...
Also, Demon UK recommend a mru/mtu of 576 and they don't do BSD compression.
Finally, you might want to run your serial port at 230400bps if you have
a >28.8kbps modem to take full advantage of the 4:1 compression your modem
can perform. More details on www.tunelinux.com (incidentally, Rik, feel
free to use my 'tuning PPP' doc there on your 'tuning Linux' site - I don't
want you to feel left out! ;)
> Rik -- Open Source: you deserve to be in control of your data.
Best Regards,
Alex.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/