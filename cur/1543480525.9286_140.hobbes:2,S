Date: Mon, 18 Jan 1999 15:51:31 -0500 (EST)
From: Chuck Lever <>
Subject: Re: [PATCH] New: AMD K6 write allocate
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/18/140

On Mon, 18 Jan 1999, Alexey Vyskubov wrote:
> > Could you show some lmbench results for this patch? I checked a similar
> > patch (loadable module) , but lmbench didnt notice much improvement. Is
> > it really that much ?
> 
> Maybe your BIOS enables write allocate by itself? Mine doesn't. 
> 
> Well, never heard about this nice program before. Well, I got it. Results
> follow. alv is 2.2.0pre7. alv-a is 2.2.0pre7 with K6 write allocate for
> all my RAM (48MB).
alexey-
i've installed your k6-patch on a 2.2.0-pre7-ac6 kernel, running on a
233Mhz AMD-K6 model 6 with 64M (Via VP3 chipset, Award 4.51PG BIOS).
here's dmesg output:
Memory: 62684k/65528k available (1384k kernel code, 412k reserved, 988k
  data, 60k init)
CPU: AMD AMD-K6tm w/ multimedia extensions stepping 02
AMD K6 processor, model 6 found.
Checking write allocate state... Write allocate is enabled for 64
  MB of memory
Trying to enable write alocate for 63 MB of memory
Failed!!!
Write allocate is enabled for 60 MB of memory
Checking 386/387 coupling... OK, FPU using exception 16 error
  reporting.
Checking 'hlt' instruction... OK.
apparently the BIOS automatically enables write allocate.  however, is it
correct to reset then re-enable it if the BIOS has already set it up? 
	- Chuck Lever
--
corporate:	<chuckl@netscape.com>
personal:	<chucklever@netscape.net> or <cel@monkey.org>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/