Date: Sun, 10 Feb 2008 12:10:06 -0800
From: David Brownell <>
Subject: [patch 2.6.24-git] parport: section fixup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/10/248

Fix section warning for parport_ECP_supported(); it's called from a
routine exported to modules, so it can't be removed with __devinit
section pruning.
Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
---
 drivers/parport/parport_pc.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)
--- g26.orig/drivers/parport/parport_pc.c	2008-02-10 10:34:53.000000000 -0800
+++ g26/drivers/parport/parport_pc.c	2008-02-10 11:19:00.000000000 -0800
@@ -1768,7 +1768,7 @@ static int parport_PS2_supported(struct 
 }
 
 #ifdef CONFIG_PARPORT_PC_FIFO
-static int __devinit parport_ECP_supported(struct parport *pb)
+static int parport_ECP_supported(struct parport *pb)
 {
 	int i;
 	int config, configb;
@@ -1992,7 +1992,7 @@ static int parport_ECPEPP_supported(stru
 /* Don't bother probing for modes we know we won't use. */
 static int __devinit parport_PS2_supported(struct parport *pb) { return 0; }
 #ifdef CONFIG_PARPORT_PC_FIFO
-static int __devinit parport_ECP_supported(struct parport *pb) { return 0; }
+static int parport_ECP_supported(struct parport *pb) { return 0; }
 #endif
 static int __devinit parport_EPP_supported(struct parport *pb) { return 0; }
 static int __devinit parport_ECPEPP_supported(struct parport *pb){return 0;}