Date: Mon, 2 Jun 2003 20:43:24 +0200
From: "Paul Rolland" <>
Subject: Re: Serial port numbering (ttyS..) wrong for 2.5.61+
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/2/178

Hello,
> When we add a port to the system, we try to find in order:
> 
> - a port which matches the base address
> - a port which is unallocated
> 
> Probably the easiest way to stop the "ttyS14" occuring would 
> be to clear the port information at boot when we don't find a port.
> 
From 8250_pci.c, you have :
/*              
 * Probe one serial board.  Unfortunately, there is no rhyme nor reason
 * to the arrangement of serial ports on a PCI card.
 */             
It seems that your board is reporting the parameters in such an order
that when looking for a port based on the IRQ, I/O port, ... the matching
one has id 14...
You could see this more clearly by setting SERIAL_DEBUG_PCI
at line 1549 to activate the code :
#ifdef SERIAL_DEBUG_PCI
                printk("Setup PCI port: port %x, irq %d, type %d\n",
                       serial_req.port, serial_req.irq, serial_req.io_type);
#endif
that would report to you the order in which ports are found on
your system.
Regards,
Paul
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/