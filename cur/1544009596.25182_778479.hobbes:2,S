Date: Tue, 9 Dec 2008 04:52:10 -0500
From: Christoph Hellwig <>
Subject: Re: [PATCH] EXPORTFS: Don't return NULL from fh_to_dentry()/fh_to_parent() [ver #4]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/9/34

On Fri, Dec 05, 2008 at 12:42:28PM -0500, J. Bruce Fields wrote:
> Not of fh_to_dentry(), but it looks like fh_to_parent() is the same.  So
> you'd want the below.
> 
> This is partially reverting 440037287c5, which appears to have also do
> some changing of NULLs to ESTALEs which we might also want to reconsider
> at some point.  Maybe Christoph could explain what the rationale was.
Miklos suggested always returning ERR_PTR values instead of a a min
or NULLs and ERR_PTR values to make the interface cleaner.  I tend
to agree, but botched up the conversion.