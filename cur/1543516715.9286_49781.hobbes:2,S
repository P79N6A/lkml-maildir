Date: Sun, 21 Nov 1999 21:48:03 -0500
From: Arthur Pedyczak <>
Subject: kswapd related oops in 2.2.13
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/21/85

I have noticed few posts describing  oopses related to kswapd. Here's my
$0.02:
==================================================================
ksymoops 0.7c on i686 2.2.13.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.2.13/ (default)
     -m /usr/src/linux/System.map (default)
Warning: You did not tell me where to find symbol information.  I will
assume that the log matches the kernel and modules that are running
right now and I'll use the default options above for symbol resolution.
If the current kernel and/or modules do not match the log, you can get
more accurate output by telling me the kernel version and where to find
map, modules, ksyms etc.  ksymoops -h explains the options.
Warning (compare_ksyms_lsmod): module 3c59x is in lsmod but not in
ksyms, probab
ly no symbols exported
Warning (compare_ksyms_lsmod): module es1370 is in lsmod but not in
ksyms, proba
bly no symbols exported
Nov 21 20:05:40 cs865114-a kernel: Unable to handle kernel paging
request at vir
tual address 001befa0
Nov 21 20:05:40 cs865114-a kernel: current->tss.cr3 = 00101000, %cr3 =
00101000
Nov 21 20:05:40 cs865114-a kernel: *pde = 00000000
Nov 21 20:05:40 cs865114-a kernel: Oops: 0002
Nov 21 20:05:40 cs865114-a kernel: CPU:    0
Nov 21 20:05:41 cs865114-a kernel: EIP:
0010:[remove_from_queues+162/336]
Nov 21 20:05:41 cs865114-a kernel: EFLAGS: 00010296
Nov 21 20:05:41 cs865114-a kernel: eax: 80000000   ebx: 89da9380   ecx:
89da9380
   edx: 89da985c
Nov 21 20:05:41 cs865114-a kernel: esi: 89da9140   edi: 89da9b00   ebp:
8040d8c0
   esp: 8ffd1f1c
Nov 21 20:05:41 cs865114-a kernel: ds: 0018   es: 0018   ss: 0018
Nov 21 20:05:41 cs865114-a kernel: Process kswapd (pid: 5, process nr:
5, stackp
age=8ffd1000)
Nov 21 20:05:41 cs865114-a kernel: Stack: 8033a2e0 80127ccd 89da9800
8d452200 8d
452200 80127cc4 89da9380 000003fe
Nov 21 20:05:41 cs865114-a kernel:        8040d758 80127cfb 8040d8c0
000003f6 00
000030 8ffd0000 00000020 00000006
Nov 21 20:05:41 cs865114-a kernel:        00000030 8011d261 8040d8c0
0319b2cf 8f
fd01c1 801de984 0000000d 00000006
Nov 21 20:05:41 cs865114-a kernel: Call Trace:
[try_to_free_buffers+85/144] [try
_to_free_buffers+76/144] [try_to_free_buffers+131/144]
[shrink_mmap+237/324] [do
_try_to_free_pages+48/140] [tvecs+7022/12864] [kswapd+99/204]
Nov 21 20:05:41 cs865114-a kernel: Code: ff 88 a0 ef 1b 80 8b 51 34 85
d2 74 18
8b 01 85 c0 74 09 89
Using defaults from ksymoops -t elf32-i386 -a i386
Code;  00000000 Before first symbol
00000000 <_EIP>:
Code;  00000000 Before first symbol
   0:   ff 88 a0 ef 1b 80         decl   0x801befa0(%eax)
Code;  00000006 Before first symbol
   6:   8b 51 34                  movl   0x34(%ecx),%edx
Code;  00000009 Before first symbol
   9:   85 d2                     testl  %edx,%edx
Code;  0000000b Before first symbol
   b:   74 18                     je     25 <_EIP+0x25> 00000025 Before
first symbol
Code;  0000000d Before first symbol
   d:   8b 01                     movl   (%ecx),%eax
Code;  0000000f Before first symbol
   f:   85 c0                     testl  %eax,%eax
Code;  00000011 Before first symbol
  11:   74 09                     je     1c <_EIP+0x1c> 0000001c Before
first symbol
Code;  00000013 Before first symbol
  13:   89 00                     movl   %eax,(%eax)
============================================================================
I have been getting this sort of oopses with kernels 2.2.12 and 2.2.13.
It is impossible
to _EXACTLY_ reproduce the conditions, but when one forces the system to
swap, the oops
eventually happens. There is no specific application causing it. At
first I suspected
vmware, so I removed its modules and init files, rebooted, and waited.
After six days,
I got the oops quoted above. Any ideas?
Arthur
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/