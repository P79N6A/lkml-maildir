Date: Wed, 23 Feb 2000 11:33:09 +0000
From: Tom Leete <>
Subject: Re: 2.3.47 tulip lockup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/23/72

Jeff Garzik wrote:
> 
> Richard Henderson wrote:
> > Where did the set of changes between 2.3.46 and 2.3.47 come from?
> > I have a "Lite-On Communications Inc LNE100TX (rev 20)" in one of
> > my alphas and the new driver wedges the machine solid.
> 
> There is a known softnet bug, that should be fixed in 2.3.48.  I am not
> sure if that is the problem here though.  Is this alpha an SMP box?
> 
> The current Tulip driver is basically the Tulip driver from 2.2.15pre9,
> converted to use the new PCI driver and DMA interfaces.  Does 2.2.15pre9
> tulip work ok for you under load?
> 
> There is still a lot of merge work left to do on Tulip, particularly
> merging register value tweaks added in 2.3.x and Becker's latest.
> Donald Becker's changes take time to integrate because they are filled
> with lots of uncommented register values.
Hi,
I get the same with Linksys LNE100TX, UP kernel, Cx586. I
suspect the wake-on-lan feature is the culprit, or maybe an
accomplice -- no such connector on this old mobo.
I previously have used, with success, the vendor-supplied
version of the tulip driver. It is marked:
/* Test version only: Do not distribute. */
static const char version[] = "tulip.c:v0.90f 12/17/98
Originally written by becker@cesdis.gsfc.nasa.gov\nDriver
modified for Linksys LNE100TX Fast Ethernet PCI Adapter on
01/13/99\n";
$ uname -srm
Linux 2.2.15pre9 i486
$ /sbin/lspci -vv
00:03.0 Ethernet controller: Lite-On Communications Inc:
Unknown device c115 (rev 25)
	Subsystem: Lite-On Communications Inc: Unknown device c001
	Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop-
ParErr- Stepping+ SERR- FastB2B-
	Status: Cap+ 66Mhz- UDF- FastB2B+ ParErr- DEVSEL=medium
>TAbort- <TAbort- <MAbort- >SERR- <PERR+
	Latency: 8 min, 56 max, 64 set, cache line size 08
	Interrupt: pin A routed to IRQ 12
	Region 0: I/O ports at fc00
	Region 1: Memory at ffbeff00 (32-bit, non-prefetchable)
	Expansion ROM at ffb80000 [disabled]
	Capabilities: <available only to root>
00:05.0 Host bridge: Silicon Integrated Systems [SiS] 85C496
(rev 31)
	Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop-
ParErr- Stepping- SERR- FastB2B-
	Status: Cap- 66Mhz- UDF- FastB2B+ ParErr- DEVSEL=medium
>TAbort- <TAbort- <MAbort+ >SERR- <PERR+
	Latency: 0 set
Above with no driver loaded.
`diff -u tulip.c.vendor tulip.c.kernel` gives a daunting big
thing to poke through. Unfortunately, I don't yet really
understand pci+ether.
Tom
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/