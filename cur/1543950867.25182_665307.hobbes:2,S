Date: Sat,  8 Mar 2008 11:03:11 -0800 (PST)
From: Roland McGrath <>
Subject: Re: [RFC, PATCH] signals: print_fatal_signal: fix the signr "calculation"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/8/93

The intent of your change is to get the printk for each thread, right?
I don't really see the point.  The thread that actually had the fault will
dequeue a non-SIGKILL signal and report its status.  We only need one
thread per signal to the print-out.
Hmm.  I see that non-coredump signals that hit the optimized fatal case in
__group_complete_signal will cause every thread to have a pending SIGKILL.
So that will be seen first and prevent the print-out.  So that's what you
intend to change?
I'm not sure print-fatal-signals was really ever intended for non-coredump
signals.  It doesn't seem like it would be all that useful.  It's probably
even undesireable for every normal C-c killing something to cause a printk.
Thanks,
Roland