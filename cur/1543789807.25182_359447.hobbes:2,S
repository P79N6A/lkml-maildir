Date: Fri, 21 Oct 2005 08:17:10 +0800
From: "Antonino A. Daplas" <>
Subject: Re: [PATCH] fix vgacon blanking
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/20/179

Bodo Eggert wrote:
> Pozsar Balazs <pozsy@uhulinux.hu> wrote:
> 
>> This patch fixes a long-standing vgacon bug: characters with the bright
>> bit set were left on the screen and not blacked out.
>> All I did was that I lookuped up some examples on the net about setting
>> the vga palette, and added the call missing from the linux kernel, but
>> included in all other ones. It works for me.
> 
> This is strange, since according to my documentation, the value should have
> been initialized to 0xff and never been changed. Can you test setting this
> value during initialisation (around line 259, if I read correctly) instead?
> I don't know if I can test it myself soon enough.
Actually, I don't see the palette mask (0x3c6) set anywhere in vgacon. The code
in line 259 sets the first 16 entries of the internal palette (0x3c0: 0x0-0xf)
so it points to the first 16 entries of the DAC.
Tony
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/