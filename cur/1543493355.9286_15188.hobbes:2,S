Date: Tue, 20 Apr 1999 02:51:57 -0400 (EDT)
From: Chuck Lever <>
Subject: Re: sync problem in 2.2.5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/20/37

On Tue, 20 Apr 1999, Chris Wedgwood wrote:
> On Mon, Apr 19, 1999 at 08:51:14PM +0200, Andre Couture wrote:
> > It "hang" my system and sometimes just the window from which I'm
> > running the command "sync".
> 
> If you have lots of dirty pages and lots of memory, sync can take
> several seconds and hold up any processes which do IO. This is
> especially noticeable on systems with only a single spindle or a vfs
> made of relatively few physical filesystems, but it also occur at the
> high end as well and will be a problem until be get per device
> queues.
not necessarily true.  in Linux, reads take precedence over writes.
sometimes the read load (blocks in or swapping in) will reduce effective
write bandwidth, which looks like the same problem you're describing.
this can happen, for example, if the buffer cache is undersized or broken
in some other way, or the page replacement algorithm is making bad choices
about which pages to replace.
	- Chuck Lever
--
corporate:	<chuckl@netscape.com>
personal:	<chucklever@netscape.net> or <cel@monkey.org>
The Linux Scalability project:
	
http://www.citi.umich.edu/projects/linux-scalability/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/