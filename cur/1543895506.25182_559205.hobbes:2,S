Date: Mon, 18 Jun 2007 11:35:03 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: 2.6.22-rc5 regression
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/18/303

On Mon, 18 Jun 2007, Carlo Wood wrote:
> 
> I suppose you mean: ... then you WILL get sensible values out of git
> bisect. But, since I already did a real "git bisect" without giving it
> random points, I am afraid you jumped conclusions.
Hey, fair enough.
That said, your "git bisect" really *does* act oddly.
> However, I can easily reproduce it. From my history file I can see that I started with:
> 
>    git bisect start
>    git bisect bad v2.6.22-rc5
>    git bisect good 99f9f3d49cbc7d944476f6fde53a77ec789ab2aa
Goodie. 
> I wrote everything down on paper (the git id's and whether they
> were good or bad), so I can reproduce it with:
I can follow along, but I get *totally*different* git bisection points!
> hikaru:/usr/src/kernel/git/linux-2.6>git bisect start
> hikaru:/usr/src/kernel/git/linux-2.6>git bisect bad v2.6.22-rc5
> hikaru:/usr/src/kernel/git/linux-2.6>git bisect good 99f9f3d49cbc7d944476f6fde53a77ec789ab2aa
> Bisecting: 128 revisions left to test after this
> D       include/asm-blackfin/macros.h
> M       scripts/package/Makefile
> D       scripts/package/builddeb
You seem to have a modified tree! What are those modifications to the 
blackfin macros.h etc files?
You *should* have gotten this:
	[torvalds@woody linux]$ git bisect start
	[torvalds@woody linux]$ git bisect bad v2.6.22-rc5
	[torvalds@woody linux]$ git bisect good 99f9f3d49cbc7d944476f6fde53a77ec789ab2aa
	Bisecting: 127 revisions left to test after this
	[9808901b6c63a1c850b072e624c228901a9eaf10] Blackfin serial driver: ignore framing and parity errors
but those are just off by one, at least (127 vs 128 commits left).
> [cf68676222e54cd0a31efd968da00e65f9a0963f] Blackfin serial driver: actually implement the break_ctl() function
> hikaru:/usr/src/kernel/git/linux-2.6>git bisect good
> Bisecting: 111 revisions left to test after this
And that's totally broken. Even if I don't use the "9808901b6" commit, and 
use your "cf686762" commit, I get:
	[torvalds@woody linux]$ git bisect good cf68676222e54cd0a31efd968da00e65f9a0963f
	Bisecting: 63 revisions left to test after this
	[aba297927d1d558c7a94548135133bdf9172708a] Merge master.kernel.org:/pub/scm/linux/kernel/git/kyle/parisc-2.6
Notice? The "127 revisions left to test after this" has become "63 
revisions left to test after this".
That number should be cut in half each time. And you shouldn't get some 
strange dirty tree indications.
It might be worth it just making sure your git is ok. It really is acting 
oddly. What version is it?
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/