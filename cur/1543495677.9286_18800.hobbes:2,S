Date: Thu, 13 May 1999 20:11:28 +0200
From: Jamie Lokier <>
Subject: Re: 2.2.8pre6, can't run ZMAGIC binaries
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/14/94

Linus Torvalds wrote:
> generic_fil_mmap() does have to allow it (because it is also called for
> executable mappings), but there _should_ be a test in the sys_mmap() path. 
> 
> But yes, you're right, I can't find it. 
So the kernel does basically have support for unaligned file mappings,
but it is (or should be) disallowed by sys_mmap()?
Long ago I recall this was what stopped Wine from demand paging huge
windows binaries (typically with hundreds of libraries), and generally
makes Wine very slow to start, as well as using tons of memory.  For one
application I used under Wine, about 100MB of libraries had to be read
in.
Windows binaries do not, in general, use page aligned mappings.  It
would be very nice IMO if it were possible to do shared unaligned
mappings for Wine.
Another happy thought from...
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/