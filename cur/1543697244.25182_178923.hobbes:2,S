Date: Wed, 19 Nov 2003 06:02:22 -0800
From: William Lee Irwin III <>
Subject: Re: 2.6.0-test9-mm4 - kernel BUG at arch/i386/mm/fault.c:357!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/19/54

On Wed, 2003-11-19 at 14:02, William Lee Irwin III wrote:
>> What sound card?
On Wed, Nov 19, 2003 at 02:27:36PM +0100, Ronny V. Vindenes wrote:
> Hercules Fortissimo III (snd-cs46xx), there's also a Terratec EWX24/96
> (snd-ice1712) installed but it's not in active use.
Er, sorry, try this one instead:
-- wli
diff -prauN mm4-2.6.0-test9-1/arch/i386/mm/fault.c mm4-2.6.0-test9-dbg-1/arch/i386/mm/fault.c
--- mm4-2.6.0-test9-1/arch/i386/mm/fault.c	2003-11-19 00:07:03.000000000 -0800
+++ mm4-2.6.0-test9-dbg-1/arch/i386/mm/fault.c	2003-11-19 05:56:04.000000000 -0800
@@ -21,6 +21,7 @@
 #include <linux/vt_kern.h>		/* For unblank_screen() */
 #include <linux/highmem.h>
 #include <linux/module.h>
+#include <linux/kallsyms.h>
 
 #include <asm/system.h>
 #include <asm/uaccess.h>
@@ -354,6 +355,10 @@ good_area:
 		case VM_FAULT_OOM:
 			goto out_of_memory;
 		default:
+			if (vma->vm_ops && vma->vm_ops->nopage)
+				print_symbol(KERN_CRIT "bad nopage %s\n",
+					(unsigned long)vma->vm_ops->nopage);
+			printk(KERN_CRIT "handle_mm_fault() returned bad status\n");
 			BUG();
 	}
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/