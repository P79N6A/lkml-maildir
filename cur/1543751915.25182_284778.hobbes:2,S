Date: Mon, 10 Jan 2005 03:20:19 +0100
From: Andries Brouwer <>
Subject: Re: Support for > 2GB swap partitions?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/9/141

On Sun, Jan 09, 2005 at 07:34:38PM -0500, Justin Piszcz wrote:
> I remember reading in the past that > 2GB swap partitions were supported 
> in Linux as of recent util-linux packages with a 2.6 kernel or am I wrong?
> 
> # fdisk -l
> /dev/sda2              17         526     4096575   82  Linux swap
> 
> # top
> Mem:   2075192k total,  2062540k used,    12652k free,       64k buffers
> 
> Only recognizes 2GB of 4GB?
A swap partition has a swap header that specifies its size
(and possibly what bad blocks exist on the swap partition).
Thus, if you did mkswap long ago, the useful size will not
have changed. Do swapoff; mkswap; swapon and mkswap will
tell you how large a swap partition it made, and swapon
will cause the kernel to say how much swap space was added.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/