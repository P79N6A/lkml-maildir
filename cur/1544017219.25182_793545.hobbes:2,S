Date: Fri, 16 Jan 2009 13:23:35 -0500
From: Jeff Mahoney <>
Subject: x86: Define ARCH_WANT_FRAME_POINTERS
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/16/351

 Commit da4276b8299a6544dc41ac2485d3ffca5811b3fb changed a dependency
 for FRAME_POINTER from X86 to ARCH_WANT_FRAME_POINTERS, but didn't
 actually define it.
 This patch adds the definition for ARCH_WANT_FRAME_POINTERS. Without it,
 FRAME_POINTER can't be enabled on x86.
Signed-off-by: Jeff Mahoney <jeffm@suse.com>
---
 lib/Kconfig.debug |    6 ++++++
 1 file changed, 6 insertions(+)
--- a/lib/Kconfig.debug
+++ b/lib/Kconfig.debug
@@ -570,6 +570,12 @@ config DEBUG_NOTIFIERS
 	  This is a relatively cheap check but if you care about maximum
 	  performance, say N.
 
+config ARCH_WANT_FRAME_POINTERS
+	bool
+       help
+        Select this config option from the architecture Kconfig, if it
+        it is preferred to always enable frame pointers on the architecture.
+
 config FRAME_POINTER
 	bool "Compile the kernel with frame pointers"
 	depends on DEBUG_KERNEL && \
-- 
Jeff Mahoney
SUSE Labs