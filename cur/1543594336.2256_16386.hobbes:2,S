Date: Fri, 15 Jun 2001 21:16:04 +0400
From: Alexandr Andreev <>
Subject: Re: Using cramfs as root filesystem on diskless machine
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/6/15/56

Hi, David.
David Woodhouse wrote:
>Where does the bootloader get the initrd from?
>
Bootloader only jumps to the kernel entry point. The initrd image is 
compiled
inside the kernel. ( special section in the ELF kernel binary )
.config:
...
CONFIG_BLK_DEV_RAM=y
CONFIG_BLK_DEV_RAM_SIZE=8192
CONFIG_BLK_DEV_INITRD=y
...
If 'root=/dev/ram' option is set in command line, the root file system 
will bi in
RAM. When the linux kernel is booting, it tries to identify_ramdisk_image()
( at drivers/block/rd.c ). So it can only understand ext2, minix, romfs,
and gzipped images. But what about cramfs? How can i use a cramfs image 
to mount
it as my root file system? Is any patches to the rd.c requiried?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/