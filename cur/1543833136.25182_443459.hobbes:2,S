Date: Tue, 11 Jul 2006 23:10:53 -0700 (PDT)
From: Dave Olson <>
Subject: Re: [PATCH 2/2] Initial generic hypertransport interrupt support.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/12/23

On Tue, 11 Jul 2006, Eric W. Biederman wrote:
| There is a hypertransport capability that implements a rough equivalent
| of a per device ioapic.  It is quite similar to MSI but with a different
| register level interface.
It's really just the same as MSI, and is set up and handled pretty
much the same way.
| Since native hypertransport devices do not implement a pin emulation mode
| as native pci express devices do so if you want an interrupt you must support
| the native hypertransport method.
Right.
| The pathscale ipath-ht400 driver already in the kernel tree uses these
| and uses so an ugly hack to make work that broke in the last round of
| the msi cleanups.  I also know of a driver under development for a
| device that uses these as well.
Umm, it's not broken by any of the the MSI cleanups, at least
through last week's 2.6.18.
| So I want to use this so I can get irqs from native hypertransport
| devices.
This part I never really quite understood.  Why do you want a separate
interface than the existing request_irq() and pci_enable_msi()?  Yes,
there needs to be some HT-specific implementation behind it, but I
don't see a reason for a whole new interface.  Most of the rest of
the HT stuff is setup via the pci_* functions, so why not the interrupts?
Dave Olson
olson@unixfolk.com
http://www.unixfolk.com/dave
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/