Date: Mon, 27 Feb 2006 09:57:37 +1030 (CST)
From: Jonathan Woithe <>
Subject: Re: 2.6.15-rt16: possible sound-related side-effect
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/26/205

Hi Steve
> > I finally got around to doing this and the first two dumps are at the
> > end of this message.  Many many more were sent to the logs though - as
> > one would expect, since we know that in the fault condition this function
> > is called very frequently without any end in site.
> 
> Thanks, it didn't find the bug for me, but it did get me a better idea of
> what it's doing.  Now that you modified the kernel, I hope you are
> comfortable in doing more of that :)
As I said, this issue first came to light while I worked on an ALSA driver
patch.  I'm fine with patches. :)
> Remove the dump stack, and apply the following patch (should work with
> both -rt16 and -rt17).  This is _not_ a bug fix (obviously) but will do
> a lot more prints.  I don't know how many interrupts this driver produces
> so beware that this can really fill the logs.
FYI it applied with some manual intervention against -rt16.  I ran out of
time to try -rt17 though.  It'll be a day or so before I get to that.
The minor problem is that with the patch applied I was unable to trigger the
bug.  I then went back to what I *think* was a totally unmodified 2.6.15-rt16
tree, recompiled that from scratch and was then unable to reproduce the
problem with that one either.
Now, this was quite late last night and there were a few other strange
issues occuring at the same time, so before declaring this whole thing the
result of an out-of-sync kernel compile I want to do everything again from
scratch (especially since I can't quite see how things could have gotten out
of sync).  I'll also test -rt17 for completeness.
Another possibility is that it's CVS-alsa which is doing something odd to
the hardware.  I'll test for this as well.
I'll try to do all this tonight, so hopefully by tomorrow I'll have some
definitive news one way or the other.
Regards
  jonathan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/