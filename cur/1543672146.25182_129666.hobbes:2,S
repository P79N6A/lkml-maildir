Date: Mon, 5 May 2003 02:43:01 +0200
From: Ricardo Galli <>
Subject: BUG: cpufreq_proc_read give prematures eof for /proc/cpufreq (in 2.4.x-ac and 2.5)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/4/123

If a process reads from /proc/cpufreq with a small buffer, i.e. count < 
len, the function return always eof because len is always zero if the 
offset is > 0:
static int cpufreq_proc_read (
    char            *page,
...
{
    char            *p = page;
...
    if (off != 0)
        goto end;
    ...
end:
    len = (p - page);
where p = page.
Is this bug intentional to avoid overload or it's really a mistake?
PS: there is an obvious fix, I didn't attached to avoid you flaming me. 
:-)
    
-- 
  ricardo galli       GPG id C8114D34
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/