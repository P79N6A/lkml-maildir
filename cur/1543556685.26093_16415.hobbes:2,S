Date: Thu, 07 Dec 2000 10:46:09 +1100
From: Keith Owens <>
Subject: Re: linux-2.4.0-test11 and sysklogd-1.3-31
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/12/6/115

On Wed, 6 Dec 2000 17:24:58 -0500 (EST), 
"Georg Nikodym" <georgn@somanetworks.com> wrote:
>sysklogd 1.3-31 no longer compiles using the latest headers in test11.
>
>Strictly speaking this isn't a kernel bug...
>
>sysklogd's ksym_mod.c includes <linux/module.h>
Speaking as the modutils maintainer and the person who added list.h to
module.h, sysklogd should *not* be including linux/module.h.  Linus has
spoken, it is an error for user space applications to include kernel
headers.  Even modutils does not include linux/module.h, instead it has
a portable (2.0 through 2.4) local definition of struct module.
ksym_mod.c is only present to try to decode oops reports in klogd.
klogd only handles some architectures, it often gets the oops decode
wrong and it destroys the log information that is needed by other oops
decoders.  IMNSHO ksymoops does a much better job of decoding the oops,
but I maintain ksymoops so I am just a little biased ;)
I would prefer to see the oops decoding completely removed from klogd.
The only justification for klogd converting the oops is to save users
from running ksymoops by hand.  I would not mind klogd capturing the
oops text, forking to run ksymoops then logging the ksymoops output.
Just as along as the original text was left alone and the ksymoops
output was obviously distinguished from real kernel output.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/