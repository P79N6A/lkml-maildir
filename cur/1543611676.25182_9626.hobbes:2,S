Date: Sat, 1 Dec 2001 12:05:41 -0800
From: David Hinds <>
Subject: Re: in-kernel pcmcia oopsing in SMP
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/1/227

On Sat, Dec 01, 2001 at 02:21:33PM -0500, Ian Morgan wrote:
> On a few SMP boxes here, with kernels from about 2.4.14 though 2.4.17-pre2,
> the system locks up hard during heavy wireless I/O.
The bug pretty much has to be in the orinoco driver; I'm not sure how
much stress testing it has had on SMP.
> (Some have said the kernel pcmcia stuff is still immature, but Hinds'
> pcmcia-cs package doesn't work at all for me. It's ds.o keeps oopsing when
> insmod'ed, so I can't even try it.)
I did fix one major SMP bug in the pcmcia-cs drivers just a couple
days ago; the beta at 
http://pcmcia-cs.sourceforge.net/ftp/NEW
 has the
fix.  I'm not sure if it is really the same bug you describe, though,
since no one else has reported the ds module causing an immediate
oops.
The standalone drivers are unlikely to help, though, because the
orinoco_cs driver in the standalone package is virtually identical to
the one in the current 2.4.* kernel.
Actually, though, you could try the (older) wvlan_cs driver in the
pcmcia-cs package.  You can do that with your current kernel drivers,
even.  Unpack the pcmcia-cs package, do "make config", then cd to the
wireless subdirectory and do a "make" there.  That should build a
wvlan_cs module that will mesh with your kernel PCMCIA subsystem.  It
will at least give you another data point.
I don't know how to interpret your oops report; you should probably
also forward the bug to David Gibson, hermes@gibson.dropbear.id.au,
since he is the orinoco maintainer.
-- Dave
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/