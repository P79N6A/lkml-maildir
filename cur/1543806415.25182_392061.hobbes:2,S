Date: Tue, 31 Jan 2006 23:39:17 +0000
From: Richard Purdie <>
Subject: Re: [PATCH 10/11] LED: Add IDE disk activity LED trigger
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/31/280

On Wed, 2006-02-01 at 09:08 +1100, Benjamin Herrenschmidt wrote:
> > Isn't ->end_request hook in ide_driver_t enough?
> > 
> > I see no reason why the custom ->end_request function cannot
> > be added to ide-disk.  All needed infrastructure is there.
> 
> I'm not sure ide-disk is the right spot ... what if one wants LEDs for
> CD-ROMs or other IDE devices like flash cards ?
Flash cards mainly go through ide-cs which uses ide-disk.
There are several options:
1. Have the trigger on ide-disk activity (confined to ide-disk.c).
2. Have the trigger on ide-io activity (confined to ide-io.c).
3. Do something else.
4. Don't add disk activity (or any?) triggers in mainline.
Thanks to a generic API, adding triggers anywhere is fairly trivial but
probably not without controversy so they need to be carefully placed, if
at all.
We could always wait and see which of the above there is demand for. I
suspect options 1 or 2 would cover most people's needs. We're never
going to satisfy everyone (but anyone is free to apply simple patches to
get their desired trigger).
I'd rather go with option 4 than block all the led class/driver code
over any controversial triggers.
Richard
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/