Date: Thu, 7 Apr 2005 20:53:30 +0200
From: Magnus Damm <>
Subject: Re: [PATCH][RFC] disable built-in modules V2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/7/206

On Apr 7, 2005 7:29 PM, Randy.Dunlap <rddunlap@osdl.org> wrote:
> On Thu, 7 Apr 2005 13:22:57 -0400 (EDT) Richard B. Johnson wrote:
> | Can't you disable module-loading with a module? I think so.
> | You don't need to modify the kernel. Boot-scripts could
> | just load the "final" module and there is nothing that
> | can be done to add another module (or even unload existing
> | ones).
> 
> Sounds likely, but that's not what the patch from Magnus is
> even trying to do.  It's purely for boot-time selection of
> troublesome modules or devices AFAICT.  I've had a few
> occasions to use something like this -- or rebuild a kernel
> or remove a device.
Yes, the idea is to be able to disable misbehaving built-in modules
from the kernel command line. The alternative is of course to disable
the code using the kernel configuration system and rebuild the kernel.
Say a kernel shipped with your favourite distribution crashes your
machine during boot-up - wouldn't it be nice to be able to just
disable the problematic module from the kernel command line instead of
(1) getting the config, (2) getting the distribution-specific patches,
(3) rebuilding the kernel. And if you are lucky you need to (0) setup
a cross compiler and (4) get your hands on a suitable initrd.
/ magnus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/