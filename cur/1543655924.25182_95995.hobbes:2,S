Date: Thu, 12 Dec 2002 20:09:52 -0800
From: Andrew Morton <>
Subject: Re: [2.5.51] Failure to mount ext3 root when ext2 compiled in
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/12/12/243

Rusty Russell wrote:
> 
> Just noticed this (usually ext2 is compiled as a module, but was
> testing a patch with CONFIG_MODULES=n).  Reverted to plain 2.5.51, and
> it's still there:
> 
>         VFS: Cannot open root device "301" or 03:01
>         Please append a correct "root=" boot option
>         Kernel panic: VFS: Unable to mount root fs on 03:01
> 
> Now, I have an ext3 root, but when CONFIG_EXT3_FS=y and
> CONFIG_EXT2_FS=y, I get this failure.  Turning off CONFIG_EXT2_FS
> "fixes" it.
> 
In the past year I've booted about 1,000,000,000 kernels with
CONFIG_EXT2_FS=y and CONFIG_EXT3_FS=y.  Across that period, 
maybe five or ten times I have seen this problem.
As soon as I get down to debug it it goes away.  I once traced it
as far as seeing ext3_fill_super() return failure, then I lost it.
Rebuilding the kernel, even if you "didn't change anything" makes
it go away.
I assume that in your case a `make clean' will not fix it.   You
lucky duck.   Can you stick a printk right at the end of
ext3_fill_super()?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/