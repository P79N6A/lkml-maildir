Date: Fri, 15 Jan 1999 11:14:23 +0100 (CET)
From: Jakub Jelinek <>
Subject: Re: Compilation problems with 2.2.0pre7ac4 (intel/sparc)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/15/38

> Now for a couple of errors for the sparc:
> gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -m32 -pipe -mno-fpu -fcall-used-g5 -fcall-used-g7   -c -o faddd.o faddd.c
> faddd.c: In function `FADDD':
> faddd.c:8: warning: left shift count is negative
> faddd.c:9: warning: left shift count is negative
> faddd.c:11: warning: right shift count is negative
> faddd.c:11: warning: left shift count >= width of type
...
> gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -m32 -pipe -mno-fpu -fcall-used-g5 -fcall-used-g7   -c -o fdtoi.o fdtoi.c
> fdtoi.c: In function `FDTOI':
> fdtoi.c:9: warning: left shift count is negative
> fdtoi.c:10: warning: left shift count >= width of type
> fdtoi.c:10: warning: left shift count >= width of type
> fdtoi.c:7: warning: `r' might be used uninitialized in this function
> ...
These are harmless and cannot be fixed if we don't replace the whole
math-emu library, which is probably not needed just because there are
warnings. The math-emu library uses deep preprocessor recursion and stuff
like that, so that just changing a couple of defines creates different
IEEE types (32bit, 64bit, 128bit).
> fs/filesystems.a(proc.o): In function `mem_read':
> proc.o(.text+0x1e58): undefined reference to `pte_read'
And this is just because you probably have not applied the sparc megapatch
(ftp.kernel.org/pub/linux/kernel/davem/sparc*.diff).
Cheers,
    Jakub
___________________________________________________________________
Jakub Jelinek | jj@sunsite.mff.cuni.cz | 
http://sunsite.mff.cuni.cz
Administrator of SunSITE Czech Republic, MFF, Charles University
___________________________________________________________________
UltraLinux  |  
http://ultra.linux.cz/
  |  
http://ultra.penguin.cz/
Linux version 2.2.0-pre6 on a sparc64 machine (3958.37 BogoMips)
___________________________________________________________________
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/