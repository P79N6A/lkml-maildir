Date: Thu, 06 Jan 2000 06:26:01 -0600
From: "George R. Kasica" <>
Subject: HELP: ANOTHER 6 JAN 2000 Kernel OOPS running under 2.2.14 now
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/6/65

Alan:
Here's another one about 45 minutes later. Got dmesg this time too.
This is getting very discouraging, do you have any suggestions of how
I can get this system stable again?
George
OOPS:
-----
Jan  6 06:08:29 eagle kernel: kmem_free: Bad obj addr (objp=cf76c9a0,
name=skbuf
f_head_cache)
Jan  6 06:08:29 eagle kernel: Unable to handle kernel NULL pointer
dereference a
t virtual address 00000000
Jan  6 06:08:29 eagle kernel: current->tss.cr3 = 0c2bf000, %cr3 =
0c2bf000
Jan  6 06:08:29 eagle kernel: *pde = 00000000
Jan  6 06:08:29 eagle kernel: Oops: 0002
Jan  6 06:08:29 eagle kernel: CPU:    0
Jan  6 06:08:29 eagle kernel: EIP:    0010:[kmem_cache_free+320/360]
Jan  6 06:08:29 eagle kernel: EFLAGS: 00010286
Jan  6 06:08:29 eagle kernel: eax: 00000043   ebx: cf76c9a0
ecx: ffffffff   ed
x: 0000003c
Jan  6 06:08:29 eagle kernel: esi: cffef920   edi: 00000286
ebp: cd5a132c   es
p: ccc01dcc
Jan  6 06:08:29 eagle kernel: ds: 0018   es: 0018   ss: 0018
Jan  6 06:08:29 eagle kernel: Process sendmail (pid: 792, process nr:
72,
stackp
age=ccc01000)
Jan  6 06:08:29 eagle kernel: Stack: cf76c9fc cd5a132c 00000000
cd5a1270
0000000
2 c016dfbb cd5a11c0 cccd5280
Jan  6 06:08:29 eagle kernel:        cf76c5e0 c015cfcf cffef920
cf76c9a0
0000028
2 cccd5280 cf76c9a0 ccc01f60
Jan  6 06:08:29 eagle kernel:        000001f4 c015d4f0 40015000
cf730054
000001f
4 c015d083 cf76c9a0 000001f4
Jan  6 06:08:29 eagle kernel: Call Trace: [tcp_write_xmit+351/420]
[kfree_skbmem
+59/76] [memcpy_toiovec+60/104] [__kfree_skb+163/172]
[tcp_recvmsg+949/1236] [tc
p_recvmsg+661/1236] [inet_recvmsg+123/148]
Jan  6 06:08:29 eagle kernel:        [do_anonymous_page+45/128]
[sock_recvmsg+65
/184] [do_no_page+54/212] [handle_mm_fault+200/316]
[sock_read+132/148]
[sys_rea
d+178/208] [error_code+45/52] [system_call+52/56]
Jan  6 06:08:29 eagle kernel: Code: c7 05 00 00 00 00 00 00 00 00 eb
12 83
c4 fc
 56 53 68 3e c3
DMESG:
------
Linux version 2.2.14 (root@eagle.netwrx1.com) (gcc version 2.95.2
19991024 (release)) #1 Wed Jan 5 19:26:43 CST 2000
Detected 334095208 Hz processor.
Console: colour VGA+ 80x25
Calibrating delay loop... 333.41 BogoMIPS
Memory: 257688k/262080k available (1140k kernel code, 412k reserved,
2800k data, 40k init)
Dentry hash table entries: 32768 (order 6, 256k)
Buffer cache hash table entries: 262144 (order 8, 1024k)
Page cache hash table entries: 65536 (order 6, 256k)
VFS: Diskquotas version dquot_6.4.0 initialized
CPU: Intel Celeron (Mendocino) stepping 00
Checking 386/387 coupling... OK, FPU using exception 16 error
reporting.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
PCI: PCI BIOS revision 2.10 entry at 0xf08b0
PCI: Using configuration type 1
PCI: Probing PCI hardware
Linux NET4.0 for Linux 2.2
Based upon Swansea University Computer Society NET3.039
NET4: Unix domain sockets 1.0 for Linux NET4.0.
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP
TCP: Hash tables configured (ehash 262144 bhash 65536)
Starting kswapd v 1.5 
Detected PS/2 Mouse Port.
Serial driver version 4.27 with no serial options enabled
ttyS00 at 0x03f8 (irq = 4) is a 16550A
ttyS01 at 0x02f8 (irq = 3) is a 16550A
ttyS02 at 0x03e8 (irq = 4) is a 16550A
pty: 256 Unix98 ptys configured
Linux video capture interface: v1.00
Connectix Colour Quickcam driver v0.02
request_module[parport_lowlevel]: Root fs not mounted
request_module[parport_lowlevel]: Root fs not mounted
PIIX4: IDE controller on PCI bus 00 dev 21
PIIX4: not 100% native mode: will probe irqs later
    ide0: BM-DMA at 0xd800-0xd807, BIOS settings: hda:DMA, hdb:DMA
    ide1: BM-DMA at 0xd808-0xd80f, BIOS settings: hdc:DMA, hdd:pio
hda: SAMSUNG SV0844A, ATA DISK drive
hdb: FX240S, ATAPI CDROM drive
hdc: WDC AC32500H, ATA DISK drive
ide2: ports already in use, skipping probe
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
ide1 at 0x170-0x177,0x376 on irq 15
hda: SAMSUNG SV0844A, 8063MB w/220kB Cache, CHS=1027/255/63, UDMA
hdc: Disabling (U)DMA for WDC AC32500H
hdc: DMA disabled
hdc: WDC AC32500H, 2441MB w/128kB Cache, CHS=4960/16/63
hdb: ATAPI 24X CD-ROM drive, 256kB Cache
Uniform CDROM driver Revision: 2.56
Floppy drive(s): fd0 is 1.44M
FDC 0 is a post-1991 82077
(scsi0) <Adaptec AIC-7850 SCSI host adapter> found at PCI 9/0
(scsi0) Narrow Channel, SCSI ID=7, 3/255 SCBs
(scsi0) Warning - detected auto-termination
(scsi0) Please verify driver detected settings are correct.
(scsi0) If not, then please properly set the device termination
(scsi0) in the Adaptec SCSI BIOS by hitting CTRL-A when prompted
(scsi0) during machine bootup.
(scsi0) Cables present (Int-50 YES, Ext-50 YES)
(scsi0) Downloading sequencer code... 406 instructions downloaded
scsi0 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI)
5.1.21/3.2.4
       <Adaptec AIC-7850 SCSI host adapter>
scsi : 1 host.
  Vendor: SEAGATE   Model: ST32550N          Rev: 0021
  Type:   Direct-Access                      ANSI SCSI revision: 02
Detected scsi disk sda at scsi0, channel 0, id 1, lun 0
(scsi0:0:1:0) Using asynchronous transfers.
  Vendor: HP        Model: C1553A            Rev: NS01
  Type:   Sequential-Access                  ANSI SCSI revision: 02
Detected scsi tape st0 at scsi0, channel 0, id 3, lun 0
(scsi0:0:3:0) Using asynchronous transfers.
  Vendor: HP        Model: C1553A            Rev: NS01
  Type:   Medium Changer                     ANSI SCSI revision: 02
scsi : detected 1 SCSI tape 1 SCSI disk total.
SCSI device sda: hdwr sector= 512 bytes. Sectors= 4194058 [2047 MB]
[2.0 GB]
PPP: version 2.3.7 (demand dialling)
TCP compression code copyright 1989 Regents of the University of
California
PPP line discipline registered.
3c59x.c:v0.99H 11/17/98 Donald Becker
http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html
eth0: 3Com 3c905B Cyclone 100baseTx at 0xb800,  00:50:04:9b:1e:81, IRQ
11
  8K byte-wide RAM 5:3 Rx:Tx split, autoselect/Autonegotiate
interface.
  MII transceiver found at address 24, status 786d.
  MII transceiver found at address 0, status 786d.
  Enabling bus-master transmits and whole-frame receives.
Partition check:
 sda: sda1 sda2
 hda: hda1 hda2 hda3
 hdc: [PTBL] [620/128/63] hdc1
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 40k freed
kmem_free: Bad obj addr (objp=cf76c9a0, name=skbuff_head_cache)
Unable to handle kernel NULL pointer dereference at virtual address
00000000
current->tss.cr3 = 0c2bf000, %cr3 = 0c2bf000
*pde = 00000000
Oops: 0002
CPU:    0
EIP:    0010:[<c011eb74>]
EFLAGS: 00010286
eax: 00000043   ebx: cf76c9a0   ecx: ffffffff   edx: 0000003c
esi: cffef920   edi: 00000286   ebp: cd5a132c   esp: ccc01dcc
ds: 0018   es: 0018   ss: 0018
Process sendmail (pid: 792, process nr: 72, stackpage=ccc01000)
Stack: cf76c9fc cd5a132c 00000000 cd5a1270 00000002 c016dfbb cd5a11c0
cccd5280 
       cf76c5e0 c015cfcf cffef920 cf76c9a0 00000282 cccd5280 cf76c9a0
ccc01f60 
       000001f4 c015d4f0 40015000 cf730054 000001f4 c015d083 cf76c9a0
000001f4 
Call Trace: [<c016dfbb>] [<c015cfcf>] [<c015d4f0>] [<c015d083>]
[<c016a40d>] [<c016a2ed>] [<c0177817>] 
       [<c011938d>] [<c015ac55>] [<c0119416>] [<c011957c>]
[<c015ad5c>] [<c012306a>] [<c0107b55>] [<c0107a50>] 
Code: c7 05 00 00 00 00 00 00 00 00 eb 12 83 c4 fc 56 53 68 3e c3 
KSYMOOPS:
---------
ksymoops 0.7c on i686 2.2.14.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.2.14/ (default)
     -m /boot/System.map (specified)
No modules in ksyms, skipping objects
Warning (read_lsmod): no symbols in lsmod, is /proc/modules a valid
lsmod file?
Unable to handle kernel NULL pointer dereference at virtual address
00000000
current->tss.cr3 = 0c2bf000, %cr3 = 0c2bf000
*pde = 00000000
Oops: 0002
CPU:    0
EIP:    0010:[<c011eb74>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010286
eax: 00000043   ebx: cf76c9a0   ecx: ffffffff   edx: 0000003c
esi: cffef920   edi: 00000286   ebp: cd5a132c   esp: ccc01dcc
ds: 0018   es: 0018   ss: 0018
Process sendmail (pid: 792, process nr: 72, stackpage=ccc01000)
Stack: cf76c9fc cd5a132c 00000000 cd5a1270 00000002 c016dfbb cd5a11c0
cccd5280 
       cf76c5e0 c015cfcf cffef920 cf76c9a0 00000282 cccd5280 cf76c9a0
ccc01f60 
       000001f4 c015d4f0 40015000 cf730054 000001f4 c015d083 cf76c9a0
000001f4 
Call Trace: [<c016dfbb>] [<c015cfcf>] [<c015d4f0>] [<c015d083>]
[<c016a40d>] [<c016a2ed>] [<c0177817>] 
       [<c011938d>] [<c015ac55>] [<c0119416>] [<c011957c>]
[<c015ad5c>] [<c012306a>] [<c0107b55>] [<c0107a50>] 
Code: c7 05 00 00 00 00 00 00 00 00 eb 12 83 c4 fc 56 53 68 3e c3 
>>EIP; c011eb74 <kmem_cache_free+140/168>   <=====
Trace; c016dfbb <tcp_write_xmit+15f/1a4>
Trace; c015cfcf <kfree_skbmem+3b/4c>
Trace; c015d4f0 <memcpy_toiovec+3c/68>
Trace; c015d083 <__kfree_skb+a3/ac>
Trace; c016a40d <tcp_recvmsg+3b5/4d4>
Trace; c016a2ed <tcp_recvmsg+295/4d4>
Trace; c0177817 <inet_recvmsg+7b/94>
Trace; c011938d <do_anonymous_page+2d/80>
Trace; c015ac55 <sock_recvmsg+41/b8>
Trace; c0119416 <do_no_page+36/d4>
Trace; c011957c <handle_mm_fault+c8/13c>
Trace; c015ad5c <sock_read+84/94>
Trace; c012306a <sys_read+b2/d0>
Trace; c0107b55 <error_code+2d/34>
Trace; c0107a50 <system_call+34/38>
Code;  c011eb74 <kmem_cache_free+140/168>
00000000 <_EIP>:
Code;  c011eb74 <kmem_cache_free+140/168>   <=====
   0:   c7 05 00 00 00    movl   $0x0,0x0   <=====
Code;  c011eb79 <kmem_cache_free+145/168>
   5:   00 00 00 00 00 
Code;  c011eb7e <kmem_cache_free+14a/168>
   a:   eb 12             jmp    1e <_EIP+0x1e> c011eb92
<kmem_cache_free+15e/168>
Code;  c011eb80 <kmem_cache_free+14c/168>
   c:   83 c4 fc          addl   $0xfffffffc,%esp
Code;  c011eb83 <kmem_cache_free+14f/168>
   f:   56                pushl  %esi
Code;  c011eb84 <kmem_cache_free+150/168>
  10:   53                pushl  %ebx
Code;  c011eb85 <kmem_cache_free+151/168>
  11:   68 3e c3 00 00    pushl  $0xc33e
1 warning issued.  Results may not be reliable.
George
===[George R. Kasica]===        +1 262 513 8503
President                       +1 206 374 6482 FAX 
Netwrx Consulting Inc.          Waukesha, WI USA 
http://www.netwrx1.com
georgek@netwrx1.com
ICQ #12862186
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/