Date: Tue, 25 Sep 2001 09:35:31 -0600
From: "Justin T. Gibbs" <>
Subject: Re: Kernel Panic New Adaptec - Old Adaptec Works
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/25/281

>Hello,
>
>I am running a dual PIII 933 VIA based motherboard (Gigabyte 6VXDC7). 
>I have two Seagate Cheetah HDs, and two SCSI cdroms.  There are no IDE 
>devices anywhere in the system, and no support is compiled in the kernel or 
>as a module for IDE.
>
>Kernel 2.4.7 works perfectly.  I cannot get 2.4.10 to work with the new aha 
>driver compiled into the kernel.  Below is what I was able to capture of the 
>output 
You need to disable all of the "speed up my PCI bus even though it violates
the spec) options in your BIOS.  The old driver issues a PCI read after
every device write to overcome such silliness in broken BIOSes/chipsets.
The new driver only issues a read (to flush writes) when synchronization
is required.  The workaround used in the old driver has too high of a 
performance penalty which is why the new driver does not do it.
--
Justin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/