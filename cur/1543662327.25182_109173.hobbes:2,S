Date: Wed, 12 Feb 2003 12:36:29 -0800
From: Andrew Morton <>
Subject: Re: unable to mount 'remote' loopback block devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/12/235

Siim Vahtre <siim@pld.ttu.ee> wrote:
>
> 
> Hi,
> 
> When I try to mount a 'remote' image (on NFS/samba share) I get
> "ioctl: LOOP_SET_FD: Inappropriate ioctl for device"
> 
> However, when I copy that same image to local hd, it works.
> 
> 2.5.59 and 2.5.60 both have the same problem, 2.4 was OK.
This broke when the loop driver was converted to use the backing
filesystems's sendfile operation.  NFS, SMBFS and CIFS (at least) do not
implement sendfile, so none of them can now be looped upon.
Trond says we can get NFS sendfile working pretty easily.  As for the others,
we may need to revert the loop change.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/