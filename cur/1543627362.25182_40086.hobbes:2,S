Date: 12 Apr 2002 13:48:53 -0700
From: "H. Peter Anvin" <>
Subject: Re: [Q] Looking for an emulation for CMOV* instructions.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/12/123

Followup to:  <20020112062735.D511@toy.ucw.cz>
By author:    Pavel Machek <pavel@suse.cz>
In newsgroup: linux.dev.kernel
>
> HI!
> 
> > > is it possible to include an emulation for the CMOV* (and possible other
> > > i686 instructions) for processors that dont have these (k6, pentium
> > > etc.)? I think this should work like the fpu emulation. Even if its slow
> > 
> > The kernel isnt there to fix up the fact authors can't read. Its also very
> > hard to get emulations right. I grant that this wasn't helped by the fact
> > the gcc x86 folks also couldnt read the pentium pro manual correctly.
> 
> How long does it take until netscape binaries contain CMOV? We already do
> FPU emulation (you can do soft-float, so you do NOT need FP emulation!), so
> I guess this would begood freature.
> 
The difference is that the overhead of doing FP emulation is
acceptable when compared to softfloat; this is not the case for CMOV
unless you can somehow patch the binary on the fly.
At some point it might make sense to run "the one program" that you
otherwise can't live without, but I don't think it's gotten to that
stage yet.  Which is, in some ways, unfortunate.
	-hpa
-- 
<hpa@transmeta.com> at work, <hpa@zytor.com> in private!
"Unix gives you enough rope to shoot yourself in the foot."
http://www.zytor.com/~hpa/puzzle.txt
	<amsp@zytor.com>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/