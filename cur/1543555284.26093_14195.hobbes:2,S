Date: Tue, 21 Nov 2000 00:32:09 -0600
From: Peter Samuelson <>
Subject: Re: [PATCH] 2.2.18pre21: DRM update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/11/21/51

[Chip Salzenberg]
> --- drivers/char/Makefile.prev
> +++ drivers/char/Makefile	Fri Nov 17 13:30:04 2000
> @@ -12,5 +12,5 @@
>  SUB_DIRS     := 
>  MOD_SUB_DIRS := $(SUB_DIRS)
> -ALL_SUB_DIRS := $(SUB_DIRS) rio ftape joystick drm agp
> +ALL_SUB_DIRS := $(SUB_DIRS) rio ftape joystick
> 
>  #
> @@ -395,4 +395,16 @@
>  endif
> 
> +ifeq ($(CONFIG_DRM),y)
> +O_OBJS += drm/drm.o
> +ALL_SUB_DIRS += drm
> +MOD_SUB_DIRS += drm
The bits about ALL_SUB_DIRS are trivially wrong.  You should define it
unconditionally -- that way the user doesn't have to 'make dep' after
every 'make *config'.
Not a very important point, granted.
>  #ifndef __HAVE_ARCH_CMPXCHG
>  				/* Include this here so that driver can be
>                                     used with older kernels. */
> +#if defined(__alpha__)
This section ought to be in include/asm-{alpha,i386}/system.h like in
2.4 (and like sparc64 in 2.2).  Then again, perhaps in 2.2 it is best
to let sleeping dogs lie.
Peter
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/