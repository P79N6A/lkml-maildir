Date: Mon, 29 Nov 1999 02:12:37 +0100
From: Wolfgang Teichmann <>
Subject: 2.2.14pre9/ACARD
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/28/56

Hello,
Many thanks to Alan Cox and the ACARD people for working on the ACARD
driver.
1.
The driver for my Advance 2941U Ultra-SCSI Controller
(ACARD/AEC6712U/ATP870UW-C)
is loaded now without problems as a module:
: aec671x_detect:
:    ACARD AEC-671X PCI Ultra/W SCSI-3 Host Adapter: 0    IO:e400,
IRQ:11.
:          ID:  2  YAMAHA  CRW6416S        1.0c
:          ID:  3  HP      C6270A          3828
:          ID:  6  iomega  jaz 1GB         H.71
:          ID:  7  Host Adapter
: scsi0 : ACARD AEC-6710/6712 PCI Ultra/W SCSI-3 Adapter Driver V2.0+ac
: scsi : 1 host.
:   Vendor: YAMAHA    Model: CRW6416S          Rev: 1.0c
:   Type:   CD-ROM                             ANSI SCSI revision: 02
: Detected scsi CD-ROM sr0 at scsi0, channel 0, id 2, lun 0
:   Vendor: HP        Model: C6270A            Rev: 3828
:   Type:   Processor                          ANSI SCSI revision: 02
: Detected scsi generic sgb at scsi0, channel 0, id 3, lun 0
:   Vendor: iomega    Model: jaz 1GB           Rev: H.71
:   Type:   Direct-Access                      ANSI SCSI revision: 02
: Detected scsi removable disk sda at scsi0, channel 0, id 6, lun 0
: sr0: scsi3-mmc drive: 16x/16x writer cd/rw xa/form2 cdda tray
: SCSI device sda: hdwr sector= 512 bytes. Sectors= 2091050 [1021 MB]
[1.0 GB]
: sda: Write Protect is off
:  sda: sda1
2.
Playing with Yamaha CDRW and Jaz drive: no problems, but
after playing a little bit with my HP scanner - SANE/XSANE -
(which has worked with no problems with my old NCR scsi adapter):
: scsi : aborting command due to timeout : pid 83763, scsi0, channel 0,
id 3, lun 0 Test Unit Ready 00 00 00 00 00
.
.
.
: scsi : aborting command due to timeout : pid 83763, scsi0, channel 0,
id 3, lun 0 Test Unit Ready 00 00 00 00 00
: SCSI host 0 abort (pid 83763) timed out - resetting
: SCSI bus is being reset for host 0 channel 0.
: SCSI host 0 channel 0 reset (pid 83763) timed out - trying harder
: SCSI bus is being reset for host 0 channel 0.
After restarting the PC and playing again with HP scanner for some time:
no problems.
Hm?
3.
There seems to be a little problem when compiling the ACARD driver
resident:
make -C scsi
make[2]: Entering directory `/usr/src/linux-2.2.14pre9/drivers/scsi'
make all_targets
make[3]: Entering directory `/usr/src/linux-2.2.14pre9/drivers/scsi'
gcc -D__KERNEL__ -I/usr/src/linux-2.2.14pre9/include -Wall
-Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
-fno-strength-reduce -m486 -malign-loops=2 -malign-jumps=2
-malign-functions=2 -DCPU=686   -DEXPORT_SYMTAB -c scsi_syms.c
gcc -D__KERNEL__ -I/usr/src/linux-2.2.14pre9/include -Wall
-Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
-fno-strength-reduce -m486 -malign-loops=2 -malign-jumps=2
-malign-functions=2 -DCPU=686   -c -o scsi.o scsi.c
rm -f scsi_n_syms.o
ld -m elf_i386  -r -o scsi_n_syms.o scsi_syms.o scsi.o
gcc -D__KERNEL__ -I/usr/src/linux-2.2.14pre9/include -Wall
-Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe
-fno-strength-reduce -m486 -malign-loops=2 -malign-jumps=2
-malign-functions=2 -DCPU=686   -c -o hosts.o hosts.c
hosts.c:561: `proc_scsi_atp870u' undeclared here (not in a function)
hosts.c:561: initializer element for `builtin_scsi_hosts[0].proc_dir' is
not constant
hosts.c:561: initializer element for `builtin_scsi_hosts[0]' is not
constant
make[3]: *** [hosts.o] Error 1
make[3]: Leaving directory `/usr/src/linux-2.2.14pre9/drivers/scsi'
make[2]: *** [first_rule] Error 2
make[2]: Leaving directory `/usr/src/linux-2.2.14pre9/drivers/scsi'
make[1]: *** [_subdir_scsi] Error 2
make[1]: Leaving directory `/usr/src/linux-2.2.14pre9/drivers'
make: *** [_dir_drivers] Error 2
regards,
           Wolfgang Teichmann
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/