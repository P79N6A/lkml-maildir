Date: Mon, 26 Feb 2007 20:14:15 -0800 (PST)
From: Davide Libenzi <>
Subject: Re: [patch] epoll reduced (to 1) number of passes over the ready set ...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/26/369

On Mon, 26 Feb 2007, Linus Torvalds wrote:
> On Mon, 26 Feb 2007, Davide Libenzi wrote:
> > 
> > Epoll is doing multiple passes over the ready set at the moment, because 
> > of the constraints over the f_op->poll() call. Looking at the code again, 
> > I noticed that we already hold the epoll semaphore in read, and this 
> > (together with other locking conditions that hold while doing an 
> > epoll_wait()) can lead to a smarter way to "ship" events to userspace (in 
> > a single pass).
> 
> Ok, this looks fine, but I think it makes more sense with (a) a sign-off 
> line and perhaps a slightly expanded explanation, and (b) keeping it in 
> -mm until after 2.6.21 is out, and merging it then.
> 
> Yes? No? Linus is on some crazy drugs again?
Let me do more testing. My post was to have more eyes looking at it. Once 
I feel confident about it, and if no objections come from review, I'll 
sign and repost.
- Davide
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/