Date: Sat, 7 Aug 1999 07:23:29 +0100 (BST)
From: "Robert de Bath" <>
Subject: Re: Intel x86 Kernel Console irregularity
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/8/1

1) You can set the screen to a known state with "vga=normal" in the boot 
   loader.
Now about your graphics card. 
Is it a very old CGA compatible card not a VGA card?
You see I've got an old 286 with an AT&T 6300 compatible card which can do
80x50 _but_ the VGA BIOS interrupts don't work so programs cannot tell if
the screen is in a nonstandard size.
The only way I've found to detect the size is to write newlines
through the BIOS until the BIOS scrolls the screen ... yuk!
It may be a good idea to map "vga=default" to "vga=normal" if the screen
is CGA, it's certain we don't want to use any of the other standard CGA 
modes!
-- 
Rob.                          (Robert de Bath <
http://poboxes.com/rdebath>
)
                    <rdebath @ poboxes.com> <
http://www.cix.co.uk/~mayday>
On Fri, 6 Aug 1999, Tom Gallagher wrote:
> I know this doesn't happen very often but:-
> 
> If the BIOS (or Boot ROM) leaves the screen not in the normal 80x25 text
> mode (in my case the screen was in 80x50 mode) then when the kernel boots it
> thinks the screen only has 25 lines so will scroll at line 25 rather than
> 50.  The console is then totally messed up and no amount of setfont will
> rectify the situation.  With the first few lines displaying not in the
> viewable screen area and ncurses programs complaining about invalid
> coordinates.
> 
> Perhaps it would be good if the kernel specifically sets the screen mode
> into a known state before booting.
> 
> Just a thought for you all.
> 
> >From Tom
> 
> 
> 
> 
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.rutgers.edu
> Please read the FAQ at 
http://www.tux.org/lkml/
> 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/