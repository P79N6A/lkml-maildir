Date: Mon, 21 Feb 2005 13:52:56 -0800
From: Nish Aravamudan <>
Subject: Re: [PATCH/RFC] A method for clearing out page cache
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/2/21/149

On Mon, 21 Feb 2005 14:27:21 -0500, Martin Hicks
<mort@wildopensource.com> wrote:
> 
> Hi,
> 
> I've made a bunch of changes that Paul suggested.  I've also responded
> to his concerns further down.  Paul correctly pointed out that this
> patch uses some helper functions that are part of the cpusets patch.  I
> should have mentioned this before.
<snip>
> This patch introduces a new sysctl for NUMA systems that tries to drop
> as much of the page cache as possible from a set of nodes.  The
> motivation for this patch is for setting up High Performance Computing
> jobs, where initial memory placement is very important to overall
> performance.
<snip>
> +       /* wait for the kernel threads to complete */
> +       while (atomic_read(&num_toss_threads_active) > 0) {
> +               __set_current_state(TASK_INTERRUPTIBLE);
> +               schedule_timeout(10);
> +       }
<snip>
Would it be possible to use msleep_interruptible() here? Or is it a
strict check every 10 ticks, regardless of HZ? Could a comment be
inserted indicating
which is the case?
Thanks,
Nish
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/