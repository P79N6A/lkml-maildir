Date: Fri, 15 Oct 1999 18:58:18 +0000
From: Thorsten Kranzkowski <>
Subject: Re: Workaround for NFS locking urgently needed
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/15/147

On Fri, Oct 15, 1999 at 07:32:27PM +0200, Torsten Landschoff wrote:
> [Please CC me any replies - I am unable to keep up with this list]
> Problem: 
> 
> Many programs do not work anymore when run on a NFS volume (e.g. /home...). 
> They block in an SETLK call to fcntl. I need to get everything working 
> without upgrading the server to 2.2.x.
> 
> Question: 
> 
> What can I do that locking is compatible with the 2.0 kernel installed before?
> I found two postings about the same problem in the archive, one of them with 
> a patch to the kernel. But I do not want to patch the kernel for this little 
> problem - is there a way I can run a dummy lockd on the server or something? 
> Or is 2.2.x needed for rpc.lockd? 
> 
> Thanks in advance
> 	Torsten
Hello,
if you aren't actually dependent on the locking, maybe you can just get away
with adding 'nolock' to the client's mount options. That also gets rid
of the 'RPC Error 111' messages you may see when mounting a NFS-volume where
no lockd is running.
Bye,
Thorsten
-- 
| Thorsten Kranzkowski            Snail: Niemannsweg 30, 49201 Dissen, Germany |
| Mobile: ++49 161 7210230         Inet: dl8bcu@gmx.net                        |
| Ampr: dl8bcu@db0nei.#nrw.deu.eu, dl8bcu@marvin.dl8bcu.ampr.org [44.130.8.19] |
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/