Date: Fri, 12 Oct 2001 16:26:34 +1000 (EST)
From: Paul Mackerras <>
Subject: Re: [Lse-tech] Re: RFC: patch to allow lock-free traversal of lists with
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/12/31

Albert D. Cahalan writes:
> This looks an awful lot like the PowerPC architecture.
> 
> In an SMP system, one would most likely mark pages as
> requiring coherency. This means that stores to a memory
> location from multiple processors will give sane results.
> Ordering is undefined when multiple memory locations are
> involved.
The current PowerPC Architecture spec actually has a paragraph that
says that where a processor does two loads and the second load depends
on the first (i.e. the result from the first load is used in computing
the address for the second load), that they have to be performed in
program order with respect to other processors.  In other cases you do
need a barrier as you say.
This constraint has evidently been added since the original PPC
architecture book was published.  I strongly doubt that any of the
older PPC implementations would violate that constraint though.
Paul.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/