Date: Tue, 25 Sep 2007 10:12:40 -0700
From: Randy Dunlap <>
Subject: Re: [PATCH 1/2] Documentation: move mandatory locking documentation to filesystems/
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/25/295

On Tue, 25 Sep 2007 12:55:51 -0400 J. Bruce Fields wrote:
> Shouldn't this mandatory-locking documentation be in the
> Documentation/filesystems directory?
Agreed.
> Give it a more descriptive name while we're at it, and update 00-INDEX
> with a more inclusive description of Documentation/filesystems (which
> has already talked about more than just individual filesystems).
OK.
One correction below.
Then
Acked-by: Randy Dunlap <randy.dunlap@oracle.com>
> Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
> 
> ---
> 
> On Tue, Sep 18, 2007 at 01:40:16PM -0400, bfields wrote:
> > Hm.  Documentation/mandatory.txt claims that it mandatory locks and
> > mmap() with MAP_SHARED exclude each other, but I can't see where that's
> > enfoced.  That file doesn't make any mention of the above race.
> > 
> > So for now I think someone should update that file and fcntl(2) to
> > mention these problems and to recommend rather strongly against using
> > mandatory locking.
> 
> Anyone have an objection if I submit these two patches to Linus for
> 2.6.24?
> 
> --b.
> 
>  Documentation/00-INDEX                          |    4 +-
>  Documentation/filesystems/00-INDEX              |    2 +
>  Documentation/filesystems/mandatory-locking.txt |  152 +++++++++++++++++++++++
>  Documentation/locks.txt                         |   10 +-
>  Documentation/mandatory.txt                     |  152 -----------------------
>  5 files changed, 160 insertions(+), 160 deletions(-)
>  create mode 100644 Documentation/filesystems/mandatory-locking.txt
>  delete mode 100644 Documentation/mandatory.txt
> 
> diff --git a/Documentation/00-INDEX b/Documentation/00-INDEX
> index 43e89b1..910473c 100644
> --- a/Documentation/00-INDEX
> +++ b/Documentation/00-INDEX
> @@ -145,7 +145,7 @@ fb/
>  feature-removal-schedule.txt
>  	- list of files and features that are going to be removed.
>  filesystems/
> -	- directory with info on the various filesystems that Linux supports.
> +	- info on the vfs and the various filesystems that Linux supports.
>  firmware_class/
>  	- request_firmware() hotplug interface info.
>  floppy.txt
> @@ -240,8 +240,6 @@ m68k/
>  	- directory with info about Linux on Motorola 68k architecture.
>  magic-number.txt
>  	- list of magic numbers used to mark/protect kernel data structures.
> -mandatory.txt
> -	- info on the Linux implementation of Sys V mandatory file locking.
>  mca.txt
>  	- info on supporting Micro Channel Architecture (e.g. PS/2) systems.
>  md.txt
> diff --git a/Documentation/filesystems/00-INDEX b/Documentation/filesystems/00-INDEX
> index 59db1bc..73c8e94 100644
> --- a/Documentation/filesystems/00-INDEX
> +++ b/Documentation/filesystems/00-INDEX
> @@ -52,6 +52,8 @@ isofs.txt
>  	- info and mount options for the ISO 9660 (CDROM) filesystem.
>  jfs.txt
>  	- info and mount options for the JFS filesystem.
> +mandatory
   mandatory-locking.txt
> +	- info on the Linux implementation of Sys V mandatory file locking.
>  ncpfs.txt
>  	- info on Novell Netware(tm) filesystem using NCP protocol.
>  ntfs.txt
---
~Randy
Phaedrus says that Quality is about caring.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/