Date: Tue, 13 Jan 2009 16:33:01 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH] sys_waitid: return -EFAULT for NULL
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/13/549

On Tue, 13 Jan 2009, Roland McGrath wrote:
>
> It's always been invalid to call waitid() with a NULL pointer.  It was an
> oversight that it was allowed (and acts like a wait4() call instead).
I'm not going to take this. 
If it was some new system call, of if there was some downside to out 
behavior, I might be interested. As it is, our behaviour has zero 
downside, and changing existing interfaces simply isn't worth it.
The alleged "downsides" are bogus:
 - POSIX is not that strict. EFAULT is one of the odd error cases anyway, 
   and even explicit requirements are irrelevant: if somebody wants to get 
   strict conformance paperwork done, you just need to tell where you 
   differ, and you're basically done. But perhaps more important, nobody 
   cares.
 - The "portability" argument is totally bogus, since it's not like you 
   compile programs without even testing to another UNIX _anyway_. 
So I'm simply not going to potentially break binaries over something that 
is so _totally_ irrelevant. Document it in the man-page instead.
		Linus