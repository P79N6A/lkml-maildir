Date: Sat, 8 Dec 2007 14:19:54 -0600
From: Matt Mackall <>
Subject: Re: entropy gathering (was Re: Why does reading from /dev/urandom deplete entropy so much?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/8/154

On Sat, Dec 08, 2007 at 03:04:32PM -0500, Jeff Garzik wrote:
> Matt Mackall wrote:
> >On Sat, Dec 08, 2007 at 02:36:33PM -0500, Jeff Garzik wrote:
> >>As an aside...
> >>
> >>Speaking as the maintainer rng-tools, which is the home of the hardware 
> >>RNG entropy gathering daemon...
> >>
> >>I wish somebody (not me) would take rngd and several other projects, and 
> >>combine them into a single actively maintained "entropy gathering" 
> >>package.
> >
> >I think we should re-evaluate having an internal path from the hwrngs
> >to /dev/[u]random, which will reduce the need for userspace config
> >that can go wrong.
> 
> That's a bit of a tangent on a tangent.  :)  Most people don't have a 
> hardware RNG.
> 
> But as long as there are adequate safeguards against common hardware 
> failures (read: FIPS testing inside the kernel), go for it.
We can do some internal whitening and some other basic tests
(obviously not the full FIPS battery). The basic von Neumann whitening
will do a great job of shutting off the spigot when an RNG fails in a
non-nefarious way. And FIPS stuff is no defense against the nefarious
failures anyway.
But I think simply dividing our entropy estimate by 10 or so will go
an awfully long way.
--
Mathematics is the supreme nostalgia of our time.