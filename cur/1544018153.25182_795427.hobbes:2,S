Date: Wed, 21 Jan 2009 15:42:10 +0100
From: Patrick Ohly <>
Subject: Re: [PATCH NET-NEXT 11/12] time sync: generic infrastructure to	map between time stamps generated by a time counter and system time
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/21/184

On Wed, 2009-01-21 at 10:33 +0000, Ingo Molnar wrote:
> * Patrick Ohly <patrick.ohly@intel.com> wrote:
> 
> > Currently only mapping from time counter to system time is implemented.
> > The interface could have been made more versatile by not depending on a time counter,
> > but this wasn't done to avoid writing glue code elsewhere.
> > 
> > The method implemented here is the one used and analyzed under the name
> > "assisted PTP" in the LCI PTP paper:
> > 
http://www.linuxclustersinstitute.org/conferences/archive/2008/PDF/Ohly_92221.pdf
> > ---
> >  include/linux/clocksync.h |   85 +++++++++++++++++++
> >  kernel/time/Makefile      |    2 +-
> >  kernel/time/clocksync.c   |  196 +++++++++++++++++++++++++++++++++++++++++++++
> >  3 files changed, 282 insertions(+), 1 deletions(-)
> >  create mode 100644 include/linux/clocksync.h
> >  create mode 100644 kernel/time/clocksync.c
> 
> hm, these bits have less than casual impact - i think they need to go via 
> the timer tree.
I agree that they should be reviewed by experts in that area. Patch 11
and 09 (which 11 depends on and which was already reviewed by John) are
independent of the rest of the patch series and could be included in the
timer tree. On the other hand that code is only called by the example
igb driver in this patch series, which won't compile without the timer
changes.
Please let me know if I should pursue the inclusion separately and if
so, how the inclusion of the two trees can be coordinated.
-- 
Best Regards, Patrick Ohly
The content of this message is my personal opinion only and although
I am an employee of Intel, the statements I make here in no way
represent Intel's position on the issue, nor am I authorized to speak
on behalf of Intel on this matter.