Date: Tue, 2 Mar 1999 12:28:06 +0100 (MET)
From: David Monniaux <>
Subject: Re: 2.2.1 crash
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/2/41

It happened again!
On Mon, 1 Mar 1999, Marc Heckmann wrote:
> > The system totally hung, even SAK couldn't tell it to stop. It was
> > apparently trying to do something with the ZIP, since the orange light on
> > the ZIP was flashing in a repeating pattern. Ejecting the ZIP cartridge
> > didn't help. I was forced to power-cycle the machine (then manual fsck).
> There have been on alot of reports of systems freezes (2.2.1) with ZIP
> drives. I have experienced myself. What type of filesystem was on the
> disk, cause there have been a lot of crash reports with vfat as well.
More precisely: I use autofs. autofs tries to mount as vfat /dev/sda4. It
autoloads the imm module (alias scsi_hostadapter...). The system crashes.
Now I have a possible explanation. Sometimes, for some mysterious reason,
the imm module refuses to load. Apparently, the ZIP doesn't answer well.
Power-cycling the ZIP looks like the solution (probably the firmware
inside the ZIP has gone into some bad state). So it could be that the imm
module gets caught into some noninterruptible neverending loop as another
possible consequence of weird firmware behaviour.
It should be noted that the ZIP flashes its light even after the machine
has crashed. This suggests some loop in the ZIP firmware and the imm
driver patiently waiting for it.
Perhaps imm needs some more timeouts.
Regards,
David Monniaux
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/