Date: Tue, 5 Feb 2008 10:15:12 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: a7839e96 (PNP: increase max resources) breaks my ALSA intel8x0 sound card
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/5/280

On Tue, 5 Feb 2008, Bjorn Helgaas wrote:
> > 
> >  - PnP/ACPI resource allocation *after* it, but before driver loading 
> >    (which wll cause new resources to be allocated). This could be 
> >    fs_initcall, or whatever (that's what things like "acpi_event_init" 
> >    already do).
> 
> If we put the PNP system driver here, we can easily do a quirk that
> ignores PNP resources that overlap PCI resources.
No, you don't need any quirks: you just do an "insert_resource()" and 
ignore the error return. If the (bogus) PnP resource clashes with the 
(correct) hardware PCI resource, the insert will simply fail. No quirks 
needed.
>						  But it's kind of
> ugly to have the ACPI PCI root driver early and other PNP drivers
> later because they're basically similar animals.
No they are not.
If one does just device enumeration, and the other does resource 
registrations, then they ARE NOT similar animals at all. Don't claim that 
they are.
			Linus