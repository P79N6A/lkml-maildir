Date: Sat, 30 Jan 1999 13:39:12 +0100 (MET)
From: (Guest section DW)
Subject: Re: Kernels 2.2.0 and 2.2.1 crash while performing partition check
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/30/29

    From Thomas.Muders@Uni-Mainz.DE Sat Jan 30 11:55:43 1999
Partition check:
sda: General Protection Fault: 0000
CPU:0
EIP: 0010:[<c01232ce>]
    c01232a4 T find_buffer
call trace:
[<c01232fd>]:    c01232e8 T get_hash_table
[<c012355b>]:    c012353c T getblk
[<c0123900>]:    c01238e8 T bread
[<c0191646>]:    c01915f0 t msdos_partition
[<c0191a3a>]:    c01919c8 t check_partition
OK, this makes more sense. In check partition()
the text "Partition check:" and the device name "sda"
is printed, and it starts looking whether the disk has
a dos partition table. In msdos_partition() the first
thing is a bread() to get the first disk block.
In bread() the first thing is a call to getblk().
In getblk() we search a buffer that holds or can hold
the block, and start calling get_hash_table() which
calls find_buffer().
But the code there looks very correct to my eyes,
so unfortunately I have no idea what might be wrong.
Andries
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/