Date: Mon, 16 Jul 2007 22:48:31 +0200
From: Ingo Molnar <>
Subject: Re: [RFC PATCH 1/8] Convert the RCU tasklet into a softirq
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/16/390

* Linus Torvalds <torvalds@linux-foundation.org> wrote:
> On Mon, 16 Jul 2007, Paul E. McKenney wrote:
> >
> > On Wed, Jun 27, 2007 at 03:36:34PM -0400, Steven Rostedt wrote:
> > > I believe this was originally done by Dipankar Sarma. I pulled these
> > > changes from the -rt kernel.
> > > 
> > > For better preformance, RCU should use a softirq instead of a
> > > tasklet.
> > 
> > Acked-by: Paul E. McKenney <paulmck@linux.vnet.ibm.com>
> > Tested-by: Paul E. McKenney <paulmck@linux.vnet.ibm.com>
> > 
> > Tested with both kernbench and rcutorture on i386, x86_64, and ppc64.
> 
> Btw, are there any numbers on this? Is this whole thing actually 
> noticeable?
i doubt it's noticeable, because the RCU tasklet was not a "true" global 
tasklet, it was an array of tasklets put into a PER_CPU array. (which 
kind of defeats the purpose of tasklets)
So there should be no/little scalability disadvantage from this type of 
use of tasklets, and the tasklet use was at most a wart and a small, 
constant micro-cost that is likely masked by other costs. (and rcu never 
used any of the fancier tasklet ops like tasklet_disable() either)
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/