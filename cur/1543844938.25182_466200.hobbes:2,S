Date: Sun, 24 Sep 2006 21:12:28 -0400
From: 	Valdis.Kletnieks@vt ...
Subject: Re: [patch] remove MNT_NOEXEC check for PROT_EXEC mmaps
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/24/221

On Sat, 23 Sep 2006 19:47:19 +0400, Stas Sergeev said:
> Hi.
> 
> Ulrich Drepper wrote:
> > Definitely not.  The test should stay.  It does the right thing.  Yes,
> > some applications might break, but this is the fault of the application.
> But why exactly? They do:
> shm_open();
> mmap(PROT_READ|PROT_WRITE|PROT_EXEC);
> and mmap fails.
> Where is the fault of an app here?
'man 2 open' reports the following error code as a possibility:
       EROFS  pathname refers to a file on a read-only filesystem and write
	access was requested.
Are you suggesting that it's not an app's fault/problem if it tries to
open a writable file on a R/O filesystem?  Because it's essentially the
same problem....
[unhandled content-type:application/pgp-signature]