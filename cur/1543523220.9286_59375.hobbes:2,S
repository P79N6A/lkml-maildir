Date: Sun, 23 Jan 2000 17:27:49 +0200 (EET)
From: Meelis Roos <>
Subject: Crash with IDE-SCSI CD and 2.2.15pre4 w/ide patches
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/23/184

Short description: the computer rebooted while reading a bad cd.
Long description:
Wrote a HFS image to CDR yesterday without closing the CD. Tried to mount
it today, no dice. Tried to read it with dd. The last sector was bad and
the computer hung for 3 seconds and then just rebooted.
It's a x86 running 2.2.15pre4 plus 2.2.14.20000115 ide patchset. plus
international crypto patch (currently unused).
CD is used via ide-scsi because it's a writer (HP 8100).
The questionable cd was a strange cd with one HFS data track and then some
audio tracks and a scratch at the beginning (that's why the cd was
copied). Only tha data track was copied and the disk was not closed
(-nofix option to cdrecord).
Jan 23 16:19:42 roos kernel: Detected scsi CD-ROM sr0 at scsi0, channel 0, id 0, lun 0 
Jan 23 16:19:42 roos kernel: sr0: scsi3-mmc drive: 24x/24x writer cd/rw xa/form2 cdda tray 
Jan 23 16:19:42 roos kernel: Uniform CDROM driver Revision: 2.56 
Jan 23 16:19:42 roos kernel: attempt to access beyond end of device 
Jan 23 16:19:42 roos kernel: 0b:00: rw=0, want=6, limit=2 
Jan 23 16:19:42 roos kernel: dev 0b:00 blksize=512 blocknr=11 sector=11 size=512 count=1 
Jan 23 16:19:42 roos kernel: hfs_fs: unable to read block 0x0000000b from dev 0b:00 
Jan 23 16:19:42 roos kernel: hfs_fs: Unable to read superblock 
Jan 23 16:19:42 roos kernel: VFS: Can't find a HFS filesystem on dev 0b:00. 
This was the attempt to mount it because only one 2048 byte sector could
be read (checked with dd "right here in the log").
Now I started to dd the data from the disk. Got almost full 106M and
seemingly the last sector gave an error. The file was last written
16:28:something.
Jan 23 16:28:17 roos kernel: scsi0: MEDIUM ERROR on channel 0, id 0, lun 0, CDB: Request Sense 00 00 00 10 00  
Jan 23 16:28:17 roos kernel: Info fld=0xd524, Current sr0b:00: sense key Medium Error 
Jan 23 16:28:17 roos kernel: Additional sense indicates No seek complete 
Jan 23 16:28:17 roos kernel: CD-ROM I/O error: dev 0b:00, sector 218254 
Jan 23 16:28:31 roos kernel: scsi0: MEDIUM ERROR on channel 0, id 0, lun 0, CDB: Request Sense 00 00 00 10 00  
Jan 23 16:28:31 roos kernel: Info fld=0xd524, Current sr0b:00: sense key Medium Error 
Jan 23 16:28:31 roos kernel: Additional sense indicates No seek complete 
Jan 23 16:28:31 roos kernel: CD-ROM I/O error: dev 0b:00, sector 218258 
Jan 23 16:28:45 roos kernel: scsi0: MEDIUM ERROR on channel 0, id 0, lun 0, CDB: Request Sense 00 00 00 10 00  
Jan 23 16:28:45 roos kernel: Info fld=0xd524, Current sr0b:00: sense key Medium Error 
Jan 23 16:28:45 roos kernel: Additional sense indicates No seek complete 
Jan 23 16:28:45 roos kernel: CD-ROM I/O error: dev 0b:00, sector 218262 
Jan 23 16:28:59 roos kernel: scsi0: MEDIUM ERROR on channel 0, id 0, lun 0, CDB: Request Sense 00 00 00 10 00  
Jan 23 16:28:59 roos kernel: Info fld=0xd524, Current sr0b:00: sense key Medium Error 
Jan 23 16:28:59 roos kernel: Additional sense indicates No seek complete 
Jan 23 16:28:59 roos kernel: CD-ROM I/O error: dev 0b:00, sector 218266 
Jan 23 16:29:13 roos kernel: scsi0: MEDIUM ERROR on channel 0, id 0, lun 0, CDB: Request Sense 00 00 00 10 00  
Jan 23 16:29:13 roos kernel: Info fld=0xd524, Current sr0b:00: sense key Medium Error 
Jan 23 16:29:13 roos kernel: Additional sense indicates No seek complete 
Jan 23 16:29:13 roos kernel: CD-ROM I/O error: dev 0b:00, sector 218270 
Jan 23 16:29:26 roos kernel: scsi0: MEDIUM ERROR on channel 0, id 0, lun 0, CDB: Request Sense 00 00 00 10 00  
Jan 23 16:29:26 roos kernel: Info fld=0xd524, Current sr0b:00: sense key Medium Error 
Jan 23 16:29:26 roos kernel: Additional sense indicates No seek complete 
Jan 23 16:29:26 roos kernel: CD-ROM I/O error: dev 0b:00, sector 218274 
Jan 23 16:29:40 roos kernel: scsi0: MEDIUM ERROR on channel 0, id 0, lun 0, CDB: Request Sense 00 00 00 10 00  
Jan 23 16:29:40 roos kernel: Info fld=0xd524, Current sr0b:00: sense key Medium Error 
Jan 23 16:29:40 roos kernel: Additional sense indicates No seek complete 
Jan 23 16:29:40 roos kernel: CD-ROM I/O error: dev 0b:00, sector 218278 
Jan 23 16:29:54 roos kernel: scsi0: MEDIUM ERROR on channel 0, id 0, lun 0, CDB: Request Sense 00 00 00 10 00  
Jan 23 16:29:54 roos kernel: Info fld=0xd524, Current sr0b:00: sense key Medium Error 
Jan 23 16:29:54 roos kernel: Additional sense indicates No seek complete 
Jan 23 16:29:54 roos kernel: CD-ROM I/O error: dev 0b:00, sector 218282 
Then the mouse didn't move for some seconds and then a reboot occurred.
--- 
Meelis Roos (mroos@tartu.cyber.ee)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/