Date: Thu, 25 Mar 2004 17:57:45 -0600
From: Matt Mackall <>
Subject: [PATCH 16/22] /dev/random: kill 2.2 cruft
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/25/171

/dev/random  kill 2.2 cruft
Remove Linux 2.2 compatibility cruft.
 tiny-mpm/drivers/char/random.c |   10 ----------
 1 files changed, 10 deletions(-)
diff -puN drivers/char/random.c~random-waitqueue drivers/char/random.c
--- tiny/drivers/char/random.c~random-waitqueue	2004-03-20 13:38:35.000000000 -0600
+++ tiny-mpm/drivers/char/random.c	2004-03-20 13:38:35.000000000 -0600
@@ -382,16 +382,6 @@ static struct poolinfo {
  */
 
 /*
- * Linux 2.2 compatibility
- */
-#ifndef DECLARE_WAITQUEUE
-#define DECLARE_WAITQUEUE(WAIT, PTR)	struct wait_queue WAIT = { PTR, NULL }
-#endif
-#ifndef DECLARE_WAIT_QUEUE_HEAD
-#define DECLARE_WAIT_QUEUE_HEAD(WAIT) struct wait_queue *WAIT
-#endif
-
-/*
  * Static global variables
  */
 static struct entropy_store *input_pool, *blocking_pool, *nonblocking_pool;
_
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/