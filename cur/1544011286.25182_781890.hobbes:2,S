Date: Thu, 18 Dec 2008 11:32:15 +0900 (JST)
From: KOSAKI Motohiro <>
Subject: Re: [PATCH] sys_execve and sys_uselib do not call into fsnotify
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/17/466

> sys_execve and sys_uselib do not call into fsnotify so inotify does not get
> open events for these types of syscalls.  This patch simply makes the
> requisite fsnotify calls.
> 
> Signed-off-by: Eric Paris <eparis@redhat.com>
I hope append your latter explain into the patch description.
> I could be convinced to change it but like what I have.  At this point
> the file is open.  If it fails after this we are going to call fput()
> which calls __fput() which calls fsnotify_close().  Seemed odd to leave
> a close without an open (although that's what we have today.)
> 
> This doesn't mean the syscall was successful, but the file was opened,
> and it will be closed....
I think open/close pairing is important thing to this patch.
Otherthings, looks good to me. very thanks.
	Reviewed-by: KOSAKI Motohiro <kosaki.motohiro@jp.fujitsu.com>