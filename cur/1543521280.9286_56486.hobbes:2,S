Date: Sat, 08 Jan 2000 14:40:49 +0000
From: Alastair Varnals <>
Subject: USB and BTTV Problems.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/8/86

USB support doesn't want to compile with 2.3.38 ( it was OK with 2.3.37
):
make[1]: Leaving directory /usr/src/linux-2.3.38/arch/i386/lib'
ld -m elf_i386 -T /usr/src/linux/arch/i386/vmlinux.lds -e stext
arch/i386/kernel/head.o arch/i386/kernel/init_task.o init/main.o
init/version.o \
        --start-group \
                arch/i386/kernel/kernel.o arch/i386/mm/mm.o
kernel/kernel.o
mm/mm.o fs/fs.o ipc/ipc.o \
        net/network.a \
                drivers/block/block.a drivers/char/char.o
drivers/misc/misc.o drivers/net/net.o drivers/parport/parport.a
drivers/scsi/scsi.a drivers/cdrom/cdrom.a drivers/sound/sounddrivers.o
drivers/pci/pci.a drivers/pnp/pnp.a drivers/video/video.o
drivers/usb/usb.a \
        /usr/src/linux/arch/i386/lib/lib.a /usr/src/linux/lib/lib.a
/usr/src/linux/arch/i386/lib/lib.a \
        --end-group \
                -o vmlinux
                ld: cannot open drivers/usb/usb.a: No such file or
directory
                make: *** [vmlinux] Error 1
My configuration:
#
# USB support
#
CONFIG_USB=y
CONFIG_USB_UHCI=y
# CONFIG_USB_OHCI_HCD is not set
CONFIG_USB_PROC=y
# CONFIG_USB_PRINTER is not set
# CONFIG_USB_SCANNER is not set
# CONFIG_USB_AUDIO is not set
CONFIG_USB_ACM=y
# CONFIG_USB_SERIAL is not set
# CONFIG_USB_CPIA is not set
# CONFIG_USB_OV511 is not set
CONFIG_USB_DC2XX=y
# CONFIG_USB_SCSI is not set
# CONFIG_USB_EZUSB is not set
# CONFIG_USB_USS720 is not set
# CONFIG_USB_DABUSB is not set
# CONFIG_USB_HID is not set
# CONFIG_USB_KBD is not set
# CONFIG_USB_MOUSE is not set
# CONFIG_INPUT_KEYBDEV is not set
# CONFIG_INPUT_MOUSEDEV is not set
# CONFIG_INPUT_JOYDEV is not set
# CONFIG_INPUT_EVDEV is not set
I suspect a simple Makefile problem or somesuch.
On another note, the new BTTV driver doesn't want to work with the FM
radio tuner in my Hauppauge card. The old one ( pre 2.3.34 and 2.2.x )
is fine. When I start something like kradio or radio ( from Xawtv ) I
get a nice fuzzy sound, but adjusting the tuning doesn't seem to do
anything. In fact, if I boot windows and set it to some station and do a
soft reboot to Linux it will still be tuned to that station and it isn't
possible to change it.
On inserting the modules at boot time, I see:
Linux video capture interface: v1.00
i2c-core.o: i2c core module
i2c-core.o: driver i2c TV tuner driver registered.
i2c-core.o: driver i2c tda8424 driver registered.
i2c-core.o: driver i2c msp3400 driver registered.
i2c: initialized
i2c-algo-bit.o: i2c bit algorithm module
bttv0: Brooktree Bt878 (rev 2) bus: 0, devfn: 144, irq: 18, memory:
0xfd9fe000.
bttv: 1 Bt8xx card(s) found.
tuner: chip found @ 0x61
bttv0: i2c attach [(unset)]
i2c-core.o: client [(unset)] registered to adapter [bt848 #0](pos. 0).
i2c-core.o: adapter bt848 #0 registered as adapter 0.
bttv0: i2c: checking for eeprom @ 0xa0... found
bttv0: model: BT878(Hauppauge new (bt878))
bttv0: Hauppauge eeprom: tuner=Philips FM1216 (5)
bttv0: i2c: checking for MSP34xx @ 0x80... found
bttv0: i2c: checking for TDA8425 @ 0x82... not found
bttv0: i2c: checking for TDA985x @ 0xb6... not found
Can anyone shed any light on what might be happening?
Thanks,
 Alastair.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/