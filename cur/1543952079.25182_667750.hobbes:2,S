Date: Fri, 14 Mar 2008 19:37:58 +0100
From: Bastian Blank <>
Subject: [PATCH] THERMAL must not select HWMON
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/14/228

On Fri, Mar 14, 2008 at 11:21:12AM -0700, Randy Dunlap wrote:
[ select forces HWMON to yes even if deps are never applicable ]
> Yes, that's a known & longstanding problem (that select does not
> follow/honor dependencies).
Okay.
So THERMAL can't select HWMON, instead it needs to do a proper depends.
Bastian
Signed-off-by: Bastian Blank <waldi@debian.org>
Cc: Zhang Rui <rui.zhang@intel.com>
diff --git a/drivers/thermal/Kconfig b/drivers/thermal/Kconfig
index 3ab313e..394912c 100644
--- a/drivers/thermal/Kconfig
+++ b/drivers/thermal/Kconfig
@@ -4,7 +4,7 @@
 
 menuconfig THERMAL
 	bool "Generic Thermal sysfs driver"
-	select HWMON
+	depends on HWMON
 	default y
 	help
 	  Generic Thermal Sysfs driver offers a generic mechanism for
-- 
You canna change the laws of physics, Captain; I've got to have thirty minutes![unhandled content-type:application/pgp-signature]