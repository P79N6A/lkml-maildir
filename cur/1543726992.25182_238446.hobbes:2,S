Date: Tue, 3 Aug 2004 13:47:06 -0500 (CDT)
From: "Rich Wohlstadter" <>
Subject: Re: dma problems with Serverworks CSB5 chipset
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/3/132

> On Maw, 2004-08-03 at 19:08, Marcelo Tosatti wrote:
>> ServerWorks OSB4/5 chipsets are known to not work reliably with the
>> Linux
>> IDE code. AFAIK its a hardware problem which we dont correctly work
>> around.
>>
>> Have you tried disabling DMA?
>>
>> Bart and Alan are IDE experts, they can probably give you more useful
>> information.
>
> CSB5 is reliable, rock solidly so in my experience. OSB4 was the older
> interface with problems. Are these systems SMP, what disks are you using
> and in what IDE mode ?
>
Yep, they are SMP(IBM blades with 2 Xeon 2.4Ghz).  The blades use 1
little 40g laptop drive( TOSHIBA MK4019GAXB ).  The drive is running UDMA
mode 4.  Here is the output of /proc/ide/svwks:
                             ServerWorks OSB4/CSB5/CSB6
                            ServerWorks CSB5 Chipset (rev 93)
------------------------------- General Status
---------------------------------
--------------- Primary Channel ---------------- Secondary Channel
-------------
                 enabled                          enabled
--------------- drive0 --------- drive1 -------- drive0 ---------- drive1
------
DMA enabled:    yes              yes             no                no
UDMA enabled:   yes              yes             no                no
UDMA enabled:   4                4               0                 0
DMA enabled:    2                2               2                 2
PIO  enabled:   4                4               ?                 ?
Let me know if you need any other specifics and thanks in advance for any
advice.
Rich
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/