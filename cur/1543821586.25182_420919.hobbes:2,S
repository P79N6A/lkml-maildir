Date: Wed, 3 May 2006 14:51:53 +0200
From: Michael Holzheu <>
Subject: Re: [PATCH] s390: Hypervisor File System
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/3/69

Hi Jörn,
Jörn Engel <joern@wohnheim.fh-wedel.de> wrote on 05/03/2006 02:33:39 PM:
> On Wed, 3 May 2006 14:11:36 +0200, Michael Holzheu wrote:
> >
> > Maybe we need that, too. But I think the advantage of the
> > one file solution moves the complexity from the kernel
> > to userspace.
>
> Now might be a time to come back to Martin's prediction. ;)
>
> Having a weird format in some file does _not_ move complexity from the
> kernel.  It may make the userspace more complex, granted.  But once
> you try to change something, you need to keep the ABI stable.  And
> part of the ABI is you file format.
This is also true, if you use a filesystem tree. The tree structure and
the content of the files are part of your ABI. There is no difference
between a standard tag based file (all kernel files should use the
same format of course!) and a filesystem tree.
> Applications will depend on some arcane detail of your format.  They
> will depend on exactly five spaces in "foo     bar".  It does not even
> matter if you documented "any amount of whitespace".  The application
> knows that it was five spaces and doesn't care.  And once you change
> it, the blame will be on you, because you broke existing userspace.
Again, logically there is no difference between the two solutions. It does
not matter, if you have one file with:
<cpu>
    <0>
       <onlinetime = 4711>
    <\0>
<\cpu>
... or whatever the standard kernel format will be
... and a filesystem tree with:
+cpu
   + 0
      + onlinetime
If you implement a standard userspace parser, you can access the
attributes in one file as easyly as the attributes in a filesystem tree.
Michael
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/