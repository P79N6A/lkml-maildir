Date: Fri, 30 Mar 2001 04:00:04 -0600 (CST)
From: Jeff Garzik <>
Subject: Re: memcpy in 2.2.19
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/3/30/35

On Fri, 30 Mar 2001, Chris Funderburg wrote:
> What's wrong with this picture:
> ld -m elf_i386 -T /usr/src/kernel/stable/linux/arch/i386/vmlinux.lds -e
[...]
>         -o vmlinux
> drivers/scsi/scsi.a(aic7xxx.o): In function `aic7xxx_load_seeprom':
> aic7xxx.o(.text+0x116bf): undefined reference to `memcpy'
> make: *** [vmlinux] Error 1
> 
> Is this something outside the kernel tree that I've lost?  Seems a bit weird
> since memcpy must be
> used in thousands of other place.
It's even more strange because memcpy is not called at all from that
routine.  <insert Twilight Zone music>
Generally when this occurs, someone is using a gcc feature to copy a
structure, instead of calling memcpy directly.  Since the kernel is
sometimes compiled with -fno-builtins, and since we also have our own
kernel memcpy, using this particular gcc feature often runs into
problems.
It's not obvious from the code that this is going on, but it's one
possible cause.
Can you try the new aic7xxx driver?  Just search any linux-kernel mail
archive for Justin Gibbs, he is always [re-]posting the link to the
latest aic7xxx driver.  AFAIK it has kernel compatibility and thus
supports 2.2.x...
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/