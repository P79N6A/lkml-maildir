Date: Tue, 29 Jul 2003 15:58:04 -0400
From:  Valdis.Kletnieks@vt ...
Subject: Re: Feature proposal (scheduling related) -- conclusion
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/29/268

On Tue, 29 Jul 2003 22:28:50 +0300, jimis@gmx.net  said:
> great, I had no idea of this potential. But what I propose is scheduling the
> network traffic (at least the outgoing traffic that we can influence directly)
> according to the process priority, not according to the traffic type (which is
> important but different).
So you want to use a number that controls the CPU scheduling to force the network
scheduling to go along?  That's a bad idea waiting to happen.
(Hint - some program is getting CPU-starved for some reason, so you 'nice -2' it
to make it run tolerably.  Suddenly your icecast gets stomped on.  Whoops)
It's even worse if you're trying to use dynamic priorities - then your icecast
can get pushed to the bottom of the network pile because some other process
went super-interactive for a while...
Remember - you're trying to optimize the "network experience" for the
*connection*. Base it on the port numbers, or use the process's UID and run
your program under a seperate UID, or maybe a PID-based scheme, with an ioctl()
or /{proc,sys} based control....
[unhandled content-type:application/pgp-signature]