Date: Wed, 3 May 2006 03:30:14 -0700
From: Maximus <>
Subject: sdio - ocr confusions
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/3/48

Hi,
  im trying to develop and sdio driver modifying the existing SD card driver.
  Im using an OMAP processor and a Wifi SDIO Card.
  I have send CMD 5 to get the OCR.
  i do get the EOC Status bit set.
  I do get the response resp[0] => 0x10fff000   (Contents of RSP6 & RSP7)
  According to this -> ocr => 0xfff000 (right most 24 bits)
                                mem present => 0
                                No of IO functions => 1
  I am using a Wifi SDIO Card - am not sure if these values are correct?.
  Am i doing something wrong here?
  I understand from the SDIO specs that only one of the bits (0-24) must be set.
  How do u interpreset an ocr of 0xfff000 ?.
  #define MMC_RSP_R4  (MMC_RSP_SHORT|MMC_RSP_CRC)
  #define SDIO_IO_SEND_OP_COND   (5)
    cmd.opcode = SDIO_IO_SEND_OP_COND ;
    cmd.arg = 0;
    cards.flags = MMC_RSP_R4
  Is this wrong?
Regards,
Jo
MMC1: set_ios: clock 0Hz busmode 1 powermode 0 Vdd 0.00
MMC1: set_ios: clock 0Hz busmode 1 powermode 0 Vdd 0.00
MMC1: set_ios: clock 400000Hz busmode 1 powermode 1 Vdd 0.21
MMC1: set_ios: clock 400000Hz busmode 1 powermode 1 Vdd 0.21
MMC1: set_ios: clock 400000Hz busmode 1 powermode 2 Vdd 0.21
MMC1: set_ios: clock 400000Hz busmode 1 powermode 2 Vdd 0.21
MMC: starting cmd 05 arg 00000000 flags 00000009
MMC1: CMD5, argument 0x00000000, 32-bit response, CRC
MMC IRQ 0001 (CMD 5): EOC
MMC1: Response 10fff000
MMC1: End request, err 0
MMC: req done (05): 0: 10fff000 00000000 00000000 00000000
  MC1: set_ios: clock 0Hz busmode 1 powermode 0 Vdd 0.00
MMC1: set_ios: clock 0Hz busmode 1 powermode 0 Vdd 0.00
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/