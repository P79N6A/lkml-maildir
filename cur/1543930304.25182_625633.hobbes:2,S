Date: Fri, 07 Dec 2007 22:01:33 -0700
From: Zan Lynx <>
Subject: Re: 2.6.24-rc4-mm1 and Very Slow PCMCIA Compact Flash
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/8/1

On Fri, 2007-12-07 at 15:22 -0800, Andrew Morton wrote:
> On Fri, 07 Dec 2007 23:09:43 +0000
> Zan Lynx <zlynx@acm.org> wrote:
[cut] 
> > > > Now with MM kernels 2.6.24 rc1-4 the PCMCIA adapter works again, but I
> > > > only get read rates of 1.6 MB/s.  When it used to work in 2.6.20 I got
> > > > at least 16 MB/s.  The card itself is capable of 30+ in the USB-2
> > > > reader.
[cut]
> Maybe pata_pcmcia-minor-cleanups-and-support-for-dual-channel-cards.patch?
> 
> Could you try a `patch -R' of the below?
> 
> 
> From: Alan Cox <alan@lxorguk.ukuu.org.uk>
> 
> Signed-off-by: Alan Cox <alan@redhat.com>
> Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
> ---
> 
>  drivers/ata/pata_pcmcia.c |   31 +++++++++++++++++--------------
>  1 file changed, 17 insertions(+), 14 deletions(-)
> 
> diff -puN drivers/ata/pata_pcmcia.c~pata_pcmcia-minor-cleanups-and-support-for-dual-channel-cards drivers/ata/pata_pcmcia.c
[cut]
Nope, that did not change anything.  It still detects as PIO0 and still
runs at 1.6 MB/s.
-- 
Zan Lynx <zlynx@acm.org>
[unhandled content-type:application/pgp-signature]