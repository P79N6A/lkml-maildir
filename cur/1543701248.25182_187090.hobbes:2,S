Date: Tue, 30 Dec 2003 13:21:45 -0600
From: Andy Isaacson <>
Subject: Re: 2.6.0 performance problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/30/135

On Mon, Dec 29, 2003 at 08:37:53PM -0500, Thomas Molina wrote:
> On Tue, 30 Dec 2003, Roger Luethi wrote:
> > I bet this is just yet another instance of a problem we've been
> > discussing on lkml and linux-mm for several months now (although Linus
> > asking for DMA presumably means it's not as well known as I thought
> > it was).
> > 
> > Basically, when you need to resort to paging for getting work done on
> > 2.6 you're screwed. Your bk export takes a lot more memory than you
> > have RAM in your machine, right?
> 
> Right.  I have 120MB RAM and 256MB swap partition.  That corresponds to 
> the 85 to 90 percent top says I am spending in iowait.
Yeah, right now BK needs about 140-160MB of working set to do a
consistency check on the 2.5 tree.  That means you're paging, and it
sounds like paging sucks on 2.6?
(Actually, BK is even happier if the kernel can keep all the sfiles in
cache, so a half-gig is a comfortable amount for working with the
current 2.5 tree, although 256MB should be enough to avoid paging hell.
With a full gig, you can keep two full trees in "checkout:get" mode in
cache, which is nice.)
-andy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/