Date: Wed, 3 Mar 1999 19:03:15 -0500 (EST)
From: Alexander Viro <>
Subject: Re: EXT2_UNRM_FL
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/3/181

On Wed, 3 Mar 1999, Theodore Y. Ts'o wrote:
> I guess I'm little confused about how NO_UNLINK would be useful.  Does
> it protect against file renames as well as unlinks?  What about
> truncates?  If it doesn't protect the data, what are the applications
> where it's useful?
NO_UNLINK is the third member of the same group as APPEND_ONLY and
IMMUTABLE. Semantics: you can't create or remove a link to such object
(i.e. no rename, no link, no rmdir, no unlink). Wrt to setting/changing
such flag it is equivalent to other two. Examples: mkdir ~luser/.rhosts
and set no-unlink on it (immutable is an overkill, append-only has
unpleasant side-effects); anything you want to modify but don't want to
remove; damn it, core in pwd of process that dies in inconvenient times ;-)
	Besides, it's pretty logical element of the same group - all of
them give namespace-level protection, but other two also give contents
protection. Which may be not what you want. It's BSD thing (just as other
two are). Support of that thing on VFS level costs us nothing. Filesystems
may map whatever they want on this bit.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/