Date: Tue, 13 Jan 2009 10:38:31 +0530
From: Ananth N Mavinakayanahalli <>
Subject: Re: [RFC][PATCH -mm 0/6] kprobes: Per-probe disabling support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/13/14

On Mon, Jan 12, 2009 at 08:55:27PM -0500, Masami Hiramatsu wrote:
> Hi,
> 
> Currently, kprobes can disable all probes at once, but can't disable it
> individually (not unregister, just disable an kprobe, because unregistering
> needs to wait for scheduler synchronization).
> These patches introduce APIs for on-the-fly per-probe disabling and
> re-enabling by dis-arming/re-arming its breakpoint instruction.
> 
> These patches can be applied on the latest -mm tree including my previous
> bugfix patch (
http://lkml.org/lkml/2009/1/5/472
).
> 
> You can download a test of this feature from here:
> 
http://sources.redhat.com/bugzilla/attachment.cgi?id=3082&action=view
> 
> Thank you,
> 
>  Documentation/kprobes.txt |   38 +++++-
>  include/linux/kprobes.h   |   51 +++++++-
>  kernel/kprobes.c          |  281 ++++++++++++++++++++++++++++++++--------------
>  3 files changed, 279 insertions(+), 91 deletions(-)
Acked-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
...for the patchset.
Thanks for the work Masami. We'll need to allow this set to cook in
-mm/next for a few weeks before it goes upstream.
Ananth