Date: Tue, 2 Feb 1999 16:52:44 +0100 (CET)
From: Jakub Jelinek <>
Subject: Re: more then 15 partitions per SCSI device..
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/2/90

> 
> 
> Does anyone know if there is a way to get more then 15 paritions per SCSI
> device?  I have a 36 GB raid that looks like one drive /dev/sda.  I have
> made more then 15 partitions /dev/sda1-/dev/sda21 and I have made the
> device files for the ones over 15, but I am not able to mount ones over
> 15.  I get the following message:
> 
> mount: /dev/sda16 already mounted or /u9 busy
> mount: /dev/sda17 already mounted or /ua busy
> etc...
> 
> It there a hard limit of 15 partitions or is there some way around this?
Yes, there is a limit of 1 whole disk + 15 partitions for SCSI disks.
The question is whether you cannot reconfigure your raid to give you more
than one disk, which would make it easier for you.
If you cannot and you really need more than 15 partitions, then either as a
hack you can modify sd.c to have more bits in the minor for partitions (but
that's ugly).
Another possibility would be to write a new stackable loopback type of device, which
would be given a block device and it would load any supported kind of
partition table from within that device and make the subpartitions available
as block devices.
I think it could be useful, so that new block devices (other than commonly
used disks) could be written without partition table support and the user
could add another layer to support partitions on it.
Examples: 
- SCSI and IDE cdroms: one could do something like
	partsetup /dev/parta /dev/scd0
	on a Solaris partitioned CD and 
	access the partitions as /dev/parta1-/dev/parta8
- /dev/hugerd
	(or how will the ramdisk for 2G+ memory on Intel/Sparc32 be called)
- /dev/presto
	(driver I'm now writing for Sun non-volatile RAM cards (PrestoServe))
...
Cheers,
    Jakub
___________________________________________________________________
Jakub Jelinek | jj@sunsite.mff.cuni.cz | 
http://sunsite.mff.cuni.cz
Administrator of SunSITE Czech Republic, MFF, Charles University
___________________________________________________________________
UltraLinux  |  
http://ultra.linux.cz/
  |  
http://ultra.penguin.cz/
Linux version 2.2.1 on a sparc64 machine (3958.37 BogoMips)
___________________________________________________________________
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/