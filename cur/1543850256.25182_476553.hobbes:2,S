Date: Wed, 25 Oct 2006 13:49:32 -0700 (PDT)
From: David Miller <>
Subject: Re: Behaviour of compat_msgsnd/compat_msgrcv calls
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/25/186

From: Suzuki K P <suzuki@in.ibm.com>
Date: Wed, 25 Oct 2006 11:59:05 -0700
> Is there any specific reason behind this ? Can't we just use the user 
> buffer directly instead of doing an additional copy_in_user ?
> ie,
> 	err = sys_msgrcv(first, uptr, second, msgtyp, third);
It's the cleanest way to deal with the difference in
"struct msgbuf" layout between native and compat userspace.
I guess we could make some common do_sys_msgrcv() function
that passed in a pointer to the "msgbuf" and the buffer
seperately.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/