Date: Mon, 5 Mar 2007 17:27:24 -0500
From: "Dmitry Torokhov" <>
Subject: Re: [linux-usb-devel] [DOC] The documentation for HID Simple Driver Interface 0.5.0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/5/377

On 3/5/07, Jiri Kosina <jikos@jikos.cz> wrote:
> On Mon, 5 Mar 2007, Li Yu wrote:
>
> >  Under standard HID device driver development means, we need to write
> > one interrupt handler for each new HID device to report event to input
> > subsystem. However, although the most of they can not merge into
> > mainstream kernel tree, they have only some extended keys, e.g. many
> > remote controllers. I think it seem break a fly on the wheel, which
> > write one new interrupt handler for this reason.
>
> This paragraph I don't seem to understand. Either the device is claimed by
> hid-input (*), and then when the device is behaving more-or-less
> correctly, hid-input handles the usages sent in reports and maps them
> properly to input events. New mapping can be quite trivially added to
> hid-input.
>
We are running out if quirks and we can't continue in this fashion so
Li tried to provide mechanism to augment default HID behaviour for
sepcific devices. However I don't think we want this particular
implementation - it firrces sub-drivers to be compiled into HID driver
which may grow indefinitely.
If we define HID "bus" allowing drivers to bind on VID:PID and provide
default library module for parsing HID reports and providing access to
HID transports (USB/BT) then writing tiny drivers adjusting just a
part of hid_input_event and relying on default implemenattaion where
it makes sense will become a breeze.
-- 
Dmitry
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/