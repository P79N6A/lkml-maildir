Date: Wed, 06 Oct 1999 08:12:50 +0200
From: "Ph. Marek" <>
Subject: Trouble with SCSI hd (quantum): timeout,QUEUE_FULL
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/6/6

Hi everybody,
we´re having serious trouble with an SCSI hd (id 1). below the documentation.
trouble starts after mounting, when trying to ls something.
scsi id 0 is system disk - works fine.
but: it works on same machine with windows nt!
termination is checked.
i know about scsi add-single-device and remove-single-device - but how can i change the speed settings for a harddisk? maybe that helps?
btw: hd 1 is a quantum fireball vp32170w - which doesn´t exist, according to quantum!
i´d appreciate any help.
thanks
------
/proc/scsi/aix7xxx/0:
Adaptec AIC7xxx driver version: 5.1.19/3.2.4
Compile Options:
  TCQ Enabled By Default : Disabled
  AIC7XXX_PROC_STATS     : Disabled
  AIC7XXX_RESET_DELAY    : 5
Adapter Configuration:
           SCSI Adapter: Adaptec AHA-294X Ultra SCSI host adapter
                           Ultra Wide Controller
    PCI MMAPed I/O Base: 0xfebee000
 Adapter SEEPROM Config: SEEPROM found and used.
      Adaptec SCSI BIOS: Enabled
                    IRQ: 11
                   SCBs: Active 0, Max Active 2,
                         Allocated 15, HW 16, Page 255
             Interrupts: 8577
      BIOS Control Word: 0x18b6
   Adapter Control Word: 0x0028
   Extended Translation: Enabled
Disconnect Enable Flags: 0xffff
     Ultra Enable Flags: 0x0000
 Tag Queue Enable Flags: 0x0000
Ordered Queue Tag Flags: 0x0000
Default Tag Queue Depth: 8
    Tagged Queue By Device array for aic7xxx host instance 0:
      {255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255}
    Actual queue depth per device for aic7xxx host instance 0:
      {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
Statistics:
(scsi0:0:0:0)
  Device using Wide/Sync transfers at 20.0 MByte/sec, offset 8
  Transinfo settings: current(25/8/1/0), goal(25/8/1/0), user(25/15/1/0)
  Total transfers 7942 (6159 reads and 1783 writes)
(scsi0:0:1:0)
  Device using Wide/Sync transfers at 20.0 MByte/sec, offset 8
  Transinfo settings: current(25/8/1/0), goal(25/8/1/0), user(25/15/1/0)
  Total transfers 165 (165 reads and 0 writes)
(scsi0:0:2:0)
  Device using Narrow/Async transfers.
  Transinfo settings: current(0/0/0/0), goal(0/0/0/0), user(50/15/0/0)
  Total transfers 0 (0 reads and 0 writes)
------
/proc/scsi/scsi:
Attached devices: 
Host: scsi0 Channel: 00 Id: 00 Lun: 00
  Vendor: UNISYS   Model: 002170ENTERPRISE Rev: 1.11
  Type:   Direct-Access                    ANSI SCSI revision: 02
Host: scsi0 Channel: 00 Id: 01 Lun: 00
  Vendor: Quantum  Model: VP32170          Rev: L912
  Type:   Direct-Access                    ANSI SCSI revision: 02
Host: scsi0 Channel: 00 Id: 02 Lun: 00
  Vendor: HP       Model: CD-Writer 6020   Rev: 1.07
  Type:   CD-ROM                           ANSI SCSI revision: 02
-------
/var/log/messages:
Oct  6 07:52:19 intpc04 kernel: (scsi0:0:1:0) QUEUE_FULL status received with 0 commands active.
Oct  6 07:52:19 intpc04 kernel: (scsi0:0:1:0) Tagged Command Queueing disabled
Oct  6 07:52:49 intpc04 kernel: scsi : aborting command due to timeout : pid 4772, scsi0, channel 0, id 1, lun 0 Read (6) 04 01 89 01 00
Oct  6 07:52:50 intpc04 kernel: SCSI host 0 abort (pid 4772) timed out - resetting
Oct  6 07:52:50 intpc04 kernel: SCSI bus is being reset for host 0 channel 0.
Oct  6 07:52:53 intpc04 kernel: (scsi0:0:0:0) Synchronous at 20.0 Mbyte/sec, offset 8.
Oct  6 07:52:53 intpc04 kernel: (scsi0:0:1:0) Synchronous at 20.0 Mbyte/sec, offset 8.
Oct  6 07:52:53 intpc04 kernel: (scsi0:0:1:0) QUEUE_FULL status received with 0 commands active.
Oct  6 07:52:53 intpc04 kernel: (scsi0:0:1:0) Tagged Command Queueing disabled
Oct  6 07:53:23 intpc04 kernel: scsi : aborting command due to timeout : pid 4819, scsi0, channel 0, id 1, lun 0 Read (6) 04 01 af 01 00
Oct  6 07:53:23 intpc04 kernel: scsi : aborting command due to timeout : pid 4825, scsi0, channel 0, id 0, lun 0 Write (10) 00 00 32 81 89 00 00 04 00
Oct  6 07:53:23 intpc04 kernel: scsi : aborting command due to timeout : pid 4826, scsi0, channel 0, id 0, lun 0 Write (10) 00 00 32 a6 35 00 00 02 00
Oct  6 07:53:23 intpc04 kernel: scsi : aborting command due to timeout : pid 4827, scsi0, channel 0, id 0, lun 0 Write (10) 00 00 39 41 ef 00 00 02 00
Oct  6 07:53:25 intpc04 kernel: SCSI host 0 abort (pid 4819) timed out - resetting
Oct  6 07:53:25 intpc04 kernel: SCSI bus is being reset for host 0 channel 0.
Oct  6 07:53:28 intpc04 kernel: (scsi0:0:0:0) Synchronous at 20.0 Mbyte/sec, offset 8.
Oct  6 07:53:28 intpc04 kernel: (scsi0:0:1:0) Synchronous at 20.0 Mbyte/sec, offset 8.
Oct  6 07:53:28 intpc04 kernel: (scsi0:0:1:0) QUEUE_FULL status received with 0 commands active.
Oct  6 07:53:28 intpc04 kernel: (scsi0:0:1:0) Tagged Command Queueing disabled
Oct  6 07:53:58 intpc04 kernel: scsi : aborting command due to timeout : pid 4866, scsi0, channel 0, id 1, lun 0 Read (6) 04 01 d5 01 00
Oct  6 07:53:58 intpc04 kernel: scsi : aborting command due to timeout : pid 4872, scsi0, channel 0, id 0, lun 0 Read (10) 00 00 2c 4b b7 00 00 0c 00
Oct  6 07:53:58 intpc04 kernel: scsi : aborting command due to timeout : pid 4873, scsi0, channel 0, id 0, lun 0 Write (10) 00 00 2e 9f c7 00 00 02 00
Oct  6 07:53:58 intpc04 kernel: scsi : aborting command due to timeout : pid 4874, scsi0, channel 0, id 0, lun 0 Write (10) 00 00 32 81 8b 00 00 02 00
Oct  6 07:53:59 intpc04 kernel: SCSI host 0 abort (pid 4866) timed out - resetting
Oct  6 07:53:59 intpc04 kernel: SCSI bus is being reset for host 0 channel 0.
Oct  6 07:54:02 intpc04 kernel: (scsi0:0:0:0) Synchronous at 20.0 Mbyte/sec, offset 8.
Oct  6 07:54:02 intpc04 kernel: (scsi0:0:1:0) Synchronous at 20.0 Mbyte/sec, offset 8.                                                    
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/