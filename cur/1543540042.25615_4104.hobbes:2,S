Date: Wed, 26 Jul 2000 16:33:23 +0100 (BST)
From: Tigran Aivazian <>
Subject: Re: How to read kernel parameters from user-space?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/27/95

don't worry about troubling me - I receive tons of messages a day like
this and those which are not interesting I simply ignore.
Now:
a) by "the same" you mean the format of the sys_call_table[]? Yes, it is
the same in 2.2.x as in 2.4.x. But if you mean the actual entries - there
may have been new syscalls added in 2.4.x - I don't know. SMP/UP - no
issues, it is exactly the same. Actually, this is not the whole truth. The
real truth is that in order to guarantee atomicity of read/write to
sys_call_table on x86 it has to be aligned on 32bit boundary. If you look
at the definition of ENTRY() you will see it is aligned on 16byte boundary
which is more than adequate. Otherwise, on SMP while your module is
updating the entry in sys_call_table[] on one CPU, the other CPU may be
attempting to execute that same system call but the sys_call_table[] entry
is half-constructed - this would cause it to jump to undefined address and
usually hang.
b) yes, all the parameters are saved in saved_command_line[] before
parsing occurs - hence the name.
Regards,
Tigran
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/