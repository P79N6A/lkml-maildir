Date: Sun, 15 Aug 1999 16:22:46 -0600
From: Richard Gooch <>
Subject: Re: kupdate & laptop's [patch for integration of mobile-update]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/16/196

Peter Englmaier writes:
> > There must be something wrong in your setup. I don't experience these
> > problems. If a simple <ls> triggers a spin-up, then check to make sure
> > you're mounting with the "noatime" flag. By default, a simple read of
> > a file/directory will cause the inode access time to be updated, which
> > in turn requires the disc to be written to.
> 
> OK, 'noatime' does the trick. Many Thanks. It doesn't help, of
> course, if I edit/compile/run the same program over and over
> again. Even when I turn of 'auto-save' in emacs, it still does
> something from time to time (while typing).
Still a configuration problem. Emacs should not write to disc unless
auto-save is on (and you've typed), or you explicitely save the file.
If you really want to edit/compile/run without spinning up the disc,
then mount a ramdisc and copy stuff to that. Modify your shutdown
scripts to save the source file to a real disc.
> > Configuration, configuration, configuration. The problem is that a lot
> > of stuff in user space expects to write from time to time. Tracking
> > down those places can take a while, but I assure you that's where the
> > problem lies.
>
> Sure. But many people won't be able to do that, and 'mobile-update'
> makes it much easier IMHO. In that case, you would only care for
> fsync's (basically syslog). You can have 'noatime' if you need it
> for some reason, and you won't care about frequent but tiny cron
> jobs like 'rmmod -a' at all. Actually, with my patch it's pretty
> much like working on a ramdisk.
Hacking the kernel to work around deficiencies in user space and
configuration space is not a good idea, IMO.
				Regards,
					Richard....
Old:     rgooch@atnf.csiro.au
Current: rgooch@ras.ucalgary.ca
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/