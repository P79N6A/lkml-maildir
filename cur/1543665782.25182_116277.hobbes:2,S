Date: Tue, 11 Mar 2003 10:46:05 +0100
From: Mike Galbraith <>
Subject: Re: [PATCH] self tuning scheduler
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/11/20

Greetings,
I took your patch out for a test-drive, and it appears to have starvation 
problems with irman's process load (dang thing seems to be HELL on schedulers).
Irman starts a load (defaults to 9 tasks passing data in a pipe ring), and 
forks a child which pingpongs one character back and forth to the parent 
for 1000000 iterations, measuring response time for each iteration and 
computing statistics.  With an iteration % 1000 printf() in the evaluation 
routine, I see it start off nice and fast, then begins to get starved for 
up to 30 seconds.  It jerks around for a bit, then slows down to a ~stable 
1 sec/iteration after approximately 300000 iterations.  The whole test 
takes ~2minutes with 2.5.64-virgin.  (I'm not patient enough to wait for 
the rest of the .5million iterations left on this burn before reporting:)
It also shows a serious throughput loss with make -j30 bzImage on this box 
(I think you expect that though from what I read).  With stock, it takes 
~8m30s... this scheduler adds a full minute.
The window wave test with a make -j5 bzImage running (fits easily in ram) 
is pretty ragged.
Ending on a more positive note, vmstat output from the parallel build looks 
quite nice.
	-Mike
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/