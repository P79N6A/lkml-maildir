Date: Thu, 2 Mar 2000 11:28:08 -0500 (EST)
From: ADAM Sulmicki <>
Subject: Re: oom killing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/2/101

> On Tue, 29 Feb 2000, Roman Zippel wrote:
> 
> >Oh, that's even gets better. If you push that a little harder, it even
> >kills init and then it's time to press the reset button (even alt-sysbrk
> >won't save you from a fsck :( ).
> 
> This patch fixes the oom troubles:
> 
> 
ftp://ftp
.*.kernel.org/pub/linux/kernel/people/andrea/patches/v2.3/2.3.47pre7/oom-3.gz
Can you give brief description what whatw as wrong/how if it is fixing.
upbon brief look it seems to me that a) init get preferential treatment,
b) it tries to kill them more gracefully.
And for that matter, wouldn't it be better to simply disable memory
overcommiting by default? I think it is unreasonable to expect to have
random process killed on _momentary_ out of memory thing. This opens way
to simple, and *very* effective Denial-Of-Service attack. You no longer
run box out of memory, you further cause other processes get killed. 
A program expect ENOMEM error, and not giving it is kind of cheating on 
it and defiant from what the program expect. Thus IMHO I think the
'memory overcommit' shoud be off by default.
Am I wrong here? 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/