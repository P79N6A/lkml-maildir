Date: Tue, 17 Jun 2003 23:10:44 +0200
From: Adrian Bunk <>
Subject: [2.5 patch] net/wireless: make two frequency_list static
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/17/189

2.5 kernels up to 2.5.72 fail to compile with the following error:
<--  snip  -->
...
  LD      
drivers/net/wireless/built-in.o
drivers/net/wireless/atmel.o(.rodata+0x1a0): 
multiple definition of `frequency_list'
drivers/net/wireless/airo.o(.rodata+0x0): first defined here
make[3]: *** [drivers/net/wireless/built-in.o] Error 1
<--  snip  -->
the patch below makes both frequency_list static.
I've tested the compilation with 2.5.72.
cu
Adrian
--- linux-2.5.70-mm6/drivers/net/wireless/airo.c.old	2003-06-08 17:24:35.000000000 +0200
+++ linux-2.5.70-mm6/drivers/net/wireless/airo.c	2003-06-08 17:24:56.000000000 +0200
@@ -889,7 +889,7 @@
 
 #ifdef WIRELESS_EXT
 // Frequency list (map channels to frequencies)
-const long frequency_list[] = { 2412, 2417, 2422, 2427, 2432, 2437, 2442,
+static const long frequency_list[] = { 2412, 2417, 2422, 2427, 2432, 2437, 2442,
 				2447, 2452, 2457, 2462, 2467, 2472, 2484 };
 
 // A few details needed for WEP (Wireless Equivalent Privacy)
--- linux-2.5.70-mm6/drivers/net/wireless/atmel.c.old	2003-06-08 17:23:55.000000000 +0200
+++ linux-2.5.70-mm6/drivers/net/wireless/atmel.c	2003-06-08 17:24:21.000000000 +0200
@@ -1903,7 +1903,7 @@
 	return 0;
 }
 
-const long frequency_list[] = { 2412, 2417, 2422, 2427, 2432, 2437, 2442,
+static const long frequency_list[] = { 2412, 2417, 2422, 2427, 2432, 2437, 2442,
 				2447, 2452, 2457, 2462, 2467, 2472, 2484 };
 
 static int atmel_set_freq(struct net_device *dev,
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/