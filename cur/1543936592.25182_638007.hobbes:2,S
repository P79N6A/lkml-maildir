Date: Mon, 14 Jan 2008 16:20:35 +0530
From: Ratnadeep Joshi <>
Subject: [PATCH] Re-organization of PIDMAP_ENTRIES macro expansion
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/14/90

This patch tries to re-organize the macro expansion of PIDMAP_ENTRIES
(possibly) to a more clear one.
Thanks,
- Ratnadeep Joshi
diff --git a/include/linux/pid_namespace.h
b/include/linux/pid_namespace.h
index 1689e28..06e3e99 100644
--- a/include/linux/pid_namespace.h
+++ b/include/linux/pid_namespace.h
@@ -12,7 +12,7 @@ struct pidmap {
        void *page;
 };
 
-#define PIDMAP_ENTRIES         ((PID_MAX_LIMIT + 8*PAGE_SIZE -
1)/PAGE_SIZE/8)
+#define PIDMAP_ENTRIES         ((PID_MAX_LIMIT - 1)/PAGE_SIZE/8 + 1)
 
 struct pid_namespace {
 	struct kref kref;