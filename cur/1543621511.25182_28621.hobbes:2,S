Date: Sat, 16 Feb 2002 17:20:48 +0100
From: Andrea Arcangeli <>
Subject: Re: [PATCH] Radix-tree pagecache for 2.5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/16/69

On Thu, Jan 31, 2002 at 04:01:59PM -0800, David S. Miller wrote:
> --- vanilla/linux/arch/i386/mm/init.c	Sun Nov 18 19:59:22 2001
> +++ linux/arch/i386/mm/init.c	Mon Nov 12 00:14:00 2001
> @@ -466,6 +466,8 @@
>  #endif
>  	high_memory = (void *) __va(max_low_pfn * PAGE_SIZE);
> 
> +	page_cache_init(count_free_bootmem());
> +
>  	/* clear the zero-page */
I wanted to merge it, but pagecache will be in highmem as well, and the
above only takes into account the normal classzone (so it can be off by
63G).
Also I'd prefer page_cache_init() to be recalled within
free_all_bootmem/free_all_bootmem_node, so we don't need to change all
archs. to take highmem into account we can use the globals
highstart_pfn/highend_pfn within an #ifdef CONFIG_HIGHMEM.
Are you interested in fixing it? Otherwise let me know. Thanks!
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/