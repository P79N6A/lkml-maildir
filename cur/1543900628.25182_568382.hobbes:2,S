Date: Thu, 12 Jul 2007 16:45:45 +0200
From: Michael Gerdau <>
Subject: Re: v2.6.22.1-rt1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/12/167

[sorry Ingo for the dublicated post]
> to build a 2.6.22.1-rt1 tree, the following patches should be applied:
>  
>    
http://kernel.org/pub/linux/kernel/v2.6/linux-2.6.22.1.tar.bz2
>    
http://redhat.com/~mingo/realtime-preempt/patch-2.6.22.1-rt1
I get a compile error on my x86_64 dualcore sytem.
mgd@seneca:/usr/src/linux-2.6.22.1-rt1> make
  CHK     include/linux/version.h
  CHK     include/linux/utsrelease.h
  CALL    scripts/checksyscalls.sh
  CHK     include/linux/compile.h
  CC [M]  net/rfkill/rfkill-input.o
net/rfkill/rfkill-input.c: In function ‘rfkill_schedule_toggle’:
net/rfkill/rfkill-input.c:60: error: size of array ‘type name’ is negative
net/rfkill/rfkill-input.c:60: warning: comparison of distinct pointer types lacks a cast
net/rfkill/rfkill-input.c:68: error: size of array ‘type name’ is negative
net/rfkill/rfkill-input.c:68: warning: comparison of distinct pointer types lacks a cast
net/rfkill/rfkill-input.c: At top level:
net/rfkill/rfkill-input.c:82: warning: implicit declaration of function ‘__MUTEX_INITIALIZER’
net/rfkill/rfkill-input.c:82: warning: missing braces around initializer
net/rfkill/rfkill-input.c:82: warning: (near initialization for ‘rfkill_wlan.mutex’)
net/rfkill/rfkill-input.c:82: error: initializer element is not constant
net/rfkill/rfkill-input.c:82: error: (near initialization for ‘rfkill_wlan.mutex.lock.wait_lock.raw_lock.slock’)
net/rfkill/rfkill-input.c:82: error: initializer element is not constant
net/rfkill/rfkill-input.c:82: error: (near initialization for ‘rfkill_wlan.lock’)
net/rfkill/rfkill-input.c:83: warning: missing braces around initializer
net/rfkill/rfkill-input.c:83: warning: (near initialization for ‘rfkill_bt.mutex’)
net/rfkill/rfkill-input.c:83: error: initializer element is not constant
net/rfkill/rfkill-input.c:83: error: (near initialization for ‘rfkill_bt.mutex.lock.wait_lock.raw_lock.slock’)
net/rfkill/rfkill-input.c:83: error: initializer element is not constant
net/rfkill/rfkill-input.c:83: error: (near initialization for ‘rfkill_bt.lock’)
make[2]: *** [net/rfkill/rfkill-input.o] Fehler 1
make[1]: *** [net/rfkill] Fehler 2
make: *** [net] Fehler 2
I used a linux-2.6.22.tar.bz2 and applied patch-2.6.22.1.bz2 followed
by patch-2.6.22.1-rt1
I had copied my .config from my (working) 2.6.22-cfs-v19 directory and
issued a 'make oldconfig' using mostly defaults.
Best,
Michael
-- 
 Technosis GmbH, Geschäftsführer: Michael Gerdau, Tobias Dittmar
 Sitz Hamburg; HRB 89145 Amtsgericht Hamburg
 Vote against SPAM - see 
http://www.politik-digital.de/spam/
 Michael Gerdau       email: mgd@technosis.de
 GPG-keys available on request or at public keyserver
[unhandled content-type:application/pgp-signature]