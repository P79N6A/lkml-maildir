Date: Fri, 26 Jan 2007 12:46:28 -0600
From: Matt Mackall <>
Subject: Re: [PATCH] init: support preset lpj value as config option
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/1/26/261

On Fri, Jan 26, 2007 at 10:29:24AM -0800, Tim Bird wrote:
> Andrew Morton wrote:
> >> i386 is missing CONFIG_CMDLINE support, and this architecture
> >> is used in embedded.
> > 
> > So if we add CONFIG_CMDLINE we fix this problem and we bring i386 into line
> > with other platforms.  It's all good.
> > 
> >>  I think many other x86 derivatives are
> >> also missing .config-based command line support.  CELF has
> >> worked to get patches submitted to fix this, but so far these
> >> haven't been accepted.
> > 
> > You have?
> > 
> > <looks at inbox>
> > 
> > To whom?
> 
> Matt Mackall would know better than I.  He's the person
> CELF hired to do this.  Here are some of the previous LKML
> discussions around this issue:
> 
> 
http://lkml.org/lkml/2006/6/11/115
> 
> 
http://lkml.org/lkml/2006/7/31/208
> 
> Last time I talked to Matt about this (some time in
> November, I believe), he said he had worked out a
> solution agreeable to H. Peter Anvin, who had issues
> with the original submission.  I'm not sure if that
> latest solution was submitted to mainline or not.
The idea was to allow putting something like "%s" in the built-in
command line and expanding that with the provided command line. This
allows you to append/prepend/ignore the provided command line as you
desire.
This is a fair bit more complicated than what the existing
implementations of CONFIG_CMDLINE are doing and details like
early_cmdline handling don't help matters. Haven't yet come up with an
implementation I'm happy with.
-- 
Mathematics is the supreme nostalgia of our time.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/