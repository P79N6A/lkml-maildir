Date: Tue, 25 Jul 2006 19:55:39 +0200
From: Arjan van de Ven <>
Subject: Re: [PATCH] RTC: Add mmap method to rtc character driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/25/183

> @@ -265,6 +269,7 @@ irqreturn_t rtc_interrupt(int irq, void 
> 
>  	kill_fasync (&rtc_async_queue, SIGIO, POLL_IN);
> 
> +	*count_ptr = (*count_ptr)++;
Hi,
it's a cute idea, however 3 questions:
1) you probably want to add a few memory barriers around this, right?
2) why use the rtc and not the regular timer interrupt?
(and 
3) this will negate the power gain you get for tickless kernels, since
now they need to start ticking again ;( )
Greetings,
   Arjan van de Ven
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/