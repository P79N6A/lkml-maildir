Date: Mon, 21 Aug 2000 20:18:03 +0800
From: Andrey Savochkin <>
Subject: Re: eepro100 status?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/21/42

Hello,
On Mon, Aug 21, 2000 at 11:06:12AM +0100, Tony Hoyle wrote:
> Tigran Aivazian wrote:
> > 
> > On Sun, 20 Aug 2000, Tony Hoyle wrote:
> > 
> > > I notice the eepro100 driver still has the 'device reports no resources'
> > > bug.  Does a fix exist for this?
> > >
> > > Tony
> > 
> > isn't it just for stats, like running ifconfig(8) under very high load?
> > 
> No, when this error is generated it stops the card working, and you have
> to 
> ifconfig down/up the interface to reinitialise it.
There are different reasons for "no resource" reports.
The first possible is a big traffic bursts exhausting the whole RX ring.
This cases are rare.
The second one is RX buffer allocation failures leaving the card without
space for receiving packets.  In this case "no resource" report is prepended
by "can't fill rx buffer" messages.
Messages in these two cases just show that network load is high, but the
driver and the card do their best.  A packet or two may be dropped in these
cases.  If the computer is really supposed to handle very high load, the
system parameters may be adjusted.
Some people see "no resource" messages immediately after initialization.
It's a bug in the initialization sequence, not completely solved yet.
But there are known workarounds.
On Mon, Aug 21, 2000 at 11:36:02AM +0100, Tigran Aivazian wrote:
> On Mon, 21 Aug 2000, Tony Hoyle wrote:
> 
> > Tigran Aivazian wrote:
> > > 
> > > On Sun, 20 Aug 2000, Tony Hoyle wrote:
> > > 
> > > > I notice the eepro100 driver still has the 'device reports no resources'
> > > > bug.  Does a fix exist for this?
> > > >
> > > > Tony
> > > 
> > > isn't it just for stats, like running ifconfig(8) under very high load?
> > > 
> > No, when this error is generated it stops the card working, and you have
> > to 
> > ifconfig down/up the interface to reinitialise it.
> > 
> 
> Not for me. I have lots of these errors on a dual port 82557 eepro100 with
> both ports extremely busy, when running ifconfig just to dump the
> stats. And the ports continued running just fine after the errors. I.e. I
> didn't need to down/up the interfaces.. If you look at the code, there is
> a possibility there to restart the receiver and _not_ to do so. Perhaps in
> your case it restarts it and in mine, it doesn.
> 
> Is there a datasheet for eepro100 (or at least for 82557 chipset?)
> somewhere? It would be interesting to understand what status 8 actually
> means.
Consult sources of the Intel's driver.  Now it's the most convenient source
of the information, and I use it :-)
Best regards
					Andrey V.
					Savochkin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/