Date: Mon, 08 Feb 1999 13:23:02 -0800
From: Dan Christian <>
Subject: Oops MegaRaid and 2Gb
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/8/120

I reported earlier about an oops in 2.2.1-ac5 in the megaraid driver.
It turns out that I only get an oops in a 2Gb kernel (__PAGE_OFFSET of
0x8000...).  I don't get it with 2.2.1 (1Gb) or 2.2.1-ac5 (1Gb).  The
oops doesn't happen with the 2Gb kernel if booted with mem=960M.
This system is a Dell 4 way Xeon-1Mb, 2Gb RAM, AMI Megaraid 428 (with
16Mb and battery), version 0.93 driver, version 1.47 BIOS, 6 physical
disks arranged as 3 virtual disks, AIC7xxx for tape and CD, (2) Intel
eepro 100baseT.
The oops tends to happen within seconds of starting a significant load.
It dies in build_sglist in the megaraid driver.
Options used: -V (specified)
              -O (specified)
              -k /proc/ksyms (specified)
              -l /proc/modules (default)
              -M (specified)
              -c 1 (default)
Unable to handle kernel NULL pointer dereference at virtual address
00000000
current->tss.cr3 = 6e151000, %cr3 = 6e151000
*pde = 00000000
Oops: 0002
CPU:    1
EIP:    0010:[<801ab8d2>]
EFLAGS: 00010006
eax: 00000000   ebx: 00000000   ecx: 69edf800   edx: 00000000
esi: 80078a00   edi: 80082104   ebp: 80082118   esp: ee153d84
ds: 0018   es: 0018   ss: 0018
Process update (pid: 538, process nr: 28, stackpage=ee153000)
Stack: 80080078 8019644c 801ab1a1 80080078 80082104 80082118 ee153dc0
80080000
       8008b800 80080078 8019644c 80080078 80080a30 80082110 80082118
8008b800
       801abe9c 80080078 8008b800 00010800 80080041 80080000 8008b800
801910df
Call Trace: [<8019644c>] [<801ab1a1>] [<8019644c>] [<801abe9c>]
[<801910df>] [<8019644c>] [<801aea28>]
       [<80199537>] [<80197d60>] [<801910df>] [<8019644c>] [<801aea28>]
[<80197a76>] [<80199537>] [<801985f7>]
       [<80198638>] [<8016e3ed>] [<8016e566>] [<8016eeaf>] [<8016f05c>]
[<80129e47>] [<80129f78>] [<80108c00>]
Code: 89 0c d8 8b 44 16 08 8b 4f 58 89 44 d9 04 43 8b 47 08 0f b7
>>EIP: 801ab8d2 <proc_print_scsidevice+1418a/14960>
Trace: 8019644c <scsi_sleep+1478/1c18>
Trace: 801ab1a1 <proc_print_scsidevice+13a59/14960>
Trace: 8019644c <scsi_sleep+1478/1c18>
Trace: 801abe9c <proc_print_scsidevice+14754/14960>
Trace: 801910df <scsi_do_cmd+4ef/b54>
Trace: 8019644c <scsi_sleep+1478/1c18>
Trace: 801aea28 <sprintf+14/10cac>
Trace: 80199537 <proc_print_scsidevice+1def/14960>
Trace: 80198638 <proc_print_scsidevice+ef0/14960>
Code:  801ab8d2 <proc_print_scsidevice+1418a/14960> 00000000 <_EIP>:
Code:  801ab8d2 <proc_print_scsidevice+1418a/14960>    0:       89 0c
d8       movl   %ecx,(%eax,%ebx,8)
Code:  801ab8d5 <proc_print_scsidevice+1418d/14960>    3:       8b 44 16
08    movl   0x8(%esi,%edx,1),%eax
Code:  801ab8d9 <proc_print_scsidevice+14191/14960>    7:       8b 4f
58       movl   0x58(%edi),%ecx
Code:  801ab8dc <proc_print_scsidevice+14194/14960>    a:       89 44 d9
04    movl   %eax,0x4(%ecx,%ebx,8)
Code:  801ab8e0 <proc_print_scsidevice+14198/14960>    e:
43             incl   %ebx
Code:  801ab8e1 <proc_print_scsidevice+14199/14960>    f:       8b 47
08       movl   0x8(%edi),%eax
Code:  801ab8e4 <proc_print_scsidevice+1419c/14960>   12:       0f b7
00       movzwl (%eax),%eax
--
_______________________________________________________________________
Disraeli was pretty close: actually, there are Lies, Damn lies, Statistics,
Benchmarks, and Delivery dates.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/