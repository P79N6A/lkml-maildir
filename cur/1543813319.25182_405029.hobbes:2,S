Date: Thu, 09 Mar 2006 16:06:47 -0500
From: Ben Collins <>
Subject: SMP on UP (Was Re: State of the Linux PCI and PCI Hotplug	Subsystems for	2.6.16-rc5)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/9/254

On Thu, 2006-03-09 at 15:52 -0500, Lee Revell wrote:
> On Thu, 2006-03-09 at 15:10 -0500, Ben Collins wrote:
> > The difference between our 2.6.15 386 and 686 kernels is actually pretty
> > huge. The 386 is M486, and UP, while our 686 kernel is M686, and SMP.
> > The SMP is also complicated by our use of the SMP-alternatives patch,
> > but I believe I had this user test with this disabled (kernel command
> > line option that leaves all the SMP code intact for testing). It didn't
> > alter the problem. 
> 
> Ubuntu doesn't provide a UP 686 kernel?
> 
> Isn't there a performance hit running an SMP kernel on UP?
This is a little off-topic to the original thread, so trimming CC and
changing subject.
As mentioned above, we have the SMP-alternatives patch, which will
basically convert SMP related code (lock op's and some atomic
operations) to UP, on-the-fly (at boot for the kernel, and at load for
modules). It's not 100% the same as running a UP kernel, but it comes
close enough that it allows us to distribute fewer kernels. This equates
to less load on us and our users.
I don't want to start this whole thread over again, so check back in the
linux-kernel archives for the SMP alternatives patch thread.
-- 
Ubuntu     - 
http://www.ubuntu.com/
Debian     - 
http://www.debian.org/
Linux 1394 - 
http://www.linux1394.org/
SwissDisk  - 
http://www.swissdisk.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/