Date: Mon, 12 Apr 1999 00:20:20 +0200
From: Kurt Garloff <>
Subject: Re: AMD PCSCSI (AM53c974) driver bug in 2.2.x in SMP but not single CPU mode
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/11/68

On Fri, Apr 09, 1999 at 04:36:45PM -0700, David A. Ranch wrote:
> I have confirmed a problem with the AMD PC-SCSI driver hanging in 
> the 2.2.x kernels when compiled in SMP mode but -NOT- in non-SMP mode.  
> It should also be noted that a 2.0.36 kernel with SMP support works 
> fine.
I guess, nobody really cared for the AM53C974 driver using spinlocks
correctly. So, it's not SMP safe. In 2.0.36, there was a global kernel lock,
so the driver's authors didn't need to be SMP aware.
Please try the tmscsim (Tekram DC390/Generic AM53C974) driver and tell me
your results. I myself am using a SMP system with this driver.
Reagrds,
-- 
Dipl.Phys. Kurt Garloff <kurt@garloff.de>               [Wuppertal, FRG]
Plasma physics, high perf. computing              [Linux-ix86,-axp, DUX]
PGP key: see mailheader / key servers         [Linux SCSI driver: DC390]
[unhandled content-type:application/pgp-signature]