Date: Fri, 9 Jul 1999 22:49:34 +0200
From: Kurt Garloff <>
Subject: Re: OOPS with 2.2.10-ac9
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/9/113

On Thu, Jul 08, 1999 at 10:17:54AM +0200, georg.funke@netcologne.de wrote:
> Hi,
> 
> today i want to burn a CD but i get the following kernel oops with
> 2.2.10-ac8.
> 
> [Absolutely useless info snipped!]
> 
> I newer get a oops when i want to burn a CD.
> Unable to handle kernel NULL pointer dereference at virtual address 00000000
> current->tss.cr3 = 05bbc000, %cr3 = 05bbc000
> *pde = 00000000
> Oops: 0002
> CPU:    0
> EIP:    0010:[<c0120731>]
> EFLAGS: 00010292
> eax: 0000001b   ebx: 5a5a5a5a   ecx: 00000024   edx: 00000017
> esi: c0093340   edi: 5a5a5a5a   ebp: c906a3a0   esp: c102de8c
> ds: 0018   es: 0018   ss: 0018
> Process rmmod (pid: 1312, process nr: 55, stackpage=c102d000)
> Stack: 00000018 00000246 5a5a5a5a c0093340 c0093160 c906a3a0 c759d800 00000b00 
>        00000000 00000246 c759d818 c00901c4 00072000 c017fb1f 5a5a5a5a c011a69e 
>        c34fbb20 fffffffe 5a5a5a5a c0093340 c0093160 c906a3a0 c74e2300 c9066000 
> Call Trace: [<c017fb1f>] [<c011a69e>] [<c018122a>] [<c0181319>] [<c0115e9c>] [<c0115e1f>] [<c010e274>] 
>        [<c01154a3>] [<c010910d>] [<c0108fd4>] 
> Code: c7 05 00 00 00 00 00 00 00 00 83 c4 10 5b 5e 5f 5d 83 c4 1c 
> Warning: trailing garbage ignored on Code: line
>   Text: 'Code: c7 05 00 00 00 00 00 00 00 00 83 c4 10 5b 5e 5f 5d 83 c4 1c '
> >>EIP: c0120731 <kfree+2b1/2c8>
> Trace: c017fb1f <scsi_init_free+37/40>
> Trace: c011a69e <do_anonymous_page+6e/80>
> Trace: c018122a <scsi_unregister_device+66/b0>
> Trace: c0181319 <scsi_unregister_module+3d/44>
> Trace: c0115e9c <free_module+a0/ac>
> Trace: c0115e1f <free_module+23/ac>
> Trace: c010e274 <do_page_fault+108/334>
> Trace: c01154a3 <sys_delete_module+1bf/200>
> Code:  c0120731 <kfree+2b1/2c8>                0000000000000000 <_EIP>: <===
> Code:  c0120731 <kfree+2b1/2c8>                   0:	c7 05 00 00 00 00 00 	movl   $0x0,0x0 <===
> Code:  c0120738 <kfree+2b8/2c8>                   7:	00 00 00 
> Code:  c012073b <kfree+2bb/2c8>                   a:	83 c4 10             	addl   $0x10,%esp
> Code:  c012073e <kfree+2be/2c8>                   d:	5b                   	popl   %ebx
> Code:  c012073f <kfree+2bf/2c8>                   e:	5e                   	popl   %esi
> Code:  c0120740 <kfree+2c0/2c8>                   f:	5f                   	popl   %edi
> Code:  c0120741 <kfree+2c1/2c8>                  10:	5d                   	popl   %ebp
> Code:  c0120742 <kfree+2c2/2c8>                  11:	83 c4 1c             	addl   $0x1c,%esp
This is a bug on removing devices in the scsi mid-layer. It's triggered by
ac8's slab poisioning. A patch has been sent to Alan and should cure this.
You may also find it on linux-scsi ...
Regards,
-- 
Kurt Garloff  <garloff@suse.de>           SuSE GmbH, NÃ¼rnberg, FRG
Linux kernel development;    SCSI driver: DC390 (tmscsim/AM53C974)
[unhandled content-type:application/pgp-signature]