Date: Tue, 25 Jul 2000 15:57:35 -0400
From: Paul Gortmaker <>
Subject: Re: weired NE2K ether problem - help!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/25/175

Jun Sun wrote:
> machine : MIPS, (little endian)
> kernel : from MIPS CVS tree, v2.4.0-test2
> ether : RTL 8029 (SMC EZNET-PCI, NE2k compatible)
> 
> I am attempting to boot the system through NFS root FS, however, I
> failed to see any packet sent out from the board.  What is strange is
> that the board receives interrupts just fine.  And each time the
> ipconfig_bootp_send_if() sends out a bootp packet, it actually receives
> transmit interrupt as well!
> 
> I trace the stack, everything seems fine.  There is just no packet out.
> Does anybody have a clue here?  Or at least how should further probe the
> problem?
In 8390.h you should increase ei_debug from one to 4. Also add a
#define VERBOSE_ERROR_DUMP
which will give you detailed information as to how your packet
transmission failed.  That plus the driver detection messages might
help me and others shed some more light on the issue.
If you can manage a temporary alternative to NFS root you can also
make use of ne2k-pci-diag.c (Diagnostics/EEPROM setup for PCI NE2000).
Paul.
__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/