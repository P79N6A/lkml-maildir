Date: Sat, 1 Sep 2007 14:51:20 +0200
From: Samuel Thibault <>
Subject: Re: [PATCH] Console keyboard events and accessibility
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/1/67

Hi,
Pavel Machek, le Sat 01 Sep 2007 12:32:58 +0000, a Ã©crit :
> > > > > They can use the raw xlation for that.
> > > > 
> > > > For userland, yes.  This is for kernel modules.
> > > 
> > > And should speakup be a kernel module? Why?
> > 
> > Because userland only begins quite late in the boot process, and
> > userland may hang.
> 
> Initrd means userland is started very early on most machines these
> days, and kernel may hang, too.
Very early is not so early, and loading initrd itself may actually fail.
The kernel may indeed hang, but there are more chances to get some
messages before the hang.  Don't _you_ have a VGA screen for getting
earliest failure messages from the kernel?
> > > What is missing? Yes, you may want to do a small kernel module to read
> > > kernel bootup messages.
> > 
> > That's what it's all about.
> 
> But this small module should not need keyboard leds support, as those are not used during
> boot. If all you want is to read kernel bootup messages, you should
> just register a special console. Actually serial console should do.
The problem is that using both a tool for early message and for later
messages is not particularly handy, that's why speakup is actually
used by people both for boot time and afterwards.  People are indeed
considering moving speakup into userland, but some people still _need_
speakup in the kernel for their everyday work.  Having two versions of
speakup (user and kernel) is just asking for more maintain work, and it
happens that speakup already doesn't have many people involved...
Samuel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/