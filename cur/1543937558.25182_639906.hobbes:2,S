Date: Thu, 17 Jan 2008 23:44:13 +0100 (CET)
From: Jan Engelhardt <>
Subject: Re: [PATCH] x86: fix unconditional arch/x86/kernel/pcspeaker.c compiling
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/17/436

On Jan 17 2008 18:05, Michael Opdenacker wrote:
>>> +ifeq ($(CONFIG_INPUT_PCSPKR),y)
>>> +	obj-y			+= pcspeaker.o
>>> +endif
>>> 
>>
>> I'm not sure this does what you want. What if CONFIG_INPUT_PCSPKR = m?
>> 
>Does it make sense to compile arch/x86/kernel/pcspeaker.c as a module?
Hardly. No. Absolutely not. pcspeaker.c is a mere 20 lines - when
compiled (on x86_64) a mere 1824 bytes (and most of that is probably
ELF overhead). If you build that as a module, be sure to add an extra
6 to 7 kilobyte as module overhead. No, this is not really worth it.