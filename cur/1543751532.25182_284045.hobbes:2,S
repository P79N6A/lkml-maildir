Date: Fri, 7 Jan 2005 08:41:51 -0600
From: 	Mark_H_Johnson@Raytheon ...
Subject: Re: [Alsa-devel] Re: 2.6.10-mm1: ALSA ac97 compile error with	CONFIG_PM=n
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/7/113

> And if you want to find out who is using it then try fuser /dev/dsp,
> fuser /dev/snd/*, or lsof.
Hmm. I figured out which application is "getting in my way" but am not
quite sure why I have a problem opening the audio / what I should do
about it.
On my system...
# fuser /dev/snd/* /dev/dsp
/dev/snd/pcmC0D0p:    2972  2972m
# ps -fe | grep 2972
u21305    2972  2936  0 10:15 ?        00:00:02 artsd -F 10 -S 4096 -a alsa
-s 60 -m artsmessage -c drkonqi -l 3 -f
root      4915  3407  0 11:08 pts/7    00:00:00 grep 2972
# fuser /dev/snd/* /dev/dsp
[I caused a console beep here using backspace]
# fuser /dev/snd/* /dev/dsp
/dev/snd/pcmC0D0p:    2972  2972m
OK, so artsd wakes up on some trigger and then waits around a while
expecting to get some more audio to process. I see it is a user of
/dev/snd/pcmC0D0p but not a user of /dev/dsp. Yet when I attempt to
open /dev/dsp, I get an error.
When I successfully run latencytest (and open /dev/dsp) I see...
# fuser /dev/snd/* /dev/dsp
/dev/dsp:             9156
which is the pid of latencytest.
Can someone please explain the relationship between these devices
and why access to one of these devices prevents access to another?
This is certainly confusing to me.
Thanks.
  --Mark
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/