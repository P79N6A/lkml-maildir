Date: Tue, 11 May 2004 23:04:50 -0500
From: Dmitry Torokhov <>
Subject: Why pass pt_regs throughout the input system?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/12/3

Hi,
I have a question - why do we have to pass pt_regs structure throughout
entire input system? As far as I can tell it is a snapshot of all registers
that is done at the keyboard interrupt time and it is not used for anything
but for displaying this data when requested by SysRq.
Would it be wrong to save it by the hardware driver at interrupt time into a
structure accessible by keyboard.c? I do not think it matters if the data
shown by SysRq comes from interrupt other than one that serves keyboard...
Although it is somewhat a domain violation I do not think it is worse than
fattening interface to pass information that is not needed by most of its
users.  
-- 
Dmitry
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/