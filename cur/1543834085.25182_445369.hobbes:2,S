Date: Wed, 19 Jul 2006 11:44:27 +0800
From: "yunfeng zhang" <>
Subject: Re: Improvement on memory subsystem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/18/279

> On Tue, 18 Jul 2006 18:03:54 +0800, yunfeng zhang said:
>
> But wouldn't that end up causing a seek storm, rather than handling the pages
> in the order that minimizes the total seek distance, no matter where they are
> in memory? Remember - if you have a 2Ghz processor, and a disk that seeks in 1
> millisecond, every seek is (*very* roughly) about 2 million instructions.  So
> if we can burn 20 thousand instructions finding a read order that eliminates
> *one* seek, we're 1.98M instructions ahead.
Further sample is showd below
to page-fault (page-in operation) scan the pte triggering page-fault and its
following ptes in its VMA, if its followers are swap_entry_t type and their
relative offset is enough closer to the host pte, read them together.
to swap daemon (page-out operation), let's scan every pte of a VMA in the OS, if
we find an appropriate candidate, lock it and its following ptes if all ptes are
appropriate swap-out objects, then allocate a consecutive swap pages from swap
space, if we're success, do an efficient asynchronous IO operation; if we're
failed, shrink those ptes.
Isn't it right?
By the way, all improvements listed by me are introduced briefly, most of them
are complex, maybe only my documentation can descript them clearly.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/