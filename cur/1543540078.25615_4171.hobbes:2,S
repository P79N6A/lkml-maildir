Date: Thu, 27 Jul 2000 16:55:26 -0700
From: "David S. Miller" <>
Subject: Re: br_read_lock SMP race fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/27/163

   Date: Wed, 26 Jul 2000 17:00:40 +0200 (CEST)
   From: Andrea Arcangeli <andrea@suse.de>
   I don't see why we need any ordering in the fallback path.
Here is one reason.  Without the memory barrier nothing guarentees the
store of the counter decrement will leave the local cpu store buffer
in finite time (and thus be visible to the writer).  If an ordering is
imposed between the counter decrement store and the spin loop loads,
the store is propagated in finite time thus allowing the writer to
proceed in finite time.
Later,
David S. Miller
davem@redhat.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/