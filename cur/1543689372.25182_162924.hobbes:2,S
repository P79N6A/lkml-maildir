Date: Wed, 3 Sep 2003 23:33:46 +0530 (IST)
From: Nagendra Singh Tomar <>
Subject: Re: x86, ARM, PARISC, PPC, MIPS and Sparc folks please run this
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/4/21

On Thu, 4 Sep 2003, Davide Libenzi wrote:
> On Wed, 3 Sep 2003, Nagendra Singh Tomar wrote:
> 
> > Jamie,
> > 	Just wondered if the store buffer is snooped in some
> > architectures. In that case I believe the OS need not do anything for
> > serialization (except for aliases, if they do not hit the same cache
> line).
> > In x86 store buffer is not snooped which leads to all these
> serialization
> > issues (other CPUs looking at stale value of data which is in the
> store
> > buffer of some other CPU).
> > Pl correct me if I have got anything wrong/
> 
> To avoid the so called 'load hazard' (that, BTW, triggers read over
> writes, that are not allowed in x86) you have two options. Snoop the
> write
> buffer or flush it upon L1 miss. Otherwise you might end up getting
> stale
> data from L2.
> 
I meant to ask if the store buffer is snooped by *other CPUs*. To maintain 
self coherence the local store buffer has to be anyway consulted by local 
loads to give the latest stored value. 
Thanx,
tomar
> 
> 
> - Davide
> 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/