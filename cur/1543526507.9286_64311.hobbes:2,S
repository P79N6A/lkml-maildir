Date: Sat, 19 Feb 2000 15:38:13 +0800
From: Brad Campbell <>
Subject: Re: es1371 in 2.3.46
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/19/29

Thomas Sailer wrote:
> 
> Brad Campbell wrote:
> 
> > It appears to have a problem with the /dev/mixer interface
> > as it crashes any mixer app I try to run.
> 
> The attached patch hopefully fixes this...
> 
> > Where to next.. I'm not proficient in C, but I'll take the
> > time to do whatever it requires to solve the problem..
> > Problem being, I don't know where to start...
> 
> First use dmesg. Then you'll see a kernel oops. Then use
> ksymoops to decode the oops, then use find and grep to find
> the source files which contain the functions listed in
> the backtrace...
Using Kernel 2.3.47-pre3
Ok progress made, What appears to be happening is the kernel
is touching the card as it boots up, causing it to either
power down or mute all sound.. 2.2.14 did not do this..
However, 2.2.14 won't recognise the card at all..
When the driver is installed, with a minor modification to
ac97_codec.c in regards to it reading back values from
the structure rather than the hardware, I get mixer control..
If I plug the headphones in, I get sound, albiet very faint
and I have control over the volume.. from nothing to very
faint..
Looking at /proc/es1371 and comparing the values to the defines
in ac97_codec.h something is wrong..
They fluctuate when not being accessed. Is there a way I can 
dump the register contents under windows and compare them?
--
Brad..
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/