Date: Mon, 26 Jul 2004 20:29:59 +1000
From: Con Kolivas <>
Subject: Re: Autotune swappiness01
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/26/41

R. J. Wysocki wrote:
> On Monday 26 of July 2004 11:31, Con Kolivas wrote:
> 
>>R. J. Wysocki wrote:
>>
>>>On Monday 26 of July 2004 03:09, Con Kolivas wrote:
>>>
>>>>Con Kolivas writes:
>>>>
>>>>>Andrew Morton writes:
>>>>>
>>>>>>Seriously, we've seen placebo effects before...
>>>>>
>>>>>I am in full agreement there... It's easy to see that applications do
>>>>>not swap out overnight; but i'm having difficulty trying to find a way
>>>>>to demonstrate the other part. I guess timing the "linking the kernel
>>>>>with full debug" on a low memory box is measurable.
>>>>
>>>>I should have said - finding a swappiness that ensures not swapping out
>>>>applications with updatedb, then using that same swappiness value to do
>>>>the linking test.
>>>
>>>Please excuse me, but is that viable at all?  IMHO, it's just like trying
>>>to tune a radio including volume with only one knob.  I don't say it
>>>won't work, but the probability that it will is rather small, it seems
>>>...
>>
>>Well that's what we want. I cant remember other desktop operating
>>systems setting a root only control between night and day, or between
>>copying ISOs and running applications or...
> 
> 
> I agree, but isn't it related to the fact that other desktop OSes usually 
> don't run anything like updatedb nightly?
> 
> Perhaps we need a bit more sophisticated swap algorithm than other OSes do.  
> For example, couldn't we add an additional parameter to control the swapping 
> "behavior", apart from the swappiness?  Something like adding the second knob 
> in my radio example?  Just thinking,
I think one knob is one knob too many already. However as Andrew has 
pointed out there are server workloads that want swappiness of 100, 
hence I leave the knob in place.
Proof is in the pudding. Try my patch and/or post an alternative.
Cheers,
Con
[unhandled content-type:application/pgp-signature]