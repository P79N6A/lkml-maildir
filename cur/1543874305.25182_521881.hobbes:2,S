Date: Mon, 19 Mar 2007 19:29:41 -0400
From: Gene Heskett <>
Subject: Re: 2.6.20.3: kernel BUG at mm/slab.c:597 try#2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/19/401

On Monday 19 March 2007, James Bottomley wrote:
>On Mon, 2007-03-19 at 17:47 -0400, Gene Heskett wrote:
>> James, could this also be the cause of a tar based backup going crazy
>> and thinking all data is new under any 2.6.21-rc* kernel I've tested
>> so far with amanda, which in my case uses tar?  I've tried the fedora
>> patched tar-1.15-1, and one I hand built right after 1.15-1 came out
>> over a year ago, and they both do it, but only when booted to a
>> 2.6.21-rc* kernel.
>>
>> This obviously will be a show-stopper, either for amanda (and by
>> inference, any app that uses tar), or for the migration of an amanda
>> users machinery to a 2.6.21 kernel.
>
>Er, I don't think so .. that sounds like mtime miscompare, which is
>either a problem with the filesystem or a problem with the way mtime is
>stored in the tar archive.
>
>James
Well, since the times reported by ls -l --full-time are sane
[root@coyote pix]# ls -l --full-time
total 924784
-rw-r--r-- 1 root   root     985324 2002-06-09 18:14:54.000000000 -0400 
0203.jpg
[... the rest of a 100k listing, booted to 2.6.20.3-rdsl-0.31]
And:
[root@coyote pix]# ls -l --full-time
total 924784
-rw-r--r-- 1 root   root     985324 2002-06-09 18:14:54.000000000 -0400 
0203.jpg
booted to 2.6.21-rc4
allthough the fractional second is a string of .000000000, even when 
booted to a tar-unfriendly kernel, then it would tend to point at tar, 
but two differently built versions of tar have been confirmed as 
miss-behaving in the presence of a kernel in the 2.6.21 series so far, 
all of them.
I'm going to reboot twice more tonight, once to verify that the output of 
an ls -l --full-time is as I said above, I'll save this and do that again 
and clip it in after a reboot to 2.6.21-rc4, and once to 2.6.20.4-rc1 to 
see if by chance one of those patches is the guilty party.  I'll leave 
the latter running tonight for the amanda run & see what falls out.
-- 
Cheers, Gene
"There are four boxes to be used in defense of liberty:
 soap, ballot, jury, and ammo. Please use in that order."
-Ed Howdershelt (Author)
Try to relax and enjoy the crisis.
		-- Ashleigh Brilliant
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/