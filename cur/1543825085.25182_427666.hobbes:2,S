Date: Sun, 28 May 2006 09:04:27 +0200
From: Haar János <>
Subject: Re: How to send a break? - dump from frozen 64bit linux
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/28/13

----- Original Message ----- 
From: "Jim Crilly" <jim@why.dont.jablowme.net>
To: "Haar János" <djani22@netcenter.hu>
Cc: <linux-kernel@vger.kernel.org>
Sent: Sunday, May 28, 2006 1:43 AM
Subject: Re: How to send a break?
> On 05/27/06 02:58:44PM +0200, Haar János wrote:
> > Hello, list,
> >
> > I wish to know, how to send a "BREAK" to trigger the sysreq functions on
the
> > serial line, using echo.
> >
> > I mean like this:
> >
> > #!/bin/bash
> > echo "?BREAK?" >/dev/ttyS0
> > sleep 2
> > echo "m" >/dev/ttyS0
> >
>
> Is there a reason you can't use "echo -n m > /proc/sysrq-trigger"?
Yes, i want to dump my frequently frozen remote server, automatically, if it
is possible.  (using null-modem cable, and another server.)
Anyway, i made it this time by hand.
Here is the dump:
http://download.netcenter.hu/bughunt/20060528/log.txt
  (400KB!)
Can somebody tell me, what is wrong exactly?
Anyway, i interested about, how can i -a single user- interpret these dump
to made error reporting more useful?
The problem:
I used one stable system on 32bit, but i need to switch to X86_64, because
the nbd cannot use >2TB devices on 32bit.
I have reinstall the RH 9.0 to FC 5.0, and recompiled everything what i used
to serving. (the OS is only for external tasks.)
But on 64bit, my system becomes unstable.
Sometimes it is frozen, but no error message at all!
I can see, the crond-jobs is hangs too, but syslog can post messages, but no
valuable at all.
(I cannot login with ssh.)
Thats why i need to dump with serial console.
Can somebody help me? :-)
Here is the "normal" dmesg message:
http://download.netcenter.hu/bughunt/20060528/dmesg.txt
  (21KB)
Thanks,
Janos
>
> Jim.
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  
http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  
http://www.tux.org/lkml/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/