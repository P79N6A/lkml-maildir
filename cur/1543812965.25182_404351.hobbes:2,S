Date: Tue, 07 Mar 2006 21:16:34 -0700
From: (Eric W. Biederman)
Subject: Re: [PATCH] fix kexec asm
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/7/394

Chris Mason <mason@suse.com> writes:
> From: Michael Matz <matz@suse.de>
>
> While testing kexec and kdump we hit problems where the new kernel would
> freeze or instantly reboot.  The easiest way to trigger it was to kexec a
> kernel compiled for CONFIG_M586 on an athlon cpu.  Compiling
> for CONFIG_MK7 instead would work fine.
>
> The patch below fixes a few problems with the kexec inline asm.
Thanks.  Specifying the stomp of %eax in load_segments is definitely
good.  The memory stomp looks excessive and if this was a fast path
I would worry about it.  As it is better safe than sorry.
Acked-By: Eric Biederman <ebiederm@xmission.com>
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/