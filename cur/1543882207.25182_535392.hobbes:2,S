Date: Thu, 26 Apr 2007 11:58:09 -0400
From: "Dmitry Torokhov" <>
Subject: Re: [RFC 1/2] Input: ff, add FF_RAW effect
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/26/320

Hi Jiri,
On 4/23/07, Jiri Slaby <jirislaby@gmail.com> wrote:
> Dmitry Torokhov napsal(a):
> > For devices that require tailored application (for example that glove
> > - I am not sure how a generic application could control it) old
> > phantom way of controlling via ioctl will suffice. The device may
> > still use input layer to report back coordinates.
>
> And how about the individual FF ioctl? Did you mean registering another
> chardev, which is totally ugly in my eyes or augment evdev.c to support
> driver specific ioctl? i.e. either add another 'E' ioctl with pointer to
> struct { code, value } as arg param or changing
> if (_IOC_TYPE(cmd) != 'E'))
>        return -EINVAL;
> to sth. like
> if (_IOC_TYPE(cmd) != 'E'))
>        return dev->ioctl ? dev->ioctl(file, cmd, p) : -EINVAL;
> in evdev_ioctl_handler, which is acceptable?
>
I really do not want to have driver-specific ioctls attaching to
evdev. What is wrong with a separate device to control phantom? You
won't even have to use ioctl but regial write on it.
-- 
Dmitry
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/