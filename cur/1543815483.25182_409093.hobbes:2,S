Date: Tue, 21 Mar 2006 18:53:46 +0100
From: Sam Ravnborg <>
Subject: Re: [PATCH 35/46] kbuild: change kbuild to not rely on incorrect GNU make behavior
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/21/300

On Tue, Mar 21, 2006 at 06:28:20PM +0100, Jan-Benedict Glaw wrote:
> On Tue, 2006-03-21 17:20:57 +0100, Sam Ravnborg <sam@ravnborg.org> wrote:
> > diff --git a/scripts/package/Makefile b/scripts/package/Makefile
> > index c201ef0..d3038b7 100644
> > --- a/scripts/package/Makefile
> > +++ b/scripts/package/Makefile
> > @@ -82,7 +82,7 @@ clean-dirs += $(objtree)/debian/
> > 
> >  # tarball targets
> >  # ---------------------------------------------------------------------------
> > -.PHONY: tar%pkg
> > +PHONY += tar%pkg
> >  tar%pkg:
> >  	$(MAKE) KBUILD_SRC=
> >  	$(CONFIG_SHELL) $(srctree)/scripts/package/buildtar $@
> 
> This part is wrong. $(PHONY) isn't subject to pattern matching, so all
> targets that match 'tar%pkg' must be listed here. Fortunately, that's
> only three:
> 
> PHONY += tar-pkg targz-pkg tarbz2-pkg
Correct. It is fixed in a later patch were I kill the use of PHONY in
this file.
I got replaced by specifying FORCE as a prerequsite.
	Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/