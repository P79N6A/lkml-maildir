Date: Sat, 07 Jan 2006 19:14:49 +0000
From: Alan Cox <>
Subject: Re: Changes in SATA, IDE and ATAPI configuration
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/7/165

On Sad, 2006-01-07 at 11:34 -0500, andyliebman@aol.com wrote:
> -- BIOS settings for the ICH5 SATA controller on my Xeon motherboard 
> (Auto, SATA, PATA?)
> -- Whether the CD is connected to the Primary or Secondary IDE channel
Secondary slave is broken in 2.6.15 and all earlier SATA releases I've
seen for ICH5. ATAPI prefetch handling is incorrect on PIIX/ICH5. If the
CD is anywhere but the secondary slave it should be fine.
> -- Use (or NOT) of "options libata atapi_enabled=1" in modprobe.conf
If its modular. Otherwise it needs to be a boot time option for libata
> -- Order of loading modules
Shouldn't be
> -- Use (or NOT) of the AHCI module. When making fresh installs onto 
> SATA drives, some distributions seem to load the AHCI module and some 
> don't, on exactly the same hardware with the same kernel.
AHCI mode is an option for the ICH5-R and later controllers and BIOS
side.
Basically ICH5 supports
'Pretend we are one device' (Combined mode) which will see the PATA
ATAPI ports appear as non DMA IDE ports (old style) and in its full
functional mode where PATA and SATA ports are properly seperated out.
> Whatever it is, I haven't found the magic formula for making the 
> transfer from IDE to SATA work. 
Insert CD, install, sync over data. Actually for Fedora and anything
using initrd root device labels you should only need to make the right
initrd and set the options.
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/