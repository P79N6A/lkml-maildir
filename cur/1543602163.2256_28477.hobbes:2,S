Date: 24 Sep 2001 11:13:15 -0000
From: "Rico Tudor" <>
Subject: 2.4.10 cdrom readahead botch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/24/36

Reading within 160 KB of the end-of-track causes pandemonium.
For those unfamiliar with CDROM media, reading past end-of-track (in TAO
recordings) triggers a hard error from the drive.  For SAO, the error
occurs at the end of the last track of the session.
Through 2.4.9, Linux readahead is about 2 sectors, error recovery takes
a second, and DMA settings are preserved.  Even that readahead glitch
can be avoided by lightly padding the end of a track during a burn.
CDROM support in 2.4.10 has taken a giant step into the toilet, and
effectively breaks existing CDROMs.  Reading within 80 CDROM sectors
causes a boatload of error messages, minutes of delay, ATAPI resets,
loss of DMA settings.  I count 15 ATAPI resets when there should be 0.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/