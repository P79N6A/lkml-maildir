Date: Fri, 29 Mar 2002 12:39:59 -0800 (PST)
From: Davide Libenzi <>
Subject: Re: [PATCH] 2.5.7 IDE 27
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/29/96

On Fri, 29 Mar 2002, Martin Dalecki wrote:
> Davide Libenzi wrote:
> > On Thu, 28 Mar 2002, Martin Dalecki wrote:
> >
> >
> >>Thu Mar 21 03:17:48 CET 2002 ide-clean-27
> >>
> >>- Make for less terse error messages in ide-tape.c.
> >>
> >>- Replaced all timecomparisions done by hand with all the proper timer_after()
> >>   commands.
> >>
> >>- Remove the drive niec1 mechanisms alltogether. There are several reasons for
> >>   this:
> >
> >
> > I did not have the time to test it Martin but looking at the code i'm
> > pretty confident that this is the cause of the ide_set_handler()/timer
> > problem on my box ...
>
> Does it mean that you think that my guess was right?
ok, the nice1 defaulted to zero did not fix it but enabling the VIA
support yes, arghhh !!! i was using the VIA chipset w/out enabling it in
.config and this made the kernel to not probe it correctly and to force
off using_dma ( and io32bit ). this resulted, besides the ide_set_handler/timer
problem, in an throughput of 3.9 MB/sec against the 24 MB/sec that i'm getting now.
i need a vacation ...
(a couple of weeks ago i screwed up my patch-bot scripts that was hunging
by trying to merge 2.5.6-pre3 on 2.5.6 - not only i considered the
operation perfectly legal but i ended up asking Linus why he screwed up
the patch :-( )
- Davide
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/