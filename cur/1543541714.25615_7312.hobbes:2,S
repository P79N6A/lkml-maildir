Date: Mon, 14 Aug 2000 12:24:45 +0200 (CEST)
From: GÃ©rard Roudier <>
Subject: Re: [patch] lowlatency patch for 2.4, lowlatency-2.4.0-test6-B5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/14/45

On Fri, 4 Aug 2000, Rogier Wolff wrote:
> Andrew Morton wrote:
> > - There's some device driver module which takes ~100 millisecs when it's
> > loaded (Benno has details). Leave it alone - we can't and shouldn't audit all
> > the device driver initialisation code.
> 
> I haven't checked this, but I bet there are a few drivers that I've
> written that are a lot worse in this respect. I hope that this isn't a
> real problem for anyone? Don't use modules if it bothers you, or load
> the modules at boot, and make sure they don't unload. 
> 
> Also the NCR53C8XX driver probably hangs the machine for 2 full
> seconds during startup.
Ah?
Given default value for settle_time (2 seconds), it doesn't, but relies on
a kernel timer and local queuing for commands. The driver just doesn't
want to trigger time-outs from upper layer at start-up. Note that the
driver also takes care of lowering the current settle delay if a command
that may time out is queued during this settle delay. As a result, the
synchronous delay for settle time > 2 seconds at startup can probably be
removed, but this will require some testings.
Obviously, the driver uses a couple of milli-seconds of synchronous small
delays to ensure that the hardware does initialize correctly.
  Gerard.
PS1: the above applies to both ncr53c8xx and sym53c8xx drivers.
PS2: use statically linked drivers when possible. I consider statically
     linked drivers to be a great feature? ;-)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/