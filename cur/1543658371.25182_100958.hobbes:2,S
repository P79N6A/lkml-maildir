Date: Tue, 7 Jan 2003 09:42:15 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH] Set TIF_IRET in more places
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/7/137

On Tue, 7 Jan 2003, Jamie Lokier wrote:
> 
> Voila!  sigreturn() can be written to avoid entering the kernel.  Note
> that this is possible _now_, with no changes to the kernel.  It only
> requires changes to libc.  I think it would work on all architectures,
> not just i386.  (It may also be possible to do it without libc help,
> in the vsyscall page).
I'd certainly prefer playing these kinds of games _without_ any libc 
involvement, since making libc play games like this is fragile as hell and 
works really badly for threaded applications, for example (delivering 
signals to threads is _hard_ to get right, that's one of the things 2.5.x 
finally does thanks to Ingo and Uli).
But moving the signal trampoline to vsyscall space to prepare for changes 
like this is a good idea. I'll remove the SA_RESTORER logic too.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/