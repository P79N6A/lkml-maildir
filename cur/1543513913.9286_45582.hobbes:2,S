Date: 23 Oct 1999 20:37:20 -0400
From: Kirk Reiser <>
Subject: Linux box won't receive files on network
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/23/138

Hi Folks:  I am at a loss for what to do next with a networking
problem which has me befuddled.
I have a linux box acting as a server and gateway between an internal
LAN and the outside world through a Cisco 675 router.  I have two nic
cards in the linux box with bridging, forwarding, ip_masquerading and
the like compiled in.  The interface to the outside world seems to
work just fine.  The interface on the inside interface seems to be
able to transfer data to the windows boxes no problem, unfortunately,
it won't receive anymore than about 10k of data before stalling.
I am using NetGear FA310-tx cards on all machines and I have upgrade
the tulip driver to v0.91g.  I am running linux-2.2.12 but also had
the problem with 2.2.10.
I have done a tcpdump on the interface but don't seem to be able to
get much understanding from the output.  It appears as though the
windows box sends a number of packets to the linux box.  The linux box
does an ACK of those packets and the windows box sends more packets.
It looks as if the linux box just keeps sending back an ack for the
same block of data as it did before.  The sequence numbers on the
incoming packets change but the acks don't.  After a while the windows
box just times out.  I also have the kernel compiled for no
fragments.  I see the (DF) no fragment option on each packet sent from
the linux box.  I never see any kind of acknowledgement of that from
the windows box.
Does anyone have any idea what is wrong?  I would certainly appreciate
any help people might give me.  I would hate to lose this linux box to
an NT package.
  Kirk
-- 
Kirk Reiser				The Computer Braille Facility
e-mail: kirk@braille.uwo.ca		University of Western Ontario
phone: (519) 661-3061
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/