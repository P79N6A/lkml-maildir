Date: Sun, 23 Feb 2003 18:35:56 +0100
From: Marc-Christian Petersen <>
Subject: Re: oom killer and its superior braindamage in 2.4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/23/141

On Saturday 22 February 2003 21:32, Rik van Riel wrote:
Hi Rik,
> > > - Feb 21 10:04:57 codeman kernel: Out of Memory: Killed process 2657
> > > (apache).
> > > The above log entry (apache) appeared for about 4 hours every some
> > > seconds (same PID) until I thought about sysrq-b
> > > Is there any chance we can fix this up?
> > Yes.
> Never mind my last idea, it can be done much simpler ;)
hehe :)
> Does the below patch fix your problem ?
Well, this makes a difference. I filled up my memory with something else 
before starting mystress.pl because of top's|ps' slowness with many processes.
I had about 400 processes. The test from yesterday had ~ 1800.
With your patch, mystress.pl was marked to get killed, every PID only once, no 
apache or similar (good). ... But the strange thing is, that it seems none of 
the processes, which are marked to be killed, get killed. So sysrq-t tells 
me. Sysrq-i gave me the chance to get out of the OOM killing process and only 
kernel threads were left + getty's so I was able to log in again.
ciao, Marc
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/