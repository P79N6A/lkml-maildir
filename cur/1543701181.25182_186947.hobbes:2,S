Date: Mon, 29 Dec 2003 23:37:56 -0500
From: Dmitry Torokhov <>
Subject: Re: psmouse_proto=exps
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/29/274

On Monday 29 December 2003 11:28 pm, Greg Fitzgerald wrote:
> Hi,
>
> 	I am using a Raritan Switchman kvm switch, with a Logitech MX 500
> optical mouse. I have tried using 2.6.0, 2.6.0-mm1, 2.6.0-mm2, and
> 2.6.0-bk1. I can move the mouse around with no problems but when i try
> to use my scrollwheel instead of scrolling up and down my mouse cursor
> just moves across the screen. It works perfect in 2.4.23. I been
> reading the lists and i have tried using psmouse_proto=exps but have
> had the same results, i even tried the other drivers just to see if
> that would fix it but i keep coming up with the same results. Anyone
> have some ideas? Thanks in adavance.
>
Do you have psmouse as a module or compiled in? If it's compiled in you
have to use psmouse.psmouse_proto=exps for the parameter to be recognized
or apply the patch below.
Dmitry
diff -Nru a/drivers/input/mouse/psmouse-base.c b/drivers/input/mouse/psmouse-base.c
--- a/drivers/input/mouse/psmouse-base.c	Mon Dec 29 23:20:41 2003
+++ b/drivers/input/mouse/psmouse-base.c	Mon Dec 29 23:20:41 2003
@@ -22,6 +22,15 @@
 #include "synaptics.h"
 #include "logips2pp.h"
 
+/*
+ * Reset module param prefix regardless of whether we build psmouse as
+ * a module or directly into kernel, otherwise for build-in case
+ * parameters will have to be specified as psmouse.psmouse_proto which
+ * is unsightly
+ */
+#undef MODULE_PARAM_PREFIX
+#define MODULE_PARAM_PREFIX /* empty */
+
 MODULE_AUTHOR("Vojtech Pavlik <vojtech@suse.cz>");
 MODULE_DESCRIPTION("PS/2 mouse driver");
 MODULE_LICENSE("GPL");
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/