Date: Sat, 26 Nov 2005 14:31:37 +0100
From: Ingo Molnar <>
Subject: Re: robust futex heap support patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/26/30

* david singleton <dsingleton@mvista.com> wrote:
> There is a new patch, patch-2.6.14-rt15-rf1, that adds support for 
> robust and priority inheriting pthread_mutexes on the 'heap'.
we need to go a bit slower. For now i had to remove robust-futexes from 
the -rt17 release because they broke normal (non-robust) futex support 
in -rt15. A simple mozilla startup would hang... Please send fixes 
against -rt16 and i'll try to re-add the robust futexes patch later on.  
You can find -rt16 at:
 
http://people.redhat.com/mingo/realtime-preempt/older/patch-2.6.14-rt16
> The previous patches only supported either file based pthread_mutexes 
> or mmapped anonymous memory based pthread_mutexes.  This patch allows 
> pthread_mutexes to be 'malloc'ed while using the 
> PTHREAD_MUTEX_ROBUST_NP attribute or PTHREAD_PRIO_INHERIT attribute.
> 
> The patch can be found at:
> 
> 
http://source.mvista.com/~dsingleton
this patch looks much cleaner than the earlier one, but there's one more 
step to go: now that we've got the futex_head in every vma, why not hang 
all robust futexes to the vma, and thus get rid of ->robust_list and 
->robust_sem from struct address_space?
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/