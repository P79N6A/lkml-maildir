Date: Mon, 15 Dec 2008 22:59:23 +1100
From: Paul Mackerras <>
Subject: Re: [patch] Performance Counters for Linux, v4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/15/90

Ingo Molnar writes:
> For example, a full kernel build's statistics on a 16-way x86 box are:
> 
>   $ timec -e -5,-4,-3,1,2,3,5 make -j32 bzImage
> 
>   Performance counter stats for 'make':
> 
>          142420.882  task clock ticks     (millisecs)
> 
>             9951033  pagefaults           (events)
>              302628  context switches     (events)
>               57810  CPU migrations       (events)
>        208439082509  instructions         (events)
>           657918810  cache references     (events)
>           120243697  cache misses         (events)
>          3134162468  branch misses        (events)
Does this machine have sufficient hardware counters to count those
four hardware events at the same time?  Or were those counters
timeshared onto 1 or 2 hardware counters?  If it's the latter, are
those counts from half or a quarter of the total execution?
Paul.