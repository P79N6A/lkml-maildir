Date: Wed, 29 Nov 2006 15:02:19 -0800
From: Greg KH <>
Subject: Re: [patch 2.6.19-rc6] fix hotplug for legacy platform drivers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/29/264

On Wed, Nov 29, 2006 at 02:50:58PM -0800, David Brownell wrote:
> On Monday 27 November 2006 11:03 am, Greg KH wrote:
> 
> > David, any chance you can fix this up, as people are seeing this bug
> > today.
> 
> Here's my fix.  Unlike the fix Kay suggested, it causes at worst only
> a minor loss of functionality, so that tradeoff seems fair for a late
> merge.  I audited all the drivers using the relevant APIs, and I can't
> see many (if any!) folk hitting problems from this.
But this still can cause the problem that your 'modalias' file in sysfs
contains exactly the same name as the module itself, right?
That's not good, it should be an alias, not the "real name".
I'd even settle for 'driver:MODULE_NAME' and have that automatically
generated by the driver core logic somehow (note, Kay came up with that
idea in the past, it's not new...)
So, I don't like this patch, can't we come up with a way for the alias
to be just that, an alias?
That will ensure that userspace tools do not get confused, _and_ it be
possible to properly use the 'blacklist' option to modprobe (which only
works on aliases right now, as it should.)
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/