Date: Wed, 04 Oct 2006 21:17:21 -0700
From: "H. Peter Anvin" <>
Subject: Re: [PATCH 12/12] i386 boot: Add an ELF header to bzImage
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/5/6

Eric W. Biederman wrote:
> "H. Peter Anvin" <hpa@zytor.com> writes:
> 
>> Well, it doesn't help if what you end up with for some bootloader is a
>> nonfunctioning kernel.
> 
> I agree.  We need to look at what is happening closely.  
> However just because we have some initial glitches doesn't mean we
> shouldn't give up.
> 
> With grub you can say:
> kernel --type=biglinux /path/to/bzImage
> 
> As I read the code it won't necessarily force the type of kernel image
> grub will use but it will refuse to boot if it doesn't recognize 
> the kernel as the type specified.
> 
> The code for grub is in stage2/boot.c:load_image().  It tries a few
> other formats before it tests for the linux magic number but
> it won't recognize an ELF format executable unless it is a mutliboot
> or a BSD executable.
> 
This isn't just about Grub, though.  There is probably about a dozen 
bootloaders in use on i386, if not more.
	-hpa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/