Date: Tue, 11 Sep 2001 01:56:34 +0200 (CEST)
From: Andreas Steinmetz <>
Subject: reboot notifier priority definitions
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/10/110

As a suggestion to prevent further shutdown/reboot notifier processing problems
here's a (crude) attempt of definitions for include/linux/notifier.h. I do
believe it needs to be heavily reworked by someone with a broad kernel overview.
#define NOTIFY_REBOOT_PHYSICAL    0x00 /* scsi */
#define NOTIFY_REBOOT_LOGICAL     0x10 /* md, lvm */
#define NOTIFY_REBOOT_FS          0x20 /* knfsd */
#define NOTIFY_REBOOT_APPLICATION 0x30 /* tux */
The current situation of not having such definitions already did lead to a
kernel oops (md<->scsi). I do fear that if such definitions are not introduced:
1. code maintainers will strictly stick to priority 0 or will use random
   and not interoperable priorities
2. more and more interference problems will arise due to the above point
Andreas Steinmetz
D.O.M. Datenverarbeitung GmbH
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/