Date: Fri, 5 Dec 2003 09:14:04 +0200 (EET)
From: Mihai RUSU <>
Subject: Re: kernel BUG at mm/filemap.c:332!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/5/18

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
On Fri, 5 Dec 2003, Nathan Scott wrote:
> Was your filesystem near full?  There was a 2.4 deadlock fixed
> recently which could be what you hit there.
No it wasnt. It has a ~50% usage.
> You'll want a more recent 2.4 XFS kernel I suspect - Steve made
> several improvements in this area awhile back.
Ok. I know about improvements since XFS 1.1 and I assumed that using a 
recent (ie 2.6.0-test11) kernel the XFS bits with it whould be recent and 
such have those improvements.
> OK, looks like a default mkfs then (with an old-ish mkfs binary)?
True. Its a general /var partition, there waasnt any interest in giving 
mkfs paramteres for it.
> Newer mkfs' will give you a better AG layout and unwritten extents
> would be turned on - not relevent to this problem at all though.
Ok, noted :)
> An "ls -ld" and "xfs_bmap -v" on the directory would also provide
> me a bit more info to work with -- thanks!
$ ls -ld interfaces/
drwxr-xr-x    2 root     root        16384 Dec  5 09:06 interfaces/
$ /usr/sbin/xfs_bmap interfaces/
interfaces/:
        0: [0..7]: 25238288..25238295
        1: [8..31]: 25238304..25238327
> I have a few ideas about what this might be, let me stew on those
> for a bit and try a few things.
Thanks!
> -- 
> Nathan
- -- 
Mihai RUSU                                    Email: dizzy@roedu.net
GPG : 
http://dizzy.roedu.net/dizzy-gpg.txt
    WWW: 
http://dizzy.roedu.net
                       "Linux is obsolete" -- AST
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)
iD8DBQE/0DA+PZzOzrZY/1QRAnRoAJ9/VKw3okVloX1gTdayWXf1zxeJqACg1h9S
P9hQSHgK/K1CmlgT9/2L+H8=
=8PPr
-----END PGP SIGNATURE-----
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/