Date: Wed, 22 Mar 2006 09:37:33 +0200 (EET)
From: Pekka J Enberg <>
Subject: Re: [xfs-masters] Re: [PATCH] xfs: kill kmem_zone init
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/22/76

On Wed, 22 Mar 2006, Nathan Scott wrote:
> Regarding __GFP_NOFAIL, there are some situations where that could
> be used now, and others where it should not be - it'd take a very
> careful code audit and evidence of a level of low-memory-condition
> testing done, etc, before such a change would be merged.  Note that
> the -mm tree currently has a rework of the way incore extents are
> managed within XFS, which significantly changes (in a good way) the
> nature of the allocation requests we make (and hence I'm _really_,
> _really_ not interested in cosmetic patches in this area just now).
Yeah, just drop it then. After digging through your kmem_zone stuffs, I 
noticed you're using PF_FSTRANS in kmem_flags_convert() to detect GFP_NOFS 
cases which makes conversion to slab proper very difficult anyway. Would 
you accept patches to convert code under PF_FSTRANS to use KM_NOFS so we 
can kill the check in kmem_flags_convert()?
				Pekka
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/