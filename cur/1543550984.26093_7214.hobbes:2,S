Date: Mon, 9 Oct 2000 22:16:14 +0200
From: Andries Brouwer <>
Subject: Re: [PATCH] Link order of drivers outside drivers/scsi
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/9/61

On Mon, Oct 09, 2000 at 07:24:03PM +0100, Alan Cox wrote:
> > > You have to do Buslogic and AHA17xx before AHA15xx or you get a wrong driver
> > > 	and in the 17xx case data corruption risks
> > 
> > Hmm.. The current order is the same as in 2.2.x, and puts aha17xx _after_
> > the other ones. Or did that change in the later 2.2.x series?
> 
> I will double check that with Eric Youngdale. It may be the driver in the 1542
> code was changed to detect a 17xx and leave it alone at some point in 2.0
> days. The buslogic one the comments still claim is needed
> 
The test on AHA 1740 is much older.
In patch 0.98.6 we have
    if (inquiry_result[0] == 0x43) {
-     slow_scsi_io = hostnum;
-     printk("aha1542.c: Slow SCSI disk I/O selected for AHA 174N hardware.\n");
+     printk("aha1542.c: Emulation mode not supported for AHA 174N hardware.\n");
+     aha_disable = 1;
    };
So, as far as I can see, there are no conflicts between aha1542
and aha1740 in the sense that the former would try to handle the latter.
Conversely, that aha1740 also seems to test that it has the right card
in aha1740_test_port().
Maybe there is no ordering restriction?
Andries
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/