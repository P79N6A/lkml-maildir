Date: Thu, 19 Aug 2004 12:31:33 +0200
From: "Damjan Georgievski" <>
Subject: 2.6.7, apm suspend and ReiserFS bug?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/19/81

The kernel is vanilla 2.6.7.
The hardware is a p3-650mhz laptop with intel-bx chipset
and usb1 (uhci_hcd).
This is the problem, I had a 2.5" ide hard disk in a
external USB box, it works with usb-storage.
The hdd has two reiserfs filesystems on it. I had one of
them mounted (that was my old /home) when I suspended the
laptop (with apm --suspend, that's the only one working on
the laptop). After wakeing the laptop this is the error
message I got in "dmesg":
http://softver.org.mk/damjan-files/reiserfs-bug.txt
After that I couldn't umount that partition, but even worse
I couldn't umount ANY other ReiserFS partitions (root and
/home on the internal hdd). All the umount commands became
dormant, and also shutdown or reboot were dormant. I had to
do a hardware-reset. I don't think one block device going
bad, should affect other filesystems, no. Is this a bug?
This is my kernel config if its of any relevance:
http://softver.org.mk/damjan-files/01091369906/config
(note: even though this kernel has ACPI builtin, ACPI
doesn't work on the laptop since the bios is to old. so I'm
using APM).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/