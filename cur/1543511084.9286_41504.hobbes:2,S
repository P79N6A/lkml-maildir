Date: Wed, 29 Sep 1999 10:47:08 -0500
From: Shawn Leas <>
Subject: RE: possible spinlock optimizations
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/29/85

The general concensus here seems to be that the larger the scale (more
CPUs), the more contention we see. Let's call that point a. If that's true,
which it seems to be, then how important a point is it? Obviously not very
in the 2 CPU case. (ccording to a previous mail) It seems to show in the 4
CPU case, correct?
Do we have any theoretical idea how important it is then as we approach 8
and 16 CPUs? And keep in mind, we no longer have to worry much about x86
(besides Merced/EPIC style machines) in the territory. Oh yeah, maybe the K7
too...
What I'm saying is, how practical is it that we are worrying about it? Let's
not be idealists, and think mostly about the common case, eh?
I'll end by saying I don't know what the hell I'm talking about, but I'm
trying to pull together some of the things I have read in this thread, and I
find the discussion interesting. It just seems that people aren't hitting
the meat of the matter.
-Shawn
-----Original Message-----
From: Pavel Machek [mailto:pavel@atrey.karlin.mff.cuni.cz]
Sent: Wednesday, September 29, 1999 5:53 AM
To: Ingo Molnar
Cc: Andrea Arcangeli; Manfred; Linux Kernel; Alan Cox
Subject: Re: possible spinlock optimizations
Hi!
> > >no Andrea, this again is just fixing the symptom. Yes, we could zero
pages
> > 
> > ??? I am fixing nothing. The old code is not buggy.
> 
> by 'fixing the symptom' i ment 'making the symptom to go away'. The
> symptom (the effects of spinlocks held for a long time) can indeed be
> considered an 'abstract bug'.
But, Ingo, are we going to add udelay(5000) into slow path to make
sure some abstract guy has motivation? Should we add udelay(5000) into
select() in order to make people use poll()?
Certainly not.
I think that our slow path should be optimized, too. No need to talk
about abstract bugs. No matter how finegrained our locks are, under
some workload they still will content, and that's why it is good to
optimize it, too.
								Pavel
-- 
The best software in life is free (not shareware)!		Pavel
GCM d? s-: !g p?:+ au- a--@ w+ v- C++@ UL+++ L++ N++ E++ W--- M- Y- R+
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/