Date: Mon, 18 Jul 2005 16:53:31 -0400
From: Daniel Higgins <>
Subject: NAPI (aka RX Polling) for natsemi?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/18/105

hi all,
is there such a thing anywhere as a working patch to enable NAPI in the
natsemi driver? or is someone working on one?
so far i have found two non-working patches, which i tried to get to
work without success. one locks up the kernel, the other says "interrupt
while polling". any help with these would be appreciated.
the DP83815 (natsemi) are used a lot on embedded routers (soekris, wrap,
routerboard) and since they all use a geode processor which isn't all
that powerful, they get stuck in a livelock at around 50-60 mbits and
reboot shortly after due to the watchdog
here's the patches i found if that can help anyone:
http://gnumonks.org/ftp/pub/patches/natsemi-napi.patch
    locks up the
kernel once it receives some packet (guessing it's stuck in polling mode.. )
http://www.spine-group.org/sources/natsemi.diff
    has "interrupts while
polling" messages and the throughput drops off to zero
cc: me because i'm not subscribed
thanks for any help and pointers
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/