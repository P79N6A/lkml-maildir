Date: Tue, 11 Apr 2006 20:32:12 -0400
From: John Heffner <>
Subject: Re: 2.6.17 regression: Very slow net transfer from some hosts
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/11/286

Daniel Drake wrote:
> Stephen Hemminger wrote:
>> Turn off TCP window scaling, your performance will be limited but about
>> as good as you can get with a corrupting firewall in between.
[snip]
> For anyone else interested, the ISP is NTL (UK). The fix:
> 
>     echo "4096    16384   131072 " > /proc/sys/net/ipv4/tcp_wmem
>     echo "4096    87380   174760 " > /proc/sys/net/ipv4/tcp_rmem
For the record, I think Stephen's suggested workaround is better:
echo 0 > /proc/sys/net/ipv4/tcp_window_scaling
It will prevent the other end of the connection from using a window 
scale, so it "fixes" both directions of the connection, not just receiving.
Thanks,
   -John
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/