Date: Wed, 19 Sep 2007 10:33:07 -0700 (PDT)
From: Christoph Lameter <>
Subject: Re: [00/17] [RFC] Virtual Compound Page Support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/19/253

On Wed, 19 Sep 2007, Eric Dumazet wrote:
> 1) Only power of two allocations are good candidates, or we waste RAM
Correct.
> 2) On i386 machines, we have a small vmalloc window. (128 MB default value)
>   Many servers with >4GB memory (PAE) like to boot with vmalloc=32M option to get 992MB of LOWMEM.
>   If we allow some slub caches to fallback to vmalloc land, we'll have problems to tune this.
We would first do the vmalloc conversion to GFP_VFALLBACK which would 
reduce the vmalloc requirements of drivers and core significantly. The 
patchset should actually reduce the vmalloc space requirements 
significantly. They are only needed in situations where the page allocator 
cannot provide a contiguous mapping and that gets rarer the better Mel's 
antifrag code works.
> 4) vmalloc() currently uses a linked list of vm_struct. Might need something more scalable.
If its rarely used then its not that big of a deal. The better the anti 
fragmentation measures the less vmalloc use.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/