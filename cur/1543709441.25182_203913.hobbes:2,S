Date: Wed, 03 Mar 2004 20:43:33 -0800
From: "H. Peter Anvin" <>
Subject: Re: [Linuxabi] Re: linux-libc-headers 2.6.3.0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/3/313

Sam Ravnborg wrote:
> 
> IIRC the current agreed scheme is something along the lines of this:
> 
> abi/abi-linux/* Userspace relevant parts of include/linux
> abi/abi-asm/ symlink to abi/abi-$(ARCH)
> abi/abi-i386 i386 specific userland abi
> abi/abi-ppc  ppc ....
> 
> So a header file in include/linux with a counterpart in abi could look like this:
> 
> include/linux/wait.h:
> #include <abi-linux/wait.h>
> 
> #include <linux/config.h>
> typedef struct __wait_queue wait_queue_t;
> ...
> 
> 
> abi/abi-linux/wait.h:
> #define WNOHANG         0x00000001
> #define WUNTRACED       0x00000002
> 
> 
> This proposal meets some resistence related to internal issues such as
> renaming of internal types etc.
> But in the end the gain from a scheme like this outweights the drawbacks - IMHO. 
> 
> And the backward compatible stuff can be located in abi where it may belong -
> if really needed.
> 
I think the main issue is that it's going to take a fair amount of work, 
and hence needs to wait until 2.7.
The other thing to consider if whether or not there should be some way 
to export things that aren't easily expressible as #defines...
	-hpa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/