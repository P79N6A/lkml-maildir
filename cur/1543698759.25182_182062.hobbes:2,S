Date: Fri, 5 Dec 2003 13:55:18 -0700
From: Jesse Allen <>
Subject: Re: Catching NForce2 lockup with NMI watchdog
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/5/184

On Fri, Dec 05, 2003 at 09:18:12PM +0100, cheuche+lkml@free.fr wrote:
> With a little patch in arch/i386/kernel/mpparse.c in the acpi section, I
> managed to get the timer interrupt back on IO-APIC-edge, maybe the nmi
> watchdog could work with the ioapic then ?
Maybe!  thanks!
> 
> With the patch, the interrupt flood on IRQ7 I reported on the nvidia2 
> lockups thread also disappeared, but then I noticed something odd when
> there is ide activity :
Yeah, I have been writing trace code to try to identify where it fails.  
Somehow what I did seem to have made IRQ 7 less noisy but I have no idea why? =)
So I do think the IRQ is related somehow...
> 
> There may be something wrong with the timer using apic and the
> amd/nforce ide driver does not handle this situation that should not
> occur and juste freezes. This is pure speculation of course.
> 
> *Disclaimer*
> The modification is certainly not the proper fix, does a wrong thing,
> but it shows an interesting behavior, especially it fixed the
> interrupt flood on IRQ7 I and some others are able to see.
> 
> Here the little patch of arch/i386/kernel/mpparse.c I used :
> 
I'll check it out.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/