Date: Tue, 15 Jun 2004 10:30:23 +0800
From: Trent Lloyd <>
Subject: Re: How to turn off IPV6 (link local)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/14/218

Hi Bernd,
CCd: debian bug, read down to the explanation of why this is occuring
and why this is not a bug.
> While solving the debian bug #253590 against net-tools, I discovered, that
> it is not possible to turn off the link local ipv6 addresses.
Indeed.
> 
> net.ipv6.conf.default.autoconf does work for the received prefixes, but does
> not avoid the link local configuration. (this is btw a documentation error)
autoconf defines whether it will auto-configure an address if a router
advertises the IPv6 prefix for the network to it.
> 
> I would not mind the link local address much, if there wont be some
> applications (like mozilla) trying to actually use that address to reach
> internet site.
> 
> 
http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=253590
The issue is not having the link local address, because there is no
default route and hence the connection should fail.
The problem, in the case of thi sbug, is that he has IPv6 configured,
but it is not working, 2001: is a real IPv6 address (so he has a tunnel
configured with a router to advertise) and the 2002:: is a '6ot4'
address, which something on the system has configured, and obviously
that is not working either, probably because he has a router preventing
the 6to4 packets from passsing, or the default route for the 2001:
address has a higher metric and thats still broken.
Link-local address start with fe80:: and never have a default route so
they will not be a problem.
> So my question is, how can one prevent linux kernel with build in ipv6 from
> adding the link local prefix, and are the prerequisites of an ipv6 enabled
> application to not prefer link local prefix to ipv4?
You can't, but it is not the issue here, you could however not load the
module.
Cheers,
Trent
Sixlabs
-- 
Trent Lloyd <lathiat@bur.st>
Bur.st Networking Inc.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/