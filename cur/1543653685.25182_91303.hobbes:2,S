Date: Thu, 21 Nov 2002 10:11:43 +1100
From: Neil Brown <>
Subject: Re: RFC - new raid superblock layout for md driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/20/291

On  November 20, alan@lxorguk.ukuu.org.uk wrote:
> On Wed, 2002-11-20 at 04:09, Neil Brown wrote:
> >     u32  set_uuid[4]
> 
> Wouldnt u8 for the uuid avoid a lot of endian mess
Probably....
This makes it very similar to 'name'.  
The difference if partly the intent for how user-space would use it,
and partly that set_uuid must *never* change, while you would probably
want name to be allowed to change.
> 
> >     u32  ctime
> 
> Use some padding so you can go to 64bit times
> 
Before or after?  Or just make it 64bits of seconds now?
This brings up endian-ness?  Should I assert 'little-endian' or should
the code check the endianness of the magic number and convert if
necessary?
The former is less code which will be exercised more often, so it is
probably safe.
So:
  All values shall be little-endian and times shall be stored in 64
  bits with the top 20 bits representing microseconds (so we & with
  (1<<44)-1  to get seconds.
Thanks.
NeilBrown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/