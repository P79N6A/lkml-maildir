Date: Tue, 10 Aug 1999 17:08:29 +0100
From: "Jones D (ISaCS)" <>
Subject: RE: fbcon cruft removal (continued).
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/11/76

> Hi Jones,
Please, call me Dave :-)
>   try changing your line with something like
>   ...
>   scr_memsetw(conp->vc_origin, conp->vc_video_erase_char, 
>           (conp->vc_size_row * conp->vc_top) ); /* maybe /2, 
> you'll see */
>   update_region(fg_console, conp->vc_origin, 
>           (conp->vc_size_row * conp->vc_top) / 2);
>   fbcon_show_logo();
>   update_region ...
> 
> It should work.
I'll do some experiments with this tonight.
> You can also change to videomode which has 
> more lines than old (for example from 80x25 -> 80x34
> it will work without problems). And
The BIOS is in 80x25 AFAIK, and I have in my LILO startup
a line to switch to a different resolution. The onscreen cruft
remains.
> if you want 100% compatible solution, fbcon_show_logo() can 
> compute right
> margin of painted logos and you should then call update_region after
> fbcon_show_logo() only for part of screen right to logos...
> But I must admit that I did not test it
I will try this.
btw, another framebuffer problem I have found.
(This may be specific to matroxfb)
Boot up in a higher resolution than default,
Login, and do a command that outputs quite a few lines of text
(enough to make screen scroll) 'lspci -vvv' works for me.
When this is done, press shift & PGUP, and some chars don't
get updated and remain onscreen.
This may also be related to the fact that immediately after booting,
pressing shift & PGDN scrolls a few lines. Wierd.
regards,
Dave.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/