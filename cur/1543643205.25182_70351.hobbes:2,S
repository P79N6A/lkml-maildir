Date: Thu, 12 Sep 2002 20:20:52 +0300 (EEST)
From: Pasi Kärkkäinen <>
Subject: Re: sched.h changes in 2.4.19rc5aa1 / Digi's cpci driver doesn't compile
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/12/184

On 12 Sep 2002, Alan Cox wrote:
> On Thu, 2002-09-12 at 17:30, Pasi Kärkkäinen wrote
> > The code goes like this (cpci.c line 3847):
> >
> > 	current->state = TASK_INTERRUPTIBLE;
> > 	current->counter = 0;   /* make us low-priority */
> >
> > current is task_struct.
>
> Its assuming old old scheduler bits. I suspect just removing the
> current->counter junk will make it happy
>
I removed that line, and then it compiled OK and it seems to work too.
Digi International ClassicBoard PCI and Neo Driver v1.1.16 Loaded
Copyright (C) 1999-2001 Digi International, Inc.
PCI Digi Neo 8 Port (Card #0;IRQ17) Found
ttyCP0 at 0xd084a000 (irq = 17) is a XR17C158
ttyCP1 at 0xd084a200 (irq = 17) is a XR17C158
ttyCP2 at 0xd084a400 (irq = 17) is a XR17C158
ttyCP3 at 0xd084a600 (irq = 17) is a XR17C158
ttyCP4 at 0xd084a800 (irq = 17) is a XR17C158
ttyCP5 at 0xd084aa00 (irq = 17) is a XR17C158
ttyCP6 at 0xd084ac00 (irq = 17) is a XR17C158
ttyCP7 at 0xd084ae00 (irq = 17) is a XR17C158
Thank you!
- Pasi Kärkkäinen
ps. If somebody from Digi is reading this, why don't you send these
drivers for inclusion to the kernel?
                                   ^
                                .     .
                                 Linux
                              /    -    \
                             Choice.of.the
                           .Next.Generation.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/