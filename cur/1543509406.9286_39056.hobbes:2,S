Date: 15 Sep 1999 09:21:07 +0200
From: Trond Myklebust <>
Subject: Re: NFS related log messages in 2.2.12....
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/15/15

Luke Miller <millerlu@peak.org> writes:
> On the client machine I am seeing messages like this:
> 
> Sep 13 13:31:58 spock kernel: nfs_dentry_delete: drafts/56.~43~:
> ino=252082, count=2, nlink=1 
> Sep 14 09:37:51 spock kernel: NFS: can't silly-delete
> inbox/.nfs000108c300000001, error=-512 
> 
> What is going on here, is this any cause for alarm?
This is due to a bug in the current silly-delete code (that prevents
files from being deleted while some other process is keeping it open).
Currently, the deletion is attempted done by the last closing process
regardless of whether that process has the allowed
permissions. Furthermore, as in the above case, signals from the
closing process affect the outcome of the silly-delete (so killing the
process with 'kill -9' will typically result in the above error).
I've got a plan for a fix which I'll hopefully get round to soon (I'm
concentrating on doing the rewrite of the NFSv3 write code at the
moment)
In case somebody fancies a spot of DIY, there's a short description of
the general idea in point 5) of
  
http://www.fys.uio.no/~trondmy/src/TODO
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/