Date: Fri, 21 Sep 2007 10:56:29 -0400
From: Steven Rostedt <>
Subject: Re: [PATCH] Reduce __print_symbol/sprint_symbol stack usage.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/21/212

On Wed, Sep 19, 2007 at 03:25:15PM +0100, Paulo Marques wrote:
>
> if we change the interface from "print_symbol(fmt, addr)" to 
> "print_symbol(prefix, addr, int newline)" we can simply do:
>
> printk(prefix);
> printk_symbol(addr);
> if (newline)
> 	printk("\n");
NACK
I just wrote something that does "print_symbol(" %s)\n", addr);"
Notice the ")" in the output.
-- Steve
>
> where "printk_symbol" is a new function that does the same as 
> sprint_symbol, but does "printk" instead of "sprintf".
>
> This should reduce immensely the stack usage of print_symbol without the 
> need for locking.
>
> Of course this requires changing _all_ callers of print_symbol to use the 
> new interface, but these are less than 100 ;)
>
> Comments?
>
> -- 
> Paulo Marques - www.grupopie.com
>
> "You're just jealous because the voices only talk to me."
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  
http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  
http://www.tux.org/lkml/
>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/