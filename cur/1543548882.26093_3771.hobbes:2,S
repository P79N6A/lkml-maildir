Date: Sat, 16 Sep 2000 08:57:25 +1100
From: Keith Owens <>
Subject: Re: MakeFile Problems - make modules_install test8
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/15/12

On Fri, 15 Sep 2000 11:32:36 -0700, 
Michael Peddemors <michael@wizard.ca> wrote:
>When running `make modules_install` it errors out with an  
>
>cd /lib/modules/2.4.0-test8; \
>mkdir -p pcmcia; \
>find kernel -path '*/pcmcia/*' -name '*.o' | xargs -i -r ln -sf ../{} pcmcia
>if [ -r System.map ]; then /sbin/depmod -ae -F System.map  2.4.0-test8; fi
>modprobe: kernel: QM_SYMBOLS: Function not implemented
>make: *** [_modinst_post] Error 1                                             
>
>even tho pcmcia was never defined in the .config  
Not pcmcia, that error is coming from modprobe.  At a guess (and I have
to guess because you did not supply any data about your machine), you
are compiling on a kernel without modules.  Something is invoking
modprobe while executing those commands, which is strange because
modprobe is not needed there.
Building the pcmcia directory is a temporary measure until everybody
upgrades to a recent pcmcia-cs.  The worst it will do is build an empty
/lib/modules/2.4.0-test8/pcmcia directory.
Stick the commands below in a file then, as root,
  strace -f -o modprobe.strace sh -x filename >modprobe.sh 2>&1
mail me the modprobe.strace and modprobe.sh output.  Also include the
output from "sh scripts/ver_linux".
cd /lib/modules/2.4.0-test8;
mkdir -p pcmcia;
find kernel -path '*/pcmcia/*' -name '*.o' | xargs -i -r ln -sf ../{} pcmcia
if [ -r System.map ]; then /sbin/depmod -ae -F System.map  2.4.0-test8; fi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/