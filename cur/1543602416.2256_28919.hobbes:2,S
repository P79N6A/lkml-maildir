Date: Tue, 25 Sep 2001 20:39:35 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: [PATCH] invalidate buffers on blkdev_put
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/25/204

On Tue, 25 Sep 2001, Anton Altaparmakov wrote:
>
> Looking at the patch, you introduce a static inline blksize_bits. Wouldn't
> it be a lot more efficient to change the function to say:
More efficient? Probably not. We know that the result of blksize_bits is
in the range of 9-12 on x86, and if you look at the thing it uses that
knowledge.
More importantly, I think the whole code will go away, because the bits
(and the size) should be in the bdev structure in the first place (or,
even better, the inode, at which point all the special-case functions go
away and just become calls to the generic ones)
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/