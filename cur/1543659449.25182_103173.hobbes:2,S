Date: Tue, 14 Jan 2003 03:44:35 +0100
From: Felix von Leitner <>
Subject: usb broken in 2.5?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/13/370

In 2.5.57 USB does not work.  The mainboard devices are still detected,
and apparently also the USB devices are found, but then the USB code
tries to remap them and fails.  It tries again with 1.5 Mb/s and fails
again.
> usb_control/bulk_msg: timeout
> usb.c: USB device not accepting new address=3 (error=-110)
The same problem also happens with the WOLK kernel patch, which appears
to also include a newer version of the USB code.
This is an excerpt from /proc/pci:
  Bus  0, device  16, function  0:
    USB Controller: VIA Technologies, Inc. USB (rev 128).
      IRQ 21.
      Master Capable.  Latency=32.
      I/O at 0xdc00 [0xdc1f].
  Bus  0, device  16, function  1:
    USB Controller: VIA Technologies, Inc. USB (#2) (rev 128).
      IRQ 21.
      Master Capable.  Latency=32.
      I/O at 0xe000 [0xe01f].
  Bus  0, device  16, function  2:
    USB Controller: VIA Technologies, Inc. USB (#3) (rev 128).
      IRQ 21.
      Master Capable.  Latency=32.
      I/O at 0xe400 [0xe41f].
  Bus  0, device  16, function  3:
    USB Controller: VIA Technologies, Inc. USB 2.0 (rev 130).
      IRQ 19.
      Master Capable.  Latency=32.
      Non-prefetchable 32 bit memory at 0xe6033000 [0xe60330ff].
Any ideas?  On 2.5 and WOLK the kernel also says that no IRQ is know and
that it is using ACPI to route the IRQs.
Felix
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/