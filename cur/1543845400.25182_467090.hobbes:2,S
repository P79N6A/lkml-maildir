Date: Wed, 27 Sep 2006 12:14:59 -0700
From: john stultz <>
Subject: Re: 2.6.18 Nasty Lockup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/27/218

On Wed, 2006-09-27 at 12:45 +0300, S.Çağlar Onur wrote:
> 27 Eyl 2006 Çar 01:50 tarihinde, john stultz şunları yazmıştı: 
> > On Wed, 2006-09-27 at 00:15 +0300, S.Çağlar Onur wrote:
> > > 26 Eyl 2006 Sal 15:36 tarihinde, Greg Schafer şunları yazmıştı:
> > > > This is a _hard_ lockup. No oops, no magic sysrq, no nuthin, just a
> > > > completely dead machine with only option the reset button. Usually
> > > > happens within a couple of minutes of desktop use but is 100%
> > > > reproducible. Problem is still there in a fresh checkout of current
> > > > Linus git tree (post 2.6.18).
> > >
> > > Same symptoms here and its reproducible after starting the irqbalance
> > > (0.12 or 0.13), if i disable irqbalance then everything is going fine.
> >
> > Hmm.. Not sure about the connection to irqbalance. You're using the TSC
> > clocksource, so I'm curious if your cpu TSC's are out of sync. Can you
> > boot w/ "clocksource=acpi_pm" to see if that resolves it?
> 
> Yep, it solves the problem and system boot normally with irqbalance enabled.
Ok. Good to hear you have a workaround. Now to sort out why your TSCs
are becoming un-synced. From the dmesg you sent me privately, I noticed
that while you have 4 cpus, the following message only shows up once:
ACPI: Processor [CPU1] (supports 8 throttling states)
Does disabling cpufreq change anything?
thanks
-john
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/