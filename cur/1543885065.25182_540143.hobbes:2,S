Date: Fri, 4 May 2007 23:58:38 +0530
From: "Satyam Sharma" <>
Subject: Re: [PATCH] Add LZO1X compression support to the kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/4/402

Hi Richard, Pekka,
On 5/2/07, Pekka Enberg <penberg@cs.helsinki.fi> wrote:
> On 5/2/07, Richard Purdie <richard@openedhand.com> wrote:
> > I realise a maze of ifdefs still remain. I've already spent a lot of
> > time removing a ton of them and going much further might start to affect
> > diffability of the code - I hoping whats there is a good compromise.
>
> I really don't think this is suitable for inclusion in the kernel. Any
> reason why you don't just fork the code and clean it up properly? Sure
> it will take some more work to track the original but how hard can it
> be for ~1700 lines of code?
I'd have to agree with that. When something gets ported to the kernel
(from some userspace library, or from any other piece of software),
then it _must_ be ported completely and follow the usual kernel style.
In fact I bet you can knock off a cool couple of hundred lines of gunk
from the patch just by doing a proper port and getting rid of those
pointless typedefs, for example.
(On an unrelated note/rant, this was one of the reasons why I
absolutely hate those MODSIGN patches being maintained by Red
Hat/Fedora/etc that port the GNU MPI library to the kernel but don't
do so properly, so that it can be diffed with future GNU MP releases
for easy maintainability -- with the result that the patch ends up
containing arch-specific assembly for platforms that Linux doesn't
even run on! Good to see that at least you've taken the pains to avoid
that kind of brain damage, but a full port would be better)
Thanks,
Satyam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/