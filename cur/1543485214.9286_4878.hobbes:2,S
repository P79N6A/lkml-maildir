Date: Wed, 10 Feb 1999 07:30:56 +0000
From: Steve Dodd <>
Subject: [OFFTOPIC] Re: 2.0.36 w/ egcs -> XServer coredumps
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/10/9

Hi,
On Tue, Feb 09, 1999 at 10:01:54PM +0100, Herbert Rosmanith wrote:
> subject says it. I built 2.0.36 with egcs-1.1, everything works quite
> normal except the X-Server dumps core, regardsless if I start SVGA, VGA16
> or Mach64 (in my case) server.
If I remember correctly, this is a known problem. Optimisations in gcc 2.8.1,
pgcc and egcs are more aggressive and cause problems with some icky code in
2.0.x and below. I think this may even be mentioned in the FAQ. 2.1 / 2.2
seems to compile OK with gcc 2.8.1 and egcs 1.0 (not sure about egcs). I've
a feeling there may be issues with egcs 1.1. The simplest thing is to install
gcc 2.7.2.3, then 2.8.1/pgcc/egcs after, and alter your kernel top-level
Makefile:
#
# standard CFLAGS
#
- CFLAGS = -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer
+ CFLAGS = -V 2.7.2.3 -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer
So the kernel builds with 2.7.2.3, but (if you installed egcs last) the
default compiler is still egcs.
S.
-- 
%DCL-MEM-BAD, bad memory
VMS-F-PDGERS, pudding between the ears
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/