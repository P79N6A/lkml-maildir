Date: Wed, 29 Nov 2006 01:39:22 -0800
From: Andrew Morton <>
Subject: Re: Boot failure with ext2 and initrds
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/29/62

On Wed, 29 Nov 2006 09:20:24 +0000
Russell King <rmk+lkml@arm.linux.org.uk> wrote:
> What I'm looking for is confirmation of the semantics of
> find_next_zero_bit()
What are the existing semantics?  I see no documentation in any of the
architectures I've looked at.  That's my point.
From a quick read of fs/ext2/balloc.c
	ext2_find_next_zero_bit(base, size, offset)
appears to expect that base is the start of the memory buffer, size is the
number of bits at *base and offset is the bit at which to start the search,
relative to base.  If a zero bit is found it will return the offset of that
bit relative to base.  It will return some number greater than `size' if no
zero-bit was found.  
Whether that's how all the implementors interpreted it is anyone's guess. 
Presumably the architectures all do roughly the same thing.
> <extremely frustrated>
Well likewise.  It appears that nobody (and about 20 people have
implemented these things) could be bothered getting off ass and documenting
the pathetic thing.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/