Date: Mon, 20 May 2002 10:53:54 -0700
From: Greg KH <>
Subject: Re: Kernel 2.4.18 and VIA USB
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/20/114

On Sun, May 19, 2002 at 04:56:19PM +0100, Will Newton wrote:
> 
> I have seen several posts in the archives that mention the following error on 
> VIA chipset (usually K7V Athlon boards):
> 
> hub.c: USB new device connect on bus1/2, assigned device number 7
> usb.c: USB device not accepting new address=7 (error=-110)
> hub.c: Cannot enable port 2 of hub 1, disabling port.
> hub.c: Maybe the USB cable is bad?
Which USB host controller driver are you using?
And are you sure your cable isn't bad?  :)
> If anyone could shed any light on this or recommend a test to find out more I 
> would be very grateful. It may or may not be related to my other USB problem.
> 
> I am seeing this error on attempting a bulk transfer to a USB camera:
> 
> usbdevfs: USBDEVFS_BULK failed dev 8 ep 0x81 len 4096 ret -110
Are you using usbdevfs/libusb to send data to this camera (like gphoto
does?)
> The thing that strikes me about this is that the endpoint in question is 
> specified thus:
> 
> 			Endpoint Address: 81
> 			Direction: in
> 			Attribute: 2
> 			Type: Bulk
> 			Max Packet Size: 64
> 			Interval:   0ms
> 
> Max packet size of 64 would seem to indicate that packets of too large a size 
> are being sent to the endpoint. Is this a correct analysis?
No, it's ok to send larger packet sizes to endpoints, the USB host
controller driver divides up the packet into smaller pieces for the
device, based on the endpoint size.
> Any help with either of these problems would be much appreciated. Please CC 
> any replies. Thanks.
Can you check out the 2.4.19-pre kernel tree right now?  Lots of good
USB host controller cleanups have happened in there that might help you
out.
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/