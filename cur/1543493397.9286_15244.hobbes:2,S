Date: Tue, 20 Apr 1999 09:40:26 -0500
From: Matthew Vanecek <>
Subject: Re: smbfs problem with 2.2.5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/20/93

Urban Widmark wrote:
> 
> On Tue, 20 Apr 1999, Markus Fischer wrote:
> 
> > This thread (like all the others about smbfs/samba before)
> > looks like dead now. It's not. Just workaround made us
> > fall asleep ! Using the df --sync ist quit a good fix,
> > but it's more than dirty..
> >
> > I really hope that this issue gets fixed :(
> >
> 
> On Thu, 15 Apr 1999, I wrote:
> 
> > I'll leave something open when I go home tonight and see if it happens
> > again. It never happens during my normal, daily use, which includes the
> > occacional mount of somthing from the SP1 machine.
> 
> I'll follow up on my own post. I could not make the problem happen, does
> anyone have a way of repeating the problem? For me it was just this one
> time ...
> 
> It sounds like it happens more often for you? Have you tried Michael H.
> Warfield's advice and enabled SMBFS_DEBUG in smbmount.c ?
> (from the samba distribution, 2.0.3 being the latest.)
> 
> /Urban
Pretty much depends on how you log into the SMB share.  Evidently there
is still a bug in the password caching. Generally, on my 2.0.3 samba, I
use the following command line:
smbmount //winnt/myshare <password> -c 'mount winnt'
And it works.  Haven't seen it crash on 2.2.6 or 2.2.5, unless I reboot
the NT box w/o first unmounting the share (is there a workaround for
that, btw?  NT boxes tend to reboot more than Linux boxes, and it would
be nice if Linux could auto-unmount the share if the NT box is
down/smbmount fails to reconnect).
The problems seem to arise when you enter the password at the password
prompt instead of on the command line.  I haven't tested extensively
having the PASSWD environment variable set, but that is supposed to be
stable, also.
For the above command line, there is supposed to be a scripting methond
for expunging the password from .bash_history, and smbmount munges the
password all on its own when you run ps on it...
-- 
Matthew Vanecek
Course of Study: 
http://www.unt.edu/bcis
Visit my Website at 
http://people.unt.edu/~mev0003
For answers type: perl -e 'print
$i=pack(c5,(41*2),sqrt(7056),(unpack(c,H)-2),oct(115),10);'
*****************************************************************
For 93 million miles, there is nothing between the sun and my shadow
except me. I'm always getting in the way of something...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/