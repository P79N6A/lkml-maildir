Date: Thu, 13 Mar 2003 14:25:12 -0800
From: Andrew Morton <>
Subject: Re: [PATCH] concurrent block allocation for ext2 against 2.5.64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/13/202

Alex Tomas <bzzz@tmi.comex.ru> wrote:
>
> 
> hi!
> 
> here is the new version of the patch.
This is great work.
a) The algorithm which you are using to distribute the root-reserved
   blocks across the blockgroups will end up leaving a small number of unused
   blocks in every blockgroup.  So large files which span multiple
   blockgroups will have little gaps in them.
   I think it's probably better to just lump all the root-reserved blocks
   into as few blockgroups as possible.
   Probably these should be the last blockgroups, because those are
   nearest the spindle, and hence the slowest.  This is by no means always
   the case - some disks are backwards, but it seems that most are not.  Plus
   nearness to the superblock is good.
b) struct ext2_bg_info needs a ____cacheline_aligned_in_smp stuck on it.
c) It looks like EXT2FS_DEBUG broke.  Nobody uses that much, but we should
   fix and test it sometime.
Be expecting some benchmark numbers.  Maybe those 32-ways will be able to run
as fast as my $300 2-way now ;)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/