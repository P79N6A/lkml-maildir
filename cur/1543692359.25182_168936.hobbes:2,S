Date: Mon, 29 Sep 2003 01:32:34 +0200 (MEST)
From:  Andries.Brouwer@cwi ...
Subject: [PATCH] jfs sparse fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/28/181

diff -u --recursive --new-file -X /linux/dontdiff a/fs/jfs/jfs_debug.c b/fs/jfs/jfs_debug.c
--- a/fs/jfs/jfs_debug.c	Mon Sep 29 01:05:41 2003
+++ b/fs/jfs/jfs_debug.c	Mon Sep 29 01:15:00 2003
@@ -81,7 +81,7 @@
 	return len;
 }
 
-static int loglevel_write(struct file *file, const char *buffer,
+static int loglevel_write(struct file *file, const char __user *buffer,
 			unsigned long count, void *data)
 {
 	char c;
diff -u --recursive --new-file -X /linux/dontdiff a/fs/jfs/symlink.c b/fs/jfs/symlink.c
--- a/fs/jfs/symlink.c	Mon Sep 29 01:05:41 2003
+++ b/fs/jfs/symlink.c	Mon Sep 29 01:15:00 2003
@@ -26,7 +26,7 @@
 	return vfs_follow_link(nd, s);
 }
 
-static int jfs_readlink(struct dentry *dentry, char *buffer, int buflen)
+static int jfs_readlink(struct dentry *dentry, char __user *buffer, int buflen)
 {
 	char *s = JFS_IP(dentry->d_inode)->i_inline;
 	return vfs_readlink(dentry, buffer, buflen, s);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/