Date: Mon, 26 Nov 2007 17:05:51 +0100 (CET)
From: Jan Engelhardt <>
Subject: Re: can support for "rpm"-based package building just be dropped?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/26/115

On Nov 26 2007 10:53, Robert P. J. Day wrote:
>
>>>Only on current machines. You'd break building kernel RPMs on older
>>>systems that don't have rpmbuild installed.
>>
>> Those old machines probably do not even run a distro-fabricated gcc that
>> would compile a git head kernel.
>
>well, in a nutshell, the problem scenario is that it's entirely
>possible to have a modern distro (say, fedora 8, like i'm using) on
>which you have the latest "rpm" package installed, but not "rpmbuild".
What, modern and no rpmbuild?
AFAIR, it had rpmbuild back to at least FC6, it's not that new this rpmbuild.
>at which point scripts/package/Makefile, based on this:
>
>RPM := $(shell if [ -x "/usr/bin/rpmbuild" ]; then echo rpmbuild; \
>                   else echo rpm; fi)
>
>will select "rpm" as the value of the variable RPM, at which point
>things go south in a hurry as soon as you try to build an rpm package
>using $(RPM) aka "rpm".
>
>perhaps a solution would be to have two variables -- RPM and RPMBUILD
>-- and set them appropriately based on what the Makefile finds.  and,
>of course, whine incessantly if you have an unworkable setup.
>
>anyway, have at it.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/