Date: Sun,  7 Feb 1999 18:29:58 -0500 (EST)
From: Timothy K Canfield <>
Subject: help with new syscall
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/7/113

I am trying to add a new system call to my kernel, which is 2.0.36. 
When trying to call this from userland, using a function created with
_syscall1, I get the error that the function is not implemented   errno
38.
I have added 
#define __NR_newop 190 
to unistd.h
I have also added
.long SYMBOL_NAME(sys_newop)        /* 190 */
to entry.S
and changed the line after that to:
.space (NR_syscalls-190)*4.
I put source code in kernel/newop.c and added newop.o to the O_OBJS in
kernel/Makefile.
I have also rebuilt the kernel from scratch, make dep; make clean; make
zImage, and booted off this image.
Is there anything else I need to do?
Thanks a lot!
Tim 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/