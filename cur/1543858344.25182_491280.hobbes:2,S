Date: Wed, 13 Dec 2006 23:43:17 +0100
From: Ingo Molnar <>
Subject: Re: [RFC] Patch: dynticks: idle load balancing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/13/286

* Siddha, Suresh B <suresh.b.siddha@intel.com> wrote:
> Appended patch attempts to fix the process idle load balancing in the 
> presence of dynticks. cpus for which ticks are stopped will sleep till 
> the next event wakes it up. Potentially these sleeps can be for large 
> durations and during which today, there is no idle load balancing 
> being done. There was some discussion happened(last year) on this 
> topic on lkml, where two main approaches were gettting debated. One is 
> to back off the idle load balancing for bigger intervals and the 
> second is a watchdog mechanism where the busy cpu will trigger the 
> load balance on an idle cpu.  Both of these mechanisms have its 
> drawbacks.
nice work! I have added your patch to -rt. Btw., it needs the patch 
below to work on 64-bit.
	Ingo
Index: linux/kernel/sched.c
===================================================================
--- linux.orig/kernel/sched.c
+++ linux/kernel/sched.c
@@ -1170,7 +1170,7 @@ static void resched_task(struct task_str
 static void resched_cpu(int cpu)
 {
 	struct rq *rq = cpu_rq(cpu);
-	unsigned int flags;
+	unsigned long flags;
 
 	spin_lock_irqsave(&rq->lock, flags);
 	resched_task(cpu_curr(cpu));
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/