Date: Sun, 23 Oct 2005 12:18:06 +0200
From: Pavel Machek <>
Subject: Re: Billionton bluetooth CF card: performance is 10KB/sec
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/23/18

Hi!
> > > so you say that the Nokia 6230 has PAN Profile support and you don't
> > > need any PPP crap to get Internet access? This would be the first phone
> > > I have seen so far.
> > 
> > No, sorry, that was over ppp over rfcomm. With MSI dongle, I get
> > 25KB/sec with n6230. With bluetooth CF card, I only get 10KB/sec.
> 
> show me the "hcitool info ..." for the phone.
Sorry, I do not have it here just now. Should be able to get it in a
few days.
> > > > Netdev watchdog complains a lot:
> > > > 
> > > > Oct 22 18:53:57 amd pand[2439]: Bluetooth PAN daemon version 2.19
> > > > Oct 22 18:53:57 amd pand[2439]: Connecting to <won't tell you>
> > > > Oct 22 18:53:58 amd pand[2439]: bnep0 connected
> > > > Oct 22 18:54:37 amd kernel: usb 3-1: USB disconnect, address 2
> > > > Oct 22 18:55:33 amd kernel: NETDEV WATCHDOG: bnep0: transmit timed out
> > > > Oct 22 18:55:59 amd last message repeated 2 times
> > > > Oct 22 18:56:51 amd last message repeated 5 times
> > > > Oct 22 18:57:55 amd last message repeated 3 times
> > > > Oct 22 18:59:03 amd last message repeated 7 times
> > > 
> > > The transmit timeouts shouldn't be there. The question is now which side
> > > is at fault. The host or the phone?
> > 
> > This is against second linux box... Can't be the phone.
> 
> >From Linux to Linux you can get something around 80KB/sec. Do you have
> any other USB dongle to test this against, because I think the PCMCIA
> card is the problematic part here.
I agree that pcmcia card is problematic. No, I do not have any other
usb dongles, but...
billionton.n6230: 10KB/sec (ppp over rfcomm)
MSI..n6230: 25KB/sec (ppp over rfcomm)
MSI..billionton: 10KB/sec (bnetp)
...pretty much tells the story. I could do some obex transfers against
k700 to test it a bit more.
> If you go over RFCOMM to the phone you will almost never reach the full
> speed, because most RFCOMM implementation on the phones are not really
> good. The PPP is eating the rest of the bandwidth.
Fortunately edge has limit of 25KB/sec or something like that, and
bluetooth has 100KB/sec limit, so it is fast enough even with some
added overhead.
								Pavel
-- 
Thanks, Sharp!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/