Date: Fri, 25 Jan 2002 12:40:48 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH]: Fix MTRR handling on HT CPUs (improved)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/25/9

On Fri, 25 Jan 2002, Alan Cox wrote:
> As Dave pointed out I was mixing them
>
> > just not do it on the right CPU (you're _not_ supposed to read to see if
> > you are writing the same value: MTRR's can at least in theory have
> > side-effects, so it's not the same check as for the microcode update).
>
> So why not just set it twice - surely that is harmless ? Why add complex
> code ?
At the _least_ you have to serialize the thing, which is most of what the
patch actually does. Writing the MTRR's in parallel from two different
cores at the same time is just obviously bogus, the same way it is
obviously bogus to try to update the microcode at the same time.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/