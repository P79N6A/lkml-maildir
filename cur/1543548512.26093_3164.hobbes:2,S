Date: Tue, 12 Sep 2000 14:40:51 +0200 (CEST)
From: Andrea Arcangeli <>
Subject: Re: More on 2.2.18pre2aa2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/12/54

On Tue, 12 Sep 2000, Rik van Riel wrote:
>The large IO delays I'm seeing in certain tests have
>been traced back to the /elevator/ code. I think I'll
Actually the elevator works as in 2.2.15 (before any fix). The latency
settings are too high. They should be around 250 for reads and 500 for
writes.
If you want better latency than that you should reinsert the stuff that we
had until test1 that account the position where the request is put on the
queue. We backed it out because it was making a performance difference.
Even if you disable the elevator completly (so if you use elevator_noop)
with the long queues we have these days you'll still get bad latency.
Please try to decrease the size of the queue if even "enabling" the
latency control doesn't make a difference.
BTW, 2.2.18pre2aa2 put the elevator in sync with 2.4.x using the settings 
250 for reads and 500 for writes. Note that 250 for reads - without the
logic that take into account the position the request is put in the queue
- is much more than 250 with the previous logic included.
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/