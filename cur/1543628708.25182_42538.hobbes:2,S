Date: Thu, 25 Apr 2002 21:04:57 -0700
From: Mike Fedyk <>
Subject: Re: A CD with errors (scratches etc.) blocks the whole system while reading damadged files
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/26/24

On Wed, Apr 24, 2002 at 11:33:23PM -0400, Bill Davidsen wrote:
> I suspect (without having a good way to check) that all IDE devices
> sharing the IRQ with the error device *may* be affected. That's the only
> thing which comes to mind, I'll add a Promise controller and disk on a
> totally separate board and see if that changes anything. Hopefully it will
> not share the IRQ :-(
I don't think it has to do with the IRQs, but it sounds like the entire ide
chipset (think two cables one one chipset...) has stopped responding when
ONE device (out of a possible four (with two cables)) has failed media.
Let's use an example to help shine the light on exactly what I'm saying (I'm
trying to summarize what's been said in the threads, and I haven't tested
this... though I will be working on such a system in the next few weeks):
1)
Two drives each on a seperate cable, but on the same chipset:
/dev/hda (hard drive) (chipset1)
/dev/hdc (cd-rom) (chipset1)
Put broken CD into /dev/hdc, and read somehow (dd, cat, whatever), now try
to read from /dev/hda.  This (according to this thread) should be damn slow
and you will have a very hard time to use this system while it is trying to
read the CD.
2)
Two drives, each on a seperate cable and on different chipsets:
/dev/hda (hard drive) (chipset1)
/dev/hde (cd-rom) (chipset2)
Put broken CD into /dev/hde, read it again, and try to read from /dev/hda.
All should be good, with blue skies, and a responsive system.
Can someone verify that the above is true, and acurately expresses
what they've experienced?
Also, can someone say for sure (Andre) that this is a hardware limitation,
not a Linux IDE locking problem, and with no possibility of a software
work-around? 
Thanks,
Mike
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/