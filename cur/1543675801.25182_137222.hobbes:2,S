Date: Mon, 2 Jun 2003 10:10:45 +0200
From: Stelian Pop <>
Subject: Re: OUPS 2.5.69-bk19 sonypi irq 11: nobody cared!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/2/61

On Mon, May 26, 2003 at 06:50:36PM +0100, Grzegorz Jaskiewicz wrote:
> irq 11: nobody cared!
> 
> Call Trace:
[...]
>  [<c790c8d0>] sonypi_irq+0x0/0x2a0 [sonypi]
>  [<c790fd00>] +0x0/0x200 [sonypi]
>  [<c030206f>] pci_find_device+0x2f/0x40
>  [<c790fd00>] +0x0/0x200 [sonypi]
>  [<c78fe030>] +0x30/0x3b [sonypi]
>  [<c013509f>] sys_init_module+0xff/0x210
>  [<c790fd00>] +0x0/0x200 [sonypi]
>  [<c010b21b>] syscall_call+0x7/0xb
I have been away for a while, moving to a new house etc...
Anyway, the sonypi messages appear because of the new irq infrastructure
Linus introduced a few weeks ago. Using this infrastructure a driver can
tell if he really handled the irq or not.
The problem with the sonypi driver is that it only knows about a 
limited set of events (button presses, battery events, lid events etc),
and any event not referenced in the sonypi source will give you the
backtrace you saw.
I intend to force the sonypi driver to return IRQ_HANDLED every time
he receives an event (because it does anyway print a warning message
when it happens), but this code has not reached Linus yet.
Stelian.
-- 
Stelian Pop <stelian@popies.net>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/