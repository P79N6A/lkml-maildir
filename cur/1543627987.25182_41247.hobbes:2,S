Date: Thu, 18 Apr 2002 19:11:43 -0400
From: Douglas Gilbert <>
Subject: Re: Bio pool & scsi scatter gather pool usage
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/18/216

Andrew Morton <akpm@zip.com.au> wrote:
<snip/>
> Right now, BIO_MAX_SECTORS is only 64k, and IDE can
> take twice that.  I'm not sure what the largest
> request size is for SCSI - certainly 128k.
Scatter gather lists in the scsi subsystem have a max
length of 255. The actual maximum size is dictated by 
the HBA driver (sg_tablesize). The HBA driver can
further throttle the size of a single transfer with
max_sectors.
Experiments with raw IO (both in 2.4 and 2.5) indicate
that pages are not contiguous when the scatter gather 
list is built. On i386 this limits the maximum transfer
size of a single scsi command to just less than 1 MB.
Doug Gilbert
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/