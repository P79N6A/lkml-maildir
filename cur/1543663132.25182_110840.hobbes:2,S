Date: Wed, 19 Feb 2003 02:21:11 +0100
From: Willy Tarreau <>
Subject: Re: [Nearly Solved]: APIC routing broken on ASUS P2B-DS
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/18/273

On Tue, Feb 18, 2003 at 02:11:12AM -0500, Jeff Garzik wrote:
> Willy Tarreau wrote:
> >If I compile my kernel for an SMP K7, only CPU0 gets the interrupts. But if
> >I enable CONFIG_X86_CLUSTERED_APIC by enabling either CONFIG_X86_NUMAQ or
> >CONFIG_X86_SUMMIT (CONFIG_X86_NUMA alone isn't enough), then I get my 
> >interrupts
> >distributed across both CPUs. This is on an Asus A7M266D with 2 Athlon XP 
> >1800+.
> 
> 
> did you ever get a response on this?
Well, Maciej Rozycki replied to me privately saying that he would look at the
problem though he didn't have time right now. I can't blame him, I didn't
either...
> The answer is a big fat "don't do that" ;-)
> 
> Summit and Numa are two things your box definitely does not have... 
> don't enable those options.  If you still have problems with those 
> options disabled, please re-post...
If I manage to get a few hours, I might compare the initialization code between
these different modes and try to determine what should be added or removed in
the classical code to make it work. Unfortunately, I'm fairly busy right now,
and trying to understand this unknown area will take some time :-(
Willy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/