Date: Sat, 3 Apr 1999 15:25:30 +0100 (GMT)
From: Mark Cooke <>
Subject: Re: MRTG/Linux 2.2.5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/3/20

On Sat, 3 Apr 1999, Alan Cox wrote:
> > On Fri, 2 Apr 1999, fbujanic wrote:
> > > the format of /proc/net/snmp changed in 2.1.x kernels. So you must make
> > > changes to your CMU-SNMP to make it read the correct info.
> > 
> > *heavy sigh*
> 
> I should point out at this point that the standard CMU-SNMP for Linux 2.0
> was making up the values for the byte counts and normally wildly inaccurate
> precisely because the snmp data didnt include the needed byte counters...
2.0 CMU assumed 306 bytes per packet, and just multiplied the packet
count by 306.
With both 2.0 and 2.2 kernels, as an alternative to SNMP you can use
the 'external script' function of MRTG alongside a firewall accounting
rule (or parsing up proc/net/snmp directly).  It's slightly more
secure than running another network service if you only use SNMP for
mrtg byte counting.
I have a set of (admittedly old) examples on my web page - 
http://www.sr.bham.ac.uk/~mpc/pulsar/monitor/index.shtml
Best regards,
Mark
+-------------------------------------------------------------------------+
Mark Cooke                  The views expressed above are mine and are not
Systems Programmer          necessarily representative of university policy
University Of Birmingham    URL: 
http://www.sr.bham.ac.uk/~mpc/
+-------------------------------------------------------------------------+
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/