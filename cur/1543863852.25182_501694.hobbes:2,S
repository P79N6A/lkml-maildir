Date: Thu, 25 Jan 2007 12:03:12 -0500
From: "Christopher \"Monty\" Montgomery" <>
Subject: Re: [Alsa-devel] [PATCH] alsa: correct nonsensical sysfs device symlinks
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/1/25/171

> > What was there (plugging the old 'dev' arg into the new call's
> > 'parent' makes no sense) is clearly wrong.
>
> It makes sense because the meaning of card->dev was changed, too.
> Now it points the "card*" object that is the root of all belonging
> devices.  The former card->dev is stored in card->parent.
Unfortunately card->parent does not work... but card->dev->parent does...
> > And it's clear my pacth is incomplete, as it doesn't correct the
> > device entries for the other entries.
>
> Well, for older systems, we shouldn't have also "card*" objects, too.
True enough.
> An untested patch below...
This patch does not correct the problem, unfortunately.  I had
originally tried something similar, but card->parent still results in
the device symlink pointing to ../../../class/cardN.
I'm working on this now and will doublecheck just in case my test was
flawed first time.
Monty
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/