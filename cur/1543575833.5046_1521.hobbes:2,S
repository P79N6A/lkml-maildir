Date: Thu, 14 Dec 2000 22:19:20 +1100 (EST)
From: Neil Brown <>
Subject: Re: failed in BUG() at fs/buffer.c:765
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/12/14/88

On Thursday December 14, ark@center.osakafu-u.ac.jp wrote:
> Dear kernel maintainers,
> I will report my problem around 2.4.0-test kernel.
> 
> Thanks in advance.
The simplest fix for this is the patch below.  Exactly what will get
into test13 has not yet been decided.
NeilBrown
--- drivers/md/raid5.c	2000/12/13 00:13:54	1.1
+++ drivers/md/raid5.c	2000/12/13 00:14:07
@@ -1009,6 +1009,7 @@
 	struct buffer_head *bh;
 	int method1 = INT_MAX, method2 = INT_MAX;
 
+#if 0
 	/*
 	 * Attempt to add entries :-)
 	 */
@@ -1039,6 +1040,7 @@
 			atomic_dec(&bh->b_count);
 		}
 	}
+#endif
 	PRINTK("handle_stripe() -- begin writing, stripe %lu\n", sh->sector);
 	/*
 	 * Writing, need to update parity buffer.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/