Date: Sun, 30 Oct 2005 06:29:24 -0800
From: Nishanth Aravamudan <>
Subject: Re: PCI-DMA: high address but no IOMMU
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/30/56

On 27.10.2005 [18:59:00 -0700], Nishanth Aravamudan wrote:
> On 27.10.2005 [15:39:20 -0700], Michael Madore wrote:
> > On 28 Oct 2005 00:16:51 +0200, Andi Kleen <ak@suse.de> wro> >
> > > > Checking aperture...
> > > > CPU 0: aperture @ 8000000 size 32 MB
> > > > Aperture from northbridge cpu 0 too small (32 MB)
> > > > No AGP bridge found
> > > > Your BIOS doesn't leave a aperture memory hole
> > > > Please enable the IOMMU option in the BIOS setup
> > > > This costs you 64 MB of RAM
> > > > Mapping aperture over 65536 KB of RAM @ 8000000
> > > >
> > > > ...
> > > >
> > > > PCI-DMA: Disabling AGP.
> > > > PCI-DMA: aperture base @ 8000000 size 65536 KB
> > > > PCI-DMA: Reserving 64MB of IOMMU area in the AGP aperture
> > >
> > > Can you post the full boot log?
> > >
> > 
> > Hi Andy,
> > 
> > Here is the full boot log from 2.6.14-rc5.
> 
> Just as another datapoint, here is mine (ignore the inode issues, they
> are due to a power failure yesterday):
Ah, silly me, I set IOMMU_DEBUG to Y at some point without realizing.
Taking that away removed the issues and I now only get:
[    0.000000] Checking aperture...
[    0.000000] CPU 0: aperture @ 4000000 size 32 MB
[    0.000000] Aperture from northbridge cpu 0 too small (32 MB)
[    0.000000] No AGP bridge found
...
[   47.737770] PCI-DMA: Disabling IOMMU.
Which makes a lot more sense.
Sorry for the noise.
Thanks,
Nish
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/