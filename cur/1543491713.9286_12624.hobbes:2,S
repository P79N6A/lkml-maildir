Date: Thu, 1 Apr 1999 19:34:09 -0500 (EST)
From: "Mike A. Harris" <>
Subject: Re: CDROM ioctl errors in 2.0.36
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/1/125

On Tue, 30 Mar 1999, Jens Axboe wrote:
>On Tue, Mar 30 1999, Mike A. Harris wrote:
>> Every time I use KDE's CD player, my system is constantly giving
>> CDROM errors every time I use the CD for anything else.
>> 
>> Scenario:  I run KDE, use the CD player to play an audio CD.  If
>> I eject the CD with the program, or with the actual button, I end
>> up getting a stream of errors printed on my console.  The only
>> way to stop this is to put an AUDIO CD into the thing.  I'm
>> assuming that KDE's CD player is the thing that needs repair
>> here.  Nonetheless, it is annoying that a user mode program can
>> dump tonnes of error messages to my console, as WELL as my
>> syslog, which IMHO opens the doors for DoS attacks.
>> 
>> If this is a kernel issue, let me know how to fix it.  If it is
>> an application issue, how can I fix it at the kernel or syslog
>> level?  I really could not care less if there is no CD in the
>> CDROM and the CDplayer software insists on telling me that there
>> is no CD every 5 seconds or whatever - even though I never told
>> it to look for a CD in the first place...
>> 
>> Any help would be greatly appreciated.
>
>Could we see what gets dumped to the logs???
Here is one example:
Mar 30 21:31:39 red kernel: sr_photocd: ioctl error (TOSHIBA #1): 0x28000000
Mar 30 21:32:12 red last message repeated 26 times
Mar 30 21:33:16 red last message repeated 56 times
Mar 30 21:34:17 red last message repeated 48 times
Mar 30 21:35:18 red last message repeated 34 times
Mar 30 21:36:19 red last message repeated 30 times
Mar 30 21:37:22 red last message repeated 32 times
Mar 30 21:38:26 red last message repeated 32 times
Mar 30 21:39:30 red last message repeated 32 times
Mar 30 21:40:34 red last message repeated 32 times
Mar 30 21:41:33 red last message repeated 31 times
Mar 30 21:42:33 red last message repeated 30 times
Mar 30 21:43:33 red last message repeated 30 times
This log, kept going on with "last message repeated" entries for
a couple pages.  It does it throughout my syslog quite a bit.  It
is incredibly annoying getting stupid cdrom message displayed on
my console if they are just irrelevant warnings of some bad cdrom
or something, but if it is a legitimate driver bug, or some other
bug, then I can see good reason for it being logged and dumped on
the console, and I also hope that it can/will be fixed.
As a temporary measure, can you send me a patch to remove the
messages or dump them to /dev/null?  It is really annoying...
There are other cdrom errors that appear from time to time.  They
just look like warnings to me, basically saying that my cdrom
sucks.  ;o)
TTYL
--
Mike A. Harris                   Linux advocate      GNU advocate
Computer Consultant                          Open Source advocate  
The DVORAK keyboard layout RULES!  I memorized it in 45 minutes
and I don't think I'm ever going back to QWERTY!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/