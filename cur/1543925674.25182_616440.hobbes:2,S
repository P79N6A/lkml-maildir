Date: Mon, 12 Nov 2007 11:56:53 -0800 (PST)
From: Christoph Lameter <>
Subject: Re: [patch 0/7] [RFC] SLUB: Improve allocpercpu to reduce per cpu access overhead
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/12/182

On Mon, 12 Nov 2007, Eric Dumazet wrote:
> Christoph Lameter a Ã©crit :
> > On Mon, 12 Nov 2007, Herbert Xu wrote:
> > 
> > > David Miller <davem@davemloft.net> wrote:
> > > > Each IP compression tunnel instance does an alloc_percpu().
> > > Actually all IPComp tunnels share one set of objects which are
> > > allocated per-cpu.  So only the first tunnel would do that.
> > 
> > Ahh so the need to be able to expand per cpu memory storage on demand is not
> > as critical as we thought.
> > 
> 
> Yes, but still desirable for future optimizations.
> 
> For example, I do think using a per cpu memory storage on net_device refcnt &
> last_rx could give us some speedups.
Note that there was a new patchset posted (titled cpu alloc v1) that 
provides on demand extension of the cpu areas.
See 
http://marc.info/?l=linux-kernel&m=119438261304093&w=2