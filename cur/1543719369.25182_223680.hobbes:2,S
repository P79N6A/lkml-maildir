Date: Fri, 28 May 2004 19:32:51 -0700 (PDT)
From: Chris Stromsoe <>
Subject: Re: oops, 2.4.26 and jfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/28/256

On Fri, 28 May 2004, Chris Stromsoe wrote:
> Aside from that:
>
> > May 26 06:28:10 begonia kernel: __alloc_pages: 0-order allocation
> > failed (gfp=0x1f0/0)
>
> I'm curious about why 0-order allocations would fail.  From everything
> I've read (google searching for the error message), that indicates an
> out of memory condition, which shouldn't be the case.
>
> The box in question has 4Gb of physical ram (512Mb is used as tmpfs) and
> 9Gb of swap.  When the oops happened, no swap was in use.  Physical ram
> was pretty much filled, but no swap at all.  OOM_KILLER is not enabled.
>
> There's nothing especially exotic in the box.  It does a lot of network
> traffic (eepro100) and a lot of disk traffic (aic7xxx).  The morning
> cron jobs had just kicked off.  Two of them do "find /"  -- I believe
> that the second one was running when it happened.
Looking back through my mail logs, I've had (and reported) problems with
0-order allocations failing and random hangs with this same workload on 2
other machines at least as far back as early April 3, 2004, with 2.4.23.
See <http://marc.theaimsgroup.com/?l=linux-kernel&m=107835211117799&w=2>
for an earlier report.
Differences between then and now:  I'm using tmpfs instead of rd,
CONFIG_HIGHIO=y is set, and I've upgraded the kernel to 2.4.26.
-Chris
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/