Date: Sun, 28 Mar 1999 00:42:25 -0500 (EST)
From: "Albert D. Cahalan" <>
Subject: Re: popen/pclose problem in Linux 2.2.x with vfork/glibc 2.1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/28/2

Brandon S. Allbery KF8NH writes:
> Ahem.  It's *vfork*, you can't do e.g. fd manipulations.  (Does
> there exist a "true vfork" where this would work?  My memory of
> the original says "no, forget it".)
The standard allows a range of behavior, including the extremes
of "just like fork" and "nothing useful works". Extremes are bad.
What people seem to want most:
   open, close, dup, dup2, _exit, execve, stat, fstat, lstat,
   link, unlink, rename, lseek, fsync, read, write, socket...
It might be reasonable to ask for a few special cases of stdio.
For example, tty output with the data flushed as needed.
(it works for threads, right?) That is a libc issue though.
> (And shouldn't the exit()s in the child be _exit()s instead?)
Yes, that is obviously fatal.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/