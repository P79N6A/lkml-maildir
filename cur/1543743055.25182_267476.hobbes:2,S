Date: Tue, 02 Nov 2004 08:03:29 -0600
From: Paul Fulghum <>
Subject: Re: [PATCH 2.4] usb serial write fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/2/101

On Mon, 2004-11-01 at 21:36, Pete Zaitcev wrote:
> Why testing for signals? Do you expect any?
post_helper can run in a user process as well
as keventd. The user process can get a signal
like HUP to pppd.
> Tying up a shared thread just because of this just does not look right.
OK. 
post_helper could hold the job and reschedule the work routine,
so it does not block other work routines.
Throwing the job away is not workable.
> Looking at pl2303 in 2.4, I do not see any difference between its ->write
> method and generic_write which would be specific to pl2303. The key
> difference is that generic_write participates in the protocol governed by
> port->write_busy. So why don't you simply drop pl2303_write?
That might fix the problem for pl2303, but if other component drivers
have driver specific write routines that do not implement this protocol,
they will have the problem also.
It seemed a better to fix this in one location instead
of auditing all component drivers and replicating a
fix in multiple places. Maybe no other component drivers
implement a driver specific write routine, I have not checked.
If pl2303_write has no necessary difference from generic_write
then pl2303_write should certainly be dropped.
-- 
Paul Fulghum
paulkf@microgate.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/