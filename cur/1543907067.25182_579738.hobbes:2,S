Date: Mon, 06 Aug 2007 13:22:42 +0200
From: Johannes Berg <>
Subject: Re: [linux-pm] Re: [Resend][PATCH] PM: Fix dependencies of CONFIG_SUSPEND and CONFIG_HIBERNATION (updated)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/6/119

On Mon, 2007-08-06 at 13:15 +0200, Johannes Berg wrote:
> config SUSPEND_UP_POSSIBLE
> 	depends on ARCH_SUSPEND_UP_POSSIBLE
> 
> and then the architecture gets to define that when it can suspend.
In fact, just doing
	depends on (ARCH_SUSPEND_UP_POSSIBLE && !SMP) || (ARCH_SUSPEND_SMP_POSSIBLE && SMP)
would probably be good instead of doing the intermediate
SUSPEND_UP_POSSIBLE and SUSPEND_SMP_POSSIBLE. The reason I like this
better is that we don't have a central editing point where patches
conflict causing unnecessary problems. But both are much better than
what we have now anyway :)
johannes
[unhandled content-type:application/pgp-signature]