Date: Fri, 09 Apr 1999 17:29:51 +1200
From: Bryce McKinlay <>
Subject: [PATCH] smbfs & OS/2 warp 4: debug messages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/9/3

PROBLEM: When accessing an OS/2 Warp 4 share via SMBFS, kernel debug
messages are printed/logged for every packet received. This results in
unneccessary disk activity and huge log files.
SOLUTION: This patch changes the status of the offending printk
statement from SMBFS_PARANIOA (which is defined by default) to
SMBFS_DEBUG_VERBOSE (which is not)
regards
  [ bryce ]
--- linux/fs/smbfs/sock.c       Sun Mar  1 10:29:35 1998
+++ linux-patched/fs/smbfs/sock.c       Fri Apr  9 17:05:50 1999
@@ -523,7 +523,7 @@
                memcpy(*parm + parm_disp, base + parm_offset,
parm_count);
                memcpy(*data + data_disp, base + data_offset,
data_count);
-#ifdef SMBFS_PARANOIA
+#ifdef SMBFS_DEBUG_VERBOSE
 printk("smb_receive_trans2: copied, parm=%u of %u, data=%u of %u\n",
 parm_len, parm_tot, data_len, data_tot);
 #endif
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/