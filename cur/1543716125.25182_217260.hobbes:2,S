Date: Thu, 29 Apr 2004 13:39:13 -0400
From: Trond Myklebust <>
Subject: Re: Possible permissions bug on NFSv3 kernel client
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/29/149

On Thu, 2004-04-29 at 07:02, Colin Paton wrote:
> In file: fs/nfs/nfs3proc.c modify nfs3_proc_access(). This calls the
> access RPC on the server. I added the following to the code:
> 
>             if (S_ISBLK(inode->i_mode) || S_ISCHR(inode->i_mode))
>                 {
>                     // Leave arg.access untouched.
> 
>                 }
> 
> ...so that the the MODIFY and EXTEND bits aren't set when writing to a
> block or character device.
Hmm... Why shouldn't the MODIFY bit at least be set if the user
requested write access to the device?
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/