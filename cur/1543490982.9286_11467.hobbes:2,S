Date: Thu, 25 Mar 1999 13:46:29 -0800
From: Ian Eure <>
Subject: Re: Mouse skittles when disk-bound
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/25/136

John Lenton wrote:
> 
> Hello all.
> 
> I have an annoying problem with my computer where, if I suddenly
> get to be disk-bound (be that due to intense pageing, or because
> I decide to run something extraordinarilly large--like emacs) my
> mouse scuttles all over the screen. This scuttling isn't random,
> and if I leave the mouse still during the disk thrashing nothing
> happens. If I move the mouse in the X direction, it'll skip some
> 50 pixels to the left (in X, on the CLI that'll be `some 6 chars
> to the left'); or down if moved in the Y direction. I get a fast
> multi-hop skip-dance game which I usually en up in loosing (down
> at the bottom-left-hand corner).
> 
I have had this problem before on some systems. It seems to be more of a
hardware issue. Many years ago when I ran Linux on a 486/66, I had this
problem. It turned out to be an issue with the video card I had, a
Diamond Viper VLB.
It seems to be much more prevalent on slower systems, and with Diamond
video cards, for some reason; I was noticing last week that my K6-2 266
with a Diamond Stealth 3D AGP card was having the problem.
> This is an IDE disk on a unknown ISA controller (it's an old ide
> +floppy+serial noname cards for which I have _no_ documentation,
> is there any way to tell what the unobvious jumpers are for?). I
> haven't written it off as a hardware bug yet because WfW311 does
> _not_ do the cursor dance (possibly because I have yet to see it
> get as disk-bound in DOS/WfW as I do in Linux. Even a light load
> can trip it at times, though).
> 
If you want to find out what the jumpers do, take about an hour or so,
disconnect everything from the controller, and frob. Just play with the
jumpers and notice what the BIOS detects in terms of serial, parallel,
floppy and hard disks. Keep a record as you go :)
> Can't really go test if it's the controller by replacing it with
> another one as the only other one I have has no serial ports, so
> obviously the mouse won't skip much (not being connected :).
> 
> This is kernel 2.2.3, but I've been seing it since about 2.0.36,
> and 2.1.126 through 2.1.131-ac99, and all the 2.2.0 saga so far.
> Only came across it recently, as it isn't all that noticeable if
> you don't hit the box as hard as I've been doing lately.
> 
I have seen it since the 1.3.xx series.
> It is very annoying to come across this feature, for example, on
> trying to resize a window in X; the disk activity caused by your
> click-n-drag is enough to start the skittle and it can be pretty
> much impossible to get the window exactly as you wanted it (this
> is when you're low on memory or the window's opaque).
> 
Yes.
> The computer is a 386 with 20MB of RAM, no FPU (yet).
> 
> Anything else that you think might be relevant? The results from
> hdparm -i aren't much use, as this seems to be more a controller
> issue, but anyway
> 
> [hard disk info deleted]
>
I suspect that the interrupt latency for the serial port the mouse is
connected to is rather high on slower systems, and this is causing the
mouse to jump. You might want to experiment with the irqtune program,
which will set a certain irq to have the highest priority; this may
improve things a bit. AFAIK, it does not work with 2.2.x, but for a
2.0.x system, it's great.
-- 
+-------------------------------------------------------------------------+
| Ian Eure
<ieure@crosssound.narrows.com>                                 |
| Network Administrator, Cross Sound Appraisal
Company                    |
|                                                                        
|
| "A conclusion is simply the place where someone got tired of
thinking." |
+-------------------------------------------------------------------------+
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/