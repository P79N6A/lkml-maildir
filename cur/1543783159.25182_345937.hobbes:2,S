Date: Wed, 31 Aug 2005 17:51:27 +0200
From: Jim MacBaine <>
Subject: PROBLEM: 2.6.13 crash on sparc64 in sunsu_kbd_ms_interrupt
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/31/157

1. 2.6.13 crash on sparc64 in sunsu_kbd_ms_interrupt
2. I'm running 2.6.13/sparc64 on a diskless Sun Ultra 5 workstation.
After an uptime between 5 and 20 minutes after start, the kernel
crashes, system stalls.
3. sparc64 sun keyboard sunsu_kbd_ms_interrupt
4. vanilla 2.6.13
5. Last working kernel version is not known. 2.6.12.5 shows the same behaviour.
6. Kernel message is attached to this mail.
8.1. Gnu C 3.4.2, binutils 2.15
8.2. 
sunny:~# cat /proc/cpuinfo
cpu             : TI UltraSparc IIi (Sabre)
fpu             : UltraSparc IIi integrated FPU
promlib         : Version 3 Revision 11
prom            : 3.11.12
type            : sun4u
ncpus probed    : 1
ncpus active    : 1
Cpu0Bogo        : 539.03
Cpu0ClkTck      : 000000001017df80
MMU Type        : Spitfire
8.3. no modules loaded
8.4. 
sunny:~# cat /proc/ioports
1fe02000000-1fe02bfffff : SABRE0 PBMA
1fe02c00000-1fe02ffffff : SABRE0 PBMB
  1fe02c00000-1fe02c00007 : 0000:01:03.0
  1fe02c00008-1fe02c0000b : 0000:01:03.0
  1fe02c00010-1fe02c00017 : 0000:01:03.0
  1fe02c00018-1fe02c0001b : 0000:01:03.0
  1fe02c00020-1fe02c0002f : 0000:01:03.0
  1fe02c00400-1fe02c004ff : 0000:01:02.0
sunny:~# cat /proc/iomem
1ff00000000-1ffbfffffff : SABRE0 PBMA
  1ff000a0000-1ff000bffff : Video RAM area
  1ff000c0000-1ff000c7fff : Video ROM
  1ff000f0000-1ff000fffff : System ROM
1ffe0000000-1ffffffffff : SABRE0 PBMB
  1ffe0000000-1ffe0007fff : 0000:01:01.1
    1ffe0000000-1ffe0007fff : sunhme
  1ffe0008000-1ffe0008fff : 0000:01:02.0
  1ffe0020000-1ffe003ffff : 0000:01:02.0
  1ffe1000000-1ffe1ffffff : 0000:01:02.0
  1ffe2000000-1ffe2ffffff : 0000:01:01.0
  1ffe3000000-1ffe3ffffff : 0000:01:01.1
  1fff0000000-1fff0ffffff : 0000:01:01.0
    1fff0000000-1fff00fffff : flashprom
  1fff1000000-1fff17fffff : 0000:01:01.0
    1fff1000000-1fff1001fff : eeprom
    1fff1200000-1fff12000ff : SUNW,CS4231
    1fff130015c-1fff130015d : ecpp
    1fff13023f0-1fff13023f7 : fdthree
    1fff13043bc-1fff13043cb : ecpp
    1fff13062f8-1fff13062ff : su
    1fff13083f8-1fff13083ff : su
    1fff1400000-1fff140007f : se
    1fff1504000-1fff1504002 : SUNW,pll
    1fff1700000-1fff170000f : ecpp
    1fff1702000-1fff170200f : SUNW,CS4231
    1fff1704000-1fff170400f : SUNW,CS4231
    1fff1706000-1fff170600f : fdthree
    1fff1720000-1fff1720003 : fdthree
    1fff1722000-1fff1722003 : SUNW,CS4231
    1fff1724000-1fff1724003 : power
    1fff1726000-1fff1726003 : auxio
    1fff1728000-1fff1728003 : auxio
    1fff172a000-1fff172a003 : auxio
    1fff172c000-1fff172c003 : auxio
    1fff172f000-1fff172f003 : auxio
8.5. lspci -vvv output attached
The kernel has been cross-compiled on a x86 Linux system, and
converted from ELF to a.out format in order to boot it via network.
Regards,
Jim
[unhandled content-type:application/octet-stream][unhandled content-type:application/octet-stream][unhandled content-type:application/octet-stream]