Date: Fri, 5 Feb 1999 07:46:04 -0500 (EST)
From: "Steven N. Hirsch" <>
Subject: Re: Linux 2.2.1ac4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/5/73

On 4 Feb 1999, Trond Myklebust wrote:
> "Steven N. Hirsch" <shirsch@adelphia.net> writes:
> 
> 
> > Yes, it does go rather fast.  Unfortunately, where it leads me is into
> > oblivion.  Running 'iozone 64 8192' on a dual-PPro SMP client (2.2.1-ac3) 
> > against a knfsd server locks up solid after a few seconds.  No log
> > messages, no fanfare. 
> > 
> 
> If you have time, I'd like to work with you on this.
> 
> I had reports from Thierry Danis that seemed to imply that the
> nfs_write_errors list might be getting corrupted at times. He said
> that he was seeing return values of '1' rather than 8192 when he
> 'strace'd iozone. Furthermore, the kernel NFS debugging seemed to
> imply that 'nfs_updatepage' was not being called when this happened
> (although nfs_file_write' was). Are you seeing the same thing?
I'm not sure I have enough free disk space for an strace of iozone <g>.
At any rate, I can't seem to trigger the lockup again after the initial
occurance.  
Regarding NFS debugging, is there a centralized, coherent explanation of
the various NFS and RPC debug flags?  If you have a suggestion for
configuring this, I'll glady feed you the resulting data.
Currently, a dual-PPro SMP client running ac4 is giving Bonnie benchmarks
of > 6 MB/sec. write and > 4 MB/sec. reads against a P166 server over
half-duplex 100Base-TX.  Not too shabby.
I'll continue to watch it closely.
Steve
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/