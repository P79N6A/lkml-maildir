Date: Mon, 1 Nov 2004 15:42:58 -0500
From: "usvyatsky, ilya" <>
Subject: General dcache question
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/1/290

Hi folks,
Sorry if this question does not really belong to this list, but it seems to
me that someone here can simply know the answer.
I am looking at Linux dcache mechanism trying to retreive a name (actually,
full path) of an active inode.
It seems that each active inode has a linked list of dentry's (i_dentry)
that holds a (partial) list of its names (links in fact),
and each dentry has d_name and d_parent.
Moshe Bar in his "Linux File Systems" book states that for every active
inode i_dentry would always contain at least one active
dentry. Moreover, such d_entry would have a valid d_parent field pointing at
active dcache entry containing a name of the parent directory. He also says
that only leaves with d_count equal to 0 are on the dcache LRU list.
Now, I wonder if the following assumption is true:
	For each active inode, there always be enough dcache entries (linked
through d_parent pointer) to restore the full path of the 	inode from
the root.
I also would appreciate it very much if someone familiar with 2.6 kernel
would confirm that this assumption still holds there.
Thanks a lot,
Ilya Usvyatsky.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/