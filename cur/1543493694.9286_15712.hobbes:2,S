Date: Sat, 24 Apr 1999 00:03:18 +0200 (MET DST)
From: (Guest section DW)
Subject: Re: disk geometry change
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/23/116

The large disk howto says about aix7xxx:
-----
H=64, S=32 unless C < 1024, and moreover
either the "extended" boot parameter was given,
or the `extended' bit was set in the SEEPROM or BIOS,
in which case H=255, S=63.
-----
This was true for 2.0.* and is still somewhat true for 2.2.6
but the precise conditions have changed (and became messier).
Two important changes are:
For 2.0.36 giving boot parameters "aic7xxx=extended" would always
give you an extended translation. For 2.2.6 this will only work
if the driver finds no SEEPROM, but will be ignored otherwise.
For 2.0.36, if the driver did not find a SEEPROM it would
always give you an extended translation.
For 2.2.6, if the driver did not find a SEEPROM it will
only give you an extended translation if you asked for it.
I do not know whether this change was intentional - it seems
to me that a driver should do what the user asks in an explicit
boot parameter. (Let me cc the maintainer.)
Anyway, in your case the boot parameter "aic7xxx=extended"
will probably work and give you an extended geometry again.
Andries - aeb@cwi.nl
P.S. Concerning LILO and unpleasant surprises:
It is a good habit to always have several kernels in the LILO setup
among which one known-to-be-good. That very much reduces the need
for emergency boot floppies.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/