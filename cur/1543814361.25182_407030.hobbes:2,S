Date: Thu, 16 Mar 2006 15:08:56 +1100
From: Nick Piggin <>
Subject: Re: [PATCH] for_each_possible_cpu [1/19] defines for_each_possible_cpu
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/15/317

Andrew Morton wrote:
> Nick Piggin <nickpiggin@yahoo.com.au> wrote:
>>for_each_cpu() effectively is for_each_possible_cpu() as far as
>>generic code is concerned. In other words, nobody would ever expect
>>for_each_cpu to return an _impossible_ CPU, thus you are just
>>adding a redundant element to the name.
> 
> 
> We've had various screwups and confusions with these things.  I think the
> new naming is good - it makes developers _think_ before they use it. 
> Instead of "I want to touch all the CPUs, gee that looks right" they'll
> have to stop and decide whether they want to access the online, possible or
> present ones and then they'll (hopefully) have a little think about what
> happens when CPUs migrate between those states.
> 
> 
I think screwups probably came from unclear documentation (which it was
until recently, and some implementations were plain wrong IIRC), and the
recentish introduction of cpu hotplug.
I don't see the point in this though. If people don't want to even think
about these issues, then this change isn't going to make them.
-- 
SUSE Labs, Novell Inc.
Send instant messages to your online friends 
http://au.messenger.yahoo.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/