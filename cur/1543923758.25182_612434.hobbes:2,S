Date: Tue, 30 Oct 2007 23:30:18 -0200
From: "Glauber de Oliveira Costa" <>
Subject: Re: [PATCH] Add asm-compat.h to x86
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/30/584

On 10/30/07, Jeremy Fitzhardinge <jeremy@goop.org> wrote:
> Mathieu Desnoyers wrote:
> > Add asm-compat.h to x86
> >
> > In assembly code and in gcc inline assembly, we need .long to express a "c long"
> > type on i386 and a .quad to express the same on x86_64. Use macros similar to
> > powerpc "PPC_LONG" to express those. Name chosen: ASM_LONG. (didn't feel like
> > X86_LONG was required).
> >
> > This is useful in inline assembly within code shared between 32 and 64
> > bits architectures in x86.
> >
> > More compatible assembly macros could be added in this header later when
> > needed.
> >
> > I had to create this to implement a merged optimized immediate values
> > header for x86.
> >
>
> Seems sound to me, and this header might be a useful place to put other
> things, like macros to emit exceptions, etc...
>
I have already done similar things in the unified pvops patch. But it
was just a few locations, and I didn't fell the need for a common
thing. But it is definitely useful.
-- 
Glauber de Oliveira Costa.
"Free as in Freedom"
http://glommer.net
"The less confident you are, the more serious you have to act."
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/