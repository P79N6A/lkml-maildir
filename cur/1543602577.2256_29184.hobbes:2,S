Date: Wed, 26 Sep 2001 23:15:13 +0200
From: Eric Van Buggenhaut <>
Subject: linux/fs/sysv/symlink.c in patch-2.4.10.bz2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/26/185

patch-2.4.10.bz2 pretends to install a new file
linux/fs/sysv/symlink.c
 which already exists in 2.4.9.
I also notice v2.4.9 is dated ... Wed Dec 31 16:00:00 1969
Woaw I didn't realize I had been playing with linux for so long !
diff -u --recursive --new-file v2.4.9/linux/fs/sysv/symlink.c linux/fs/sysv/symlink.c
--- v2.4.9/linux/fs/sysv/symlink.c  Wed Dec 31 16:00:00 1969
+++ linux/fs/sysv/symlink.c Sun Sep  2 10:34:36 2001
@@ -0,0 +1,25 @@
+/*
+ *  linux/fs/sysv/symlink.c
+ *
+ *  Handling of System V filesystem fast symlinks extensions.
+ *  Aug 2001, Christoph Hellwig (hch@caldera.de)
+ */
+
+#include <linux/fs.h>
+
+static int sysv_readlink(struct dentry *dentry, char *buffer, int buflen)
+{
+   char *s = (char *)dentry->d_inode->u.sysv_i.i_data;
+   return vfs_readlink(dentry, buffer, buflen, s);
+}
+
+static int sysv_follow_link(struct dentry *dentry, struct nameidata *nd)
+{
+   char *s = (char *)dentry->d_inode->u.sysv_i.i_data;
+   return vfs_follow_link(nd, s);
+}
+
+struct inode_operations sysv_fast_symlink_inode_operations = {
+   readlink:   sysv_readlink,
+   follow_link:    sysv_follow_link,
+};
diff -u --recursive --new-file v2.4.9/linux/fs/ufs/balloc.c linux/fs/ufs/balloc.c
Should 2.4.9 be remove before installing 2.4.10 ?
Thanks.
-- 
Eric VAN BUGGENHAUT
Eric.VanBuggenhaut@AdValvas.be
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/