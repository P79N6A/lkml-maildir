Date: Fri, 02 Aug 2002 13:48:08 +0200
From: Marcin Dalecki <>
Subject: Re: A new ide warning message
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/2/5

Uz.ytkownik Jens Axboe napisa?:
> On Fri, Aug 02 2002, Stephen Lord wrote:
> 
>>In 2.5.30 I started getting these warning messages out ide during
>>the mount of an XFS filesystem:
>>
>>ide-dma: received 1 phys segments, build 2
>>
>>Can anyone translate that into English please.
> 
> 
> Well I added that message when switching to the 2.5 style request
> mapping functions, and I think the message is perfectly clear :-). Never
> the less, it means that a segment that came into the ide layer with an
> advertised size of 1 segment was returned from blk_rq_map_sg() as having
> _two_. This can be a problem with dynamically allocated sg table (not
> that ide uses those, but still).
> 
> It's a bug and usually a critical one when this happens. I'd be inclined
> to think that Adam's changes in this path are to blame for this error.
Carefull carefull. it can be that the generic BIO code doesn't honour
the limits Adam was setting properly. And it can be of course
as well the XFS doesn't cooperate properly with those limits as well,
since ther kernel appears to be patched to support them.
It would be helpfull as well to know on which brand of host controller 
chip this was found. In esp. trm290 maybe?
> 
> Oh, and I'd be _really_ careful if you have trusted data on that drive
> (surely not when running 2.5 ide on it :-)
> 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/