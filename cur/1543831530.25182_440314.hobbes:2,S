Date: Tue, 4 Jul 2006 01:47:10 +0200
From: Andi Kleen <>
Subject: Re: [RFC 0/8] Reduce MAX_NR_ZONES and remove useless zones.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/3/304

> So we want to change the definition of ZONE_DMA to refer to the first 16MB 
> only? ZONE_DMA32 is always a 4GB border? (Andy disagrees about DMA32 see 
> his message!).
Hmm?  I didn't write anything about DMA32. Just noted a minor comment thinko about
highmem.
> It seems to me that DMA can be run on ZONE_NORMAL. ZONE_DMAxx is used for 
> situations in which DMA cannot be done to all of memory. ZONE_DMA allows 
> an architecture to define a single exception zone that ends at 
> MAX_DMA_ADDRESS (which is arch specific).
It's really architecture dependent. The portable interfaces are 
dma_alloc_* and suitable device masks and the architecture should sort
out then what zone to use.
I would say nearly everybody who uses GFP_DMA directly outside 
{arch,asm}/* is wrong.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/