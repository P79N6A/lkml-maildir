Date: Sun, 19 Mar 2000 23:36:30 -0700
From: Ben Greear <>
Subject: Re: Request for ethernet drivers in general.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/20/20

Jes Sorensen wrote:
> 
> >>>>> "Ben" == Ben Greear <greearb@candelatech.com> writes:
> 
> Ben> Howdy, I'm working on adding 802.1Q VLAN support to the Linux
> Ben> kernel, and need some driver help, if possible.
> 
> Ben> The problem is that VLAN pkts need a extra 4 bytes in their
> Ben> header, and many (not all) drivers will not accept the larger
> Ben> pkts.  This means that to actually get them to work I have to set
> Ben> the MTU on the VLAN interface to 1496, instead of 1500.  This is
> Ben> a hack at best, and really means that the driver/card combo will
> Ben> not work in a production VLAN environment.
> 
> Ehhm, are you trying to transmit packets which are outside the
> Ethernet spec? That doesn't sound like a particularly good idea to
> me. If you want to send an extra 4 bytes of date, you have to nick
> that from the data area in order to be within spec.
> 
> Jes
The spec, or at least some spec, allows for 802.1Q VLAN pkts
that are 4 bytes bigger.  I hear most hardware will support it:
you just have to make the drivers able to handle it.  I know some
cards work, at least in the 2.2 series, but others don't.  At
around the 2.3.48 timeframe, the tulip driver no longer worked
(It may have been fixed by now, I haven't tested lately.)
In general, while ppl are working on drivers, if they can just be
aware that 1500 (+ 4 + overhead) is an option, it shouldn't be hard
to support.
Ben
-- 
Ben Greear (greearb@candelatech.com)  
http://scry.wanfear.com/~greear
 
Author of ScryMUD:  scry.wanfear.com 4444        (Released under GPL)
http://scry.wanfear.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/