Date: 10 Jul 2000 23:05:41 -0500
From: "James H. Cloos Jr." <>
Subject: Re: [PATCH]2.4.0-test3 compile fix for UP
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/10/124

I just did a find|xargs grep.  These are, after md.c the last
remaining current->priority references:
./drivers/macintosh/via-pmu.c-       list = list->next) {
./drivers/macintosh/via-pmu.c-      current = list_entry(list, struct pmu_sleep_notifier, list);
./drivers/macintosh/via-pmu.c:      if (n->priority > current->priority)
./drivers/macintosh/via-pmu.c-       break;
./drivers/macintosh/via-pmu.c-  }
--
./arch/sparc/kernel/process.c-{
./arch/sparc/kernel/process.c-  /* endless idle loop with no priority at all */
./arch/sparc/kernel/process.c:  current->priority = 0;
./arch/sparc/kernel/process.c-  current->counter = -100;
./arch/sparc/kernel/process.c-  init_idle();
--
./arch/mips/kernel/irixelf.c-   psinfo.pr_sname = (i < 0 || i > 5) ? '.' : "RSDZTD"[i];
./arch/mips/kernel/irixelf.c-   psinfo.pr_zomb = psinfo.pr_sname == 'Z';
./arch/mips/kernel/irixelf.c:   psinfo.pr_nice = current->priority-15;
./arch/mips/kernel/irixelf.c-   psinfo.pr_flag = current->flags;
./arch/mips/kernel/irixelf.c-   psinfo.pr_uid = current->uid;
--
./arch/ppc/kernel/idle.c-{
./arch/ppc/kernel/idle.c- /* endless loop with no priority at all */
./arch/ppc/kernel/idle.c: current->priority = 0;
./arch/ppc/kernel/idle.c- current->counter = -100;
./arch/ppc/kernel/idle.c- init_idle();
--
./arch/sparc64/kernel/process.c-int cpu_idle(void)
./arch/sparc64/kernel/process.c-{
./arch/sparc64/kernel/process.c:    current->priority = 0;
./arch/sparc64/kernel/process.c-    current->counter = -100;
./arch/sparc64/kernel/process.c-    init_idle();
--
There are several more ->priority matches, but at least most look at
first blush to be other structs than task_struct....
-JimC
-- 
James H. Cloos, Jr.  <
http://jhcloos.com/public_key>
     1024D/ED7DAEA6 
<cloos@jhcloos.com>  E9E9 F828 61A4 6EA9 0F2B  63E7 997A 9F17 ED7D AEA6
     Is this post worth two cents?  Then goto <
http://2cw.org/23>
!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/