Date: Thu, 29 Mar 2001 22:32:13 -0800
From: Keith Owens <>
Subject: Re: [PATCH for 2.5] preemptible kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/3/30/20

On Wed, 28 Mar 2001 12:51:02 -0800, 
george anzinger <george@mvista.com> wrote:
>Dipankar Sarma wrote:
>> 1. Disable pre-emption during the time when references to data
>> structures
>> updated using such Two-phase updates are held.
>
>Doesn't this fly in the face of the whole Two-phase system?  It seems to
>me that the point was to not require any locks.  Preemption disable IS a
>lock.  Not as strong as some, but a lock none the less.
The aim is to remove all module locks from the main kernel path and
move the penalty for module unloading into the task doing the unload.
Only the unload code needs to worry about preemption, not the main
kernel code paths, so main line code runs faster and scales better.  I
don't care how long (within reason) it takes to unload a module, it is
such a rare event.  I want module unload to be race free with zero
impact on the fast code paths, the current design penalizes the fast
code paths.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/