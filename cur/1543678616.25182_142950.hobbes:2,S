Date: 24 Jun 2003 11:26:58 -0500
From: James Bottomley <>
Subject: Large backwards time steps panic 2.5.73
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/24/120

I've got one of those fun machines with a failing bios batter that
always boots up with the BIOS clock about a year into the future.
2.5.73 always panics around the time ntpdate sets the clock back to its
normal value with:
kernel BUG at kernel/timer.c:377!
Kernel addresses on the stack:
 [<10129510>] .L1641+0x0/0x38
 [<10105be4>] dump_stack+0x18/0x24
 [<101309fc>] .L996+0x0/0x58
 [<10147e7c>] .L1188+0x18/0x48
 [<10131130>] run_timer_softirq+0x15c/0x1b8
 [<10131210>] do_timer+0x68/0x118
 [<1012ccec>] __crc_scsi_put_command+0x8d/0xe9
 [<101738cc>] locate_fd+0xd0/0x15c
 [<1010737c>] do_cpu_irq_mask+0x90/0xf0
 [<10334f24>] start_kernel+0x4/0x1fc
 [<1010a068>] intr_return+0x0/0x14
 [<10161a7c>] get_empty_filp+0x64/0xfc
 [<101107a8>] .L894+0x14/0x18
 [<10161a7c>] get_empty_filp+0x64/0xfc
 [<10160044>] .L1853+0x94/0xcc
 [<101738cc>] locate_fd+0xd0/0x15c
 [<10334f24>] start_kernel+0x4/0x1fc
 [<1011077c>] .L892+0x0/0x18
 [<103350dc>] start_kernel+0x1bc/0x1fc
Reverting the patch
ChangeSet 1.1348.6.16 2003/06/20 22:13:39 akpm@digeo.com
  [PATCH] revert adjtimex changes
  From: John Stultz, George Anzinger, Eric Piel
Fixes the problem for me.
The above trace is from a HP PA-RISC machine running 2.5.73-pa1.
James
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/