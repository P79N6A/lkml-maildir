Date: Sun, 9 Oct 2005 12:09:09 +0200
From: Samuel Thibault <>
Subject: Re: [patch 3/4] new serial flow control
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/9/26

Hi,
Russell King, le Sun 09 Oct 2005 09:37:24 +0100, a Ã©crit :
> On Sun, Oct 09, 2005 at 02:21:30AM +0200, Samuel Thibault wrote:
> > Russell King, le Sun 09 Oct 2005 01:01:53 +0100, a ?crit :
> > > > How could this look like in userspace?
> > > 
> > > I think they should be termios settings - existing programs know how
> > > to handle termios to get what they want. 
> > 
> > Hence a new field in the termios structure?
> > 
> > There was a discussion about this back in 2000:
> > 
> > http://marc.theaimsgroup.com/?t=96514848800003&r=1&w=2
> 
> What I was thinking of was to use some of the spare termios cflag bits
> to select the flow control.  You'd only want one flow control type at
> one time though.  Eg: define two fields, each to select the signal.
> 
> 0 - RTS
> 1 - DTR
> 
> 0 - CTS
> 1 - DTR
> 2 - DSR
It looks fine, but it might not be sufficient for expressing that:
- some flow control use RTS to indicate that DTE is ready to send data,
- some other use it to indicate that DTE wants to send data. (and CTS is
used for acknowledgment of this),
- some other use it as a strobe for acknowledging characters, some other
use it as a strobe for acknowledging frames (announced by CTS).
> However, bear in mind that the majority of the more inteligent 8250-
> compatible UARTs with large FIFOs only do hardware flow control on
> RTS/CTS
Hardward flow control is usually performed in software. Can't their
hardware implementation of hardware flow control be disabled when
control method is not usual RTS/CTS?
Regards,
Samuel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/