Date: Sat, 19 Feb 2000 16:06:53 -0500 (EST)
From: ADAM Sulmicki <>
Subject: tmpfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/19/144

Hello,
	Solaris has something called tmpfs. Some ppl wanted it under
	linux.
	An easy way to do is create ramdisk and then just mount it 
	as /tmp. It comes out especially handy if you boot whole
	system in readonly mode and some programs require writable
	tmp (like X for its pipes).
	I used to do something like 
		mke2fs -vm0 /dev/ram 2048
		mount /dev/ram /tmp
	and it used to work like charm. However, unfortunatelly, it 
	does not work for me anymore :( Any idea what changed?
----------------------------------------------------------------------------
----------------------------------------------------------------------------
[root@pepsi adam]# /sbin/mke2fs -vm0 /dev/ram 2048
mke2fs 1.17, 26-Oct-1999 for EXT2 FS 0.5b, 95/08/09
Filesystem label=
OS type: Linux
Block size=1024 (log=0)
Fragment size=1024 (log=0)
256 inodes, 2048 blocks
0 blocks (0.00%) reserved for the super user
First data block=1
1 block group
8192 blocks per group, 8192 fragments per group
256 inodes per group
Writing inode tables: done                            
Writing superblocks and filesystem accounting information: done
[root@pepsi adam]#                 mount /dev/ram /mnt2 -t ext2
mount: wrong fs type, bad option, bad superblock on /dev/ram,
       or too many mounted file systems
[relevant part of dmesg]
MSDOS: Hardware sector size is 1024
fatfs: bogus cluster size
VFS: Can't find a valid MSDOS filesystem on dev 01:01.
VFS: Can't find an ext2 filesystem on dev ramdisk(1,1).
----------------------------------------------------------------------------
----------------------------------------------------------------------------
[root@pepsi adam]# /sbin/mke2fs -V
mke2fs 1.17, 26-Oct-1999 for EXT2 FS 0.5b, 95/08/09
        Using EXT2FS Library version 1.17
[root@pepsi adam]# mount -V
mount: mount-2.9u
[root@pepsi adam]# uname -a
Linux pepsi 2.3.42 #240 SMP Tue Feb 1 18:57:15 EST 2000 i686 unknown
[root@pepsi adam]# cat /proc/filesystems 
        ext2
nodev   proc
nodev   nfs
        iso9660
nodev   devpts
        vfat
[root@pepsi adam]# 
----------------------------------------------------------------------------
----------------------------------------------------------------------------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/