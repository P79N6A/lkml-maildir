Date: Mon, 24 May 2004 08:08:58 -0400
From:  hch@infradea ...
Subject: Re: [PATCH/RFC] Lustre VFS patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/24/106

> vfs-raw_ops-vanilla-2.6.patch
> 
>   This adds raw operations for setattr, mkdir, rmdir, mknod, unlink,
>   symlink, link and rename.  The raw operations look up the parent
>   directories (but not leaf nodes) involved in the operation and then
>   ask the file system to execute the operation.  These methods allow
>   us to delegate the execution of these functions to the server, and
>   instantiate no dentries for leaf nodes, leaf nodes will only enter
>   the dcache on subsequent lookups.  This patch dramatically
>   simplifies the client/server lock management, particularly for
>   rename.
> 
>   In Ottawa Linus suggested that we could maybe do this with intents
>   instead.  I feel that both are ugly, both are possible but intents
>   looked akward.
This is complete crap.  We don't want to methods for every namespace
operation.  Please try to work out a scheme that needs only one method
fitting both lustre and normal filesystems (I guess by passing struct
nameidata everywhere instead of just the dentry and allowing no instanciation
for special filesystems).  But this is major surgery and makes only sense
for 2.7.x and if you actually want to merge lustre (or another filesystem
makign use of it) into mainline.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/