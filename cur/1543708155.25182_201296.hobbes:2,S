Date: Tue, 24 Feb 2004 13:16:51 +1100
From: Ian Wienand <>
Subject: [PATCH] devpts_fs.h fails with "error: parameter name omitted"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/23/310

Hi,
The change
http://linux.bkbits.net:8080/linux-2.5/cset@1.1595.1.6
caused my test build [1] to die with 
In file included from drivers/char/tty_io.c:79:
include/linux/devpts_fs.h: In function `devpts_pty_new':
include/linux/devpts_fs.h:27: error: parameter name omitted
include/linux/devpts_fs.h: In function `devpts_get_tty':
include/linux/devpts_fs.h:28: error: parameter name omitted
include/linux/devpts_fs.h: In function `devpts_pty_kill':
include/linux/devpts_fs.h:29: error: parameter name omitted
make[2]: *** [drivers/char/tty_io.o] Error 1
suggested patch attached.
Thanks,
-i
ianw@gelato.unsw.edu.au
http://www.gelato.unsw.edu.au
[1] 
http://www.gelato.unsw.edu.au/kerncomp/results//2004-02-23-16-00/config-2.6.1-simulator-log.html#build
===== include/linux/devpts_fs.h 1.3 vs edited =====
--- 1.3/include/linux/devpts_fs.h	Mon Feb 23 16:24:03 2004
+++ edited/include/linux/devpts_fs.h	Tue Feb 24 13:04:26 2004
@@ -17,16 +17,16 @@
 
 #if CONFIG_UNIX98_PTYS
 
-int devpts_pty_new(struct tty_struct *); /* mknod in devpts */
-struct tty_struct *devpts_get_tty(int);	 /* get tty structure */
-void devpts_pty_kill(int);		 /* unlink */
+int devpts_pty_new(struct tty_struct *tty);      /* mknod in devpts */
+struct tty_struct *devpts_get_tty(int number);	 /* get tty structure */
+void devpts_pty_kill(int number);		 /* unlink */
 
 #else
 
 /* Dummy stubs in the no-pty case */
-static inline int devpts_pty_new(struct tty_struct *) { return -EINVAL; }
-static inline struct tty_struct *devpts_get_tty(int)  { return NULL; }
-static inline void devpts_pty_kill(int) { }
+static inline int devpts_pty_new(struct tty_struct *tty) { return -EINVAL; }
+static inline struct tty_struct *devpts_get_tty(int number) { return NULL; }
+static inline void devpts_pty_kill(int number) { }
 
 #endif
 [unhandled content-type:application/pgp-signature]