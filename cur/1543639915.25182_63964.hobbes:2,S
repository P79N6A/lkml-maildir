Date: Tue, 13 Aug 2002 22:50:32 -0300
From: Christian Reis <>
Subject: Re: [NFS] General network slowness on SIS 530 with eepro100
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/13/374

On Wed, Aug 14, 2002 at 03:13:55AM +0200, Trond Myklebust wrote:
> >>>>> " " == Christian Reis <kiko@async.com.br> writes:
> 
>      > Helle there,
> 
>      > I've been, for the past days, setting up a fairly big diskless
>      > network based on Linux. I've chosen to use 2.4.19 as the kernel
>      > because there were some hardware requirements, and for most of
>      > the newer boxes, it runs fine. However, for three of the older
>      > boxes, we have had some pretty odd performance and stability
>      > issues. This message is about the latest one, which is an ASUS
>      > P5S-B (has the infamous SIS 530 chipset) on an intel eepro100
>      > card. Details:
> 
> Is all this NFS over UDP? If so, numbers should not really have
> changed in 2.4.19 ( - yes my patchset changes things, but stock 2.4.19
> should not be too different w.r.t 2.4.18)
> 
> Are you able to determine where in the 2.4.19-pre series the
> performance dies?
Yes, it is over UDP. (Should I try TCP?)
Well, to be honest, I just set the network up, and I only tried two
kernels: 2.4.19 kosher and 2.4.19 with nfs-all. I haven't experimented
swapping kernels because I've been a bit singleminded that it's
something to do with the hardware setup.
I can try using an older kernel to see if it helps. 2.4.18 is a good
idea? Let me try and I'll post you back.
(BTW: Your patches *do* solve a problem I have: it makes client nfs
locking actually work; before them I had some serious issues with
locking under high network load. Not anymore. The flock() patch is also
essential for running sendmail on the diskless stations --- before it I
was forced to use tmpfs for /var/spool/mqueue.)
Take care,
--
Christian Reis, Senior Engineer, Async Open Source, Brazil.
http://async.com.br/~kiko/
 | [+55 16] 261 2331 | NMFL
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/