Date: Thu, 4 Dec 2008 23:08:23 -0800
From: Andrew Morton <>
Subject: Re: [PATCH] tty: Flags should be accessed via the foo_bit interfaces
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/5/18

On Thu, 04 Dec 2008 15:41:19 +0000 Alan Cox <alan@lxorguk.ukuu.org.uk> wrote:
> --- a/drivers/net/slip.c
> +++ b/drivers/net/slip.c
> @@ -432,7 +432,7 @@ static void slip_write_wakeup(struct tty_struct *tty)
>  		/* Now serial buffer is almost free & we can start
>  		 * transmission of another packet */
>  		sl->tx_packets++;
> -		tty->flags &= ~(1 << TTY_DO_WRITE_WAKEUP);
> +		clear_bit(TTY_DO_WRITE_WAKEUP, &sl->tty->flags);
that's different.