Date: Tue, 20 Dec 2005 15:38:48 +0100
From: Ingo Molnar <>
Subject: Re: [PATCH rc5-rt2 0/3] plist: alternative implementation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/20/85

* Oleg Nesterov <oleg@tv-sign.ru> wrote:
> Rediff against patch-2.6.15-rc5-rt2.
> 
> Nothing was changed except s/plist_next_entry/plist_first_entry/ to 
> match the current naming.
thanks Oleg, your patches look good to me, and it's a worthwile cleanup 
to make plist.h ops behave more like normal list.h ops. The new ops 
should be documented, but otherwise it looks OK.
(the resulting kernel doesnt build in PREEMPT_RT mode though, it's 
lib/plist.c not being converted yet?)
> These patches were only compile tested. This is beacuse I can't even 
> compile 2.6.15-rc5-rt2, I had to comment out this line
> 
> 	lib-$(CONFIG_RWSEM_XCHGADD_ALGORITHM) += rwsem.o
> 
> in lib/Makefile. I think CONFIG_RWSEM_GENERIC_SPINLOCK means that 
> lib/rwsem.c should be ignored.
> 
> After that the kernel panics at boot time, the call trace shows
> 
> 	set_workqueue_thread_prio
> 	wake_up_process
> 	set_workqueue_prio
> 	init_workqueues
> 
> will try to look further on Tuesday.
> 
> Just to make it clear, these problems were _without_ these patches.
please try the -rt3 kernel, does it work any better?
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/