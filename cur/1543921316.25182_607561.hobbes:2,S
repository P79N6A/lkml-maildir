Date: Sat, 20 Oct 2007 00:10:46 +0200 (CEST)
From: Jiri Kosina <>
Subject: Re: [PATCH] [RESEND] i386 and x86_64: randomize brk()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/19/367

On Thu, 11 Oct 2007, Andrew Morton wrote:
> > Anyway, it breaks on ia64:
> And on s390
> In file included from arch/s390/kernel/binfmt_elf32.c:202:
> arch/s390/kernel/../../../fs/binfmt_elf.c: In function 'load_elf_binary':
> arch/s390/kernel/../../../fs/binfmt_elf.c:1088: error: implicit declaration of function 'arch_randomize_brk'
> I'll drop the patch.
> Really we should fix the elf mess before we try and change it any more.
... back to this a week old thread about already dropped patch.
I am thinking about going back to the original idea of just simply 
defining ARCH_HAS_RANDOMIZE_BRK and not caring for the ELF crap any more 
for now. This way the patch is as small as possible, and doesn't interfere 
with the ELF cross-arch craziness at all.
Here I posted such version of the patch: 
http://lkml.org/lkml/2007/8/22/254
 and here you asked me to put empty 
stubs into elf.h, which turned out to be too headache for some archs: 
http://lkml.org/lkml/2007/8/22/492
Does going back to the original ARCH_HAS_RANDOMIZE_BRK sound acceptable 
now, before the ELF stuff gets completely rewritten one day?
Thanks,
-- 
Jiri Kosina
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/