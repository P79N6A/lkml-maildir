Date: Wed, 24 Mar 2004 14:57:20 +0100
From: Takashi Iwai <>
Subject: Re: CONFIG_PREEMPT and server workloads
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/24/62

At Sat, 20 Mar 2004 16:03:11 +0100,
Andrea Arcangeli wrote:
> 
> On Sat, Mar 20, 2004 at 06:51:11AM -0800, William Lee Irwin III wrote:
> > I may have missed one of his posts where he gave the results from the
> > RT test suite. I found a list of functions with some kind of numbers,
> > though I didn't see a description of what those numbers were and was
> > looking for something more detailed (e.g. the output of the RT
> > instrumentation things he had with and without preempt). This is all
> > mostly curiosity and sort of hoping this gets carried out vaguely
> > scientifically anyway, so I'm not really arguing one way or the other.
> 
> agreed. what I've seen so far is a great number of graphs, they were
> scientific enough for my needs and covering real life different
> workloads, but I'm not sure what Takashi published exactly, you may want
> to discuss it with him.
sorry, there is no exact descrption (yet) in public, except for the
pdf of slides i presented ago:
	
http://www.alsa-project.org/~iwai/audio-latency.pdf
the data there are already old (based on 2.6.0-test9), and were
measured by the old version of latency-test program (modifed version
from Benno Senor's latencytest suite).
basically, the latency-test program measures the latency between the
time of (periodical) irq and the time when user RT-thread is woken
up under different workloads.  the user thread can perform an
artificial CPU load (busy loop) to simulate the situation that any RT
process does a heavy job.
the resultant plot shows the critical deadline, the total latency and
the CPU latency (busy loop) responses, as you can see in the above
pdf.
the latest version of latency-test suite is found at
	
http://www.alsa-project.org/~iwai/latencytest-0.5.3.tar.gz
it uses its own kernel module to generate irqs from RTC and to trace
stacks.
i'll show the results of the recent kernels tomorrow...
--
Takashi Iwai <tiwai@suse.de>		ALSA Developer - www.alsa-project.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/