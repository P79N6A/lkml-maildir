Date: Thu, 1 Jun 2006 03:06:15 -0700
From: Andrew Morton <>
Subject: Re: broadcom 5752 in HP dc7600U works on 2.6.13 but does not working on 2.6.16
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/1/84

On Thu, 01 Jun 2006 10:54:56 +0100
Barry Scott <barry.scott@onelan.co.uk> wrote:
> > It appears that the 2.6.13 kernel did not bring up the machine's io-APICs,
> > but 2.6.16 did.  However you are receiving eth0 interrupts on 2.6.16 so
> > perhaps that's not relevant.
> >
> > Don't know, sorry - tg3 works OK for most people.  You could try booting
> > with the `noapic' kernel paremeter, perhaps.
> >
> > Note that googling for "noapic" gets 212,000 hits - we've _really_ screwed
> > something up in there.  Maybe one day some developer will lay hands on one
> > of these machines and will fix something.
> >
> > If noapic doesn't work (and I suspect it won't) then a next step would be
> > to compile a kernel.org kernel and start enabling debug options.  It's
> > hard, when we don't know which kernel subsystem broke.
> > 
> I'm willing to help get this fixed. I'm happy working inside kernels and 
> drivers
> but will need some guidance to know where to focus to track this down.
ACPI, most likely.
> The obvious problem is solve is why are no interrupts being received by
> the tg3.c code.
> 
> Which kernel should I use to debug this? 2.6.17 latest RC?
> Which debug options do you suggest I turn on to get closer to the problem?
> What information should I collect?
A git-bisect search would be a suitable way of finding out where it broke.
But then, we don't know if this machine has _ever_ worked with IO-APIC's
enabled, do we?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/