Date: Mon, 31 Dec 2007 17:36:35 +0100
From: Andi Kleen <>
Subject: Re: asm-x86/msr.h for sanitized headers: clean it or punt it
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/31/75

> can you enumerate which functions need to actually go to userspace then ?  the 
rdtscl/rdtscll/rdpmc primarily
> __KERNEL__ markings are a crapshoot at the moment.  you must also be jumping 
> through hoops in order to use the header in the first place since the vanilla 
> one wont compile out of the box.
At least the 64bit one or older 32bit one works without hoops. Agreed that the 
paravirt changes destroyed it on newer 32bit though. That's an unfortunate
regression.
-Andi