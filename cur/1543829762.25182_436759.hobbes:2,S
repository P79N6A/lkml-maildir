Date: Sun, 25 Jun 2006 21:07:07 +0800
From: Wu Fengguang <>
Subject: [PATCH 3/6] readahead: kconfig option READAHEAD_ALLOW_OVERHEADS
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/25/63

Introduce a kconfig option READAHEAD_ALLOW_OVERHEADS to enable users
to choose extra features that have overheads.
Features with overheads will be disabled by default.
Signed-off-by: Wu Fengguang <wfg@mail.ustc.edu.cn>
---
--- linux-2.6.17-mm2.orig/mm/Kconfig
+++ linux-2.6.17-mm2/mm/Kconfig
@@ -182,10 +182,15 @@ config ADAPTIVE_READAHEAD
 	  It is known to work well for many desktops, file servers and
 	  postgresql databases. Say Y to try it out for yourself.
 
+config READAHEAD_ALLOW_OVERHEADS
+	bool "Allow extra features with overheads"
+	default n
+	depends on ADAPTIVE_READAHEAD
+
 config DEBUG_READAHEAD
 	bool "Readahead debug and accounting"
 	default y
-	depends on ADAPTIVE_READAHEAD
+	depends on READAHEAD_ALLOW_OVERHEADS
 	select DEBUG_FS
 	help
 	  This option injects extra code to dump detailed debug traces and do
--
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/