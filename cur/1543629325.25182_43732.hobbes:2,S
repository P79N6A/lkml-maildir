Date: Fri, 3 May 2002 09:43:40 +0200 (SAST)
From: Zwane Mwaikambo <>
Subject: [PATCH] [2.5.12] test_bit fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/3/73

arch/i386/kernel/microcode.c
arch/i386/kernel/msr.c
Now i just need to wade through the alsa ones...
--- linux-2.5/arch/i386/kernel/microcode.c.orig	Thu May  2 21:05:23 2002
+++ linux-2.5/arch/i386/kernel/microcode.c	Thu May  2 21:37:26 2002
@@ -211,7 +211,7 @@
 	req->err = 1; /* assume update will fail on this cpu */
 
 	if (c->x86_vendor != X86_VENDOR_INTEL || c->x86 < 6 ||
-		test_bit(X86_FEATURE_IA64, &c->x86_capability)){
+		test_bit(X86_FEATURE_IA64, c->x86_capability)){
 		printk(KERN_ERR "microcode: CPU%d not a capable Intel processor\n", cpu_num);
 		return;
 	}
--- linux-2.5/arch/i386/kernel/msr.c.orig	Thu May  2 20:54:32 2002
+++ linux-2.5/arch/i386/kernel/msr.c	Thu May  2 21:37:18 2002
@@ -236,7 +236,7 @@
   
   if ( !(cpu_online_map & (1UL << cpu)) )
     return -ENXIO;		/* No such CPU */
-  if ( !test_bit(X86_FEATURE_MSR, &c->x86_capability) )
+  if ( !test_bit(X86_FEATURE_MSR, c->x86_capability) )
     return -EIO;		/* MSR not supported */
   
   return 0;
-- 
http://function.linuxpower.ca
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/