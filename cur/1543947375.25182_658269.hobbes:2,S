Date: Fri, 22 Feb 2008 13:04:21 -0800
From: Max Krasnyanskiy <>
Subject: Re: [PATCH sched-devel 0/7] CPU isolation extensions
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/22/385

Dmitry Adamushko wrote:
> Hi Max,
> 
>>  [ ... ]
>>  Last patch to the stop machine is potentially unsafe and is marked as experimental. Unfortunately
>>  it's currently the only option that allows dynamic module insertion/removal for above scenarios.
> 
> I'm puzzled by the following part (can be a misunderstanding from my side)
> 
> +config CPUISOL_STOPMACHINE
> +       bool "Do not halt isolated CPUs with Stop Machine (EXPERIMENTAL)"
> +       depends on CPUISOL && STOP_MACHINE && EXPERIMENTAL
> +       help
> +         If this option is enabled kernel will not halt isolated CPUs
> +         when Stop Machine is triggered. Stop Machine is currently only
> +         used by the module insertion and removal.
> 
> this "only" part. What about e.g. a 'cpu hotplug' case (_cpu_down())?
> (or we should abstract it a bit to the point that e.g. a cpu can be
> considered as 'a module'? :-)
My bad. I forgot to update that text. As you and other folks pointed out
stopmachine is used in a few other places besides module loading. We had 
a discussion about this awhile ago. I just forgot to update the text. 
Will do.
Max