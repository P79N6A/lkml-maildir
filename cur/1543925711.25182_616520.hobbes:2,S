Date: Mon, 12 Nov 2007 15:36:14 -0800
From: Linda Walsh <>
Subject: auto-reboot "broken" in 2.6.23.1 (from 2.6.22.12)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/12/262

Hello,
I upgraded the kernel on a multi-cpu Dell workstation (690) to
2.6.23.1.  It had been running at 2.6.20.  I moved to the new kernel via 
"make oldconfig" -- choosing defaults.  That didn't work.
To narrow things down I tried it under 2.6.21.1 (made
oldconfig from working 2.6.20/proc/config.gz).  This worked.
Downloaded and made 2.6.22.12 (w/oldconfig from the
working 2.6.21.1 config).
Tried deriving a new config from the 2.6.22.12/proc/config.gz
that worked (using make oldconfig).  This kernel won't reboot.
It goes through the entire shutdown process, and says it is
about to reboot the system.  Then it just stops. 
One of the new questions on ".23", was suspend-to-ram support.
That defaulted to 'yes' in oldconfig -- tried 'no' (thinking
maybe it was related), but that made no difference.
I assume something is unique to my configuration, but don't
know what would have changed in machine shutdown that would
have affected my system.  I also tried compiling in APM
and telling it to use real-mode to try to power-off the machine
(thinking, maybe, that flag might also affect rebooting; made
no difference).
I can post the config if that helps, but didn't want to include
a bunch of superfluous info if it wasn't needed.
Thanks,
Linda
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/