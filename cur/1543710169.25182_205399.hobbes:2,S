Date: Thu, 11 Mar 2004 00:07:43 +0100
From: Sytse Wielinga <>
Subject: Re: [PATCH for testing] cow behaviour for hard links
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/10/269

On Wednesday 10 March 2004 20:34, JÃ¶rn Engel wrote:
> Interna:
> I introduced a new flag for inodes, switching between normal behaviour
> and cow for hard links.  Flag can be changed and queried per fcntl().
> Ext[23] needed a bit of tweaking to write this flag to disk.  open()
> will fail, when a) cowlink flags is set, b) inode has more than one
> link and c) write access is requested.
I really like this! It makes me wonder why anyone hasn't come up with this 
idea before...
Pitifully, it only solves half of the problem: it does make sure you can't 
make any mistakes anymore, but it doesn't break the files up when a process 
wants to write to a linked file. You still have to copy and move every time 
you wish to edit a file. I'd like to have the kernel doing just that. I'll 
have a look whether I can write a patch, but I don't promise anything as I 
don't have much time :-)
Sytse
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/