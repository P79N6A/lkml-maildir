Date: Thu, 13 Apr 2006 12:14:09 +0200
From: bvetel <>
Subject: kernel BUG at fs/reiser4/plugin/file/tail_conversion.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/13/62

Hi
I use a kernel 2.6.17-rc1 with the patch mm2.
I had this message.
I attached the following files
config file from /proc
modules from /proc
------------[ cut here ]------------
kernel BUG at fs/reiser4/plugin/file/tail_conversion.c:80!
invalid opcode: 0000 [#1]
PREEMPT
last sysfs file: /block/hda/hda1/size
Modules linked in: i915 drm binfmt_misc rfcomm l2cap bluetooth nfsd
exportfs lockd nfs_acl sunrpc parport_pc lp parport ipv6 pcmcia deflate
twofish serpent aes blowfish des sha256 sha1 crypto_null af_key dm_mod
sd_mod eth1394 usbhid usb_storage 3c59x tsdev mousedev joydev scsi_mod
snd_intel8x0m b44 snd_intel8x0 ipw2200 snd_ac97_codec snd_ac97_bus
psmouse mii yenta_socket rsrc_nonstatic pcmcia_core ohci1394 ieee1394
ieee80211 ieee80211_crypt snd_pcm_oss snd_mixer_oss snd_pcm snd_timer
snd evdev rtc serio_raw ide_cd cdrom intel_agp agpgart pcspkr i2c_i801
i2c_core ehci_hcd uhci_hcd usbcore soundcore snd_page_alloc reiserfs
ext3 jbd mbcache ide_disk ide_generic siimage aec62xx trm290 alim15x3
hpt34x hpt366 cmd64x piix rz1000 slc90e66 generic cs5530 cs5520 sc1200
triflex atiixp pdc202xx_old pdc202xx_new opti621 ns87415 cy82c693
amd74xx sis5513 via82cxxx serverworks it821x ide_core
CPU:    0
EIP:    0060:[<c01d849f>]    Not tainted VLI
EFLAGS: 00210286   (2.6.17-rc1-mm2-1 #2)
EIP is at get_nonexclusive_access+0x2e/0x38
eax: c5a7a214   ebx: 00000000   ecx: 00000000   edx: c2c0e1c0
esi: 00000000   edi: 40160000   ebp: 000ef500   esp: c7807f00
ds: 007b   es: 007b   ss: 0068
Process mkimage (pid: 763, threadinfo=c7806000 task=cee5caa0)
Stack: <0>c01d62d2 c5a7a214 00000000 c7807f74 00000000 c7c4316c c289bcc0
00225000
       c7c4316c c01585f4 c7b72ac0 c6200180 c5a7a26c c8e497c0 c5a7a214
00000000
       00224802 00000001 c5a7a220 c7b72ac0 00001000 1f000000 ca35f680
c7807fa4
Call Trace:
 <c01d62d2> write_unix_file+0x300/0x5b9   <c01585f4> do_mmap_pgoff
+0x573/0x77a
 <c01674d6> vfs_write+0xc1/0x19b   <c0167ee2> sys_write+0x4b/0x74
 <c0324557> sysenter_past_esp+0x54/0x75   <c032007b> svc_seq_show
+0x10a/0x16f
Code: 04 8b 4c 24 08 85 c9 75 19 ba 00 e0 ff ff 21 e2 8b 12 8b 92 d0 04
00 00 8b 52 40 8b 52 08 85 d2 75 09 ff 00 0f 88 22 0f 00 00 c3 <0f> 0b
50 00 a0 95 34 c0 eb ed 56 53 83 ec 2c 89 c3 e8 da 0f fe
EIP: [<c01d849f>] get_nonexclusive_access+0x2e/0x38 SS:ESP 0068:c7807f00
 <4><4>reiser4[mkimage(763)]: release_unix_file
(fs/reiser4/plugin/file/file.c:2670)[vs-44]:
WARNING: out of memory?
<4>reiser4[mkimage(763)]: release_unix_file
(fs/reiser4/plugin/file/file.c:2670)[vs-44]:
WARNING: out of memory?
     Bruno
[unhandled content-type:application/x-gzip]i915 16000 1 - Live 0xe0a6e000
drm 62228 2 i915, Live 0xe0a7b000
binfmt_misc 8968 1 - Live 0xe09a0000
rfcomm 32280 0 - Live 0xe09d5000
l2cap 20484 5 rfcomm, Live 0xe09ce000
bluetooth 42084 4 rfcomm,l2cap, Live 0xe09ef000
nfsd 213508 13 - Live 0xe0a98000
exportfs 4864 1 nfsd, Live 0xe0999000
lockd 53480 2 nfsd, Live 0xe09e0000
nfs_acl 3072 1 nfsd, Live 0xe0997000
sunrpc 134820 9 nfsd,lockd,nfs_acl, Live 0xe0a40000
parport_pc 31728 0 - Live 0xe09c5000
lp 9152 0 - Live 0xe096b000
parport 32712 2 parport_pc,lp, Live 0xe09bc000
ipv6 237888 31 - Live 0xe0a04000
pcmcia 31420 2 - Live 0xe09b3000
deflate 2816 0 - Live 0xe0965000
twofish 43904 0 - Live 0xe09a7000
serpent 20096 0 - Live 0xe0988000
aes 29480 0 - Live 0xe098e000
blowfish 8832 0 - Live 0xe097c000
des 16384 0 - Live 0xe0983000
sha256 10496 0 - Live 0xe0978000
sha1 2432 0 - Live 0xe0969000
crypto_null 2432 0 - Live 0xe0967000
af_key 29072 0 - Live 0xe096f000
dm_mod 47028 0 - Live 0xe0558000
sd_mod 17424 9 - Live 0xe0542000
eth1394 16644 0 - Live 0xe04b0000
usbhid 36704 0 - Live 0xe041c000
usb_storage 67784 8 - Live 0xe049e000
3c59x 39336 0 - Live 0xe0462000
tsdev 6080 0 - Live 0xe040d000
mousedev 9792 1 - Live 0xe0402000
joydev 8000 0 - Live 0xe0406000
scsi_mod 118636 2 sd_mod,usb_storage, Live 0xe0444000
snd_intel8x0m 13836 0 - Live 0xe03a4000
b44 20876 0 - Live 0xe03be000
snd_intel8x0 28316 1 - Live 0xe03b6000
ipw2200 91336 0 - Live 0xe03ea000
snd_ac97_codec 89120 2 snd_intel8x0m,snd_intel8x0, Live 0xe03d3000
snd_ac97_bus 1920 1 snd_ac97_codec, Live 0xe02f8000
psmouse 37796 0 - Live 0xe03ab000
mii 4736 2 3c59x,b44, Live 0xe02f5000
yenta_socket 23180 3 - Live 0xe0397000
rsrc_nonstatic 11264 1 yenta_socket, Live 0xe02ee000
pcmcia_core 33680 3 pcmcia,yenta_socket,rsrc_nonstatic, Live 0xe02e0000
ohci1394 31812 0 - Live 0xe02d5000
ieee1394 84152 2 eth1394,ohci1394, Live 0xe0381000
ieee80211 30920 1 ipw2200, Live 0xe0225000
ieee80211_crypt 4992 1 ieee80211, Live 0xe0106000
snd_pcm_oss 36128 0 - Live 0xe0269000
snd_mixer_oss 15360 1 snd_pcm_oss, Live 0xe0248000
snd_pcm 74504 4 snd_intel8x0m,snd_intel8x0,snd_ac97_codec,snd_pcm_oss, Live 0xe02c1000
snd_timer 19844 1 snd_pcm, Live 0xe0242000
snd 44160 9 snd_intel8x0m,snd_intel8x0,snd_ac97_codec,snd_pcm_oss,snd_mixer_oss,snd_pcm,snd_timer, Live 0xe0251000
evdev 7680 2 - Live 0xe0222000
rtc 10932 0 - Live 0xe010a000
serio_raw 5252 0 - Live 0xe011e000
ide_cd 35360 0 - Live 0xe0238000
cdrom 34352 1 ide_cd, Live 0xe022e000
intel_agp 20380 1 - Live 0xe0122000
agpgart 25904 3 drm,intel_agp, Live 0xe021a000
pcspkr 2560 0 - Live 0xe00d3000
i2c_i801 7564 0 - Live 0xe00d5000
i2c_core 17040 1 i2c_i801, Live 0xe00df000
ehci_hcd 29324 0 - Live 0xe0110000
uhci_hcd 19980 0 - Live 0xe00d9000
usbcore 112284 5 usbhid,usb_storage,ehci_hcd,uhci_hcd, Live 0xe0128000
soundcore 7520 1 snd, Live 0xe00ce000
snd_page_alloc 7688 3 snd_intel8x0m,snd_intel8x0,snd_pcm, Live 0xe00cb000
reiserfs 247280 6 - Live 0xe014b000
ext3 123272 1 - Live 0xe00e6000
jbd 52500 1 ext3, Live 0xe00b3000
mbcache 7172 1 ext3, Live 0xe0086000
ide_disk 13440 4 - Live 0xe009c000
ide_generic 1152 0 [permanent], Live 0xe0084000
siimage 9984 0 [permanent], Live 0xe0093000
aec62xx 6272 0 [permanent], Live 0xe0041000
trm290 3716 0 [permanent], Live 0xe0078000
alim15x3 10768 0 [permanent], Live 0xe008f000
hpt34x 4224 0 [permanent], Live 0xe0075000
hpt366 17024 0 [permanent], Live 0xe0089000
cmd64x 10268 0 [permanent], Live 0xe007e000
piix 9092 0 [permanent], Live 0xe007a000
rz1000 2304 0 [permanent], Live 0xe0073000
slc90e66 4992 0 [permanent], Live 0xe0070000
generic 4100 0 [permanent], Live 0xe006d000
cs5530 4736 0 [permanent], Live 0xe006a000
cs5520 3840 0 [permanent], Live 0xe0068000
sc1200 6016 0 [permanent], Live 0xe0065000
triflex 3072 0 [permanent], Live 0xe0063000
atiixp 5264 0 [permanent], Live 0xe0060000
pdc202xx_old 9608 0 [permanent], Live 0xe0008000
pdc202xx_new 7936 0 [permanent], Live 0xe003e000
opti621 3972 0 [permanent], Live 0xe0032000
ns87415 3628 0 [permanent], Live 0xe0030000
cy82c693 3844 0 [permanent], Live 0xe002e000
amd74xx 13596 0 [permanent], Live 0xe0039000
sis5513 12556 0 [permanent], Live 0xe0034000
via82cxxx 8324 0 [permanent], Live 0xe002a000
serverworks 7816 0 [permanent], Live 0xe0027000
it821x 7044 0 [permanent], Live 0xe000c000
ide_core 108476 30 usb_storage,ide_cd,ide_disk,ide_generic,siimage,aec62xx,trm290,alim15x3,hpt34x,hpt366,cmd64x,piix,rz1000,slc90e66,generic,cs5530,cs5520,sc1200,triflex,atiixp,pdc202xx_old,pdc202xx_new,opti621,ns87415,cy82c693,amd74xx,sis5513,via82cxxx,serverworks,it821x, Live 0xe0044000