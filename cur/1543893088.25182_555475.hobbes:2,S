Date: Sat, 9 Jun 2007 12:49:26 -0400
From: Disconnect <>
Subject: Re: PROBLEM: system clock slow on Athlon AMD64 since 2.6.21
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/9/111

On 6/9/07, Mikael Pettersson <mikpe@it.uu.se> wrote:
> According to your system description it seems that you have a
> Targa Visionary laptop with a VIA chipset and a Mobile Athlon64.
> If so, then you probably have the same problem I reported some time
> ago: see <
http://marc.info/?l=linux-kernel&m=117681226421346&w=2>
> and the followup messages. The conclusion was that the chipset's
> ACPI PM timer slows down when the CPU is in C2.
>
> The workaround is to boot with processor.max_cstate=1.
>
I was seeing the same problem on a Ferrari 3200 (with ubuntu kernels)
but more recent kernels (2.6.21.3-ck2-swsusp2) don't ever seem to
enter C2 at all - according to powertop (1.5) its always in C0. (And
yes, this solved the clock problem at the cost of power use.)
I can provide any additional details that might help, and I'm in a
decent position to test things right now.
processor       : 0
vendor_id       : AuthenticAMD
cpu family      : 15
model           : 12
model name      : Mobile AMD Athlon 64 Processor 2800+
stepping        : 0
cpu MHz         : 800.000
cache size      : 512 KB
fpu             : yes
fpu_exception   : yes
cpuid level     : 1
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge
mca cmov pat pse36 clflush mmx fxsr sse sse2 syscall nx mmxext lm
3dnowext 3dnow
bogomips        : 1605.13
TLB size        : 1024 4K pages
clflush size    : 64
cache_alignment : 64
address sizes   : 40 bits physical, 48 bits virtual
power management: ts fid vid ttp
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/