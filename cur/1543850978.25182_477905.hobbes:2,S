Date: Tue, 31 Oct 2006 09:04:29 +0100 (MET)
From: Jan Engelhardt <>
Subject: Re: [PATCH 2/7] severing fs.h, radix-tree.h -> sched.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/31/66

> > +EXPORT_SYMBOL(lock_super);
> > +EXPORT_SYMBOL(unlock_super);
>
>isn't the current fashion to do this like:
>
>void lock_super(struct super_block * sb)
>{
>	get_fs_excl();
>	mutex_lock(&sb->s_lock);
>}
>EXPORT_SYMBOL(lock_super);
>
>void unlock_super(struct super_block * sb)
>{
>	put_fs_excl();
>	mutex_unlock(&sb->s_lock);
>}
>EXPORT_SYMBOL(unlock_super);
Seems to be a draw:
fs$ grep -nr EXPORT .
./dcache.c:2113:EXPORT_SYMBOL(d_move);
./dcache.c:2114:EXPORT_SYMBOL_GPL(d_materialise_unique);
./dcache.c:2115:EXPORT_SYMBOL(d_path);
./dcache.c:2116:EXPORT_SYMBOL(d_prune_aliases);
./dcache.c:2117:EXPORT_SYMBOL(d_rehash);
./dcache.c:2118:EXPORT_SYMBOL(d_splice_alias);
./dcache.c:2119:EXPORT_SYMBOL(d_validate);
vs
./debugfs/file.c:86:EXPORT_SYMBOL_GPL(debugfs_create_u8);
./debugfs/file.c:127:EXPORT_SYMBOL_GPL(debugfs_create_u16);
./debugfs/file.c:168:EXPORT_SYMBOL_GPL(debugfs_create_u32);
./debugfs/file.c:247:EXPORT_SYMBOL_GPL(debugfs_create_bool);
./debugfs/file.c:292:EXPORT_SYMBOL_GPL(debugfs_create_blob);
	-`J'
-- 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/