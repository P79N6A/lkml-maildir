Date: Sat, 22 Jul 2006 18:59:45 +0200
From: Bodo Eggert <>
Subject: Re: what is necessary for directory hard links
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/22/71

Horst H. von Brand <vonbrand@inf.utfsm.cl> wrote:
> Joshua Hudson <joshudson@gmail.com> wrote:
>> This patch is the sum total of all that I had to change in the kernel
>> VFS layer to support hard links to directories
> 
> Can't be done, as it creates the possibility of loops.
Don't do that then?
> The "only files can
> be hardlinked" idea makes garbage collection (== deleting of unreachable
> objects) simple: Just check the number of references.
> 
> Detecting unconnected subgraphs uses a /lot/ of memory; and much worse, you
> have to stop (almost) all filesystem activity while doing it.
In order to disconnect a directory, you'd have to empty it first, and after
emptying a directory, it won't be part of a loop. Maybe emtying is the
problem ...
This feature was implemented, and I asume it was removed for a reason.
Can somebody remember?
-- 
Ich danke GMX dafür, die Verwendung meiner Adressen mittels per SPF
verbreiteten Lügen zu sabotieren.
http://david.woodhou.se/why-not-spf.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/