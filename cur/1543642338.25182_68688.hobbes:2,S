Date: Thu, 05 Sep 2002 21:44:59 +0200
From: Andreas Steinmetz <>
Subject: 2.4.20pre5 CONFIG_BLK_STATS breaks LVM tools
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/5/259

If CONFIG_BLK_STATS is enabled in 2.4.20pre5 this breaks at least the
LVM tools. The symptom on a system running initrd to do vgscan/vgchange
to be able to boot is that after
RAMDISK: Compressed image found at block 0
Freeing initrd memory: 734k freed
VFS: Mounted root (ext2 filesystem).
the system hangs with the CPU under load. It is difficult for me to
investigate this further as both systems I do have available run a
LVM/reiserfs only setup and thus I can't have a look at the layout of
/proc/partitions in the CONFIG_BLK_STATS enabled page.
It would, however, be worth a word of warning in Configure.help that
this option can break userspace tools that may be important for system
boot and other system functions.
-- 
Andreas Steinmetz
D.O.M. Datenverarbeitung GmbH
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/