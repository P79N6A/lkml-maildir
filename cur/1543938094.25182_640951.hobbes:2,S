Date: Sun, 20 Jan 2008 13:07:17 +0100
From: "Bert Wesarg" <>
Subject: Re: [PATCH 2/6] typesafe: kthread_create and kthread_run
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/20/49

On Jan 20, 2008 12:25 PM, Jan Engelhardt <jengelh@computergmbh.de> wrote:
>
> On Jan 20 2008 20:48, Rusty Russell wrote:
> >+ */
> >+#define kthread_create(threadfn, data, namefmt...) ({         \
> >+      int (*_threadfn)(typeof(data)) = (threadfn);            \
> >+      __kthread_create((void *)_threadfn, (data), namefmt);   \
> >+})
>
> If you have namefmt... you need that varagrs cpp trick. IIRC:
>
>         __kthread_create((void *)_threadfn, (data), namefmt, __VA_ARGS__);
almost
either:
#define kthread_create(threadfn, data, ...) ({         \
        __kthread_create((void *)_threadfn, (data), __VA_ARGS__);
or:
#define kthread_create(threadfn, data, namefmt, ...) ({         \
        __kthread_create((void *)_threadfn, (data), namefmt, ##__VA_ARGS__);
Bert
>
> --
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  
http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  
http://www.tux.org/lkml/
>