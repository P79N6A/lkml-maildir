Date: Thu, 08 Jun 2006 11:45:24 -0400
From: Shailabh Nagar <>
Subject: Re: taskstats interface for accounting
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/8/143

Jay Lan wrote:
>Shailabh Nagar wrote:
> 
>
>>Jay Lan wrote:
>>
>> 
>>
>>>Hi Balbir and Shailabh,
>>>
>>>I finally have time to think about implementation details of CSA over
>>>taskstats interface. I took another look at the taskstats interface
>>>proposal and was a little bit nervous
>>>
<snip>
>>>Another thing i overlooked when i did the review was that taskstats
>>>interface is designed to provide _BOTH_ per task _AND_ per thread
>>>accounting data EVERY TIME a task exists. A thread is an aggregate
>>>of (per-pid) tasks. Since this type of aggregation is not used in
>>>CSA, half of data traffic would be useless. Can we add a way to
>>>configure to not send per-thread data to the socket?
>>> 
>>>
>>I don't see why not. We could extend the command set to set tgid
>>sending on/off.
>> 
>>
>
>This would be great!
>
>But, we can have a number of applications listening on the socket. We
>surely do not want applications to send conflicting commands to the kernel.
>Maybe we can make it a /etc/sysconfig option.
> 
>
Yup...allowing non-privileged apps to set the param is not desirable.
I think by setting the GENL_ADMIN_PERM flag on the configure operation 
being added, we should
be able to limit this command to privileged users.
If thats not the case, we can go with some sysfs option.
Doing the config through the command interface, using a new CONFIG or 
SET type command (just like the GET
command would keep it kind of unified and also be along the lines
of how Jamal had described the interface be used.
--Shailabh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/