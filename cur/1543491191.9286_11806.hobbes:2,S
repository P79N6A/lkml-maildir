Date: Sun, 28 Mar 1999 05:31:20 +0200 (CEST)
From: Mike Galbraith <>
Subject: Re: modutils-2.2.2-pre4 + patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/27/122

On Sat, 27 Mar 1999, Sid Boyce wrote:
> Tim Waugh wrote:
> > That sounds like your modutils version and /etc/conf.modules disagree
> > about what path[...] should look like.  Try taking out the path[...] lines
> > from a backed-up copy of conf.modules and see if that helps.
> 	I had some problems earlier with modules.conf, so I renamed it since an
> earlier modutils-2.2.2-prex and I'm currently running with
> modutils-2.1.85 without modules.conf or conf.modules, begging the
> question as to whether you really need either.
> 	The really odd problem in the strace was the "No Space left on device"
> with nearly a Gig lying around.
> Regards
Hi,
I don't have your original trace, but looked into one done here...
It's not complaining about device space, rather that the destination
buffer is too small for the requested data to fit into.  If re-called
(is here) with a large enough bufsize, qm_symbols() succeeds.
query_module(0x805b9c8, 0x4, 0x805bd88, 0x400, 0xbfffe7b0) = -1 ENOSPC (No space left on device)
query_module(0x805b9c8, 0x4, 0x805bd88, 0x45c, 0xbfffe7b0) = 0
                                        ^^^^^bufsize
(modutils-2.2.2-pre4 + patch and kernel 2.2.4)
	-Mike
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/