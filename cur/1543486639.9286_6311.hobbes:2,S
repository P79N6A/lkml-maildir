Date: Sat, 20 Feb 1999 16:26:38 +0000
From: Niall Richard Murphy <>
Subject: Strange oops in 2.0.36 - null pointers on stack?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/20/49

Hi folks,
Can anyone give me a pointer as to what these oops might be about?
They used to happen once every few months, now they're happening once
every few days. We suspect hardware failure, but you never know what
script kiddies might be out there...
The machines are just virtual web servers; there doesn't appear
to be anything special about their configuration.
If I've done the ksym stuff incorrectly, please let me know and I'll fix it.
NRM
---
First oops (which is not typical):
test kernel: general protection: 0000
test kernel: CPU:    0
test kernel: EIP:    0010:[del_timer+22/64]
test kernel: EFLAGS: 00010086
test kernel: eax: 0771cf28   ebx: 00000000   ecx: b482f8e8   edx: 02034740
test kernel: esi: 00000206   edi: 0771cf18   ebp: 001b1f2c   esp: 001b1f24
test kernel: ds: 0018   es: 0018   fs: 002b   gs: 0018   ss: 0018
test kernel: Process swapper (pid: 0, process nr: 0, stackpage=001b00ac)
test kernel: Stack: 001bfeac 0431a038 001d0008 00143ab4 0771cf28 001bfeac 
0431a038 0431a628
test kernel:        00143baa 0771cf18 00143ef2 000005dc 0431a038 0431a628 
001d0008 0000e401
test kernel:        003af810 0011e656 00000014 00002000 00000006 00000006 
0253d018 001435f1
test kernel: Call Trace: [ip_free+16/164] [ip_evictor+38/56] 
[ip_defrag+34/796] [change_protection+202/300] [ip_rcv+401/1396] 
[filemap_nopage+236/736] [net_bh+252/284]
test kernel:        [do_bottom_half+59/96] [handle_bottom_half+11/24] 
test kernel: Code: 89 51 04 85 d2 74 07 bb 01 00 00 00 89 0a c7 40 04 00 00 00 
test kernel: Aiee, killing interrupt handler
test kernel: kfree of non-kmalloced memory: 001b20f4, next= 0011e652, 
order=1779808
test kernel: kfree of non-kmalloced memory: 001b20e4, next= 0011e652, 
order=1779808
test kernel: kfree of non-kmalloced memory: 001b25f8, next= 0011e652, 
order=1779808
test kernel: idle task may not sleep
test last message repeated 4 times
Process swapper (pid: 0, process nr: 0, stackpage=001b00ac)
esp+00: 001bfeac <irq2dev_map_R9d8e8bfb+68c/854>
esp+04: 0431a038 
esp+08: 001d0008 <___strtok_R8b55d69c+110/5f20>
esp+0c: 00143ab4 <ip_rcv_Rf03f64b1+654/878>
esp+10: 0771cf28 
esp+14: 001bfeac <irq2dev_map_R9d8e8bfb+68c/854>
esp+18: 0431a038 
esp+1c: 0431a628 
esp+20: 00143baa <ip_rcv_Rf03f64b1+74a/878>
esp+24: 0771cf18 
esp+28: 00143ef2 <ip_send_check_Ref0cfb12+21a/798>
esp+2c: 000005dc <Using_Versions+5db/108af3>
esp+30: 0431a038 
esp+34: 0431a628 
esp+38: 001d0008 <___strtok_R8b55d69c+110/5f20>
esp+3c: 0000e401 <Using_Versions+e400/108af3>
esp+40: 003af810 
esp+44: 0011e656 <generic_file_mmap_Rffbcc9e9+2be/2c8>
esp+48: 00000014 <Using_Versions+13/108af3>
esp+4c: 00002000 <Using_Versions+1fff/108af3>
esp+50: 00000006 <Using_Versions+5/108af3>
esp+54: 00000006 <Using_Versions+5/108af3>
esp+58: 0253d018 
esp+5c: 001435f1 <ip_rcv_Rf03f64b1+191/878>
Code: 00000000 movl   %edx,0x4(%ecx) <Using_Versions+3/108af3>
Code: <Using_Versions+2/108af3> testl  %edx,%edx
Code: <Using_Versions+4/108af3> je     0000000e <_EIP+e>
Code: <Using_Versions+6/108af3> movl   $0x1,%ebx <Using_Versions+0/108af3>
Code: <Using_Versions+b/108af3> movl   %ecx,(%edx)
Code: <Using_Versions+d/108af3> movl   $0x0,0x4(%eax) <Using_Versions+3/108af3>
Code: <Using_Versions+14/108af3> nop    
Code: <Using_Versions+15/108af3> nop    
Code: <Using_Versions+16/108af3> nop    
-- 
Second oops (more typical):
test2 kernel: general protection: 0000
test2 kernel: CPU:    0
test2 kernel: EIP:    0010:[timer_bh+322/820]
test2 kernel: EFLAGS: 00010086
test2 kernel: eax: 001b3528   ebx: 82f8e800   ecx: 82f8e800   edx: 00000004
test2 kernel: esi: 001b3820   edi: 00000001   ebp: 001b1e2c   esp: 001b1e18
test2 kernel: ds: 0018   es: 0018   fs: 002b   gs: 0000   ss: 0018
test2 kernel: Process swapper (pid: 0, process nr: 0, stackpage=001b00ac)
test2 kernel: Stack: 00000001 ffffffff 00000001 00000001 0011f100 001d5f6c 
0011891f 001b1e48
test2 kernel:        00000000 00000000 00000009 0010abab 00000000 001b2860 
05e1f810 00000000
test2 kernel:        00000000 00000009 001b2860 00000018 00000018 00000000 
00000000 fffffffe
test2 kernel: Call Trace: [move_page_tables+8/164] [do_bottom_half+59/96] 
[handle_bottom_half+11/24] [exit_notify+24/472] [do_exit+456/508] 
[handle_bottom_half+11/24] [die_if_kernel+695/704]
test2 kernel:        [<09000000>] [<08800000>] [do_general_protection+124/172] 
[do_general_protection+0/172] [error_code+64/72] [del_timer+22/64] 
[ip_free+16/164] [ip_evictor+38/56]
test2 kernel:        [ip_defrag+34/796] [change_protection+202/300] 
[ip_rcv+401/1
396] [filemap_nopage+236/736] [net_bh+252/284] [do_bottom_half+59/96] 
[handle_bottom_half+11/24]
test2 kernel: Code: 8b 1b 8b 41 08 89 c2 2b 55 fc 81 fa ff 00 00 00 77 08 0f b6
test2 kernel: Aiee, killing interrupt handler
Process swapper (pid: 0, process nr: 0, stackpage=001b00ac)
esp+00: 00000001 <Using_Versions+0/108af3>
esp+04: ffffffff 
esp+08: 00000001 <Using_Versions+0/108af3>
esp+0c: 00000001 <Using_Versions+0/108af3>
esp+10: 0011f100 <vfree_R6df52add+70/74>
esp+14: 001d5f6c <bh_base_R1ff3496c+0/80>
esp+18: 0011891f <unregister_sysctl_table_R584f54c3+6af/788>
esp+1c: 001b1e48 <event_Ra6aac9c1+1dac/2ba8>
esp+20: 00000000 
esp+24: 00000000 
esp+28: 00000009 <Using_Versions+8/108af3>
esp+2c: 0010abab <dump_thread+923/12e8>
esp+30: 00000000 
esp+34: 001b2860 <event_Ra6aac9c1+27c4/2ba8>
esp+38: 05e1f810 
esp+3c: 00000000 
esp+40: 00000000 
esp+44: 00000009 <Using_Versions+8/108af3>
esp+48: 001b2860 <event_Ra6aac9c1+27c4/2ba8>
esp+4c: 00000018 <Using_Versions+17/108af3>
esp+50: 00000018 <Using_Versions+17/108af3>
esp+54: 00000000 
esp+58: 00000000 
esp+5c: fffffffe 
Code: 00000000 movl   (%ebx),%ebx
Code: <Using_Versions+1/108af3> movl   0x8(%ecx),%eax <Using_Versions+7/108af3>
Code: <Using_Versions+4/108af3> movl   %eax,%edx
Code: <Using_Versions+6/108af3> subl   0xfffffffc(%ebp),%edx
Code: <Using_Versions+9/108af3> cmpl   $0xff,%edx <Using_Versions+fe/108af3>
Code: <Using_Versions+f/108af3> ja     0000001a <_EIP+1a>
Code: <Using_Versions+11/108af3> movzbl (%eax),%eax
Code: <Using_Versions+14/108af3> nop    
Code: <Using_Versions+15/108af3> nop    
Code: <Using_Versions+16/108af3> nop    
--
NRM
-- 
Niall Richard Murphy: System Operator, Ireland On-Line
"I admit I find it hard to focus lots of resources on trials and things 
 when the Internet is taking away our power every day."
		- Bill Gates, internal email, April 1995
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/