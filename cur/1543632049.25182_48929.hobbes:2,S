Date: Wed, 29 May 2002 14:52:27 +0200
From: Martin Dalecki <>
Subject: Re: [PATCH] 2.5.18 IDE 73
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/29/19

Zwane Mwaikambo wrote:
> Hi Marcin,
> 	Just a few comments, please don't mistake it for nitpicking, but 
> perhaps a request for clarification.
No problem at all.
> 
> On Wed, 29 May 2002, Martin Dalecki wrote:
> 
> 
>>- Don't allow check_partition to be more clever then the writer of a driver.
>>   It was interfering with drivers which check partitions as they go and
>>   finally if we want to spew something about it - we can do it ourself.
> 
> 
> Should this really be the case? Isn't the driver the one that is 
> interfering in this case?
No please have a close look at the boot sequence of
the 2.5.18 kernel without the above patch applied.
It will:
1. Spew the "Paritition checks" message ony once directly after the
    detection of the drive /dev/hda geometry and then never again.
2. It will check the partitions twice, without the above message.
After hot plugging some device the above message should be
perhaps reintroduced, but right now it won't appear at all.
The ideal thing we should do would be:
Detect a channel, detect a disk on a channel, detect partitions on it.
Right now we where doing:
Look for disks, where there are disks, assume there is a channel too.
Look for all disks goemetries.
Look for all disks partitions.
Wuite worng in the context of  aproper support for hot
plugging stuff.
So I'm *very* confident about the above change.
>>   Anyway we grok the partitions now one by one as we detect the channels.
> 
> 
> Same as above.
What's your problem here - that's the proper thing to do.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/