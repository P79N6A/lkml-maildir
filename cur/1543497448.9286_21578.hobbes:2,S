Date: Wed, 02 Jun 1999 15:46:37 +0400
From: "Denis Karpov" <>
Subject: Re: Removable media bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/2/33

Hello
I have problem with my MO drive too. Here's log file.
------------------
/var/log/messages
Jun  2 18:15:59 x kernel: (scsi0) <Adaptec AHA-294X Ultra SCSI host
adapter> found at PCI 14/0
Jun  2 18:15:59 x kernel: (scsi0) Narrow Channel, SCSI ID=7, 16/255 SCBs
Jun  2 18:15:59 x kernel: (scsi0) Downloading sequencer code... 419
instructions downloaded
Jun  2 18:15:59 x kernel: scsi0 : Adaptec AHA274x/284x/294x
(EISA/VLB/PCI-Fast SCSI) 5.1. 10/3.2.4
Jun  2 18:15:59 x kernel:        <Adaptec AHA-294X Ultra SCSI host
adapter>
Jun  2 18:15:59 x kernel: scsi : 1 host.
...
Jun  2 18:15:59 x kernel:   Vendor: PINNACLE  Model: OHD-1300         
Rev: 2.52
Jun  2 18:15:59 x kernel:   Type:   Direct-Access                     
ANSI SCSI revision: 02
Jun  2 18:15:59 x kernel: Detected scsi removable disk sdc at scsi0,
channel 0, id 4, lun 0
...
Jun  2 18:15:59 x kernel: (scsi0:0:4:0) Synchronous at 5.0 Mbyte/sec,
offset 12.
Jun  2 18:15:59 x kernel: SCSI device sdc: hdwr sector= 1024 bytes.
Sectors= 637041 [622 MB] [0.6 GB]
Jun  2 18:15:59 x kernel: sdc: Write Protect is off
...
May 27 00:49:03 x kernel: EXT2-fs error (device 08:21): ext2_readdir:
bad entry in directory #2: rec_len is smaller than minimal - offset=0,
inode=0, rec_len=0, name_len=0
----------------------------
last message was issued when trying to mount ext2fs formatted MO drive.
under earlier kernels (<2.2.1), everything is ok.
looks like ext2fs problem.
mounting msdos formatted MO is ok.
whent trying to format MO (as ext2fs) drive the number of blocks is
wrong - it is twice more then it is.
the error message is:
------------
May 26 23:20:01 x kernel: Current error sd08:21: sense key Illegal
Request
May 26 23:20:01 x kernel: Additional sense indicates Logical block
address out of range
May 26 23:20:01 x kernel: scsidisk I/O error: dev 08:21, sector 2539780
May 26 23:20:01 x kernel: SCSI disk error : host 0 channel 0 id 4 lun 0
return code = 28000002
------------
rgds, Denis.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/