Date: Tue, 5 Sep 2006 22:55:09 +0300
From: İsmail Dönmez <>
Subject: [PATCH] Move linux/device.h include in linux/atmdev.h to #ifdef __KERNEL__ section
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/5/223

Hi,
linux/device.h header is not included in the David Woodhouse's kernel-headers 
git tree which is used for userspace kernel headers. Which results in compile 
errors when building iproute2. Attached patch moves linux/device.h include 
under the #ifdef __KERNEL__ section. Compile tested on x86. Patch is against 
Linus' 2.6 git tree.
Signed-off-by: İsmail Dönmez <ismail@pardus.org.tr>
Regards,
ismail
-- 
アニメは本当にすごいすぎるよ !
diff --git a/include/linux/atmdev.h b/include/linux/atmdev.h
index 41788a3..2096e5c 100644
--- a/include/linux/atmdev.h
+++ b/include/linux/atmdev.h
@@ -7,7 +7,6 @@ #ifndef LINUX_ATMDEV_H
 #define LINUX_ATMDEV_H
 
 
-#include <linux/device.h>
 #include <linux/atmapi.h>
 #include <linux/atm.h>
 #include <linux/atmioc.h>
@@ -210,6 +209,7 @@ #define ATM_VF2TXT_MAP \
 
 #ifdef __KERNEL__
 
+#include <linux/device.h>
 #include <linux/wait.h> /* wait_queue_head_t */
 #include <linux/time.h> /* struct timeval */
 #include <linux/net.h>