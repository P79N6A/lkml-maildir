Date: Wed, 7 Nov 2007 17:13:36 -0500
From: "Fortier,Vincent [Montreal]" <>
Subject: RE: BUG: usb Mouse continual disconnect (2.6.22.10) leading to eventual crash?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/7/301

> -----Message d'origine-----
> De : Andrew Morton [mailto:akpm@linux-foundation.org] 
> EnvoyÃ© : 7 novembre 2007 15:33
> 
> (+linux-usb-devel)
> 
> > On Wed, 7 Nov 2007 13:19:47 -0500 "Fortier,Vincent 
> [Montreal]" <Vincent.Fortier1@EC.GC.CA> wrote:
> > 
> > I'm having a preblem with a few workstations that are hard freezing 
> > from time to time since about a week.  Curiously since then we 
> > upgraded from
> > 2.6.20.6 to 2.6.20.10...
> > 
[.....]
> > 
> > Looking at the changes between 2.6.20.6 and 2.6.20.10 I only found 
> > this USB related:
> > 
> 
http://git.kernel.org/?p=linux/kernel/git/stable/linux-2.6.22.y.git;a=commit;h=0e22438a5adfdf32b3bb1c75c81c01a29fba9770
> > 
> > I'm presuming that maybie eventually it might hit a input max barrier 
> > (like a max of 1024) and then the kernel would be crashing?
> > 
> > Help very much appreciated!
> 
> People are going to want to know if this is still happening 
> in 2.6.23 or 2.6.24-rc2, please.
I andrew,
(logged-in at wrok to make proper reply)
It might be tricky to test properly on 2.6.23.1 since theses are all operationnal aviation forecaster workstations 24/7 .... And sadly the problem only occur on a few of theses workstations AFAIK randomly ???  Actually many of them did not had any problems using the exact same FAI reinstallation using the same hardware..?!?!.
If someone thinks that the problem might effectively be the usb patch that I mentionned before (or any other patch that might make suddently thoses stations to freeze dur to a change that occur between 2.6.20.6 and .10) I would then be able to push a new kernel on thoses workstations without the offending patch(es) and have a clear answer within a week.
I also need to mention that our 2.6.20.6 build contained CFS v20.5 and the new 2.6.20.10 build contains CFS v22 although I doubt it is the cause of the freezing problem but hey, never know.  Although I could probably rebuild and push a new 2.6.20.10 without CFS to be sure.
I'm also currently following the problem occurring on a station and I hope it will freeze at an evident input entry.  Here where it is now:
Nov  7 22:04:44 mammatus kernel: [100926.387652] usb 2-1: USB disconnect, address 118
Nov  7 22:04:44 mammatus kernel: [100926.627502] usb 2-1: new low speed USB device using uhci_hcd and address 119
Nov  7 22:04:45 mammatus kernel: [100926.804006] usb 2-1: configuration #1 chosen from 1 choice
Nov  7 22:04:45 mammatus kernel: [100926.820213] input: Logitech USB-PS/2 Optical Mouse as /class/input/input729
Nov  7 22:04:45 mammatus kernel: [100926.820304] input: USB HID v1.10 Mouse [Logitech USB-PS/2 Optical Mouse] on usb-0000:00:1d.0-1
Nov  7 22:11:55 mammatus kernel: [101356.846746] usb 2-1: USB disconnect, address 119
Nov  7 22:11:56 mammatus kernel: [101357.590408] usb 2-1: new low speed USB device using uhci_hcd and address 120
Nov  7 22:11:56 mammatus kernel: [101357.766609] usb 2-1: configuration #1 chosen from 1 choice
Nov  7 22:11:56 mammatus kernel: [101357.782803] input: Logitech USB-PS/2 Optical Mouse as /class/input/input730
Nov  7 22:11:56 mammatus kernel: [101357.782897] input: USB HID v1.10 Mouse [Logitech USB-PS/2 Optical Mouse] on usb-0000:00:1d.0-1
vin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/