Date: Wed, 29 Mar 2006 15:00:39 +0200
From: Peter Hagervall <>
Subject: Re: mark_bh in Linux 2.6.12 kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/29/75

On Wed, Mar 29, 2006 at 04:31:49PM +0530, shiva g wrote:
> Here is the source
> 
> static __inline__ void usbd_schedule_device_bh(struct usb_device_instance 
> *device)
> {
>    if (device && (device->status != USBD_CLOSING) && 
> !device->device_bh.sync) {
>        queue_task(&device->device_bh, &tq_immediate);
>        mark_bh(IMMEDIATE_BH);
>    }
> }
> 
> Also,in the below code, will replacing "schedule_task" simply by 
> "schedule_work" work?
> static __inline__ void usbd_schedule_function_bh(struct usb_device_instance 
> *device)
> {
>    if (device && (device->status != USBD_CLOSING) && 
> !device->function_bh.sync) {
>    schedule_task(&device->function_bh);
>    }
> 
Have a look at 
http://lwn.net/images/pdf/LDD3/ch10.pdf
It should answer your questions.
	Peter
-- 
Peter Hagervall......................email: hager@cs.umu.se
Department of Computing Science........tel: +46(0)90 786 7018
University of Umeå, SE-901 87 Umeå.....fax: +46(0)90 786 6126
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/