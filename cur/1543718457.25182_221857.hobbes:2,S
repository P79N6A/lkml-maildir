Date: Fri, 21 May 2004 21:18:54 +0200
From: FabF <>
Subject: [PATCH 2.6.6-mm4] ring_info spinlock initialization
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/21/96

Hi,
	ring_info spinlock was not initialized in INIT_KIOCTX.
Regards,
FabF
diff -Naur orig/include/linux/init_task.h edited/include/linux/init_task.h
--- orig/include/linux/init_task.h	2004-05-10 04:32:00.000000000 +0200
+++ edited/include/linux/init_task.h	2004-05-21 14:26:56.000000000 +0200
@@ -29,6 +29,7 @@
 	.ctx_lock	= SPIN_LOCK_UNLOCKED,		\
 	.reqs_active	= 0U,				\
 	.max_reqs	= ~0U,				\
+	.ring_info.ring_lock = SPIN_LOCK_UNLOCKED	\
 }
 
 #define INIT_MM(name) \