Date: Fri, 1 Jun 2007 10:11:44 -0700
From: David Brownell <>
Subject: Re: RTC_DRV_CMOS can break userspace interface
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/1/204

On Friday 01 June 2007, Matthew Garrett wrote:
> The code for checking for a platform device only gets included if 
> CONFIG_PNP isn't set! David, surely this should be a runtime thing 
> rather than a compile-time one? Right now building a kernel with PNP 
> support will break horribly if it's then run on a non-PNP system...
Maybe it should be a runtime thing.  But then, on x86 there's
nothing to create the platform device for this driver either...
I had posted code to create that platform device at one point,
adjacent to what creates the pcspeaker device, but after ACPI
changed to require PNPACPI it wasn't needed on any system I
could test with.  There are probably a bunch of platform_device
nodes that should be created automagically on old PNP-less PCs.
- Dave
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/