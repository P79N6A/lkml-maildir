Date: Thu, 7 Dec 2006 12:08:16 +0100
From: Ingo Molnar <>
Subject: Re: [patch] ACPI, i686, x86_64: fix laptop bootup hang in init_acpi()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/7/78

* Len Brown <len.brown@intel.com> wrote:
> c. disable the NMI whenever the ACPI interpeter is running
>    (who knows, maybe this isn't limited to the _INI case, but
>     could cause a hang at some other time -- only the
>     BIOS AML writers knows....)
i have tested this by forcing the NMI frequency to 10,000 per second, 
and never saw any other problem. So at least this particular laptop 
should be OK.
So i /think/ this should be enough - the _INI case should be limited to 
bootup - or can it trigger during module load too? The IO-APIC based NMI 
watchdog should really only involve the southbridge (whose 
initialization package has this problem, in my guesstimation - do you 
agree?) and not random other devices - so once we have booted up we 
should be fine from this particular issue. acpi_nmi_disable()/enable() 
does a cross-IPI to all CPUs, so it can be quite heavy-handed - i'm not 
sure we want it for every interpreter invocation.
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/