Date: Sat, 15 Jan 2005 21:27:12 -0800
From: "Randy.Dunlap" <>
Subject: [PATCH] i386: init_intel_cacheinfo() can be __init
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/16/5

Correct .text references to .init.data; init_intel_cacheinfo()
can be __init.
These are references to:
static struct _cache_table cache_table[] __initdata = ...;
Error: ./arch/i386/kernel/cpu/intel_cacheinfo.o .text refers to 
0000008f R_386_32          .init.data
Error: ./arch/i386/kernel/cpu/intel_cacheinfo.o .text refers to 
0000009e R_386_32          .init.data
Error: ./arch/i386/kernel/cpu/intel_cacheinfo.o .text refers to 
000000a8 R_386_32          .init.data
Error: ./arch/i386/kernel/cpu/intel_cacheinfo.o .text refers to 
00000108 R_386_32          .init.data
Signed-off-by: Randy Dunlap <rddunlap@osdl.org>
diffstat:=
  arch/i386/kernel/cpu/intel_cacheinfo.c |    2 +-
  1 files changed, 1 insertion(+), 1 deletion(-)
---
Correct .text references to .init.data; init_intel_cacheinfo()
can be __init.
These are references to:
static struct _cache_table cache_table[] __initdata = ...;
Error: ./arch/i386/kernel/cpu/intel_cacheinfo.o .text refers to 0000008f R_386_32          .init.data
Error: ./arch/i386/kernel/cpu/intel_cacheinfo.o .text refers to 0000009e R_386_32          .init.data
Error: ./arch/i386/kernel/cpu/intel_cacheinfo.o .text refers to 000000a8 R_386_32          .init.data
Error: ./arch/i386/kernel/cpu/intel_cacheinfo.o .text refers to 00000108 R_386_32          .init.data
Signed-off-by: Randy Dunlap <rddunlap@osdl.org>
diffstat:=
 arch/i386/kernel/cpu/intel_cacheinfo.c |    2 +-
 1 files changed, 1 insertion(+), 1 deletion(-)
diff -Naurp ./arch/i386/kernel/cpu/intel_cacheinfo.c~intel_cache_sections ./arch/i386/kernel/cpu/intel_cacheinfo.c
--- ./arch/i386/kernel/cpu/intel_cacheinfo.c~intel_cache_sections	2004-12-24 13:35:23.000000000 -0800
+++ ./arch/i386/kernel/cpu/intel_cacheinfo.c	2005-01-07 14:51:03.000000000 -0800
@@ -58,7 +58,7 @@ static struct _cache_table cache_table[]
 	{ 0x00, 0, 0}
 };
 
-unsigned int init_intel_cacheinfo(struct cpuinfo_x86 *c)
+unsigned int __init init_intel_cacheinfo(struct cpuinfo_x86 *c)
 {
 	unsigned int trace = 0, l1i = 0, l1d = 0, l2 = 0, l3 = 0; /* Cache sizes */
 