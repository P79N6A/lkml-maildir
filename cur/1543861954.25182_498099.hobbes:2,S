Date: Wed, 10 Jan 2007 16:29:44 +0100
From: Bernhard Schiffner <>
Subject: Re: ntp.c : possible inconsistency?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/1/10/95

> Without a further explanation of this craziness, it's a little hard to
> discuss...
Let's try it:
time_constant is created for internal use of ntp.c and added by 4
-               time_constant = min(txc->constant + 4, (long)MAXTC);
+               time_constant = min(txc->constant + 4, (long)MAXTC + 4);
But sometimes it is written back to data referenced from outside. So let's do 
the + 4 backwards ...
-       txc->constant      = time_constant;
+       txc->constant      = time_constant - 4;
otherwise I'd like to speak of an inconsistency. It doesn't depend of actual 
use and other topics.
Bernhard
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/