Date: Fri, 15 Nov 2002 17:17:37 +0100 (CET)
From: Tim Schmielau <>
Subject: Re: /proc/stat interface and 32bit jiffies / kernel_stat
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/15/142

On Fri, 15 Nov 2002, Mario 'BitKoenig' Holbe wrote:
[system idle time will overflow after about 497/NR_CPUS days]
> 
> Since it should not be a big problem to fix this, to
> at least reduce the problem back to the 500 days
> jiffies-overflow problem, I'd suggest to do so.
> 
> No need to mention, that 64bit jiffies and statistics on
> all platforms at all would be great :)
2.5 has 64 bit jiffies (but not (yet?) 64 bit statistics).
A patch for 2.4 that fixes the overflow in proc_stat as well as 
introducing 63 bit jiffies is at
  
http://www.physik3.uni-rostock.de/tim/kernel/2.4/jiffies64-20.patch.gz
> 
> Btw... Could anybody please explain me the problems to
> expect while a jiffies overflow? Would a kernel possibly
> survive this at all and if, what's the chance to? :)
"ps" will report processes started before the jiffies wrap as being 
started in the future, but this won't do any harm.
Tim
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/