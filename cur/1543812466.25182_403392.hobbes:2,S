Date: Sun, 05 Mar 2006 01:12:47 +1100
From: Nick Piggin <>
Subject: Re: 2.6.16-rc regression: m68k CONFIG_RMW_INSNS=n compile broken
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/4/63

Roman Zippel wrote:
> Hi,
> 
> On Fri, 3 Mar 2006, Andrew Morton wrote:
> 
> 
>>Yes, we now require cmpxchg of all architectures.
> 
> 
> Actually I'd prefer if we used atomic_cmpxchg() instead.
> The cmpxchg() emulation was never added for a good reason - to keep code 
> from assuming it can be used it for userspace synchronisation. Using an 
> atomic_t here would probably get at least some attention.
> 
Yes, I guess that's what Andrew meant. The reason we can require
atomic_cmpxchg of all architectures is because it is only guaranteed
to work on atomic_t.
Glad to hear it won't be a problem for you though.
-- 
SUSE Labs, Novell Inc.
Send instant messages to your online friends 
http://au.messenger.yahoo.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/