Date: Fri, 24 Mar 2006 12:46:28 -0600
From: Paul Fulghum <>
Subject: [PATCH] synclink_gt remove uneeded async code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/24/245

Remove code in async receive handling that serves
no purpose with new tty receive buffering.
Previously this code tried to free up receive buffer space,
but now does nothing useful while making expensive calls.
Signed-off-by: Paul Fulghum <paulkf@microgate.com>
--- linux-2.6.16/drivers/char/synclink_gt.c	2006-03-24 10:19:43.000000000 -0600
+++ b/drivers/char/synclink_gt.c	2006-03-24 10:21:42.000000000 -0600
@@ -1762,10 +1762,6 @@ static void rx_async(struct slgt_info *i
 		DBGDATA(info, p, count, "rx");
 
 		for(i=0 ; i < count; i+=2, p+=2) {
-			if (tty && chars) {
-				tty_flip_buffer_push(tty);
-				chars = 0;
-			}
 			ch = *p;
 			icount->rx++;
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/