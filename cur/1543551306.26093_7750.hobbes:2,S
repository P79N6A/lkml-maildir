Date: Wed, 11 Oct 2000 17:48:57 -0500
From: Sudhindra Herle <>
Subject: 2.2.17+reiserfs crash
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/11/170

I just got two separate crashes using 2.2.17 and reiserfs.
H/W:
	FIC-SD11 with K7-700, 384MB of RAM
	Dlink Quad Ethernet card (tulip)
The first one:
	find . -print | cpio -C 4096 -pumd /newplace
	i.e., copying a rather large directory tree from one disk to another
disk (note: NOT another paritition) Both disks have reiserfs partitions on
them.
	Here is the Oops info
	Unable to handle kernel NULL pointer dereference at virtual address
00000048
	current->tss.cr3 = 14d71000, %cr3 = 14d71000
	*pde = 00000000
	Oops: 0002
	CPU:    0
	EIP:    0010:[do_generic_file_read+1138/1400]
	EFLAGS: 00010206
	eax: 00000044   ebx: d7bffc08   ecx: 00000000   edx: cbeffc08
	esi: c0430ff8   edi: 00000000   ebp: c9cfb1a0   esp: d4f3bedc
	ds: 0018   es: 0018   ss: 0018
	Process cpio (pid: 334, process nr: 48, stackpage=d4f3b000)
	Stack: 00000000 c9cfb1a0 0000001b c4e74eed 00000001 c012bf16
d4d31960 d4f3bdec 
	00000042 bffff7dc 00000001 00000000 00000000 cbeffc08 08055030
fffffff4 
	d4f3bf48 c011ccd7 c9cfb1a0 c9cfb1b4 d4f3bf44 c011cc2c cbff03a0
c9cfb1b4 
	Call Trace: [do_follow_link+134/148]
	[generic_file_read+91/116]
	[file_read_actor+0/80] 
	[nfs_file_read+122/136] 
	[sys_read+178/208]
	[common_interrupt+24/32] 
	[system_call+52/64] 
	Code: 89 70 04 8b 4c 24 3c 89 71 78 ff 05 00 5c 21 c0 8b 03 89 46 
The second one:
	find NFS_MOUNTED_DIR -print | cpio -C 4096 -pumd /newplace2
	NFS_MOUNTED_DIR comes from a giant NETAPP box. I'm sure I'm doing
NFSv2.
	/newplace2 is a different partition on an IDE drive with reiserfs on
it.
Code: <1>Unable to handle kernel paging request at virtual addr
ess 65146653
 current->tss.cr3 = 1075e000, %cr3 = 1075e000
*pde = 00000000
Oops: 0000
CPU:    0
EIP:    0010:[show_registers+578/632]
EFLAGS: 00010093
eax: 65146653   ebx: 00000000   ecx: cffbdee0   edx: cffbdee0
esi: 0000002b   edi: cffbe000   ebp: d8800000   esp: cffbde28
ds: 0018   es: 0018   ss: 0018
Process smbd (pid: 962, process nr: 48, stackpage=cffbd000)
Stack: cffbdee0 65146653 d5d1e3d8 cffbc000 cffbdee0 65146653 d5d1e3d8
d9000000 
00000096 00000001 c0234d0e c010958d cffbdee0 c01e133c c0234d16 c0109584 
c01df956 c01e134e 00000000 cffbc000 00000000 00000001 c0234d16 00000013 
Call Trace: [<d9000000>]
[die+57/72] 
[stext_lock+13196/13488]
[die+48/72] 
[stext_lock+6566/13488]
[stext_lock+13214/13488]
[stext_lock+13136/13488] 
[do_page_fault+729/992] 
[stext_lock+13214/13488]
[free_pages+39/44]
[nfs_proc_readdir+231/244]
[error_code+45/64]
[sys_getdents+166/236] 
[filldir+0/136] 
[sys_newfstat+125/140] 
[error_code+45/64]
[system_call+52/64] 
Code: 8a 04 03 25 ff 00 00 00 50 68 4e f9 1d c0 e8 37 a1 00 00 83 
I'd be happy to supply more info if needed.
I want to duplicate this problem repeatably, but since the machine is in
production as an SMB, NFS and CVS server, I don't have the courage for doing
something like this.
I have lost faith in reiserfs. So, I'll rebuild the kernel and move back to
EXT2.
Thanks,
Sudhi Herle
Staff Engineer
Samsung Telecom America
sherle@sta.samsung.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/