Date: Tue, 29 Jul 2003 23:47:05 +0200
From: Frank van Maarseveen <>
Subject: Re: [BUG] 2.6.0-test2 loses time on 486
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/29/316

On Tue, Jul 29, 2003 at 07:34:43PM +0200, Mikael Pettersson wrote:
> My old 486 test box is losing time at an alarming rate
> when running 2.6.0-test kernels. It loses almost 2 minutes
> per hour, less if it sits idle. This problem does not
> occur when it's running a 2.4 kernel.
I recently saw a patch to compensate for the 1000/1024 ratio,
HZ being 1000 nowadays. I'm not sure if it is already in test2.
It wasn't in test1. There is a similar compensation for 100/128
in case HZ == 100. Search for HZ == 100 in kernel/timer.c in
second_overflow()
I'm not sure what this fix does does but 2 minutes per hour is close to
1000/1024 ratio.
-- 
Frank
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/