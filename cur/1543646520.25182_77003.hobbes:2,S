Date: Sat, 5 Oct 2002 19:18:02 -0700
From: jw schultz <>
Subject: Re: Unable to kill processes in D-state
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/5/231

On Sun, Oct 06, 2002 at 01:56:14AM +0200, Thomas LangÃ¥s wrote:
> Jan Hudec:
> > On the other hand it's a bug if a process stays in D-state for time of
> > order of seconds or more. Unfortunately it's impossible to avoid this
> > in networking filesystems with current state of VFS (in 2.4). Even there
> > though, it's a bug if it's indefinite.
> 
> Well, it's NFS-related (we use autofs to mount our nfs-shares), and the
> processes are staying forever when they have gotten to the D-state.
> 
> > These problems were already discussed on LKML, you might want to search
> > the archive. IIRC this is a known problem of OpenAFS (not in standart
> > kernel). It was reported with various drivers for some 2.4.x kernels
> > too.
> 
> As you see, we've got this problem with NFS as the filesystem, and 
> the processes won't die or return, they just hang there setting
> the load-number up in the roof.
They shouldn't be affecting the load average because they
aren't on the runqueue.
It sounds like you have a problem with your NFS server.  Be
sure you set the automounter's mount options to include 'intr'
That will allow you to interrupt your processes if the server goes
offline.
-- 
________________________________________________________________
	J.W. Schultz            Pegasystems Technologies
	email address:		jw@pegasys.ws
		Remember Cernan and Schmitt
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/