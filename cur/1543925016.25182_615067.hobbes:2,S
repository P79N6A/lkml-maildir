Date: Wed, 7 Nov 2007 09:35:27 -0500
From: Rik van Riel <>
Subject: Re: [RFC PATCH 3/10] define page_file_cache
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/7/136

On Tue, 6 Nov 2007 19:26:33 -0800 (PST)
Christoph Lameter <clameter@sgi.com> wrote:
> n Tue, 6 Nov 2007, Rik van Riel wrote:
> 
> > Every anonymous, tmpfs or shared memory segment page is potentially
> > swap backed. That is the whole point of the PG_swapbacked flag.
> 
> One of the current issues with anonymous pages is the accounting when 
> they become file backed and get dirty.
What are you talking about?
How exactly can an anonymous page ever become file backed?
> There are performance issue with swap writeout
That is one of the reasons everything that is ram/swap backed
goes onto a different set of LRU lists from everything that is
backed by a disk or network filesystem.
> Do ramfs pages count as memory backed?
Since ramfs pages cannot be evicted from memory at all, they
should go into the "noreclaim" page set.
> > A page from a filesystem like ext3 or NFS cannot suddenly turn into
> > a swap backed page.  This page "nature" is not changed during the
> > lifetime of a page.
> 
> Well COW sortof does that but then its a new page.
Exactly.  As far as I know, a page never changes from a file
page into an anonymous page, or the other way around.
-- 
"Debugging is twice as hard as writing the code in the first place.
Therefore, if you write the code as cleverly as possible, you are,
by definition, not smart enough to debug it." - Brian W. Kernighan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/