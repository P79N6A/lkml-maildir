Date: Tue, 27 Mar 2007 09:32:47 +0200
From: Thomas Gleixner <>
Subject: Re: + hrtimers-fix-reprogramming-smp-race.patch added to -mm tree
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/27/51

On Mon, 2007-03-26 at 12:46 -0700, akpm@linux-foundation.org wrote:
> The patch titled
>      hrtimers: fix reprogramming SMP race
> has been added to the -mm tree.  Its filename is
>      hrtimers-fix-reprogramming-smp-race.patch
> 
> *** Remember to use Documentation/SubmitChecklist when testing your code ***
> 
> See 
http://www.zip.com.au/~akpm/linux/patches/stuff/added-to-mm.txt
 to find
> out what to do about this
> 
> ------------------------------------------------------
> Subject: hrtimers: fix reprogramming SMP race
> From: Ingo Molnar <mingo@elte.hu>
> 
> hrtimer_start() incorrectly set the 'reprogram' flag to enqueue_hrtimer(),
> which should only be 1 if the hrtimer is queued to the current CPU.
> 
> Doing otherwise could result in a reprogramming of the current CPU's
> clockevents device, with a timer that is not queued to it - resulting in a
> bogus next expiry value.
Doh.
> Signed-off-by: Ingo Molnar <mingo@elte.hu>
> Cc: Michal Piotrowski <michal.k.k.piotrowski@gmail.com>
> Cc: Thomas Gleixner <tglx@linutronix.de>
> Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Acked-by: Thomas Gleixner <tglx@linutronix.de>
Andrew, this should go into 2.6.21 as well.
	tglx
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/