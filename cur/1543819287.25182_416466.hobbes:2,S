Date: Tue, 18 Apr 2006 15:12:35 +0800
From: "Liu haixiang" <>
Subject: Question on Schedule and Preemption
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/18/21

Hi All,
Now I am developing drivers on Linux 2.6.
My problem is that from time to time, I will get log meesage from
kernel: "scheduling while atomic ..." and the stack will be dumped by
the kernel.
Then I investigate the code in sched.c but don't understand. Anybody
can clarify this piece of code for me?
if (likely(!current->exit_state)) {
	if (unlikely(in_atomic())) {
		printk(KERN_ERR "scheduling while atomic: "
			"%s/0x%08x/%d\n",
			current->comm, preempt_count(), current->pid);
		dump_stack();
	}
}
Thanks a lot
Haixiang
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/