Date: Fri, 21 Sep 2001 14:06:13 +0200
From: André Dahlqvist <>
Subject: Re: via82cxxx_audio locking problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/21/64

Thomas Sailer <sailer@scs.ch> wrote:
> This is the patch I've tested yesterday. It worked so far.
This seams to be against version 1.15 of the VIA driver. -pre13 only seams
to have 1.14 so I got rejects when I tried to apply it:
Hunk #1 FAILED at 12.
Hunk #2 succeeded at 458 (offset -8 lines).
Hunk #3 succeeded at 1973 (offset -15 lines).
Hunk #4 succeeded at 2005 (offset -15 lines).
Hunk #5 succeeded at 2046 (offset -15 lines).
Hunk #6 succeeded at 2098 (offset -15 lines).
Hunk #7 succeeded at 2149 (offset -15 lines).
Hunk #8 succeeded at 2179 (offset -15 lines).
Hunk #9 succeeded at 2219 (offset -15 lines).
Hunk #10 succeeded at 2384 (offset -15 lines).
Hunk #11 succeeded at 2397 (offset -15 lines).
Hunk #12 succeeded at 2435 (offset -15 lines).
Hunk #13 succeeded at 2481 (offset -15 lines).
1 out of 13 hunks FAILED -- saving rejects to file via82cxxx_audio.c.rej
The rejects are these harmless ones:
***************
*** 12,21 ****
   * the driver's Website at
   * 
http://gtf.org/garzik/drivers/via82cxxx/
   *
   */
  
  
- #define VIA_VERSION	"1.1.15"
  
  
  #include <linux/config.h>
--- 12,28 ----
   * the driver's Website at
   * 
http://gtf.org/garzik/drivers/via82cxxx/
   *
+  * Thomas Sailer, 2001-09-20:
+  *   - unlock syscall_sem during sleeping in read/write
+  *   - return byte count in case of partial transfer instead of
+  *     error in read/write syscalls
+  *   - avoid loosing wake_up event
+  *   - nonblocking semaphore down disabled
+  *
   */
  
  
+ #define VIA_VERSION	"1.1.15tsa"
  
  
  #include <linux/config.h>
-- 
André Dahlqvist <andre.dahlqvist@telia.com>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/