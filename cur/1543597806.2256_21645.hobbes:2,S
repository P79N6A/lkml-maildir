Date: Tue, 14 Aug 2001 10:51:59 +0200
From: Nils Faerber <>
Subject: Re: [PATCH] fix 2.4.8 compile errors
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/8/14/179

Rich Baum wrote:
> This patch fixes two compile errors I get when compiling 2.4.8 on my K6-2.
> Both of these errors are caused by compiling drivers for other architectures.
>  I've changed the Config.in files to keep these options from being selected
> on the wrong architecture.
The first hunk seems OK to me but the second one is a little crude.
There are also other architectures that use the Epson 1355 framebuffer;
we had for example a MIPS reference design from Toshiba here that had
that one. Limiting this to just SH architecture goes a little too far.
> Let me know if you have any questions about this patch.
> Rich
CU
  nils
> diff -urN -X dontdiff linux-2.4.8/drivers/net/Config.in
> rb/drivers/net/Config.in
> --- linux-2.4.8/drivers/net/Config.in   Sat Aug 11 11:10:07 2001
> +++ rb/drivers/net/Config.in    Mon Aug 13 20:43:41 2001
> @@ -28,7 +28,8 @@
> 
>  bool 'Ethernet (10 or 100Mbit)' CONFIG_NET_ETHERNET
>  if [ "$CONFIG_NET_ETHERNET" = "y" ]; then
> -   dep_bool '  ARM EBSA110 AM79C961A support' CONFIG_ARM_AM79C961A
> $CONFIG_ARCH_EBSA110
> +   if [ "$ARCH" = "arm" ]; then
> +      dep_bool '  ARM EBSA110 AM79C961A support' CONFIG_ARM_AM79C961A
> $CONFIG_ARCH_EBSA110
>     if [ "$CONFIG_ARCH_ACORN" = "y" ]; then
>        source drivers/acorn/net/Config.in
>     fi
> diff -urN -X dontdiff linux-2.4.8/drivers/video/Config.in
> rb/drivers/video/Config.in
> --- linux-2.4.8/drivers/video/Config.in Sat Aug 11 11:10:30 2001
> +++ rb/drivers/video/Config.in  Mon Aug 13 20:43:46 2001
> @@ -103,7 +103,8 @@
>     fi
>     tristate '  NEC PowerVR 2 display support' CONFIG_FB_PVR2
>     dep_bool '    Debug pvr2fb' CONFIG_FB_PVR2_DEBUG $CONFIG_FB_PVR2
> -   bool '  Epson 1355 framebuffer support' CONFIG_FB_E1355
> +   if [ "$ARCH" = "sh" ]; then
> +      bool '  Epson 1355 framebuffer support' CONFIG_FB_E1355
>     if [ "$CONFIG_FB_E1355" = "y" ]; then
>        hex '    Register Base Address' CONFIG_E1355_REG_BASE a8000000
>        hex '    Framebuffer Base Address' CONFIG_E1355_FB_BASE a8200000
> 
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  
http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  
http://www.tux.org/lkml/
-- 
kernel concepts          Tel: +49-271-771091-12
Dreisbachstr. 24         Fax: +49-271-771091-19
D-57250 Netphen          D1 : +49-170-2729106
--begin:vcard 
n:Faerber;Nils
tel;cell:+49-170-2729106
tel;fax:+49-271-771091-19
tel;work:+49-271-771091-12
x-mozilla-html:FALSE
url:
http://www.kernelconcepts.de
org:kernel concepts
adr:;;Dreisbachstrasse 24;Netphen;;57250;Germany
version:2.1
email;internet:nils@kernelconcepts.de
x-mozilla-cpt:;0
fn:Nils Faerber
end:vcard