Date: Thu, 7 Dec 2006 14:39:49 -0800
From: Greg KH <>
Subject: Re: Disable INTx when enabling MSI
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/7/287

On Thu, Dec 07, 2006 at 05:31:33PM -0500, Daniel Barkalow wrote:
> Some device manufacturers seem to think it's the OS's responsibility to 
> disable legacy interrupt delivery when using MSI. If the driver doesn't 
> handle it (which they generally don't), and the device isn't PCI-Express, 
> a steady stream of legacy interrupts will be delivered in addition to the 
> MSI ones, eventually leading to the legacy IRQ getting disabled, which 
> kills any device that shares it.
> 
> Jeff proposed a patch in 
http://lkml.org/lkml/2006/11/21/332
 when Linus 
> wanted to do it in the PCI layer, but nobody seems to have told the actual 
> PCI maintainer.
Care to take Jeff's proposed patch, verify that it works and forward it
on to me?
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/