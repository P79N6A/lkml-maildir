Date: Tue, 30 Nov 2004 21:28:53 +0100
From: Mariusz Mazur <>
Subject: Re: [RFC] Splitting kernel headers and deprecating __KERNEL__
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/30/212

On wtorek 30 listopad 2004 19:21, Linus Torvalds wrote:
> You call _that_ specific?
>
> Hell no. You need to do it without breaking existing uses, as noted
> earlier, and it's not specific at all. "all user visible parts" is a big
> undertaking, if you can't make it smaller than that, then forget about it.
>
> Basic rule in kernel engineering: you don't just rewrite the world. You do
> it in incremental independent steps.
>
> Any mtd-specific rewrite is obviously a go.
Facts:
- current __KERNEL__ stuff is crap; just check any distro what they're using - 
either some kind of userland headers or a patched version of kernel headers
- "You don't use kernel headers in userland!!"
small print: except this, this, and that dir, which are userland friendly
That's quite schizophrenic.
Specific problems:
- glibc has a copy of eg. networking definitions (mostly lots of numbers for 
different protocols); if userland wants to use something that's not in glibc 
already, it has to include linux' headers; which more often than not causes 
conflicts with glibc
- the above problem is present in allmost all headers that have a glibc and 
linux version
- glibc uses linux headers for getting ABI stuff in... dunno... four? five 
cases? And *everything* else ends up getting duplicated.
People in this thread are trying to force you to agree to a specific location 
where stuff like the above mentioned mtd can go to and to start accepting 
patches (afaik there were a number of patches trying to introduce that 
userland dir - all of them ignored). That's (mostly) all.
-- 
In the year eighty five ten
God is gonna shake his mighty head
He'll either say,
"I'm pleased where man has been"
Or tear it down, and start again
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/