Date: Fri, 15 Jul 2005 13:09:33 +1000
From: Stephen Rothwell <>
Subject: RFC: IOMMU bypass
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/14/312

Hi all,
We (Anton Blanchard and others) have been trying to figure out the best
(or any) way to allow for IOMMU bypass when setting up DMA mappings on
particular devices.  Our current idea is to hang a structure of pointers
to DMA mapping operations off the struct device and inherit it from the
device's parent.  This would allow for per-bus (rather than per-bus_type)
mapping operations and also allow a driver to override the bus's
operations for a particular device.
Does this make sense?  Comments (hopefully consructive) please.
Is there a better/simpler/more sensible way to do this?
-- 
Cheers,
Stephen Rothwell                    sfr@canb.auug.org.au
http://www.canb.auug.org.au/~sfr/
[unhandled content-type:application/pgp-signature]