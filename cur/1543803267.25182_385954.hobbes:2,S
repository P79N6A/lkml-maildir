Date: Sat, 14 Jan 2006 11:23:50 +1100
From: Peter Williams <>
Subject: Re: -mm seems significanty slower than mainline on kernbench
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/13/419

Martin Bligh wrote:
> Andy Whitcroft wrote:
> 
>> Andy Whitcroft wrote:
>>
>>> Peter Williams wrote:
>>>
>>>
>>>
>>>> Attached is a new patch to fix the excessive idle problem.  This patch
>>>> takes a new approach to the problem as it was becoming obvious that
>>>> trying to alter the load balancing code to cope with biased load was
>>>> harder than it seemed.
>>>
>>>
>>>
>>> Ok.  Tried testing different-approach-to-smp-nice-problem against the
>>> transition release 2.6.14-rc2-mm1 but it doesn't apply.  Am testing
>>> against 2.6.15-mm3 right now.  Will let you know.
>>
>>
>>
>> Doesn't appear to help if I am analysing the graphs right.  Martin?
> 
> 
> Nope. still broken.
Interesting.  The only real difference between this and Con's original 
patch is the stuff that he did in source_load() and target_load() to 
nobble the bias when nr_running is 1 or less.  With this new model it 
should be possible to do something similar in those functions but I'll 
hold off doing anything until a comparison against 2.6.15-mm3 with the 
patch removed is available (as there are other scheduler changes in -mm3).
Peter
-- 
Peter Williams                                   pwil3058@bigpond.net.au
"Learning, n. The kind of ignorance distinguishing the studious."
  -- Ambrose Bierce
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/