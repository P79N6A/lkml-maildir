Date: Tue, 30 Oct 2001 04:12:00 +0000 (UTC)
From: (Linus Torvalds)
Subject: Re: i/o stalls on 2.4.14-pre3 with ext3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/29/218

In article <3BDE161A.D8289730@zip.com.au>,
Andrew Morton  <akpm@zip.com.au> wrote:
>
>ext3's problem is that it is unable to react to VM pressure 
>for metadata (buffercache) pages.  Once upon a time it did
>do this, but we backed it out because it involved mauling
>core kernel code.  So at present we only react to VM pressure
>for data pages.
Note that the new VM has some support in place for the low-level
filesystem reacting to VM pressure. In particular, one thing the fs can
do is to look at the PG_launder bit (for pages) and PG_launder bit (for
buffers), to figure out if the IO is due to memory pressure.
A "sync" will not have the launder bit set, while something started due
to VM pressure will have the bits set.
>Then again, maybe something got broken in the buffer writeout
>code or something.
There are two really silly request bugs in 2.4.14-pre3. I'd suggest
trying pre5 which cleans up other things too, but even more notably
should fix the request queue thinkos.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/