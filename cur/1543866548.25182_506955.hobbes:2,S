Date: Fri, 09 Feb 2007 08:46:32 -0800
From: Geoff Levand <>
Subject: Re: [PATCH] ps3 usb missed the addition of new argument to	ps3_alloc_io_irq()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/9/248

Geoff Levand wrote:
> Al Viro wrote:
>> Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
> 
> Greg had this same change queued for his usb tree.
> 
> Acked-by: Geoff Levand <geoffrey.levand@am.sony.com>
> 
Update the PS3 irq allocation routines to take an argument indicating which
cpu (processor thread) the interrupt should be serviced on.
Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
Signed-off-by: Geoff Levand <geoffrey.levand@am.sony.com>
---
I fixed Al's patch to have the proper line lengths.
-Geoff
 drivers/usb/host/ehci-ps3.c |    3 ++-
 drivers/usb/host/ohci-ps3.c |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)
--- ps3-linux-dev.orig/drivers/usb/host/ehci-ps3.c
+++ ps3-linux-dev/drivers/usb/host/ehci-ps3.c
@@ -104,7 +104,8 @@ static int ps3_ehci_sb_probe(struct ps3_
 	dev_dbg(&dev->core, "%s:%d: mmio mapped_addr %lxh\n", __func__,
 		__LINE__, dev->m_region->lpar_addr);
 
-	result = ps3_alloc_io_irq(dev->interrupt_id, &virq);
+	result = ps3_alloc_io_irq(PS3_BINDING_CPU_ANY, dev->interrupt_id,
+		&virq);
 
 	if (result) {
 		dev_dbg(&dev->core, "%s:%d: ps3_construct_io_irq(%d) failed.\n",
--- ps3-linux-dev.orig/drivers/usb/host/ohci-ps3.c
+++ ps3-linux-dev/drivers/usb/host/ohci-ps3.c
@@ -107,7 +107,8 @@ static int ps3_ohci_sb_probe(struct ps3_
 	dev_dbg(&dev->core, "%s:%d: mmio mapped_addr %lxh\n", __func__,
 		__LINE__, dev->m_region->lpar_addr);
 
-	result = ps3_alloc_io_irq(dev->interrupt_id, &virq);
+	result = ps3_alloc_io_irq(PS3_BINDING_CPU_ANY, dev->interrupt_id,
+		&virq);
 
 	if (result) {
 		dev_dbg(&dev->core, "%s:%d: ps3_construct_io_irq(%d) failed.\n",
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/