Date: Sun, 15 Aug 1999 19:30:09 +0000
From: Marc Mutz <>
Subject: very slow ftp connection over ISDN between 2.2.11 and 2.2.10
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/16/160

Hi out there!
I jsut found out that kernels 2.2.1x seem to not like each other, at
least as far as ftp transfer rate is concerned.
Here's my setup:
At home I run a 2.2.11-i2 (international kernel patch version; 2.2.10-i4
was the same IIRC) with a AVM Fritz! PCI ISDN card (using build-in
driver with 2.2.11 and the isdn4linux driver snapshot from the beginning
of August 1999 for 2.2.10). In the university we have a box running
vanilla 2.2.10 and one running HPUX 10.x, all of which are connected to
the Ascent dial-in server via Ethernet (10 and 100MBit).
Here's the strange thing:
1) Linux work -> Linux home:
If I download a file from the linux box in the university, transfer
rates start below 3K/sec and soon fall towards 1.0 thru 1.3K/sec,
sometimes even lower. That surely is not what I cann optimal usage of
bandwidth. Load avr on the peer is near 0.00, so that's not the point.
2.) Linux work -> HPUX work:
If I ftp the same file from the linux box to the HPUX box, I get a rate
of 800K+, so you can say that this combination uses the maximum possible
transfer rate over 10Mbit Ethernet (but that surely is a rounding error
due to the 'little' size of the file: ~700K).
3.) HPUX work -> Linux home:
If I download this file from the HPUX box onto my home linux box, I get
7.1K/sec, with load avr's well above 1.00 on the peer. That's more like
what I expect of a ISDN line.
To sum up: Both Linux boxes work very well with HPUX boxes as peer, but
not between each other :-)
This is all reproducible. If you want me to tcpdump those sessions, then
I will do so, with the exception of case (2), because I don't have root
access on those machines.
TIA,
Marc
-- 
Marc Mutz <Marc@Mutz.com>                    
http://marc.mutz.com/
University of Bielefeld, Dep. of Mathematics / Dep. of Physics
PGP-keyID's:   0xd46ce9ab (RSA), 0x7ae55b9e (DSS/DH)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/