Date: Tue, 29 Aug 2006 21:52:57 -0700
From: David Brownell <>
Subject: Re: [spi-devel-general] [Patch] Add spi full duplex mode transfer support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/30/7

On Tuesday 29 August 2006 9:40 pm, Luke Yang wrote:
> Hi all,
> 
>    To enable full duplex mode spi transfer in Blackfin spi master
> driver, I need an extra field in spi_transfer structure. Attached the
> right format patch.
I don't understand.  ** ALL ** SPI transfers are full duplex.
If you want half duplex, just don't provide the buffer for the
transfer going in that direction (RX or TX).
Rejected ...
> Signed-off-by: Luke Yang <luke.adi@gmail.com>
> 
>  spi.h |    1 +
>  1 files changed, 1 insertion(+)
> 
> diff --git a/include/linux/spi/spi.h b/include/linux/spi/spi.h
> index c8bb680..99816eb 100644
> --- a/include/linux/spi/spi.h
> +++ b/include/linux/spi/spi.h
> @@ -331,6 +331,7 @@ struct spi_transfer {
>         dma_addr_t      rx_dma;
> 
>         unsigned        cs_change:1;
> +       unsigned        is_duplex:1;
>         u8              bits_per_word;
>         u16             delay_usecs;
>         u32             speed_hz;
> 
> -- 
> Best regards,
> Luke Yang
> luke.adi@gmail.com
> 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/