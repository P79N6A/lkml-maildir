Date: Fri, 07 Jul 2006 17:12:01 +0100
From: Alan Cox <>
Subject: Re: 2.6.17-mm6 libata stupid question...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/7/187

Ar Gwe, 2006-07-07 am 00:28 -0400, ysgrifennodd Valdis.Kletnieks@vt.edu:
> [   34.412761] ata1: PATA max UDMA/100 cmd 0x1F0 ctl 0x3F6 bmdma 0xBFA0 irq 14
> [   34.413426] scsi0 : ata_piix
> [   34.720915] ata1.00: configured for UDMA/33
> [   34.872966] ata1.01: configured for UDMA/33
> There's only one minor detail - although the CD is (AFAIK) a UDMA/33 device,
> the hard drive and the controller are both able to do UDMA/100.
Until the very latest code the speed setting on the libata tree is
conservative and sets the speed per channel not per device. 
The fact you get the same response with drivers/ide rather suggests that
in this case the problem is cable detection. Tweak ata_piix to print out
the cable type it detects. If it thinks its a 40 pin cable you know
where to start.
> Now admittedly, the ide driver wasn't able to figure that out *either*, so
> in a /etc/rc script I had:   '/sbin/hdparm -X udma5'.  But alas, that doesn't
> work:
Right now speed setting by user apps isnt supported.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/