Date: Fri, 10 Oct 2003 12:07:56 -0400
From: Trond Myklebust <>
Subject: Re: Misc NFSv4 (was Re: statfs() / statvfs() syscall ballsup...)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/10/160

>>>>> " " == Jamie Lokier <jamie@shareable.org> writes:
     > An uber-cool capability would be notification of sub-files to
     > any depth.  You can't imagine how tedious it has been watching
     > a makefile take 5 minutes _just_ to run the "find" command on a
     > source tree to find newer files than the last successful make.
     > (It was a big tree).  That was the optimised makefile.  Without
     > the "find" command, make's own dependency logic took 20 minutes
     > to do the same thing.
     > With any depth notifications, that would be eliminated to
     > roughly zero time, and just running the few compile commands
     > that are needed.
In the very long term (post NFSv4.1), we're investigating something
even more cool: 'WRITE' delegation of directories could allow you to
work in a quasi-disconnected mode on all entries plus sub-entries
(files, subdirs,....).
You could do your compilation entirely locally (backed either by
memory or cachefs) and then just flush the final results out to the
server.
AFS has, of course, had similar capabilities for some time, but I'm
not sure if they have the delegation recall feature. IIRC, their
disconnected operation overwrites whatever changes have been made on
the server when your client reconnects.
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/