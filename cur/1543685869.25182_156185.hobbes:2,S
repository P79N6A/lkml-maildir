Date: Sun, 10 Aug 2003 20:40:23 +0200
From: Mikael Magnusson <>
Subject: Re: 2.6.0-test1/2: keyboard funnies in textmode
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/10/130

On Sat, Aug 02, 2003 at 12:16:27AM +0200, Andries Brouwer wrote:
> On Fri, Aug 01, 2003 at 07:56:04PM +0200, Jurgen Kramer wrote:
> 
> > PC 2.4 showkey:
> > keycode  43 release
> > keycode  43 press
> > 
> > PC 2.6 showkey:
> > keycode  84 press
> > keycode  84 release
> 
I have got the same problem in 2.6.0-test3 with a swedish USB keyboard. 
It's a Microsoft Natural Keyboard pro. The "'/*" key generates keycode 
43 in 2.4.21 and keycode 84 in 2.6.0-test3. But my swedish AT keyboard 
still generates the same keycode (43) in both releases.
I have tried to find what caused the change. In 2.4 keycode 84 is 
translated to 43 by x86_keycodes table in drivers/input/keybdev.c. But 
in 2.6 I think the table is used only in raw mode, otherwise the keymap 
is used directly (in drivers/char/keyboard.c). 
My workaround is to define keycode 84 in the keymap file/s. I have added 
the following to my US keymap:
keycode  84 = backslash        bar
        control keycode  84 = Control_backslash
Regards,
Mikael Magnusson
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/