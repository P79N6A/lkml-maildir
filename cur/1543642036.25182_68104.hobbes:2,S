Date: Tue, 3 Sep 2002 17:04:24 -0500
From: Terence Ripperda <>
Subject: Re: lockup on Athlon systems, kernel race condition?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/3/219

On Tue, Sep 03, 2002 at 11:46:11PM +0200, manfred@colorfullife.com wrote:
> Which compiler to you use, and which kernel? Which additional patches?
> 
> With my 2.4.20-pre4-ac1 kernel, the lock_kernel is at offset +3a, 
> according to your dump it's at +6a.
I'm using gcc 2.95.4 (on debian). The kernel I'm currently using is 2.4.19, with the kdb patch and apic_routing patches applied. Neither of these is required to reproduce the problem, they're just to help debug the problem.
that reminds me. when I originally tried to use the nmi watchdog to break into the debugger when the hang occured, I got the following at bootup:
Sep  3 14:56:49 localhost kernel: activating NMI Watchdog ... done.
Sep  3 14:56:49 localhost kernel: testing NMI watchdog ... CPU#0: NMI appears to be stuck!
> Is it possible to display the cpu registers with kdb? Could you check 
> that the interrupts are enabled?
I don't have things caught in the debugger currently, but I did check the registers at the time. bit 9 of eflags was enabled on both cpus.
Terence
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/