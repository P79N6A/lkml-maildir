Date: Wed, 14 Nov 2001 07:46:53 -0500
From: "Mike Black" <>
Subject: Odd meminfo 2.4.14
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/14/61

On 2.4.14 (upgraded from 2.4.10) first time I've seen this (I run vmstat all
the time).
        total:    used:    free:  shared: buffers:  cached:
Mem:  526016512 519815168  6201344        0 653324288 18446744073256501248
Swap: 524279808 68616192 455663616
MemTotal:       513688 kB
MemFree:          6056 kB
MemShared:           0 kB
Buffers:        638012 kB
Cached:       4294515120 kB
SwapCached:       9744 kB
Active:          61300 kB
Inactive:       143752 kB
HighTotal:           0 kB
HighFree:            0 kB
LowTotal:       513688 kB
LowFree:          6056 kB
SwapTotal:      511992 kB
SwapFree:       444984 kB
I've got this exact same kernel on two other machines and they don't show
the funky cache #'s (yet).
I see in proc_misc.c that cache is printed with B(pg_size) in the first line
whereas it's printed with K(pg_size - swapper_space.nrpages) on the
"Cached:" line.
Both of them are wrong so it looks like pg_size is hosed somehow.
Also...pg_size is:
pg_size = atomic_read(&page_cache_size) - i.bufferram ;
What does pg_size have to do with bufferram????
________________________________________
Michael D. Black   Principal Engineer
mblack@csihq.com  321-676-2923,x203
http://www.csihq.com
  Computer Science Innovations
http://www.csihq.com/~mike
  My home page
FAX 321-676-2355
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/