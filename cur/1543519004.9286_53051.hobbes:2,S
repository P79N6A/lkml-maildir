Date: Mon, 13 Dec 1999 02:10:00 -0800 (PST)
From: Jonathan Walther <>
Subject: Re: vesafb on archs !ia32 [Re: Calling VESA BIOS routines from    kernel?]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/13/25

I suggest you look at how FreeBSD supports VESA. a few ioctl(), an mmap(),
and you're done.  It has a vm86() subprocess running constantly, that can
then virtually do the interrupts you want.  To "Do VESA" under FreeBSD just
means doing the corresponding ioctl().  I like this interface.  It is
elegant, simple, and works.  Why can't Linux have it too?
Unlike Linux, I change VESA modes all over in BSD, not just at boot time.
On Mon, 13 Dec 1999, Khimenko Victor wrote:
> > Wasn't vesa just a framebuffer mode that should work all over the place?
> Yes. As long as "all places" support iX86 real mode...
> > I don't care about palette/powersaving and so on. At boot I only want to
> > tell the card "switch to graphic mode 778 and allow me write my data to the
> > framebuffer".
> And VESA standard only supports such thing from iX86 real mode.
> > I can't believe I'll have to write an IA32 emulator into the kernel to do
> > that (on sane hardware I would achieve the switch with a pair of writel() in
> > the MMIO I think).
> Correct. But if you want use VESAfb you should play by VESA rules. And VESA
> rules (as of VESA 2.0) are simple: the ONLY way to select video mode is to
> call specific int from real mode. Sometimes you should even load DOS's driver
> to have such ability.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/