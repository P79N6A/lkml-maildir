Date: Sun, 9 Sep 2001 20:38:09 +0200 (CEST)
From: Roman Zippel <>
Subject: Patch: typo in fs/super.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/9/68

Hi,
There is a small typo in fs/super.c which makes the mount hash quite
ineffective.
bye, Roman
diff -u -r1.1.1.15 super.c
--- fs/super.c	11 Aug 2001 14:14:59 -0000	1.1.1.15
+++ fs/super.c	9 Sep 2001 18:36:48 -0000
@@ -288,8 +288,8 @@
 {
 	unsigned long tmp = ((unsigned long) mnt / L1_CACHE_BYTES);
 	tmp += ((unsigned long) dentry / L1_CACHE_BYTES);
-	tmp = tmp + (tmp >> hash_mask);
-	return tmp & hash_bits;
+	tmp = tmp + (tmp >> hash_bits);
+	return tmp & hash_mask;
 }
 struct vfsmount *alloc_vfsmnt(void)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/