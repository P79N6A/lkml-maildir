Date: Sat, 28 Aug 2004 22:30:50 -0400
From: Jeff Garzik <>
Subject: Re: [: kernel-source-2.4.27: libata.o not compiled as module]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/28/298

Joshua Kwan wrote:
> forwarded 268188 jgarzik@pobox.com
> thanks
> 
> Hi Jeff,
> 
> It seems that libata.o isn't getting built when some drivers depending
> on libata are built as modules and others as built in, on 2.4.27. If
> they're either all built in, or all modules, everything builds fine.
> 
> Would you have an idea on this matter?
> CONFIG_SCSI_SATA=y
> CONFIG_SCSI_SATA_SVW=m
> CONFIG_SCSI_SATA_PROMISE=m
> CONFIG_SCSI_SATA_SX4=m
> CONFIG_SCSI_SATA_SIL=m
> CONFIG_SCSI_SATA_SIS=m
> CONFIG_SCSI_SATA_VIA=m
> CONFIG_SCSI_SATA_VITESSE=y
Everything is working just fine, from looking at the output.
CONFIG_SCSI_SATA_VITESSE is set to 'y', which means that libata is built 
into the kernel rather than as a module, because 
CONFIG_SCSI_SATA_VITESSE is built into the kernel, and libata is a 
dependency.
Because the dependency (libata.o) is built into the kernel, no kernel 
module will be produced.
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/