Date: Thu, 19 Jan 2006 10:53:47 -0500
From: Mark Lord <>
Subject: Re: FYI: RAID5 unusably unstable through 2.6.14
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/19/146

Neil Brown wrote:
>
> Very recent 2.6 kernels do exactly this.  They don't drop a drive on a
> read error, only on a write error.  On a read error they generate the
> data from elsewhere and schedule a write, then a re-read.
Well done, then.  Further to this:
Pardon me for not looking at the specifics of the code here,
but experience shows that rewriting just the single sector
is often not enough to repair an error.  The drive often just
continues to fail when only the bad sector is rewritten by itself.
Dumb drives, or what, I don't know, but they seem to respond
better when the entire physical track is rewritten.
Since we rarely know what a physical track is these days,
this often boils down to simply rewriting a 64KB chunk
centered on the failed sector.  So far, this strategy has
always worked for me.
Cheers
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/