Date: Tue, 15 Jan 2008 02:05:18 -0800
From: Harvey Harrison <>
Subject: Re: [PATCH] [7/31] Extract page table dumping code from i386 fault handler into dump_pagetable()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/15/65

On Tue, 2008-01-15 at 11:00 +0100, Andi Kleen wrote:
> > > +void dump_pagetable(unsigned long address)
> > 
> > static?
> 
> This is used by other files too with future patches. Also
> in general it's useful for debugging stuff - i often put calls 
> to it into debugging patches.
> 
> > > +{
> > > +	typeof(pte_val(__pte(0))) page;
> > 
> > Is there any type that could be picked that would be nicer than
> > sprinkling ((__typeof__(page) *), typeof(pte_val(__pte(0))) etc
> > through here, I know it's just moving the code out to another
> > function, just wondering if you had any better ideas that someone
> > could follow-up on.
> 
> It could be pteval_t now which Jeremy recently introduced. But for pure
> code movement I don't want to do any improvements.
Sure, I had a very similar patch but was looking for a better way to
address this, I'll keep an eye on this and Jeremy's patch and follow
up when his stuff has settled a bit more.
Harvey