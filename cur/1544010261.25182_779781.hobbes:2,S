Date: Fri, 12 Dec 2008 07:27:23 +0100
From: Ingo Molnar <>
Subject: Re: [PATCH] nohz: no softirq pending warnings for offline cpus
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/12/25

* Heiko Carstens <heiko.carstens@de.ibm.com> wrote:
> From: Heiko Carstens <heiko.carstens@de.ibm.com>
> 
> After a cpu was taken down during cpu hotplug (read: disabled for interrupts)
> it still might have pending softirqs. However take_cpu_down makes sure
> that the idle task will run next instead of ksoftirqd on the taken down cpu.
> The idle task will call tick_nohz_stop_sched_tick which might warn about
> pending softirqs just before the cpu kills itself completely.
> However the pending softirqs on the dead cpu aren't a problem because they
> will be moved to an online cpu during CPU_DEAD handling.
> 
> So make sure we warn only for online cpus.
> 
> Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
> ---
>  kernel/time/tick-sched.c |    2 +-
>  1 file changed, 1 insertion(+), 1 deletion(-)
applied to tip/timers/nohz, thanks Heiko!
	Ingo