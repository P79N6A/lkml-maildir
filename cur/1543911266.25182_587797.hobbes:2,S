Date: Thu, 23 Aug 2007 12:34:59 -0400
From: Phillip Susi <>
Subject: Re: fs corruption by doing nothing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/23/201

Martin Vogt wrote:
> 
> Hello,
> 
> this bug report describes the following scenario:
> 
> - Insert a Knoppix 5.1.1 CD
>   into a fileserver with a clean reiserfs system and
>   Knoppix completely destroys the reiser filesystem on the fileserver,
>   just by booting Knoppix.
> 
> 
> Its unclear if this is a knoppix bug, but reiserfs
> simply tries to "correct something" which is wrong.
> 
>> ReiserFS: sda2: found reiserfs format "3.6" with standard journal
>> ReiserFS: sda2: using ordered data mode
>> ReiserFS: sda2: warning: sh-461: journal_init: wrong transaction max size
>> (144767). Changed to 1024
> 
> ^^^^^^^^^^here
> 
>> ReiserFS: sdb2: found reiserfs format "3.6" with standard journal
>> ReiserFS: sdb2: using ordered data mode
>> ReiserFS: sdb2: warning: sh-461: journal_init: wrong transaction max size
>> (144767). Changed to 1024
> 
> ^^^^^^^^^^here
> 
> After that the filesystem is completely broken.
Looks to me that there are two bugs here.  The first is with knoppix as 
it is mounting each individual mirrored disk instead of the raid device. 
  The second appears to be in the kernel as it is detecting and 
correcting what it thinks is an error but isn't.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/