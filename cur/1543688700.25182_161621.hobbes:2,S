Date: Sun, 31 Aug 2003 08:30:20 +0200
From: Jörn Engel <>
Subject: Re: bandwidth for bkbits.net (good news)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/31/8

On Sun, 31 August 2003 00:58:33 +0200, Pascal Schmidt wrote:
> 
> All you have to do is drop the incoming packets if they exceed
> a certain bandwidth. That will stop the corresponding ack automatically
> since your TCP stack won't even see the packet.
You've cut away the part where I explained that you don't want to
throw away the incoming packet.  Yes, the stupid approach works, but
it is still stupid.
> I'm doing this on my ISDN line to limit the rest of the house to one
> third of the bandwidth even if they're all busy downloading tons of
> warez. I'm paying, I want the bandwidth when I need it. They can get
> it all when there's no traffic for my machine.
> 
> No problem with the HTB queueing discipline.
But latency just went boom.  On your side, your packets will come out
quickly because the queue is short.  But on your ISP's side, there is
a single queue for both your and the warez' traffic.  Your packets
will get thrown away just as much, as theirs.
> Yes, latency is a problem if you want to saturate your bandwidth. It is
> easy to guarantee some bandwith for latency critical stuff - just
> don't give out that piece of bandwith to something else. Of course,
> then most of the time that piece is wasted...
This works if your latency requirements are moderate or the pipe is
big.  Assume 5ms and ISDN and you have a window of 400 Bytes roughly.
Each time you happen to receive 400 Bytes of packets at the same time,
you hear a pause.  A single large packet is more than that.  Oops!
For Larry's T1 line, the numbers naturally go up, but it still doesn't
take a huge amount of packets.
> and it doesn't help with problems somewhere along the net.
Compared to ISDN or T1, the net usually has big pipes and people tend
to care about low latency, so that problem doesn't even exist compared
with the receiving end.
Jörn
-- 
Simplicity is prerequisite for reliability.
-- Edsger W. Dijkstra
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/