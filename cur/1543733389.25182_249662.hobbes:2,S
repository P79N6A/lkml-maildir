Date: Tue, 07 Sep 2004 09:51:37 +1000
From: Nick Piggin <>
Subject: Re: swapping and the value of /proc/sys/vm/swappiness
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/6/209

William Lee Irwin III wrote:
>On Mon, Sep 06, 2004 at 04:22:07PM -0500, Ray Bryant wrote:
>
>>We were planning on suggesting that such users set swappiness=0 to give
>>user pages priority over the page cache pages.  But it doesn't look like 
>>that works very well in the more recent kernels.
>>One (perhaps) desirable feature would be for intermediate values of 
>>swappiness to have behavior in between the two extremes (mapped pages have 
>>higher priority vs page cache pages having priority over unreferenced 
>>mapped pages),
>>so that one would have finer grain control over the amount of swap used.  
>>I'm not sure how to achieve such a goal, however.  :-)
>>
>
>Priority paging again? A perennial suggestion.
>
>
I guess reclaim_mapped is effectively priority paging. But is reasonably
fragile I guess.
My mapped_page_cost stuff is possibly (I hope) more robust in theory, but
the change from never scanning mapped pages until some point, to always
scanning mapped pages slowly necessitated non trivial changes to things
like handling of use-once pages.
>
>On Mon, Sep 06, 2004 at 04:22:07PM -0500, Ray Bryant wrote:
>
>>On a separate issue, the response to my proposal for a mempolicy to control
>>allocation of page cache pages has been <ahem> underwhelming.
>>(See: http://marc.theaimsgroup.com/?l=linux-mm&m=109416852113561&w=2
>> and  http://marc.theaimsgroup.com/?l=linux-mm&m=109416852416997&w=2 )
>>I wonder if this is because I just posted it to linux-mm or its not fleshed 
>>out enough yet to be interesting?
>>
>
>It was very noncontroversial. Since it's apparently useful to someone
>and generally low-impact it should probably be merged.
>
>
Yeah, I couldn't see any reason to not go ahead with it, which is why I
didn't say anything :)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/