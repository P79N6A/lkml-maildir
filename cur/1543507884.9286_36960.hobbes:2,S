Date: Thu, 2 Sep 1999 11:08:05 +0200
From: "Enrique Bernal" <>
Subject: Record locking through NFS.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/2/31

Hello, all.
I have a program that uses record locking - fcntl(filedes, F_SETLK, ...) -
in a file from a NFS server. That worked well in SuSE Linux 6.1 (Kernel
2.2.5)
Recently I have installed SuSE Linux 6.2 (Kernel 2.2.10) in both boxes (NFS
server and NFS
client), and I think I have configured them correctly, but my program
doesn´t manage to lock records in the server´s file, as did in 6.1.
I have included the client´s IP in server´s /etc/exports (rw), both
/etc/hosts files contain both IP addresses, I have put
	USE_KERNEL_NFSD="yes"
in both /etc/rc.config, and ran SuSEconfig (and reboot). I mount the server
in the client with "mount 192.1.121.2:/home /mnt", and got no errors. Even
I included the option "-o lock" in mount but with the same results: when my
program tries to lock the server´s file, it just get an error "file
ocked".
Have I to configure something more in order to lock files in the NFS
server?
Have somebody any ideas about this?
NOTE: rpcinfo -p in both sides don't shows "nlockmgr" as it did with kernel
2.2.5.
Thank you in advance,
Enrique
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/