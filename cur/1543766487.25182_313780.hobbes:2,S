Date: Mon, 25 Apr 2005 17:53:49 +0200 (CEST)
From: Jesper Juhl <>
Subject: Re: [PATCH 4/7] dlm: configuration
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/25/94

On Mon, 25 Apr 2005, David Teigland wrote:
> 
> Per-lockspace configuration happens through files under:
> /sys/kernel/dlm/<lockspace_name>/.  This includes telling each lockspace
> which nodes are using the lockspace and suspending locking in a lockspace.
> 
> Lockspace-independent configuration involves telling the dlm communication
> layer the IP address of each node ID that's being used.  These addresses
> are set using an ioctl on a misc device.
> 
> Signed-Off-By: Dave Teigland <teigland@redhat.com>
> Signed-Off-By: Patrick Caulfield <pcaulfie@redhat.com>
> 
[...]
> +static ssize_t dlm_finish_store(struct dlm_ls *ls, const char *buf, size_t len)
> +{
> +	dlm_ls_finish(ls, simple_strtol(buf, NULL, 0));
> +	return len;
> +}
[...]
> +static ssize_t dlm_id_store(struct dlm_ls *ls, const char *buf, size_t len)
> +{
> +	ls->ls_global_id = simple_strtol(buf, NULL, 0);
> +	return len;
> +}
[...]
What's the point of `len' in these two functions? 
You pass in `len`, don't use it at all, then return the value. I fail to 
see the usefulness. Why not just have the function return void and omit 
the `len' parameter?
-- 
Jesper Juhl
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/