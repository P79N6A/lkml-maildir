Date: Mon, 13 Sep 2004 23:15:36 +0200
From: Christian Borntraeger <>
Subject: Re: Linux 2.6.9-rc2 : oops
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/13/252

Linus Torvalds wrote:
> On Mon, 13 Sep 2004, Christian Borntraeger wrote:
> > I got an oops with 2.6.9-rc2 in free_block.
> Looks like somebody is trying to free an invalid address. Sadly, your
> traceback doesn't show _who_, because it's hidden in the buffering.
>
> The only changes to slab itself have been by Christoph lately, I don't
> think that matters. Can you enable slab debugging? That should catch it
> much earlier..
Got it. I can reproduce the problem by mounting one of my recently burned 
backup cds. 
reversing "[PATCH] Fix leaks in ISOFS."
http://linux.bkbits.net:8080/linux-2.6/cset
%40413792bdlE_TiqzIHELio3xcG68QeQ
helps. Seems we need a fix for the fix. 
thanks for your help
Christian
slab error in cache_free_debugcheck(): cache `size-256': double free, or 
memory outside object was overwritten
 [<c0105e87>] dump_stack+0x17/0x20
 [<c013ef57>] cache_free_debugcheck+0x197/0x210
 [<c013fada>] kfree+0x4a/0x90
 [<f3be297f>] parse_rock_ridge_inode_internal+0x1af/0x610 [isofs]
 [<f3be2f88>] parse_rock_ridge_inode+0x18/0x50 [isofs]
 [<f3be1a9e>] isofs_read_inode+0x24e/0x3f0 [isofs]
 [<f3be1cf9>] isofs_iget+0x59/0x70 [isofs]
 [<f3be0f68>] isofs_fill_super+0x398/0x620 [isofs]
 [<c01595fa>] get_sb_bdev+0xea/0x120
 [<f3be1d2c>] isofs_get_sb+0x1c/0x30 [isofs]
 [<c015982e>] do_kern_mount+0x8e/0x150
 [<c016ea34>] do_new_mount+0x64/0xa0
 [<c016f123>] do_mount+0x163/0x1a0
 [<c016f4c8>] sys_mount+0x88/0xf0
 [<c010504f>] syscall_call+0x7/0xb
....
there is more, see attachement 
Christian