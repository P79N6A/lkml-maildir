Date: Sat, 12 Jul 2003 22:17:21 +0100
From: Dave Jones <>
Subject: Re: agpgart, nforce2, radeon and agp fastwrite
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/12/152

On Sat, Jul 12, 2003 at 11:10:22PM +0200, Jan Dittmer wrote:
 > Forgot to mention I had to use this patchlet to get nvidia-agp to link 
 > properly.
 > 
 > Jan
 > 
 > --- linux-mm/drivers/char/agp/generic.c Thu Jul  3 15:04:06 2003
 > +++ 2.5.73-mm3/drivers/char/agp/generic.c       Wed Jul  9 10:04:34 2003
 > @@ -39,7 +39,7 @@
 > 
 >  __u32 *agp_gatt_table;
 >  int agp_memory_reserved;
 > -
 > +EXPORT_SYMBOL(agp_memory_reserved)
Girr. I'm not entirely happy about exporting that if I can help it.
It's annoying that the nvidia_insert_memory() routine is 99% the same
as the generic routine. If it could use that, we'd not have to worry
about the export.
A possible fix could be teaching the generic routine about offsets
where the table really begins in the GART. (nforce wants a 64MB GART
for a 32MB aperture, and needs to begin at some wierd offset..
Let me think a little on this one before merging that export.
	Dave
-- 
 Dave Jones     
http://www.codemonkey.org.uk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/