Date: Fri, 23 Jun 2006 13:46:48 -0700
From: Andrew Morton <>
Subject: Re: GFS2 and DLM
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/23/382

On Fri, 23 Jun 2006 15:49:28 +0100
Christoph Hellwig <hch@infradead.org> wrote:
> On Tue, Jun 20, 2006 at 01:17:13PM +0100, Steven Whitehouse wrote:
> > Hi,
> > 
> > Linus, Andrew suggested to me to send this pull request to you directly.
> > Please consider merging the GFS2 filesystem and DLM from (they are both
> > in the same tree for ease of testing):
> 
> The code uses GFP_NOFAIL for slab allocator calls.
All existing users of GFP_NOFAIL are lame and should be fixed to handle
ENOMEM.  We shouldn't add new ones.
And we shouldn't open-code the retry loops to avoid attracting attention,
either ;)
>  It's been pointed out
> here numerous times that this can't work.  Andrew, what about adding
> a check to slab.c to bail out if someone passes it?
Is there anything special about slab which makes the use of GFP_NOFAIL
worse when called from the slab code?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/