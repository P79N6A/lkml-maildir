Date: Wed, 13 Jan 1999 09:45:26 -0600
From: Michael Elizabeth Chastain <>
Subject: Re: 2.2.0-pre6: Problem with module versions since
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/13/110

Hi Martijn,
> This is where the problem lies. The Kernel-HOWTO, the kernel config, etc
> all say you should run make dep every time you compile a kernel. If, as
> you suggest, this is not nessesary, then indeed it would be better to
> recurse through the entire tree.
The documentation has to catch up with the code.  :-/  I think we need
a Documentation/configuration directory.  There's a lot of undocumented
mysteries in the configuration and Makefile system.
> kleptog//usr/src/linux>make dep | grep -i genksyms
Try a 'make mrproper' first -- it probably genksyms's only once.
Also I like to script this kind of thing and then read typescript,
because that captures stderr as well.
> If, as it says in the Kernel-HOWTO, you run make clean each time,
> the kernel will build properly each time. Although I just noticed
> that make menuconfig doesn't display that message anymore. Does this
> mean make clean is not required either?
That's right.  'make clean' is not required after a configuration change,
unless you have CONFIG_MODVERSIONS on.  'make dep' is not required after
a configuration change, unless you have CONFIG_MODVERSIONS on.
I don't even have HOWTO's on my system, so I don't know what the
Kernel-HOWTO says.  If you would like to send me a copy, I could mark
it up and submit a patch to its maintainer.
Michael
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/