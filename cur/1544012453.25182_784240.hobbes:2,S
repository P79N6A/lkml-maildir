Date: Fri, 26 Dec 2008 11:48:09 -0800
From: David Brownell <>
Subject: Re: MMC: Add 8-bit bus width support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/26/166

On Friday 26 December 2008, Philip Langdale wrote:
> David Brownell wrote:
> >> I am not aware of mmc cards having 8 pins yet.
> > 
> > Transcend seems to have one that's reasonably available;
> > NewEgg has the 4GB card for $US 9.50, and Transcend sells
> > it direct too (at least in the US).  I'm a bit curious
> > what read rates they achieve ... likely not 50 MB/sec!
> > 
> > The relevant search keyword seems to be "MMCplus".
> 
> Right. MMCplus and MMCmobile cards are all required to have
> 8 bit support, and they've been around for years. 
Specs have been around.  Products have been harder
to find, at least at retail, in part because of the
catch you mention:
> The catch 
> is that there have been essentially no controllers out in
> the wild which can take advantage of them. Even when the
> controller chip supports 8 bit operation, the ODM usually
> only connects 4 pins up
SD cards only need 4 pins, of course.  And until the
8-bit MMC cards get more common, there's not much
point in using those more expensive sockets. 
> - and when they actually do, it's 
> for a controller which we don't know how to control :-)
> 
> This OMAP controller is a first.
OMAP SOCs have a way of doing that for more than one
technology at a time, in my observation.  ;)
Right now OMAP3 boards with 8-bit MMC support are widely
available via beagleboard.org ... for $US 150, you get
quite a lot.  But end-user boards, vs developer ones,
still don't use those sockets a lot.
> > A third use for 8-bit bus widths is the CE-ATA.org stuff
> > (ATA over MMC) ... I'm not sure how real that is, but the
> > Seagate website has two "Lyrion" products of 30MB and 60MB
> > using 8-bit MMC for small disks.  I had thought bigger
> > drives had been announced (e.g. from Samsung, 200+ MB);
> > maybe they're visible only through OEM channels.
> 
> True - except that CE-ATA wants to signal ATA command completion
> on the CMD line which I'm fairly certain requires explicit
> hardware level support. In the absence of that, you'd have to
> poll.
ISTR seeing a slide showing four options for that.
Software polling is always possible ... but it's
usually easy to get an IRQ from a spare GPIO line,
the controller need not support that explicitly.
I've seen *one* Linux board with a CE-ATA connector,
and that was the 4-bit version.  Presumably when
Linux grows a CE-ATA driver, this issue will get
dealt with.
- Dave
> 
> --phil
> 
> 