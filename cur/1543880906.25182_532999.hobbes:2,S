Date: Fri, 20 Apr 2007 11:15:26 -0700
From: Andrew Morton <>
Subject: Re: [RFC][PATCH -mm take4 2/6] support multiple logging
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/20/281

On Fri, 20 Apr 2007 18:51:13 +0900
Keiichi KII <k-keiichi@bx.jp.nec.com> wrote:
> > I started to do some cleanups and fixups here, but abandoned it when it was
> > all getting a bit large.
> > 
> > Here are some fixes against this patch:
> 
> I'm going to fix my patches by following your reviews and send new patches 
> on the LKML and the netdev ML in a few days.
> 
Well..  before you can finish this work we need to decide upon what the
interface to userspace will be.
- The miscdev isn't appropriate
- netlink remains a possibility
- Stephen suggests an ioctl against a socket and davem suggests socket
  options, but it's unclear to me how that socket will get bound to
  netconsole?
either way, I agree with the overall thrust of this work: netconsole is
useful in production environments, can become more useful and will need
runtime configurability.
I wonder if we're approaching this in the right way, however...
At a high level, netconsole is just a flow of UDP packets between two
machines.  The kernel already has rich and well-understood ways of creating
and configuring such flows.
So...  instead of creating a brand new way of configuring such a flow via
sysfs and ioctl, could we instead create a flow using the existing
mechanisms (presumably the socket API) and then "transfer" the information
from that flow over to netconsole by some means??
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/