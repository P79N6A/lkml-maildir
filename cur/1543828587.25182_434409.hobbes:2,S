Date: Mon, 19 Jun 2006 22:22:15 -0700
From: Andrew Morton <>
Subject: Re: [patch -mm 15/20] chardev: GPIO for SCx200 & PC-8736x: use dev_dbg in common module
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/20/23

On Sat, 17 Jun 2006 12:36:19 -0600
Jim Cromie <jim.cromie@gmail.com> wrote:
> 15/20. patch.devdbg-nscgpio
> 
> Use of dev_dbg() and friends is considered good practice.  dev_dbg()
> needs a struct device *devp, but nsc_gpio is only a helper module, so
> it doesnt have/need its own.  To provide devp to the user-modules
> (scx200 & pc8736x _gpio), we add it to the vtable, and set it during
> init.
> 
> ...
>
> --- ax-14/drivers/char/pc8736x_gpio.c	2006-06-17 01:42:57.000000000 -0600
> +++ ax-15/drivers/char/pc8736x_gpio.c	2006-06-17 01:45:49.000000000 -0600
> @@ -207,7 +207,7 @@ static void pc8736x_gpio_change(unsigned
>  	pc8736x_gpio_set(index, !pc8736x_gpio_get(index));
>  }
> 
> -extern void nsc_gpio_dump(unsigned iminor);
> +extern void nsc_gpio_dump(struct nsc_gpio_ops *amp, unsigned iminor);
Wants to be in a header file.
> +
> +extern void nsc_gpio_dump(struct nsc_gpio_ops *amp, unsigned index);
> +
And there it is.  Odd.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/