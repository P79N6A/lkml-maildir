Date: Tue, 20 Jun 2006 14:56:07 +0200
From: Lukasz Stelmach <>
Subject: ipv6 source address selection in addrconf.c (2.6.17)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/20/198

Greetings
net/ipv6/addrconf.c:971 is
/* Rule 2: Prefer appropriate scope */
if (hiscore.rule < 2) {
        hiscore.scope = __ipv6_addr_src_scope(hiscore.addr_type);
        hiscore.rule++;
}
Do you think it makes any sens when hiscore.addr_type hasn't been assigned any
value (or I can't see it) before? There are some more references to
hiscore.addr_type below but no assignment.
I am trying to figure out why when trying to connect to
2001:200:0:8002:203:47ff:fea5:3085 (www.kame.net)
with two global addresses assigned to the ethernet card
fd24:6f44:46bd:face::254
2002:531f:d667:face::254
rule 8 does not work and the first address is chosen.
Please CC answers.
-- 
Było mi bardzo miło.                    Czwarta pospolita klęska, [...]
>Łukasz<                      Już nie katolicka lecz złodziejska.  (c)PP
[unhandled content-type:application/pgp-signature]