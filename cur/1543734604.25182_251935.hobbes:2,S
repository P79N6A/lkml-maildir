Date: Tue, 14 Sep 2004 11:13:45 +1000
From: Neil Brown <>
Subject: Re: Problems with raid in 2.6.9-rc1-mm4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/13/317

On Monday September 13, jamagallon@able.es wrote:
...
> As disks are of different sizes, I though about doing a volume with the small
> ones, and then a raid with the big.
> As stripping on two IDE disks on the same IDE bus is silly, I wanted to
> do a linear array. So this is what I would like:
> 
> /dev/md1 (raid0) -- /dev/hda1 (240Gb)
>                 \- /dev/md0 (raid linear) -- /dev/hdc1
>                                           \- /dev/hdd1
> 
....
> 
> What is the problem ? The kernel can't detect that md0 is part of an
> array ?
No, it cannot.
> Is this setup possible at all ?
Yes.  But don't use "autodetect" to start the array.  
Use "mdadm".   It is more flexible.
Or even, just use raid0 across all 3 drives.  raid0 copes quite
happily with drives of different sizes.
> Do I have to partition md0 and create a 'fd' partition ?
It might work, but I wouldn't suggest it.
> 
> Aside, I have thogut of this a a possible solution: split hda in two, and buid
> a raid0 with hda1,hdc1,hda2,hdd1 (hda is faster...). Is this so stupid as it
> looks to me (think of rplacinf hda2 when it fails....).
This would not be a clever idea for performance reasons.
If any drive fails you have lost all your data and will need to
restore from backups, so the possibility that hda2 dies is not
particularly interesting.
NeilBrown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/