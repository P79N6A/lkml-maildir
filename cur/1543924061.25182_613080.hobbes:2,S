Date: Thu, 01 Nov 2007 10:51:07 -0400
From: Ric Wheeler <>
Subject: Re: [patch 1/1] Drop CAP_SYS_RAWIO requirement for FIBMAP
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/1/145

Pavel Machek wrote:
> Hi!
> 
>> Remove the need for having CAP_SYS_RAWIO when doing a FIBMAP call on an open file descriptor.
>>
>> It would be nice to allow users to have permission to see where their data is landing on disk, and there really isn't a good reason to keep them from getting at this information.
> 
> I believe it is to prevent users from intentionally creating extremely
> fragmented files...
> 
> You can read 60MB in a second, but fragmented 60MB file could take
> 10msec * 60MB/4KB = 150 seconds. That's factor 150 slowdown...
> 
> ...but I agree that SYS_RAWIO may be wrong capability to cover this.
> 
> 							Pavel
I don't see how restricting FIBMAP use helps prevent fragmentation since FIBMAP 
just allows you to see what damage was already done.
You can create nicely fragmented files simply by having multiple threads writing 
concurrently to one or more files in the same directory (depending on the file 
system, allocation policy, etc).
ric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/