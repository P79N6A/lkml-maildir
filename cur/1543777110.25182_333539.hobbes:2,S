Date: Tue, 12 Jul 2005 13:56:33 -0700
From: Tom Duffy <>
Subject: RE: [PATCH 22/82] remove linux/version.h from drivers/message/fus		ion
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/12/315

On Tue, 2005-07-12 at 14:50 -0600, Moore, Eric Dean wrote:
> The 3.02.18 driver and the driver in kernel tree are totally different
> drivers.
> One thing is 3.02.18 has SAS support, and the kernel tree doesn't.    Id
> wish
> kernel folks would take our SAS drivers.
Is there a patch that applies cleanly to 2.6.13-rc2?  I would like that
as a starting point, at least.
I noticed that the 3.02.18 drivers have a bunch of compile warnings on
the latest kernel.  It won't even link against mm.
make -C /build1/tduffy/openib-work/build/mm/x86_64/ M=/build1/tduffy/openib-work/mptlinux-3.02.18/fusion modules
make[1]: Entering directory `/build1/tduffy/openib-work/build/mm/x86_64'
make -C /build1/tduffy/openib-work/linux-2.6.13-rc-mm O=/build1/tduffy/openib-work/build/mm/x86_64 modules
  CC [M]  /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptbase.o
  CC [M]  /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptscsih.o
/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptscsih.c: In function ‘mptscsih_probe’:
/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptscsih.c:1195: warning: implicit declaration of function ‘scsi_set_device’
/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptscsih.c: At top level:
/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptscsih.c:3815: warning: initialization from incompatible pointer type
  CC [M]  /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptlan.o
  CC [M]  /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.o
/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.c: In function ‘mptctl_init’:
/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.c:3735: warning: implicit declaration of function ‘register_ioctl32_conversion’
/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.c:3856: warning: implicit declaration of function ‘unregister_ioctl32_conversion’
/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.c: In function ‘mptctl_do_mpt_command’:
/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.c:2007: warning: ‘bufIn.len’ may be used uninitialized in this function
/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.c:2008: warning: ‘bufOut.len’ may be used uninitialized in this function
  Building modules, stage 2.
  MODPOST
*** Warning: "scsi_set_device" [/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptscsih.ko] undefined!
*** Warning: "unregister_ioctl32_conversion" [/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.ko] undefined!
*** Warning: "register_ioctl32_conversion" [/build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.ko] undefined!
  CC      /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptbase.mod.o
  LD [M]  /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptbase.ko
  CC      /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.mod.o
  LD [M]  /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptctl.ko
  CC      /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptlan.mod.o
  LD [M]  /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptlan.ko
  CC      /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptscsih.mod.o
  LD [M]  /build1/tduffy/openib-work/mptlinux-3.02.18/fusion/mptscsih.ko
make[1]: Leaving directory `/build1/tduffy/openib-work/build/mm/x86_64'
[unhandled content-type:application/pgp-signature]