Date: Tue, 31 Aug 2004 12:50:43 -0700
From: Steven Dake <>
Subject: New virtual synchrony API for the kernel: was Re: [Openais] New API in openais
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/31/266

John,
As it appears the redhat clusters project is interested in a kernel
implementation of cluster messaging, this interface would have to be
available to both the kernel and user applications.  It possible to
provide EVS services to both kernel and user space applications.  There
currently is no kernel implementation of group messaging, though only a
user space interface.  TIPC could probably export this sort of
interface, or openais's gmi could be ported to the kernel.  Then
openais, redhat's cluster technologies, linux ha, or other group
messaging applications (and there are quite a few) could use that
technology and standardize on the EVS API.
It would be useful for linux cluster developers for a common low level
group communication API to be agreed upon by relevant clusters
projects.  Without this approach, we may end up with several systems all
using different cluster communication & membership mechanisms that are
incompatible. 
Thanks
-steve
On Tue, 2004-08-31 at 10:35, John Cherry wrote:
> Steve,
> 
> This sounds like a low level cluster communication service which would
> be potentially leveraged by other services, such as the event service or
> a group messaging service.  Are you envisioning this to be a public
> interface for applications?
> 
> We discussed a low level cluster communication interface at the cluster
> summit.  The rhat/sistina interface would be used by the cluster manager
> (CMAN) and the lock manager (GDLM), but there was no real momentum to
> make this a public application interface.  It would be great if we could
> derive a common cluster communication interface with the rhat/sistina
> project as well as the TIPC project.  What do you think?
> 
> John
> 
> 
> On Tue, 2004-08-31 at 01:31, Steven Dake wrote:
> > Folks
> > 
> > Its with alot of pleasure that I announce a new API that I implemented
> > over the weekend.
> > 
> > The api is called the "EVS" API and is provided by a seperate library
> > libevs.so/.a.  The standard openais executive is used.  There are two
> > test programs testevs and evsbench which demonstrate the API.  evsbench
> > will benchmark throughput rates.  I get about 9MB/sec on my hardware,
> > however, flow control in the group messaging protocol is slowing this
> > down.  I've gotten 10MB/sec with tweaking the algorithm some.
> > 
> > The API name EVS means "Extended Virtual Syncrhony".  This API provides
> > EVS semantics for those that require the guarantees provided in the face
> > of partitions and merges.
> > 
> > The API provides the following
> > multiple instances may exist at one time
> > group keys of 32 bytes
> > an instance may join one or more groups at one time
> > an instance may leave one or more groups at one time
> > an instance may multicast to the currently joined groups
> > an instance may multicast to unjoined groups
> > any message for a joined group will be delivered via callback
> > configuration changes are delivered via callback
> > 
> > Your comments welcome
> > 
> > Thanks
> > -steve
> > 
> > 
> > ______________________________________________________________________
> > _______________________________________________
> > Openais mailing list
> > Openais@lists.osdl.org
> > 
http://lists.osdl.org/mailman/listinfo/openais
> 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/