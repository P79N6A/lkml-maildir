Date: Tue, 09 Jan 2007 12:03:51 -0500
From: Trond Myklebust <>
Subject: Re: [PATCH 01/24] Unionfs: Documentation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/1/9/201

On Tue, 2007-01-09 at 11:41 -0500, Shaya Potter wrote:
> On Tue, 2007-01-09 at 11:30 -0500, Trond Myklebust wrote:
> > You mean somebody like, say, a perfectly innocent process working on the
> > NFS server or some other client that is oblivious to the existence of
> > unionfs stacks on your particular machine?
> > To me, this has always sounded like a showstopper for using unionfs with
> > a remote filesystem.
> 
> Again, what about fibre channel support?  Imagine I have multiple blades
> connected to a SAN.  For whatever reason I format the san w/ ext3 (I've
> actually done this when we didn't need sharing, just needed a huge disk,
> for instance for doing benchmarks where I needed a large data set that
> was bigger than the 40GB disk that the blades came with).  I better not
> touch that disk from any of the other blades.
> 
> All you are saying is unionfs should always make sure its data is sane,
> never make assumptions about it being correct.
> 
> Put it this way, imagine I have an ext3 fs on a SAN, I can only use it
> frm one machine.  Lets say I want to be smart and mount the FS read-only
> from another machine,  should I have any expectation that it will work?
> Nope.  
> 
> Now, under what conditions can one expect unionfs to work?  Basically,
> where the underlying FS isn't being modified (though possible others).
> Is that a reasonable condition.  I believe so.  If you disobey the
> condition, the machine shouldn't oops, but it should detect it and tell
> you and shut down usage of the FS.
I'm saying that at the very least it should not Oops in these
situations. As to whether or not they are something you want to handle
more gracefully, that is up to you, but Oopses are definitely a
showstopper.
Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/