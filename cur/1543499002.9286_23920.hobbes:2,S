Date: Mon, 14 Jun 1999 11:51:00 -0600
From: Larry McVoy <>
Subject: Re: multiply files in one (was GNU/Linux stance by Richard Stallman)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/14/120

: 
: Larry McVoy writes:
:  > : What I was getting at
:  > : was that if you pack the data together, then read-ahead will yield
:  > : more complete files, which translates to less transactions in the end.
:  > 
:  > Read ahead really doesn't solve the problem for two reasons:
:  > 
:  > 	1) the allocation policies in almost all file systems is file
:  > 	   centric - it's careful to get *a* file contiguous but isn't
:  > 	   careful to get multiple files in the same directory all next
:  > 	   to each other
: 
: 1) is solved in reiserfs.
: 
:  > 
:  > 	2) even if (1) was solved, the file system needs to know that it 
:  > 	   bring in more data.  If the file it is reading is 1K long, 
:  > 	   why should it brin in the next 5MB of data?
: 
: I don't understand.  How does this differ from any other sort of
: read-ahead?
We need read ahead algs on directories where the data being read ahead is
the file data, not the directory data.  I.e., I read on file in this 
directory, then the next, then the next, then the next, screw it, I'm
reading the whole directory including all of its files.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/