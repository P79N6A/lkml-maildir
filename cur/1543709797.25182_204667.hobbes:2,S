Date: Mon, 8 Mar 2004 16:19:16 +0530
From: "Amit S. Kale" <>
Subject: Re: kgdb for mainline kernel: core-lite [patch 1/3]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/8/49

On Monday 08 Mar 2004 3:56 pm, Andrew Morton wrote:
> "Amit S. Kale" <amitkale@emsyssoft.com> wrote:
> > Here are features that are present only in full kgdb:
> >  1. Thread support  (aka info threads)
>
> argh, disaster.  I discussed this with Tom a week or so ago when it looked
> like this it was being chopped out and I recall being told that the
> discussion was referring to something else.
>
> Ho-hum, sorry.  Can we please put this back in?
Err., well this is one of the particularly dirty parts of kgdb. That's why 
it's been kept away. It takes care of correct thread backtraces in some rare 
cases.
If you consider it an absolutely must, we can do something so that the dirty 
part is kept away and info threads almost always works.
>
> >  2. console messages through gdb
>
> hm, it was occasionally handy.  Is there a lot of code involved?
Nope. Code is already in, it's just a matter of adding a config option.
>
> >  3. Automatic loading of modules in gdb
>
> OK.  I think.  What does this feature actually do?
This feature lets gdb hook onto a kernel function to detect loading and 
unloading of modules and preserves module section information for later use 
by gdb. At present this is broken for 2.6 kernels. I am working on this.
>
> >  4. Support for x86_64
> >  5. Support for powerpc
>
> These are planned, I assume?
Yes. As soon as i386 goes in. x86_64 is already very clean. There was another 
opinion about whether x86_64 should be the first one to go in!
ppc might need some work.
> >  6. kgdb over ethernet [This isn't ready in the full version as well at
> > this point of time]
>
> OK.  But the version in -mm and -mpm works OK, does it not?  Is there some
> difference in implementation which causes it to be broken in your tree?
There are some differences. The one in my tree also apparently works to some 
extent. It's being worked on.
-Amit
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/