Date: Tue, 27 Sep 2005 12:07:29 -0700
From: Daniel Walker <>
Subject: [PATCH] RT: Add __HAVE_ARCH_DIV_LL_X_L_REM
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/27/194

Create __HAVE_ARCH_DIV_LL_X_L_REM instead of using div_ll_x_l_rem directly.
Signed-Off-By: Daniel Walker <dwalker@mvista.com>
Index: linux-2.6.13/include/asm-arm/div64.h
===================================================================
--- linux-2.6.13.orig/include/asm-arm/div64.h
+++ linux-2.6.13/include/asm-arm/div64.h
@@ -53,6 +53,7 @@
  */
 #define div_long_long_rem(a,b,c) div_ll_X_l_rem(a,b,c)
 
+#define __HAVE_ARCH_DIV_LL_X_L_REM
 /* x = divs / div; *rem = divs % div; */
 static inline unsigned long div_ll_X_l_rem(unsigned long long divs,
 					   unsigned long div,
Index: linux-2.6.13/include/linux/sc_math.h
===================================================================
--- linux-2.6.13.orig/include/linux/sc_math.h
+++ linux-2.6.13/include/linux/sc_math.h
@@ -141,7 +141,7 @@ static inline long mpy_sc32(long a, long
 })
 #endif
 
-#if !defined(div_ll_X_l_rem) && !defined(CONFIG_X86)
+#if !defined(__HAVE_ARCH_DIV_LL_X_L_REM) && !defined(CONFIG_X86)
 /* x = divs / div; *rem = divs % div; */
 static inline unsigned long div_ll_X_l_rem(unsigned long long divs,
 					   unsigned long div,
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/