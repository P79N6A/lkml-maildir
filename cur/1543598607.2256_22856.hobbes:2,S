Date: 22 Aug 2001 01:54:52 +0200
From: Enrico Scholz <>
Subject: Open Tray detection of ide-cdroms broken
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/8/21/260

Hello,
since early 2.4 kernels a
| $ mount /mnt/cdrom
on my opened ide-cdroms reports that there is no cdrom in the drive. Old
2.2 kernels closed the tray first and succeeded then.
Aeons ago this issue was discussed already[1], but the current
ide_cdrom_drive_status() function in ide-cd.c contains still the
| if (sense.sense_key == NOT_READY) {
|          if (sense.asc == 0x3a && (!sense.ascq||sense.ascq == 1))
|                  return CDS_NO_DISC;
|          else
|                  return CDS_TRAY_OPEN;
|  }
code returning CDS_NO_DISC on "normal" ide drives. Please see [1] for
details.
Enrico
Footnotes: 
[1]  
http://boudicca.tux.org/hypermail/linux-kernel/2001week08/0076.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/