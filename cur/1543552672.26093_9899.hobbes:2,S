Date: Thu, 26 Oct 2000 21:10:06 -0200 (BRST)
From: Marcelo Tosatti <>
Subject: Re: LVM snapshotting broken?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/26/96

On Fri, 27 Oct 2000, Andrea Arcangeli wrote:
> On Thu, Oct 26, 2000 at 06:34:48PM -0200, Rik van Riel wrote:
> > On Thu, 26 Oct 2000, Rik van Riel wrote:
> > 
> > > it looks like the LVM snapshotting in 2.4 doesn't allow you
> > > to create snapshots from anything else than the _first_ LV
> > > in the VG...
> > 
> > OK, I reproduced it in 2.2 as well ... ;(
> 
> Which 2.2.x? LVM isn't supported in 2.2.18pre17 or any other previous version.
> 
> For some irrelevant reason I always test snapshotting on a LV with minor
> number > 1 and the kernel side definitely works with 2.2.18pre17aa1:
> 
> laser:/home/andrea # ls -l /dev/vg1/lv*
> brw-r-----   1 root     root      58,   0 Oct 27  2000 /dev/vg1/lv0
> brw-r-----   1 root     root      58,   1 Oct 27  2000 /dev/vg1/lv1
> laser:/home/andrea # lvcreate -s -n lv1-snap /dev/vg1/lv1 -L 400M
> lvcreate -- INFO: using default snapshot chunk size of 64 KB
> lvcreate -- doing automatic backup of "vg1"
> lvcreate -- logical volume "/dev/vg1/lv1-snap" successfully created
> 
> laser:/home/andrea # lvremove -f /dev/vg1/lv1-snap 
> lvremove -- doing automatic backup of volume group "vg1"
> lvremove -- logical volume "/dev/vg1/lv1-snap" successfully removed
> 
> laser:/home/andrea # 
With LVM from 2.2.18aa kernels (I dont exactly remember which one)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/