Date: Mon, 31 Jan 2000 20:15:54 +0100
From: reiner <>
Subject: Booting from a 640MB MO-Disk with LILO?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/31/193

Hi all,
I need some help to manage booting from an 640MB MO-Disk (2048 bytes per
sector)
Here are the steps i have done :
From my potato box installed on an IBM scsi-disk (sda)
fdisk -b 2048 /dev/sdb
(the option -b 2048 is not in the man-page, i found it on a japanese
Webserver)
Then i have make 3 linux partitions and 1 swap partition with the
corresponding id´s on it:
    sdb1 100MB for /
    sdb2 32MB for swap
    sdb3 400MB for /usr
    and on sdb4 the rest for /home (about 50MB)
I have the bootable Flag set to partition sdb1.
Then
mke2fs -b 2048 /dev/sdb1
mke2fs -b 2048 /dev/sdb3
mke2fs -b 2048 /dev/sdb4
Later i have decided to do a fresh potato install on it (only the
required minimum) and grab the latest
boot disk (2.2.4-2000-01-03)
I installed this in a dos directorie (hda) and started the installation
per loadlin (because i don´t trust floppy´s)
Everything works fine during the installation and the files are on the
MO.
I´have also made a boot disk for this new installation on the MO (tried
several floppys and the 4. floppy got it)
Now i have installed LILO in the MBR of the MO and get the following
messages:
ll_rw_block:device 08:00:only 2048-char blocks implemented (1024)
ll_rw_block:device 08:00:only 2048-char blocks implemented (1024)
ll_rw_block:device 08:00:only 2048-char blocks implemented (1024)
Added Linux*
what does this mean? In trouble with 2048 bytes per sector?
Here is my lilo.conf
disk=/dev/sda
 bios=0x80
disk=/dev/hda
 bios=0x81
boot=dev/sda
root=/dev/sda1
install=/boot/boot.b
map=/boot/map
delay=20
image=/vmlinuz
    label=Linux
    read-only
The MO is now sda because i have changed the scan-order in the scsi-bios
Also i have changed the Motherboard-Bios to boot from scsi first (not
ide)
Now the smoke test:
I get the LILO-error message
L010101010101010.........
I inserted the boot-floppy and reboot
Now the System is up and running on the MO but i can`t boot directly
from MO. What´s wrong? I´ve looked in the LILO-User´s guide from Werner
Almesberger but nothing found that helps.
Here are my System configuration:
ASUS Motherboard P55T2P4 with K6-2 366MHz
Symbios SCSI-Controller Sym 8750 with 53C875-Chip and NV-RAM
IBM SCSI-Disk (My up-to-date Potato-Box;Kernel 2.2.13)
IBM IDE-Disk (DOS/Win System)
Fujitsu MO-Drive (With the System from the fresh Potato Install;Kernel
2.2.13)
It would be cool if i can boot from MO, because this wood be a good and
reliable (No floppy needed) rescue or experimantal System
Thanks in advance for any help
R.Stallknecht
PS: I´ve posted this to the Debian User Mailing List and got one reply
so far that this is bios related. Is this true?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/