Date: Fri, 13 Oct 2006 16:59:45 -0400 (EDT)
From: Alan Stern <>
Subject: Re: [linux-pm] Bug in PCI core
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/13/244

On Fri, 13 Oct 2006, Matthew Wilcox wrote:
> On Fri, Oct 13, 2006 at 01:57:48PM -0400, Alan Stern wrote:
> > Would it be okay for pci_block_user_cfg_access() to use its own cache, so 
> > it doesn't interfere with data previously cached by pci_save_state()?
> 
> My suggestion is just to require that the callers have previously called
> pci_save_state().  The PCI PM stack already has, and it's a one-line
> change to the IPR driver.
Okay.  Would you like to write a patch with that fix?  Be sure to add a 
comment explaining the need for a previous call to pci_save_state().
At least it will get things going for now, even if it isn't perfectly
correct in the long run.
Alan Stern
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/