Date: Tue, 9 Sep 2003 13:33:51 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: [Patch] asm workarounds in generic header files
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/9/223

On Tue, 9 Sep 2003, David Mosberger wrote:
> 
> In my opinion, moving all the asm-stuff greatly improved readability
> of the source code.  Especially for folks who are not intimately
> familiar with GCC asm syntax (which is hairy _and_ platform-specific).
I might agree, but "compiler.h" is getting increasingly messy, and this 
just makes it worse (and sets the stage for making it even worse in the 
future).
Is somebody willing to split up compiler.h into a per-compiler file (and 
yes, I think "gcc-2.95" is a different compiler from "gcc-3.2" in this 
case, since that is what most of the compiler.h #ifdef's are all about).
Then, have a config-time "set the right symbolic link" the same way we do 
for "include/asm/", so that we can have a set of _clean_ 
compiler-dependent abstractions.
At that point, we can look at adding support for non-gcc compilers without
horrible problems. At least as long as the compiler otherwise is
"sufficiently good" (which clearly right now includes support for inline
assembly on most architectures).
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/