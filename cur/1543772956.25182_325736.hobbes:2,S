Date: Wed, 15 Jun 2005 11:01:28 -0400
From: Reiner Sailer <>
Subject: [PATCH] 5 of 5 IMA: Makefile
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/15/92

This (last) patch related to IMA applies against linux-2.6.12-rc6-mm1 
and provides a patch to the top-level kernel Makefile changing the compile 
order of the crypto and security directories. This patch ensures that 
the crypto API is initialized before IMA initializes. IMA needs 
crypto/SHA1 at initialization time.
Signed-off-by: Reiner Sailer <sailer@watson.ibm.com>
---
diff -uprN linux-2.6.12-rc6-mm1_orig/Makefile linux-2.6.12-rc6-mm1-ima/Makefile
--- linux-2.6.12-rc6-mm1_orig/Makefile	2005-06-14 11:34:27.000000000 -0400
+++ linux-2.6.12-rc6-mm1-ima/Makefile	2005-06-14 16:25:16.000000000 -0400
@@ -563,7 +563,7 @@ export MODLIB
 
 
 ifeq ($(KBUILD_EXTMOD),)
-core-y		+= kernel/ mm/ fs/ ipc/ security/ crypto/
+core-y		+= kernel/ mm/ fs/ ipc/ crypto/ security/
 
 vmlinux-dirs	:= $(patsubst %/,%,$(filter %/, $(init-y) $(init-m) \
 		     $(core-y) $(core-m) $(drivers-y) $(drivers-m) \
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/