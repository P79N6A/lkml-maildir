Date: Tue, 21 Mar 2000 21:23:04 -0800
From: Simon Kirby <>
Subject: Re: [2.3.99pre2] [CORRUPTION] Doh!  Corruption problems again...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/22/67

On Tue, Mar 21, 2000 at 08:54:59PM -0800, Andre Hedrick wrote:
> On Tue, 21 Mar 2000, Simon Kirby wrote:
> 
> > On Tue, Mar 21, 2000 at 12:56:55PM -0800, Andre Hedrick wrote:
> > 
> > > OH MY !!!!............
> > > 
> > > You know that WDC blows of the UDMA CRC and you are pumping data at
> > > ATA-3/4/5 trasfer rates with ATA-2 correction/dectection, which equals
> > > NONE!!!!!!!!
> > 
> > Hrmm... Well, I don't see any bit errors, just mismapped blocks of data.
> 
> BINGO!!!!!
> 
> Blowing off the CRC errors means incomplete data WRITES.
Ah, I guess that would make sense. :)
> > 00:04.1 IDE interface: Intel Corporation 82371AB PIIX4 IDE (rev 01)
> > [sroot@oof:/root]# lspci -bxxxs 00:04.1
> > 00:04.1 IDE interface: Intel Corporation 82371AB PIIX4 IDE (rev 01)
> > 40: 77 e3 07 a3 0b 00 00 00 07 00 22 02 00 00 00 00
>                    4 pio       2  hdb     UDMA 2
>          4 pio & sitre         1   hda    UDMA 2
>                4 pio ! sitre   4      hdc UDMA 2
> 
> It did setup correctly but what does hdparm -i /dev/hda|b|c ?
[sroot@oof:/d]# hdparm -i /dev/hda
/dev/hda:
 Model=WDC WD273BA, FwRev=P78OA30A, SerialNo=WD-WT9630110245
 Config={ HardSect NotMFM HdSw>15uSec Fixed DTR>10Mbs }
 RawCHS=16383/16/63, TrkSize=0, SectSize=0, ECCbytes=34
 BuffType=3(DualPortCache), BuffSize=1961kB, MaxMultSect=16, MultSect=8
 DblWordIO=no, OldPIO=2, DMA=yes, OldDMA=2
 CurCHS=16383/16/63, CurSects=16514064, LBA=yes, LBAsects=53464320
 tDMA={min:120,rec:120}, DMA modes: mword0 mword1 mword2
 IORDY=on/off, tPIO={min:240,w/IORDY:120}, PIO modes: mode3 mode4
 UDMA modes: mode0 mode1 *mode2 mode3 mode4
[sroot@oof:/d]# hdparm -i /dev/hdb
/dev/hdb:
 Model=WDC WD273BA, FwRev=P78OA30A, SerialNo=WD-WM9630042296
 Config={ HardSect NotMFM HdSw>15uSec Fixed DTR>10Mbs }
 RawCHS=16383/16/63, TrkSize=0, SectSize=0, ECCbytes=34
 BuffType=3(DualPortCache), BuffSize=1961kB, MaxMultSect=16, MultSect=8
 DblWordIO=no, OldPIO=2, DMA=yes, OldDMA=2
 CurCHS=16383/16/63, CurSects=16514064, LBA=yes, LBAsects=53464320
 tDMA={min:120,rec:120}, DMA modes: mword0 mword1 mword2
 IORDY=on/off, tPIO={min:240,w/IORDY:120}, PIO modes: mode3 mode4
 UDMA modes: mode0 mode1 *mode2 mode3 mode4
[sroot@oof:/d]# hdparm -i /dev/hdc
/dev/hdc:
 Model=WDC AC28400R, FwRev=15.01J55, SerialNo=WD-WM6280160205
 Config={ HardSect NotMFM HdSw>15uSec SpinMotCtl Fixed DTR>5Mbs FmtGapReq }
 RawCHS=16383/16/63, TrkSize=57600, SectSize=600, ECCbytes=40
 BuffType=3(DualPortCache), BuffSize=512kB, MaxMultSect=16, MultSect=8
 DblWordIO=no, OldPIO=2, DMA=yes, OldDMA=0
 CurCHS=16383/16/63, CurSects=16514064, LBA=yes, LBAsects=16514064
 tDMA={min:120,rec:120}, DMA modes: mword0 mword1 mword2
 IORDY=on/off, tPIO={min:160,w/IORDY:120}, PIO modes: mode3 mode4
 UDMA modes: mode0 mode1 *mode2
Simon-
[  Stormix Technologies Inc.  ][  NetNation Communcations Inc.  ]
[       sim@stormix.com       ][       sim@netnation.com        ]
[ Opinions expressed are not necessarily those of my employers. ]
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/