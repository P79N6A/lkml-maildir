Date: Wed, 22 Mar 2006 22:13:53 -0500
From: Steven Rostedt <>
Subject: Re: 2.6.16-rt1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/22/561

On Wed, 2006-03-22 at 10:10 -0600, K.R. Foley wrote:
> K.R. Foley wrote:
> > Ingo Molnar wrote:
> >> * K.R. Foley <kr@cybsft.com> wrote:
> >>
> >>> Sorry I have been onsite and completely buried today. Am running an 
> >>> initial test on both UP and SMP now with 2.6.16-rt1. UP doesn't look 
> >>> bad at all. SMP on the other hand doesn't look so good. I will give 
> >>> -rt4 a spin when these are done.
> >> thanks for the testing - i'll check SMP too.
> >>
> >> 	Ingo
> >>
> > OK. On my dual 933 under heavy load I get the following with 2.6.16-rt4
> > and I get tons of missed interrupts. Running 2.6.15-rc16 I get a max of
> > 88usec with most falling under 30usec. On my UP AthlonXP 1700 I get a
> > max of 19usec with 2.6.16-rt4 under load. What sort of results do you
> > see on SMP?
> > 
> 
> Found something interesting. Having Wakeup latency timing turned on
> makes a HUGE difference. I turned it off and recompiled and now I am
> seeing numbers back in line with what I expected from 2.6.16-rt4. Sorry,
> but I had no idea it would make that much difference. I don't have a
> complete run yet, but I have seen enough to know that I am not seeing
> tons of missed interrupts and the highest reported latency thus far is
> 61 usec.
Hmm, high wake up latency on SMP and not on UP...
Ingo, could this be due to the migrate task latency?  This was where I
saw the problem with the 50ms latency running hack bench.  I remember
there was a bug in the older latency tool that didn't catch this latency
before.
I'm just getting back to looking at the latest stuff.  I had some
customer deliveries lately and haven't had time to look at the new
goodies.
-- Steve
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/