Date: Sat, 2 Feb 2002 23:29:34 +0100 (MET)
From: Lars Christensen <>
Subject: Re: 2.4.17 agpgart process hang on crash
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/2/141

On Sat, 2 Feb 2002, Alan Cox wrote:
> > Hi. I have experienced a problem with the combination of kernel-2.4.16,
> > the kernel agpgart module and NVIDIA supplied drivers. I don't know which
> > is the cause of the problem.
> >
>
> Please report problem with the nvidia drivers loaded to nvidia. They have
> the kernel source, we do not have their source code. Only they can help
> you.
I am sorry -- my initial testing weren't throurough enough. Now, booting
to single-user, without any drivers loaded, i can reproduce the bug:
modprobe agpart   # loads fine, AMD 761 chipset found
ulimit -c unlimited   # only occurs if core file sizes are written
./testgart &
pkill -ABRT testgart  # before testgart ends
testgart AND pkill process hang. Nothing will kill them. "pkill pkill"
hangs too :)
Testgart is the one by Jeff Hartman.
Doesn't seem to be NVIDIA drivers causing this. Note, with ulimit -c 0,
testgart terminates, printing "Aborted".
-- 
Lars Christensen, larsch@cs.auc.dk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/