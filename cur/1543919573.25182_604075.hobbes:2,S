Date: Fri, 12 Oct 2007 16:25:46 +0900
From: KAMEZAWA Hiroyuki <>
Subject: Re: 2.6.23-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/12/52

On Thu, 11 Oct 2007 23:42:02 -0700
Andrew Morton <akpm@linux-foundation.org> wrote:
> On Fri, 12 Oct 2007 14:03:28 +0900 KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com> wrote:
> 
> > On Thu, 11 Oct 2007 21:31:26 -0700
> > Andrew Morton <akpm@linux-foundation.org> wrote:
> > 
> > > 
> > > 
ftp://ftp.kernel.org/pub/linux/kernel/people/akpm/patches/2.6/2.6.23/2.6.23-mm1/
> > > 
> > > - I've been largely avoiding applying anything since rc8-mm2 in an attempt
> > >   to stabilise things for the 2.6.23 merge.
> > > 
> > On RHEL5/x86_64 environment,
> > 
> > ==
> > [kamezawa@hannibal ref-2.6.23-mm1]$ make menuconfig
> > Makefile:456: /home/kamezawa/ref-2.6.23-mm1/arch//Makefile: No such file or directory
> > make: *** No rule to make target `/home/kamezawa/ref-2.6.23-mm1/arch//Makefile'.  Stop.
> > ==
> > 
> > $(ARCH) cannot be detected automatically...
> 
> So you need to set $ARCH by hand?  I always do that so I didn't notice this.
> 
Yes, I need to set it by hand.
This is a quick fix for me......
Maybe $(ARCH) should be undefined until following .kbuild check.
ifneq ($(wildcard .kbuild),)
  ...
else
  ARCH ?= $(SUBARCH)
endif
-Kame
--
Index: ref-2.6.23-mm1/Makefile
===================================================================
--- ref-2.6.23-mm1.orig/Makefile
+++ ref-2.6.23-mm1/Makefile
@@ -191,7 +191,6 @@ SUBARCH := $(shell uname -m | sed -e s/i
 
 # The empty ARCH and CROSS_COMPILE statements exist so it is easy to
 # patch in hardcoded values for ARCH and CROSS_COMPILE
-ARCH		?=
 CROSS_COMPILE	?=
 
 # Kbuild save the ARCH and CROSS_COMPILE setting in .kbuild
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/