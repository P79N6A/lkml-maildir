Date: Tue, 25 Jun 2002 13:58:01 -0500
From: "Niels Christiansen" <>
Subject: Re: [Lse-tech] Re: efficient copy_to_user and copy_from_user routines in Linux Kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/25/72

Indeed, I ordered a P4 for these tests while still at IBM but AMD boxes are
not available to Mala, I believe.  Before I got sacked, I even bought a P4
to test this and other things at home but I lost interest in the matter so
never actually got around to testing.
When I did test back in February I created a few test programs and found
that the code generated by GCC Version 3.x and the library that came with
RedHat 6.2 gave almost as good results as the patches Mala then had
available.  Maybe it is time to see if the compiler has improved enough to
scrap the copy code in the kernel in favor of code as generated by the
compiler.
Niels
----- Original Message -----
From: "Andrew Morton" <akpm@zip.com.au>
To: "Mala Anand" <manand@us.ibm.com>
Cc: "Linux Kernel Mailing List" <linux-kernel@vger.kernel.org>;
<lse-tech@lists.sourceforge.net>
Sent: Tuesday, June 25, 2002 12:03 PM
Subject: [Lse-tech] Re: efficient copy_to_user and copy_from_user routines
in Linux Kernel
> Mala Anand wrote:
> >
> > Here is a 2.5.19 patch that improves the performance of IA32
copy_to_user
> > and copy_from_user routines used by :
> >
> > (1) tcpip protocol stack
> > (2) file systems
> >
>
> One question:  have you tested on other CPU types?  This problem is
> very specific to Intel hardware.  On AMD, the eight-byte alignement
> artifact does not exist at all.  It could be that your patch is not
> desirable on such CPUs?
>
> -------------------------------------------------------
> This sf.net email is sponsored by: Jabber Inc.
> Don't miss the IM event of the season | Special offer for OSDN members!
> JabConf 2002, Aug. 20-22, Keystone, CO 
http://www.jabberconf.com/osdn
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/