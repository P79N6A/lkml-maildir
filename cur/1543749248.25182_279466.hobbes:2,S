Date: Thu, 16 Dec 2004 13:19:06 +0000
From: Alan Cox <>
Subject: Re: arch/xen is a bad idea
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/16/70

On Iau, 2004-12-16 at 14:09, Andi Kleen wrote:
> Also e.g. for non performance critical 
> things like changing MTRRs or debug registers it would be IMHO much 
> cleaner to just emulate the instructions (the ISA is very well 
> defined) and not change the kernel here.  From a look at Ian's list
> the majority of the changes needed for Xen actually fall into
> this category. 
There are so many problems in snooping and decoding instructions it
isn't funny. Aside from the mmap pci buffer half way through instruction
that will emulate type stuff there are a lot of awkward issues if you
want to emulate multiple mtrr sets (you need PAT).
Xen has tried the decode/patch stuff earlier - see the early NPTL
handling and it was neither pretty nor reliable.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/