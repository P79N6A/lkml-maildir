Date: Sun, 25 Sep 2005 11:56:18 +0100
From: Chris Sykes <>
Subject: Re: Hang during rm on ext2 mounted sync (2.6.14-rc2+)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/25/36

On Sat, Sep 24, 2005 at 10:39:46AM -0700, Andrew Morton wrote:
> >  I'll build a kernel with CONFIG_EXT2_FS_XATTR disabled and see if that
> >  also makes the issue go away.
> 
> Yup.  I thought I already tested wth your .config?
Hmm.  You said that everything looked OK at your end.  I've dug out a
P4 Xeon & booted an affected kernel on it.  I get the stuck 'rm'
processes there as well.  So it doesn't appear to be IDE chipset
dependant (ICH5 vs ServerWorks).
If nobody else is seeing this then I guess it could be a local
toolchain issue?.  I'm running (and compiling on) Ubuntu Hoary.
Linux cooper 2.6.14-rc2-g6cb2defe #4 SMP PREEMPT Sun Sep 25 10:21:14
BST 2005 i686 GNU/Linux
Gnu C                  3.3.5
Gnu make               3.80
binutils               2.15
util-linux             2.12p
mount                  2.12p
module-init-tools      3.1
e2fsprogs              1.35
jfsutils               1.1.6
reiserfsprogs          3.6.19
reiser4progs           1.0.3
xfsprogs               2.6.20
quota-tools            3.12.
PPP                    2.4.2
nfs-utils              1.0.6
Linux C Library        2.3.2
Dynamic linker (ldd)   2.3.2
Procps                 3.2.4
Net-tools              1.60
Console-tools          0.2.3
Sh-utils               5.2.1
udev                   050
Modules Loaded         binfmt_misc cpufreq_userspace cpufreq_stats
freq_table cpufreq_powersave cpufreq_ondemand cpufreq_conservative
video thermal processor fan container button battery ac ipv6 sk98lin
skge snd_intel8x0 snd_ac97_codec snd_ac97_bus snd_pcm_oss
snd_mixer_oss snd_pcm snd_timer snd soundcore snd_page_alloc i2c_i801
generic hw_random intel_agp agpgart 8250_pnp 8250 serial_core floppy
pcspkr rtc psmouse parport_pc lp parport ide_generic ide_cd cdrom
mousedev tsdev
Anything else I should try?  CONFIG_PREEMPT?  CONFIG_SMP?
-- 
(o-  Chris Sykes
//\       "Don't worry. Everything is getting nicely out of control ..."
V_/_                          Douglas Adams - The Salmon of Doubt
GPG Fingerprint: 5E8E D17F F96C CC08 911D  CAF2 9049 70D8 5143 8090
[unhandled content-type:application/pgp-signature]