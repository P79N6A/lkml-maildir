Date: Sat, 19 Jun 2004 14:15:24 -0700
From: Tony Lindgren <>
Subject: Re: DMA API issues
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/19/155

* Ian Molton <spyro@f2s.com> [040618 17:34]:
> On Fri, 18 Jun 2004 20:22:07 -0400
> Jeff Garzik <jgarzik@pobox.com> wrote:
> 
> > > my CPU can write directly to this 32K of SRAM. the chip can DMA from
> > > it.
> > 
> > 
> > Yes, write via MMIO.  Non-local RAM is not DMA.
> 
> I fail to see your point. this is NOT MMIO. in MMIO you write and the
> device reads as you write. in DMA, you write and then tell the chip to
> read from the memory you wrote to.
<snip>
I could possibly see some use for allowing multiple DMA domains in
addition to the system memory. Maybe something to allow overriding
the dma allocator per device? We could have optional dev->map() and
unmap(), and then use the dma-mapping API only to keep track of what's
allocated.
But I don't know how much sense that makes because there would be
only one driver using that DMA buffer. The DMA area would not be 
shared with other drivers like the system memory is.
So maybe the only advantage would be to allow more portable generic
device drivers.
Luckily I don't need this right now :)
Tony
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/