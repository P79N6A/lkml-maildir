Date: Sat, 13 Oct 2007 06:55:03 -0400
From: Jeff Garzik <>
Subject: Re: 2.6.23-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/13/71

Torsten Kaiser wrote:
> On 10/12/07, Andrew Morton <akpm@linux-foundation.org> wrote:
>> On Fri, 12 Oct 2007 10:31:42 +0200 "Torsten Kaiser" <just.for.lkml@googlemail.com> wrote:
>>> Oct 12 10:23:03 treogen smartd[6091]: Device: /dev/sdc, not found in
>>> smartd database.
>> hm.
>>
>>> Oct 12 10:23:03 treogen [  105.990000] WARNING: at
>>> drivers/ata/libata-core.c:5752 ata_qc_issue()
>> Let's cc linux-ide.
>>
>>> Oct 12 10:23:03 treogen [  105.990000]
>>> Oct 12 10:23:03 treogen [  105.990000] Call Trace:
>>> Oct 12 10:23:03 treogen [  105.990000]  [<ffffffff804442ef>]
>>> ata_qc_issue+0x47f/0x540
>>> Oct 12 10:23:03 treogen [  105.990000]  [<ffffffff80432e60>] scsi_done+0x0/0x20
>>> Oct 12 10:23:03 treogen [  105.990000]  [<ffffffff80449c80>]
>>> ata_scsi_flush_xlat+0x0/0x30
> Oct 13 07:46:48 treogen [   99.850000]
> Oct 13 07:46:48 treogen [   99.850000] ata3: EH in SWNCQ
> mode,QC:qc_active 0x3 sactive 0x1
> Oct 13 07:46:48 treogen [   99.850000] ata3: SWNCQ:qc_active 0x1
> defer_bits 0x0 last_issue_tag 0x0
The WARNING indicates that there is a SWNCQ bug in sata_nv.  Given that 
the problem appears when SYNCHRONIZE CACHE is being issued, I would 
guess that sata_nv is not properly handling non-queued commands.
NVIDIA CC'd.
This is a patch from libata-dev.git#nv-swncq (via #ALL).
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/