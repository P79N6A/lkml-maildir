Date: Wed, 13 Jan 1999 12:17:18 CET
From: "Fausto Saporito" <>
Subject: Re: 3c59x problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/13/66

Hello,
>
>Version 0.99H of the driver (in 2.2.0pre6) does this for me.  I seem to
>remember that this was reported some time ago (like back in november 
when
>the driver first appeared).  Reverse the patch to 3c59x.c and it works
>again.
I have a similar problem with 3c905TX card.
I have RedHat 5.2 (i386) with 2.2.0pre6, when I start the network 
scripts, and in detail ifup script, my ifconfig dies and hangs.
Then if I try to run, in another shell, another ifconfig (without 
parameter) I have the same result. My net-tools are 1.49 and ifconfig's 
version is 1.37
I try with 2.2.0 pre3 and 2.1.131 but I have the same result.
These are the messages at boot time:
3c59x.c:v0.99H 11/17/98 Donald Becker 
http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html
eth0: 3Com 3c905 Boomerang 100baseTx at 0xdc00,  00:60:08:06:3d:b4, IRQ 
9
  8K word-wide RAM 3:5 Rx:Tx split, autoselect/MII interface.
  MII transceiver found at address 24, status 786d.
  Enabling bus-master transmits and whole-frame receives.
Then this is the output of vortex-diag (a Becker's utility taken from 
his site).
1) -aa options (device register)
vortex-diag.c:v1.05 5/22/98 Donald Becker (becker@cesdis.gsfc.nasa.gov)
Found a 3Com PCI Ethernet 3c905 rev 0 at 0xdc00.
The Vortex chip may be active, so FIFO registers will not be read.
To see all register values use the '-f' flag.
Initial window 7, registers values by window:
  Window 0: 0000 0000 0000 0000 0000 00bf ffff 0000.
  Window 1: FIFO FIFO 0000 2000 8000 00ff 13fc 2000.
  Window 2: 6000 0608 b43d 0000 0000 0000 06c6 4000.
  Window 3: 02d8 0163 0000 0000 e040 0bff 13ff 6000.
  Window 4: 0000 06d0 0000 0cc0 0003 8802 0000 8000.
  Window 5: 1ffc fffc 06c6 0600 0007 06de 06c6 a000.
  Window 6: 0000 0000 0000 7c00 0000 2502 0000 c000.
  Window 7: 71b8 0000 0000 0000 8000 00ff 5000 e000.
Vortex chip registers at 0xdc00
  0xDC10: **FIFO** **FIFO** 00008000 000013fc
  0xDC20: 00000021 00000000 03bb8012 060005d2
  0xDC30: 00000000 00009f6d 000071c0 00000000
 No interrupt sources are pending.
 Transceiver/media interfaces available:  MII.
 MAC settings: half-duplex.
2) -e (EEPROM contents)
vortex-diag.c:v1.05 5/22/98 Donald Becker (becker@cesdis.gsfc.nasa.gov)
Found a 3Com PCI Ethernet 3c905 rev 0 at 0xdc00.
EEPROM contents:
  0060 0806 3db4 9050 a04d 0036 4b4b 6d50
  0418 0000 0060 0806 3db4 0010 0000 0000
  10a6 0000 02d8 0163 0000 0002 0000 0026
  ffff ffff ffff ffff ffff ffff ffff ffff
  ffff ffff ffff ffff ffff ffff ffff ffff
  ffff ffff ffff ffff ffff ffff ffff ffff
  ffff ffff ffff ffff ffff ffff ffff ffff
  ffff ffff ffff ffff ffff ffff ffff ffff
 The word-wide EEPROM checksum is 0x8eab.
Parsing the EEPROM of a 3Com Vortex/Boomerang:
 3Com Node Address 00:60:08:06:3D:B4 (used as a unique ID only).
 OEM Station address 00:60:08:06:3D:B4 (used as the ethernet address).
 Manufacture date (MM/DD/YY) 2/13/80, division 6, product KK.
Options: .
  Vortex checksum is 26 (vs. 26),Cyclone checksum is 00 (vs. ffff).
3) -mm (MII registers)
vortex-diag.c:v1.05 5/22/98 Donald Becker (becker@cesdis.gsfc.nasa.gov)
Found a 3Com PCI Ethernet 3c905 rev 0 at 0xdc00.
 MII PHY found at address 24, status 786d.
 MII PHY 0 at #24 transceiver registers:
   3100 786d 2000 5c01 01e1 0021 0000 0000
   0000 0000 0000 0000 0000 0000 0000 0000
   0000 0000 0000 0000 0000 0000 0001 8060
   8020 0c58 0000 3000 a3b9 0080 c405 001d.
______________________________________________________
Get Your Private, Free Email at 
http://www.hotmail.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/