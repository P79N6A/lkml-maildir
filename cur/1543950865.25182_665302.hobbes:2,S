Date: Sat, 8 Mar 2008 13:45:43 -0500
From: Christoph Hellwig <>
Subject: Re: [PATCH 2/3] jbd2: replace potentially false assertion with if block
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/8/88

On Sat, Mar 08, 2008 at 06:37:08PM +0000, Duane Griffin wrote:
> Sorry if I'm missing something here, but I think the caches do need to
> be checked. If jbd/ext3 are not modular then even if initialisation
> fails the journal code may still be called later. I noticed this when
> testing the failure modes after making my original fix.
Doh, I think you're right.  Just because jbd initialization fails
ext3 could succeed later on.   We probably want to make ext3
initialization fail early in that case through an exported flag.
> I've modified my changes to match the way you suggested doing things
> in your earlier reply (and thanks for the review, BTW). If you would
> prefer I'll rework my changes as a separate patch on top. Just let me
> know.
I don't really care how it's delivered.  Just consider my patches a 
scetch and do whatever you think is best with them.