Date: Wed, 18 Oct 2006 17:14:59 +0200
From: (Joerg Schilling)
Subject: Re: Linux ISO-9660 Rock Ridge bug needs fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/18/185

Bodo Eggert <7eggert@elstempel.de> wrote:
> Luca Tettamanti <kronos.it@gmail.com> wrote:
>
> > +++ b/fs/isofs/rock.c
>
> > +
> > +                     /* Rock Ridge V1.12, override inode number */
> > +                     if (rr->len == 44)
> > +                             inode->i_ino = isonum_733(rr->u.PX.inode);
>
> I think it's wrong again, it will break as soon as rockridge 1.13 defines
> an additional field. s,==,>=, should do the trick.
>
> BTW and without digging in the code: Since version 2 will be binary
> incompatible, is there a version check?
There is de-facto no consistency check on Linux.
It would be easy to create special ISO images that cause Linux to panic from 
many other places in the ISO-9660 code.
> BTW2, Just to be cautionous: what will happen if somebody forces the same
> inode number on two different entries?
What happenes when somebody set the traffic light to "green" in all directions?
What happenes if someone sets the same inode number for different files on UDF?
This is something you cannot check.
Jörg
-- 
 EMail:joerg@schily.isdn.cs.tu-berlin.de (home) Jörg Schilling D-13353 Berlin
       js@cs.tu-berlin.de                (uni)  
       schilling@fokus.fraunhofer.de     (work) Blog: 
http://schily.blogspot.com/
 URL:  
http://cdrecord.berlios.de/old/private/
 
ftp://ftp.berlios.de/pub/schily
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/