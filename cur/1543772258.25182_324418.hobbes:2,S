Date: Thu, 9 Jun 2005 16:20:59 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: PROBLEM: Devices behind PCI Express-to-PCI bridge not mapped
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/9/204

On Fri, 10 Jun 2005, Andreas Koch wrote:
>
> I did some more experimentation, and to my great the surprise, the
> serial port on the dock _is_ functioning, even when the rest of the
> dock is dead.
I wonder whether the bridge is effectively a negative decode thing, and 
the only "real" problem is that because the kernel doesn't know that, it 
doesn't know that it can allocate just about any resource at all on the 
other end..
It would be pretty strange, since the PCI spec (afaik, and for pretty
obvious reasons) disallows two negative bridges on the same bus (and you
already have the other mobile bridge there), but it's technically possible
if they just have different priorities for how fast they react to a PCI
address cycle and claim it.
Ivan, can you cook up some silly patch that just marks that one device 
transparent, and see if that "just fixes it".
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/