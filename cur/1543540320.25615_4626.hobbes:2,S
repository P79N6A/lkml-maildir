Date: Sun, 30 Jul 2000 20:13:31 -0400 (EDT)
From: Alexander Viro <>
Subject: Re: [RFC][Long][Horror story] Mount flags
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/30/77

On Sun, 30 Jul 2000, Mitchell Blank Jr wrote:
> Andries Brouwer wrote:
> > > Moreover, we can't do anything about the 0xc0ed kludge
> > 
> > Why not? If the first bit of flags is 1, check that the
> > first 16 bits are 0xc0ed. If not, decode the following
> > 15 bits.
> 
> Actually, if you want to get really gross, you don't even need to sacrafice
> a bit, since the MS_{RENAME,AFTER,BEFORE,OVER} only needs log2(5) bits.
> So you just make the top 3 bits:
> 
> 	000 - plain mount
> 	001 - MS_RENAME
		 REMOUNT, I suppose?
> 	010 - MS_AFTER
> 	011 - MS_BEFORE
> 	100 - MS_OVER
> 	101 - undefined
> 	110 - old-stle C0ED mount
> 	111 - undefined
Oh, yes. And to make the analogy perfect let 0xf00fc7c[8-f] and several
other (undocumented) values hang the box.
> Of course, since I've made a duggestion that gross, Al's probably going to
> hunt me down, so I'm going to go hide now :-)
Nah, I'm too lazy even for the most logical step - sending a recommendation
letter to Intel....
Seriously, guys, syscalls are new instructions we add to assembler. Remember
how it started? Right, UUOs. And IMO there is no good reason for playing 8086
"architects".
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/