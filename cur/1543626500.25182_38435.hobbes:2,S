Date: 03 Apr 2002 20:57:24 -0600
From: Alvaro Figueroa <>
Subject: "Disk Sleep" status on qlogic scsi sbus card on a sparc station 20 (sparc32, 2.4.17)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/3/183

I know sparc32 is not mantained any more, but I'm still posting in case
this problem with give light to a problem that might apear on another
arquitecture.
I'm running kernel 2.4.17 on a sparc station 20 (with 2 procesors)
running splack -current.
I have a scsi qlogic sbus card on this box on with I attatch an scsi
tape or a multipack storage with some 8 to 12 disks on it.
While I run diferent aplications (not at a time) that are some I/O
intensive on the devices attatched to this qlogic card and I sometimes
see some huge sleeps on the process that is working on them.
I cat'ed /proc/{PID}/status and I see "State:  D (disk sleep)".
Sometimes the process goes on working, but not often. I also can't send
this process to sleep nor I can kill them.
I have used tar to back up an filesystem to a DD3 tape, and have also
used rsync from another host (On a 100Mb LAN) to a raid formed by the
disks that are attatched to the controller.
BTW, this does *NOT* occur on an ultra1 box (which is sparc64) running
the same kernel version, and with the same set of disk or the same tape
with the same qlogic scsi sbus card.
What test could I run on this box to give some more information to you
guys that would help to resolve this problem?
Or else, what could be that problem, and what could I do to solve it?
Thanks in advance.
-- 
Alvaro Figueroa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/