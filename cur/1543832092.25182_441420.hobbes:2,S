Date: Fri, 07 Jul 2006 07:07:31 +0200
From: "Michael Kerrisk" <>
Subject: Re: Re: Strange Linux behaviour with blocking syscalls and stop signals+SIGCONT
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/7/11

Von: Ulrich Drepper <drepper@redhat.com>
> sem_wait() is another case.  Here the EINTR handling is exposed to the
> programmer.  Currently, as I understand it, even SA_RESTART handlers
> cause EINTR to be returned.  
Yes, this is true for sem_wait().
> Yes, this usually correct but it  might
> disrupt existing code.
> 
> This is why I'd caution anybody who thinks about changing something in
> this area.  *I* could live with it, I can fix and recompile all the code
> I use.  But others aren't that lucky.
Yes; this is why I'm only proposing to change EINTR to ERESTARTNOHAND
at the moment.  The only userspace visible change that I think
this will bring about is in the stop+SIGCONT case.  Changing EINTR
to ERESTARTSYS is likely to have more impact on userland (though 
it still strikes me as a desirable gola to have all system calls 
restartable via SA_RESTART).
Cheers,
Michael
-- 
"Feel free" â€“ 10 GB Mailbox, 100 FreeSMS/Monat ...
Jetzt GMX TopMail testen: 
http://www.gmx.net/de/go/topmail
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/