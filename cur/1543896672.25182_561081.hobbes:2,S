Date: Fri, 22 Jun 2007 16:42:00 +0400
From: Sergei Shtylyov <>
Subject: Re: [RFC] clocksouce implementation for powerpc
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/22/139

Tony Breeds wrote:
> 	Thanks for taking the time to look over my patch.
>>   I guess it's been based on the prior work by John Stultz (and me too :-)?
> At some level I guess so.  John did send me a patch a while ago.
>>   If you mean the init. part, this has been already done by me -- I've 
>>implemented read_persistent_clock() and got rid of xtime setting. What's 
>>left is to implemet update_persistent_clock() and get rid of 
>>timer_check_rtc()...
> Actually I think that comment is redundant.  and should be removed
> sorry.
    I guess you haven't looked thru the -rt patch? There's much more than 
John's initial patch there now, including the clockevents driver.
>>>+	.mult         = 0,	/* To be filled in */
>>>+	.read         = NULL,   /* To be filled in */
>>>+	.settimeofday = NULL,   /* To be filled in */
>>
>>   I don't quite understand why not just init them right away?  The values 
>>are fixed anyways.
> Well at least mult needs to be calculated at runtime, and I prefer to
    I was talking about the method intializers specifically.
> have the structure near the top of the file at which stage the
> read/settimeofday functions aren't defined.
    I don't think it's justified anyway.
> Yours Tony
WBR, Sergei
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/