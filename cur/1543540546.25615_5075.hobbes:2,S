Date: Wed, 2 Aug 2000 11:08:14 MET-1
From: "Petr Vandrovec" <>
Subject: Re: modutils and 2.4.0-test6-pre1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/2/25

On  2 Aug 00 at 9:48, Keith Owens wrote:
> You reported a problem with modutils for 2.4.0-test6-pre1, depmod was
> scanning all of the new build symlink.  Running my own tests I cannot
> reproduce this, unless I have a path entry for /lib/modules/`uname -r`
> in /etc/modules.conf.  I am guessing that either you or Debian added
> that path to modutils or modules.conf.  Can you confirm this?  The
> output from "modprobe -c | grep path" will show all the paths.
> 
> I need to know why your system is running the symlink before I can
> decide how to fix this problem.
I was thinking about this too - but I did not find anything unusual...
path[boot]=/lib/modules/boot
path[fs]=/lib/modules/2.4.0-test6-pre1-smp/fs
path[net]=/lib/modules/2.4.0-test6-pre1-smp/net
path[scsi]=/lib/modules/2.4.0-test6-pre1-smp/scsi
...
path[ide]=/lib/modules/ide
path[ieee1394]=/lib/modules/ieee1394
path[video]=/lib/modules/2.4.0-test6-pre1-smp
path[misc]=/lib/modules/extra
Well, now I see it... path[video]=... comes from very old times
when modprobe did not search /video, and 'video' was appended 
automagically in path[] entries. Sorry for confusion,
it was very old configuration mistake revealed by 'build' symlink :-(
                                                    Petr Vandrovec
                                                    vandrove@vc.cvut.cz
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/