Date: Thu, 09 Mar 2000 13:50:21 +1100
From: Keith Owens <>
Subject: Re: [PATCH] towards a /proc-less user space
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/8/169

On Wed, 8 Mar 2000 16:24:01 -0700, 
Erik Andersen <andersen@xmission.com> wrote:
>I just downloaded the source to modutils-2.1.121, 
>modutils-2.2.2-pre8, and modutils-2.3.9 and every 
>one of them has:
>
>    open("/proc/modules", O_RDONLY)
>
>in insmod/lsmod.c along with the comment
>
>    /* We've got no other option but to read /proc.  */
For root users, lsmod uses query_module.  For non root users, it reads
/proc/modules.  No idea why it was coded that way, sys_query_module can
be used by anybody.  Looks like a mistake, other module syscalls are
root only but query_module is generally available.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/