Date: Sat, 4 Dec 1999 00:38:24 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [linux-usb] URB-ifying usb
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/4/11

[ back to work.. ugh ]
On Tue, 30 Nov 1999, Johannes Erdfelt wrote:
> 
> Please don't apply this yet. There are still some places where the API
> is ill defined and even more important, the UHCI driver included here is
> not safe. There are many places where it doesn't adhere to API as well
> as race conditions in the removal of TD's.
Also, the following seems to need serious cleanup in the URB code:
 - horrible mixed indentation. Some of the code uses the silly GNU indent
   style, which is unreadable and evil.
 - what's the deal with the error codes? Makes no sense at all to me. Why
   come up with a new way of specifying errors, when there's existing
   practice that is (a) existing and (b) a lot more readable and clear.
The existing error handling practice is very simple: _explicitly_ negative
error numbers, with the numbers simply being errno values. Get rid of that
stupid USB_ST_xxxx crap completely, and just use "-Exxxx" consistently.
I'm entirely open to the new URB's, as everybody I've seen seems to agree
with the basic need for them, but I don't want to have stupid things
introduced with the new code.
I'm less worried than JE about early code: I'd rather cut over to the new
architecture earlier rather than later.  So please do the cleanups, and
I'll be happy to apply it if people in general don't scream..
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/