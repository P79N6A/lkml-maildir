Date: Fri, 14 Dec 2007 23:20:30 -0800 (PST)
From: Matti Linnanvuori <>
Subject: /dev/urandom uses uninit bytes, leaks user data
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/15/30

From: Matti Linnanvuori <mattilinnnvuori@yahoo.com>
/dev/urandom use no uninit bytes, leak no user data
Signed-off-by: Matti Linnanvuori <mattilinnnvuori@yahoo.com>
---
--- a/drivers/char/random.c	2007-12-15 09:09:37.895414000 +0200
+++ b/drivers/char/random.c	2007-12-15 09:12:02.607831500 +0200
@@ -689,7 +689,7 @@ static ssize_t extract_entropy(struct en
  */
 static void xfer_secondary_pool(struct entropy_store *r, size_t nbytes)
 {
-	__u32 tmp[OUTPUT_POOL_WORDS];
+	static __u32 tmp[OUTPUT_POOL_WORDS];
 
 	if (r->pull && r->entropy_count < nbytes * 8 &&
 	    r->entropy_count < r->poolinfo->POOLBITS) {
      Machen Sie Yahoo! zu Ihrer Startseite. Los geht's: 
http://de.yahoo.com/set