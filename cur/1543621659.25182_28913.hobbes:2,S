Date: Mon, 18 Feb 2002 23:32:03 +0100 (CET)
From: Tim Schmielau <>
Subject: Re: jiffies rollover, uptime etc.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/18/131

On Mon, 18 Feb 2002, Ben Greear wrote:
> I wonder, is it more expensive to write all drivers to handle the
> wraps than to take the long long increment hit?  The increment is
> once every 10 miliseconds, right?  That is not too often, all things
> considered...
This is just a matter of getting the signed/unsigned declarations right in 
comparisons. (time_before and time_after macros were introduced to aid 
here, hint!)
No overhead is involved here.
Actually, quite a few bug fixes in this area went into 2.4.18pre, with
some more to come in 2.4.19pre.
> 
> Maybe the non-atomicity of the long long increment is the problem?
Yes.
> Does this problem still exist on 64-bit machines?
> 
No.
> THanks,
> Ben
Tim
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/