Date: 03 May 2002 10:53:57 -0400
From: Jason Baietto <>
Subject: 2.4.18+O(1) tcp timewait zombies
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/3/98

Hi all,
After upgrading from stock 2.4.17 to 2.4.18 (with O(1) scheduler
patch) I'm seeing some strange networking behavior.  Basically,
upon exit rsh connections seem to go into TIME_WAIT, count down
to zero, and then stick around forever.  For example:
   compy$ rsh hyena echo hello < /dev/null
   hello
   compy$
This leaves a socket connnection in TIME_WAIT state:
   tcp        ...         TIME_WAIT   timewait (51.75/0/0)
However, the strange thing is that after the connection times
out, it sticks around.  I've got hundreds of these connections
open that look like this:
   tcp        ...         TIME_WAIT   timewait (0.00/0/0)
And never seem to go away.  Eventually, this causes me to
get this message whenever I try to do an new rsh:
   socket: All ports in use
Can anyone offer me any advice on how to debug this?
Take care,
Jason
--
Jason Baietto
jason.baietto@ccur.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/