Date: Sat, 01 Jan 2005 16:56:15 +0100
From: Pierre Ossman <>
Subject: Re: APIC, changing level/edge interrupt
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/1/24

Tim Hockin wrote:
>On Tue, Dec 28, 2004 at 06:27:25PM +0100, Pierre Ossman wrote:
> 
>
>>How do you tell the APIC that a device uses level triggered interrupts, 
>>not edge triggered? I have a flash reader on the LPC bus which uses 
>>level triggered interrupts and /proc/interrupts show edge triggered. 
>>Some interrupts are missed by the APIC so I figured this might be why.
>> 
>>
>
>BIOS should set this up.  Maybe ACPI has a way to do this?
> 
>
Should doesn't always mean that it actually does ;)
But since BIOS can configure the APIC then the kernel should be able to 
also. A quick and dirty hack will suffice ATM since I just want to 
pinpoint where the problem is.
What is the default mode and what does the XT-PIC expect? (it works fine 
with the apic disabled).
ACPI might have some functions to configure the APIC correctly but right 
now the connection between ACPI and drivers is rather weak (non-existant 
for this driver) so that's not really a viable solution when testing. 
Might be a good long term solution though.
Rgds
Pierre
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/