Date: Tue, 17 Dec 2002 17:01:31 +0100
From: Thomas Schlichter <>
Subject: Compile warnings due to missing __inline__ in fs/xfs/xfs_log.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/12/17/79

As the __inline__ directive in front of the _lsn_cmp function is not used with
the gcc version 2.95.x, compile-warnings result from many files including this
header-file.
Is there any reason why this function is not inlined with these compiler
versions? As I used following patch and compiled the kernel with my
gcc2.95.3(SuSE) and an other gcc2.95.4(Debian) these compiler warnings
disappeared and no additional warning or error occured...
Is there an difference between '__inline__' and 'inline'?
Is 'inline' not part of the ANSI-C standard and so should be preferred?
Thanks
  Thomas Schlichter
diff -u linux-2.5.52/fs/xfs/xfs_log.h linux-2.5.52_patched/fs/xfs/xfs_log.h
--- linux-2.5.52/fs/xfs/xfs_log.h	Mon Dec 16 03:08:24 2002
+++ linux-2.5.52_patched/fs/xfs/xfs_log.h	Tue Dec 17 15:00:13 2002
@@ -52,12 +52,7 @@
  * By comparing each compnent, we don't have to worry about extra
  * endian issues in treating two 32 bit numbers as one 64 bit number
  */
-static
-#ifdef __GNUC__
-# if !((__GNUC__ == 2) && (__GNUC_MINOR__ == 95))
-__inline__
-#endif
-#endif
+static inline
 xfs_lsn_t	_lsn_cmp(xfs_lsn_t lsn1, xfs_lsn_t lsn2, xfs_arch_t arch)
 {
 	if (CYCLE_LSN(lsn1, arch) != CYCLE_LSN(lsn2, arch))
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/