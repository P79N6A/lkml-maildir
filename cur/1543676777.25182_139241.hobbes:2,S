Date: Tue, 10 Jun 2003 16:01:02 -0400
From: Daniel Ritz <>
Subject: Re: [PATCH 2/2] xirc2ps_cs update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/10/129

On Tuesday 10 June 2003 11:46, Jeff Garzik wrote:
> On Tue, Jun 10, 2003 at 05:35:18PM +0200, Geller Sandor wrote:
> > On Tue, 10 Jun 2003, Daniel Ritz wrote:
> > > -    busy_loop(HZ/25);		     /* wait 40 msec */
> > > +    Wait(HZ/25);		     /* wait 40 msec */
> >
> > Why not Wait(40); instead Wait(HZ/25) ? Currently HZ is 1000. However,
> > the value can change - as it changed from 100 to 1000.
>
> True enough...  the best solution is to grep the tree for a
> msecs_to_jiffies macro, and use that.  Then it will look like
>
hmm...yes, but the macro is defined in include/net/irda/irda.h
move it to a place where everyone can use it? like time.h or kernel.h?
> 	Wait(msecs_to_jiffies(40))
i would do it in the Wait macro. looks nicer..
and also define the Wait macro (with a better name, suggestions?)
somewhere else, 'cos other drivers use set_current_state(); schedule_timeout()
too..
>
> and the macro does the proper scaling versus constant HZ.
>
> 	Jeff
-daniel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/