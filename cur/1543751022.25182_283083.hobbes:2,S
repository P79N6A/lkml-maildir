Date: Wed, 5 Jan 2005 00:05:45 +0100 (CET)
From: Jesper Juhl <>
Subject: Re: Very high load on P4 machines with 2.4.28
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/4/302

On Tue, 4 Jan 2005, Nicholas Berry wrote:
> >>> Willy Tarreau <willy@w.ods.org> 01/04/05 5:05 PM >>>
> >> Oh, while I'm at it, are you using hyperthreading, and if so, could
> you
> >> disable it ? I have seen many cases where it degrades performances
> >> significantly (eg: highly loaded user space network applications).
> 
> >Willy
> 
> Indeed. AIX (sorry) 5.3 on POWER5 explicitly disables SMT (IBM
> hyperthreading) if the load doesn't warrant it.
> 
Heh, yeah, that's pretty funky. I was initially pretty baffled first time 
topas on a AIX 5.3 box showed me I had 6 CPU's but quitting it and 
starting it 2sec later showed me 8 CPU's (box has 4 physical CPUs). That 
send me hunting through docs. On the surface it seems like a nice feature, 
but if it makes any real difference or not I've had difficulty in 
determining.
-- 
Jesper Juhl
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/