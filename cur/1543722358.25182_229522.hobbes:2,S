Date: Wed, 23 Jun 2004 04:24:49 +0100 (IST)
From: Paul Jakma <>
Subject: Re: [PATCH] fix sata_sil quirk
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/22/352

On Tue, 22 Jun 2004, Jeff Garzik wrote:
> Here's my suggested fix...  good catch Ricky.
>
> Yes, unfortunately performance will be dog slow.
>
> Silicon Image 311x is fully SATA compliant -- but it's the only controller 
> that sends odd-sized packets to the SATA device.  That causes no end of 
> problems, including the thing that SIL_QUIRK_MOD15WRITE attempts to work 
> around.
As an extra data point, i have:
# cat /proc/scsi/scsi
Attached devices:
Host: scsi0 Channel: 00 Id: 00 Lun: 00
   Vendor: ATA      Model: WDC WD1600JD-00G Rev: 02.0
   Type:   Direct-Access                    ANSI SCSI revision: 05
Host: scsi1 Channel: 00 Id: 00 Lun: 00
   Vendor: ATA      Model: WDC WD1600JD-00G Rev: 02.0
   Type:   Direct-Access                    ANSI SCSI revision: 05
Host: scsi2 Channel: 00 Id: 00 Lun: 00
   Vendor: ATA      Model: WDC WD1600JD-00G Rev: 02.0
   Type:   Direct-Access                    ANSI SCSI revision: 05
# lspci  | grep Sil
00:09.0 RAID bus controller: Silicon Image, Inc. (formerly CMD 
Technology Inc) Silicon Image Serial ATARaid Controller [ CMD/Sil
3112/3112A ] (rev 02)
00:0a.0 RAID bus controller: Silicon Image, Inc. (formerly CMD 
Technology Inc) Silicon Image Serial ATARaid Controller
[ CMD/Sil 3112/3112A ] (rev 02)
# modinfo sata_sil
author:         Jeff Garzik
description:    low-level driver for Silicon Image SATA controller
license:        GPL
vermagic:       2.6.6-1.397.root K6 REGPARM gcc-3.3
And am not having (touch wood) any stability problems using these 
disks with linux md RAID1 and RAID5. Though, they're in a K6-II 350, 
so performance is slow anyway. (i get about 25MB/s absolute max 
reading from a RAID-5 array).
  > 	 Jeff
regards,
-- 
Paul Jakma	paul@clubi.ie	paul@jakma.org	Key ID: 64A2FF6A
 	warning: do not ever send email to spam@dishone.st
Fortune:
A bird in the hand makes it awfully hard to blow your nose.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/