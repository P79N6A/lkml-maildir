Date: Mon, 25 Oct 2004 16:09:51 -0700
From: George Anzinger <>
Subject: Re: [PATCH] kernel/timer.c: xtime lock missing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/25/492

Benjamin LaHaise wrote:
> On Thu, Oct 21, 2004 at 01:23:32PM -0700, john stultz wrote:
> 
>>Looking at the comment above that function, the xtime_lock should
>>already be held when executing that code. timer_interrupt() should be
>>the function which grabs the lock and calls do_timer_interrupt() then
>>do_timer() then update_times().
>>
>>Or am I missing something?
> 
> 
> No, you're right; I'm blind.  That is a very distant chain between where 
> the lock is acquired and where it matters, perhaps a few more comments 
> are in order.
If memory serves, there is a problem here in that the lock is taken in arch code 
and not all archs are taking it.  I think a check of the several arch time.c 
callers might be in order.
-- 
George Anzinger   george@mvista.com
High-res-timers:  
http://sourceforge.net/projects/high-res-timers/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/