Date: Thu, 27 Jan 2000 07:16:29 -0700
From: "Michael Loftis" <>
Subject: Re: Strange scheduling behavoir in SMP (kernel 2.2.14)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/27/74

This is currently the scheduling discussion that is taking place.  
As I understand it (someone reply directly to me if I'm wrong, as I'm 
signing off the list today, too much traffic....) the scheduler will be 
changed to use the 'old' mechanism for up to a certain number of 
processes/load.  After that it will go to a more efficient 'cluster' 
mechanism.
The Problem with the current scheduler is that it assumes a pretty 
low-value for switching CPUs but because we blow out the CPUs L1 (and 
possibly L2) cache it is self-defeating (NT is even worse in my 
experiments, but Linux at 2.2.14 isn't much better....)
If you want details search the archives for SMP Theory and related 
topics.
--
Michael Loftis
ICQ: 15648280  AIM: DyJailBait
Funny quip of the moment just happens to be....
Linux is like a tent:
no gates, no windows, and an Apache inside!
-----Original Message-----
From: Antonio Flores Gil <aflores@ditec.um.es>
Date:   Wed, 26 Jan 2000 00:45:27 +0100
Subject: Strange scheduling behavoir in SMP (kernel 2.2.14)
> Hi,
> 
> I have a SMP machine with two Pentium III. In order to compare 
> performance with other machines I began a simple test:
> 
> for (i=0;i<MAX_NUMBER;i++)
>   for(j=0;j<MAX_NUMBER;j++)
>            c=a*b;               /* These variables could be integer
> or double */
> 
> 
> Using kernel 2.2.12 with SMP support this simple program take more
> time in my machine than in a uniprocessor with K6-2 (the same problem
> appear in the last stable kernel 2.2.14) Using xosview
> application I discovered where the problem was. Instead of staying
> all the time in the same cpu, the process go from one cpu to other
> with a big performance lost.
> 
> Am I right?. Has been this problem solved in 2.3.x series?
> 
> Thanks a lot in advance.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/