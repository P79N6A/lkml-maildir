Date: Fri, 18 May 2007 16:38:27 +0200
From: "Joachim Deguara" <>
Subject: Re: [BUG] (regression) AMD k6-III/450 won't boot w/2.6.22-rc1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/18/194

On Friday 18 May 2007 01:38:13 rct@gherkin.frus.com wrote:
> Andi Kleen wrote:
> > Hmpf.
> >
> > We cold either use rdmsr_safe or add a family check again or clear it
> > in k6 setup.  I think clearing it in setup is cleanest.
> >
> > Does this patch work?
> >
> > -Andi
> >
> > Clear MCE flag on AMD K6
> >
> > It reports machine check capability in CPUID, but doesn't actually
> > implement all the necessary MSRs of the standard Intel machine
> > check architecture.
> >
> > This fixes a boot failure recently introduced.
> >
> > Signed-off-by: Andi Kleen <ak@suse.de>
>
> ACK.  I reinstalled Joachim's patch (default 2.6.22-rc1 state), and
> added your patch.  Life is good: we have a fix/workaround.
Great, thanks for finding this and Andi for the patch.  I'll talk to our labs 
about dusting off old systems for testing ;)
-Joachim
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/