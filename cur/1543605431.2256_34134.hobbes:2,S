Date: Fri, 19 Oct 2001 16:16:21 -0400
From: John Ruttenberg <>
Subject: Dell Inspiron 8100 & ide dma
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/19/102

This computer doesn't seem to work with the 2.4.2 redhat default kernel and
ide dma enabled.  In fact it cannot even get very far into the install before
it craches.  I found (but cannot find again) a redhat bug report about this
and was able to get through the install by using ide=nodma on the installer's
lilo command line.
Once the default kernel booted up, it basically trashed the file system,
perhaps because it was also running the ide dma.  We redid this and also
supplied ide=nodma via lilo the installed kernel.
Now we have built linux-2.4.12-ac3.  Is there any chance this bug has been
fixed in this new kernel and that it might be safe to reenable dma?
Once interesting tidbit is that the dmesg files say pretty different things
about ide in the new vs the old kernel:
2.4.2 (redhat 7.1):
    Uniform Multi-Platform E-IDE driver Revision: 6.31
    ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
    PCI_IDE: unknown IDE controller on PCI bus 00 device f9, VID=8086, DID=244a
    PCI_IDE: chipset revision 3
    PCI_IDE: not 100% native mode: will probe irqs later
        ide0: BM-DMA at 0xbfa0-0xbfa7, BIOS settings: hda:DMA, hdb:DMA
        ide1: BM-DMA at 0xbfa8-0xbfaf, BIOS settings: hdc:pio, hdd:pio
    hda: HITACHI_DK23CA-30, ATA DISK drive
    hdb: TEAC CD-ROM CD-224E, ATAPI CD/DVD-ROM drive
    ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
    hda: 58605120 sectors (30006 MB) w/2048KiB Cache, CHS=3648/255/63
2.4.12-ac3:
    Uniform Multi-Platform E-IDE driver Revision: 6.31
    ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
    PIIX4: IDE controller on PCI bus 00 dev f9
    PIIX4: chipset revision 3
    PIIX4: not 100% native mode: will probe irqs later
        ide0: BM-DMA at 0xbfa0-0xbfa7, BIOS settings: hda:DMA, hdb:DMA
    hda: HITACHI_DK23CA-30, ATA DISK drive
    hdb: TEAC CD-ROM CD-224E, ATAPI CD/DVD-ROM drive
    ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
    hda: 58605120 sectors (30006 MB) w/2048KiB Cache, CHS=3648/255/63
    hdb: ATAPI 24X CD-ROM drive, 128kB Cache
    Uniform CD-ROM driver Revision: 3.12
Does anyone know anything about this?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/