Date: Mon, 28 Dec 1998 11:33:10 -0700 (MST)
From: Jim Bourne <>
Subject: [PATCH] cleanup make menuconfig warnings
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/28/88

Hi,
This is a patch that cleans up the warnings in make menuconfig against
2.0.37pre4 and fixes a typo in arch/i386/config.in (Memory was Nemory :).
Regards
Jim
--
James Bourne                  | Email:  jbourne@affinity-systems.ab.ca
Affinity Systems Inc.         | WWW: 
http://www.affinity-systems.ab.ca
Everything Unix               | Linux:  The choice of a GNU generation
----------------------------------------------------------------------
Unix System Administration, System programming, Network Administration
diff -ruN linux/arch/i386/config.in linux.old/arch/i386/config.in
--- linux/arch/i386/config.in	Mon Dec 28 10:57:59 1998
+++ linux.old/arch/i386/config.in	Mon Dec 28 10:45:20 1998
@@ -22,7 +22,7 @@
 comment 'General setup'
 
 bool 'Kernel math emulation' CONFIG_MATH_EMULATION
-choice 'Nemory configuration' \
+choice 'Memory configuration' \
 	"Standard	CONFIG_MEM_STD	\
 	 Enterprise	CONFIG_MEM_ENT	\
 	 Custom		CONFIG_MEM_SPECIAL" Standard
diff -ruN linux/scripts/lxdialog/checklist.c linux.old/scripts/lxdialog/checklist.c
--- linux/scripts/lxdialog/checklist.c	Wed Jun  3 16:17:50 1998
+++ linux.old/scripts/lxdialog/checklist.c	Mon Dec 28 10:02:47 1998
@@ -114,7 +114,7 @@
  */
 int
 dialog_checklist (const char *title, const char *prompt, int height, int width,
-	int list_height, int item_no, const char * const * items, int flag)
+	int list_height, int item_no, char ** items, int flag)
 	
 {
     int i, x, y, box_x, box_y;
diff -ruN linux/scripts/lxdialog/dialog.h linux.old/scripts/lxdialog/dialog.h
--- linux/scripts/lxdialog/dialog.h	Sun Nov 15 11:33:24 1998
+++ linux.old/scripts/lxdialog/dialog.h	Mon Dec 28 10:04:01 1998
@@ -156,10 +156,10 @@
 int dialog_textbox (const char *title, const char *file, int height, int width);
 int dialog_menu (const char *title, const char *prompt, int height, int width,
 		int menu_height, const char *choice, int item_no, 
-		const char * const * items);
+		char **items);
 int dialog_checklist (const char *title, const char *prompt, int height,
 		int width, int list_height, int item_no,
-		const char * const * items, int flag);
+		char **items, int flag);
 extern unsigned char dialog_input_result[];
 int dialog_inputbox (const char *title, const char *prompt, int height,
 		int width, const char *init);
diff -ruN linux/scripts/lxdialog/lxdialog.c linux.old/scripts/lxdialog/lxdialog.c
--- linux/scripts/lxdialog/lxdialog.c	Sun Nov 15 11:33:24 1998
+++ linux.old/scripts/lxdialog/lxdialog.c	Mon Dec 28 09:59:43 1998
@@ -23,7 +23,7 @@
 
 static void Usage (const char *name);
 
-typedef int (jumperFn) (const char *title, int argc, const char * const * argv);
+typedef int (jumperFn) (char *title, int argc, char **argv);
 
 struct Mode {
     char *name;
@@ -54,10 +54,10 @@
 #endif
 
 int
-main (int argc, const char * const * argv)
+main (int argc, char **argv)
 {
     int offset = 0, clear_screen = 0, end_common_opts = 0, retval;
-    const char *title = NULL;
+    char *title = NULL;
 
 #ifdef LOCALE
     (void) setlocale (LC_ALL, "");
@@ -171,40 +171,40 @@
  */
 
 int
-j_menu (const char *t, int ac, const char * const * av)
+j_menu (char *t, int ac, char **av)
 {
     return dialog_menu (t, av[2], atoi (av[3]), atoi (av[4]),
 			atoi (av[5]), av[6], (ac - 6) / 2, av + 7);
 }
 
 int
-j_checklist (const char *t, int ac, const char * const * av)
+j_checklist (char *t, int ac, char **av)
 {
     return dialog_checklist (t, av[2], atoi (av[3]), atoi (av[4]),
 	atoi (av[5]), (ac - 6) / 3, av + 6, FLAG_CHECK);
 }
 
 int
-j_radiolist (const char *t, int ac, const char * const * av)
+j_radiolist (char *t, int ac, char **av)
 {
     return dialog_checklist (t, av[2], atoi (av[3]), atoi (av[4]),
 	atoi (av[5]), (ac - 6) / 3, av + 6, FLAG_RADIO);
 }
 
 int
-j_textbox (const char *t, int ac, const char * const * av)
+j_textbox (char *t, int ac, char **av)
 {
     return dialog_textbox (t, av[2], atoi (av[3]), atoi (av[4]));
 }
 
 int
-j_yesno (const char *t, int ac, const char * const * av)
+j_yesno (char *t, int ac, char **av)
 {
     return dialog_yesno (t, av[2], atoi (av[3]), atoi (av[4]));
 }
 
 int
-j_inputbox (const char *t, int ac, const char * const * av)
+j_inputbox (char *t, int ac, char **av)
 {
     int ret = dialog_inputbox (t, av[2], atoi (av[3]), atoi (av[4]),
                             ac == 6 ? av[5] : (char *) NULL);
@@ -214,13 +214,13 @@
 }
 
 int
-j_msgbox (const char *t, int ac, const char * const * av)
+j_msgbox (char *t, int ac, char **av)
 {
     return dialog_msgbox (t, av[2], atoi (av[3]), atoi (av[4]), 1);
 }
 
 int
-j_infobox (const char *t, int ac, const char * const * av)
+j_infobox (char *t, int ac, char **av)
 {
     return dialog_msgbox (t, av[2], atoi (av[3]), atoi (av[4]), 0);
 }
diff -ruN linux/scripts/lxdialog/menubox.c linux.old/scripts/lxdialog/menubox.c
--- linux/scripts/lxdialog/menubox.c	Sun Nov 15 11:33:24 1998
+++ linux.old/scripts/lxdialog/menubox.c	Mon Dec 28 10:05:12 1998
@@ -29,7 +29,10 @@
 static void
 print_item (WINDOW * win, const char *item, int choice, int selected, int hotkey)
 {
-    int i, j;
+#if OLD_NCURSES
+    int i;
+#endif
+    int j;
     char menu_item[menu_width+1];
 
     strncpy(menu_item, item, menu_width);
@@ -121,7 +124,7 @@
 int
 dialog_menu (const char *title, const char *prompt, int height, int width,
 		int menu_height, const char *current, int item_no,
-		const char * const * items)
+		char **items)
 
 {
     int i, j, x, y, box_x, box_y;
diff -ruN linux/scripts/lxdialog/textbox.c linux.old/scripts/lxdialog/textbox.c
--- linux/scripts/lxdialog/textbox.c	Sun Nov 15 11:33:24 1998
+++ linux.old/scripts/lxdialog/textbox.c	Mon Dec 28 10:06:22 1998
@@ -451,7 +451,10 @@
 static void
 print_line (WINDOW * win, int row, int width)
 {
-    int i, y, x;
+#if OLD_NCURSES
+    int i;
+#endif
+    int y, x;
     char *line;
 
     line = get_line ();
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/