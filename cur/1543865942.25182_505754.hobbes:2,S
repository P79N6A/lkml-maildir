Date: Tue, 06 Feb 2007 13:45:06 -0500
From: Mark Lord <>
Subject: Re: hdparm for lib_pata
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/6/245

re: hdparm -d
>> Support for that ioctl could likely be added, but these days I don't 
>> think there's much use for it. I can't see how anybody in their right 
>> mind would want to disable DMA on a modern drive, and if libata turns 
>> it off automatically then there's likely some serious hardware or 
>> driver problem that will end up biting you some other way if you force 
>> it back on.
>>
> I think deciding to turn off DMA which works fine in old kernels 
> qualifies as a "serious driver problem," which is why it should be under 
> user control.
Fair enough.
The original reason for that functionality in the drivers/ide stuff,
was that I wanted a way to be able to continue to test the IDE driver
in PIO mode, despite all of my own devices having good DMA support.
If there's no way to force the driver to use a particular transfer
method, then it becomes difficult to (re)test the driver over time.
Cheers
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/