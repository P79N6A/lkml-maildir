Date: Mon, 18 Feb 2002 15:19:22 -0700
From: Ben Greear <>
Subject: Re: jiffies rollover, uptime etc.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/18/140

Alan Cox wrote:
>>counter, and I'm currently digging into that area... Stuff like a pc
>>speaker driver going wild bothers me a bit more...
>>
> 
> Fix the speaker driver I guess is the answer. It shouldnt have done that.
> 
> 
>>Could anybody perhaps tell me why he/she doesn't consider this a
>>problem? And is there a fundamental problem with solving this in
>>general? (I do see a problem with defining jiffies long long on x86,
>>because it might break a lot of things and probably wouldnt perform
>>as often as jiffies is touched... And you might sense I haven't
>>been into kernel hacking much...)
>>
> 
> Counting in long long is expensive and the drivers are meant to all use
> roll over safe compares
I wonder, is it more expensive to write all drivers to handle the
wraps than to take the long long increment hit?  The increment is
once every 10 miliseconds, right?  That is not too often, all things
considered...
Maybe the non-atomicity of the long long increment is the problem?
Does this problem still exist on 64-bit machines?
THanks,
Ben
-- 
Ben Greear <greearb@candelatech.com>       <Ben_Greear AT excite.com>
President of Candela Technologies Inc      
http://www.candelatech.com
ScryMUD:  
http://scry.wanfear.com
     
http://scry.wanfear.com/~greear
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/