Date: Thu, 6 Jul 2006 22:37:43 +0200
From: Adrian Bunk <>
Subject: [2.6 patch] make fs/jffs2/nodelist.c:jffs2_obsolete_node_frag() static
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/6/284

This patch makes the needlessly global jffs2_obsolete_node_frag() 
static.
Signed-off-by: Adrian Bunk <bunk@stusta.de>
---
 fs/jffs2/nodelist.c |    6 +++++-
 fs/jffs2/nodelist.h |    1 -
 2 files changed, 5 insertions(+), 2 deletions(-)
--- linux-2.6.17-mm6-full/fs/jffs2/nodelist.h.old	2006-07-06 22:12:01.000000000 +0200
+++ linux-2.6.17-mm6-full/fs/jffs2/nodelist.h	2006-07-06 22:12:08.000000000 +0200
@@ -334,7 +334,6 @@
 struct rb_node *rb_next(struct rb_node *);
 struct rb_node *rb_prev(struct rb_node *);
 void rb_replace_node(struct rb_node *victim, struct rb_node *new, struct rb_root *root);
-void jffs2_obsolete_node_frag(struct jffs2_sb_info *c, struct jffs2_node_frag *this);
 int jffs2_add_full_dnode_to_inode(struct jffs2_sb_info *c, struct jffs2_inode_info *f, struct jffs2_full_dnode *fn);
 void jffs2_truncate_fragtree (struct jffs2_sb_info *c, struct rb_root *list, uint32_t size);
 int jffs2_add_older_frag_to_fragtree(struct jffs2_sb_info *c, struct jffs2_inode_info *f, struct jffs2_tmp_dnode_info *tn);
--- linux-2.6.17-mm6-full/fs/jffs2/nodelist.c.old	2006-07-06 22:12:17.000000000 +0200
+++ linux-2.6.17-mm6-full/fs/jffs2/nodelist.c	2006-07-06 22:12:55.000000000 +0200
@@ -21,6 +21,9 @@
 #include <linux/pagemap.h>
 #include "nodelist.h"
 
+static void jffs2_obsolete_node_frag(struct jffs2_sb_info *c,
+				     struct jffs2_node_frag *this);
+
 void jffs2_add_fd_to_list(struct jffs2_sb_info *c, struct jffs2_full_dirent *new, struct jffs2_full_dirent **list)
 {
 	struct jffs2_full_dirent **prev = list;
@@ -87,7 +90,8 @@
 	}
 }
 
-void jffs2_obsolete_node_frag(struct jffs2_sb_info *c, struct jffs2_node_frag *this)
+static void jffs2_obsolete_node_frag(struct jffs2_sb_info *c,
+				     struct jffs2_node_frag *this)
 {
 	if (this->node) {
 		this->node->frags--;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/