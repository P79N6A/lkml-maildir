Date: Wed, 2 Apr 2003 08:12:43 +0100
From: Christoph Hellwig <>
Subject: Re: 64-bit kdev_t - just for playing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/2/8

On Tue, Apr 01, 2003 at 01:59:23PM -0800, H. Peter Anvin wrote:
> Or 32:32... if we have a hope for that.  Given that the bulk of the
> overhead is *already* taken in userspace I still think we should go
> all the way on this one.
Yes, having the same represantation as glibc sounds like a good idea
in general.  And the more we use struct block_device * / struct char_device *
in the kernel the less the big size actually matters.
> But yes, we need to make sure old-api
> devices get -ENXIO on open anything beyond the 8-bit minor space.
For block devices this is no problem, they register regions not majors.
For character devices that sounds the way to go, too.  I'll look into it
once I've finished by devfs API sanitizing, but if viro magically reappeared
and could post his existing patches for it this would make it even easier...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/