Date: Sun, 21 Feb 1999 10:11:43 +0200 (EET)
From: Tuomas Heino <>
Subject: Re: Sound problems, Scsi CDDA ripping. 2.2+
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/21/11

On Sat, 20 Feb 1999, Dan Hollis wrote:
> On Sat, 20 Feb 1999, Alan Cox wrote:
> > > I think we need some way to reserve DMA:ble memory in some early stage of
> > > booting up the 'puter... or then the memory allocation crap should be
> > > redone once again from scratch ;)
> > Then you might as well load the stuff at boot time. This is an issue that
> > eventually has to get sorted. Im now sitting on yet another sound card that
> > wants 1->4Mb of memory in 256K blocks.
> 
> The problem is that many drivers allocate memory on the fly, not just
> allocate at load and hold it. So even sound drivers that are compiled into
> the kernel can fail when trying to grab dma memory. So all drivers would
> have to change to grabbing and holding ram rather than dynamic.
> 
> Probably the 'reserve Xmb below 16mb for dma memory' is the best solution.
> eg in lilo.conf something like
>    append = "dmaram=2m"
> 
Exactly my point...
Now who wants to implement this? as I know nothing about Linux's MM ;)
(of course the other solution would be modifying the MM to do some more
aggressive try_to_get_dmable_memory type thingies)
And this raises a question about Linux's MM: How hard is it for the kernel
to relocate things in physical memory?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/