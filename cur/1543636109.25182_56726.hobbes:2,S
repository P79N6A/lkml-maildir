Date: Tue, 16 Jul 2002 15:08:17 +0700
From: Sokolov Sergei <>
Subject: kernel BUG at buffer.c:549
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/16/47

Hello!
I have linux kernel 2.4.19-rc1 with xfs enabled.
RedHat 7.2:
Linux version 2.4.19-rc1-xfs (gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2 release))
My xfs partitions locates on /dev/ataraid devices (Promise FastTrak Tx4),
Two mirror on   four disks "Seagate Barracuda IV 80GB".
I have two problems:
1) [root@ws188 linux-2.4.19-rc1-xfs]# mkfs.xfs /dev/ataraid/d1p2
   mkfs.xfs: warning - cannot set blocksize on block device /dev/ataraid/d1p2: Invalid argument
2)When I copying files between partitions, I receive message.
Jul 12 17:01:19 ws188 kernel: kernel BUG at buffer.c:549!
Jul 12 17:01:19 ws188 kernel: invalid operand: 0000
Jul 12 17:01:19 ws188 kernel: CPU:    0
Jul 12 17:01:19 ws188 kernel: EIP:    0010:[__insert_into_lru_list+37/112]    Not tainted
Jul 12 17:01:19 ws188 kernel: EIP:    0010:[<c012f335>]    Not tainted
Jul 12 17:01:19 ws188 kernel: EFLAGS: 00010206
Jul 12 17:01:19 ws188 kernel: eax: 00000000   ebx: 00000008   ecx: d6e297c0   edx: c02ec594
Jul 12 17:01:19 ws188 kernel: esi: 00000002   edi: 00001000   ebp: 00000000   esp: df0ebe18
Jul 12 17:01:19 ws188 kernel: ds: 0018   es: 0018   ss: 0018
Jul 12 17:01:19 ws188 kernel: Process mc (pid: 872, stackpage=df0eb000)
Jul 12 17:01:19 ws188 kernel: Stack: 00000002 d6e297c0 c012fb64 d6e297c0 00000002 d6e297c0 00001000 c012fb7a
Jul 12 17:01:19 ws188 kernel:        d6e297c0 c01305a5 d6e297c0 00000000 d09b22c0 484cc000 00000000 d6e297c0
Jul 12 17:01:19 ws188 kernel:        c0130c56 d09b22c0 c10acf20 00000000 00001000 00001000 00001000 00000000
Jul 12 17:01:19 ws188 kernel: Call Trace: [__refile_buffer+84/96] [refile_buffer+10/16] [__block_commit_write+
117/192] [generic_commit_write+54/96] [pagebuf_generic_file_write+613/768]
Jul 12 17:01:19 ws188 kernel: Call Trace: [<c012fb64>] [<c012fb7a>] [<c01305a5>] [<c0130c56>] [<c01cea75>]
Jul 12 17:01:19 ws188 kernel:    [xfs_write+1032/1808] [linvfs_pb_bmap+0/208] [linvfs_write+812/864] [sys_writ
e+150/240] [system_call+51/56]
Jul 12 17:01:19 ws188 kernel:    [<c01d44a8>] [<c01d30b0>] [<c01cfe5c>] [<c012e026>] [<c01089bb>]
Jul 12 17:01:19 ws188 kernel:
Jul 12 17:01:19 ws188 kernel: Code: 0f 0b 25 02 60 9e 26 c0 8b 02 85 c0 75 07 89 0a 89 49 24 8b  
-- 
Sergei Sokolov
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/