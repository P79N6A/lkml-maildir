Date: Tue, 25 Jun 2002 16:20:35 -0700
From: Phil Oester <>
Subject: Re: [PATCH] 2.4.19-rc1 Fix NFS attribute caching bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/25/93

Thank you!!!  
Ever since moving to 2.4.19-pre9 we've noticed an incredible jump in GETATTR calls on our NFS server.  Will look forward to this making it into 2.4.19 release.
-Phil
On Tue, Jun 25, 2002 at 09:15:54PM +0200, Trond Myklebust wrote:
> 
>   Fixes an obvious bug in __nfs_refresh_inode(): after updating the
> attribute cache, if we discover that the data cache is invalid don't
> call nfs_zap_caches() as that will also reinvalidate the attribute
> cache.
>   This bug plays havoc with the new lookup/revalidation code in 2.4.19
> since it forces a lot of unnecessary extra GETATTR RPC calls.
> 
> Cheers,
>    Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/