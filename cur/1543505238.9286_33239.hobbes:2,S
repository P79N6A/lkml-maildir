Date: Mon, 9 Aug 1999 01:20:00 +0200 (CEST)
From: Andrea Arcangeli <>
Subject: [patch] too_many_dirty_buffers cleanup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/10/1

too_many_dirty_buffers is an int and is local to buffer.c:
diff -ur 2.3.13-pre8/fs/buffer.c 2.3.13-pre8-tmp/fs/buffer.c
--- 2.3.13-pre8/fs/buffer.c	Sun Aug  8 17:21:37 1999
+++ 2.3.13-pre8-tmp/fs/buffer.c	Mon Aug  9 01:18:26 1999
@@ -840,7 +840,7 @@
  * pressures on different devices - thus the (currently unused)
  * 'dev' parameter.
  */
-int too_many_dirty_buffers;
+static int too_many_dirty_buffers;
 
 void balance_dirty(kdev_t dev)
 {
diff -ur 2.3.13-pre8/mm/filemap.c 2.3.13-pre8-tmp/mm/filemap.c
--- 2.3.13-pre8/mm/filemap.c	Sun Aug  8 17:21:41 1999
+++ 2.3.13-pre8-tmp/mm/filemap.c	Mon Aug  9 01:18:41 1999
@@ -212,8 +212,6 @@
 	spin_unlock(&pagecache_lock);
 }
 
-extern atomic_t too_many_dirty_buffers;
-
 int shrink_mmap(int priority, int gfp_mask)
 {
 	static unsigned long clock = 0;
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/