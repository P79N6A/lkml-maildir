Date: Thu, 13 Apr 2006 10:59:08 -0400
From: Dave Dillow <>
Subject: Re: [PATCH] deinline a few large functions in vlan code v2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/13/121

On Thu, 2006-04-13 at 09:04 +0300, Denis Vlasenko wrote:
> On Wednesday 12 April 2006 20:18, Dave Dillow wrote:
> > > > or loaded. And even if it saves 200 bytes in one 
> > > > module, unless that module text was already less than 200 bytes into a
> > > > page, you've saved no memory -- a 4300 byte module takes 2 pages on x86,
> > > > as does a 4100 byte module.
> > > 
> > > Sometimes, those 200 bytes can bring module size just under 4096.
> > > Thus on the average, on many modules you get the same size savings
> > > as on built-in code. (Not that we have THAT many network modules...)
> > 
> > You're making a bogus leap from "sometimes" to "average".
> 
> It's not bogus. See below.
My bad, I used a different notion of "average". You're using a
mathematical definition, and are of course correct in that case.
But to get your average, you have to either build all modules in, or
load every module. I'm saying the "average" user won't do that.
> IOW: currently most of VLAN code is already in kernel.
No, I'm saying most of the code is in 8021q.ko. The exceptions are the
big inlines you targeted, and I agree with moving them out-of-line.
-- 
Dave Dillow <dave@thedillows.org>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/