Date: Wed, 11 Jan 2006 10:49:11 +0900
From: Yasunori Goto <>
Subject: Re: [patch 2/2] add x86-64 support for memory hot-add
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/10/453

> On Tuesday 10 January 2006 13:43, Yasunori Goto wrote:
> > > IIRC, SRAT is just for booting time. So, when hotplug occured,
> > > it is not reliable. DSDT should be used for it in order to SRAT
> > > like following 2 patches.
> > > First is to get pxm from physical address.
> > > I'll post the second patch after this post.
> >
> > Second one is here.
> > This is map/unmap between pxm to nid. This is just for ia64.
> > But I guess for x86-64 is not so difference.
> 
> It probably is. The x86-64 NUMA setup is quite different from IA64.
Ah... Ok.
I wish my patch would be good example for x86-64.
But, hmm. I feel it is a bit strange.
Why there is a difference among x86-64 and ia64 about mapping
pxm to nid? (in addition i386.)
PXM is defined by ACPI. ACPI is used on all of them.
Node id is used on Linux generically.
So, ia64 and i386 has pxm_to_nid_map[], and x86-64 has pxm2node[] too.
Why are these arrays and codes are defined on each arch?
Does anyone know it?
Its code might be able to be common on driver/acpi/numa.c...
-- 
Yasunori Goto 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/