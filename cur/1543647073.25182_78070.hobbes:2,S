Date: Tue, 8 Oct 2002 12:07:00 -0700
From: Larry McVoy <>
Subject: Re: LMbench results for 2.5.40
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/8/298

On Tue, Oct 08, 2002 at 02:55:01PM -0400, Bill Davidsen wrote:
> On Tue, 1 Oct 2002, Larry McVoy wrote:
> 
> > By the way, the place you will probably see variance in LMbench is in the
> > context switch benchmarks, it's almost certainly due to randomness in 
> > cache layout and there isn't a thing we can do about it.  You can run a
> > zillion runs to get an average but please realize that is an *average*.
> > The context switch number are accurate, the low ones represent no cache
> > collisions and the high ones represent lots of cache collisions.
> > 
> > FYI.  I don't like it either.
> 
> Thank you, that explains some things I've seen in my context switching
> benchmark as well, which uses a bunch of different services to transfer
> tiny data from on process to another.
> 
> Time for some statistical jiggery-pokery, dust off deviant mean or some
> such.
I personally think that you should try a scatter plot and you should
get something sort of like 
http://www.bitmover.com/disks/sek.gif
 which
is read latency times scatter plotted nicely showing the effect of seeks
and the effects of rotational delay.  The height of the band is what I'd
expect to see in the context switch results - there should be an even
distribution between the min and the max assuming that you can vary the
pages which get allocated when you run the tests.
The average is a misleading number, you really want a min/max style number.
I'd be quite interested if someone were to go off and do this.
-- 
---
Larry McVoy            	 lm at bitmover.com           
http://www.bitmover.com/lm
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/