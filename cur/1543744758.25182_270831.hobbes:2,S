Date: Sun, 14 Nov 2004 01:28:01 +0100
From: Jan Dittmer <>
Subject: [PATCH] media/video module_param conversion
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/13/106

Convert module_param in tda7432 and tda9875. I hope I got the
file permissions right.
Signed-off-by: Jan Dittmer <jdittmer@ppp0.net>
diff -Nru a/drivers/media/video/tda7432.c b/drivers/media/video/tda7432.c
--- a/drivers/media/video/tda7432.c	2004-11-14 01:24:43 +01:00
+++ b/drivers/media/video/tda7432.c	2004-11-14 01:24:43 +01:00
@@ -60,13 +60,13 @@
 MODULE_DESCRIPTION("bttv driver for the tda7432 audio processor chip");
 MODULE_LICENSE("GPL");
-MODULE_PARM(debug,"i");
-MODULE_PARM(loudness,"i");
+static int maxvol;
+static int loudness; /* disable loudness by default */
+static int debug;	 /* insmod parameter */
+module_param(debug, int, S_IRUGO | S_IWUSR);
+module_param(loudness, int, S_IRUGO);
 MODULE_PARM_DESC(maxvol,"Set maximium volume to +20db (0), default is 0db(1)");
-MODULE_PARM(maxvol,"i");
-static int maxvol = 0;
-static int loudness = 0; /* disable loudness by default */
-static int debug = 0;	 /* insmod parameter */
+module_param(maxvol, int, S_IRUGO | S_IWUSR);
 /* Address to scan (I2C address of this chip) */
diff -Nru a/drivers/media/video/tda9875.c b/drivers/media/video/tda9875.c
--- a/drivers/media/video/tda9875.c	2004-11-14 01:24:43 +01:00
+++ b/drivers/media/video/tda9875.c	2004-11-14 01:24:43 +01:00
@@ -34,10 +34,10 @@
 #include <media/audiochip.h>
 #include <media/id.h>
-MODULE_PARM(debug,"i");
+static int debug; /* insmod parameter */
+module_param(debug, int, S_IRUGO | S_IWUSR);
 MODULE_LICENSE("GPL");
-static int debug = 0;	/* insmod parameter */
 /* Addresses to scan */
 static unsigned short normal_i2c[] =  {
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/