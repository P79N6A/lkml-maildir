Date: Wed, 1 Mar 2006 20:03:50 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: unhare() interface design questions and man page
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/1/370

On Thu, 2 Mar 2006, Michael Kerrisk wrote:
> > >>>>>
> > >>>>> That is, CLONE_FS, CLONE_FILES, and CLONE_VM *reverse* the 
> > >>>>> effects of the clone() flags of the same name, but CLONE_NEWNS 
> > >>>>> *has the same meaning* as the clone() flag of the same name.
Well, if this is the only problem, who cares? CLONE_NEWNS itself is 
actually a reversal of clone flags: unlike the others, that tell to 
_share_ things that normally aren't shared across a fork(), CLONE_NEWNS 
does the opposite: it asks to unshare something that normally is shared.
So the fact that it then acts not as a reversal when doing "unshare()" is 
actually consistent with the fact that it's a already a "unshare" event 
for clone() itself.
> Do you have any further response on this point?
> (There was none in your last message?)
I personally don't think it's worth makign UNSHARE_NEWNS just because it's 
a flag that acts differently from the other CLONE_xxx flags.
As to whether allow or not allow unknown unshare() flags, I don't think 
it's a huge deal either way. Right now we don't check the flags to 
"clone()" either, I think.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/