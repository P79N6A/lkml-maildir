Date: Sat, 18 Oct 2003 19:10:22 +0200
From: "Ihar 'Philips' Filipau" <>
Subject: Re: [2.6 patch] add a config option for -Os compilation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/18/74

Martin J. Bligh wrote:
> If you have a puny 128K L2 cache, it might help,
   [ I accept this as a flame-bait. ]
   Can you be little bit less ignorant? Eh?
   Please. I beg you.
   Linux is used not only by you, and not only on huge NUMA boxes with 
huge caches <flame-bait>to hide stupid design flaws</flame-bait>. (can't 
wait when clusters of hand-helds connected over bluetooth will wipe out 
mainframe market :)))
   My system has 16K L1 cache. Only L1. And what should I do?
   I was benchmarking 2.4.1[68] some time ago and -Os helps gcc to 
produce faster code (both gcc 2.95.3 and 3.2.3). (It was Geode. But e.g. 
Motorolla's PowerQuicc has 16K L1 too - but I'm not sure does -Os help 
on ppc)
   On my test difference was around 5-7%. Task was very IO intensive 
with few of computational branches. Size of .text ~ 800K, .bss ~ 400K.
> Please don't - I benchmarked it a while ago, and it's definitely slower.
> If you have a puny 128K L2 cache, it might help, but it definitely needs
> to be optional.
   Optional - would be Okay.
P.S. That's dependency on GCC what should be optional. Let's not forget 
the source of the problem.
-- 
Ihar 'Philips' Filipau  / with best regards from Saarbruecken.
--
   "... and for $64000 question, could you get yourself vaguely
      familiar with the notion of on-topic posting?"
				-- Al Viro @ LKML
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/