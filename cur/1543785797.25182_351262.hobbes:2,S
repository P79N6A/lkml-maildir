Date: Fri, 16 Sep 2005 18:05:35 -0700
From: George Anzinger <>
Subject: Re: NTP leap second question
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/16/268

Alan Cox wrote:
> On Gwe, 2005-09-16 at 14:58 -0700, George Anzinger wrote:
> 
>>What I am asking is when is the flag sent to the kernel.  My reading of 
>>the kernel code says that it will insert the second on the second roll 
>>immeadiatly after the flag is set.
> 
> 
> Kernel clock ticks are not adjusted or slewed or anything else for a
> leap second when correctly configured. UTC leap second adjustment is
> performed by glibc for locales that expect it (which I think is all of
> them)
Eh??  Then what is one to make of the code in timer.c that add 
leapseconds?  It seems to be controlled by the adjtime() system call.
Sure looks like it sets the system clock (xtime) ahead or back by a 
second at midnight if the flag is set to do so.
-- 
George Anzinger   george@mvista.com
HRT (High-res-timers):  
http://sourceforge.net/projects/high-res-timers/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/