Date: Tue, 29 May 2001 13:21:24 -0400
From: Pete Wyckoff <>
Subject: Re: ctags as generated by make tags
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/29/78

mark@somanetworks.com said:
> Anyone have any good tips on getting tags to generate nicely?
> 
> I'm having some problems with some tags for macros and such being
> declared in several places since ctags doesn't honour any CPP #if'ing.
> I've currently got my Makefile doing this, which seems to give me some
> sanity as the redefinitions tend to be made by drivers and such.
Like net_device gets redefined or typedefed in a bunch of drivers
striving for backward compatibility.
> I'm basically walking the include tree by depth without doing any sorting
> of tags and then doing a stable sort on the final tags file.
I wrote a little perl script to post-process the tags file to sort
duplicate entries that are "more important" to the top, where that means
    struct >> typedef >> union >> ... >> #define >> ...
So vim goes to the "real" definition of net_device first, before any of
the overridies in the drivers.
See 
http://www.osc.edu/~pw/index.html#tags
 for the script, and a
more complete set of ignores.
		-- Pete
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/