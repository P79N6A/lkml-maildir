Date: Wed, 2 Mar 2005 08:58:14 -0800 (PST)
From: Muthian Sivathanu <>
Subject: ext3 journal commit performance
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/2/133

Hi,
I have a question on ext3 journal commit code.  When a
transaction is committed in the ordered mode, ext3
first issues the data writes, waits for them to
finish, then issues the journal writes, waits for them
to finish, and then writes out the commit record. 
It appears that the first wait (for the data blocks)
is unnecessary because all that is required is that
before the commit, both the data and the metadata
blocks should be on disk.  This extra wait can
potentially reduce performance in cases where the
journal is on a separate disk, because you lose
parallelism between data writes and the metadata
writes.
Does anyone have an idea as to why this extra wait was
introduced?
thanks very much,
Muthian 
__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/