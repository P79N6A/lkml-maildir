Date: Mon, 14 Apr 2003 11:09:02 -0600 (MDT)
From: James Bourne <>
Subject: Re: Oops: ptrace fix buggy
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/14/120

On Mon, 14 Apr 2003, Jörn Engel wrote:
> On Mon, 14 April 2003 16:31:08 +0200, Martin Schlemmer wrote:
> > On Mon, 2003-04-14 at 15:46, Jörn Engel wrote:
> > 
> > > Privately, I have introduced a variable FIXLEVEL for this. The
> > > resulting kernel version is 2.4.20.2 instead of 2.4.20-uv2, which imo
> > > is more suiting for a fixed stable kernel.
> > 
> > This is not a good idea ... especially if its a box that you
> > compile a lot of software on.  Reason is that everything expects
> > it to be MAJ.MIN.MIC  ... If you add now another version, then
> > things start to break.  A good example is mozilla ...
> 
> That doesn't convince me (yet?). Why doesn't 2.4.20-pre5-ac3 break
> mozilla, but 2.4.20.1 does? If mozilla depends on this information, it
> should at least have a robust parser for it.
> 
> Can you give me a little more details on this? Did anyone ever declare
> that userspace can expect kernel versions to fit this regex?
> \d+\.\d+\.\d+(-.+)?
Hi,
If you only change the one line and add the new variable I'm afraid it won't
work due to other things changing as well...  At least the files 
Makefile
Rules.make
arch/ppc/boot/Makefile
arch/arm/boot/Makefile
scripts/patch-kernel
scripts/mkspec
scripts/Menuconfig
will need to be looked at as these are ones which contain references to
SUBVERSION...  References to EXTRAVERSION also reside in these files.  It
would just be better to do the "right thing" IMHO.
I will take a look at this and produce a patch for the same.
Regards
James Bourne
> Jörn
-- 
James Bourne                  | Email:            jbourne@hardrock.org          
Unix Systems Administrator    | WWW:           
http://www.hardrock.org
Custom Unix Programming       | Linux:  The choice of a GNU generation
----------------------------------------------------------------------
 "All you need's an occasional kick in the philosophy." Frank Herbert  
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/