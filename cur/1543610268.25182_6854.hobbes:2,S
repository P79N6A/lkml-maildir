Date: Wed, 21 Nov 2001 16:51:42 -0700
From: Craig Tierney <>
Subject: Question about change in scsi_scan.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/21/171

Between 2.4.12 and 2.4.14 there
was a change to scsi_scan.c that
tells the detection code to not
look for more than 8 luns if
the scsi drive type is not SCSI_3
or better. 
  /* don't probe further for luns > 7 for targets <= SCSI_2 */
if ((lun0_sl < SCSI_3) && (lun > 7))
  break;
Why????
My census raid reports SCSI_2 devices,
but I have 32 luns per controller?  Under
2.4.14 I could no longer see all of the
luns until a changed the code here.  
Why not use MAX_SCSI_LUNS?  
Thanks,
Craig
-- 
Craig Tierney (ctierney@hpti.com)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/