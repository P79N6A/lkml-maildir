Date: Mon, 28 May 2007 14:33:06 +0800
From: "Antonino A. Daplas" <>
Subject: [PATCH 9/9] fbcon: Allow fbcon to use the primary display driver fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/28/17

unbind_con_driver() should be EXPORT_SYBOL.
Signed-off-by: Antonino Daplas <adaplas@gmail.com>
---
Antonino A. Daplas wrote:
> Allow fbcon to select the primary display adapter using the
> fb_is_primary_device() arch-specific helper.  If a a primary adapter is
> detected, fbcon will unbind the old adapter from the VT layer, then rebind
> using the new adapter. This requires that bind_/unbind_con_driver() be made
> public.
> 
> Because this feature may produce unexpected behavior (from the user's POV),
> this must be explicitly enabled in Kconfig.
> 
link errors if compiled as a module.  Here's the fix.
Tony
 drivers/char/vt.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)
diff --git a/drivers/char/vt.c b/drivers/char/vt.c
index 45baf04..e5f36e7 100644
--- a/drivers/char/vt.c
+++ b/drivers/char/vt.c
@@ -2962,6 +2962,7 @@ err:
 	module_put(owner);
 	return retval;
 };
+EXPORT_SYMBOL(bind_con_driver);
 
 #ifdef CONFIG_VT_HW_CONSOLE_BINDING
 static int con_is_graphics(const struct consw *csw, int first, int last)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/