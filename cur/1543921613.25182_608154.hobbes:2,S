Date: Mon, 22 Oct 2007 13:43:22 +0100
From: Al Viro <>
Subject: Re: [uml-devel] User Mode Linux still doesn't build in 2.6.23-final.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/22/138

On Mon, Oct 22, 2007 at 08:25:04PM +0800, WANG Cong wrote:
> >Now apply the patch upthread, it should've fixed that one (and yes, you
> >are down to the stuff this patch is supposed to fix - and does so here).
> 
> Yes, this one is fixed. Thanks for your patch.
> 
> But another one comes out. ;(
Jeff had posted a fix for that one a while ago:
-int __sched wait_for_completion_interruptible(struct completion *x)
+int __sched fastcall wait_for_completion_interruptible(struct completion *x)
in kernel/sched.c
FWIW, I would simply kill the damn fastcall thing - right now the only
user is uml/i386; everything else either has it #defined to nothing or
(as i386 does) passes -mregparm=3 while having fastcall expand to
__attribute__((regparm(3))) - i.e. has all functions fastcall.
Do we really need it on uml/i386 enough to keep bothering with that mess?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/