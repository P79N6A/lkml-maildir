Date: Sat, 26 Jun 1999 20:48:07 +0400 (MSD)
From: "Khimenko Victor" <>
Subject: Re: Corrupted partitions
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/26/81

In <Pine.LNX.4.10.9906261625030.15636-100000@ps.cus.umist.ac.uk> Riley Williams (rhw@MemAlpha.CX) wrote:
> Hi Ted.
 >>> Related to this, can I pass on a question I was recently asked:
 >>> How does Linux deal with a corrupted partition where the
 >>> lost+found entry is itself corrupted? Does it even detect that?
 >> Yes, it will detect and fix a corrupted lost+found directory.
 >> E2fsck can even create a lost+found directory if it is missing
 >> (or too badly damaged to recover), and it can allocate new
 >> blocks to lost+found.
> Hang on! In an earlier email, you said that the reason that mke2fs
> preallocates 12 blocks to lost+found is because e2fsck has problems
> allocating blocks when fixing a corrupted file system, but now you
> state that no such problem exists !!! Which is it?
e2fsck CAN create lost+found and extend if it's needed. But it can destroy files
on corrupted filesystem (there are no easy way to chose free block if filesystem
is corrupted). So better not to try it if possible. But if there are no
lost+found or lost+found is corrupted then the only choice remains: to
detect and fix corrupted lost+found or to create new one if there are
no lost+found at all (or it's to badly dmanage to recover). Simple, no ?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/