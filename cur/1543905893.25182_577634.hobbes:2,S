Date: Tue, 31 Jul 2007 15:06:07 -0600
From: "Grant Likely" <>
Subject: USB-related instability on 2.6.23-rc1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/31/494

I've observed instability on my Macbook c2d with the Linus' latest
tree.  Symptom is that USB devices start behaving badly and the kernel
seems to be registering incorrect HID events; (ie. moving the mouse
causes odd keyboard events).  If I continue to attempt to use the
mouse, it results in a system freeze (and I don't see any kind of
backtrace in /var/log/kern.log).  To reproduce the problem, I just
need to be using the keyboard/mouse.  If I leave the system idle, the
problem does not seem to occur.  If I actively use the keyboard/mouse,
the problem can occur at any time; usually within 5-10 minutes.
In my particular case, I've got both a USB key/mouse pair on the
laptop and an external key/mouse pair plugged in via a hub.
Typically, it's the external mouse that exhibits badness first.
USB HID devices are definitely affected.  I have not tested USB block
devices.  Isochronous transfers to a USB headset appear to be
unaffected, but that's under minimal testing.
I've bisected down to commit 196705c9bbc03540429b0f7cf9ee35c2f928a534,
"USB: EHCI cpufreq fix"
Reverting the patch at the head of the tree makes the kernel stable again.
I've attached my kernel config file and a dmesg output
Cheers,
g.
-- 
Grant Likely, B.Sc., P.Eng.
Secret Lab Technologies Ltd.
grant.likely@secretlab.ca
(403) 399-0195
Inspecting /boot/System.map-2.6.23-rc1mb1-g1e4dcd22
Loaded 29120 symbols from /boot/System.map-2.6.23-rc1mb1-g1e4dcd22.
Symbols match kernel version 2.6.23.
No module symbols loaded - kernel modules not enabled. 
[    0.000000] Linux version 2.6.23-rc1mb1-g1e4dcd22 (grant@trillian) (gcc version 4.1.2 (Ubuntu 4.1.2-0ubuntu4)) #9 SMP PREEMPT Sat Jul 28 12:04:36 MDT 2007
[    0.000000] BIOS-provided physical RAM map:
[    0.000000]  BIOS-e820: 0000000000000000 - 000000000009fc00 (usable)
[    0.000000]  BIOS-e820: 000000000009fc00 - 00000000000a0000 (reserved)
[    0.000000]  BIOS-e820: 00000000000e0000 - 0000000000100000 (reserved)
[    0.000000]  BIOS-e820: 0000000000100000 - 000000003e0f4000 (usable)
[    0.000000]  BIOS-e820: 000000003e0f4000 - 000000003e2f5000 (ACPI NVS)
[    0.000000]  BIOS-e820: 000000003e2f5000 - 000000003eebe000 (ACPI data)
[    0.000000]  BIOS-e820: 000000003eebe000 - 000000003eeef000 (ACPI NVS)
[    0.000000]  BIOS-e820: 000000003eeef000 - 000000003ef00000 (ACPI data)
[    0.000000]  BIOS-e820: 000000003ef00000 - 0000000040000000 (reserved)
[    0.000000]  BIOS-e820: 00000000f0000000 - 00000000f4000000 (reserved)
[    0.000000]  BIOS-e820: 00000000fec00000 - 00000000fec01000 (reserved)
[    0.000000]  BIOS-e820: 00000000fed14000 - 00000000fed1a000 (reserved)
[    0.000000]  BIOS-e820: 00000000fed1c000 - 00000000fed20000 (reserved)
[    0.000000]  BIOS-e820: 00000000fee00000 - 00000000fee01000 (reserved)
[    0.000000]  BIOS-e820: 00000000ffe00000 - 0000000100000000 (reserved)
[    0.000000] 96MB HIGHMEM available.
[    0.000000] 896MB LOWMEM available.
[    0.000000] Entering add_active_range(0, 0, 254196) 0 entries of 256 used
[    0.000000] Zone PFN ranges:
[    0.000000]   DMA             0 ->     4096
[    0.000000]   Normal       4096 ->   229376
[    0.000000]   HighMem    229376 ->   254196
[    0.000000] Movable zone start PFN for each node
[    0.000000] early_node_map[1] active PFN ranges
[    0.000000]     0:        0 ->   254196
[    0.000000] On node 0 totalpages: 254196
[    0.000000]   DMA zone: 32 pages used for memmap
[    0.000000]   DMA zone: 0 pages reserved
[    0.000000]   DMA zone: 4064 pages, LIFO batch:0
[    0.000000]   Normal zone: 1760 pages used for memmap
[    0.000000]   Normal zone: 223520 pages, LIFO batch:31
[    0.000000]   HighMem zone: 193 pages used for memmap
[    0.000000]   HighMem zone: 24627 pages, LIFO batch:7
[    0.000000]   Movable zone: 0 pages used for memmap
[    0.000000] DMI 2.4 present.
[    0.000000] ACPI: RSDP 000FE020, 0024 (r2 APPLE )
[    0.000000] ACPI: XSDT 3EEFD1C0, 0074 (r1 APPLE   Apple00       A5       1000013)
[    0.000000] ACPI: FACP 3EEFB000, 00F4 (r3 APPLE   Apple00       A5 Loki       5F)
[    0.000000] ACPI: DSDT 3EEF0000, 41E4 (r1 APPLE   MacBook    20001 INTL 20050309)
[    0.000000] ACPI: FACS 3EEC0000, 0040
[    0.000000] ACPI: HPET 3EEFA000, 0038 (r1 APPLE   Apple00        1 Loki       5F)
[    0.000000] ACPI: APIC 3EEF9000, 0068 (r1 APPLE   Apple00        1 Loki       5F)
[    0.000000] ACPI: MCFG 3EEF8000, 003C (r1 APPLE   Apple00        1 Loki       5F)
[    0.000000] ACPI: ASF! 3EEF7000, 00A0 (r32 APPLE   Apple00        1 Loki       5F)
[    0.000000] ACPI: SBST 3EEF6000, 0030 (r1 APPLE   Apple00        1 Loki       5F)
[    0.000000] ACPI: ECDT 3EEF5000, 0053 (r1 APPLE   Apple00        1 Loki       5F)
[    0.000000] ACPI: SSDT 3EEEF000, 04DC (r1 APPLE     CpuPm     3000 INTL 20050309)
[    0.000000] ACPI: SSDT 3EEBD000, 064F (r1 SataRe  SataPri     1000 INTL 20050309)
[    0.000000] ACPI: SSDT 3EEBC000, 069C (r1 SataRe  SataSec     1000 INTL 20050309)
[    0.000000] ACPI: PM-Timer IO Port: 0x408
[    0.000000] ACPI: Local APIC address 0xfee00000
[    0.000000] ACPI: LAPIC (acpi_id[0x00] lapic_id[0x00] enabled)
[    0.000000] Processor #0 6:15 APIC version 20
[    0.000000] ACPI: LAPIC (acpi_id[0x01] lapic_id[0x01] enabled)
[    0.000000] Processor #1 6:15 APIC version 20
[    0.000000] ACPI: LAPIC_NMI (acpi_id[0x00] high edge lint[0x1])
[    0.000000] ACPI: LAPIC_NMI (acpi_id[0x01] high edge lint[0x1])
[    0.000000] ACPI: IOAPIC (id[0x01] address[0xfec00000] gsi_base[0])
[    0.000000] IOAPIC[0]: apic_id 1, version 32, address 0xfec00000, GSI 0-23
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.000000] ACPI: IRQ0 used by override.
[    0.000000] ACPI: IRQ2 used by override.
[    0.000000] ACPI: IRQ9 used by override.
[    0.000000] Enabling APIC mode:  Flat.  Using 1 I/O APICs
[    0.000000] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.000000] Using ACPI (MADT) for SMP configuration information
[    0.000000] Allocating PCI resources starting at 50000000 (gap: 40000000:b0000000)
[    0.000000] swsusp: Registered nosave memory region: 000000000009f000 - 00000000000a0000
[    0.000000] swsusp: Registered nosave memory region: 00000000000a0000 - 00000000000e0000
[    0.000000] swsusp: Registered nosave memory region: 00000000000e0000 - 0000000000100000
[    0.000000] Built 1 zonelists in Zone order.  Total pages: 252211
[    0.000000] Kernel command line: root=/dev/sda6 ro
[    0.000000] mapped APIC to ffffb000 (fee00000)
[    0.000000] mapped IOAPIC to ffffa000 (fec00000)
[    0.000000] Enabling fast FPU save and restore... done.
[    0.000000] Enabling unmasked SIMD FPU exception support... done.
[    0.000000] Initializing CPU#0
[    0.000000] CPU 0 irqstacks, hard=c04c0000 soft=c04be000
[    0.000000] PID hash table entries: 4096 (order: 12, 16384 bytes)
[    0.000000] Detected 1995.262 MHz processor.
[   47.324283] Console: colour VGA+ 80x25
[   47.324287] console [tty0] enabled
[   47.329080] Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)
[   47.329500] Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)
[   47.356221] Memory: 1003100k/1016784k available (2465k kernel code, 13036k reserved, 1090k data, 244k init, 99280k highmem)
[   47.356315] virtual kernel memory layout:
[   47.356316]     fixmap  : 0xfff9b000 - 0xfffff000   ( 400 kB)
[   47.356317]     pkmap   : 0xff800000 - 0xffc00000   (4096 kB)
[   47.356318]     vmalloc : 0xf8800000 - 0xff7fe000   ( 111 MB)
[   47.356319]     lowmem  : 0xc0000000 - 0xf8000000   ( 896 MB)
[   47.356320]       .init : 0xc047e000 - 0xc04bb000   ( 244 kB)
[   47.356321]       .data : 0xc0368565 - 0xc0478f64   (1090 kB)
[   47.356322]       .text : 0xc0100000 - 0xc0368565   (2465 kB)
[   47.356839] Checking if this processor honours the WP bit even in supervisor mode... Ok.
[   47.356993] SLUB: Genslabs=22, HWalign=64, Order=0-1, MinObjects=4, CPUs=2, Nodes=1
[   47.357196] hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
[   47.357436] hpet0: 3 64-bit timers, 14318180 Hz
[   47.438473] Calibrating delay using timer specific routine.. 3994.64 BogoMIPS (lpj=7989282)
[   47.438617] Security Framework v1.0.0 initialized
[   47.438695] Mount-cache hash table entries: 512
[   47.438871] CPU: After generic identify, caps: bfebfbff 20100000 00000000 00000000 0000e3bd 00000000 00000001 00000000
[   47.438878] monitor/mwait feature present.
[   47.438942] using mwait in idle threads.
[   47.439007] CPU: L1 I cache: 32K, L1 D cache: 32K
[   47.439115] CPU: L2 cache: 4096K
[   47.439177] CPU: Physical Processor ID: 0
[   47.439240] CPU: Processor Core ID: 0
[   47.439303] CPU: After all inits, caps: bfebfbff 20100000 00000000 00003940 0000e3bd 00000000 00000001 00000000
[   47.439311] Compat vDSO mapped to ffffe000.
[   47.439383] Checking 'hlt' instruction... OK.
[   47.454930] SMP alternatives: switching to UP code
[   47.455993] ACPI: Core revision 20070126
[   47.458211] CPU0: Intel(R) Core(TM)2 CPU         T7200  @ 2.00GHz stepping 06
[   47.458381] SMP alternatives: switching to SMP code
[   47.459443] Booting processor 1/1 eip 3000
[   47.459507] CPU 1 irqstacks, hard=c04c1000 soft=c04bf000
[   47.470044] Initializing CPU#1
[   47.550408] Calibrating delay using timer specific routine.. 3990.06 BogoMIPS (lpj=7980123)
[   47.550414] CPU: After generic identify, caps: bfebfbff 20100000 00000000 00000000 0000e3bd 00000000 00000001 00000000
[   47.550419] monitor/mwait feature present.
[   47.550422] CPU: L1 I cache: 32K, L1 D cache: 32K
[   47.550424] CPU: L2 cache: 4096K
[   47.550426] CPU: Physical Processor ID: 0
[   47.550427] CPU: Processor Core ID: 1
[   47.550428] CPU: After all inits, caps: bfebfbff 20100000 00000000 00003940 0000e3bd 00000000 00000001 00000000
[   47.551169] CPU1: Intel(R) Core(TM)2 CPU         T7200  @ 2.00GHz stepping 06
[   47.551784] Total of 2 processors activated (7984.70 BogoMIPS).
[   47.552044] ENABLING IO-APIC IRQs
[   47.552302] ..TIMER: vector=0x31 apic1=0 pin1=2 apic2=-1 pin2=-1
[   47.698432] checking TSC synchronization [CPU#0 -> CPU#1]: passed.
[   47.718551] Brought up 2 CPUs
[   47.718926] Time:  4:26:19  Date: 06/29/107
[   47.719008] NET: Registered protocol family 16
[   47.719235] ACPI: bus type pci registered
[   47.719381] PCI: Using MMCONFIG
[   47.720175] Setting up standard PCI resources
[   47.722674] ACPI: EC: EC description table is found, configuring boot EC
[   47.724318] ACPI: System BIOS is requesting _OSI(Linux)
[   47.724385] ACPI: If "acpi_osi=Linux" works better,
[   47.724386] Please send dmidecode to linux-acpi@vger.kernel.org
[   47.724899] ACPI: Interpreter enabled
[   47.724963] ACPI: (supports S0 S3 S4 S5)
[   47.725256] ACPI: Using IOAPIC for interrupt routing
[   47.731327] ACPI: EC: GPE = 0x17, I/O: command/status = 0x66, data = 0x62<6>ACPI: PCI Root Bridge [PCI0] (0000:00)
[   47.732075] PCI quirk: region 0400-047f claimed by ICH6 ACPI/GPIO/TCO
[   47.732145] PCI quirk: region 0500-053f claimed by ICH6 GPIO
[   47.732852] PCI: Transparent bridge - 0000:00:1e.0
[   47.732965] ACPI: PCI Interrupt Routing Table [\_SB_.PCI0._PRT]
[   47.733265] ACPI: PCI Interrupt Routing Table [\_SB_.PCI0.RP01._PRT]
[   47.733381] ACPI: PCI Interrupt Routing Table [\_SB_.PCI0.RP02._PRT]
[   47.733506] ACPI: PCI Interrupt Routing Table [\_SB_.PCI0.PCIB._PRT]
[   47.740287] ACPI: PCI Interrupt Link [LNKA] (IRQs 1 3 4 5 6 7 10 12 14 15) *11
[   47.741014] ACPI: PCI Interrupt Link [LNKB] (IRQs 1 3 4 5 6 7 *11 12 14 15)
[   47.741681] ACPI: PCI Interrupt Link [LNKC] (IRQs 1 3 4 5 6 7 10 12 14 15) *11
[   47.742410] ACPI: PCI Interrupt Link [LNKD] (IRQs 1 3 4 5 6 7 *11 12 14 15)
[   47.743079] ACPI: PCI Interrupt Link [LNKE] (IRQs 1 3 4 5 6 7 10 12 14 15) *0, disabled.
[   47.743848] ACPI: PCI Interrupt Link [LNKF] (IRQs 1 3 4 5 6 7 11 12 14 15) *0, disabled.
[   47.744617] ACPI: PCI Interrupt Link [LNKG] (IRQs 1 3 4 5 6 7 *10 12 14 15)
[   47.745285] ACPI: PCI Interrupt Link [LNKH] (IRQs 3 4 5 6 7 *11 12 14 15)
[   47.745963] Linux Plug and Play Support v0.97 (c) Adam Belay
[   47.746057] pnp: PnP ACPI init
[   47.746125] ACPI: bus type pnp registered
[   47.747964] pnp: PnP ACPI: found 9 devices
[   47.748028] ACPI: ACPI bus type pnp unregistered
[   47.748258] SCSI subsystem initialized
[   47.748358] libata version 2.21 loaded.
[   47.748480] usbcore: registered new interface driver usbfs
[   47.748597] usbcore: registered new interface driver hub
[   47.748700] usbcore: registered new device driver usb
[   47.748957] PCI: Using ACPI for IRQ routing
[   47.749021] PCI: If a device doesn't work, try "pci=routeirq".  If it helps, post a report
[   47.766294] Time: tsc clocksource has been installed.
[   47.778544] pnp: 00:01: iomem range 0xf0000000-0xf3ffffff could not be reserved
[   47.778627] pnp: 00:01: iomem range 0xfed14000-0xfed17fff could not be reserved
[   47.778709] pnp: 00:01: iomem range 0xfed18000-0xfed18fff could not be reserved
[   47.778792] pnp: 00:01: iomem range 0xfed19000-0xfed19fff could not be reserved
[   47.778879] pnp: 00:05: iomem range 0xfed00000-0xfed003ff has been reserved
[   47.809285] PCI: Bridge: 0000:00:1c.0
[   47.809350]   IO window: 1000-1fff
[   47.809416]   MEM window: 50200000-502fffff
[   47.809481]   PREFETCH window: 50500000-505fffff
[   47.809549] PCI: Bridge: 0000:00:1c.1
[   47.809611]   IO window: disabled.
[   47.809676]   MEM window: 50100000-501fffff
[   47.809742]   PREFETCH window: disabled.
[   47.809808] PCI: Bridge: 0000:00:1e.0
[   47.809870]   IO window: disabled.
[   47.809936]   MEM window: 50000000-500fffff
[   47.810001]   PREFETCH window: disabled.
[   47.810087] ACPI: PCI Interrupt 0000:00:1c.0[A] -> GSI 17 (level, low) -> IRQ 16
[   47.810216] PCI: Setting latency timer of device 0000:00:1c.0 to 64
[   47.810236] ACPI: PCI Interrupt 0000:00:1c.1[B] -> GSI 16 (level, low) -> IRQ 17
[   47.811137] PCI: Setting latency timer of device 0000:00:1c.1 to 64
[   47.811148] PCI: Setting latency timer of device 0000:00:1e.0 to 64
[   47.811158] NET: Registered protocol family 2
[   47.850489] IP route cache hash table entries: 32768 (order: 5, 131072 bytes)
[   47.850622] TCP established hash table entries: 131072 (order: 9, 2097152 bytes)
[   47.851467] TCP bind hash table entries: 65536 (order: 7, 786432 bytes)
[   47.851865] TCP: Hash tables configured (established 131072 bind 65536)
[   47.851934] TCP reno registered
[   47.863121] audit: initializing netlink socket (disabled)
[   47.863196] audit(1185683179.380:1): initialized
[   47.863357] highmem bounce pool size: 64 pages
[   47.865979] VFS: Disk quotas dquot_6.5.1
[   47.866100] Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
[   47.866432] io scheduler noop registered
[   47.866507] io scheduler cfq registered (default)
[   47.866579] Boot video device is 0000:00:02.0
[   47.866861] PCI: Setting latency timer of device 0000:00:1c.0 to 64
[   47.866909] assign_interrupt_mode Found MSI capability
[   47.867012] Allocate Port Service[0000:00:1c.0:pcie00]
[   47.867048] Allocate Port Service[0000:00:1c.0:pcie02]
[   47.867083] Allocate Port Service[0000:00:1c.0:pcie03]
[   47.867173] PCI: Setting latency timer of device 0000:00:1c.1 to 64
[   47.867221] assign_interrupt_mode Found MSI capability
[   47.867320] Allocate Port Service[0000:00:1c.1:pcie00]
[   47.867357] Allocate Port Service[0000:00:1c.1:pcie02]
[   47.867391] Allocate Port Service[0000:00:1c.1:pcie03]
[   47.867642] ACPI: AC Adapter [ADP1] (on-line)
[   47.868106] ACPI: Battery Slot [BAT0] (battery present)
[   47.868283] input: Power Button (FF) as /class/input/input0
[   47.868351] ACPI: Power Button (FF) [PWRF]
[   47.868477] input: Lid Switch as /class/input/input1
[   47.868547] ACPI: Lid Switch [LID0]
[   47.868668] input: Power Button (CM) as /class/input/input2
[   47.868734] ACPI: Power Button (CM) [PWRB]
[   47.868856] input: Sleep Button (CM) as /class/input/input3
[   47.868923] ACPI: Sleep Button (CM) [SLPB]
[   47.869378] ACPI: SSDT 3EEB8C10, 026C (r1 APPLE   Cpu0Ist     3000 INTL 20050309)
[   47.869736] ACPI: SSDT 3EEB8910, 02A0 (r1 APPLE   Cpu0Cst     3001 INTL 20050309)
[   47.870144] Monitor-Mwait will be used to enter C-1 state
[   47.870147] Monitor-Mwait will be used to enter C-2 state
[   47.870149] Monitor-Mwait will be used to enter C-3 state
[   47.870167] ACPI: CPU0 (power states: C1[C1] C2[C2] C3[C3])
[   47.870408] ACPI: Processor [CPU0] (supports 8 throttling states)
[   47.870791] ACPI: SSDT 3EEB8F10, 0087 (r1 APPLE   Cpu1Ist     3000 INTL 20050309)
[   47.871135] ACPI: SSDT 3EEB7F10, 0085 (r1 APPLE   Cpu1Cst     3000 INTL 20050309)
[   47.871574] ACPI: CPU1 (power states: C1[C1] C2[C2] C3[C3])
[   47.871815] ACPI: Processor [CPU1] (supports 8 throttling states)
[   47.873724] Marking TSC unstable due to: possible TSC halt in C2.
[   47.874171] Time: hpet clocksource has been installed.
[   47.874247] Switched to high resolution mode on CPU 0
[   47.874267] Switched to high resolution mode on CPU 1
[   47.908604] Real Time Clock Driver v1.12ac
[   47.908916] hpet_resources: 0xfed00000 is busy
[   47.908942] Linux agpgart interface v0.102
[   47.909065] agpgart: Detected an Intel 945GM Chipset.
[   47.910591] agpgart: Detected 16124K stolen memory.
[   47.926048] agpgart: AGP aperture is 256M @ 0x40000000
[   47.926233] ipmi message handler version 39.1
[   47.926301] intelfb: Framebuffer driver for Intel(R) 830M/845G/852GM/855GM/865G/915G/915GM/945G/945GM chipsets
[   47.926388] intelfb: Version 0.9.4
[   47.926548] ACPI: PCI Interrupt 0000:00:02.0[A] -> GSI 16 (level, low) -> IRQ 17
[   47.926679] intelfb: 00:02.0: Intel(R) 945GM, aperture size 256MB, stolen memory 16124kB
[   47.928867] intelfb: Non-CRT device is enabled ( LVDS port ).  Disabling mode switching.
[   47.929047] intelfb: Video mode must be programmed at boot time.
[   47.931869] RAMDISK driver initialized: 16 RAM disks of 65536K size 1024 blocksize
[   47.932555] loop: module loaded
[   47.932718] ACPI: PCI Interrupt 0000:01:00.0[A] -> GSI 16 (level, low) -> IRQ 17
[   47.932850] PCI: Setting latency timer of device 0000:01:00.0 to 64
[   47.932877] sky2 0000:01:00.0: v1.16 addr 0x50200000 irq 17 Yukon-EC (0xb6) rev 2
[   47.933234] sky2 eth0: addr 00:17:f2:f5:aa:1f
[   47.933485] input: Macintosh mouse button emulation as /class/input/input4
[   47.934000] ata_piix 0000:00:1f.1: version 2.11
[   47.934012] ACPI: PCI Interrupt 0000:00:1f.1[A] -> GSI 18 (level, low) -> IRQ 18
[   47.934163] PCI: Setting latency timer of device 0000:00:1f.1 to 64
[   47.934275] scsi0 : ata_piix
[   47.934470] scsi1 : ata_piix
[   47.934604] ata1: PATA max UDMA/133 cmd 0x000101f0 ctl 0x000103f6 bmdma 0x000120b0 irq 14
[   47.934688] ata2: PATA max UDMA/133 cmd 0x00010170 ctl 0x00010376 bmdma 0x000120b8 irq 15
[   47.940081] ata1.00: ATAPI: MATSHITADVD-R   UJ-857D, KBV9, max UDMA/66
[   47.942079] ata1.00: configured for UDMA/66
[   47.943783] Clocksource tsc unstable (delta = -493154665 ns)
[   47.957073] scsi 0:0:0:0: CD-ROM            MATSHITA DVD-R   UJ-857D  KBV9 PQ: 0 ANSI: 5
[   47.957370] ata_piix 0000:00:1f.2: MAP [ P0 P2 -- -- ]
[   47.960897] ACPI: PCI Interrupt 0000:00:1f.2[B] -> GSI 19 (level, low) -> IRQ 19
[   47.961066] PCI: Setting latency timer of device 0000:00:1f.2 to 64
[   47.961165] scsi2 : ata_piix
[   47.961367] scsi3 : ata_piix
[   47.961502] ata3: SATA max UDMA/133 cmd 0x000120c8 ctl 0x000120ee bmdma 0x000120a0 irq 19
[   47.961586] ata4: SATA max UDMA/133 cmd 0x000120c0 ctl 0x000120ea bmdma 0x000120a8 irq 19
[   47.993949] ata3.01: ATA-7: TOSHIBA MK1234GSX, AH008B, max UDMA/100
[   47.994023] ata3.01: 234441648 sectors, multi 16: LBA48 NCQ (depth 0/8)
[   47.995255] ata3.01: configured for UDMA/100
[   48.007285] scsi 2:0:1:0: Direct-Access     ATA      TOSHIBA MK1234GS AH00 PQ: 0 ANSI: 5
[   48.007544] sd 2:0:1:0: [sda] 234441648 512-byte hardware sectors (120034 MB)
[   48.007625] sd 2:0:1:0: [sda] Write Protect is off
[   48.007690] sd 2:0:1:0: [sda] Mode Sense: 00 3a 00 00
[   48.007707] sd 2:0:1:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[   48.007831] sd 2:0:1:0: [sda] 234441648 512-byte hardware sectors (120034 MB)
[   48.007907] sd 2:0:1:0: [sda] Write Protect is off
[   48.007989] sd 2:0:1:0: [sda] Mode Sense: 00 3a 00 00
[   48.008005] sd 2:0:1:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[   48.008092]  sda: sda1 sda2 sda3 < sda5 sda6 sda7 >
[   48.072777] sd 2:0:1:0: [sda] Attached SCSI disk
[   48.073256] ACPI: PCI Interrupt 0000:00:1d.7[A] -> GSI 21 (level, low) -> IRQ 20
[   48.073388] PCI: Setting latency timer of device 0000:00:1d.7 to 64
[   48.073391] ehci_hcd 0000:00:1d.7: EHCI Host Controller
[   48.073622] ehci_hcd 0000:00:1d.7: new USB bus registered, assigned bus number 1
[   48.073733] ehci_hcd 0000:00:1d.7: debug port 1
[   48.073801] PCI: cache line size of 32 is not supported by device 0000:00:1d.7
[   48.073810] ehci_hcd 0000:00:1d.7: irq 20, io mem 0x50445400
[   48.077747] ehci_hcd 0000:00:1d.7: USB 2.0 started, EHCI 1.00, driver 10 Dec 2004
[   48.078106] usb usb1: configuration #1 chosen from 1 choice
[   48.078254] hub 1-0:1.0: USB hub found
[   48.078322] hub 1-0:1.0: 8 ports detected
[   48.082483] USB Universal Host Controller Interface driver v3.0
[   48.082616] ACPI: PCI Interrupt 0000:00:1d.0[A] -> GSI 21 (level, low) -> IRQ 20
[   48.082745] PCI: Setting latency timer of device 0000:00:1d.0 to 64
[   48.082748] uhci_hcd 0000:00:1d.0: UHCI Host Controller
[   48.082947] uhci_hcd 0000:00:1d.0: new USB bus registered, assigned bus number 2
[   48.083054] uhci_hcd 0000:00:1d.0: irq 20, io base 0x00002080
[   48.083352] usb usb2: configuration #1 chosen from 1 choice
[   48.083480] hub 2-0:1.0: USB hub found
[   48.083548] hub 2-0:1.0: 2 ports detected
[   48.093712] ACPI: PCI Interrupt 0000:00:1d.1[B] -> GSI 19 (level, low) -> IRQ 19
[   48.093842] PCI: Setting latency timer of device 0000:00:1d.1 to 64
[   48.093845] uhci_hcd 0000:00:1d.1: UHCI Host Controller
[   48.094033] uhci_hcd 0000:00:1d.1: new USB bus registered, assigned bus number 3
[   48.094139] uhci_hcd 0000:00:1d.1: irq 19, io base 0x00002060
[   48.094431] usb usb3: configuration #1 chosen from 1 choice
[   48.094562] hub 3-0:1.0: USB hub found
[   48.094629] hub 3-0:1.0: 2 ports detected
[   48.104939] ACPI: PCI Interrupt 0000:00:1d.2[C] -> GSI 18 (level, low) -> IRQ 18
[   48.105068] PCI: Setting latency timer of device 0000:00:1d.2 to 64
[   48.105071] uhci_hcd 0000:00:1d.2: UHCI Host Controller
[   48.105258] uhci_hcd 0000:00:1d.2: new USB bus registered, assigned bus number 4
[   48.105367] uhci_hcd 0000:00:1d.2: irq 18, io base 0x00002040
[   48.105653] usb usb4: configuration #1 chosen from 1 choice
[   48.105781] hub 4-0:1.0: USB hub found
[   48.105848] hub 4-0:1.0: 2 ports detected
[   48.114783] usb 1-1: new high speed USB device using ehci_hcd and address 2
[   48.127945] ACPI: PCI Interrupt 0000:00:1d.3[D] -> GSI 16 (level, low) -> IRQ 17
[   48.128074] PCI: Setting latency timer of device 0000:00:1d.3 to 64
[   48.128077] uhci_hcd 0000:00:1d.3: UHCI Host Controller
[   48.128267] uhci_hcd 0000:00:1d.3: new USB bus registered, assigned bus number 5
[   48.128377] uhci_hcd 0000:00:1d.3: irq 17, io base 0x00002020
[   48.128660] usb usb5: configuration #1 chosen from 1 choice
[   48.128789] hub 5-0:1.0: USB hub found
[   48.128858] hub 5-0:1.0: 2 ports detected
[   48.158977] usb 1-1: configuration #1 chosen from 1 choice
[   48.159226] hub 1-1:1.0: USB hub found
[   48.159392] hub 1-1:1.0: 2 ports detected
[   48.653835] usb 1-4: new high speed USB device using ehci_hcd and address 4
[   48.786290] usb 1-4: configuration #1 chosen from 1 choice
[   49.633237] usb 2-2: new full speed USB device using uhci_hcd and address 2
[   49.819551] usb 2-2: configuration #1 chosen from 1 choice
[   50.196898] usb 4-2: new full speed USB device using uhci_hcd and address 2
[   50.379023] usb 4-2: configuration #1 chosen from 1 choice
[   50.620634] usb 5-1: new full speed USB device using uhci_hcd and address 2
[   50.801782] usb 5-1: configuration #1 chosen from 1 choice
[   51.004471] usb 1-1.1: new high speed USB device using ehci_hcd and address 7
[   51.096893] usb 1-1.1: configuration #1 chosen from 1 choice
[   51.097105] hub 1-1.1:1.0: USB hub found
[   51.097304] hub 1-1.1:1.0: 4 ports detected
[   51.400241] usb 1-1.2: new full speed USB device using ehci_hcd and address 8
[   51.495590] usb 1-1.2: configuration #1 chosen from 1 choice
[   51.495909] hub 1-1.2:1.0: USB hub found
[   51.496312] hub 1-1.2:1.0: 3 ports detected
[   51.800041] usb 1-1.1.1: new high speed USB device using ehci_hcd and address 9
[   51.979190] usb 1-1.1.1: configuration #1 chosen from 1 choice
[   52.179832] usb 1-1.1.2: new full speed USB device using ehci_hcd and address 10
[   52.367661] usb 1-1.1.2: configuration #3 chosen from 1 choice
[   52.575608] usb 1-1.1.4: new full speed USB device using ehci_hcd and address 11
[   52.673977] usb 1-1.1.4: configuration #1 chosen from 1 choice
[   52.875574] usb 1-1.2.2: new low speed USB device using ehci_hcd and address 12
[   52.972818] usb 1-1.2.2: configuration #1 chosen from 1 choice
[   53.171408] usb 1-1.2.3: new full speed USB device using ehci_hcd and address 13
[   53.270216] usb 1-1.2.3: configuration #1 chosen from 1 choice
[   53.271512] usbcore: registered new interface driver libusual
[   53.271870] PNP: No PS/2 controller found. Probing ports directly.
[   53.272807] i8042.c: No controller found.
[   53.273088] mice: PS/2 mouse device common for all mice
[   53.273232] applesmc: Apple MacBook detected:
[   53.273300] applesmc:  - Model with accelerometer
[   53.273366] applesmc:  - Model without light sensors and backlight
[   53.273435] applesmc:  - Model with 12 temperature sensors
[   53.327566] applesmc: device successfully initialized (0xe0, 0x00).
[   53.327568] applesmc: device successfully initialized.
[   53.328727] applesmc: 1 fans found.
[   53.330200] input: applesmc as /class/input/input5
[   53.330345] applesmc: driver successfully loaded.
[   53.330515] usbcore: registered new interface driver hiddev
[   53.380649] input: Apple Computer Apple Internal Keyboard / Trackpad as /class/input/input6
[   53.380737] input: USB HID v1.11 Keyboard [Apple Computer Apple Internal Keyboard / Trackpad] on usb-0000:00:1d.0-2
[   53.383417] input: Apple Computer Apple Internal Keyboard / Trackpad as /class/input/input7
[   53.383514] input: USB HID v1.11 Device [Apple Computer Apple Internal Keyboard / Trackpad] on usb-0000:00:1d.0-2
[   53.499334] input: HID 05ac:1000 as /class/input/input8
[   53.499402] input: USB HID v1.11 Keyboard [HID 05ac:1000] on usb-0000:00:1d.3-1
[   53.517320] input: HID 05ac:1000 as /class/input/input9
[   53.517422] input: USB HID v1.11 Mouse [HID 05ac:1000] on usb-0000:00:1d.3-1
[   53.519326] input: Logitech Logitech USB Headset as /class/input/input10
[   53.519441] input: USB HID v1.00 Device [Logitech Logitech USB Headset] on usb-0000:00:1d.7-1.1.4
[   53.522243] input: Logitech USB-PS/2 Optical Mouse as /class/input/input11
[   53.522350] input: USB HID v1.10 Mouse [Logitech USB-PS/2 Optical Mouse] on usb-0000:00:1d.7-1.2.2
[   53.525902] input: Mitsumi Electric Apple Extended USB Keyboard as /class/input/input12
[   53.526008] input: USB HID v1.10 Keyboard [Mitsumi Electric Apple Extended USB Keyboard] on usb-0000:00:1d.7-1.2.3
[   53.530563] input: Mitsumi Electric Apple Extended USB Keyboard as /class/input/input13
[   53.530698] input: USB HID v1.10 Device [Mitsumi Electric Apple Extended USB Keyboard] on usb-0000:00:1d.7-1.2.3
[   53.530925] usbcore: registered new interface driver usbhid
[   53.530993] drivers/hid/usbhid/hid-core.c: v2.6:USB HID core driver
[   53.531152] TCP cubic registered
[   53.531222] NET: Registered protocol family 1
[   53.532006] Starting balanced_irq
[   53.532096] Using IPI No-Shortcut mode
[   53.532264]   Magic number: 15:979:414
[   53.559168] EXT3-fs: INFO: recovery required on readonly filesystem.
[   53.559242] EXT3-fs: write access will be enabled during recovery.
[   58.040447] kjournald starting.  Commit interval 5 seconds
[   58.040462] EXT3-fs: sda6: orphan cleanup on readonly fs
[   58.040469] ext3_orphan_cleanup: deleting unreferenced inode 133091
[   58.061384] EXT3-fs: sda6: 1 orphan inode deleted
[   58.061448] EXT3-fs: recovery complete.
[   58.101247] EXT3-fs: mounted filesystem with ordered data mode.
[   58.101336] VFS: Mounted root (ext3 filesystem) readonly.
[   58.101559] Freeing unused kernel memory: 244k freed
[   66.439114] sky2 eth0: enabling interface
[   66.454470] sky2 eth0: ram buffer 48K
[   67.387008] iTCO_vendor_support: vendor-support=0
[   67.402414] iTCO_wdt: Intel TCO WatchDog Timer Driver v1.01 (21-Jan-2007)
[   67.402555] iTCO_wdt: Found a ICH7-M TCO device (Version=2, TCOBASE=0x0460)
[   67.402656] iTCO_wdt: initialized. heartbeat=30 sec (nowayout=0)
[   67.492412] scsi 0:0:0:0: Attached scsi generic sg0 type 5
[   67.492505] sd 2:0:1:0: Attached scsi generic sg1 type 0
[   67.515137] ath_hal: module license 'Proprietary' taints kernel.
[   67.515906] ath_hal: 0.9.30.13 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133)
[   67.691675] wlan: 0.8.4.2 (svn r2592)
[   67.724798] sr0: scsi3-mmc drive: 62x/62x writer cd/rw xa/form2 cdda tray
[   67.724877] Uniform CD-ROM driver Revision: 3.20
[   67.725021] sr 0:0:0:0: Attached scsi CD-ROM sr0
[   67.739371] appletouch Geyser 3 inited.
[   67.739488] input: appletouch as /class/input/input14
[   67.739610] usbcore: registered new interface driver appletouch
[   67.847317] cdc_acm 1-1.1.2:3.1: ttyACM0: USB ACM device
[   67.850691] cdc_acm 1-1.1.2:3.3: ttyACM1: USB ACM device
[   67.853011] usbcore: registered new interface driver cdc_acm
[   67.853086] drivers/usb/class/cdc-acm.c: v0.25:USB Abstract Control Model driver for USB modems and ISDN adapters
[   67.870766] ath_pci: 0.9.4.5 (svn r2592)
[   67.870882] ACPI: PCI Interrupt 0000:02:00.0[A] -> GSI 17 (level, low) -> IRQ 16
[   67.871023] PCI: Setting latency timer of device 0000:02:00.0 to 64
[   67.926701] intel_rng: FWH not detected
[   67.951267] ACPI: Video Device [GFX0] (multi-head: yes  rom: no  post: no)
[   67.967966] NET: Registered protocol family 17
[   68.000119] ath_pci: switching rfkill capability off
[   68.009362] usb0: register 'cdc_ether' at usb-0000:00:1d.7-1.1.2, CDC Ethernet Device, 02:80:37:0b:03:00
[   68.009470] usbcore: registered new interface driver cdc_ether
[   68.039165] ath_rate_sample: 1.2 (svn r2592)
[   68.039650] ath_pci: switching per-packet transmit power control off
[   68.039833] wifi0: 11a rates: 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
[   68.040329] wifi0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps
[   68.040614] wifi0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
[   68.041278] wifi0: turboA rates: 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
[   68.041754] wifi0: turboG rates: 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
[   68.042227] wifi0: H/W encryption support: WEP AES AES_CCM TKIP
[   68.042508] wifi0: mac 12.10 phy 8.1 radio 12.0
[   68.042661] wifi0: Use hw queue 1 for WME_AC_BE traffic
[   68.042728] wifi0: Use hw queue 0 for WME_AC_BK traffic
[   68.042792] wifi0: Use hw queue 2 for WME_AC_VI traffic
[   68.042856] wifi0: Use hw queue 3 for WME_AC_VO traffic
[   68.042921] wifi0: Use hw queue 8 for CAB traffic
[   68.042999] wifi0: Use hw queue 9 for beacons
[   68.101828] wifi0: Atheros 5418: mem=0x50100000, irq=16
[   68.101957] ACPI: PCI Interrupt 0000:03:03.0[A] -> GSI 19 (level, low) -> IRQ 19
[   68.173937] firewire_ohci: Added fw-ohci device 0000:03:03.0, OHCI version 1.0
[   68.414301] usbcore: registered new interface driver snd-usb-audio
[   68.463085] ACPI: PCI Interrupt 0000:00:1b.0[A] -> GSI 22 (level, low) -> IRQ 21
[   68.463235] PCI: Setting latency timer of device 0000:00:1b.0 to 64
[   68.495128] hda_codec: STAC922x, Apple subsys_id=106b2200
[   68.673733] firewire_core: created new fw device fw0 (0 config rom retries, S400)
[   68.678021] lp: driver loaded but no devices found
[   68.746082] Adding 4690972k swap on /dev/disk/by-uuid/a6ee3880-aa0d-43a9-859d-1ae554926afe.  Priority:-1 extents:1 across:4690972k
[   68.814898] sky2 eth0: Link is up at 1000 Mbps, full duplex, flow control both
[   68.883999] EXT3 FS on sda6, internal journal
[   73.870467] NET: Registered protocol family 10
[   73.870539] lo: Disabled Privacy Extensions
[   75.016593] kjournald starting.  Commit interval 5 seconds
[   75.016962] EXT3 FS on sda5, internal journal
[   75.016970] EXT3-fs: mounted filesystem with ordered data mode.
[   75.035944] kjournald starting.  Commit interval 5 seconds
[   75.036382] EXT3 FS on sda7, internal journal
[   75.036388] EXT3-fs: mounted filesystem with ordered data mode.
[   77.788559] Capability LSM initialized
[   78.534540] ppdev: user-space parallel port driver
[   80.738151] Installing knfsd (copyright (C) 1996 okir@monad.swb.de).
[   80.900427] NFSD: Using /var/lib/nfs/v4recovery as the NFSv4 state recovery directory
[   80.915235] NFSD: starting 90-second grace period
[   82.339528] [drm] Initialized drm 1.1.0 20060810
[   82.367815] [drm] Initialized i915 1.6.0 20060119 on minor 0
[   83.895647] Bluetooth: Core ver 2.11
[   83.895803] NET: Registered protocol family 31
[   83.896060] Bluetooth: HCI device and connection manager initialized
[   83.896417] Bluetooth: HCI socket layer initialized
[   83.937903] Bluetooth: L2CAP ver 2.8
[   83.937907] Bluetooth: L2CAP socket layer initialized
[   84.128681] Bluetooth: RFCOMM socket layer initialized
[   84.128756] Bluetooth: RFCOMM TTY layer initialized
[   84.128760] Bluetooth: RFCOMM ver 1.8
[   84.352169] usb 5-1: USB disconnect, address 2
[   84.591927] usb 5-1: new full speed USB device using uhci_hcd and address 3
[   84.790385] usb 5-1: configuration #1 chosen from 1 choice
[   84.858873] Bluetooth: HCI USB driver ver 2.9
[   84.862029] usbcore: registered new interface driver hci_usb
[   94.218585] eth0: no IPv6 routers present
[  165.489630] ISO 9660 Extensions: Microsoft Joliet Level 3
[  165.658623] ISO 9660 Extensions: RRIP_1991A
[31789.433005] usb 1-1.2.2: USB disconnect, address 12
[31794.362660] usb 1-1.2.2: new low speed USB device using ehci_hcd and address 15
[31794.460418] usb 1-1.2.2: configuration #1 chosen from 1 choice
[31794.464251] input: Logitech USB-PS/2 Optical Mouse as /class/input/input15
[31794.465100] input: USB HID v1.10 Mouse [Logitech USB-PS/2 Optical Mouse] on usb-0000:00:1d.7-1.2.2
[32596.458613] keyboard.c: can't emulate rawmode for keycode 240
[32596.570530] keyboard.c: can't emulate rawmode for keycode 240
[32597.801877] keyboard.c: can't emulate rawmode for keycode 240
[32598.025726] keyboard.c: can't emulate rawmode for keycode 240
[32598.217642] keyboard.c: can't emulate rawmode for keycode 240
[32598.714939] keyboard.c: can't emulate rawmode for keycode 240
[32598.750935] keyboard.c: can't emulate rawmode for keycode 240
[32598.786909] keyboard.c: can't emulate rawmode for keycode 240
[32598.822872] keyboard.c: can't emulate rawmode for keycode 240
[32598.858866] keyboard.c: can't emulate rawmode for keycode 240
[32622.484216] printk: 3 messages suppressed.
[32622.484224] keyboard.c: can't emulate rawmode for keycode 240
[32622.516213] keyboard.c: can't emulate rawmode for keycode 240
[32622.516225] keyboard.c: can't emulate rawmode for keycode 240
[32622.548176] keyboard.c: can't emulate rawmode for keycode 240
[32622.548191] keyboard.c: can't emulate rawmode for keycode 240
[32628.137737] usb 1-1.2.2: USB disconnect, address 15
[32629.742112] usb 1-1.2.2: new low speed USB device using ehci_hcd and address 16
[32629.839998] usb 1-1.2.2: configuration #1 chosen from 1 choice
[32629.843714] input: Logitech USB-PS/2 Optical Mouse as /class/input/input16
[32629.844152] input: USB HID v1.10 Mouse [Logitech USB-PS/2 Optical Mouse] on usb-0000:00:1d.7-1.2.2
[32634.229727] drivers/hid/usbhid/hid-core.c: input irq status -75 received
[unhandled content-type:application/octet-stream]