Date: Thu, 25 Jul 2002 11:41:53 +1000 (EST)
From: Neil Brown <>
Subject: Re: PATCH - mark 2: type safe(r) list_entry repacement: con
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/24/28

On Wednesday July 24, VANDROVE@vc.cvut.cz wrote:
> On 24 Jul 02 at 22:38, Neil Brown wrote:
> > 
> > With the "typeof" suggestion from Kevin, I could just change
> > list_entry and not woory about the fact that lots of people use
> > "list_entry" for things that aren't lists.... but I didn't.
> 
> Hello,
>   is list_entry name really that bad? We have well established 
> list_entry name since at least 2.2.0, and having two same functions 
> with two different names will (IMHO) cause more damage than benefit 
> from "clearer" name is.
Well... "list_entry" is fine when you are working with a list... but
when you aren't it is downright confusing.
The two functions (actually macros) have the same body, but have
conceptually different uses.  Having extra clues in the code to help
readers know what is happening is a *good*thing*.
>                                         Thanks,
>                                             Petr Vandrovec
> 
> P.S.: I converted whole matroxfb to use
> list_entry(xxx, struct matrox_fb_info, fbcon) instead of
> (struct matrox_fb_info*)xxx so that I can move fbcon field from 
> first position in matrox_fb_info - so I'm personally interested
> in backward source compatibility.
In the final patch backward source compatability was not broken, so
you should be fine.
NeilBrown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/