Date: Fri, 9 Apr 1999 16:15:25 +0200
From: Thierry Danis <>
Subject: showmount -a timing out
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/12/64

Hello,
I have two problems with knfsd 1.2 (not yet tried 1.2.2).
1)	showmount -a seems not to reflect the current status of
	the mounting points. In fact, it shows much more machines
	mounting the local partitions than there really are.
	When I look in the log file (/var/log/messages) I can
	see the unmount traces generated by mountd, but they are
	reflected via the showmount -a command.
2)	as a result, rpc.kstatd (upon restart) takes a really
	long time to notify its potential clients (around 10 minutes)
	(~ 150 entries reported by showmount -a before the shutdown).
3)	the combination of a local ypserver and kmountd is not a very
	happy one. The NFS server beeing bound (ypbind) to itself,
	ypserv and rpc.kmountd tend to loop frequently for a long
	time without answering when trying to authenticate a mount
	request. That usualy results in the mount request timing out
	(the long time can be 1, 2 or 3 minutes).
	I can achieve the same thing when issuing the showmount -a
	command (sometimes, not always).
-- 
	Thierry Danis
	Poste : 53 53	danis@spmo.sagem.fr
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/