Date: Mon, 24 Jan 2000 20:00:45 -0800
From: Larry McVoy <>
Subject: Re: Auto-Adaptive scheduler and semaphore patch ( 2.2.14 ) ...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/25/76

: So I gave it another try.  Here are three sets of numbers.  From
: 2.2.15pre2, 2.2.15pre2 with scheduler patch, and 2.2.15pre4 with
: adaptive scheduler patch.  The jist of the numbers is that, In my case
: (threaded java), I see about 10% increase in perf.  Note that the number
: of runnable tasks decrease with Davide's patch.  I seem to benifit from
: the smart wakeup code...
: 
: >From my point of view this is a winner.  What do other people's numbers
: look like?
Umm, looking at your vmstat numbers, which say you are doing 88,000
context switches/sec, or in other words, if the context switch itself
took 0 time, each process is running all of 11.4 usecs before switching.
Given that you are running loads of processes, it's not unreasonable to
think that the context switch itself is taking 100% of that 11.4 usecs.
How many times does this need to be said?  This is an irrelevant
data point.  I don't care if you see a 100% improvement in this case.
It's a stupid test case.  Under no circumstances would I trade off even
a 1% improvement in this case for some much as one more cache miss in
the scheduler.  It's just silly.
This game is like talking about how much smoother you can make your
engine run at 110,000 RPM, while merrily ignoring that (a) you never
run your engine at 110,000 RPM, and (b) the supposed improvemnt gives
you worse gas mileage at 4,000 RPM, where you spend all your time.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/