Date: Mon, 03 Oct 2005 09:11:14 +1000
From: Benjamin Herrenschmidt <>
Subject: Re: thinkpad suspend to ram and backlight
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/2/111

On Sun, 2005-10-02 at 20:23 +0200, Pavel Machek wrote:
> Hi!
> 
> > > When I suspend to RAM on x32, backlight is not turned off. (And, IIRC,
> > > video chips is not turned off, too). Unfortunately, backlight is not
> > > turned even when lid is closed. I know some patches were floating
> > > around to solve that... but I can't find them now. Any ideas?
> > 
> > if your thinkpad has ati radeon, you can use this:
> > 
> > 
http://www.thinkwiki.org/wiki/Radeontool
> 
> radeontool light off before suspend indeed works, but I'd like to
> solve it properly.
Well, it depends what you call "properly". There are indeed some patches
floating around that put the radeon chip in D2 state, that seem to help.
The problem is that the actual backlight control is a bit dodgy. That
is, some laptops use a separate chip from the radeon, some use the
radeon but have an inverted backlight signal, etc... and radeonfb
doesn't quite know how to deal with those cases (it has some hard coded
lists of machines with infos on how to deal with them for ppc).
Just dig around the list for the thinkpad suspend patches. I'm not 100%
sure they are correct yet though, but I suppose I should give them
another review and eventually merge them one of these days.
Ben.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/