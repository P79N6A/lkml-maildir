Date: Tue, 29 Aug 2006 11:10:27 +1000
From: Nick Piggin <>
Subject: Re: [RFT] sched.h removal from module.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/28/336

Alexey Dobriyan wrote:
> I don't have compile-kernel-in-a-minute box, so
> 
> Please, test on your usual configs and send me _new_ warnings and errors
> that appeared.
> 
> Patch seems to pass [alpha, i386, x86_64] x [allmodconfig-SMP, -UP] without
> regressions.
> 
> [PATCH] sched.h removal from module.h
> 
> This is done by duplicating prototype of wake_up_process() which seems
> to be the only thing module.h wants.
This is really ugly, IMO. It makes the code less maintainable, so I don't
think there is any point in doing it. In this case, we really do want to
use scheduler functions, so the thing you do in that case is to include
sched.h, not declare them yourself :(
If you are particularly concerned about this, just move all those refcount
inlines into kernel/module.c (they're too big anyway)... then you can drop
the sched.h include from module.h for free ;)
-- 
SUSE Labs, Novell Inc.
Send instant messages to your online friends 
http://au.messenger.yahoo.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/