Date: Wed, 27 Sep 2000 00:16:20 +0200
From: Marko Kreen <>
Subject: Re: [CFT][PATCH] ext2 directories in pagecache
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/26/11

On Tue, Sep 26, 2000 at 05:29:27PM -0400, Alexander Viro wrote:
> Comments and help in testing are more than welcome.
There is something fishy in ext2_empty_dir:
+                               /* check for . and .. */
+                               if (de->name[0] != '.')
+                                       goto not_empty;
+                               if (!de->name[1]) {
+                                       if (de->inode !=
+                                           le32_to_cpu(inode->i_ino))
+                                               goto not_empty;
+                               } else if (de->name[2])
+                                       goto not_empty;
+                               else if (de->name[1] != '.')
+                                       goto not_empty;
-- 
marko
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/