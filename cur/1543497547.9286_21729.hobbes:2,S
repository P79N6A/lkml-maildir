Date: Thu, 3 Jun 1999 12:12:56 +0300 (EEST)
From: Hudin Lucian <>
Subject: oops in kernel 2.2.5 and 2.2.9 with a sk_g16 net card
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/3/16

 Hi, I permanently get a kernel oops when ifuping eth0 with a sk_g16
 ethernet card in newer kernels. (2.2.x) In 2.0.x I did not have such
 a problem. the /usr/src/linux/drivers/net/sk_g16.c file is not modified
 since 1994-95.
 If it's necessary I can mail a screen dump, but it's easy reproductible,
 just take a machine with a sk_g16 and 2.2.x and you're done.
 I have tried to find the point where tha crash occurs, but it's not that
 easy, there are some obscure initialization of the sk_g16 card and using
 printk("trace #x\n"); I have discovered a point where it does crash:
 in sk_g16.c
 at line 940 there is a call to SK_lance_init() : this is where it does
 crash.
 Now in SK_lance_init() :
 at line 1024, in the 
 for(i = 0; i < TMDNUM; i++)
 {
	printk("trace #19 i = %d\n", i);
 	....
 }
 I get 
 trace #19 i = 0
 and then the oops
 
 my config is:
- k6/233 
- 48 MB RAM
- cdrom teac 24x
- cdrom acer 4x
- sound board yamaha SAx
- ati 3d charger rage II + DVD 4mb ram
- old net card scheiner & koch (sk_g16)
- redhat linux 5.1 with either kernel 2.2.5 or 2.2.9
 the sk_g16 thing cannot be compiled as a module, so
 its in kernel, when booting linux says :
 uranus kernel : sk_g16 detected on irq 5, shared memory at 0x0....
 then, later on , if the /etc/sysconfig/network-scripts/ifup-eth0 file
 does exist, a oops appears and the system locks
 process: ifconfig... etc
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/