Date: Fri, 6 Aug 2004 03:14:18 -0700
From: Paul Jackson <>
Subject: Re: [Lse-tech] [PATCH] new bitmap list format (for cpusets)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/6/47

Simon wrote:
> it really would have been a shame to lose this ease of use 
I agree with Simon -- this formatting makes learning, using and messing
around with cpusets much easier.  No need to learn yet another limited
use utility that tends to insulate one from what's going on.  Direct and
easy kernel control is good.
It doesn't matter much one way or the other to user level C code.  That
code has some function or library routine to parse the ascii file to and
from the preferred internal bitmap either way, whether the file format
is fixed length hex, or variable length decimal lists.
If is just an issue of compiled kernel text size, we could conditionally
compile the 837 bytes of text (on an i386 build close at hand: 459 bytes
for bitmap_parselist, 199 bytes for bitmap_scnlistprintf and 179 for
bscnl_emit).  So far only cpusets uses this format.  But usually it's
more a matter of kernel source and future maintenance.
I appreciate that it is easy to be against everyone's kernel bloat,
except my own ;).
I view the tradeoff as kernel developer time versus the time of users of
cpusets.  I think that the users of cpusets will save more time if they
have this more friendly, less error prone, format, than the kernel
hackers will spend maintaining the formatting code.  However, I'm
comparing two small numbers with alot of uncertainty on each number, so
... who knows.  I try to optimize for minimum total expenditure of human
brain power.  As anyone can tell from listening to the news, that's the
resource we most critically short of ;).
So I vote to keep it.  But if it goes down the other way, that's not
a big problem.
Oops - one buglet I see - I forgot to mark bscnl_emit() helper routine
static, in lib/bitmap.c.
-- 
                          I won't rest till it's the best ...
                          Programmer, Linux Scalability
                          Paul Jackson <pj@sgi.com> 1.650.933.1373
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/