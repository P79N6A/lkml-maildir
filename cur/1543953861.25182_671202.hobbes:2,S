Date: Tue, 25 Mar 2008 08:54:03 +0100
From: Andi Kleen <>
Subject: Re: [PATCH prototype] [0/8] Predictive bitmaps for ELF executables
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/25/35

On Mon, Mar 24, 2008 at 12:42:14PM -0700, Ulrich Drepper wrote:
> On Sun, Mar 23, 2008 at 10:16 PM, Nicholas Miell <nmiell@comcast.net> wrote:
> >  The limit is filesystem dependent -- I think ext2/3s is something like
> >  4k total for attribute names and values per inode.
> >
> >  That's more than enough space for the largest executable on my system
> >  (emacs at 36788160 bytes) which would have a 1123 byte predictive bitmap
> >  (plus space for the name e.g. "system.predictive_bitmap"). The bitmap
> >  also could be compressed.
> 
> 4k attribute means support for about 32768 pages.  That's a total of
> 134MB.  I think this qualifies as sufficient.  Also, I assume the
> attribute limit is just a "because nobody needed more so far" limit
> and could in theory be extended.
There is still the additional seek. Large xattrs tend to be out of line
from the inode.
-Andi