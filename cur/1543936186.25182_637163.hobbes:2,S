Date: Fri, 11 Jan 2008 08:55:29 +0000
From: "Jan Beulich" <>
Subject: [PATCH 0/4] __cpuinitconst and __devinitconst
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/11/50

Since __cpuinitdata/__devinitdata don't allow const to be specified with
them (otherwise .init.data sections with and without the writeable attribute
will be generated by the compiler), and since __devinitdata except for
embedded systems evaluates to <empty> unconditionally and
__cpuinitdata at least in most production kernel configurations also
likely evaluates to <empty>, it seems appropriate to add an additional
attribute allowing the respective objects to end up in .rodata rather than
.data when not used at initialization time only.
Patch 1 introduces __cpuinitconst and a single common code consumer.
Patch 2 adds a number of x86 consumers of __cpuinitconst.
Patch 3 introduces __devinitconst and common code consumers.
Patch 4 adds a number of x86 consumers of __devinitconst.
Signed-off-by: Jan Beulich <jbeulich@novell.com>