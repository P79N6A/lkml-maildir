Date: Thu, 17 Mar 2005 11:26:11 -0500 (EST)
From: (Chuck Lever)
Subject: [PATCH 0/2] RFC: exporting per-superblock statistics to user space
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/17/93

 We still have a need to provide "iostat" like statistics for NFS
 clients.  Following are a couple of patches, against 2.6.11.3, which
 prototype an approach for providing this kind of data to user programs.
 I'd like some comment on the approach.
 01-mountstats.patch adds a new file called /proc/self/mountstats and a
 new file system method called show_stats.  this just replicates
 /proc/mounts and the show_options hook.
 02-nfs-iostat.patch teachs the NFS client to use the new show_stats
 hook as a demonstration.
 Note that this approach addresses previously voiced concerns about
 exporting per-superblock stats to user space.
 1. Processes can't see stats for file systems mounted outside their
    namespace.
 2. Reading the stats file is serialized with mount and unmount
    operations.
 3. The approach doesn't use /sys or kobjects.
 4. There are no lifetime issues tied to file systems loaded as a
    module.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/