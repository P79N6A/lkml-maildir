Date: Wed, 30 Jan 2008 01:29:55 +0100
From: Bartlomiej Zolnierkiewicz <>
Subject: Re: [PATCH 0/32] ide-tape redux v1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/29/483

On Monday 28 January 2008, Borislav Petkov wrote:
> Hi Bart,
> 
> [...]
> 
> > > the BKL in idetape_write_release() with finer-grained locking etc, probably also
> > > some pipeline improvements, removal of OnStream support, etc. but that'll come
> > > later.
> > 
> > On-Stream support has been long gone but it seems that deprecation
> > warning etc. managed to survive.
> > 
> > w.r.t. to the pipeline-mode: it should be pipelined into /dev/null
> > 
> > rationale:
> > - it is _very_ complex
> > - causes errors to be deferred till the next user-space access
> > - direct I/O using blk_rq_map_user() will offer superior performance
> > 
> > the only question is whether to remove it...
> 
> Well, on the one hand, since the driver is only being maintained we should not
> remove code that works. Also, i don't know how many users ide-tape really has
> but, would it be worth the trouble at all? Because if nobody's using it, we
> could just as well pipe the whole thing into /dev/null.. On the other hand, the
This may be the other alternative... [ there is always libata PATA... ]
If you want to give ide-tape removal a try, go ahead (I suggest starting
with adding warning printk() and keeping patch in -mm for some time)...
> pipelining part _is_ kinda big and, right, it is not that straightfoward to
> look at it and know what it actually does - it truly is a student project :)
I have pipelining code figured out to some degree but reworking it is a rather
low-prio on my TODO list...
[...]
> Anyway, resending #23 to you in a private mail.
Thanks.
Bart