Date: Tue, 23 Mar 2004 15:59:40 -0500
From: "Moore, Eric Dean" <>
Subject: [PATCH 2.6 ] MPT Fusion driver 3.01.03 update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/23/142

This is an update for the MPT Fusion drivers 2.6 kernel.
This is mpt version is 3.01.03.  The attached patch is made
against 2.6.5-rc2-bk3, which has the 3.01.01 driver with
a recent patch from Andi Kleen.  This driver will contain
the changes from mpt version 3.01.02 as well.
----------------------------------------------------------------
Changelog for mpt version 3.01.03:
(1)  Fix fifo memory allocation under 64bit systems
by merging 3 seperate memory allocations into one call.
Before this fix, it was possible that these seperate 
pci_alloc_consistent() calls were crossing the 4GB 
hardware boundary.
Delete the MPTBASE_MEM_ALLOC_FIFO_FIX logic.
Backout recent ak@muc.de workaround.
(2) Replace wrappers for CHIPREG_XXX with defines;
per request from Jeff Garzik [jgarzik@pobox.com]
(3) Remove support for FC909.
(4) Remove PortIo modules parameter.
(5) Move procmpt_destroy function before pci_unregister_driver,
as the memory allocated for the proc was not being deallocated.
(6) Remove mptscshi_reset_timeouts function. The timer was
already expired when mod_timer is called.
(7) Fix small bug in slave_destroy, which could prevent domain
validation on hidden drive in a RAID volume.
----------------------------------------------------------------------
Changelog for mpt version 3.01.02:
(1) Andi Kleen[ak@suse.de]
put warning "Device (0:0:0) reported QUEUE_FULL!" into debug messages
(2) Alexander Stohr[Alexander.Stohr@gmx.de]
fix warnings from mptscsih_setup when driver isn't compiled as module
(3) Randy.Dunlap[rddunlap@osdl.org]
Remove unnecessary min/max macros and change calls to 
use kernel.h macros instead.
You can download full source as well as the patches for this 
driver at:
ftp://ftp.lsil.com/HostAdapterDrivers/linux/FiberChannel/2.6-patches/3.01.03
Eric Moore
Staff Engineer
Standard Storage Products Division
LSI Logic Corporation
4420 Arrowswest Drive
Colorado Springs, CO 80907
Email: emoore@lsil.com
Web: 
http://www.lsilogic.com/
[unhandled content-type:application/octet-stream]