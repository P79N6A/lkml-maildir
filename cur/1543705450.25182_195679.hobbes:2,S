Date: Tue, 3 Feb 2004 09:37:54 +0800
From: Hugang <>
Subject: Re: swsusp2 on ppc [Re: Software Suspend 2.0]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/2/242

On Mon, 2 Feb 2004 18:01:25 +0100
Marco Giordani <marco@bononia.it> wrote:
> On Sun, Feb 01, 2004 at 03:08:27PM +0800, Hugang wrote:
> > Here is the ppc swsusp2 update patch for 2.6.1 + rc6 + 2.0, please
> > apply.
> 
> It doesn't work for me. During "write cache" phase, at 75% of the
> progress bar, my powerbook powers off the LCD backlight and it seems
> locked... at this point I can only power off the system...  Any idea?
Show us the detail.
> 
> BTW, I cannot compile your patch with highmem support. It will be very
> useful for me...
Attached file is fix highmem problem, I'm can't sure that not mistake,
can some ppc guys with double check.:) But you can try.
> 
> I've also tried the benh's pmdisk patch and it works fine but it lacks
> highmem support too.
I have some advice:
 1: Be sure before suspend have not unused device to used.
   I'm make all the possible device into module, before suspend rmmod
it as possible, after it reload it.
 2: You can enable swsusp2, that's useful debug.
   before suspend do  
     echo 6 > /proc/swsusp/default_console_level
 3: shared you kernel information.
    dmesg >> /tmp/bug.log
    cat /proc/swsusp/debug_info >> /tmp/bug.log
    send /tmp/bug.log to LKML.
-- 
Hu Gang / Steve
Linux Registered User 204016
GPG Public Key: 
http://soulinfo.com/~hugang/HuGang.asc
[unhandled content-type:application/octet-stream][unhandled content-type:application/octet-stream]