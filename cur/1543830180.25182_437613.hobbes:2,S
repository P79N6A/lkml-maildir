Date: Tue, 27 Jun 2006 14:41:39 +1000
From: Nigel Cunningham <>
Subject: [Suspend2][ 08/21] [Suspend2] Get amount of memory needed for userui.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/27/18

Return the amount of memory needed for the userui to operate. This doesn't
need to include the size of the program and it's data, just extra pages
needed while writing the image.
Signed-off-by: Nigel Cunningham <nigel@suspend2.net>
 kernel/power/ui.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)
diff --git a/kernel/power/ui.c b/kernel/power/ui.c
index 16e540d..2f779a5 100644
--- a/kernel/power/ui.c
+++ b/kernel/power/ui.c
@@ -204,3 +204,9 @@ static void userui_load_config_info(char
 	ui_helper_data.program[sizeof(ui_helper_data.program)-1] = '\0';
 }
 
+static unsigned long userui_memory_needed(void)
+{
+	/* ball park figure of 128 pages */
+	return (128 * PAGE_SIZE);
+}
+
--
Nigel Cunningham		nigel at suspend2 dot net
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/