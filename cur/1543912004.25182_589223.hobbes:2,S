Date: Tue, 28 Aug 2007 09:04:30 +0200
From: Andreas Steffan <>
Subject: Re: PROBLEM: Suspend corrupts bios clock since 2.6.21
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/28/34

On Mon, 2007-08-27 at 00:45 +0200, Rafael J. Wysocki wrote:
> > > PS: I have not yet tried 2.6.22.4-65.fc7, but the latest 2.6.22 kernel
> > > before showed the same behaviour for me.
> > 
> > Please check if PM_TRACE is enabled in your kernel configuration. It 
> > will do this intentionally.
> 
> Yes, but only if you have "1" in /sys/power/pm_trace ...
I guess this is the case on my system.
I was/am encountering "resume from memory" problems. In approx 1 of 3
cases, the display remained switched off after resume, the harddisk was
spinning and it seemed the keyboard did not work either. This is the
reason why I've set 1 in /sys/power/pm_trace. I was hoping this could
help gathering information (dmsg after resume) to track down the
occasional "resume from memory" problem. I was not aware that the 1
in /sys/power/pm_trace could have side effects ("currupted" bios clock),
so I kept this setting.
Any help or suggestion how to track down the "suspend from memory
sometimes results in black display and keyboard not working problem"
would really be appreciated.
Now, I am trying kernel 2.6.22.4-65.fc7 (w/o pm_trace set to 1).
Unfortunately, with this kernel, pm-suspend and pm-hibernate both
don't work. Suspending freezes after
Suspending console(s)
with the lock lights flashing.
I was not observing this problem with 2.6.22.1-41. I'll try this
one again w/o /sys/power/pm_trace set to 1.
Thanks so far !
--
regards 
Andreas
+-----------------------------------------------------------+
Andreas Steffan              email: a.steffan@deas-online.de
Hamburg, Germany             mobil: +49179 3903615
+-----------------------------------------------------------+
In theory, practice and theory are the same, but in practice
they are different -- Larry McVoy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/