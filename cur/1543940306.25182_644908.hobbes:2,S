Date: Tue, 29 Jan 2008 11:29:53 +0300
From: Pavel Emelyanov <>
Subject: Re: [RFC] Per-thread getrusage
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/29/47

Eric W. Biederman wrote:
> Pavel Emelyanov <xemul@openvz.org> writes:
>>> ...
>>> +asmlinkage long sys_thread_getrusage(int tid, struct rusage __user *ru)
>>> +{
>>> +	struct task_struct *tsk;
>>> +	tsk = find_task_by_pid(tid);
>>> +	return getrusage(tsk, RUSAGE_THREAD, ru);
>>> +}
>> Well, the find_task_by_pid() is really wrong here.
> 
> And find_task_by_pid should probably just be removed.
> 
> No need to provide function with the gun firmly pointed at our feet....
We are working to uncock it. If you feel you know how to do it
faster, it would be just terrific to review your patches.
> Eric
> 