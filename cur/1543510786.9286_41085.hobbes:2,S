Date: Mon, 27 Sep 1999 10:28:15 -0700
From: Craig Milo Rogers <>
Subject: Re: tcp/ip bug (2.2.12) or telnet client bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/27/103

>while [ 1 ]; to telnet 127.0.0.1 1234; done
>
>(where 1234 is a tcp port not being bind()'d, works with any other
>unused port):
...
>I insist, there is no daemon listening on the specified port.
>Anything i type in is simply echo'd.
	This is a known deficiency in the Linux TCP/IP implementation;
we discussed it on this list last month (30-Aug-1999).  Th policy
should be that when the kernel allocates a local port number to a
socket, it should not use the local port number that is the same as
the remote port number for the socket; this policy will avoid the
unpredictable self-connects when a port-not-in-use error would be
expected.
	The fix is very easy, so easy that I, ah, didn't distribute a
proper patch file.  I'll try to do so in the next day or two, if no
one beats me to it.
					Craig Milo Rogers
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/