Date: Fri, 4 Jan 2002 19:23:40 +0000 (GMT)
From: Carl Ritson <>
Subject: [PATCH] kdev_t compile fixes emu10k1 (2.5.2-pre7)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/4/202

Convert MINOR to minor.
Carl Ritson
critson@perlfu.co.uk
diff -u linux-2.5/drivers/sound/emu10k1/audio.c linux/drivers/sound/emu10k1/audio.c
--- linux-2.5/drivers/sound/emu10k1/audio.c	Tue Oct  9 18:53:17 2001
+++ linux/drivers/sound/emu10k1/audio.c	Fri Jan  4 19:04:13 2002
@@ -1098,7 +1098,7 @@
 
 static int emu10k1_audio_open(struct inode *inode, struct file *file)
 {
-	int minor = MINOR(inode->i_rdev);
+	int minor = minor(inode->i_rdev);
 	struct emu10k1_card *card = NULL;
 	struct list_head *entry;
 	struct emu10k1_wavedevice *wave_dev;
diff -u linux-2.5/drivers/sound/emu10k1/midi.c linux/drivers/sound/emu10k1/midi.c
--- linux-2.5/drivers/sound/emu10k1/midi.c	Tue Oct  9 18:53:18 2001
+++ linux/drivers/sound/emu10k1/midi.c	Fri Jan  4 19:08:12 2002
@@ -87,7 +87,7 @@
 
 static int emu10k1_midi_open(struct inode *inode, struct file *file)
 {
-	int minor = MINOR(inode->i_rdev);
+	int minor = minor(inode->i_rdev);
 	struct emu10k1_card *card = NULL;
 	struct emu10k1_mididevice *midi_dev;
 	struct list_head *entry;
diff -u linux-2.5/drivers/sound/emu10k1/mixer.c linux/drivers/sound/emu10k1/mixer.c
--- linux-2.5/drivers/sound/emu10k1/mixer.c	Tue Oct  9 18:53:18 2001
+++ linux/drivers/sound/emu10k1/mixer.c	Fri Jan  4 19:08:59 2002
@@ -640,7 +640,7 @@
 
 static int emu10k1_mixer_open(struct inode *inode, struct file *file)
 {
-	int minor = MINOR(inode->i_rdev);
+	int minor = minor(inode->i_rdev);
 	struct emu10k1_card *card = NULL;
 	struct list_head *entry;