Date: Sat, 05 Oct 2002 11:55:35 -0400
From: James Bottomley <>
Subject: Re: 2.5.40-ac3 compile error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/5/74

> make[2]: *** [timer_pit.o] Error 1 make[2]: Leaving directory `/usr/
> src/linux-2.5/linux-2.5.40/arch/i386/kernel' 
This is caused by timer_pit.c not having quite the right #includes for the 
i386 subarch code.
The attached patch should fix it. (smp.h gets the smp_local_timer_interrupt, 
mpspec.h gets using_apic_timer and arch_hooks is the primer for the hooks in 
do_timer.h).
James
--- arch/i386/kernel/timer_pit.c~	Sat Oct  5 11:22:01 2002
+++ arch/i386/kernel/timer_pit.c	Sat Oct  5 11:48:05 2002
@@ -7,7 +7,10 @@
 #include <linux/module.h>
 #include <linux/device.h>
 #include <asm/timer.h>
+#include <asm/smp.h>
+#include <asm/mpspec.h>
 #include <asm/io.h>
+#include <asm/arch_hooks.h>
 
 /* fwd declarations */
 int init_pit(void);