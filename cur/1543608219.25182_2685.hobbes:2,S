Date: Thu, 1 Nov 2001 16:35:52 +0000
From: vda <>
Subject: Re: [Patch] Re: Nasty suprise with uptime
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/1/84

On Thursday 01 November 2001 00:52, Tim Schmielau wrote:
> OK, absolutely last patch for today. Sorry to bother everyone, but the
> jiffies wraparound logic was broken in the previous patch.
>
> As stated before, I would kindly ask for widespread testing PROVIDED IT IS
> OK FOR YOU TO RISK THE STABILITY OF YOUR BOX!
I see you dropped jiffies_hi update in timer int.
IMHO argument on wasting 6 CPU cycles or so per each timer int:
-	jiffies++;
+	if(++jiffies==0) jiffies_hi++;
is not justified. I'd rather see simple and correct code in timer int
rather than jumping thru the hoops in get_jiffies_64().
For CPU cycle saving zealots: I advocate saving 2 static longs in get_jiffies
instead :-)
--
vda
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/