Date: Sun, 09 Mar 2008 18:28:56 +0100
From: Zoltan Boszormenyi <>
Subject: Re: SWNCQ should be enabled by default
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/9/129

Ping. Now with patch.
Zoltan Boszormenyi írta:
> Hi,
>
> the patch is already upstream, thanks for that.
> I am using it without any problems. Currently I am
> using kernel-2.6.24.3-12.fc8 from the updates-testing
> repository of Fedora 8. I had to add
>
> options scsi_hostadapter1 swncq=1
> options sata_nv swncq=1
>
> before upgrading to get it enabled.
> Can we enable it by default for 2.6.25?
> It's completely independent from ADMA and its problems.
> E.g. my machine has 8GB memory now, no problems at all.
>
> Best regards,
> Zoltán Böszörményi
Enable SWNCQ by default.
Signed-off-by: Zoltán Böszörményi <zboszor@dunaweb.hu>
--- linux-2.6.25-rc4-git3/drivers/ata/sata_nv.c~	2008-03-09 18:24:44.000000000 +0100
+++ linux-2.6.25-rc4-git3/drivers/ata/sata_nv.c	2008-03-09 18:24:44.000000000 +0100
@@ -641,7 +641,7 @@
 MODULE_VERSION(DRV_VERSION);
 
 static int adma_enabled = 1;
-static int swncq_enabled;
+static int swncq_enabled = 1;
 
 static void nv_adma_register_mode(struct ata_port *ap)
 {
@@ -2600,5 +2600,5 @@
 module_param_named(adma, adma_enabled, bool, 0444);
 MODULE_PARM_DESC(adma, "Enable use of ADMA (Default: true)");
 module_param_named(swncq, swncq_enabled, bool, 0444);
-MODULE_PARM_DESC(swncq, "Enable use of SWNCQ (Default: false)");
+MODULE_PARM_DESC(swncq, "Enable use of SWNCQ (Default: true)");
 