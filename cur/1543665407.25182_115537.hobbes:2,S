Date: Fri, 7 Mar 2003 15:45:41 -0800
From: Greg KH <>
Subject: Re: [PATCH] register_blkdev
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/7/368

On Fri, Mar 07, 2003 at 02:33:19PM -0800, Andrew Morton wrote:
> Greg KH <greg@kroah.com> wrote:
> >
> > On Fri, Mar 07, 2003 at 12:30:29PM -0800, Andrew Morton wrote:
> > > 
> > > 32-bit dev_t is an important (and very late!) thing to get into the 2.5
> > > stream.  Can we put this ahead of cleanup stuff?
> > 
> > Can we get people to agree that this will even go into 2.5, due to the
> > lateness of it?  I didn't think it was going to happen.
> 
> I've never seen the patches so I cannot say.  But I'd at least like to get
> the whole thing under test so we can make that evaulation.
I would too.  Andries's patches look like the right thing to do, so far
as I've seen.  But there are larger, social issues, that probably need
to be answered first (like convincing Linus and others that this is
really needed).
> > But if it is, a lot of character drivers need to be audited...
> 
> What has to be done there?
I haven't seen a patch yet, to really know what will be necessary.  But
for one, a lot of drivers have static arrays where they just "know" that
there can't be more than 256 minors under their control.
As a small example, look at all of the static arrays of struct
tty_struct * for all of the tty drivers :(
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/