Date: Mon, 02 Oct 2000 08:31:49 +0200
From: Henrik Nordstrom <>
Subject: Re: sigtimedwait with a zero timeout
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/2/30

You are not late. In fact you are the first who have responded to my
linux-kernel messages at all.
Yes, I am well aware of sigwaitinfo.
sigwaitinfo blocks infinitely if there is no queued signals and is the
opposite of sigtimedwait with a zero timeout.
sigwaitinfo is implemented as sigtimedwait with a NULL timeout which is
read as a timeout of MAX_SCHEDULE_TIMEOUT.
sigtimedwait with a zero timeout are meant to be used by applications
needing to poll signal queues while doing other processing. Having
sigtimedwait always block for at least 10 ms can have a quite negative
impact on such applications.
Pleae note that the first version of my patch was quite broken. A
corrected version was posted a few days later.
Thanks for your interest.
--
Henrik Nordstrom
James Antill wrote:
> 
> Henrik Nordstrom <hno@hem.passagen.se> writes:
> 
> > Hi.
> >
> > While playing with signal queues it was discovered that sigtimedwait
> > with a zero timeout apparently does block somewhat even if it should
> > not.
> >
> > Why:
> >
> > It forces a schedule()
> 
>  This is a bit late (catching up with mail). But you know about
> sigwaitinfo() yeh ?
> 
> --
> James Antill -- james@and.org
> "If we can't keep this sort of thing out of the kernel, we might as well
> pack it up and go run Solaris." -- Larry McVoy.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/