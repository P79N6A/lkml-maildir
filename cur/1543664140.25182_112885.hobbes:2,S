Date: Wed, 26 Feb 2003 14:59:28 +0200
From: "Yigit Can" <>
Subject: getprotobyname failure
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/26/80

Hello,
I have a problem with getprotobyname() function.
I wrote a simple program that only uses getprotobyname function
I can run this program on my development machine
but when I try to run this program on my basic kernel it gives me the
"memory fault" error.
the "getprotobyname" function returns NULL and i don't know the reason,
becouse i have the /etc/protocols file containing "tcp 6 TCP" line
I'm using Denx embedded linux development kit with libc-2.2.5 with an cross
compiler
my development machine has celeron  type processor
and my target board is TQM850L (powerpc 850)
I've replaced my protocols and nsswitch.conf files with host machines (my
protocols file contians "tcp 6 TCP" line)
and that's made no difference.
Why the getprotobyname function returns NULL?
please help,
 my program :
#include <netdb.h>
#include <stdio.h>
 int main(void){
    struct sockaddr_in addr;
    struct protoent *protocol=NULL;
    protocol=getprotobyname("tcp");
    printf("\n RESULT : %02x \n",protocol->p_proto);
    return 0;
}
Yigit CAN
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/