Date: Tue, 25 Jun 2002 04:16:29 +0300
From: Toni Viemero <>
Subject: Re: Another .text.exit error with 2.4.19-rc1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/24/11

On Tue, Jun 25, 2002 at 08:49:28AM +1000, Keith Owens wrote:
> On Tue, 25 Jun 2002 00:56:19 +0300, 
> Toni Viemero <toni.viemero@iki.fi> wrote:
> >drivers/scsi/scsidrv.o(.data+0x3874): undefined reference to local symbols
> >in discarded section .text.exit'
> >aq144:/usr/src/linux# perl ../reference_discarded.pl 
> >Finding objects, 392 objects, ignoring 0 module(s)
> >Finding conglomerates, ignoring 35 conglomerate(s)
> >Scanning objects
> >Error: ./drivers/scsi/ips.o .data refers to 000000d4 R_386_32
> >.text.exit
> 
> Untested.
> 
> --- drivers/scsi/ips.c	Tue Jun  4 13:34:30 2002
> +++ drivers/scsi/ips.c.new	Tue Jun 25 08:48:25 2002
> @@ -284,7 +284,7 @@
>         name:		ips_hot_plug_name,
>         id_table:	ips_pci_table,
>         probe:		ips_insert_device,
> -       remove:		ips_remove_device,
> +       remove:		__devexit_p(ips_remove_device),
>     };
>  #endif
Tested and now compiles/works ok.
-- 
Toni Viemer√∂  |  
http://selfdestruct.net
"The scars will take me far, they always do."
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/