Date: Mon, 4 Sep 2000 22:55:32 +0200
From: Rasmus Andersen <>
Subject: [patch] Updated hfs to use new mark_buffers_dirty interface
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/4/157

Hi.
I have changed the interface to mark_buffer_dirty (as per Tigran
Aivazian's suggestion). This impacts hfs as per the following
patch.
diff -u --recursive -X misc/dontdiff linux-240test8-pre2/fs/hfs/file.c linux/fs/hfs/file.c
--- linux-240test8-pre2/fs/hfs/file.c	Sun Feb 27 05:33:42 2000
+++ linux/fs/hfs/file.c	Mon Sep  4 20:43:20 2000
@@ -489,7 +489,7 @@
 		written += c;
 		buf += c;
 		mark_buffer_uptodate(bh, 1);
-		mark_buffer_dirty(bh, 0);
+		mark_buffer_dirty(bh);
 		brelse(bh);
 	}
 	if (written > 0) {
diff -u --recursive -X misc/dontdiff linux-240test8-pre2/include/linux/hfs_sysdep.h linux/include/linux/hfs_sysdep.h
--- linux-240test8-pre2/include/linux/hfs_sysdep.h	Mon Jul 31 21:05:03 2000
+++ linux/include/linux/hfs_sysdep.h	Mon Sep  4 21:21:12 2000
@@ -150,7 +150,7 @@
 }
 
 extern inline void hfs_buffer_dirty(hfs_buffer buffer) {
-	mark_buffer_dirty(buffer, 1);
+	mark_buffer_dirty(buffer);
 }
 
 extern inline void hfs_buffer_sync(hfs_buffer buffer) {
-- 
Regards,
        Rasmus(rasmus@jaquet.dk)
Without censorship, things can get terribly confused in the
public mind. -General William Westmoreland, during the war in Viet Nam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/