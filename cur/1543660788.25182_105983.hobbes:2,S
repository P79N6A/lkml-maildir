Date: Mon, 27 Jan 2003 13:13:33 -0800
From: Simon Kirby <>
Subject: Re: [2.4.21-pre3] Netfilter does not compile with this .config
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/27/129

On Mon, Jan 27, 2003 at 01:01:16PM -0800, Simon Kirby wrote:
> net/network.o(.text+0x42485): In function `match':
> : undefined reference to `ip_conntrack_get'
> net/network.o(.text.init+0x13ca): In function `init':
> : undefined reference to `ip_conntrack_module'
> make: *** [vmlinux] Error 1
This may be the correct fix:
--- linux.alfie/net/ipv4/netfilter/Config.in.orig	2002-12-26 11:25:40.000000000 -0800
+++ linux.alfie/net/ipv4/netfilter/Config.in	2003-01-27 13:08:30.000000000 -0800
@@ -31,9 +31,7 @@
   dep_tristate '  TTL match support' CONFIG_IP_NF_MATCH_TTL $CONFIG_IP_NF_IPTABLES
   dep_tristate '  tcpmss match support' CONFIG_IP_NF_MATCH_TCPMSS $CONFIG_IP_NF_IPTABLES
   if [ "$CONFIG_IP_NF_CONNTRACK" != "n" ]; then
-    dep_tristate '  Helper match support' CONFIG_IP_NF_MATCH_HELPER $CONFIG_IP_NF_IPTABLES
-  fi
-  if [ "$CONFIG_IP_NF_CONNTRACK" != "n" ]; then
+    dep_tristate '  Helper match support' CONFIG_IP_NF_MATCH_HELPER $CONFIG_IP_NF_CONNTRACK $CONFIG_IP_NF_IPTABLES
     dep_tristate '  Connection state match support' CONFIG_IP_NF_MATCH_STATE $CONFIG_IP_NF_CONNTRACK $CONFIG_IP_NF_IPTABLES 
     dep_tristate '  Connection tracking match support' CONFIG_IP_NF_MATCH_CONNTRACK $CONFIG_IP_NF_CONNTRACK $CONFIG_IP_NF_IPTABLES 
   fi
(If not, a flamewar will surely ensue which will result in the correct
 fix being posted. :) )
Simon-
[        Simon Kirby        ][        Network Operations        ]
[     sim@netnation.com     ][     NetNation Communications     ]
[  Opinions expressed are not necessarily those of my employer. ]
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/