Date: Thu, 08 Apr 2004 10:22:04 +0300
From: Yury Umanets <>
Subject: Re: [PATCH] reiserfs v3 fixes and features
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/8/14

On Wed, 2004-04-07 at 16:25, Chris Mason wrote:
> On Wed, 2004-04-07 at 09:06, Yury Umanets wrote:
> 
> > That would be nice to have also improved locking in this
> > features-improvements-fixes patch set. Ask Oleg, he had intention to
> > work on and probably has something done already.
> > 
> 
> I'm assuming you mean getting rid of the BKL, which would be really
> nice. 
yes
>  I'd like to get the current patchset stabilized and in the
> kernel, but even moving to a per fs spin lock instead of the bkl would
> be a welcome change.
> 
> -chris
Last time we have discussed this with Oleg, he said, that there are lots
of stuff relying on the fact, that bkl can be acquired many times by the
same process. And simple replacing bkl by per-superblock lock makes life
just horrible ;)
There something like bkl but per-superblock based is needed. Or lots of
code should be changed, which is not good idea.
But anyway, this should be done one day, and if I have free time
(probably vacation) and it will not be done until that time, I'd like to
work on it along with Oleg and you ;)
-- 
umka
-- 
umka
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/