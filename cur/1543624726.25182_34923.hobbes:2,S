Date: Fri, 15 Mar 2002 21:37:22 +0000 (GMT)
From: Alan Cox <>
Subject: Re: [PATCH] Cleanup port 0x80 use (was: Re: IO delay ...)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/15/2

> > documentation on the ISA bus which covers the timeout for acknowledging an
> > address cycle. Otherwise for tsc capable boxes I agree entirely.
> > 
> The ISA bus doesn't time out; a cycle on the ISA bus just happens, and
> the fact that noone is there to listen doesn't seem to matter.
Not so simple. I found my IEEE draft 8)
The address out comes from the chipset (southbridge now days). The
sequence is
	BALE high
	Output address
	BALE low
	Set IORC/IOWC etc
	Wait for NOWS while watching IOCHRDY
	NOWS low says - card now ready
	IOCHRDY high suppresses the wait state timer count
The default timeout is 4 wait states, which is 6 bus clocks for a failure
Maybe 7 - Im not clear if the final cycle to recover and start again is
always there. 
> The delay is something like 8 cycles @ 8.3 MHz or around 1 ms.
1uS ?
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/