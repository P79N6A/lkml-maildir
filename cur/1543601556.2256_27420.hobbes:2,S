Date: Wed, 19 Sep 2001 11:02:52 -0400 (EDT)
From: Pavel Roskin <>
Subject: 2.4.9-ac12 - problem mounting reiserfs (parse error?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/19/71

Hello!
I've compiled 2.4.9-ac12 and it has problems mounting reiserfs partitions.
This forks fine:
mount /dev/hda6 /usr/local
but "mount /dev/hda6" doesn't work if I have this in /etc/fstab:
/dev/hda6    /usr/local    reiserfs defaults  0 0
It appears that "defaults" is confusing some code in the kernel.  Here are
more results:
# mount -t reiserfs -o defaults /dev/hda6 /usr/local
reiserfs kgetopt: there is not option
mount: wrong fs type, bad option, bad superblock on /dev/hda6,
       or too many mounted file systems
# mount -t reiserfs -o rw /dev/hda6 /usr/local
reiserfs kgetopt: there is not option
mount: wrong fs type, bad option, bad superblock on /dev/hda6,
       or too many mounted file systems
# mount -t reiserfs -o bogus /dev/hda6 /usr/local
reiserfs kgetopt: there is not option bogus
mount: wrong fs type, bad option, bad superblock on /dev/hda6,
       or too many mounted file systems
As you see, invalid options are distinguished ("there is not option
bogus", as opposed to "there is not option"), but all options are
considered invalid.
"reiserfs kgetopt: there is not option" appears on the console and in the
dmesg output, it's not coming from mount.
RedHat 7.1, i686, mount-2.11b-3 (from RedHat).
No problems with 2.4.9-ac10.  I haven't tried 2.4.9-ac12.
I hope to send fix soon.  Sorry, but I'm writing it in hurry to alert
others that 2.4.9-ac12 is not quite usable, at least with reiserfs.
-- 
Regards,
Pavel Roskin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/