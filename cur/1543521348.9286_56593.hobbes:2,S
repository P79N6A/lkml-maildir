Date: 8 Jan 2000 16:19:09 -0800
From: (david parsons)
Subject: Re: /proc guidelines and sysctl
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/8/193

In article <linux.kernel.20000108214551.A9170@cerebro.laendle>,
Marc Lehmann  <marc@gimp.org> wrote:
>That procps and procfs are dog slow (just read what I wrote). And (an
>enhanced) sysctl would provide for a far faster top!
    Admittedly, in the case where you start top and lean on the spacebar
    it would be faster, but it seems like having top refresh 30+ times a
    second would be wasting 29+ of those refreshes.
    On my build machine (which, admittedly, is one of my K7s, so the
    figures are a bit skewed) top[+], when refreshing every second,
    takes 0.99% of the processor.  And on the Celeron/338 I'm using as a
    workstation, it takes a princely .098% to do the same.
    On my servers (all K6-[23]'s, running corporate nfs, samba, mail,
    dishwashing), the difference between taking 0.10% and 0.20% of the
    processor to do a 5 second refresh doesn't seem like that much.
    And top is really the only proc-based application I can think of
    that chugs through /proc on a periodic basis.  I can think of some
    good reasons to go with sysctl() [primarily getting around some
    of the badly designed proc displays which can't officially change
    but which do change enough to make upgrading to a new release
    a little more annoying] but performance doesn't leap out and
    grab me.
                  ____
    david parsons \bi/ [+: the real top, not the procps one]
                   \/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/