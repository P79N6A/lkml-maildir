Date: Sun, 30 May 2004 09:41:20 -0700
From: "Randy.Dunlap" <>
Subject: Re: [patch] Re: Gigabit Kconfig problems with yesterday's update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/30/81

On Sun, 30 May 2004 16:37:34 +0200 Danny ter Haar <dth@dth.net> wrote:
| Quoting Adrian Bunk (bunk@fs.tum.de):
| > @Jeff:
| > At a first glance, it seems the patch below that simply removes the 
| > dependency of NET_GIGE on NET_ETHERNET would suffice.
| > 
| > Is this correct or did I miss something?
| > 
| > cu
| > Adrian
| > 
| > --- linux-2.6.7-rc2-full/drivers/net/Kconfig.old	2004-05-30 15:33:24.000000000 +0200
| > +++ linux-2.6.7-rc2-full/drivers/net/Kconfig	2004-05-30 15:38:41.000000000 +0200
| > @@ -1879,7 +1879,7 @@
| > 
| >  config NET_GIGE
| >  	bool "Gigabit Ethernet (1000/10000 Mbit) controller support"
| > -	depends on NETDEVICES && NET_ETHERNET && (PCI || SBUS)
| > +	depends on NETDEVICES && (PCI || SBUS)
| >  	help
| >  	  Gigabit ethernet.  It's yummy and fast, fast, fast.
| 
| Fresh source, this patch, old config from 2.6.7-rc1-bk2 and make
| oldconfig now works ;)
I looked at this last night, after the first reported problem
I'm not surprised that this works, but I'm concerned about the use
of CONFIG_NET_ETHERNET in net/ipv4/arp.c.  I'd _guess_ that
CONFIG_NET_ETHERNET needs to be seen as enabled over there,
even though it's not enabled in drivers/net/*.
I don't know if it's a satisfactory solution, but
net/ipv4/arp.c could also check for CONFIG_NET_GIGE.
However, that doesn't seem like the right thing to do IMO.
--
~Randy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/