Date: Thu, 23 Feb 2006 00:21:09 +0000
From: Mark Brown <>
Subject: [PATCH] Add missing ifdef for VIA RNG code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/22/362

Almost all the code for the VIA RNG is guarded with __i386__ #ifdefs,
the only exception being the enumeration of RNG types which is used to
index into the rng_vector ops array.  This patch adds an ifdef around
that for consistency and since the guard makes a difference when adding
new RNG types on non-i386 hardware.
Signed-Off-By: Mark Brown <broonie@sirena.org.uk>
Index: hwrng/drivers/char/hw_random.c
===================================================================
--- hwrng.orig/drivers/char/hw_random.c	2006-02-10 07:22:48.000000000 +0000
+++ hwrng/drivers/char/hw_random.c	2006-02-22 22:59:05.000000000 +0000
@@ -121,7 +121,9 @@ enum {
 	rng_hw_none,
 	rng_hw_intel,
 	rng_hw_amd,
+#ifdef __i386__
 	rng_hw_via,
+#endif
 };
 
 static struct rng_operations rng_vendor_ops[] = {
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/