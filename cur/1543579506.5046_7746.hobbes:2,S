Date: Sun, 21 Jan 2001 21:38:26 +0100 (CET)
From: Urban Widmark <>
Subject: Re: more via-rhine problems.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/21/58

On Thu, 18 Jan 2001, Mike A. Harris wrote:
> I now believe that it is indeed caused by booting to windows 98
> (by accident).  ;o)
Don't do that then :)
> Doesn't matter if a driver is installed in win or not as I've
> tried both.  Just booting win at all causes the card to go
> berzerk next boot.  Must be something missing from the card init
> code that should be resetting something on the card at init time,
> but which is set by default on power on.
I can't reproduce this, but I only have a 1106:3043 (DFE-530TX revA1) and
tested this on a rather old P133.
I tested 2.2.19pre and not 2.2.18+becker1.08, the biggest difference is
the detection code so maybe that could be worth trying. 2.4 is again a
little bit different ...
You could try playing with bios settings. And dumping register contents
from a working and non-working setup, for example:
% via-diag -aaeemm
  (
ftp://ftp.scyld.com/pub/diag/via-diag.c
)
% lspci -vvxxx -d 1106:3065
Maybe CONFIG_PCI_QUIRKS helps?
/Urban
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/