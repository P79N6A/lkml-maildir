Date: Tue, 13 Apr 1999 11:22:33 -0700
From: "David A. Ranch" <>
Subject: Re: AMD PCSCSI (AM53c974) driver bug in 2.2.x in SMP but not  single CPU mode
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/14/29

Hello Kurt and kernel Gurus..
Yes!  This new "tmscsim" driver worked!  I haven't had a chance to 
stress test it yet but at least the machine now boots in SMP mode 
and the system is usable.
With this behind me, could I make a request for Alan or another kernel
patch submitter?  Please add something like the following to the the 
kernel help text ( the ? prompts ) for the AM53C974 SCSI controller:
"NOTE:  This drive is NOT SMP safe.  Please use the (Tekram DC390/Generic
AM53C974)
	 instead."
--David
> Kurt's return email:
>
>I guess, nobody really cared for the AM53C974 driver using spinlocks
>correctly. So, it's not SMP safe. In 2.0.36, there was a global kernel lock,
>so the driver's authors didn't need to be SMP aware.
>
>Please try the tmscsim (Tekram DC390/Generic AM53C974) driver and tell me
>your results. I myself am using a SMP system with this driver.
> Dranch's original email:
>
>On Fri, Apr 09, 1999 at 04:36:45PM -0700, David A. Ranch wrote:
>> I have confirmed a problem with the AMD PC-SCSI driver hanging in 
>> the 2.2.x kernels when compiled in SMP mode but -NOT- in non-SMP mode.  
>> It should also be noted that a 2.0.36 kernel with SMP support works 
>> fine.
.----------------------------------------------------------------------------.
|  David A. Ranch - Linux/Networking/PC hardware         dranch@trinnet.net  |
!----                                                                    ----!
`----- For more detailed info, see 
http://www.ecst.csuchico.edu/~dranch
 -----'
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/