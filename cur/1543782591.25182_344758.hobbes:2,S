Date: Fri, 26 Aug 2005 11:04:06 +0100
From: "Sullivan, Jon Paul" <>
Subject: FW: e1000 set netdev irq patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/26/33

The following is a patch that enables the e1000 driver to set the netdev->irq field.  This is useful if you are trying to balance irqs between cpus.
--- linux-orig/drivers/net/e1000/e1000_main.c   Tue Jun 28 14:16:19 2005
+++ linux-new/drivers/net/e1000/e1000_main.c    Tue Jun 28 13:51:46 2005
@@ -285,6 +285,8 @@ e1000_up(struct e1000_adapter *adapter)
      mod_timer(&adapter->watchdog_timer, jiffies);
      e1000_irq_enable(adapter);
 
+     netdev->irq = adapter->pdev->irq;
+
      return 0;
 }
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/