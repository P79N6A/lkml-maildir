Date: Sat, 15 Jul 2006 01:30:11 +0900
From: Yoichi Yuasa <>
Subject: [PATCH] fixed add_bind_files() definition
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/14/130

Hi,
On Fri, 14 Jul 2006 13:36:06 +0100
Lexington Luthor <Lexington.Luthor@gmail.com> wrote:
> Hi,
> 
> I get a compile error trying to build this release:
>    CC      drivers/base/bus.o
> drivers/base/bus.c: In function 'bus_add_driver':
> drivers/base/bus.c:523: error: void value not ignored as it ought to be
When CONFIG_HOTPLUG is n, add_bind_files() definition is wrong.
This patch has fixed it.
Yoichi
Signed-off-by: Yoichi Yuasa <yoichi_yuasa@tripeaks.co.jp>
diff -pruN -X linux-2.6.18-rc1-mm2/Documentation/dontdiff linux-2.6.18-rc1-mm2-orig/drivers/base/bus.c linux-2.6.18-rc1-mm2/drivers/base/bus.c
--- linux-2.6.18-rc1-mm2-orig/drivers/base/bus.c	2006-07-14 15:27:18.006967000 +0900
+++ linux-2.6.18-rc1-mm2/drivers/base/bus.c	2006-07-14 16:33:17.075226250 +0900
@@ -485,7 +485,7 @@ static void remove_bind_files(struct dev
 	driver_remove_file(drv, &driver_attr_unbind);
 }
 #else
-static inline void add_bind_files(struct device_driver *drv) {}
+static inline int add_bind_files(struct device_driver *drv) { return 0; }
 static inline void remove_bind_files(struct device_driver *drv) {}
 #endif
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/