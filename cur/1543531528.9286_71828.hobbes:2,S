Date: Fri, 24 Mar 2000 10:57:42 +0300
From: "Andrey E. Lerman" <>
Subject: Re: segfault while reading /proc/<pid>/stat
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/24/16

Excuse me for providing incorrect information. It was about
3am when I wrote first message to list. I was wrong about
version of kernel I'm running. Yes, it is 2.2.14, but with 2
(unofficial) patches, OpenWall and _Linux trustees_. I think
the latter is the most likely cause of problems. Next time I
will be more careful. I'm sorry if I caused you to look for a
problem which does not exists. Next time I make sure what I can
reproduce the problem on a test box and think a little bit more.
But I'd like to hear from linux trustees maintainer.
OpenWall version is 2.2.14-ow1, linux trustees is
trustees.15-2.2.12.patch.
Today I got to work and can see what's going on on system
console. Here it is:
Unable to handle kernel paging request at virtual address 77772f80
current->tss.cr3 = 00dd2000, %cr3 = 00dd2000
*pde = 00000000
Oops: 0000
CPU:    0
EIP:    0010:[<c0144998>]
EFLAGS: 00010202
eax: c3b46e5c   ebx: c3b46000   ecx: 00004cd8   edx: 77772f7c
esi: 00004cd8   edi: 00000000   ebp: 000001ff   esp: c3809f28
ds: 0018   es: 0018   ss: 0018
Process ps (pid: 26278, process nr: 335, stackpage=c3809000)
Stack: c1139cb0 000001ff c2a01a60 44a01ee0 00000001 c2f6a240 00000000 00000000
       00000246 c2f6a240 ffffffea 00004cd8 c01453f3 00004cd8 c1160000 c01454e5
       c1160000 00004cd8 0000000b c2f6a240 ffffffea 00000000 000001ff 00004cd8
Call Trace: [<c01453f3>] [<c01454e5>] [<c01237e8>] [<c0123f3a>] [<c0108eb4>] [<c010002b>]
Code: 8b 42 04 8b 72 08 29 c6 89 f0 01 c7 8b 52 0c 85 d2 75 ed ba
c0144998 is inside get_stat, c01453f3 get_process_array, c01454e5 array_read,
c01237e8 filp_open, c0123f3a sys_read, c0108eb4 system_call
System.map:
...
c0108e70 T ret_from_fork
c0108e80 T system_call
c0108ec0 T ret_from_sys_call
c0108ed1 t ret_with_reschedule
c0108ee1 t restore_all
...
c012369c T sys_chown
c01236e8 T sys_lchown
c0123734 T sys_fchown
c01237a4 T filp_open
c0123894 T get_unused_fd
c01239f8 T sys_open
...
c0123d44 T sys_llseek
c0123e8c T sys_read
c0123f50 T sys_write
c0124050 t do_readv_writev
c0124220 T sys_readv
c012428c T sys_writev
...
c01444b4 t collect_sigign_sigcatch
c0144518 t get_status
c014490c t get_stat
c0144bb4 t statm_pgd_range
c0144cfc t get_statm
c0144e64 t read_maps
...
c01451ac t get_root_array
c01452f0 t process_unauthorized
c01453ac t get_process_array
c014540c t array_read
c01455f0 t arraylong_read
...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/