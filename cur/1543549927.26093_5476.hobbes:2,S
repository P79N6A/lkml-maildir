Date: Tue, 26 Sep 2000 11:46:14 +0200 (CEST)
From: Martin Diehl <>
Subject: Re: more testing on 2.4.0-t9p[456] VM deadlocks
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/26/148

On Mon, 25 Sep 2000, Marcelo Tosatti wrote:
> There is a known deadlock with Ingo's patch.
> 
> I'm attaching a patch which should fix it. (on top of
> vmfixes-2.4.0-test9-B2) 
Hi,
Thank You! Seems to be much better now:
Test of 2.4.0-t9p6 + vmfixes-2.4.0-test9-B2 + vmfixes-B2-deadlock.patch
did not reveal any deadlock or other VM-related problem during 10h
test (UP, mem=8M, make bzImage and friends).
Compared to my previous tests there was even more stress this time:
- cron.daily started to logrotate/tmpwatch/slocate... This caused
  a jump of the av. compilation time for a single kernel .c-file from
  about 1 min to 30 min or more.
- while the box was paging almost all the time I was able to switch
  swap from raw swap-partition to swapfile on ext2-fs and back without
  problem or fs-related locking issue.
Shm/DMA related stuff not tested so far.
Haven't tried to compare the performance under this next-to-OOM situation
to the old VM.
Taken together, the problems I've seen when testing the new VM on UP box
under low memory/high pressure conditions are apparently solved now.
Well done!
Regards
Martin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/