Date: Sun, 10 Sep 2000 13:47:46 +0200
From: Christoph Hellwig <>
Subject: Re: [PATCH] for PAS16 functionality for 2.4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/10/18

In article <Pine.LNX.4.21.0009091441260.785-100000@wr5z.localdomain> you wrote:
> The PAS16 sound support includes code for the Soundblaster capability on
> the card. 
Yes.
> I found an apparent Makefile error which does not enable the
> Soundblaster support as anticipated.  Adding SB support induces an error
> for uart401 being included twice at various points of the build process.
That no real problem - it's a 'feature' of the list-style Makefiles unless
a little patch for Rules.make goes in ...
> The enclosed patch corrects the Makefile and makes appropriate changes
> to various doc files.  Please consider accepting this for the next
> kernel.  This patch is against 2.4.0-test8.
Aehmm. Your Makefile patch looks very strange:
> -obj-$(CONFIG_SOUND_PAS)              += pas2.o sb_lib.o uart401.o
> +obj-$(CONFIG_SOUND_PAS)              += pas2.o sb.o sb_lib.o uart401.o
Why do you remove sb.o from the object list?
The pas2 driver has no code to use the functions in sb_lib.o -
It has only some code to enable the sb emulation of the pas2 card.
Either you remove both sb.o and sb_lib.o and the pas2 sb emulation is gone,
or you leave it as is. Alternative: you can add code to use the sb_lib.o
stuff directly from the pas2 driver (this is the best solution, IMHO).
> -  PAS16 compatible. Please read Documentation/sound/PAS16.
> +  PAS16 compatible. Do not enable both PAS16 support and Soundblaster
> +  support since PAS16 support includes support for Soundblaster.
> +  Please read Documentation/sound/PAS16.
Why not - there shouldn't really be an issue with it.
It builds fine for me (and the various distributions kernel rpms).
And I doubt there is any runtime problem with that ...
> @@ -43,11 +43,10 @@
>            Pro Audio Studio 16 or Logitech SoundMan 16 (be sure that
>            you read the above list correctly). Don't answer 'y' if you
>            have some other card made by Media Vision or Logitech since they
> -          are not PAS16 compatible.
> -          NOTE! Since 3.5-beta10 you need to enable SB support (next question)
> -          if you want to use the SB emulation of PAS16. It's also possible to
> -          the emulation if you want to use a true SB card together with PAS16
> -          (there is another question about this that is asked later).
> +          are not PAS16 compatible.  PAS16 support includes support for
> +          Soundblaster (sb.o module) so do not enable them both. 
You can use both - but for pas2 only you don''t have to.
> -  insmod opl3
> +  modprobe opl3
either works well ...
	Christoph
-- 
Always remember that you are unique.  Just like everyone else.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/