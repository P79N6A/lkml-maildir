Date: Wed, 14 Feb 2001 15:34:49 -0600
From: Thomas Dodd <>
Subject: Re: IDE DMA Problems...system hangs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/14/215

Jasmeet Sidhu wrote:
> 
> Hey guys,
> 
> I am attaching my previous email for additional info.  Now I am using
> kernel 2.4.1-ac12 and these problems have not gone away.
> 
> Anybody else having these problems with a ide raid 5?
> 
> The Raid 5 performance should also be questioned..here are some number
> returned by hdparam
> 
> /dev/hda -    IBM DLTA 20GB (ext2)
> /dev/md0 - 8 IBM DLTA 45GB (Reiserfs)
> 
> [root@bertha hdparm-3.9]# ./hdparm -t /dev/hda
> /dev/hda:
> Timing buffered disk reads:  64 MB in  2.36 seconds = 27.12 MB/sec
> 
> [root@bertha hdparm-3.9]# ./hdparm -t /dev/md0
> /dev/md0:
> Timing buffered disk reads:  64 MB in 22.16 seconds =  2.89 MB/sec
> 
> Is this to be expected?  This much performance loss?  Anybody else using
> IDE raid, I would really appreciate your input on this setup.
md2 = RAID0 ext2
hda = hdb = IBM DTTA-351010 (10GB, 5400RPM, UDMA33)
# hdparm -tT /dev/hda /dev/md2
/dev/hda:
Timing buffered disk reads:  64 MB in  5.27 seconds = 12.14 MB/sec
Timing buffer-cache reads:   128 MB in  0.82 seconds =156.10 MB/sec
/dev/md2:
Timing buffered disk reads:  64 MB in  3.34 seconds = 19.16 MB/sec
Timing buffer-cache reads:   128 MB in  0.80 seconds =160.00 MB/sec
On AMD K7 w/ 7409 (Viper) chipset, DMA66 mode w/ 80-pin cable.
kernel = 2.4.1-ac8, no errors in kernel log.
So I get a 58% increase. You should almost max out the bus.
You probably have a bad cable. Try hdparam on each disk and see if
any of them have errors/ cause the lockup.
	-Thomas
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/