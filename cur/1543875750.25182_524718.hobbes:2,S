Date: Wed, 28 Mar 2007 14:11:36 +0200
From: Adrian Bunk <>
Subject: [-mm patch] no longer #include <asm/kdebug.h>
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/28/82

On Tue, Mar 27, 2007 at 01:11:50PM -0400, Mathieu Desnoyers wrote:
> Hi Adrian,
> 
> Since kdebug.h seems to have moved from asm/ to linux/ in Andrew's tree, I
> guess the #include <asm/kdebug.h> should be removed ? linux/kdebug.h
> already includes asm/kdebug.h.
Agreed, additional patch to remove all #include <asm/kdebug.h>'s is
below.
> Mathieu
cu
Adrian
<--  snip  -->
Include the new linux/kdebug.h instead of asm/kdebug.h.
Simply remove the asm/kdebug.h include if both had been included.
Signed-off-by: Adrian Bunk <bunk@stusta.de>
---
 arch/i386/kernel/marker.c         |    1 -
 arch/s390/kernel/dis.c            |    2 +-
 drivers/char/ipmi/ipmi_watchdog.c |    1 -
 3 files changed, 1 insertion(+), 3 deletions(-)
--- linux-2.6.21-rc5-mm2/arch/i386/kernel/marker.c.old	2007-03-27 23:27:56.000000000 +0200
+++ linux-2.6.21-rc5-mm2/arch/i386/kernel/marker.c	2007-03-27 23:28:04.000000000 +0200
@@ -18,7 +18,6 @@
 #include <linux/marker.h>
 #include <linux/kdebug.h>
 #include <asm/cacheflush.h>
-#include <asm/kdebug.h>
 
 #define BREAKPOINT_INSTRUCTION  0xcc
 #define BREAKPOINT_INS_LEN 1
--- linux-2.6.21-rc5-mm2/arch/s390/kernel/dis.c.old	2007-03-27 23:28:12.000000000 +0200
+++ linux-2.6.21-rc5-mm2/arch/s390/kernel/dis.c	2007-03-27 23:28:25.000000000 +0200
@@ -23,6 +23,7 @@
 #include <linux/kallsyms.h>
 #include <linux/reboot.h>
 #include <linux/kprobes.h>
+#include <linux/kdebug.h>
 
 #include <asm/system.h>
 #include <asm/uaccess.h>
@@ -33,7 +34,6 @@
 #include <asm/s390_ext.h>
 #include <asm/lowcore.h>
 #include <asm/debug.h>
-#include <asm/kdebug.h>
 
 #ifndef CONFIG_64BIT
 #define ONELONG "%08lx: "
--- linux-2.6.21-rc5-mm2/drivers/char/ipmi/ipmi_watchdog.c.old	2007-03-27 23:28:34.000000000 +0200
+++ linux-2.6.21-rc5-mm2/drivers/char/ipmi/ipmi_watchdog.c	2007-03-27 23:28:56.000000000 +0200
@@ -61,7 +61,6 @@
    how it will work.  So in the unlikely event that another
    architecture supports this, we can figure out a good generic
    mechanism for it at that time. */
-#include <asm/kdebug.h>
 #define HAVE_DIE_NMI_POST
 #endif
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/