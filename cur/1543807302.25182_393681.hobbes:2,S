Date: Sun, 05 Feb 2006 11:18:29 +0200
From: Pekka Enberg <>
Subject: Re: [RFT/PATCH] slab: consolidate allocation paths
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/5/24

On Sun, 2006-02-05 at 10:41 +0200, Pekka Enberg wrote:
> Ah, sorry about that, I forgot to verify the NUMA case. The problem is
> that to kmalloc_node() is calling cache_alloc() now which is forced
> inline. I am wondering, would it be ok to make __cache_alloc()
> non-inline for NUMA? The relevant numbers are:
[snip]
Btw, we can also change kmalloc_node() to use kmem_cache_alloc_node()
again but for that, we have a minor correctness issue, namely, the
__builtin_return_address(0) won't work for kmalloc_node(). Hmm.
			Pekka
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/