Date: Tue, 22 Mar 2005 09:52:21 -0800
From: "David S. Miller" <>
Subject: Re: [PATCH 1/5] freepgt: free_pgtables use vma list
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/22/192

On Tue, 22 Mar 2005 06:08:38 +0000 (GMT)
Hugh Dickins <hugh@veritas.com> wrote:
> > It just wants the range of page tables liberated.  I guess
> > essentially PMD_SIZE is the granularity.
> 
> I _think_ that answer means that my current code is fine in this respect.
> But I'm not entirely convinced.  Since sparc64 is the only architecture
> which implements a flush_tlb_pgtables which actually uses start,end,
> we do need to suit your needs there - informed reassurance welcome!
Ok.  This interface is meant to deal with platforms that virtually
map their page tables, usually for faster TLB miss processing.
As stated, IA64 does this just as sparc64 does, however they flush
their linear page table virtual mappings in a different place.
This by definition means that the granularity is PMD_SIZE.  That
is the smallest chunk of page table, ie. what a pte_t chunk maps.
> > It's funny since this code aparently works fine on ia64 which
> > is fully 3-level too.  Hmm...
> 
> Yes, odd.  I'll have to have another think later on.
I'll play around with some of the patches you posted today and
get back to you.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/