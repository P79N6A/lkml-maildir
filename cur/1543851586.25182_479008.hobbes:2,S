Date: Fri, 3 Nov 2006 02:22:57 +0100 (CET)
From: Mikulas Patocka <>
Subject: Re: New filesystem for Linux
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/2/329

On Thu, 2 Nov 2006, Gabriel C wrote:
> Mikulas Patocka wrote:
>> Hi
>>
>
> Hi
>
>> As my PhD thesis, I am designing and writing a filesystem, and it's now in
>> a state that it can be released. You can download it from
>> 
http://artax.karlin.mff.cuni.cz/~mikulas/spadfs/
>>
>
> Does not compile for me , using 2.6.18.1 , gcc 4.1.1. Here the error :
>
> /work/crazy/packages/fs/spadfs-0.9.0/super.c: In function 'SPADFS_GET_SB':
> /work/crazy/packages/fs/spadfs-0.9.0/super.c:636: error: too few
> arguments to function 'get_sb_bdev'
> /work/crazy/packages/fs/spadfs-0.9.0/super.c: At top level:
> /work/crazy/packages/fs/spadfs-0.9.0/super.c:645: warning:
> initialization from incompatible pointer type
> /work/crazy/packages/fs/spadfs-0.9.0/super.c:651: warning:
> initialization from incompatible pointer type
> /work/crazy/packages/fs/spadfs-0.9.0/super.c: In function 'SPADFS_GET_SB':
> /work/crazy/packages/fs/spadfs-0.9.0/super.c:637: warning: control
> reaches end of non-void function
> make[2]: *** [/work/crazy/packages/fs/spadfs-0.9.0/super.o] Error 1
> make[1]: *** [_module_/work/crazy/packages/fs/spadfs-0.9.0] Error 2
> make[1]: Leaving directory `/usr/src/linux-2.6.18-fw2'
> make: *** [spadfs] Error 2
Hmm, I see, they changed some stuff ... and in 2.6.19 too. I made a new 
version that compiles with 2.6.18 and 2.6.19rc4, so try it.
BTW. I've found a weird code in 2.6.19rc4 in vfs_getattr:
generic_fillattr(inode, stat); (ends with stat->blksize = (1 << 
inode->i_blkbits);)
and then
if (!stat->blksize) {...
Someone made this bug when changing it.
Mikulas
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/