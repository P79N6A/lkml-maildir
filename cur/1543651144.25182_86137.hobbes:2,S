Date: Sat, 2 Nov 2002 20:57:31 +0100
From: Petr Baudis <>
Subject: Re: [PATCH] [2.4.19] Extended /proc/partitions
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/2/191

Dear diary, on Sat, Nov 02, 2002 at 08:19:22PM CET, I got a letter,
where Andries.Brouwer@cwi.nl told me, that...
> (1) These ioctls are used by existing programs. So, for example,
> 	# hdparm -g /dev/hda5
> will give you the starting offset (in 512-byte sectors) of /dev/hda5.
> Even better may be a command like
> 	# blockdev --report
> 
> (2) Several programs, like mount, *fdisk, blockdev, read
> /proc/partitions. Changing the format will break all of these.
> So, it is best not to change anything, but if you do, only add
> fields at the end.
> 
..snip..
> 
> Given this uncertainty about what comes after the currently present
> fields, it is now impossible to add anything new, unless all programs
> using /proc/partitions also parse the header line.
> It is best to consider /proc/partitions frozen. Linux 2.5 has
> driverfs, and although "cat /proc/partitions" is much more convenient
> than searching around in driverfs (sysfs), no doubt blockdev will be
> changed so as to report on sysfs, when that exists and is mounted.
Ah.. I see, then please disregard the patches. Didn't realize that hdparm
already can do it nor that it's exported thru driverfs in 2.5, sorry.
-- 
				Petr "Pasky" Baudis
.
This host is a black hole at HTTP wavelengths. GETs go in, and nothing
comes out, not even Hawking radiation.
                -- Graaagh the Mighty on rec.games.roguelike.angband
.
Public PGP key && geekcode && homepage: 
http://pasky.ji.cz/~pasky/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/