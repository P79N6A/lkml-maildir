Date: Wed, 05 Dec 2007 17:31:28 -0500
From: Mark Lord <>
Subject: Re: [feature] automatically detect hung TASK_UNINTERRUPTIBLE tasks
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/5/325

Arjan van de Ven wrote:
> On Mon, 3 Dec 2007 11:27:15 +0100
> Andi Kleen <andi@firstfloor.org> wrote:
> 
>>> Kernel waiting 2 minutes on TASK_UNINTERRUPTIBLE is certainly
>>> broken.
>> What should it do when the NFS server doesn't answer anymore or 
>> when the network to the SAN RAID array located a few hundred KM away
>> develops some hickup?  Or just the SCSI driver decides to do lengthy
>> error recovery  -- you could argue that is broken if it takes longer 
>> than 2 minutes, but in practice these things are hard to test
>> and to fix.
>>
> 
> the scsi layer will have the IO totally aborted within that time anyway;
> the retry timeout for disks is 30 seconds after all.
..
Mmm.. but the SCSI layer may do many retries, each with 30sec timeouts..