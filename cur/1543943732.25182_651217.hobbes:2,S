Date: Sun, 10 Feb 2008 13:54:33 +0100
From: Németh Márton <>
Subject: [PATCH] leds: add mail LED support for "Clevo D400P"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/10/129

The leds-clevo-mail module also works with model "Clevo D400P",
add this model to the white list.
Signed-off-by: Márton Németh <nm127@freemail.hu>
Cc: Andrey Kamenov <akamenov@users.sourceforge.net>
---
diff -uprN a/drivers/leds/Kconfig b/drivers/leds/Kconfig
--- a/drivers/leds/Kconfig	2008-02-09 08:02:16.000000000 +0100
+++ b/drivers/leds/Kconfig	2008-02-10 13:47:31.000000000 +0100
@@ -135,6 +135,7 @@ config LEDS_CLEVO_MAIL
 	  This module can drive the mail LED for the following notebooks:
+	  	Clevo D400P
 	  	Clevo D410J
 	  	Clevo D410V
 	  	Clevo D400V/D470V (not tested, but might work)
@@ -142,6 +143,9 @@ config LEDS_CLEVO_MAIL
 	  	Clevo M5x0N (not tested, but might work)
 	  	Positivo Mobile (Clevo M5x0V)
+	  If your model is not listed here you can try the "nodetect"
+	  module paramter.
+
 	  To compile this driver as a module, choose M here: the
 	  module will be called leds-clevo-mail.
diff -uprN a/drivers/leds/leds-clevo-mail.c b/drivers/leds/leds-clevo-mail.c
--- a/drivers/leds/leds-clevo-mail.c	2008-02-09 08:02:16.000000000 +0100
+++ b/drivers/leds/leds-clevo-mail.c	2008-02-10 13:07:51.000000000 +0100
@@ -69,6 +69,16 @@ static struct dmi_system_id __initdata m
 	},
 	{
 		.callback = clevo_mail_led_dmi_callback,
+		.ident = "Clevo D400P",
+		.matches = {
+			DMI_MATCH(DMI_BOARD_VENDOR, "Clevo"),
+			DMI_MATCH(DMI_BOARD_NAME, "D400P"),
+			DMI_MATCH(DMI_BOARD_VERSION, "Rev.A"),
+			DMI_MATCH(DMI_PRODUCT_VERSION, "0106")
+		}
+	},
+	{
+		.callback = clevo_mail_led_dmi_callback,
 		.ident = "Clevo D410V",
 		.matches = {
 			DMI_MATCH(DMI_BOARD_VENDOR, "Clevo, Co."),
--
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/