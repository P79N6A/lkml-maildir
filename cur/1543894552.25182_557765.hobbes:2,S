Date: Fri, 15 Jun 2007 11:28:39 +0200
From: Arnd Bergmann <>
Subject: Re: drm: fix radeon setparam on 32/64 bit systems.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/15/96

On Friday 15 June 2007, Benjamin Herrenschmidt wrote:
> 
> > Only on i386. I think you just broke ppc32-on-ppc64.
> 
> Indeed... I'm pretty sure the 64 bits quantity will be naturally aligned
> on ppc32 (and possibly others).
> 
Ok, I'll bite. I've been telling people for ages what the right solution
for this is, but apparently sometimes you need to do it yourself if you
want to have it done well ;-)
Patch follows to introduce compat_u64. Please redefine your data
structure as
typedef struct drm_radeon_setparam32 {
     int param;
     compat_u64 value;
} drm_radeon_setparam32_t;
	Arnd <><
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/