Date: 14 Jan 2003 16:32:47 +0100
From: Trond Myklebust <>
Subject: Re: 2.5.bk no longer boots from NFS root after bk pull this morning
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/14/114

>>>>> " " == Andrew Walrond <andrew@walrond.org> writes:
     > 100005/1 on 10.0.0.1 net/sunrpc/rpc_pipe.c: rpc_lookup_path
     > failed to find path /mount/clntc398a880
Could you apply the RPC fix that I just posted to l-k, and then this
fix on top of it?
Cheers,
 Trond
diff -u --recursive --new-file linux-2.5.58-00-fix_warn/net/sunrpc/rpc_pipe.c linux-2.5.58-01-fix_nfsroot/net/sunrpc/rpc_pipe.c
--- linux-2.5.58-00-fix_warn/net/sunrpc/rpc_pipe.c	2003-01-14 16:05:21.000000000 +0100
+++ linux-2.5.58-01-fix_nfsroot/net/sunrpc/rpc_pipe.c	2003-01-14 16:29:23.000000000 +0100
@@ -324,6 +324,7 @@
 enum {
 	RPCAUTH_Root = 1,
 	RPCAUTH_lockd,
+	RPCAUTH_mount,
 	RPCAUTH_nfs,
 	RPCAUTH_portmap,
 	RPCAUTH_statd,
@@ -344,6 +345,10 @@
 		.name = "lockd",
 		.mode = S_IFDIR | S_IRUGO | S_IXUGO,
 	},
+	[RPCAUTH_mount] = {
+		.name = "mount",
+		.mode = S_IFDIR | S_IRUGO | S_IXUGO,
+	},
 	[RPCAUTH_nfs] = {
 		.name = "nfs",
 		.mode = S_IFDIR | S_IRUGO | S_IXUGO,
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/