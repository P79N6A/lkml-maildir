Date: Wed, 05 May 2004 14:27:09 +0200
From: Ian Kumlien <>
Subject: Re: IO-APIC on nforce2 [PATCH] + [PATCH] for nmi_debug=1 + [PATCH] for idle=C1halt, 2.6.5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/5/77

On Wed, 2004-05-05 at 14:14, Ross Dickson wrote:
> To my knowledge the only thing left to sort out for the normal kernel
> distro is what to do about the timer_ack issue in check_timer().
> 
> We need it off for nforce2 to get nmi_watchdog=1 working with ioapic
> 8254 timer pin0  timer override patch routing. I vote to revisit Maciej's
> patch that was dropped by Linus after appearing in 2.6.3-mm3. 
> For those with problems of clock skew with the timer into pin0 routing, 
> that patch gave a virtual wire timer routing which worked well for those
> users.
Whats the real difference between nmi_watchdog?1 and =2? Since
nmi_watchdog=2 works here:
NMI:       9884
LOC:   80297310
ERR:          0
MIS:          0
Also, wouldn't it be better to not depend on bioses and bios versions
atm, ie hardcode pin0 since Allen Martin stated that it's hardwired on
pin0?
ie, just:
if(pin2 && nforce2_chip)
{
	printk("ALERT: Known defect in bios, mail your manufacturer. Using
pin0\n");
	<whateverisneededtousepin0>
}
Since this whole problem is pissing me off... It would be much better if
one had some kind of access to the information from nvidia so you can
just point at it, telling the mb-manuf. that they are morons and go fix
=). (Did i mention that i have had this problem for quite some time and
would have gone postal if it wasn't for Ross Dicksons fixes =))
-- 
Ian Kumlien <pomac () vapor ! com> -- 
http://pomac.netswarm.net
[unhandled content-type:application/pgp-signature]