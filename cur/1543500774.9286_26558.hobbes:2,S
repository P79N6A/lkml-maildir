Date: Sun, 27 Jun 1999 23:09:37 +0200
From: Helge Hafting <>
Subject: Re: ext2 deletion times..
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/27/119

> 
>  Regarding the rm times for ext2:
> 
>   I would appreciate if people told me why this idea is stupid:
> 
>      instead of storing pointers to individual blocks (as we do now)
> 
>      store a pointer to first block in a segment and count of blocks
>      in this segment. (or first and last block)
> 
[...]
>         should not require more cpu cycles. (expanding (start,end) 
>         into list of blocks is faster than reading them sequentially)
You'll use less disk space, but more cpu cycles.
With today's scheme I can say that block XXX is necessarily
described in entry YYY in indirect block ZZZ.  This may be comnputed
directly from the number XXX.  
We can't do this (simple) calculation with your scheme, as we 
don't know the level of fragmentation in advance.
It is necessary to read the block containing the (start,end)
pairs and search it.  Of course you will not get more io this way,
and the scan will probably be a short one, but there will be
some more cpu work.  
rm will probably speed up quite a bit with this, but the rewrite might
be quite a bit of work.
Helge Hafting
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/