Date: Thu, 15 Jul 1999 18:50:55 +0100 (BST)
From: "Stephen C. Tweedie" <>
Subject: Re: [RFC] - Some notions that I would like comments on
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/15/135

Hi,
On Thu, 15 Jul 1999 11:41:02 -0400 (EDT), Chuck Lever <cel@monkey.org>
said:
> i notice that try_to_read_ahead (used by both mmap and normal file reads)
> will add a page to the page cache and read it in if it isn't already in
> the cache.  but it won't update a page if the page is already in the
> cache, but is not up to date.
A page should only ever be non-uptodate if either it is currently still
being read in (in which case it will be locked, too), or if there was an
IO error reading it in.  In the latter case, you want to do an IO retry
when the user next explicitly asks for that page, but you really want to
avoid doing the retry every single time the readahead zone hits the
page.  On some devices, IO errors can be really expensive (think about
the amount of time it takes to get a sector-not-found timeout on a
floppy), and you want to avoid unnecessary retries due to readahead.
--Stephen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/