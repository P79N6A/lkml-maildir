Date: Wed, 30 Nov 2005 18:32:56 +0100
From: Andi Kleen <>
Subject: Re: [PATCH 0/9] x86-64 put current in r10
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/30/133

On Wed, Nov 30, 2005 at 07:29:39PM +0200, Jari Ruusu wrote:
> Nick Piggin wrote:
> > Sounds like a trick question - I don't think the kernel does use any
> > out-of-tree amd64 assember code, does it? ;)
> 
> Out-of-tree amd64 assember code is being run in kernel space. For example:
> 
http://loop-aes.sourceforge.net/
> 
> Calling convention change that breaks existing assembler code that has been
> field proven and is believed to be entirely free of bugs for long time, does
> NOT belong in a STABLE kernel series.
I don't think you understand the policies of linux kernel development 
very well. 
If you want your code be maintained it's best to submit it to mainline.
Otherwise you're on your own.
Anyways - as long as your assembly code doesn't call any other kernel
services it should be enough to just save/restore R10 at the beginning/end.
Interrupts reload it automatically.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/