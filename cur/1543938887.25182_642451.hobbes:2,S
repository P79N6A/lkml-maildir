Date: Wed, 23 Jan 2008 16:39:36 -0800
From: Joe Perches <>
Subject: Re: [PATCH][ppc] logical/bitand typo in powerpc/boot/4xx.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/23/441

On Thu, 2008-01-24 at 01:18 +0100, Roel Kluin wrote:
> when you use git-grep -n "\(&&\|||\)${s}0x\([A-Z0-9]*\|[a-z0-9]*\)",
> (with s="[[:space:]]*") there will be false positives []
> so i'd propose to change that to
> +# Check for bitwise tests written as boolean
> +		if ($line =~ /(?:(?:\(|\&\&|\|\|)\s*0[xX]\s*(?:&&|\|\|)|
> +				(?:\&\&|\|\|)\s*0[xX]\s*(?:\)|&&|\|\|))/) {
> +			WARN("boolean test with hexadecimal, perhaps just 1 \& or \|?\n" . $herecurr);
> +		}
> +
All 13 false positives are "hex_constant logical_test variable".
I think that Linus would say that they are all poor style.
Still, fine by me.  cheers, Joe