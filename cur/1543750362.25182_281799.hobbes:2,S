Date: Wed, 29 Dec 2004 14:02:12 -0500
From: Jeff Garzik <>
Subject: [BK PATCH] fix floppy build
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/29/90

So my patch removing #include kernel/version.h broke the modular floppy 
build... doh.  I would prefer to remove the redundancy of listing the 
kernel version each time the floppy driver is loaded.
See attached for 'bk pull' and example patch.
Please do a
	bk pull bk://gkernel.bkbits.net/misc-2.6
This will update the following files:
 drivers/block/floppy.c |    2 +-
 1 files changed, 1 insertion(+), 1 deletion(-)
through these ChangeSets:
<jgarzik@pobox.com> (04/12/29 1.2079)
   block/floppy.c: fix build by removing UTS_RELEASE use
   
   It's redundant to the kernel message that prints out the kernel version,
   as well as many other places where one can request the kernel version.
diff -Nru a/drivers/block/floppy.c b/drivers/block/floppy.c
--- a/drivers/block/floppy.c	2004-12-29 14:00:55 -05:00
+++ b/drivers/block/floppy.c	2004-12-29 14:00:55 -05:00
@@ -4595,7 +4595,7 @@
 
 int init_module(void)
 {
-	printk(KERN_INFO "inserting floppy driver for " UTS_RELEASE "\n");
+	printk(KERN_INFO "inserting floppy driver\n");
 
 	if (floppy)
 		parse_floppy_cfg_string(floppy);