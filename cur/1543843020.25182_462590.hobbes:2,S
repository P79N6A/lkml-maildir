Date: Mon, 11 Sep 2006 23:48:33 -0600
From: (Eric W. Biederman)
Subject: Re: [RFC] MMIO accessors & barriers documentation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/12/128

Alan Cox <alan@lxorguk.ukuu.org.uk> writes:
>> > "Except where the underlying device is marked as cachable or
>> > prefetchable"
>> 
>> You aren't supposed to use MMIO accessors on cacheable memory, are you ?
>
> Why not. Providing it is in MMIO space, consider ROMs for example or
> write path consider frame buffers.
Frame buffers are rarely cachable as such, on x86 they are usually
write-combining.   Which means that the writes can be merged and
possibly reordered while they are being written but they can't be
cached.  Most arches I believe have something that roughly corresponds
to write combining.
Ensuring we can still use this optimization to mmio space is
moderately important.
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/