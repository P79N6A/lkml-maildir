Date: Thu, 14 Feb 2008 02:51:47 +0200 (MET DST)
From: Szabolcs Szakacsits <>
Subject: Re: BTRFS partition usage...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/13/698

On Tue, 12 Feb 2008, Jeff Garzik wrote:
> 
> Yep.  I chose 32K unused space in the prototype filesystem I wrote [1, 2.4
> era].  I'm pretty sure I got that number from some other filesystem, maybe
> even some NTFS incarnation.  
NTFS superblock (and the partial mirror copy) can be anywhere except in the 
first blocks. That space is where the $BOOT file is placed which contains 
the bootstrap code and the BIOS Paramether Block which includes the NTFS 
signature and describes various filesystem information needed to locate the 
superblock, etc.
Unlike mkfs.xfs which warns since at least 2002 and requires the -f option 
to override Sun disklabels, at the moment mkfs.ntfs will indeed destroy 
them. 
Thank you for the bug report and let's hope the next generation of Sun 
hardwares won't scatter the firmware too into random places inside a 
partition encoded by a fictitious size of disk cylinder.
	Szaka