Date: Wed, 6 Dec 2006 15:40:20 -0800
From: Andrew Morton <>
Subject: Re: -mm merge plans for 2.6.20
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/6/339

On Tue, 5 Dec 2006 21:34:16 +0000 (GMT)
James Simmons <jsimmons@infradead.org> wrote:
> Here you go. This patch places the backlight before the framebuffers. You
> will now be able to select using the backlight with various framebuffer 
> drivers.
This doesn't work right for me.  x86_64 allmodconfig enables
CONFIG_FB_ATY_BACKLIGHT but fails to enable FB_BACKLIGHT so things won't
build.
drivers/video/aty/atyfb_base.c: In function 'aty_bl_get_level_brightness':
drivers/video/aty/atyfb_base.c:2130: error: 'struct fb_info' has no member named 'bl_curve'
I'm not sure how to fix it, either.  Are things like
CONFIG_FB_ATY_BACKLIGHT _really_ supposed to be pmac-only?
menuconfig says:
 Symbol: FB_BACKLIGHT [=FB_BACKLIGHT]
	Selected by: PMAC_BACKLIGHT && (PPC || MAC) && ADB_PMU && FB=y && (BROKEN || !PPC64)
 
Surely CONFIG_FB_ATY_BACKLIGHT should depend upon FB_BACKLIGHT?
How come I have CONFIG_BACKLIGHT_CLASS_DEVICE and things like that but
CONFIG_FB_BACKLIGHT=n?
And a `make oldconfig' says
drivers/macintosh/Kconfig:126:warning: 'select' used by config symbol 'PMAC_BACKLIGHT' refer to undefined symbol 'FB_BACKLIGHT'
Here's what allmodconfig gave:
akpm2:/usr/src/25> grep BACKL .config
CONFIG_BACKLIGHT_LCD_SUPPORT=y
CONFIG_BACKLIGHT_CLASS_DEVICE=m
CONFIG_BACKLIGHT_DEVICE=y
CONFIG_FB_NVIDIA_BACKLIGHT=y
CONFIG_FB_RIVA_BACKLIGHT=y
CONFIG_FB_RADEON_BACKLIGHT=y
CONFIG_FB_ATY128_BACKLIGHT=y
CONFIG_FB_ATY_BACKLIGHT=y
Anyway, it seems all screwed up - I'll drop the patch.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/