Date: Mon, 10 May 1999 16:12:11 -0500 (CDT)
From: "Andre M. Hedrick" <>
Subject: RE: The WHY's (RE: ide drive w/dma ... system crash)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/10/127

On Mon, 10 May 1999, BROWN Nick wrote:
> While you're moving IDE towards accepting the BIOS's view of the world,
> maybe you have a minute to check probe_cmos_for_drives() and see if you can
Already there........
> fill in the C/H/S data from somewhere else (eg, the BIOS data returned by
> Andries' in the patched setup.S), rather than from drive_info, which has the
> bogus data from the INT 41h/46h vectors.  Mark Lord's comment just above
> this routine about getting the info from INT 13h has come true in the new
> version of setup.S.  (Mark is, I believe, also of the opinion that the whole
> probe_cmos_for_drives() routine should probably be trashed.)
> 
> That would allow me (for example !) to run LILO correctly without having to
> specify C/H/S values at boot time, on my system where hd0 points to the
> first SCSI disk, not the first IDE disk.
The problem is that it needs to be moved to a high/different location than
ide-probe.c.  There is a compile problem if ide is modular with scsi
default.  Since this is currently limited to i386 arch, make a suggestion
of were to place this animal.
As stated before, Andries work is part of the patch and reports for IDE,
but SCSI is stubbed out.  Suggestion where it should go?
Andre Hedrick
The Linux IDE guy
Candidate for pre-patch-2.2.8-series or pre-patch-2.2.9-series
http://www.dyer.vanderbilt.edu/server/udma/
       2.2.7.uniform-ide-6.19.golf.patch.gz
http://www.dyer.vanderbilt.edu/server/udma/2.2.7.uniform-ide-6.19.patch.gz
http://www.dyer.vanderbilt.edu/server/udma/ide.2.0.37pre11
+pat7.gz
http://www.dyer.vanderbilt.edu/server/udma/hdparm-3.5i.patch.gz
APC UPS Daemon Support Center.
                        
http://www.brisse.dk/site/apcupsd/
GPLed source on April 7, 1999
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/