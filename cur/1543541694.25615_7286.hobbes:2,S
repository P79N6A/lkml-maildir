Date: Mon, 14 Aug 2000 02:16:27 -0600
From: "Jeff V. Merkey" <>
Subject: socket->ops->connect() impossible in-kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/14/19

If you open s socket and pass the handle into user space, then connect
on SOCK_STREAM works from user space, but does not seem to work in
kernel space (hangs on signal).  I noticed tht ncpfs, smbfs, nbd, and
just about every other drivers opens the socket in user space and
connects then passes the socket handle into the drivers via an ioctl(). 
The only exception seems to be the /net/sunrpc stuff.
connecting in kernel seems to be a "jolting" experience.  I see hangs,
-512, -98, -111, and -115 errors  returned in an arbitrary manner.  This
seems busted on 2.2.17.
Is it just a bad idea to use connect() in-kernel?
Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/