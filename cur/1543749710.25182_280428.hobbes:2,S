Date: Tue, 21 Dec 2004 11:18:45 +0530
From: Amol <>
Subject: linuxrc in 2.6.7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/21/1

Hi,
 I am using 2.6.7 in my embedded linux box. I start with RAMDISK as a
rootfilesystem and finally want to move the rootfile system to RAMFS (I
cannot use initramfs for some reasons). 
I used following linuxrc script. I see kernel calling do_linuxrc
function but none of the commands in the linuxrc are getting executed. 
What I am missing ??
linuxrc
--------
!/bin/busybox sh
busybox mount -t ramfs ramfs /mnt
busybox cp -a bin dev etc lib sbin usr var mnt
cd /mnt
busybox mkdir proc initrd
busybox pivot_root . initrd
busybox mount /proc /proc -t proc
busybox --install -s
echo 0x100 >/proc/sys/kernel/real-root-dev
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/