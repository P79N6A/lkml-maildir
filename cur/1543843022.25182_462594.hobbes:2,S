Date: Tue, 12 Sep 2006 00:27:57 -0600
From: (Eric W. Biederman)
Subject: Re: [RFC] MMIO accessors & barriers documentation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/12/132

Benjamin Herrenschmidt <benh@kernel.crashing.org> writes:
> I've not gone too much in details about write combining (we need to do
> something about it but I don't want to mix problems) but I did define
> that the ordered accessors aren't guaranteed to provide write combining
> on storage mapped with WC enabled while the relaxed or non ordered ones
> are. That should be enough at this point.
Sounds good.
> Later, we should look into providing an ioremap_wc() and possibly page
> table flags for write combining userland mappings. Time to get rid of
> MTRRs for graphics :) And infiniband-style stuff seems to want that too.
ioremap_wc is actually the easy half.  I have an old patch that handles
that.  The trick is to make certain multiple people don't map the same
thing with different attributes.  Unfortunately I haven't had time to
work through that one yet.
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/