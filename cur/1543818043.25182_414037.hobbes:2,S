Date: Wed, 05 Apr 2006 20:42:00 -0700
From: Daniel Phillips <>
Subject: Re: [uml-devel] Re: [PATCH 12/16] UML - Memory hotplug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/5/235

Jeff Dike wrote:
> Yeah, it's a bit non-obvious what 0 means in the twisty little maze of
> GFP_ flags.
> 
> However, I do want to push the system into reclaim later.  It looks
> like the only difference between 0 and GFP_ATOMIC is the use of
> emergency pools, which I don't really want to exercise anyway.
> 
> ...This look OK to you?...
> 
> +			/* 0 means don't wait (like GFP_ATOMIC) and
> +			 * don't dip into emergency pools (unlike
> +			 * GFP_ATOMIC).
> +			 */
> +			new = kmalloc(sizeof(*new), 0);
If you have a believable use for gfp_mask=0 then why not add GFP_NOWAIT or some
such to gfp.h?
Regards,
Daniel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/