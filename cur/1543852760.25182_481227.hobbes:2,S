Date: Fri, 10 Nov 2006 09:39:40 -0500
From: Stephen Clark <>
Subject: Re: New laptop - problems with linux
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/10/166

Jarek Poplawski wrote:
>On Thu, Nov 09, 2006 at 09:08:24AM -0500, Stephen Clark wrote:
> 
>
>>Jarek Poplawski wrote:
>>
>> 
>>
>>>On 08-11-2006 15:41, Stephen Clark wrote:
>>>
>>>
>>> 
>>>
>>>>Hi list,
>>>>
>>>>I just purchased a VBI-Asus S96F laptop Intel 945GM &  ICH7, with a Core 
>>>>2 Duo T560,0 2gb pc5400 memory.
>>>> 
>>>>
>>>>From checking around it appeared all the
>>> 
>>>
>>>>hardware was well supported by linux - but I am having major problems.
>>>>
>>>>
>>>>1. neither the wireless lan Intel pro 3945ABG or built in ethernet 
>>>>RTL-8169C are detected and configured
>>>>2. the disk which is a 7200rpm Hitachi travelmate transfers data at 1.xx 
>>>>mb/sec
>>>> according to hdparm. This same drive in my old laptop an HP n5430 with a
>>>> 850 duron the rate was 12-14 mb/sec.
>>>> 
>>>>
>>>> 
>>>>
>>>... 
>>>
>>>
>>> 
>>>
>>>>Kernel command line: ro root=/dev/VolGroup00/LogVol00 ide1=dma ide1=ata66
>>>>ide_setup: ide1=dma -- OBSOLETE OPTION, WILL BE REMOVED SOON!
>>>>ide_setup: ide1=ata66 -- OBSOLETE OPTION, WILL BE REMOVED SOON!
>>>> 
>>>>
>>>> 
>>>>
>>>Could you repeat the reason for this ides in kernel parameters?
>>>Did you try to boot some fresh live-cd distro?
>>>
>>>Jarek P.
>>>
>>>
>>>
>>> 
>>>
>>Yes, I was trying to get dma turned on for my harddrive.
>> 
>>
>
>You can do it with hdparm. But in current kernels it
>should be on by default - if not - there is probably
>lack of some driver or it is disabled by parameters like
>this. So try to get rid of them.
>
>As it was stated in the first reply by Arjan van de Ven
>you definitely should have this disk in sata mode and
>see it as sda, so try check in your kernel config
>Serial ATA... drivers - particulary:
>CONFIG_ATA = y
>CONFIG_ATA_PIIX = y
>and maybe:
>CONFIG_ATA_GENERIC = y
>CONFIG_PATA_MPIIX = y
>
>(if they are "= mi", you should have initrd properly generated).
>
>Probably you can also do CONFIG_IDE = n in ATA/ATAPI
>(it depends on your CD-DVD).
> 
> 
>
>>I have booted knoppix 5.1 but didn't check harddrive transfer rate.
>> 
>>
>
>If you can see it as sda, transfer should be fine.
>
>Regards,
>
>Jarek P. 
>-
>To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
>the body of a message to majordomo@vger.kernel.org
>More majordomo info at  
http://vger.kernel.org/majordomo-info.html
>Please read the FAQ at  
http://www.tux.org/lkml/
>
> 
>
Hi Jarek,
The problem is resolved by using combined_mode=libata and 2.6.19-rc5.
Steve
-- 
"They that give up essential liberty to obtain temporary safety, 
deserve neither liberty nor safety."  (Ben Franklin)
"The course of history shows that as a government grows, liberty 
decreases."  (Thomas Jefferson)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/