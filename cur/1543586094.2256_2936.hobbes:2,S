Date: Wed, 28 Mar 2001 12:58:57 -0500
From: Jeff Garzik <>
Subject: Re: natsemi.c (Netgear FA311 card) probmlems??
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/3/28/112

Torrey Hoffman wrote:
> 
> Troy Benjegerdes wrote:
> [...]
> > Is anyone succesfully using a FA311 card (or anthing with a NatSemi
> > DP83815 chip?)
> 
> We are working on the 2.2.x version of the driver.  On our hardware,
> which has the DP83815 on the motherboard, Donald Becker's version was
> capable of sending packets but not receiving.  I swapped some email
> with him on the subject about 6 weeks ago, sent him some debug output,
> but haven't heard anything recently.
> 
> Meanwhile, we are doing some work on it ourselves.  A "Jocelyn Mayer"
> posted a revised version of the driver which fixed some bugs but
> introduced others - at least on our hardware.  Check the archives.
> 
> Our version now sends and receives under 2.2.17, and is fixed to read
> and set the MAC address properly (!), but tends to have lousy
> performance.  Large file transfers usually run at a pathetic 250
> KB/s and often stall, but sometimes when the moon is in the right
> phase, run at a much more reasonable 7 MB/s.  We are working on it...
> 
> If anyone else out there has some improvements, I would love to hear
> about them.
There are some improvements in the latest 2.4 test patch, 2.4.3-pre8.  I
would be very interested in hearing feedback on that.  I finally got two
test cards, FA311 and FA312, so I can work on it a bit too.
The 2.4.3-pre8 patch, against kernel 2.4.2, is available from
ftp://ftp.us.kernel.org/pub/linux/kernel/testing/
This updated 2.4 natsemi.c merges the changes in Becker's latest, which
should fix eeprom/mac address reading as you mention, and it also
includes some power management fixes required on some boards. 
Differences from 2.2 versions include locking updates and some other
small differences.  Please test, if you have an opportunity.
(note you'll have to fix a screwup of mine in drivers/net/Makefile --
you need to add net_init.o to export-objs before you can build net
drivers as modules.  Building them into the kernel works fine.)
-- 
Jeff Garzik       | May you have warm words on a cold evening,
Building 1024     | a full moon on a dark night,
MandrakeSoft      | and a smooth road all the way to your door.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/