Date: Fri, 25 Mar 2005 19:22:52 +0100
From: Bruno Cornec <>
Subject: megaraid driver (proposed patch)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/25/128

Hello,
I've noticed that since recent kernel versions, it's not possible
anymore to use simultaneously new and old megaraid driver. 
It seems to have been introduced by that changeset:
http://linux.bkbits.net:8080/linux-2.5/diffs/drivers/scsi/megaraid/Kconfig.megaraid@1.1??nav=index.html
|src/.|src/drivers|src/drivers/scsi|src/drivers/scsi/megaraid|hist/drivers/scsi/megaraid/Kconfig.megaraid
It particularly makes life of people developing kernel for distro
difficult as it forces them to drop support for legacy hardware which is
working just fine with 2.6, or to patch their own kernel build.
As well it prevents simultaneous usage of new and old cards in the same
system.
Would you consider to apply the following patch proposed by Thierry
Vignaud as a solution for the MandrakeSoft kernel in the mainstream 2.6 
kernel ?
Thanks in advance,
Bruno.
--- ./drivers/scsi/megaraid/Kconfig.megaraid	2005-03-02
08:37:49.000000000 +0100
+++ ./drivers/scsi/megaraid/Kconfig.megaraid	2005-03-25
18:36:37.809994244 +0100
@@ -64,7 +64,6 @@
 	To compile this driver as a module, choose M here: the
 	module will be called megaraid_mbox
 
-if MEGARAID_NEWGEN=n
 config MEGARAID_LEGACY
 	tristate "LSI Logic Legacy MegaRAID Driver"
 	depends on PCI && SCSI
@@ -75,4 +74,3 @@
 
 	To compile this driver as a module, choose M here: the
 	module will be called megaraid
-endif
-- 
Linux Solution Consultant   /   Open Source Evangelist   \    HP C&I EMEA ISG
HP/Intel Solution Center 
http://hpintelco.net
 Hewlett-Packard Grenoble/France
Des infos sur Linux?  
http://www.HyPer-Linux.org
      
http://www.hp.com/linux
La musique ancienne?  
http://www.musique-ancienne.org
 
http://www.medieval.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/