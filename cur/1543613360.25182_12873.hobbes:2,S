Date: Thu, 13 Dec 2001 18:41:13 -0500 (EST)
From: Keith Warno <>
Subject: make modules_install: chokes on emu10k1 module install
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/13/208

This is a minor annoyance in at least 2.4.16 and 2.4.17-rc1 (don't know
about others).
If emu10k1 sound support is configured to be built and installed as a
module, make modules_install will yack like:
make[2]: Entering directory `/usr/src/linux-2.4.17-rc1/drivers/sound'
mkdir -p /lib/modules/2.4.17-rc1/kernel/drivers/sound/
cp soundcore.o ac97_codec.o ac97_codec.o
/lib/modules/2.4.17-rc1/kernel/drivers/sound/
cp: will not overwrite just-created
`/lib/modules/2.4.17-rc1/kernel/drivers/sound/ac97_codec.o' with
`ac97_codec.o'
make[2]: *** [_modinst__] Error 1
make[2]: Leaving directory `/usr/src/linux-2.4.17-rc1/drivers/sound'
Nuke line 75 in drivers/sound/Makefile .
--- linux-2.4.17-rc1/drivers/sound/Makefile     Thu Dec 13 18:36:18 2001
+++ linux/drivers/sound/Makefile        Thu Dec 13 18:37:18 2001
@@ -72,7 +72,6 @@
 obj-$(CONFIG_SOUND_EMU10K1)    += ac97_codec.o
 obj-$(CONFIG_SOUND_RME96XX)     += rme96xx.o
 obj-$(CONFIG_SOUND_BT878)      += btaudio.o
-obj-$(CONFIG_SOUND_EMU10K1)    += ac97_codec.o
 obj-$(CONFIG_SOUND_IT8172)     += ite8172.o ac97_codec.o
 ifeq ($(CONFIG_MIDI_EMU10K1),y)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/