Date: Thu, 30 Dec 2004 07:28:35 +1100
From: Con Kolivas <>
Subject: Re: Trying out SCHED_BATCH
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/29/105

Maciej Soltysiak wrote:
> Hi
> 
> Con wrote:
> 
>> Only the staircase scheduler currently has an implementation of
>> sched_batch and you need 2 more patches on top of the staircase patch
>> for it to work.
> 
> Hmm, Is it feasable to write a sched_batch policy for the current linux 
> schedulers?
Yes.
The proper way to make a sched_batch implementation is more 
comprehensive than what is made for staircase to prevent a deadlock 
based on a batch task getting an important lock in the kernel and not 
being able to release it due to a sched_normal task being higher 
priority than it that is actually trying to get the lock. There is code 
in the staircase version to prevent this from happening but probably not 
complete enough in design to prevent everything. However it works and I 
haven't had any reports of lockups since I implemented the extra checking.
Would you like me to create a version like that? I don't have the time 
to try and make a more comprehensive solution and follow the debugging 
of such a beast.
 > I mean, if there are people that want it bad, maybe it would be nice to
 > be able
 > to use a version of sched_batch that would work without the staircase
 > scheduler.
 > It is still experimental, right?
No it's not experimental. It is very stable and used in production systems.
Con
[unhandled content-type:application/pgp-signature]