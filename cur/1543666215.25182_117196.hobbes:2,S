Date: Fri, 14 Mar 2003 10:57:51 +0100
From: "Felipe Alfaro Solana" <>
Subject: Re: 2.5.64-mm6, a new test case for scheduler interactivity problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/14/50

----- Original Message ----- 
From: Charles Baylis <cb-lkml@fish.zetnet.co.uk> 
Date: 	Thu, 13 Mar 2003 22:01:02 +0000 
To: linux-kernel@vger.kernel.org 
Subject: 2.5.64-mm6, a new test case for scheduler interactivity problems 
 
> I've just installed 2.5.64-mm6, and I've tried out the new improved  
> scheduler and it's definately not there yet. I can easily cause ogg  
> playback to skip (for example) by changing virtual desktop in windowmaker  
> to busy konqueror window. X is not reniced (has a nice level of 0) 
 
I cannot reproduce your problems... same scenario: 2.5.64-mm6, 
KDE desktop, XFree86 4.3.0 (no nice). 
 
> My experience suggests that skips occur when more than one interactive task  
> starts to become a CPU hog, for example X and konqueror can be idle for  
> long periods, and so become interactive, but during an intensive redraw  
> they briefly behave as CPU hogs but maintain their interactive bonus this  
> means that ogg123 has to wait until the hogs complete their timeslice  
> before being scheduled. 
 
Can't reproduce... 
 
> My test case tries to reproduce this by creating a number of tasks which  
> alternate between being 'interactive' and CPU hogs. On my Celery 333 laptop  
> it can sometimes cause skips with only 1 child, and is pretty much  
> guaranteed to cause skips with more child tasks. 
 
I have a Pentium III Mobile 700 Mhz, anyways... 
 
> To compile use 'gcc -o thud thud.c' 
>  
> To reproduce, I: 
> run ogg123 somefile.ogg in one xterm 
> run ./thud 1 in another xterm 
 
No ways... I start ogg123 to reproduce a very long file and then, 
launched ./thud 20 (yes, 20, but I also tried with 2 and 1), but 
ogg123 doesn't skip. No way, I can't make it skip. 
 
Try doing 
 
echo 50 > /proc/sys/sched/max_timeslice 
 
and see if it helps. 
Thanks! 
 
   Felipe 
 
-- 
______________________________________________
http://www.linuxmail.org/
Now with e-mail forwarding for only US$5.95/yr
Powered by Outblaze
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/