Date: Sat, 29 Mar 2003 13:09:28 +0100
From: Andries Brouwer <>
Subject: Re: 2.4.20: problem with "ps -olstart"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/29/19

On Sat, Mar 29, 2003 at 01:08:58PM +1100, Eyal Lebedinsky wrote:
> I see a different start time returned on different calls. An example
> is attached below. This is a show stopper for me. Is this a known
> problem? Does it have a solution?
> 
> This is vanilla (my build) 2.4.20 on i386.
> 
> $ while true ; do ps --pid "3026" -olstart,cmd --no-headers ; done
> Thu Mar 27 22:03:11 2003 sh
> Thu Mar 27 22:03:11 2003 sh
> Thu Mar 27 22:03:12 2003 sh
> Thu Mar 27 22:03:11 2003 sh
Look at your ps source. There are many incarnations of ps,
but perhaps you'll find something like
	seconds_since_boot = uptime(0,0);
	seconds_since_1970 = time(NULL);
	time_of_boot = seconds_since_1970 - seconds_since_boot;
	start = time_of_boot + pp->start_time/Hertz;
The interplay of rounding and truncating you see here
results in what you see. Instead of using ps you might try
a tiny utility that reads the start time directly.
Andries
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/