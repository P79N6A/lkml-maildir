Date: Fri, 28 May 1999 15:38:51 +0200
From: Thomas Wouters <>
Subject: Re: group perms on /dev/pts/*
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/29/98

On Tue, May 25, 1999 at 08:30:15AM +0000, H. Peter Anvin wrote:
> Followup to:  <Pine.LNX.4.10.9905171037310.16393-100000@brookie.inconnect.com>
> By author:    Dax Kelson <dkelson@inconnect.com>
> In newsgroup: linux.dev.kernel
> >
> > > > Since 2.2.7 I've been seeing some wierd FOO with /dev/pts/*.
> > > > I use screen, which requires +rwx permissions on /dev/pts/1,
> > > > or which ever terminal it is currently on... however, the group
> > > > permissions appear to now be set, by default, to _just_ +w.
> > > > Yes, I am in group tty....  I can fix the problem by manually
> > > > sudo chmod g+rwx /dev/pts/*
> > > > but it's annoying... does anyone know if this is a bug?  a
> > > > feature?  an automated workaround?  Thanks in advance.
> > 
> > 
> > Edit your /etc/fstab, change the mode to "640" instead of "620"..ie..
> > 
> > none    /dev/pts   devpts  gid=5,mode=640  0  0
> Don't do that unless you want people to snoop on you.  620 are the
> proper perms; if that doesn't work with screen, screen is broken.
But it isn't. I also dont see why it needs group perms on the ttys -- unless
screen is running setuid tty or some such. Here,
> ls -l `which screen`
-rwxr-xr-x   1 root     root       179260 Apr  7 17:29 /usr/bin/screen
> ps auxwww | fgrep screen
[snip]
thomas   28538  0.0  0.0  1924    0 pts/8    SW   May21   0:00 [screen]
[snip]
> ls -l /dev/pts/8
crw--w----   1 thomas   thomas   136,   8 May 28 15:36 /dev/pts/8
-- Running RedHat 6.0. Screen came with it, though, it might have patches.
-- 
Thomas Wouters <thomas@xs4all.net>
Hi! I'm a .signature virus! copy me into your .signature file to help me spread!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/