Date: 21 Apr 2002 19:41:34 +0200
From: Peter Osterlund <>
Subject: Re: [patch] ide updates
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/21/136

Morten Helgesen <morten.helgesen@nextframe.net> writes:
> On Fri, Apr 19, 2002 at 12:39:24PM -0400, Mark Hahn wrote:
> > > guys with other WD drives, in particular :) You can use the
> > > attached perl script, sent to me by Jens, to check you drives.
> > 
> > did the script give valid results?  (I wrote it...)
> 
> sure - seems to work like a charm :)
There appears to be an off by one bug in the test that decides whether
to mail the results. The results are mailed if there are != 1 drives
found, instead of the supposedly intended != 0 test.
Here is a patch to fix it:
--- test-tcq.pl.old	Sun Apr 21 19:35:22 2002
+++ test-tcq.pl	Sun Apr 21 19:34:57 2002
@@ -22,7 +22,7 @@
         }
 }
 
-if ($addr && $#goodies) {
+if ($addr && scalar(@goodies)) {
         open(M, "| mail -s TCQ-report $addr");
         print M @goodies;
         close(M);
-- 
Peter Osterlund - petero2@telia.com
http://w1.894.telia.com/~u89404340
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/