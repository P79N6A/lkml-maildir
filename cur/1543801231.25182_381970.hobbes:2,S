Date: Thu, 5 Jan 2006 14:58:58 +0100
From: Martin Bretschneider <>
Subject: PROBLEM: PS/2 keyboard does not work with 2.6.15
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/5/137

Hi kernel-devs,
[1.]
a keyboard that is connected to to PS/2 port does not work with
kernel 2.6.15. That is to say that no action is seen at the login
promt if I enter any key.
[2.]
I used PS/2 keyboards for a long time with kernels < 2.6.15
like 2.6.14.2, 2.6.13 or 2.6.11.10. I used "make oldconfig" to move
the .config file form 2.6.14.2 to 2.6.15 and answered "no" to every
questionÂ¹
The keyboard is pluged the right way since I can walk around in the
lilo menu before the kernel is being loaded. If I choose another
kernel the PS/2 keyboard does work. I can connect to the pc with a
running 2.6.15 from another pc using ssh. Everything looks normal,
there are no strange errors in /var/log/syslog or from the output
dmesg. I can also use the soundcard...
I also tried another keyboard that do work on kernels < 2.6.15 with
no success.
I cannot tell if the PS/2 mouse does not work either since I cannot
start X.
[3.]
PS/2 keyboard, input
[4.] cat /proc/version
Linux version 2.6.15-06.01.03 (root@mars.bretschneidernet.de)
(gcc-Version 4.0.3 20051201 (prerelease) (Debian 4.0.2-5)) #1 PREEMPT
Tue Jan 3 20:50:32 CET 2006
[5.]
2.6.14.2
[8.1] ver_linux
If some fields are empty or look unusual you may have an old version.
Compare to the current minimal requirements in Documentation/Changes.
Linux mars.bretschneidernet.de 2.6.15-06.01.03 #1 PREEMPT Tue Jan 3
20:50:32 CET 2006 i686 GNU/Linux
Gnu C                  4.0.3
Gnu make               3.81beta4
binutils               2.16.91
util-linux             2.12p
mount                  2.12p
module-init-tools      3.2.2
e2fsprogs              1.38
reiserfsprogs          line
reiser4progs           line
xfsprogs               2.6.28
PPP                    2.4.4b1
Linux C Library        2.3.5
Dynamic linker (ldd)   2.3.5
Procps                 3.1.14
Net-tools              1.60
Console-tools          0.2.3
Sh-utils               5.93
udev                   079
Modules Loaded         parport_pc lp parport binfmt_misc rfcomm l2cap
bluetooth ipt_state ip_conntrack nfnetlink iptable_filter ip_tables
nls_iso8859_1 nls_cp437 vfat fat isofs it87 hwmon_vid hwmon i2c_isa
cryptoloop loop ppp_deflate zlib_deflate zlib_inflate bsd_comp
ppp_generic slhc thermal processor snd_emu10k1_synth snd_emux_synth
snd_seq_virmidi snd_seq_midi_emul snd_seq_oss snd_seq_midi
snd_seq_midi_event snd_seq snd_emu10k1 snd_rawmidi snd_seq_device
snd_ac97_codec snd_pcm_oss snd_mixer_oss snd_pcm snd_timer
snd_ac97_bus snd_page_alloc snd_util_mem snd_hwdep ehci_hcd ohci_hcd
forcedeth usbcore i2c_nforce2 i2c_core
[other information are attached]
[8.7.]
The motherboard is a Gigabyte GA-K8NF-9 using the nforce4 chipset.
The CPU in an AMD64 that does only run in the 32bit mode.
Kind regards from Martin
[1] The .config files can be seen on
http://www.bretschneidernet.de/tmp/config-2.6.14.2
 and 
http://www.bretschneidernet.de/tmp/config-2.6.15
-- 
http://www.bretschneidernet.de
        OpenPGP-key: 0x4EA52583
          (o__  (O_                Philip R. Zimmermann:
          //\'  //\               If privacy is outlawed,
          V_/_  V_/_          only outlaws will have privacy.
[unhandled content-type:application/x-gzip]