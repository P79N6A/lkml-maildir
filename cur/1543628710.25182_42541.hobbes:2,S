Date: Fri, 26 Apr 2002 10:58:43 +0200
From: Martin Dalecki <>
Subject: Re: [PATCH] 2.5.10 UTS_VERSION
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/26/28

Użytkownik Keith Owens napisał:
> On Fri, 26 Apr 2002 09:33:44 +0200, 
> Martin Dalecki <dalecki@evision-ventures.com> wrote:
> 
>>Make sure UTS_VERSION is allways in "C" locale.
>>Without it you will get (please note the day of week):
>>
>>~# export LANG=en_US
>>~# uname -a
>>Linux rosomak.prv 2.5.10 #1 pi? kwi 26 09:31:52 CEST 2002 i686 unknown
>>~#
> 
> 
> Why is that a problem?  If a user wants a kernel uname in their local
> language, kbuild has no objection.  I need LC_COLLATE=C to get a
> consistent filename ordering for kbuild but everything else, including
> build messages, date and time can be local.
Please note that this is not just a compile time problem!
The UTS_STRING is hard compiled *in to* the kernel and should
be normalized for the following reasons:
1. Consistency
2. Consistency
3. Consistency
4. Giving the uname command a chance to translate it to the peculiar locale
    of the user.
5. During boot this string will be printed to the console. This is the
    time where the system doesn't know *anything* about non ASCII character sets.
    This results in the above example for me for example in printing
    of utter garbage on the screen.
6. Kernel messages are supposed to be in LOCALE="C".
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/