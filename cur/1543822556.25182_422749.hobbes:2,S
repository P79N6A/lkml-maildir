Date: Thu, 11 May 2006 00:20:42 +0100
From: Al Viro <>
Subject: Re: [PATCH -mm] sys_semctl gcc 4.1 warning fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/10/314

On Wed, May 10, 2006 at 04:05:48PM -0700, Andrew Morton wrote:
> Sure - it's sad and we need some workaround.
> 
> The init_self() thingy seemed reasonable to me - it shuts up the warning
> and has no runtime cost.  What we could perhaps do is to make
> 
> #define init_self(x) (x = x)
> 
> only if the problematic gcc versions are detected.  Later, if/when gcc gets
> fixed up, we use
Sorry, no - it shuts up too much.  Look, there are two kinds of warnings
here.  "May be used" and "is used".  This stuff shuts both.  And unlike
"may be used", "is used" has fairly high S/N ratio.
Moreover, once you do that, you lose all future "is used" warnings on
that variable.  So your ability to catch future bugs is decreased, not
increased.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/