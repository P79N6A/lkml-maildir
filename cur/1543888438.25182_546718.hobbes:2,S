Date: Sun, 20 May 2007 12:18:00 +0200
From: Heiko Carstens <>
Subject: Re: [BUG] local_softirq_pending storm
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/20/50

On Sat, May 19, 2007 at 09:11:08PM +0200, Thomas Gleixner wrote:
> On Sat, 2007-05-19 at 15:25 +0530, Anant Nitya wrote:
> > > No idea. I uploaded a debug patch against 2.6.22-rc1 to
> > >
> > > 
http://www.tglx.de/private/tglx/2.6.22-rc1-hrt-debug.patch
> > >
> > > Can you give it a try and report the output ?
> > Hi
> > Here it goes 
> > [  159.646196] NOHZ softirq pending 22 on CPU 0
> > [  159.646207] .... task state: 1 00000000
> 
> 1 == TASK_INTERRUPTIBLE, so we know that ksoftirqd was not woken up. At
> least it is not a scheduler problem.
> 
> I work out a more complex debug patch and pester you to test once I'm
> done.
I've also tons of 'NOHZ: local_softirq_pending 08' that disappear with
nohz=off. But I'm still running 2.6.21. Are there any patches that should
fix this?
Machine is a Lenovo T60p:
i686 Intel(R) Core(TM)2 CPU T7600  @ 2.33GHz GenuineIntel GNU/Linux
Besides that I get a lot of clock skews on 'make headers_check', but
these are unrelated to nohz:
  CHECK   include/asm/dasd.h
make[2]: warning:  Clock skew detected.  Your build may be incomplete.
make[2]: Warning: File `/dev/null' has modification time 5.1e+03 s in the future
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/