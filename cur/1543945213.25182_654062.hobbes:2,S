Date: Fri, 15 Feb 2008 08:30:26 +0100
From: Ingo Molnar <>
Subject: Re: [PATCH] Fix left over EFI cache mapping problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/15/40

* Linus Torvalds <torvalds@linux-foundation.org> wrote:
> So *if* we care (I doubt we do, since EFI_PAGE_SHIFT at least right 
> now matches PAGE_SHIFT on x86), you'd probably want to do something 
> like
> 
>   static inline unsigned long efi_pages_to_native_pages(unsigned long efi_pages)
>   {
>   #if EFI_PAGE_SHIFT > PAGE_SHIFT
> 	return efi_pages << (EFI_PAGE_SHIFT - PAGE_SHIFT);
>   #else
> 	return efi_pages >> (PAGE_SHIFT - EFI_PAGE_SHIFT);
>   #endif
>   }
yeah, this is even cleaner - i guess EFI_PAGE_SHIFT will be around in 
the future too because it's also used on ia64.
	Ingo