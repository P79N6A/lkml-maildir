Date: Tue, 23 Oct 2007 18:27:52 +0100 (BST)
From: "Maciej W. Rozycki" <>
Subject: Re: [PATCH] tty_ioctl: Fix the baud_table check in encode_baud_rate
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/23/305

On Wed, 17 Oct 2007, Alan Cox wrote:
> >  The tty_termios_encode_baud_rate() function as defined by tty_ioctl.c has 
> > a problem with the baud_table within.  The comparison operators are 
> > reversed and as a result this table's entries never match and BOTHER is 
> > always used.
> 
> Oops. I thought I'd fixed that one. Bit bothersome its been in -mm that
> long before anyone noticed. 
 -ENOTENOUGHUSERS?
> >  Additionally this function's prototype is not exported unlike the 
> > function itself.
> 
> That bit seems out of date and a prototype was added later in -mm
 Given the function has survived for quite a while without a prototype 
exported (how to use it otherwise? -- I guess set_sgttyb() does not count 
as hardly anybody should be calling it), I suppose it is no surprise it 
was not adequately tested. ;-)
  Maciej
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/