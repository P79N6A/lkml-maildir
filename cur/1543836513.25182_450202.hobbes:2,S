Date: Fri, 04 Aug 2006 10:05:36 -0400
From: Mark Lord <>
Subject: Re: [2.6.18-rc2-mm1] libata cdroms not automounted
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/4/172

Tejun Heo wrote:
> J.A. MagallÃ³n wrote:
>> Hi...
>>
>> Following with my switch to libata for everything...
>> After latest patches, my burner and dvd work ok, apart from the fact that
>> they do not get auto-mounted in gnome environment.
>> udevmonitor shows nothing when a CD is inserted.
> 
> Media insertion is not notified to user space via udev, so userspace 
> implement cd automount by polling.  IIRC, back when libata ATAPI support 
> was premature, we had quite a few bug reports regarding error messages 
> generated by those polling activities.  Maybe your distribution disabled 
> polling for SCSI cdroms for that reason.  I seem to recollect the 
> polling was done by some gnome daemon, not sure which though.
The problem at the time was that libata error handling was horribly broken
and would randomly lock up the system from time to time.  Since CD autopolling
triggers a libata error each time it is done (1 or 2 times per second..),
it tended to trip over the libata EH bug and kill the system quite often.
I don't know what the distros did about it, other than patch the kernel
once we identified the issue.
Cheers
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/