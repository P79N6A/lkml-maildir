Date: Fri, 1 Oct 1999 09:05:35 +0100 (BST)
From: Tigran Aivazian <>
Subject: 2.3.19-pre1 on Compaq Proliant 1600 SMP (bootlog+mptable.out)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/1/13

apologies, the previous bootlog was for the "APIC full table - mapped"
mode. Although 2.3.19-pre1 hangs in it as well, much more interesting is
the "APIC full table" mode for which the bootlog and mptable output are
presented below:
Linux version 2.3.18 (root@elisha.london.sco.com) (gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)) #3 SMP Fri Oct 1 09:21:48 BST 1999
e820: 653312 @ 00000000 (usable)
e820: 2048 @ 0009f800 (reserved)
e820: 65536 @ 000f0000 (reserved)
e820: 66060288 @ 00100000 (usable)
e820: 65536 @ fec00000 (reserved)
e820: 65536 @ fee00000 (reserved)
e820: 524288 @ fff80000 (reserved)
e820: 0 @ 00000000 (usable)
Scan SMP from c0000000 for 1024 bytes.
Scan SMP from c009fc00 for 1024 bytes.
Scan SMP from c00f0000 for 65536 bytes.
Intel MultiProcessor Specification v1.4
    Virtual Wire compatibility mode.
OEM ID: COMPAQ   Product ID: PROLIANT     APIC at: 0xFEE00000
Processor #1 Pentium(tm) Pro APIC version 16
    Floating point unit present.
    Machine Exception supported.
    64 bit compare & exchange supported.
    Internal APIC present.
    Bootup CPU
Processor #0 Pentium(tm) Pro APIC version 16
    Floating point unit present.
    Machine Exception supported.
    64 bit compare & exchange supported.
    Internal APIC present.
Bus #0 is PCI   
Bus #1 is PCI   
Bus #9 is ISA   
I/O APIC #8 Version 17 at 0xFEC00000.
Processors: 2
mapped APIC to ffffe000 (fee00000)
mapped IOAPIC to ffffd000 (fec00000)
Detected 399076485 Hz processor.
Console: colour VGA+ 80x25
Calibrating delay loop... 398.13 BogoMIPS
memory region: 638k @ 00000000
memory region: 64512k @ 00100000
Memory: 62824k/65536k available (872k kernel code, 432k reserved, 1328k data, 80k init, 0k bigmem)
Buffer-cache hash table entries: 4096 (order: 2, 16384 bytes)
Page-cache hash table entries: 16384 (order: 4, 65536 bytes)
Checking 386/387 coupling... OK, FPU using exception 16 error reporting.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
mtrr: v1.35 (19990512) Richard Gooch (rgooch@atnf.csiro.au)
per-CPU timeslice cutoff: 100.01 usecs.
CPU1: Intel Pentium II (Deschutes) stepping 01
Getting VERSION: 40011
Getting VERSION: 40011
Getting LVT0: 700
Getting LVT1: 400
setup_APIC_clock() called.
calibrating APIC timer ... 
..... 3990674 CPU clocks in 1 timer chip tick.
..... 997665 APIC bus clocks in 1 timer chip tick.
..... CPU clock speed is 399.0674 MHz.
..... system bus clock speed is 99.7665 MHz.
CPU map: 3
Booting processor 0 eip 2000
Setting warm reset code and vector.
1.
2.
3.
Asserting INIT.
Deasserting INIT.
Sending STARTUP #1.
After apic_write.
Before start apic_write.
Startup point 1.
Initializing CPU#0
Waiting for send to finish...
CPU#0 waiting for CALLOUT
+Sending STARTUP #2.
After apic_write.
Before start apic_write.
Startup point 1.
Waiting for send to finish...
+After Startup.
Before Callout 0.
After Callout 0.
CALLIN, before enable_local_APIC().
setup_APIC_clock() called.
waiting for other CPU calibrating APIC ... done, continuing.
Calibrating delay loop... 398.95 BogoMIPS
Stack at about c0343fbc
OK.
CPU0: Intel Pentium II (Deschutes) stepping 01
CPU has booted.
Before bogomips.
Total of 2 processors activated (797.08 BogoMIPS).
Before bogocount - setting activated=1.
Boot done.
enabling symmetric IO mode... ...done.
ENABLING IO-APIC IRQs
init IO_APIC IRQs
 IO-APIC (apicid-pin) 8-0, 8-5, 8-9, 8-10, 8-11, 8-15WARNING: ASSIGN_IRQ_VECTOR wrapped back to 52
, 8-31, 8-32, 8-33, 8-34 not connected.
number of MP IRQ sources: 38.
number of IO-APIC #8 registers: 35.
testing the IO APIC.......................
IO APIC #8......
.... register #00: 00000000
.......    : physical APIC id: 00
.... register #01: 00220011
.......     : max redirection entries: 0022
 WARNING: unexpected IO-APIC, please mail
          to linux-smp@vger.rutgers.edu
.......     : IO APIC version: 0011
.... register #02: 00000000
.......     : arbitration: 00
.... IRQ redirection table:
 NR Log Phy Mask Trig IRR Pol Stat Dest Deli Vect:   
 00 000 00  1    0    0   0   0    0    0    00
 01 000 00  0    0    0   0   0    1    1    59
 02 0FF 0F  0    0    0   0   0    1    1    51
 03 000 00  0    0    0   0   0    1    1    61
 04 000 00  0    0    0   0   0    1    1    69
 05 000 00  1    0    0   0   0    0    0    00
 06 000 00  0    0    0   0   0    1    1    71
 07 000 00  0    0    0   0   0    1    1    79
 08 000 00  0    0    0   0   0    1    1    81
 09 000 00  1    0    0   0   0    0    0    00
 0a 000 00  1    0    0   0   0    0    0    00
 0b 000 00  1    0    0   0   0    0    0    00
 0c 000 00  0    0    0   0   0    1    1    89
 0d 000 00  1    0    0   0   0    0    0    00
 0e 000 00  0    0    0   0   0    1    1    91
 0f 000 00  1    0    0   0   0    0    0    00
 10 0FF 0F  1    1    0   1   0    1    1    99
 11 0FF 0F  1    1    0   1   0    1    1    A1
 12 0FF 0F  1    1    0   1   0    1    1    A9
 13 0FF 0F  1    1    0   1   0    1    1    B1
 14 0FF 0F  1    1    0   1   0    1    1    B9
 15 0FF 0F  1    1    0   1   0    1    1    C1
 16 0FF 0F  1    1    0   1   0    1    1    C9
 17 0FF 0F  1    1    0   1   0    1    1    D1
 18 0FF 0F  1    1    0   1   0    1    1    D9
 19 0FF 0F  1    1    0   1   0    1    1    E1
 1a 0FF 0F  1    1    0   1   0    1    1    E9
 1b 0FF 0F  1    1    0   1   0    1    1    F1
 1c 0FF 0F  1    1    0   1   0    1    1    F9
 1d 0FF 0F  1    1    0   1   0    1    1    52
 1e 0FF 0F  1    1    0   1   0    1    1    5A
 1f 000 00  1    0    0   0   0    0    0    00
 20 000 00  1    0    0   0   0    0    0    00
 21 000 00  1    0    0   0   0    0    0    00
 22 000 00  1    0    0   0   0    0    0    00
.................................... done.
Initializing CPU#1
Setting commenced=1, go go go
mtrr: your CPUs had inconsistent fixed MTRR settings
mtrr: probably your BIOS does not setup all CPUs
PCI: PCI BIOS revision 2.10 entry at 0xf0080
PCI: Using configuration type 1
PCI: Probing PCI hardware
PCI->APIC IRQ transform: (B0,I16,P0) -> 20
PCI: Assigned I/O space 1000-101f to device Intel 82371AB PIIX4 USB
PCI: Enabling I/O for device Intel 82371AB PIIX4 USB
PCI->APIC IRQ transform: (B1,I7,P0) -> 30
PCI->APIC IRQ transform: (B1,I9,P0) -> 23
PCI->APIC IRQ transform: (B1,I9,P1) -> 22
PCI: using PPB(B1,I11,P0) to get irq 17
PCI->APIC IRQ transform: (B2,I0,P0) -> 17
PCI: using PPB(B0,I18,P0) to get irq 21
PCI->APIC IRQ transform: (B3,I4,P0) -> 21
PCI: using PPB(B0,I18,P1) to get irq 29
PCI->APIC IRQ transform: (B3,I5,P1) -> 29
PCI: using PPB(B0,I18,P2) to get irq 21
PCI->APIC IRQ transform: (B3,I6,P2) -> 21
PCI: using PPB(B0,I18,P3) to get irq 29
PCI->APIC IRQ transform: (B3,I7,P3) -> 29
PCI: Device 00:00 not found by BIOS
PCI: Device 00:a0 not found by BIOS
PCI: Device 00:a1 not found by BIOS
PCI: Device 00:a2 not found by BIOS
PCI: Device 00:a3 not found by BIOS
Linux NET4.0 for Linux 2.3
Based upon Swansea University Computer Society NET3.039
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP
TCP: Hash tables configured (established 2048 bind 4096)
Starting kswapd v1.6
Detected PS/2 Mouse Port.
Serial dri
============================================================================
===
MPTable, version 2.0.12
----------------------------------------------------------------------------
---
MP Floating Pointer Structure:
  location:			BIOS
  physical address:		0x000f4ff0
  signature:			'_MP_'
  length:			16 bytes
  version:			1.4
  checksum:			0x9d
  mode:				Virtual Wire
----------------------------------------------------------------------------
---
MP Config Table Header:
  physical address:		0xf27cd
  signature:			'PCMP'
  base table length:		436
  version:			1.4
  checksum:			0x6d
  OEM ID:			'COMPAQ  '
  Product ID:			'PROLIANT    '
  OEM table pointer:		(nil)
  OEM table size:		0
  entry count:			46
  local APIC address:		0xfee00000
  extended table length:	76
  extended table checksum:	86
----------------------------------------------------------------------------
---
MP Config Base Table Entries:
--
Processors:	APIC ID	Version	State		Family	Model	Step	Flags
		 1	 0x10	 BSP, usable	 6	 5	 1	 0x183fbff
		 0	 0x10	 AP, usable	 6	 5	 1	 0x183fbff
--
Bus:		Bus ID	Type
		 0	 PCI   
		 1	 PCI   
		 9	 ISA   
--
I/O APICs:	APIC ID	Version	State		Address
		 8	 0x11	 usable		 0xfec00000
--
I/O Ints:	Type	Polarity    Trigger	Bus ID	 IRQ	APIC ID	I
NT#
		INT	active-lo       level	     1	 9:A	      8	  23
		INT	active-lo       level	     1	 9:B	      8	  22
		INT	active-lo       level	     1	 7:A	      8	  30
		INT	active-lo       level	     1	13:A	      8	  18
		INT	active-lo       level	     1	13:C	      8	  18
		INT	active-lo       level	     1	13:B	      8	  26
		INT	active-lo       level	     1	13:D	      8	  26
		INT	active-lo       level	     1	11:A	      8	  17
		INT	active-lo       level	     1	11:C	      8	  17
		INT	active-lo       level	     1	11:B	      8	  25
		INT	active-lo       level	     1	11:D	      8	  25
		INT	active-lo       level	     1	10:A	      8	  16
		INT	active-lo       level	     1	10:C	      8	  16
		INT	active-lo       level	     1	10:B	      8	  24
		INT	active-lo       level	     1	10:D	      8	  24
		INT	active-lo       level	     0	18:A	      8	  21
		INT	active-lo       level	     0	18:C	      8	  21
		INT	active-lo       level	     0	18:B	      8	  29
		INT	active-lo       level	     0	18:D	      8	  29
		INT	active-lo       level	     0	16:A	      8	  20
		INT	active-lo       level	     0	16:C	      8	  20
		INT	active-lo       level	     0	16:B	      8	  28
		INT	active-lo       level	     0	16:D	      8	  28
		INT	active-lo       level	     0	15:A	      8	  19
		INT	active-lo       level	     0	15:C	      8	  19
		INT	active-lo       level	     0	15:B	      8	  27
		INT	active-lo       level	     0	15:D	      8	  27
		INT	active-hi        edge	     9	   1	      8	   1
		INT	active-hi        edge	     9	   0	      8	   2
		INT	active-hi        edge	     9	   3	      8	   3
		INT	active-hi        edge	     9	   4	      8	   4
		INT	active-hi        edge	     9	   6	      8	   6
		INT	active-hi        edge	     9	   7	      8	   7
		INT	active-hi        edge	     9	   8	      8	   8
		INT	active-hi        edge	     9	  12	      8	  12
		INT	active-lo        edge	     9	  13	      8	  13
		INT	active-hi        edge	     9	  14	      8	  14
--
Local Ints:	Type	Polarity    Trigger	Bus ID	 IRQ	APIC IDtINT#
		ExtINT	 conforms    conforms	     9	   0	    255	   0
		NMI	 conforms    conforms	     9	   0	    255	   1
----------------------------------------------------------------------------
---
MP Config Extended Table Entries:
Extended Table HOSED!
----------------------------------------------------------------------------
---
kmsg output:
---------------
scanpci output:
PCI says configuration type 1
PCI probing configuration type 1
Probing for devices on PCI bus 0:
pci bus 0x0 cardnum 0x00 function 0x0000: vendor 0x8086 device 0x7192
 Intel 82443BX Host (no AGP)
pci bus 0x0 cardnum 0x0b function 0x0000: vendor 0x1013 device 0x00b8
 Cirrus Logic GD 5446
pci bus 0x0 cardnum 0x0d function 0x0000: vendor 0x1011 device 0x0022
 Digital Equipment Corporation  Device unknown
pci bus 0x0 cardnum 0x0e function 0x0000: vendor 0x0e11 device 0xa0f0
 Compaq  Device unknown
pci bus 0x0 cardnum 0x10 function 0x0000: vendor 0x9004 device 0x8178
 Adaptec 2940U/UW
pci bus 0x0 cardnum 0x12 function 0x0000: vendor 0x1011 device 0x0024
 Digital Equipment Corporation DC21152
pci bus 0x0 cardnum 0x14 function 0x0000: vendor 0x8086 device 0x7110
 Intel 82371AB PIIX4 ISA
pci bus 0x0 cardnum 0x14 function 0x0001: vendor 0x8086 device 0x7111
 Intel 82371AB PIIX4 IDE
pci bus 0x0 cardnum 0x14 function 0x0002: vendor 0x8086 device 0x7112
 Intel 82371AB PIIX4 USB
pci bus 0x0 cardnum 0x14 function 0x0003: vendor 0x8086 device 0x7113
 Intel 82371AB PIIX4 ACPI
Probing for devices on PCI bus 1:
pci bus 0x1 cardnum 0x07 function 0x0000: vendor 0x0e11 device 0xae43
 Compaq Netellignet 10/100 ProLiant
pci bus 0x1 cardnum 0x09 function 0x0000: vendor 0x1000 device 0x000f
 NCR 53C875
pci bus 0x1 cardnum 0x09 function 0x0001: vendor 0x1000 device 0x000f
 NCR 53C875
pci bus 0x1 cardnum 0x0b function 0x0000: vendor 0x1014 device 0x0022
 IBM 82351 pci-pci bridge
Probing for devices on PCI bus 2:
pci bus 0x3 cardnum 0x04 function 0x0000: vendor 0x1011 device 0x0009
 Digital Equipment Corporation DC21140 10/100 Mb/s Ethernet
pci bus 0x3 cardnum 0x05 function 0x0000: vendor 0x1011 device 0x0009
 Digital Equipment Corporation DC21140 10/100 Mb/s Ethernet
pci bus 0x3 cardnum 0x06 function 0x0000: vendor 0x1011 device 0x0009
 Digital Equipment Corporation DC21140 10/100 Mb/s Ethernet
pci bus 0x3 cardnum 0x07 function 0x0000: vendor 0x1011 device 0x0009
 Digital Equipment Corporation DC21140 10/100 Mb/s Ethernet
Probing for devices on PCI bus 3:
pci bus 0x2 cardnum 0x00 function 0x0000: vendor 0x0e11 device 0xae10
 Compaq Smart-2/P RAID Controller
-----------------
/proc/pci output:
PCI devices found:
  Bus  0, device   0, function  0:
    Host bridge: Intel 440BX - 82443BX Host (no AGP) (rev 2).
      Medium devsel.  Master Capable.  Latency=64.  
      Prefetchable 32 bit memory at 0x0 [0xfffffff].
  Bus  0, device  11, function  0:
    VGA compatible controller: Cirrus Logic GD 5446 (rev 69).
      Medium devsel.  
      Prefetchable 32 bit memory at 0xb6000000 [0xb7ffffff].
      Non-prefetchable 32 bit memory at 0xc6cff000 [0xc6cfffff].
  Bus  0, device  13, function  0:
    PCI bridge: DEC DC21150 (rev 3).
      Medium devsel.  Fast back-to-back capable.  Master Capable.  Latency=64.  Min Gnt=7.
  Bus  0, device  14, function  0:
    System peripheral: PCI<0:0070> 0e11:a0f0 (Compaq) (rev 0).
      Medium devsel.  
      I/O at 0x1800 [0x18ff].
      Non-prefetchable 32 bit memory at 0xc6cfdf00 [0xc6cfdfff].
  Bus  0, device  16, function  0:
    SCSI storage controller: Adaptec AIC-7881U (rev 0).
      Medium devsel.  Fast back-to-back capable.  IRQ 20.  Master Capable.  Latency=64.  Min Gnt=8.Max Lat=8.
      I/O at 0x2000 [0x20ff].
      Non-prefetchable 32 bit memory at 0xc6cfe000 [0xc6cfefff].
  Bus  0, device  18, function  0:
    PCI bridge: DEC DC21152 (rev 2).
      Medium devsel.  Fast back-to-back capable.  Master Capable.  Latency=64.  Min Gnt=7.
  Bus  0, device  20, function  0:
    ISA bridge: Intel 82371AB PIIX4 ISA (rev 2).
      Medium devsel.  Fast back-to-back capable.  Master Capable.  No bursts.  
  Bus  0, device  20, function  1:
    IDE interface: Intel 82371AB PIIX4 IDE (rev 1).
      Medium devsel.  Fast back-to-back capable.  Master Capable.  Latency=64.  
      I/O at 0xf100 [0xf10f].
  Bus  0, device  20, function  2:
    USB Controller: Intel 82371AB PIIX4 USB (rev 1).
      Medium devsel.  Fast back-to-back capable.  Master Capable.  No bursts.  
      I/O at 0x5800 [0x581f].
  Bus  0, device  20, function  3:
    Bridge: Intel 82371AB PIIX4 ACPI (rev 2).
      Medium devsel.  Fast back-to-back capable.  
  Bus  1, device   7, function  0:
    Network controller: Compaq Netelligent 10/100 ProLiant (rev 16).
      Medium devsel.  Fast back-to-back capable.  IRQ 30.  Master Capable.  Latency=64.  
      I/O at 0x3800 [0x380f].
      Non-prefetchable 32 bit memory at 0xc6dfddf0 [0xc6dfddff].
  Bus  1, device   9, function  0:
    SCSI storage controller: NCR 53c875 (rev 20).
      Medium devsel.  IRQ 23.  Master Capable.  Latency=255.  Min Gnt=17.Max Lat=64.
      I/O at 0x3000 [0x30ff].
      Non-prefetchable 32 bit memory at 0xc6dfdf00 [0xc6dfdfff].
      Non-prefetchable 32 bit memory at 0xc6dff000 [0xc6dfffff].
  Bus  1, device   9, function  1:
    SCSI storage controller: NCR 53c875 (#2) (rev 20).
      Medium devsel.  IRQ 22.  Master Capable.  Latency=255.  Min Gnt=17.Max Lat=64.
      I/O at 0x3400 [0x34ff].
      Non-prefetchable 32 bit memory at 0xc6dfde00 [0xc6dfdeff].
      Non-prefetchable 32 bit memory at 0xc6dfe000 [0xc6dfefff].
  Bus  1, device  11, function  0:
    PCI bridge: IBM 82351 (rev 7).
      Medium devsel.  Fast back-to-back capable.  Master Capable.  Latency=128.  Min Gnt=7.
  Bus  2, device   0, function  0:
    Unknown mass storage controller: Compaq Smart-2/P RAID Controller (rev 3).
      Medium devsel.  IRQ 17.  Master Capable.  No bursts.  
      I/O at 0x4000 [0x40ff].
      Non-prefetchable 32 bit memory at 0xc6efff00 [0xc6efffff].
      Prefetchable 32 bit memory at 0xb8000000 [0xbfffffff].
  Bus  3, device   4, function  0:
    Ethernet controller: DEC DC21140 (rev 34).
      Medium devsel.  Fast back-to-back capable.  IRQ 21.  Master Capable.  Latency=64.  Min Gnt=20.Max Lat=40.
      I/O at 0x5000 [0x507f].
      Non-prefetchable 32 bit memory at 0xc6ffff80 [0xc6ffffff].
warning: page-size limit reached!
------------------------
/proc/interrupts output:
           CPU0       CPU1       
  0:      36567      40755    IO-APIC-edge  timer
  1:          0          2    IO-APIC-edge  keyboard
  2:          0          0          XT-PIC  cascade
  8:          0          2    IO-APIC-edge  rtc
 13:          1          0          XT-PIC  fpu
 21:        164        177   IO-APIC-level  eth1
 22:         15         15   IO-APIC-level  sym53c8xx
 23:       1423       1413   IO-APIC-level  sym53c8xx
NMI:          0
ERR:          0
============================================================================
===
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/