Date: Thu, 17 Mar 2005 09:00:40 +0000
From: Keir Fraser <>
Subject: Re: [PATCH] Xen/i386 cleanups - io_remap_pfn_range
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/17/19

On 17 Mar 2005, at 04:41, Randy.Dunlap wrote:
> Our io_remap_pfn_range() patches don't contain many collisions.
> My first patch [adding io_remap_pfn_range() to all arches]
> <http://marc.theaimsgroup.com/?l=linux-mm&m=111049473410099&w=2>
> does go a little further than yours in that regard.
>
> Also, I was under the impression (only, so this is a question)
> that this type of construct (from your patch):
>
> +#ifndef io_remap_pfn_range
> +#define io_remap_pfn_range remap_pfn_range
> +#endif
>
> only works for #defines (macros), while in some arches
> io_remap_page_range() (and presumably io_remap_pfn_range)
> is a function [sparc32/64] or inline function [mips].
>
> My first patch referenced a future patch to convert
> all callers of io_remap_page_range() to io_remap_pfn_range(),
> which I have now done and built succesfully on 8 arches.
> I'll post it now.
The way in which you introduce io_remap_pfn_range() into all 
architectures is much better than my method, and doesn't depend on 
io_remap_pfn_range being a macro.
Apart from that, yes: our driver patches are quite disjoint and 
complement each other.
Hopefully a combined patch could eliminate some of the 'ifdef sparc's 
that are scattered around. :-)
  -- Keir
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/