Date: Wed, 19 Mar 2008 20:28:26 +0100
From: "Rafael J. Wysocki" <>
Subject: Re: [linux-pm] [PATCH -mm] kexec jump -v9
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/19/27

On Wednesday, 19 of March 2008, Alan Stern wrote:
> On Tue, 18 Mar 2008, Eric W. Biederman wrote:
> 
> > Alan Stern <stern@rowland.harvard.edu> writes:
> 
> > > Could it be connected with the way the boot kernel hands control over
> > > to the image kernel?  Presumably ACPI isn't prepared to deal with that
> > > sort of thing during a boot from S5.  It would have to be fooled into
> > > thinking the two kernels were one and the same.
> > 
> > It should be easy to test if it is a hand over problem, by turning off
> > the laptop by placing it in S5 (shutdown -h now) and then booting same
> > kernel again.
> 
> ?  Doesn't this happen every time Rafael turns the computer off and 
> then turns it back on?
> 
> Do you mean that Rafael should do an S5-type hibernate, but then reboot 
> in such a way that the image isn't loaded and resumed?
That will work.
The problem happens when the control goes back to the hibernated kernel.
I _think_ it has to do with the suspend(PRETHAW) thing we do before that,
but frankly I'm not too inclined to verify it as the problem is generally
dangerous to the hardware (not working thermal management on a notebook is
never fun).
Thanks,
Rafael