Date: Fri, 11 Jun 1999 11:41:08 -0400 (EDT)
From: Zach Brown <>
Subject: Re: generalizing khttpd
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/11/117

>   Personally I find that efforts to make serving static pages by HTTP (and
> only static pages by http and maybe ftp) from userspace are so
> ridiculously overdone (threads aio, signals, sendfile), and they hurt 
> non-static-files server perrformance and functionality so much (by forcing
huh?  Simply because a nice static/dynamic mix server hasn't been written
yet does not mean its impossible or guaranteed to be ugly.  Having a
server that has a core event loop for static work which punts to heavier
weight models for dynamic/modules/whatever is the way to go.  And (big
shock) this is the way apache is headed.
> unsuitable processing model on programmers that write modules for those
> servers), moving this into kernel can be the lesser evil if not a 
> blessing.
I thought people were rabidly against putting any code in the kernel.  I
must not be up on my /. to understand why we're all of a sudden in a mood
to toss the kitchen sink into the kernel.
the current bottleneck in serving high end static http is certainly not
the syscall switch from user to kernel, there is a lot more work that
needs to be done.  (and doing that work will speed up lots of other apps
that use that userland api we have.  Neat.)
A userland server can serve static pages in 3 or 4 syscalls.  If you're
telling me the overhead of doing that is more than copying the data around
preparing skbs and the contention imposed by the bottom halves then I'll
happily ask you to pass that pipe this-a-way, I'm obviously missing out.
-- zach
- - - - - -
007 373 5963
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/