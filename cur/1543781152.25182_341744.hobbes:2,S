Date: Fri, 12 Aug 2005 22:55:40 -0400
From: Steven Rostedt <>
Subject: Re: Trouble shooting a ten minute boot delay (SiI3112)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/12/340

On Fri, 2005-08-12 at 18:39 -0700, Shaun Jackman wrote:
> 2005/8/12, Jan Engelhardt <jengelh@linux01.gwdg.de>:
> > >I tried earlyprintk=vga, but it didn't provide any extra information.
> > >Although, CONFIG_EARLY_PRINTK is disabled in my .config. Does it need
> > >to be set to CONFIG_EARLY_PRINTK=y for earlyprintk=vga to work?
> > 
> > I think yes, otherwise there would not be a .config entry at all.
> > 
> > >I haven't tried Sysrq+T yet. I'll report back.
> > 
> > Mind that it is unlikely to get a good trace at this stage, but it's worth the
> > try.
Is the keyboard ever set up then? This is all happening before
console_init (since that's when the prints start) and the early printk
won't show anything before it parses the options.  For other
architectures, I use to write out to the serial really early, just an
'x'. If you know how to do that, you could give it a try. Start at
start_kernel in main hopefully you see the 'x'. If you do, keep moving
it until you find where it's delaying.  Of course, this could be before
start_kernel, then you're really screwed, unless you're good at doing
the same in assembly (which I've done for MIPS, PPC and ARM, but never
for x86).
> 
> I compiled a vanilla 2.6.12.4 kernel, enabled EARLY_PRINTK and
> rebooted with earlyprintk=vga. The kernel didn't display any extra
> information before the delay.
Do you see grub saying "uncompressing kernel..." or whatever that says? 
-- Steve
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/