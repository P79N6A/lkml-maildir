Date: Thu, 11 Jan 2001 16:37:03 +0100
From: Jamie Lokier <>
Subject: Re: FS callback routines
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/11/137

Daniel Phillips wrote:
>         DN_OPEN       A file in the directory was opened
> 
> You open the top level directory and register for events.  When somebody
> opens a subdirectory of the top level directory, you receive
> notification and register for events on the subdirectory, and so on,
> down to the file that is actually modified.
If it worked, and I'm not sure the timing would be reliable enough, the
daemon would only have to have open every directory being accessed by
every program in the system.  Hmm.  Seems like overkill when you're only
interested in files that are being modified.
It would be much, much more reliable to do a walk over d_parent in
dnotify.c.  Your idea is a nice way to flag kernel dentries such that
you don't do d_parent walks unnecessarily.
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/