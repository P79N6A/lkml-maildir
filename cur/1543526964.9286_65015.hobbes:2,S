Date: Tue, 22 Feb 2000 18:51:10 +0100
From: Andreas Gruenbacher <>
Subject: Re: Capabilities
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/22/128

Linda Walsh wrote:
> 
> Paul Jakma wrote:
> >
> > On Tue, 22 Feb 2000, Linda Walsh wrote:
> >
> > >       Just a data point, but when I have trusted IRIX installed,
> > > there is no booting up in non-trusted mode.  Capabilities are in
> > > effect even in single-user.
Strange...
I found this in the Irix B1 sources at <
http://oss.sgi.com/projects/ob1>.
 
The cap_enabled global variable has one of the values CAP_SYS_SUPERUSER,
CAP_SYS_NO_SUPERUSER,  CAP_SYS_DISABLED.
src/cap/kern/capability.c
-------------------------
[]  /*
[]   * Make the default be augmented superuser.
[]   */
[]  void
[]  cap_init()
[]  {
[]          cap_enabled = CAP_SYS_SUPERUSER;
[]  }
[]  
[]  [...]
[]  
[]  int
[]  cap_style(int new)
[]  {
[]  
[]  #ifdef DEBUG
[]          if (cap_enabled == CAP_SYS_SUPERUSER)
[]                  cmn_err(CE_NOTE,"Superuser and capabilities provide
privilege");
[]          else if (cap_enabled == CAP_SYS_NO_SUPERUSER)
[]                  cmn_err(CE_NOTE,"Capabilities alone provide privilege");
[]          else if (cap_enabled == CAP_SYS_DISABLED)
[]                  cmn_err(CE_NOTE,"Superuser alone provides privilege");
[]  #endif /* DEBUG */
[]  
[]          if (!_CAP_ABLE(CAP_SYSINFO_MGT))
[]                  return (EPERM);
[]  [...]
[]          cap_enabled = new;
[]          return (0);
[]  }
Regards,
Andreas
------------------------------------------------------------------------
 Andreas Gruenbacher, a.gruenbacher@computer.org
 Contact information: 
http://www.bestbits.at/~agruenba
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/