Date: Fri, 5 Feb 1999 01:21:57 -0600 (CST)
From: Solitude <>
Subject: Bad request_module() w/ 2.2.1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/5/18

Hello all!  I will try to briefly and completly explain the situation:
I just compiled and installed the 2.2.1 series kernel on my intel pentium.  
All seems to work fine, except that there are six modules that refuse to
load.  Here is the output of 'depmod -a':
/lib/modules/2.2.1/net/ppp.o: unresolved symbol(s)
/lib/modules/2.2.1/block/ide-mod.o: unresolved symbol(s)
/lib/modules/2.2.1/misc/zftape.o: unresolved symbol(s)
/lib/modules/2.2.1/misc/soundcore.o: unresolved symbol(s)
/lib/modules/2.2.1/misc/sound.o: unresolved symbol(s)
/lib/modules/2.2.1/misc/parport.o: unresolved symbol(s)
I disregarded this until I needed to use the printer.  Here is the result
of my attempt to load one particular module 'modprobe parport':
/lib/modules/2.2.1/misc/parport.o: unresolved symbol request_module
The other modules listed above give the same unresolved symbol error,
however other modules (hfs, floppy, serial, ipx, minix, etc..) work just
fine.  After looking at Documentation/Changes.txt I upgraded to modutils
2.1.121 and recompiled and the same modules fail with the same message.  
I decided to verify that the function was in the kernel, so here is the
output of 'grep request_module /System.map':
c0117d2c T request_module
c01b83dd ? __kstrtab_request_module
c01bc740 ? __ksymtab_request_module
I took a look at kmod.c and include/config/kmod.h and
include/linux/kmod.h, and of course Documentation/kmod.txt, but to no
avail.  Ok, that is as complete a description of the problem that I can
think to provide right now.  Here's some more info about the system that
may or may not be helpful.
This was originaly a slackware 3.2 installation running kernel 2.0.29.  I
have been running kernel 2.0.35 for the last several months and it has
been working perfectly.  I have upgraded various utilities on this system
in order to keep it current.  I upgraded gcc to 2.8.1 (now my compilar
makes much larger executables??), I upgraded make to 3.77, binutils
2.9.1.0.15, awk 3.0.2, and I forget what all else I have upgraded.  I did
most of these upgrades for to get libc 6 working, but for reasons not
relavent to the current discussion, I am still at libc 5.4.23.  Soo..  I
hope that this post is indeed on-topic, and my thanks go out to everyone
who has helped to provide me with such a great OS!
- John Frear
<solitude@solitude.flinthills.com>
<jsf8471@ksu.edu>
NO SOLICITING!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/