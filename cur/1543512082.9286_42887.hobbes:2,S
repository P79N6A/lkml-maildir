Date: Fri, 08 Oct 1999 10:08:33 -0100
From: David Ford <>
Subject: Re: Network iface is down but pingable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/8/57

Krzysztof Halasa wrote:
> pjb1008@cam.ac.uk (Peter Benie) writes:
>
> > > If you rmmod the ethernet driver module, you lose ethxx device, all
> > > its addresses and routes.
> >
> > Then that's anther bug :-(.
>
> Why? You have scripts which can bring it back to life.
scripts are NOT the right approach to this.  given that you have a network
map laid out and dynamically balanced interfaces, setting an interface
up/down should in no way change the routing paths, only that the route should
be marked inactive or dead.
if i load balance several NICs with a daemon, i'd feel pretty silly (stupid
really) shelling to run a script to bring routes back up.
if i run a heavily trafficked network and have need to switch NICs up/down at
any fast rate, i'd be considered intellectually challenged to use this
approach.  consider if i have two hundred routes balanced through three cards
and due to some strangeness, say a stuttering network card, my daemon starts
switching cards every few seconds.  running scripts to manage this sounds
like one of the greatest DoS ideas in recent times.
how much cpu does an ioctl(...) take v.s. a system(...)?
the ONLY affect NIC's status change should have on routing is marking routes
dead or alive, NOT flushing them.
the current method, pardon the bluntness, is a m$ way of doing it.  knock
down all the dominoes because one of them needs to go down, now set up the
others that should stay up.
scripts have a place.  performance and efficiency are not that place.
-d
--
 This is Linux Country. On a quiet night, you can hear Windows NT reboot!
  Do you remember how to -think- ? Do you remember how to experiment? Linux
__ is an operating system that brings back the fun and adventure in computing.
\/  for linux-kernel: please read linux/Documentation/* before posting problems
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/