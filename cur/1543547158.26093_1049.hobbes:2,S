Date: Thu, 31 Aug 2000 10:54:56 +0100 (BST)
From: Alan Cox <>
Subject: Re: Reserving a (large) memory block
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/31/64

> I'm working on a device driver for a device that sits on the PC
> memory bus.  I need to reserve/protect the memory range that the
> device occupies from the rest of the kernel/system.  How do I do
> that?  I think I see how I can mark blocks that are never to be
> touched, but in this case the driver (obviously) needs to be able to 
> touch them, but the rest of the kernel must be hands-off.
If its in the ISA or PCI space then we wont touch it. If its actually mapped
as if it was part of RAM then the BIOS is responsible for reporting top of
memory below it in the memory sizing calls, and optionally reporting it
reserved as hole in the newer E820 call.
We then just follow the bios. You can also reserve blocks of memory by
hacking arch/i386/mm/init.c and marking them reserved
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/