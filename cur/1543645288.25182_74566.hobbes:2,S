Date: Sun, 29 Sep 2002 01:16:57 -0700
From: Ryan Cumming <>
Subject: Re: [PATCH] fix htree dir corrupt after fsck -fD
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/29/34

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
On September 29, 2002 00:03, chrisl@gnuchina.org wrote:
> I already do the initial test and it fix the problem in kernel and
> e2fsck.
Still broken here. The short directory inodes are cleared up, but I'm still 
getting various errors from fsck
Case 1:
"Problem in HTREE directory inode 2 (/): bad block 3223649"
Case 2:
"Inode 2, i_blocks is 3718, should be 2280
Directory inode 2 has an unallocated block #377
Directory inode 2 has an unallocated block #378
Directory inode 2 has an unallocated block #379"
etc
This is a completely fresh loopback EXT3 filesystem, untouched by fsck -D, and 
normally unmounted.
- -Ryan
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.0 (GNU/Linux)
iD8DBQE9lrb9LGMzRzbJfbQRAhpSAKCbkbyiwM8PnpAbN2FvU6tRHM1urwCdEzFK
WSwjN6jC+0QI0NnJzKc0rX8=
=HHtV
-----END PGP SIGNATURE-----
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/