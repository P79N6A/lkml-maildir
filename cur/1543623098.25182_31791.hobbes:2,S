Date: Fri, 1 Mar 2002 16:22:02 -0700
From: "Jeff V. Merkey" <>
Subject: Re: queue_nr_requests needs to be selective
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/1/279

On Fri, Mar 01, 2002 at 09:03:22PM +0000, Alan Cox wrote:
> > I don't immediately see why increasing the queue length should
> > increase bandwidth in this manner.  One possibility is that
> 
> Latency on the controllers ?  With caches on the controller and disks you
> can have a lot of requests actually in flight
Since 3ware uses a switched architecture, there are a lot of requests
in flight.  Can we get the default value increased or alternately, allow 
RAID drivers to submit a local queue_nr_request value per adapter 
so for those cards with 8 drives that make themselves look like
a single drive to Linux, sufficient buffers are available to prevent
threads feeding the device from going to sleep all the time?
:-)
Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/