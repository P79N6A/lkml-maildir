Date: Sun, 17 Dec 2006 19:16:42 +0100
From: Hans-JÃ¼rgen Koch <>
Subject: Re: uio and DMA memory allocations
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/17/84

Am Sonntag, 17. Dezember 2006 16:04 schrieb Gleb Natapov:
> Hi Hans,
>
>    Will it be possible to allocate DMAable memory using uio
> framework (currently it isn't as far as I see).  More specifically
> if a driver needs memory allocated with dma_alloc_coherent() will
> it be possible to allocate it and map into userspace using uio?
Hi Gleb,
I didn't write such a driver yet, but it is certainly possible.
As a first thought, I think we need a small change in the uio 
framework mmap routine. AFAIK, dma_alloc_coherent() returns a
kernel virtual address that would not be handled properly by
the existing code. At the moment, we only have the choice between
logical and physical memory, we probably have to add virtual
memory, too. Thanks for that hint, I'll keep it in mind.
Hans
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/