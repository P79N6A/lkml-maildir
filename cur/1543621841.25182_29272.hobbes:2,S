Date: Wed, 20 Feb 2002 12:31:10 +0100
From: Jan Niehusmann <>
Subject: Re: e2fsck compatibility problem with 2.4.17?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/20/52

On Tue, Feb 19, 2002 at 09:13:37PM -0600, Joao Guimaraes da Costa wrote:
> It is also interesting that with kernel 2.4.3, I only get one error from 
> using the "dd" command. The drive makes some noise and then it stops 
> with the error above.
> Under 2.4.17, it seems that it tries harder and I get more errors. The 
> drive stays there making noise. (BTW, the noise is a set of 4 x runck 
> plus 4 x ham! It seems each set corresponds to an error on dmesg.)
Just a guess: 2.4.17 may use a different read-ahead algorithmn than
2.4.3, so while dd is reading only one block (and stops if there is a
failure), 2.4.17 tries to read several blocks at once and writes more
than one error message to the log file.
Note that e2fsck reports an error in the range 32783 - 32791, while dd
on 2.4.3 has problems with 32792. So the (first) bad block may be 32792,
but e2fsck gets an error for a block <=32791.
Question is, why does e2fsck get an error from the kernel when it tries
to read (for example) 32791, the kernel can read 32791 without problems,
but gets a hard drive error for 32792? 
Note that this may be all wrong, I currently do not have the time to
read the kernel source and try to verify it.
Jan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/