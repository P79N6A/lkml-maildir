Date: Sat, 22 Dec 2007 20:40:14 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [patch] Make MMCONFIG space (extended PCI config space) a driver opt-in issue
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/22/183

On Sat, 22 Dec 2007, Jeff Garzik wrote:
> 
> It should be self-evident that mmconfig doesn't work on old hardware, is not
> needed on old hardware, should not be turned on for old hardware, and in
> general should never disturb old hardware.
.. but it does. How do you figure out when to turn it off?
By "old hardware" I don't mean stuff from the last century, that generally 
doesn't even *have* MMCONFIG. I mean the stuff you can buy *today*, which 
will be old by the time people really start _needing_ MMCONFIG.
The fact is, 99% of the hardware you buy *today* has absolutely zero need 
for extended PCI config access. In fact, I would not be surprised at all 
if most hardware sold today generally doesn't have *any* devices that even 
have config registers in the 0x100+ range.
So those are the kinds of machines we want to protect from blowing up. 
Stuff that isn't sold with Vista, and has never been tested (or where 
vista does some work-arounds we don't even know about - somebody was 
mentioning things like looking at the BIOS date etc).
			Linus