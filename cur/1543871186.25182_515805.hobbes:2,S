Date: Tue, 6 Mar 2007 08:11:21 +1100
From: Con Kolivas <>
Subject: Re: [PATCH] [RSDL 5/6] sched: implement rsdl cpu scheduler
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/5/324

On Tuesday 06 March 2007 07:38, Matt Mackall wrote:
> On Sun, Mar 04, 2007 at 06:06:22PM +1100, Con Kolivas wrote:
> > + * This is the time all tasks within the same priority round robin.
> > + * Set to a minimum of 6ms.
> >   */
> > +#define RR_INTERVAL		((6 * HZ / 1001) + 1)
>
> What happens with small HZ? Like 100? I suppose 10ms is a reasonable
> number here. But in general, how well does this scheduler do without a
> time source other than jiffies?
Perfectly fine at 100. It only needs to do accounting during a busy tick, and 
on dynticks we always service a timer interrupt during that busy tick so it 
works fine there as well. In fact, choosing a lower HZ you are indirectly 
making a decision that you don't value latency as much as at the higher HZ 
and 10ms is fine for the scheduling there. It would be possible to service 
the cpu accounting with any timer that fired at at least 100HZ even if there 
was some way to turn ticks off fully when the cpu is busy (which there isn't 
currently a way to do).
-- 
-ck
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/