Date: Thu, 19 Apr 2001 22:22:28 +0200
From: Ingo Oeser <>
Subject: Re: light weight user level semaphores
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/4/19/166

On Thu, Apr 19, 2001 at 12:26:03PM -0700, Ulrich Drepper wrote:
> In any case all kinds of user-level operations are possible as well
> and all the schemes suggested for dealing with the common case without
> syscalls can be applied here as well.
Are you sure, you can implement SMP-safe, atomic operations (which you need
for all up()/down() in user space) WITHOUT using privileged
instructions on ALL archs Linux supports?
How do we do this on nccNUMA machines later? How on clusters[1]?
On what I can see in asm-*/atomic.h this is not possible, but I
probably miss sth. here ;-)
I didn't know that POSIX forbids using fds to implement a
semaphore. That's VERY bad.
Learning new APIs always means making a lot of mistakes and doing
this while we write production code, since nobody likes to pay for
experiments.
And I still see no point on speeding of creation and contention,
since these should be rare cases and the application overusing
these should be punished HARD.
Maybe someone can enlighten my on these aspects.
Regards
Ingo Oeser
[1] Ok, people already use other than Unix mechanisms for this
   stuff on massive parallel computing. So this might not be an
   issue. Only for libc internal sema4s
-- 
10.+11.03.2001 - 3. Chemnitzer LinuxTag <
http://www.tu-chemnitz.de/linux/tag>
         <<<<<<<<<<<<     been there and had much fun   >>>>>>>>>>>>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/