Date: Tue, 23 Dec 2003 00:56:23 +0100
From: Andrea Barisani <>
Subject: kernel 2.6.0, wrong Kconfig directives
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/22/179

Hi folks,
Installing 2.6.0 I've found that some kernel options directives are wrong,
in fact the option turns out to be always enabled. I don't think this is 
a desired behaviour.
Sorry for the format, yes I know it's ugly :) but I'll leave to you the proper 
solution :) so I can't make a proper patch.
- IPV6_SCTP___ option is always turned on
./net/sctp/Kconfig:
8:  config IPV6_SCTP__
9: 	    tristate
10:         default y if IPV6=n
11:	    default IPV6 if IPV6
12:
13: config IP_SCTP
14:	    tristate "The SCTP Protocol (EXPERIMENTAL)"
15:	    depends on IPV6_SCTP__
I think something is wrong here, why the 'default y if IPV6=n' ???
- INPUT_MOUSEDEV option is always turned on
./drivers/input/Kconfig:
27: config INPUT_MOUSEDEV
28:	    tristate "Mouse interface" if EMBEDDED
29:	    default y
30:	    depends on INPUT
43: config INPUT_MOUSEDEV_PSAUX
44:         bool "Provide legacy /dev/psaux device" if EMBEDDED
45:         default y
46:         depends on INPUT_MOUSEDEV
the tristate directive is ignored in most default configurations since EMBEDDED
is not set, however this doesn't allow to disable INPUT_MOUSEDEV and 
INPUT_MOUSEDEV_PSAUX. I don't suppose this is right.
- SOUND_GAMEPORT option is always turned on
./drivers/input/gameport/Kconfig
22: config SOUND_GAMEPORT
23:         tristate
24:         default y if GAMEPORT!=m
25:         default m if GAMEPORT=m
line 24 is definetly wrong, option is enabled if GAMEPORT=n.
Bye 
P.S.
I'm not subscribed to this list so CC me if it's needed
--
------------------------------------------------------------
INFIS Network Administrator & Security Officer         .*. 
Department of Physics       - University of Trieste     V 
lcars@infis.univ.trieste.it - GPG Key 0x864C9B9E      (   )
----------------------------------------------------  (   )
"How would you know I'm mad?" said Alice.             ^^-^^
"You must be,'said the Cat,'or you wouldn't have come here."
------------------------------------------------------------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/