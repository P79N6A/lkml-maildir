Date: Sat, 30 Aug 2003 20:33:11 -0700
From: "David S. Miller" <>
Subject: Re: [PATCH 2.4.22-pre1][NET] timer cleanups
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/30/160

On Sat, 30 Aug 2003 21:11:37 +0530
Vinay K Nallamothu <vinay-rc@naturesoft.net> wrote:
> This patch does the following timer code cleanup:
> 
> 1. Change del_timer/add_timer to mod_timer
> 2. Use static timer initialisation wherever applicable
I'm not accepting this.  In particular, the ip6_flowlabel.c
change is a bad idea because the code remains racey.  Someone
submitted a similar move to mod_timer() for ip6_flowlabel
earlier this week so see my comments there about what needs
to occur to fix the code properly.
Just blindly doing these kinds of conversions to mod_timer()
is foolhardy.  You need to apply some brains to it to make
sure you really are getting rid of whatever potential races
exist in the code.  And in the ip6_flowlabel.c case things are
as buggy as they were before.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/