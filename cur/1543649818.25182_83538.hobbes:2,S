Date: Fri, 25 Oct 2002 05:52:34 +0200
From: Thomas Reifferscheid <>
Subject: Patch for 2.4.19pre11/fs/filesystems.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/24/332

When I do
CONFIG_NFSD=M 
and want to insert the module I get:
unresolved symbol nfsd_linkage
which already was described by Jean-Luc Fontaine in 
http://marc.theaimsgroup.com/?l=linux-kernel&m=98173746131993&w=2
My patch solves this and works for me.
Cheers,
Thomas
--- linux-2.4.20pre11-orig/fs/filesystems.c     Sat Aug  3 02:39:45 2002
+++ linux-2.4.20pre11/fs/filesystems.c  Fri Oct 25 04:44:15 2002
@@ -13,7 +13,7 @@
 #include <linux/kmod.h>
 #include <linux/nfsd/interface.h>
 
-#if ! defined(CONFIG_NFSD)
+#if ! defined(CONFIG_NFSD) || defined(CONFIG_NFSD_MODULE)
 struct nfsd_linkage *nfsd_linkage;
 
 long
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/