Date: Fri, 10 Nov 2006 21:42:50 +0900 (JST)
From: Komuro <>
Subject: Re: Re: Re: 2.6.19-rc5: known regressions :SMP kernel can not generate ISA irq
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/10/142

Hi,
>> Intel ISA PCIC probe: 
>>   Intel i82365sl B step ISA-to-PCMCIA at port 0x3e0 ofs 0x00, 2 sockets
>>     host opts [0]: none
>>     host opts [1]: none
>>     ISA irqs (scanned) = 3,4,5,7,9,11,15 status change on irq 15
>
>This definitely means that the IRQ subsystem works, at least here. That 
>"scanned" means that the PCMCIA driver actually tested those interrupts, 
>and they worked.
>
>At that point, at least.
>
>Of course, the "they worked" test is fairly simple, so it's by no means 
>foolproof, but in general, it does sound like it all really should be ok.
>
>
>But testing 2.6.19-rc5 is still worth it. The APIC fixes might fix it, or 
>some other changes might.
>
>		Linus
I tried the 2.6.19-rc5,  the problem still happens.
But,
I remove the disable_irq_nosync() , enable_irq()
from the linux/drivers/net/pcmcia/axnet_cs.c
the interrupt is generated properly.
So I think enable_irq does not enable the irq.
Thanks!
Best Regards
Komuro
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/