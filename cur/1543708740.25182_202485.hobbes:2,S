Date: Fri, 27 Feb 2004 11:15:32 +0100
From: Helge Hafting <>
Subject: Re: Why no interrupt priorities?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/27/45

Grover, Andrew wrote:
> 
> Is the assumption that hardirq handlers are superfast also the reason
> why Linux calls all handlers on a shared interrupt, even if the first
> handler reports it was for its device?
> 
No, it is the other way around.  hardirq handlers have to be superfast
because linux usually _have to_ call all the handlers of a shared irq.
The fact that one device did indeed have an interrupt for us doesn't mean
that the others didn't.  So all of them have to be checked to be safe.
If this becomes a performance problem, make sure that no _busy_ irqs
are shared.  The easy way is to shuffle pci cards around, or set
jumpers/switches or software controlled options.  Or resort to
reprogramming the APIC in extreme cases.
Helge Hafting
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/