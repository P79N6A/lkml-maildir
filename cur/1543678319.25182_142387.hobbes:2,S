Date: Sun, 22 Jun 2003 11:19:11 +0200
From: René Scharfe <>
Subject: [PATCH] [CIFS] Fix compile warning for fs/cifs/cifsfs.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/22/20

Hi,
this patch fixes a compile warning about incompatible types in
fs/cifs/cifsfs.c in cifs_statfs(). This function is called with
a pointer to a struct kstatfs, so let's propagate this type into
the helper function.
René
diff -u ./fs/cifs/cifsproto.h~ ./fs/cifs/cifsproto.h
--- ./fs/cifs/cifsproto.h~	2003-06-22 10:04:00.000000000 +0200
+++ ./fs/cifs/cifsproto.h	2003-06-22 10:52:06.000000000 +0200
@@ -137,7 +137,7 @@
 			const char *old_path, const struct nls_table *nls_codepage, 
 			unsigned int *pnum_referrals, unsigned char ** preferrals);
 extern int CIFSSMBQFSInfo(const int xid, struct cifsTconInfo *tcon,
-			struct statfs *FSData,
+			struct kstatfs *FSData,
 			const struct nls_table *nls_codepage);
 extern int CIFSSMBQFSAttributeInfo(const int xid,
 			struct cifsTconInfo *tcon,
diff -u ./fs/cifs/cifssmb.c~ ./fs/cifs/cifssmb.c
--- ./fs/cifs/cifssmb.c~	2003-06-14 21:18:01.000000000 +0200
+++ ./fs/cifs/cifssmb.c	2003-06-22 10:51:30.000000000 +0200
@@ -1782,7 +1782,7 @@
 
 int
 CIFSSMBQFSInfo(const int xid, struct cifsTconInfo *tcon,
-	       struct statfs *FSData, const struct nls_table *nls_codepage)
+	       struct kstatfs *FSData, const struct nls_table *nls_codepage)
 {
 /* level 0x103 SMB_QUERY_FILE_SYSTEM_INFO */
 	TRANSACTION2_QFSI_REQ *pSMB = NULL;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/