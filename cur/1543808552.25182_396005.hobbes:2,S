Date: Sat, 11 Feb 2006 10:50:18 +0100
From: "Rafael J. Wysocki" <>
Subject: Re: chroot in swsusp userland interface (was: Re: [Suspend2-devel] Re: [ 00/10] [Suspend2] Modules support.)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/11/15

Hi,
On Saturday 11 February 2006 09:55, Bernard Blackham wrote:
> On Fri, Feb 10, 2006 at 01:35:33AM +0100, Pavel Machek wrote:
> > > On Fri, Feb 10, 2006 at 12:35:04AM +0100, Rafael J. Wysocki wrote:
> > > > Now, the question is do we chroot or not?
> > > 
> > > What's wrong with setrlimit(RLIMIT_NOFILE, 0) (and RLIMIT_CORE). So
> > > long as you open all your necessary device nodes before doing so.
> > 
> > Nothing, but we got chroot idea, first.
> 
> Kinda like suspend2 didn't get into the kernel first?
Practically that's 4 lines of setrlimit() code vs 4 lines of chroot()/chdir()
code, so what's the problem?  We can do this, we can do that, and we
can replace this with that at any time, so it really doesn't matter.  Or
if you think it does, please let me know why.
> I still think you're reinventing the wheel, and making it triangular :(
To some extent you are right, but I don't agree with the "triangular"
part.
> I don't understand your motivations for moving something that is so
> intimately tied to the running kernel itself into userspace. A mouse
> driver, sure. But the more I think about it, the more it seems nuts to me.
Could you please provide some arguments?  The more technical/practical they
are, the better.
It is possible you are right and we're just missing something important, so
let's discuss it.  Seriously.
Greetings,
Rafael
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/