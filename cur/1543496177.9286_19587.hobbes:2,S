Date: Tue, 18 May 1999 08:12:45 -0400
From: Zack Weinberg <>
Subject: Re: All the problems with 2.2.8/2.3.x and bdflush/update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/19/81

On Sun, 16 May 1999 20:29:18 +0200, Pavel Machek wrote:
>> >The stability of the VM system is enforced by bdflush/kswapd and not
>> >from uptime.
>> 
>> Here's a scenario for you:  I do some operation which generates a lot
>> of dirty buffers, but not enough to trigger bdflush due to low
>> memory.  The machine then sits completely idle for several hours.  If
>> update is not running, will those dirty buffers be written back?
>
>No, they will not.
>
>And that is _feature_. It has been there from day 0.
Boot with init=/bin/sh to do manual filesystem repairs, reboot immediately
afterward, discover that NONE of the writes hit the disk, and then tell me
this is a feature.
fsck has been fixed since this happened to me, but that's irrelevant.
Wishlist: reboot(2) should unmount all partitions and sync first.  All other
UNIXes since 1989 or so do this.  (If you think we do, please test it.)
zw
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/