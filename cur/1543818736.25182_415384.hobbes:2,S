Date: Wed, 12 Apr 2006 11:49:27 +0200 (MEST)
From: Jan Engelhardt <>
Subject: Re: Linux 2.6.16 -  SATA read performance drop ~50% on Intel 82801GB/GR/GH
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/12/66

>
> hdparm usually skips the usual layers, and benchmarks the ATA command
> submission itself.  So if hdparm didn't change, that may indicate the problem
> is either in the block (scheduler?) or filesystem layers.
>
> Tests:
>
> 2) Eliminate the filesystem layer by doing dd directly to the block device (dd
> ... of=/dev/sda1) rather than dd'ing to a file on a filesystem.
Use dd_rescue (dd_rescue /dev/sda /dev/null) and watch the 'cur rate' 
marker. It should naturally drop over time (that is, it's less at the end 
of the hard disk). If it instantly drops somewhere (and the system is not 
otherwise loaded), it may indicate that the harddisk is going bad.
I have seen disks that ran previously with udma4 speeds drop down to 
900KB/s making backup to CD in the last minute a real excitement.
Jan Engelhardt
-- 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/