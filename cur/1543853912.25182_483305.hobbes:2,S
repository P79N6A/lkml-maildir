Date: Fri, 17 Nov 2006 07:49:01 +0100
From: Andi Kleen <>
Subject: Re: sleeping functions called in invalid context during resume
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/17/24

> > I have no idea what causes:
> > 
> > APIC error on CPU0: 00(00)
> > 
> > Is it an ACPI problem?
What CPU/chipset?
> 
> Strange.  x86_64 has that stray exit_idle() in smp_error_interrupt() but
> afaict it won't cause this to happen.
> 
> What's that idle_notifier doing in x86_64 anyway?  
I originally added it for my (now abandoned in favour of dyntick) noidletick 
implementation. I would have removed it again, but perfmon plans to use it
too and I suspect dyntick will too (?)
> It appears to have no 
> users.  If there _is_ a user, and if its IDLE_END handler is altering the
> preempt-count then perhaps there's your explanation.
There shouldn't be a user currently in tree.
> But it all appears to be dead code to me.
Right now it is yes.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/