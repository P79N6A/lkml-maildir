Date: Fri, 14 Jul 2000 12:06:38 -0700
From: David Ford <>
Subject: Re: Kernel without keyboard support.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/14/130

I have had in the past, machines which ran incredibly slow when there was no
keyboard plugged in.  If you unplugged the keyboard, pings went from ~ .7ms to
about 3000ms and slowly increased.  I have also had machines where they simply
wouldn't boot if a keyboard wasn't in.  Note, I'm referring to OLD kernels and I
have thrown that hardware away a long time ago.
-d
"Richard B. Johnson" wrote:
> On Fri, 14 Jul 2000, Agust Karlsson wrote:
>
> > Hi there.
> > I am in the unfortunate position, that I need a kernel to run on a embedded
> > system without keyboard support (no kbd HW). My only interface is a serial
> > line and a EGA screen on the board.
> > My question is: How can you compile a kernel that dos'nt check for keyboard
> > or try to use one.
> > Make config does not give me that opportunity.
> >
> > Regards.
> >
> > Agust Karlsson
> > Pallas Informatik
> > AllerÃ¸d Denmark
>
> Just use your regular kernel. It boots fine without a keyboard installed.
> Try it on your regular machine. If you plug in the keyboard after Linux
> is up, the controller will init the keyboard and it will work (although
> the default repeat-rate is slow).
>
> Some keyboard controllers might barf and give an interrupt which results
> in a single complaint from the kernel, but who cares?  If the idea is
> to have a prefectly clean boot (no error message), just comment out
> the appropriate printk().
>
> If the hardware guys have decided to rip out the keyboard controller
> to save 69 cents, you are in a world of hurt because that controller
> controls much more than the keyboard. This is unlikely because the
> keyboard controller is probably within the "Super I/O" chip on
> a modern design and HW guys are not very good with hacksaws ~;)
>
> Cheers,
> Dick Johnson
>
> Penguin : Linux version 2.2.15 on an i686 machine (797.90 BogoMips).
>
> "Memory is like gasoline. You use it up when you are running. Of
> course you get it all back when you reboot..."; Actual explanation
> obtained from the Micro$oft help desk.
>
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.rutgers.edu
> Please read the FAQ at 
http://www.tux.org/lkml/
--
"The difference between 'involvement' and 'commitment' is like an
eggs-and-ham breakfast: the chicken was 'involved' - the pig was
'committed'."
begin:vcard 
n:Ford;David
x-mozilla-html:TRUE
org:<img src="
http://www.kalifornia.com/images/paradise.jpg">
adr:;;;;;;
version:2.1
email;internet:david@kalifornia.com
title:Blue Labs Developer
x-mozilla-cpt:;-12480
fn:David Ford
end:vcard