Date: Sun, 11 Sep 2005 04:54:28 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: PCI bug in 2.6.13
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/11/51

On Sun, 11 Sep 2005, Vojtech Pavlik wrote:
> 
> This is interesting. The 0x00000001 means that it's supposed to be an
> unassigned I/O (!) space resource ... which obviously fools the if()
> statement.
No. ROM resources really are special. They are always MMIO, and the low 
bit is used to specify whether they are "enabled" or not.
Yes, it's ugly as hell. Total special case.
Anyway, the resource value of 0x00000001 shouldn't fool the if-statement 
at all, because when we fill in the resource "start" values, we correctly 
mask off the status bits, and save those into the resource "flags".  So 
the PCI resource start should be 0, and that if-statement shouldn't have 
triggered.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/