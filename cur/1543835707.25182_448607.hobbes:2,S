Date: Mon, 31 Jul 2006 11:23:52 -0700
From: Trond Myklebust <>
Subject: Re: fctnl(F_SETSIG) no longer works in 2.6.17, does in 2.6.16.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/31/228

On Mon, 2006-07-31 at 02:21 -0400, Chuck Ebbert wrote:
> static void lease_release_private_callback(struct file_lock *fl)
> {
>         if (!fl->fl_file)
>                 return;
> 
>         f_delown(fl->fl_file);
> =>      fl->fl_file->f_owner.signum = 0;
> }
Why should the lease cleanup code be resetting f_owner.signum? That
looks wrong.
Stephen, I think this line of code predates the CITI changes. Do you
know who added it and why?
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/