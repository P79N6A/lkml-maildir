Date: Sat, 14 Oct 2000 14:20:41 -0400 (EDT)
From: Eric Lowe <>
Subject: Re: mapping user space buffer to kernel address space
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/14/75

Hello,
> Note that it is usually MUCH better to do this the other way around:
> having a kernel-side buffer, and mapping that into user space. I don't
> understand why so many people always want to do it the wrong way around..
Well, I totally agree.  Unfortunately, my fellow driver developers
seem to think "because it's in UNIX" means "it must be a good idea".
Pinning pages in memory leaves big holes in processes that can't
be swapped out on systems that really need the VM to be able
to work its magic under load.
Fortunately, VIA and similar schemes try to address the problem
in the application, OS, _and_ hardware simultaneously..  In the
future we will probably tell our customers (Fibre Channel) that if
they really want good performance, they need to use VI instead of
IP, and to avoid such hacks as pinning user pages for proprietary
protocols..  My experience has been that systems that do a lot
of page pinning in UNIX for I/O don't gain much in performance
anyway, but it _really_ puts a lot of stress on the system compared
to doing it the right way.
--
Eric Lowe
Software Engineer, Systran Corporation
elowe@systran.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/