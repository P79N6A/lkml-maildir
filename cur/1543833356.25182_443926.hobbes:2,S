Date: Thu, 13 Jul 2006 11:12:18 +0200
From: Ingo Molnar <>
Subject: Re: [RFC][PATCH] Kill i386 references to xtime
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/13/85

* john stultz <johnstul@us.ibm.com> wrote:
> All,
> 	Just another cleanup patch from the C3 timekeeping tree (which you can
> find here: 
http://sr71.net/~jstultz/tod/
 ) I wanted to RFC.
> 
> This patch kills all xtime references in i386 and replaces them with 
> proper settimeofday()/gettimeofday() calls.
> 
> I'm not sure the APM changes are 100% right, as that code is very
> muddled (take the i8253_lock before calling reinit_timer, which would
> take the i8253_lock again and hang if it weren't ifdef'ed out!).
yeah, that code looks very suspect.
> Anyway, testing, feedback or comments would be appreciated!
These cleanups look good to me. I gave your patch a testrun on a 
lockdep-enabled allyesconfig bzImage kernel on i686, and there are no 
apprent problems - it booted up just fine.
Acked-by: Ingo Molnar <mingo@elte.hu>
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/