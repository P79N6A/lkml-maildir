Date: Sun,  3 Aug 2003 03:00:02 -0700 (PDT)
From: "Scott L. Burson" <>
Subject: Re: SMP performance problem in 2.4 (was: Athlon spinlock performance)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/3/51

   From: Andrew Morton <akpm@osdl.org>
   Date: Sat, 2 Aug 2003 14:44:22 -0700
   It is a problem which has been solved for a year at least.  Try
   running one of Andrea's kernels, from
   
ftp://ftp.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.4
   The most important patch for you is 10_inode-highmem-2.
I tried that patch by itself and it appeared to make a noticeable
improvement, but it was far from a complete fix.
So next I tried the SuSE 8.2 kernel.  It is clearly *much* better, and I see
that Andrea in fact did a bit of work on `mm/vmscan.c'.  The key patch
appears to be `05_vm_06_swap_out-3', but it's possible that several or all
of the `05_vm_*' patches are helpful.
I see that even the very most recent Red Hat kernel (2.4.20-19.7, released
only two weeks ago) does not seem to have these fixes.  (I wasn't running Red
Hat -- my machine started out with SuSE 7.3, and I hand-upgraded it to
2.4.18 -- but Mathieu Malaterre, who is CCed above and whose query to me
about the problem got me started looking at it again, is using Red Hat.)
So I strongly urge the powers that be to include these patches in 2.4.22.
-- Scott
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/