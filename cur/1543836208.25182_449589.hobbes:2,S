Date: Thu, 3 Aug 2006 01:16:33 +0200
From: "J.A. Magall√≥n" <>
Subject: [2.6.18-rc2-mm1] libata cdroms not automounted
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/2/299

Hi...
Following with my switch to libata for everything...
After latest patches, my burner and dvd work ok, apart from the fact that
they do not get auto-mounted in gnome environment.
udevmonitor shows nothing when a CD is inserted.
More:
- USB sticks work
- IDE ZIP drive works:
UEVENT[1154559818.714967] add@/block/sda/sda1
UEVENT[1154559820.046948] mount@/block/sda/sda1
- cdroms work under the old IDE driver (not tested in the same box, but
  with the same software)
- srX cdroms generated by libata do not automount (tested in 2 boxes)
As software is the same in the 3 boxes, and some things work, I suspect
the kernel is not generating the correct events ?
Or is the combo udev+dbus+hal userspace what fails ?
But as udevmonitor shows events for zip drive but none for cdrom, I would
vote against the kernel :)
Someone with a real SCSI cdrom can check if it works ?
Software:
- Linux 2.6.18-rc2-mm1+scsi-media-detection-patch [1]
- udev-096
- dbus-0.91
- hal-0.5.7.1
(mandriva cooker)
More info on demand.
TIA
[1] http://marc.theaimsgroup.com/?l=linux-kernel&m=115412002912837&w=2
--
J.A. Magallon <jamagallon()ono!com>     \               Software is like sex:
                                         \         It's better when it's free
Mandriva Linux release 2007.0 (Cooker) for i586
Linux 2.6.17-jam05 (gcc 4.1.1 20060724 (prerelease) (4.1.1-3mdk)) #1 SMP PREEMPT
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/