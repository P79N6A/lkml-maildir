Date: Sat, 20 Nov 1999 15:09:08 +0000 (/etc/localtime)
From: Jim Thompson <>
Subject: Re: [gphoto-kodak] Re: Kodak DC-265 overrunning linux serial driver?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/20/74

>>>>> "Brian" == brian  <brian@worldcontrol.com> writes:
    Brian> Matthew Wilcox gets the prize!
    Brian> With X not running, I can download from the camera at 115200
    Brian> without troubles.  I've even switched to another console and
    Brian> am composing this email while the camera downloads at 115200.
Ditto.  Turning X off makes my downloads work, too.  But that's not the
end of the story...
I played around with my setup a bit, and what I find out was that the
problem was not the X server, but a WindowMaker dock app called wmapm
that displays the status of the battery charge, etc.  When I kill that
app, I'm able to download just with nearly no I/O errors.
Taking this further, I found that even this little bash script will
cause my downloads to fail:
   while :; do apm; sleep 1; done
So it looks like Ted gets a share of the prize too: it's an APM-related
problem.  Just having apmd running doesn't cause a problem, but querying 
it with apm or wmapm does.  This still leaves the mystery of why I can't 
download on my desktop system, which doesn't run APM, but it gives me an 
avenue of investigation.
BTW, by turning off wmapm, I can set the FIFO trigger back to 8 and
still download.  2.2 kernel, multiuser mode, no hdparm tricks.  No APM,
no problem.
Jim
--
jim.thompson@pobox.com
http://jimthompson.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/