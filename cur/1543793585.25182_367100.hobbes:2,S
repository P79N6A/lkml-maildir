Date: Tue, 15 Nov 2005 04:18:22 -0800
From: William Lee Irwin III <>
Subject: Re: [RFC] NUMA memory policy support for HUGE pages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/15/94

On Mon, 14 Nov 2005, Adam Litke wrote:
>> IMHO this is not really a cleanup.  When the demand fault patch stack
>> was first accepted, we decided to separate out find_or_alloc_huge_page()
>> because it has the page_cache retry loop with several exit conditions.
>> no_page() has its own backout logic and mixing the two makes for a
>> tangled mess.  Can we leave that hunk out please?
On Mon, Nov 14, 2005 at 03:25:00PM -0800, Christoph Lameter wrote:
> It seemed to me that find_or_alloc_huge_pages has a pretty simple backout 
> logic that folds nicely into no_page(). Both functions share a lot of 
> variables and putting them together not only increases the readability of 
> the code but also makes the function smaller and execution more efficient.
Looks like this is on the road to inclusion and so on. I'm not picky
about either approach wrt. nopage/etc. and find_or_alloc_huge_page()
affairs. Just get a consensus together and send it in.
Thanks.
-- wli
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/