Date: Thu, 10 Apr 2003 14:04:00 -0600
From: Andreas Dilger <>
Subject: Re: ext2/3 fragments support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/10/111

On Apr 10, 2003  21:35 +0000, Lorenzo Allegrucci wrote:
> Fragments support on ext2/3 filesystems seems disabled
> or non fully functional.
> Are there any plans to implement fragments?
They have never been enabled.  The "goal" is to imlement fragments as a
type of extended attribute, so that they can be packed into a single block
or inline in a larger inode (along with other EA data) instead of being
fixed-size hunks.
The first thing that needs doing is fixing the current ext2/3 EA sharing
scheme, which currently only shares blocks if they are identical and is
therefore only really useful for ACLs.
The best proposal so far for EA sharing is to put them into a directory-like
structure (maybe one dir per block group or something) and have the EA type
and data be packed inline into the directory (like the inode number and
filename are done with regular directories).  Each inode would also have a
"catalog" of the EAs that it has (itself an EA, either inline in a larger
inode or in the directory pointed to by, say, i_faddr).  Shared entries would
be like hard links pointed to by mutliple catalogs, with a refcount.
This was discussed on ext2-devel about a year ago, but no takers on the
implementation yet (I might eventually need to implement it this year if
nobody beats me to it, because we need better EAs than one per 4kB of disk).
Cheers, Andreas
--
Andreas Dilger
http://sourceforge.net/projects/ext2resize/
http://www-mddsp.enel.ucalgary.ca/People/adilger/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/