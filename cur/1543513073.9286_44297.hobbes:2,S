Date: Fri, 15 Oct 1999 13:46:04 -0700
From: Benjamin Suto <>
Subject: TCP/IP Packet Loss (2.2.13pre17)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/15/120

We've been having some problems with some machines with a Samba/Email
server.  It's a Dell Poweredge 4300, with 2 processors, with 1GB RAM,
MegaRaid drivers, (We tried it with an etherexpress pro 100, and are
currently using a tulip-based card, with the same problem)..   This
machine has at least 200-300 concurrent connections at any one time, and
it usually works fine.
However, with some workstations connecting to the server, we've had
problems pinging/accessing the server.  The first few packets get
dropped, then packets coming after that go through without a hitch.  If
we keep pinging it afterwards, all the subsequent pings go through
flawlessly.
Sometimes, when a pop3 mail check goes through, it will connect, do
nothing for 6-7 seconds, then finally finish. Afterwards, if we do it
from the same machine, it happens instantaneously.
If we wait 10 minutes or more on the same machine, the cycle is repeated
again.  It's become quite a problem.
We've run tcpdump on that network segment and noticed a few things.
Most of the time, the connections are initiated and the mail checks go
through instantaneously.  Sometimes, however it seems like the
connection is initiated, there is a delay of 6-7 seconds, then the linux
server makes an ARP request for the machine, the machine responds, and
things progress.  We do not seem to have a network problem.
Does anyone have any suggestions, or any other troubleshooting we can do
to make this problem easier to solve?
Ben
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/