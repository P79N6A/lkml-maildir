Date: Sat, 05 Mar 2005 12:07:47 +1100
From: Nigel Cunningham <>
Subject: Re: swsusp: allow resume from initramfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/4/409

Hi.
On Sat, 2005-03-05 at 09:55, Pavel Machek wrote:
> > All that to say "Bitmaps were a definite win!". Perhaps I can sell you
> > on the advantages of using them :>
> 
> Not sure, if one bit goes wrong you put everything in the wrong places
> :-). Linklist seems just okay to me, no > 4K allocations. I'm not sure
> why recalculation is that big problem.
So you make sure all the bits are right :> I can understand you being
happy with linked lists; it's just that they're really inefficient
spacewise. Since you're freeing far more memory at the moment, it's not
an issue.
Regarding recalculation being a problem, I want Suspend to always work.
If you have unpredictable variation, you have a potential source of
failure.
> > By the way, did you see the effect of the memory eating patch? I didn't
> > think about it until someone emailed me, but the improvement was 50x
> > speed in the best case!
> 
> Well, more interesting was that you actually freed much more memory
> with your patch. *You actually made memory freeing to work*. So yes, I
> like that one.
You might be misreading me. When you set the image size limit setting in
Suspend2, it's a soft limit. The image size wouldn't actually get down
to 2 meg; Suspend would just aim for that and eat memory until it saw it
wasn't getting anywhere.
Regards,
Nigel
-- 
Nigel Cunningham
Software Engineer, Canberra, Australia
http://www.cyclades.com
Bus: +61 (2) 6291 9554; Hme: +61 (2) 6292 8028;  Mob: +61 (417) 100 574
Maintainer of Suspend2 Kernel Patches 
http://softwaresuspend.berlios.de
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/