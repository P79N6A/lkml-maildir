Date: Wed, 27 Jun 2007 18:09:00 +0200
From: Prakash Punnoor <>
Subject: Re: [PATCH] ata: Add the SW NCQ support to sata_nv for MCP51/MCP55/MCP61
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/27/189

Am Mittwoch 27 Juni 2007 schrieb Peer Chen:
> We did the many test with the new version driver and didn't encounter
> that problem, but in certain cases, DMASETUP command packets from drive
> to the controller are corrupted, and the controller issues an R_ERR to
> the drive. Drives that comply with SATA spec will re-transmit the
> corrupted packet and normal operation continues. However, some Maxtor
> NCQ drives do not re-transmit the DMASETUP command packet, resulting in
> software timeout for this command. So if you are using the Maxtor HD and
> meet this problem,please don't enable the NCQ function.
Out of interest I tested the patch again with my Maxtor drive I mentioned in 
the other thread. Ths time it got worse. I couldn't boot anymore, ie init 
starts some services and then dies at random places as if corrupt data was 
transfered. With the previous patch the system worked, except the port 
resets.
Anyway, I'll ask Maxtor or rather Seagate to fix their firmware pointing at 
your diagnosis.
bye,
-- 
(°=                 =°)
//\ Prakash Punnoor /\\
V_/                 \_V
[unhandled content-type:application/pgp-signature]