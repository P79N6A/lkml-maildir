Date: Mon, 03 Dec 2007 13:31:07 +0000
From: "Jan Beulich" <>
Subject: Re: x86: optimize page faults like all other achitectures and kill notifier cruft
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/3/78

Ever since I started to try to get at least some fundamental infrastructure
pieces merged for using NLKD on Linux I was told that direct calls out of
exception handlers for the sake of an individual (and perhaps even small)
sub-system is undesirable.
Making the exception notifiers report the right (correct) information (and,
specific to x86, ensuring they get called in the right place) was one of the
fundamental things, and just now I see that this is being reverted for (in
my eyes) no good reason: Instead of adding direct calls to x86, all the
other architectures should have followed the notifier model in order for
the infrastructure to be usable by external components, especially if
these aren't allowed into the kernel.
Am I to conclude that replacing direct calls elsewhere in the tree (in order
to e.g. avoid all kinds of small sub-components leaving their footprint in
core files like kernel/fork.c) is no longer a desirable goal, thereby making
it almost impossible to ever host a kernel debugger *without* having to
patch core files.
Thanks, Jan