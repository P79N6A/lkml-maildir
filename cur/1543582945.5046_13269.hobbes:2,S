Date: Fri, 23 Feb 2001 23:13:27 +0100
From: Guest section DW <>
Subject: Re: filesystem statistics
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/23/182

On Fri, Feb 23, 2001 at 11:54:28AM -0700, Andreas Dilger wrote:
> Andries Brouwer writes:
> > Here some statistics.
> 
> Can you generate statistics on the number of files in each directory,
> and the total size of each directory?
> 
> This would also be helpful to determine how often indexing will be used
> in an "average" system.
Hmm - there is no way this is an average system. It is just a random system.
For doing statistics on file names it is a valid example, I think.
For doing statistics on file sizes or directory sizes it is worthless.
Some people have few very large files, some have news spools or other
things with lots of small files in a directory.
(This particular system does not have a news spool.)
Anyway, I can give you the stats.
127533 directories
2555633 regular files
946 other files
Largest file: 678035456 bytes
Largest directory: 1283 links
Distribution of nlinks:
        0       1       2       3       4       5       6       7       8       9
0:      0       0       98330   13901   4510    2238    1624    1318    877    662
10:     668     490     519     307     308     226     157     140     101    62
20:     130     116     73      78      54      26      59      41      36     33
30:     13      24      15      23      12      11      14      40      25     21
40:     21      9       10      20      10      4       6       10      2      1
50:     3       3       1       2       1       4       11      3       1      1
60:     2       3       0       2       6       6       6       1       1      1
70:     7       2       0       2       0       4       3       0       1      3
80:     1       5       0       1       0       0       1       0       0      0
90:     1       0       1       1       0       1       2       3       1      0
100:    1       0       1       0       5       4       0       3       3      1
110:    0       1       0       0       0       0       4       0       1      0
120:    0       0       0       1       0       0       0       0       0      2
130:    0       0       1       0       1       0       0       0       1      0
140:    0       0       0       0       0       0       0       0       1      0
160:    0       0       0       1       0       0       0       0       0      1
170:    0       0       0       0       0       0       0       0       0      1
180:    0       0       1       0       0       0       0       1       0      0
200:    0       0       0       0       0       0       0       0       0      1
210:    1       0       0       0       0       0       0       0       0      0
220:    0       0       0       0       0       1       0       1       0      0
230:    0       0       0       0       0       0       0       0       0      1
250:    0       0       0       0       0       0       0       0       16     0
790:    1       0       0       0       0       0       0       0       0      0
1150:   0       0       0       1       0       0       0       0       0      0
1280:   0       0       0       1       0       0       0       0       0      0
(Interesting - I never thought about that, but it looks as if most directories are empty.)
Distribution of directory sizes (in 4kB blocks):
        0       1       2       3       4       5       6       7       8       9
0:      3       126133  763     247     35      38      21      18      26      5
10:     10      16      102     3       8       9       4       2       10      1
20:     4       1       5       4       20      9       15      6       0       3
30:     0       3       3       0       0       0       0       3       1       1
40:     0       0       0       0       0       0       0       0       0       0
50:     0       0       0       0       1       0       0       0       0       0
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/