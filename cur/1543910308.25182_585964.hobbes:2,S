Date: Sat, 18 Aug 2007 21:49:50 +0200
From: "Xu Yang" <>
Subject: Re: how to add debug information into the vmlinux
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/18/113

Hi Jesper,
I tried as what you told me. and the vmlinux does contain debug
information. but the start address of this vmlinux is 0xc0008000. when
I tried to run this vmlinux, the program always exit at 0x80a0. I
checked out that here is the place mmu is turned on.
so I used objcopy --change-addresses 0x40000000 to change the start
address of the vmlinux, and the program goes further.but the debug
information disappeared.
how to handle this? (making the program running and debug information available)
thanks,
regards,
yang
2007/8/17, Jesper Juhl <jesper.juhl@gmail.com>:
> On 17/08/07, Xu Yang <risingsunxy@googlemail.com> wrote:
> > Hello everyone,
> >
> > I am trying to port kernel 2.6.19 onto my system.so I need the c code
> > , which can show me where the program is running. I add -g when I
> > compile it.
> >
> You shouldn't need to do that manually, simply go into "make
> menuconfig", enter the "Kernel hacking" menu and select the "Kernel
> debugging" and "Compile the kernel with debug info" options.
> You may also want to enable "Compile the kernel with frame pointers"
> and various other options in that menu to get more debug info.
>
>
> --
> Jesper Juhl <jesper.juhl@gmail.com>
> Don't top-post  
http://www.catb.org/~esr/jargon/html/T/top-post.html
> Plain text mails only, please      
http://www.expita.com/nomime.html
>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/