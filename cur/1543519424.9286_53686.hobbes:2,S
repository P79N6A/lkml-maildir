Date: Wed, 15 Dec 1999 22:02:31 +0000
From: Thorsten Kranzkowski <>
Subject: Re: [fix] Re: 2.3.31 (and 2.3.32pre2) breaks cpp with segmentation fault (ok in 2.3.30), reproducable (mremap problem???)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/15/211

On Tue, Dec 14, 1999 at 12:35:34PM -0500, Benjamin C.R. LaHaise wrote:
> On Tue, 14 Dec 1999, Thorsten Kranzkowski wrote:
> 
> > And for me it's not limited to gcc. 'top', 'iptraf', even 'ls' also segfaulted
> > without any sane reason. :)
> 
> Here's the fix that works for a couple of other people who have triggered
> the problem.  I was being too clever, and it seems that in some cases even
> though the new parameter is not touched, its presence is corrupting
> *something*.  If someone has an explanation, I'd be interested in hearing
> it. 
> 
> 		-ben
Hmm - it seems I have a different problem - your patch makes no difference 
(applied to 2.3.31)
After loading NAT-modules and activating isdn-dialup I got this:
gcc -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -mcpu=ev56 -pipe -mno-fp-regs -ffixed-8 -Wa,-m21164a -D__KERNEL__ -D__linux__ -I/home/tmp/linux-2.2.14-generic/include -DPALCODE_AT=0xfffffc0000200000 -DLOADER_AT=0xfffffc0000d00000 -DSTUB_AT=0xfffffc0000210000 -DDECOMP_PALBASE=0x300000 -DDECOMP_PARAMS=0x300B00 -DDECOMP_BASE=0x300F00         -DPALCODE_SIZE=0x10000 -DLOADER_SIZE=0x20000  -DDC21066 -DMINI_NVRAM -I. -Ifs -Ivideo -Ipalcode/noname -I/home/tmp/linux-2.2.14-generic/include  -c -o zip/inflate.o zip/inflate.c
gcc: Internal compiler error: program cc1 got fatal signal 11
make: *** [zip/inflate.o] Error 1
[Marvin:/home/tmp/milo-2.2#] Dec 15 20:58:20 Marvin sendmail[667]: NOQUEUE: SYSERR(root): SMTP-MAIL: died on signal 11
I issued another 'make' which got a little further. After a minute or two:
gcc: Internal compiler error: program cc1 got fatal signal 11
make: *** [milo.o] Error 1
[Marvin:/home/tmp/milo-2.2#] {standard input}: Assembler messages:
{standard input}:0: Warning: end of file not at end of a line; newline inserted
cpp: output pipe has been closed
{standard input}:1133: Error: unknown opcode `ld'
There are no problems when I don't load the NAT-modules. Hmm.
Thorsten.
-- 
| Thorsten Kranzkowski         Internet: dl8bcu@gmx.net                        |
| Mobile: ++49 161 7210230        Snail: Niemannsweg 30, 49201 Dissen, Germany |
| Ampr: dl8bcu@db0nei.#nrw.deu.eu, dl8bcu@marvin.dl8bcu.ampr.org [44.130.8.19] |
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/