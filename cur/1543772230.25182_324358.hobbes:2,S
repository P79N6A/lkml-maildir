Date: Thu, 9 Jun 2005 09:57:19 -0700
From: Greg KH <>
Subject: Re: [PATCH 03/10] IOCHK interface for I/O error handling/detecting
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/9/144

On Thu, Jun 09, 2005 at 09:51:57PM +0900, Hidetoshi Seto wrote:
> +	if( cookie->error || have_error(cookie->dev) )
This should be written as:
	if (cookie->error || have_error(cookie->dev))
instead (note the placement of spaces).
>  /* definition of ia64 iocookie */
> -typedef unsigned long iocookie;
> +struct __iocookie {
> +	struct list_head	list;
> +	struct pci_dev		*dev;	/* targeting device */
> +	unsigned long		error;	/* error flag */
> +};
> +typedef struct __iocookie iocookie;
Hm, why not just make the thing be a "struct iocookie" in the first
place, then we don't have to mess with a typedef at all.  And then each
arch can define how the structure will look like in their private .c
files, ensuring that no user can ever try to touch the structure
themselves.
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/