Date: Thu, 28 Sep 2006 13:37:45 +0200
From: Martin Filip <>
Subject: Re: forcedeth - WOL [SOLVED]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/28/111

> > > I just took a peek at the code.
> > > 
> > > The version on bugzilla (last attachment, comment #22), which was
> > > reported to work correctly, has the MAC address reversal hardcoded.
> > > The driver in 2.6.18 has some logic to detect if it should reverse the
> > > MAC address. So it looks like a hardware oddity/bug that the driver
> > > wants to fix but fails. I'll see what happens if I force address
> > > reversal and if I can decipher anything, but probably someone else will
> > > have to cast the runes...
> > 
> > OK, please excuse me wasting your time, it's late over here... I've
> > actually been looking at Linus' git tree (pulled yesterday) while
> > writing that mail, not 2.6.18.
> > 2.6.18 does _not_ contain the address reversal detection.
> > Using the git tree instead of 2.6.18 WOL works as expected, without
> > having to reverse the MAC address.
> > 
> 
> hm, OK, thanks.  Ayaz, do you think 5070d3408405ae1941f259acac7a9882045c3be4 is
> a suitable thing for 2.6.18.x?
Hi,
you never sleep guys, do you :) I've just tried patch from bugzilla.
(here is version twaked to be usable with 2.6.18
http://www.smoula.net/download/forcedeth.c
) and it looks like it's
working correctly with correct ordered MAC.
-- 
Martin Filip
e-mail: nexus@smoula.net
ICQ#: 31531391
jabber: nexus@smoula.net
www: 
http://www.smoula.net
 _______________________________ 
< BOFH Excuse #100: IRQ dropout >
 ------------------------------- 
       \   ,__,
        \  (oo)____
           (__)    )\
              ||--|| *
[unhandled content-type:application/pgp-signature]