Date: Mon, 16 Apr 2007 12:00:50 +0100
From: Christoph Hellwig <>
Subject: Re: [PATCH 0/13] maps: pagemap, kpagemap, and related cleanups
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/16/91

On Fri, Apr 13, 2007 at 10:08:27AM -0400, Theodore Tso wrote:
> On Fri, Apr 13, 2007 at 01:40:08PM +1000, Nick Piggin wrote:
> > With systemtap scripts, you could walk pagetables and print *the exact
> > page information you want*, or you could walk pfns, or LRU, or page_tree,
> > or walk the page tree then the rmap structures. And you can selectively
> > cull out items you don't care about if you only care about a subset of
> > items, based on arbitrary criteria. And you can most likely do all that
> > more efficiently than with a conglomeration of various /proc files
> > (assuming they even provide what you want in the first place).
> 
> Yes, but maintaining the systemtap scripts will be a nightmare, since
> they would be outside the kernel, and as we change our internal data
> structure, the scripts would become useless.
> 
> This is a fundamental problem with systemtap that we haven't been able
> to solve yet, because solving it would freeze various internal data
> structures or kernel functions.  I agree that's not acceptable; which
> is why I don't think systemtap would be a good match for the problem
> we're trying to solve here.
It's also fundamentally not solveable.  Even Sun doesn't guarantee
dor dtrace scripts to be portable, because it simply means you'd
have to freeze all internals.  Of course systemtap managment with their
execute visibility and plain stupidity of copying whatever sun does will
never ever get it.  This whole mess will only be solvable if IBM fires
the right people in managment.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/