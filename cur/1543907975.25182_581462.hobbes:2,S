Date: Thu,  9 Aug 2007 14:41:38 +0200 (CEST)
From: Andi Kleen <>
Subject: [PATCH] [10/12] x86_64: Add warning in Documentation that zero-page is not a stable ABI
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/9/156

Some people writing boot loaders seem to falsely belief the 32bit zero page is a 
stable interface for out of tree code like the real mode boot protocol. Add a comment 
clarifying that is not true.
Signed-off-by: Andi Kleen <ak@suse.de>
---
 Documentation/i386/zero-page.txt |   10 ++++++++++
 1 file changed, 10 insertions(+)
Index: linux/Documentation/i386/zero-page.txt
===================================================================
--- linux.orig/Documentation/i386/zero-page.txt
+++ linux/Documentation/i386/zero-page.txt
@@ -1,3 +1,13 @@
+---------------------------------------------------------------------------
+!!!!!!!!!!!!!!!WARNING!!!!!!!!
+The zero page is a kernel internal data structure, not a stable ABI.  It might change
+without warning and the kernel has no way to detect old version of it.
+If you're writing some external code like a boot loader you should only use
+the stable versioned real mode boot protocol described in boot.txt. Otherwise the kernel
+might break you at any time.
+!!!!!!!!!!!!!WARNING!!!!!!!!!!!
+----------------------------------------------------------------------------
+
 Summary of boot_params layout (kernel point of view)
      ( collected by Hans Lermen and Martin Mares )
  
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/