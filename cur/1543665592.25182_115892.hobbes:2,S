Date: Sun, 9 Mar 2003 11:17:29 -0800
From: "Adam J. Richter" <>
Subject: 2.5.64-bk[2-4]: CONFIG_CPU_FREQ_24_API breaks kernel/cpufreq.c compile
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/9/108

	linux-2.5.64-bk2 added the following lines to
cpufreq_add_dev in kernel/cpufreq.c:
#ifdef CONFIG_CPU_FREQ_24_API
        cpu_min_freq[cpu] = cpufreq_driver->policy[cpu].cpuinfo.min_freq;
        cpu_max_freq[cpu] = cpufreq_driver->policy[cpu].cpuinfo.max_freq;
        cpu_cur_freq[cpu] = cpufreq_driver->cpu_cur_freq[cpu];
#endif
	However, cpu_{min,max,cur}_freq are static variables in
drivers/cpufreq/userspace.c.  Making the variables global is not a
sufficient fix, because drivers/cpufreq/userspace.c can be built as
separate module.  So, I guess the variables should be moved to
kernel/cpufreq.c or the code that I quoted above should somehow be
moved.
Adam J. Richter     __     ______________   575 Oroville Road
adam@yggdrasil.com     \ /                  Milpitas, California 95035
+1 408 309-6081         | g g d r a s i l   United States of America
                         "Free Software For The Rest Of Us."
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/