Date: Wed, 20 Sep 2000 16:09:18 +0100 (BST)
From: Steve Hill <>
Subject: Kernel oops & panic in ISDN
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/20/48

I've got a Redhat 6.2 box here with a HiSax PCI ISDN card
(modprobed with parameters: type=36 protocol=2).  It's running a custom
compiled 2.2.17 kernel.  If I do an "isdnctrl dial ippp0" it dials up and
negotiates the IP address, etc.  However, I can't transmit any data across
the syncppp link - whenever I try to ping the remote peer, I get:
isdn_ppp: No compressor set!
ippp: no decompressor defined!                                                 
Fairly frequently when I send data across the syncppp link, I get either
an Oops or a panic (see below).  From what I can tell from the call trace,
the oops happens in udp_recvmsg and the panic happens in net_bh.
Has anyone got any ideas how I can fix it, or is it a major bug with the
kernel and not going to work any time soon?  (If it's a problem with that
particular card, I can go out and buy a new card, so that's not too much
of a problem).
--- OOPS ---
Unable to handle kernel NULL pointer dereference at virtual address 00000004
current->tss.cr3 = 00aee000, %cr3 = 00aee000
*pde = 00000000
Oops: 0002
CPU:    0
EIP:    0010:[<c014aa67>]
EFLAGS: 00010046
eax: c38ea720   ebx: c0375184   ecx: 00000246   edx: 00000000
esi: c0aedeec   edi: c0375140   ebp: c0375184   esp: c0aeddf4
ds: 0018   es: 0018   ss: 0018
Process ping (pid: 778, process nr: 41, stackpage=c0aed000)
Stack: 00000000 c0aedf6c c0aede40 c0375184 00000000 c0375140 c0166929 c0375140
       00000000 00000000 c0aede48 00000000 c0375140 c0aedf6c c0aedf6c dd43a1d5
       c743a1d5 c0aedec8 3aebd833 c743a1d5 c0aede48 00000000 c016b0e0 c0375140
Call Trace: [<c0166929>] [<c016b0e0>] [<c0147c62>] [<c016b06c>] [<c01487c8>] [<
       [<c01104d3>] [<c011035e>] [<c0147ee3>] [<c0148ef7>] [<c0108fc0>]
Code: 89 5a 04 89 13 c7 00 00 00 00 00 c7 40 04 00 00 00 00 c7 40 
-------
--- PANIC ---
Unable to handle kernel NULL pointer dereference at virtual address 00000040
current->tss.cr3 = 00101000, %cr3 = 00101000
*pde = 00000000
Oops: 0000
CPU:    0
EIP:    0010:[<c0157668>]
EFLAGS: 00010217
eax: 00000000   ebx: c38eaa40   ecx: 00000000   edx: c38eaa40
esi: c0ada0f4   edi: 00000014   ebp: c01ddf40   esp: c01ddf2c
ds: 0018   es: 0018   ss: 0018
Process swapper (pid: 0, process nr: 0, stackpage=c01dd000)
Stack: c38eaa40 c01d3274 c38eaa40 00000002 00000001 c38eaa40 c014bf65 c38eaa40
       c3c9038c c01d3274 00000001 c01ffce4 0001a82e c01ddf94 0001a82f 0008df94
       c01178fd c01dc000 00000000 c0110555 00000001 c01dc000 0001a82e 00000018
Call Trace: [<c014bf65>] [<c01178fd>] [<c0110555>] [<c010784d>] [<c0107855>] [<
            [<c0108fc0>] [<c0106000>] [<c010607b>] [<c0106000>] [<c0100175>]
Code: 8b 40 40 ff d0 83 c4 04 eb 20 89 f6 ff 05 0c 32 1d c0 8b 55
Aiee, killing interrupt handler
Kernel panic: Attempted to kill the idle task!
In swapper task - not syncing
-------
-- 
- Steve Hill
System Administrator         Email: steve@navaho.co.uk
Navaho Technologies Ltd.       Tel: +44-870-7034015
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/