Date: Thu, 5 Oct 2006 09:59:44 -0700
From: Randy Dunlap <>
Subject: Re: Merge window closed: v2.6.19-rc1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/5/211

On Thu, 5 Oct 2006 18:49:16 +0200 Voluspa wrote:
>   AR      arch/x86_64/lib/lib.a
>   GEN     .version
>   CHK     include/linux/compile.h
>   UPD     include/linux/compile.h
>   CC      init/version.o
>   LD      init/built-in.o
>   LD      vmlinux
> arch/x86_64/kernel/built-in.o: In function `print_trace_warning_symbol':
> traps.c:(.text.print_trace_warning_symbol+0xa): undefined reference to
> `print_symbol'
> make: *** [vmlinux] Error 1
You don't have CONFIG_KALLSYMS enabled?
Does this patch fix the build for you?
---
From: Randy Dunlap <rdunlap@xenotime.net>
Include linux/kallsyms.h unconditionally for print_symbol().
Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
---
 arch/x86_64/kernel/traps.c |    2 +-
 1 files changed, 1 insertion(+), 1 deletion(-)
--- linux-2619-rc1-pv.orig/arch/x86_64/kernel/traps.c
+++ linux-2619-rc1-pv/arch/x86_64/kernel/traps.c
@@ -23,6 +23,7 @@
 #include <linux/delay.h>
 #include <linux/spinlock.h>
 #include <linux/interrupt.h>
+#include <linux/kallsyms.h>
 #include <linux/module.h>
 #include <linux/moduleparam.h>
 #include <linux/nmi.h>
@@ -115,7 +116,6 @@ static int call_trace = 1;
 #endif
 
 #ifdef CONFIG_KALLSYMS
-# include <linux/kallsyms.h>
 void printk_address(unsigned long address)
 {
 	unsigned long offset = 0, symsize;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/