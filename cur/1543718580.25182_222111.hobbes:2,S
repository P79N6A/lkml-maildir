Date: Thu, 20 May 2004 15:49:56 +0200
From: Pavel Machek <>
Subject: Re: [ANNOUNCEMENT PATCH COW] proof of concept impementation of cowlinks
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/22/91

Hi!
> Catching up on some really old mail, I thought I'd ask:
> 
> For years now I've wanted to use a sendfile variant to tell the system to 
> connect two filehandles from userspace.  Not just web servers want to 
> marshall data from one filehandle into another, things like netcat want to do 
> it between a pipe and a network connection, and I've wrote a couple of data 
> dispatcher daemons that wanted to do it between two network connections.
> 
> Unfortunately, sendfile didn't work generically when I tried it (back under 
> 2.4).  Would this infrastructure be a step in the right direction to 
> eliminate gratuitous poll loops (where nobody but me EVER seems to get the 
> "shutdown just one half of the connection" thing right.  My netcat can handle 
> "echo 'GET /' | netcat www.slashdot.org 80".  The standard netcat can't.  
> Yes, I plan to fix the one in busybox eventually...)
> 
Ugh. Yes, some syscalls like that were proposed... but to
make programming easier, you'd need asynchronous
sendfile to help you with programming, right?
				Pavel
-- 
64 bytes from 195.113.31.123: icmp_seq=28 ttl=51 time=448769.1 ms         
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/