Date: Tue, 13 Aug 2002 13:26:55 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: [patch] PCI Cleanup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/13/324

On 13 Aug 2002, Alan Cox wrote:
> > 
> > OK, that IDE thing smacks of unmitigated evil to me, but if things are relying 
> > on it, we shouldn't change it.
> 
> It wants to force its own conf1/conf2 over the BIOS even if BIOS is
> preferred because some BIOSes dont honour the size requested and the
> hardware has bugs.
> 
> That to me says there may well be cleaner approaches.
The thing I liked about the separate structures for function pointers for 
conf1/conf2 is that I could at least _see_ that the IDE driver might some 
day be changed to just do
	..
	conf2_struct->pci_config_read_byte(..)
	..
even if (judging by past performance) this would never happen ;)
This is why I'd like to continue with the notion of having a well-defined 
structure that contains all the pointers (and one default case). Now, 
shrinking those structures down to 2 entries instead of 6 sounds like a 
fine idea to me, but short-circuiting them internally sounds bad because 
it loses the ability to use the pci config space functions independently 
of each other.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/