Date: Tue, 2 Dec 2003 20:23:57 +0100
From: Bartlomiej Zolnierkiewicz <>
Subject: Re: via82cxxx, DMA and performance problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/2/135

Hi,
You trying to load VIA IDE chipset driver but your IDE devices
are already handled by generic IDE driver, thus you can't enable DMA.
Changing host drivers on the fly is unsupported.
If you want to use IDE chipset modules you should use IDE as module.
--bart
> kernel message:
> VP_IDE: IDE controller at PCI slot 0000:00:11.1
> ACPI: No IRQ known for interrupt pin A of device 0000:00:11.1 - using
> IRQ 255
> VP_IDE: chipset revision 6
> VP_IDE: not 100% native mode: will probe irqs later
> ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
> VP_IDE: VIA vt8235 (rev 00) IDE UDMA133 controller on pci0000:00:11.1
>      ide0: BM-DMA at 0xfc00-0xfc07, BIOS settings: hda:DMA, hdb:DMA
>      ide1: BM-DMA at 0xfc08-0xfc0f, BIOS settings: hdc:DMA, hdd:pio
> ide0: I/O resource 0x3F6-0x3F6 not free.
> hda: ERROR, PORTS ALREADY IN USE
> hdb: ERROR, PORTS ALREADY IN USE
> register_blkdev: cannot get major 3 for ide0
> ide1: I/O resource 0x376-0x376 not free.
> hdc: ERROR, PORTS ALREADY IN USE
> register_blkdev: cannot get major 22 for ide1
> Module via82cxxx cannot be unloaded due to unsafe usage in
> include/linux/module.h:483
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/