Date: Thu, 08 Jan 2009 00:15:47 +1030
From: David Newall <>
Subject: Re: Bug: Status/Summary of slashdot leap-second crash on new years 2008-2009
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/7/204

Alan Cox wrote:
>> True but irrelevant because the RTC returns a timestamp.  And it's
>> quietly understood that the RTC is only an approximation.
>> 
>
> You miss the point.
> 
No, I got the point.  I see no problem.
> The RTC stores the CMOS time in MM DD YY HH:MM:SS format.
Yes, which is perfect for mktime(), which knows about leap seconds and
so produces the correct time_t.
>> However it is now clear that no special kernel support is required for
>> leap-seconds, and any such code that's been incorporated needs to be
>> removed.  Removed I say!
>> 
>
> There never has been any. Its all handled (both posix and sane) by glibc.
Which is what one would expect.  It's reports of crashes and kernel bugs
being found and fixed in code to handle leap seconds which lead me to a
different understanding.  I thought it was said that there's kernel
support to handle the leap second flag in NTP's broadcasts, and that
that was where the bug was.
So.  What is the situation?