Date: Fri, 16 Jul 1999 00:40:54 -0700
From: David Hinds <>
Subject: Re: New kernel/resource.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/16/14

On Thu, Jul 15, 1999 at 10:27:17PM -0700, Linus Torvalds wrote:
> 
> On Thu, 15 Jul 1999, David Hinds wrote:
> > 
> > You've lost me again.  inb/outb and readb/writeb are not PCI specific,
> > so how can they be arbitrated using a PCI-specific resource tree?
> 
> They ARE PCI specific. 
> 
> What's the problem?
I've still got a laptop on my desk that doesn't have a PCI bus.  As
far as I can tell, all its drivers use inb/outb and readb/writeb in
exactly the same way as they are used on another laptop on my desk
that does have a PCI bus.  I'm not trying to be obtuse here: I really
don't understand what you're trying to say.
Glancing through the kernel tree, use of inb()/outb() seems to be
fairly common on platforms that do not have PCI busses.  On some
platforms, addresses obtained from ioremap() are dereferenced without
using read[bwl] but I don't know if this is kosher or not, as there is
little documentation of such things.
On my PCI-based laptop, there are also a dozen or so devices that
reside behind a PCI-to-ISA bus bridge.  They are accessed using
inb/outb and readb/writeb.  It isn't clear to me where their resources
should go, if you want separate resource trees for each bus.  They are
not PCI devices, but they clearly occupy the same flat address space
as real PCI devices.
-- Dave Hinds
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/