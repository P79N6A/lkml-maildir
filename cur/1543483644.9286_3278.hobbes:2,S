Date: Mon, 01 Feb 1999 19:35:28 MET
From: Heinz Mauelshagen <>
Subject: Re: What is max size of ext2fs?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/1/142

> 
> Hi,
> 
> On Mon, 01 Feb 1999 19:21:15 MET, Heinz Mauelshagen
> <mauelsha@ez-darmstadt.telekom.de> said:
> 
> 
> > On Mon, 1 Feb 1999 13:18:24 GMT, "Stephen C. Tweedie" <sct@redhat.com> wrote:
> >> 
> >> That is a purely theoretical limit.  ext2 can only sit on a single block
> >> device at once: it cannot span block devices.  The block device layer
> >> _cannot_ address 4TB: 2^32 * 512 bytes (the sector size) is 2TB, which
> >> is a hard upper limit on any block device for now.  On Linux, you cannot
> >> make an ext2fs filesystem larger than that (and if we find any sign
> >> extension problems in the block IO request layers, then 1TB becomes the
> >> limit).
> 
> > What about solutions like MD and LVM available today?
> 
SCT: Read my reply!  The block device layer has a hard upper limit of 2GB.
SCT: It doesn't matter which block device you use.  LVM and MD both appear as
SCT: virtual block devices, and so are both subject to exactly the same
SCT: limit.  Using such a virtual driver has no effect at all on this limit.
Sorry, i can't share your point of view.
The LVM is able to handle that.
The Logical Volume block device specials can be searched/read/written
from user space by llseek() etc.
The LVM extensions to ll_rw_block() in linux/drivers/block/ll_rw_blk.c
(see <
http://linux.msede.com/lvm>
) allow that and fs creation with
larger fs sizes than 2GB.
The following example is a real life one i have up and running
with LVM and ext2.
> 
> > Example: 30GB ext2 fs with ~200,000 files
> > --> e2fsck needs about 20 Minutes on PII/350.
> >          We need fs journaling for large scale checks!
> 
> I know, I'm writing it.
Me too.
That's why i mentioned it 8*)))
Best regards,
Heinz
BTW: why didn't your great dirty/free list patch for linux/fs/buffer.c
     improving performance with large buffermem make it into 2.2.1?
--
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Systemmanagement Entwicklungsbereich 2           Deutsche Telekom AG
                                                 Entwicklungszentrum Darmstadt
Heinz Mauelshagen                                Otto-Roehm-Strasse 71c
                                                 Postfach 10 05 41
mge@ez-darmstadt.telekom.de                      64205 Darmstadt
                                                 Germany
                                                 +49 6151 886-425
                                                          FAX-386
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/