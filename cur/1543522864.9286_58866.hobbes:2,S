Date: Thu, 20 Jan 2000 19:24:10 +0100
From: Jamie Lokier <>
Subject: Re: Udelay and new CPUs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/21/82

Alan Cox wrote:
> > How does Linux on the TM3120 (and TM5400) cope with the variable speed
> > in which the udelay loop is executed?
> 
> Im told the next gen intel CPU's  our udelay() wont work. I'm not under any
> wonderous NDA's so I dont know why or what magic is planned, but an RDTSC
> based udelay() has to get done anyway
On the TM3120 and TM5400, does RDTSC count VLIW cycles or x86 cycles?
:-)
On any CPU, RDTSC by itself won't do the right thing if the processor
speed is being varied.  We've been here before.  You need to know the
speed.  If mobile linux(tm, sigh) is controlling power management, I
guess it can know the speed too.
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/