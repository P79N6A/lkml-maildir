Date: Sat, 31 Dec 2005 09:13:24 +0100
From: Mike Galbraith <>
Subject: Re: [SCHED] wrong priority calc - SIMPLE test case
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/31/17

At 02:52 PM 12/30/2005 +0100, Paolo Ornati wrote:
>WAS: [SCHED] Totally WRONG prority calculation with specific test-case
>(since 2.6.10-bk12)
>
http://lkml.org/lkml/2005/12/27/114/index.html
>
>On Wed, 28 Dec 2005 10:26:58 +1100
>Con Kolivas <kernel@kolivas.org> wrote:
>
> > The issue is that the scheduler interactivity estimator is a state 
> machine and
> > can be fooled to some degree, and a cpu intensive task that just 
> happens to
> > sleep a little bit gets significantly better priority than one that is 
> fully
> > cpu bound all the time. Reverting that change is not a solution because it
> > can still be fooled by the same process sleeping lots for a few seconds 
> or so
> > at startup and then changing to the cpu mostly-sleeping slightly 
> behaviour.
> > This "fluctuating" behaviour is in my opinion worse which is why I removed
> > it.
>
>Trying to find a "as simple as possible" test case for this problem
>(that I consider a BUG in priority calculation) I've come up with this
>very simple program:
>
>------ sched_fooler.c -------------------------------
Ingo seems to have done something in 2.6.15-rc7-rt1 which defeats your 
little proggy.  Taking a quick peek at the rt scheduler changes, nothing 
poked me in the eye, but by golly, I can't get this kernel to act up, 
whereas 2.6.14-virgin does.
         -Mike  (off to stare harder rt patch) 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/