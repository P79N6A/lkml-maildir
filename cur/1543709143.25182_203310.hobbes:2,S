Date: Mon, 1 Mar 2004 14:50:09 -0800
From: Frank Cusack <>
Subject: [PATCH] vicam ioctl VIDIOCSWIN wrong return value
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/1/198

Should this return -EINVAL?  (credit to Paul Menage).
diff -urp linux-2.4.25/drivers/usb/vicam.c linux-2.4.25.1/drivers/usb/vicam.c
--- linux-2.4.25/drivers/usb/vicam.c	2004-02-18 05:36:31.000000000 -0800
+++ linux-2.4.25.1/drivers/usb/vicam.c	2004-03-01 14:47:59.000000000 -0800
@@ -612,7 +612,7 @@ vicam_ioctl(struct video_device *dev, un
 			DBG("VIDIOCSWIN %d x %d\n", vw->width, vw->height);
 			
 			if ( vw.width != 320 || vw.height != 240 )
-				retval = -EFAULT;
+				retval = -EINVAL;
 
 			break;
 		}
/fc
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/