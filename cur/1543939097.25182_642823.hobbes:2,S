Date: Thu, 24 Jan 2008 21:39:52 +0100 (CET)
From: Jan Engelhardt <>
Subject: Re: [patch 07/26] Add INIT_ARRAY() to kernel.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/24/328

On Jan 24 2008 15:27, Mathieu Desnoyers wrote:
>such as:
>text_poke(addr, INIT_ARRAY(unsigned char, 0xf0, len), len);
 text_poke(addr, (unsigned char[]){[0 ... len-1] = val});
Well ugliness is debatable, but at least:
>+#define INIT_ARRAY(type, val, len) ((type [len]) { [0 ... (len)-1] = (val) })
  #define INIT_ARRAY(type, val, len) ((type[]){[0 ... (len)-1] = (val)})
You can use type[].