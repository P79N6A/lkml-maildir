Date: Sat, 27 Sep 2003 04:00:16 +0200
From: Felipe Alfaro Solana <>
Subject: Ejecting a CardBus device
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/26/191

Hi All!
How can I tell the CardBus subsystem to eject my CardBus NIC by software
with 2.6.0 kernels? In 2.4 I could use "cardctl eject", but I don't know
how to do the same on 2.6.0-test5-mm4.
I need to eject my CardBus NIC if I want to be able to suspend the
machine using APM. Resuming from APM when the "yenta_socket" and
"pcmcia_core" modules are loaded causes a deadlock in the kernel during
resume, and the machine never comes back completely. Thus, before
suspending, I need to rmmod "pcmcia_core" and "yenta_socket" (well, and
uhci-hcd and the sound modules).
Currently, I need to manually eject the card by pushing the eject button
on the side of the laptop if I want to to rmmod "pcmcia_core" (not doing
so, causes pcmcia_core to complain that it's busy). So, I wonder if
there's a way to tell pcmcia_core to "eject" the CardBus NIC (without
physically ejecting the card from the socket) in order to being able to
rmmod it before trying to suspend.
Thanks!
   Felipe Alfaro Solana
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/