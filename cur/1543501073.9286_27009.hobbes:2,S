Date: Tue, 29 Jun 1999 23:26:52 +0200 (CEST)
From: Ingo Molnar <>
Subject: Re: Dual Ethernet Slowness Causing Lousy Benchmarks? (was: A very   informative benchmark.)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/29/109

On Tue, 29 Jun 1999, Jordan Mendelson wrote:
> This is what I see from the C'T article (approximates):
[everything's fine so far, Linux eats NT for lunch.]
> Now here's the kicker:
> 
> Linux 4 CPU Dynamic Data/2 Eth: 1500 requests/second
> Linux 1 CPU Dyanmic Data/2 Eth: 1100 requests/second
> NT 4 CPU Dynamic Data/2 Eth: 2600 requests/second
> NT 1 CPU Dyanmic Data/2 Eth: 2100 requests/second
no, it's not dynamic data, the c't issue i have here says that it's a
single static 4k file served over 2 ethernets. (ie. 'the case for which NT
and IIS is optimized') 
> Now scalability in SMP isn't the problem here, as even with 1 CPU we
> can't beat NT's 1 CPU. It is either Apache's handling of the dynamic
> data generated by the CGI, NT's version of perl is simply faster than
> ours, Linux's scheduler hurting the perl process needed to delier
> dynamic data, or somewhere, the network load balancing is not working
> and we are maxing out on bandwidth or CPU. 
thats a misunderstanding. It's _not_ CGI scripts - thats nonsense anyway,
we are over 1000 hits/sec.
yes, IIS serves static files faster than Apache ATM - although i'd like to
see the e-commerce site that serves one single 4k file over 4 100mbit
ethernets ;) And even in the static-serving tests, Linux beats NT hands
down if the number of files is increased to a more realistic value. 
i am getting 1-CPU performance of 3500 hits/sec (small static files) with
a 'dumbed down' webserver-demo coded up by Zach Brown which uses
sendfile() and Linux's async IO API. Apache 2.0 (judging from Dean
Gaudet's plans) will be able to get such numbers as well. 
-- mingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/