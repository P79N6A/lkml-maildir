Date: Fri, 18 Jan 2008 21:41:25 +0100
From: Sam Ravnborg <>
Subject: Re: [PATCH 9/10] provide __parainstructions section
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/18/484

On Fri, Jan 18, 2008 at 03:20:24PM -0200, Glauber de Oliveira Costa wrote:
> This patch adds the __parainstructions section to vmlinux.lds.S.
> It's needed for the patching system.
> 
> Signed-off-by: Glauber de Oliveira Costa <gcosta@redhat.com>
> ---
>  arch/x86/kernel/vmlinux_64.lds.S |    8 ++++++++
>  1 files changed, 8 insertions(+), 0 deletions(-)
> 
> diff --git a/arch/x86/kernel/vmlinux_64.lds.S b/arch/x86/kernel/vmlinux_64.lds.S
> index 5ae8aa8..5e0300f 100644
> --- a/arch/x86/kernel/vmlinux_64.lds.S
> +++ b/arch/x86/kernel/vmlinux_64.lds.S
> @@ -175,6 +175,14 @@ SECTIONS
>    }
>    __con_initcall_end = .;
>    SECURITY_INIT
> +
> +  . = ALIGN(8);
> +  .parainstructions : AT(ADDR(.parainstructions) - LOAD_OFFSET) {
> +  __parainstructions = .;
> +       *(.parainstructions)
> +  __parainstructions_end = .;
> +  }
> +
Are we going to see this for other archs than just x86?
If so then please add this to include/asm-generic/vmlinux.lds.h
The altinstructions right below is antoehr candidate..
	Sam