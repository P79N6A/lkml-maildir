Date: Tue, 27 Apr 2004 16:00:56 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: [PATCH] incomplete dependencies with BK tree (was: Anyone got aic7xxx working with 2.4.26?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/27/251

On Wed, 28 Apr 2004 jamagallon@able.es wrote:
> 
> At least gcc3 has [v][s][n]printf and friends as builtins, and also has
> __builtin_va_list,_start,_end, etc, so it looks easy to get rid of the
> stdarg.h dependency.
No, let's _not_ start implementing stdarg.h inside the kernel. It's just 
too compiler-dependent (remember - gcc isn't even the only compiler people 
use).
How about just _always_ including stdarg.h, and doing it by just making 
the main Makefile add a "-include <pathname>" to the CFLAGS? We should be 
able to generate the stdarg.h pathname pretty easily, with something like
	gcc --print-file-name=include/stdarg.h
(and that may depend on gcc versions too, of course).
> I think gcc builtins are under-used in kernel...
They are just _way_ too unreliable. They come and go with compiler 
versions, and aren't documented anywhere.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/