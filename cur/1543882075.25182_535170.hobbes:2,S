Date: Thu, 26 Apr 2007 08:10:24 +0200
From: Michael Gerdau <>
Subject: Re: [ck] [REPORT] cfs-v5 vs sd-0.46
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/26/98

> > with cfs-v5 finally booting on my machine I have run my daily
> > numbercrunching jobs on both cfs-v5 and sd-0.46, 2.6.21-v7 on
> > top of a stock openSUSE 10.2 (X86_64).
> 
> Thanks for testing.
I actually enjoyed it -- the more extensive test I had promised
two days ago is almost finished. There is just one test I have
yet to (re)run and I will have a slot for it later today so I'll
mail out the results comparing
    2.6.21-rc7 (mainline)
    2.6.21-rc7-sd046
    2.6.21-rc7-cfs-v6-rc2 (X @ nice 0)
    2.6.21-rc7-cfs-v6-rc2 (X @ nice -10)
during the early afternoon (my time).
> You have 3 tasks and only 2 cpus. The %cpu is the percentage of the cpu the 
> task is currently on that it is using; it is not the percentage of 
> the "overall cpu available on the machine". Since you have 3 tasks and 2 
> cpus, the extra task will always be on one or the other cpu taking half of 
> the cpu but never on both cpus.
I had assumed that given the interval of 3 sec the three tasks would
be evenly distributed among the 2 CPUs thus resulting in a CPU% of
66 each because that's what they get in the long run anyway.
Apparently 3 sec is too short an interval to see this.
> What is important is that if all three tasks are fully cpu bound and started 
> at the same time at the same nice level, that they all receive close to the 
> same total cpu time overall showing some fairness is working as well. This 
> should be the case no matter how many cpus you have.
They are started via 'make -j3' which implies they start at the
same time (i.e. within a few msec). They initially load some data
and then perform extensive computations on that data.
Best,
Michael
-- 
 Technosis GmbH, Geschäftsführer: Michael Gerdau, Tobias Dittmar
 Sitz Hamburg; HRB 89145 Amtsgericht Hamburg
 Vote against SPAM - see 
http://www.politik-digital.de/spam/
 Michael Gerdau       email: mgd@technosis.de
 GPG-keys available on request or at public keyserver
[unhandled content-type:application/pgp-signature]