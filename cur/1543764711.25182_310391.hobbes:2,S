Date: Sun, 10 Apr 2005 11:22:55 +0100
From: Ralph Corderoy <>
Subject: Re: more git updates..
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/10/29

Hi Paul,
> Ralph wrote:
> > Watch out for when xargs invokes do_something more than once and the
> > `<' is parsed by a different one than the `>'.
> 
> It will take a pretty long list to do that.  It seems that GNU xargs
> on top of a Linux kernel has a 128 KByte ARG_MAX.
I didn't realise it was that long, but one pair of files to diff takes
128 bytes of that.
    $ wc -c <<\E
    > <100664 aff074c63ac827801a7d02ff92781365957f1430 update-cache.c
    > >100664 3a672397164d5ff27a19a6888b578af96824ede7 update-cache.c
    > E
        128
So that's space for 1024 pairs.  (Doesn't envp take some up too?)  That
doesn't seem enough for diffs between revisions, but good enough for
most uses that people will get caught out when it fails.
    $ bzip2 -dc patch-2.6.10.bz2 | grep -c '^diff '      
    5384
Cheers,
Ralph.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/