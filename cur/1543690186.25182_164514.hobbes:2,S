Date: Tue, 09 Sep 2003 16:14:25 -0300
From: Felipe W Damasio <>
Subject: [PATCH] UFS build fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/9/221

	Hi Linus,
	Trivial patch (against 2.6-test5) to fix the build for the UFS file 
system.
	Please apply.
	Cheers,
Felipe
--- linux-2.6.0-test5/fs/ufs/namei.c	Mon Sep  8 16:50:57 2003
+++ linux-2.6.0-test5-fwd/fs/ufs/namei.c	Tue Sep  9 16:11:06 2003
@@ -113,10 +113,12 @@
 static int ufs_mknod (struct inode * dir, struct dentry *dentry, int mode, dev_t rdev)
 {
 	struct inode * inode;
+	int err;
+
 	if (!old_valid_dev(rdev))
 		return -EINVAL;
 	inode = ufs_new_inode(dir, mode);
-	int err = PTR_ERR(inode);
+	err = PTR_ERR(inode);
 	if (!IS_ERR(inode)) {
 		init_special_inode(inode, mode, rdev);
 		/* NOTE: that'll go when we get wide dev_t */