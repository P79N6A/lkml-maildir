Date: 21 Jul 1999 17:12:15 GMT
From: (Linus Torvalds)
Subject: Re: [2.3.11=pre6]: No OOPS, but mount segfaults remounting "/"?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/21/73

In article <Pine.HPP.4.10.9907210954001.24496-100000@iacs5.ucsd.edu>,
Benjamin Redelings I  <bredelin@ucsd.edu> wrote:
>I have UP PPro.  2.3.11-pre6 works great... seems significantly smoother
>than pre5 somehow.  However, when 'mount -n -o remount,rw /' is called on
>bootup, the command succeeds, but segfaults.
>
>If I run this command AFTER '/' is already mounted read-write, then no
>segfault occurs.
pre-6 has some bugs still in handling the lazy TLB switching, and it can
result in bad things happening with shared mappings etc. It's fairly
hard to trigger, so it doesn't happen for some people at all: it's a
race where certain timings have to go just right.
pre-7 fixes that particular bug, although it still has a theoretical
problem with some other (even more unlikely) usage patterns.
I'm working on a pre-8 right now, but in the meantime pre-7 is the way
to go (I bet that the problem in pre-7 is basically impossible to
trigger unless you really design for it). There may be problems we don't
even know about, so testing is good.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/