Date: Thu, 23 Aug 2007 02:26:11 -0700
From: Andrew Morton <>
Subject: Re: [BUG] 2.6.23-rc3-mm1 Kernel panic - not syncing: Can't create pid_1 cachep
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/23/67

On Thu, 23 Aug 2007 14:42:27 +0530 Kamalesh Babulal <kamalesh@linux.vnet.ibm.com> wrote:
> Andrew after setting CONFIG_SLUB=n and CONFIG_SLAB, it hits
> a kernel Bug, and attaching the config file.
> 
> Memory: 32479392k/33554432k available (2627k kernel code, 280028k 
> reserved, 1274k data, 220k init, 31842304k highmem)
> virtual kernel memory layout:
>     fixmap  : 0xffe1a000 - 0xfffff000   (1940 kB)
>     pkmap   : 0xffc00000 - 0xffe00000   (2048 kB)
>     vmalloc : 0xf8800000 - 0xffbfe000   ( 115 MB)
>     lowmem  : 0xc0000000 - 0xf8000000   ( 896 MB)
>       .init : 0xc13d6000 - 0xc140d000   ( 220 kB)
>       .data : 0xc1290e65 - 0xc13cf758   (1274 kB)
>       .text : 0xc1000000 - 0xc1290e65   (2627 kB)
> Checking if this processor honours the WP bit even in supervisor mode... Ok.
> Calibrating delay using timer specific routine.. 1401.57 BogoMIPS 
> (lpj=2803147)
> ------------[ cut here ]------------
> kernel BUG at mm/slab.c:3320!
> invalid opcode: 0000 [#1] SMP
> kernel BUG at mm/slab.c:3320!
static void *____cache_alloc_node(struct kmem_cache *cachep, gfp_t flags,
                                int nodeid)
{
        struct list_head *entry;
        struct slab *slabp;
        struct kmem_list3 *l3;
        void *obj;
        int x;
        l3 = cachep->nodelists[nodeid];
        BUG_ON(!l3);
I _looks_ like an ordering problem, but slab is all set up by then.
Strange.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/