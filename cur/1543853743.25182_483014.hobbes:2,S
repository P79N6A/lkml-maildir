Date: Thu, 16 Nov 2006 11:29:56 +0100
From: Andi Kleen <>
Subject: Re: [patch, -rc6] x86_64: UP build fix, arch/x86_64/kernel/mce_amd.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/16/53

On Thursday 16 November 2006 11:21, Ingo Molnar wrote:
> Subject: [patch] x86_64: UP build fix, arch/x86_64/kernel/mce_amd.c
> From: Ingo Molnar <mingo@elte.hu>
> 
> fix x86_64/kernel/mce_amd.c build bug:
> 
>  arch/x86_64/kernel/mce_amd.c: In function ‘threshold_remove_bank’:
>  arch/x86_64/kernel/mce_amd.c:597: error: ‘shared_bank’ undeclared (first use in this function)
>  arch/x86_64/kernel/mce_amd.c:597: error: (Each undeclared identifier is reported only once
>  arch/x86_64/kernel/mce_amd.c:597: error: for each function it appears in.)
>  make[1]: *** [arch/x86_64/kernel/mce_amd.o] Error 1
>  make: *** [arch/x86_64/kernel/mce_amd.o] Error 2
> 
> Signed-off-by: Ingo Molnar <mingo@elte.hu>
Hmm, it builds for me.
% grep SMP .config
CONFIG_BROKEN_ON_SMP=y
# CONFIG_X86_VSMP is not set
# CONFIG_SMP is not set
% grep MCE_AMD .config
CONFIG_X86_MCE_AMD=y
% ls -l vmlinux 
-rwxr-xr-x  1 andi users 9174494 2006-11-16 10:20 vmlinux
(basically just defconfig with CONFIG_SMP disabled) 
Perhaps a include ordering problem?  Can you send your .config?
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/