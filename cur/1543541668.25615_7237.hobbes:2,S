Date: Sun, 13 Aug 2000 16:23:41 -0700
From: Benjamin Redelings I <>
Subject: Re: [PATCH] local APIC support on uniprocessor machines
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/13/193

I've tried this, and it Works For Me. (with pre7-2)
Intel Corporation 82371SB PIIX3 IDE [Natoma/Triton II]
telomere:/proc> cat /proc/cpuinfo 
processor	: 0
vendor_id	: GenuineIntel
cpu family	: 6
model		: 1
model name	: Pentium Pro
stepping	: 2
cpu MHz		: 166.196641
cache size	: 256 KB
fdiv_bug	: no
hlt_bug		: no
sep_bug		: yes
f00f_bug	: no
coma_bug	: no
fpu		: yes
fpu_exception	: yes
cpuid level	: 2
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov
bogomips	: 331.78
telomere:/proc> dmesg
Linux version 2.4.0-test7 (root@telomere) (gcc version 2.95.2 20000220
(Debian GNU/Linux)) #2 Sun Aug 13 10:13:24 PDT 2000
BIOS-provided physical RAM map:
 e820: 000000000009fc00 @ 0000000000000000 (usable)
 e820: 0000000000000400 @ 000000000009fc00 (usable)
 e820: 0000000000010000 @ 00000000000f0000 (reserved)
 e820: 0000000000010000 @ 00000000ffff0000 (reserved)
 e820: 0000000003f00000 @ 0000000000100000 (usable)
Scan SMP from c0000000 for 1024 bytes.
Scan SMP from c009fc00 for 1024 bytes.
Scan SMP from c00f0000 for 65536 bytes.
Scan SMP from c0000000 for 4096 bytes.
On node 0 totalpages: 16384
zone(0): 4096 pages.
zone(1): 12288 pages.
zone(2): 0 pages.
mapped APIC to ffffe000 (fee00000)
Kernel command line: auto BOOT_IMAGE=linux root=308
BOOT_FILE=/boot/vmlinuz devfs=mount
Initializing CPU#0
Detected 166196641 Hz processor.
Console: colour VGA+ 80x50
Calibrating delay loop... 331.78 BogoMIPS
Memory: 62772k/65536k available (894k kernel code, 2376k reserved, 76k
data, 176k init, 0k highmem)
Dentry-cache hash table entries: 8192 (order: 4, 65536 bytes)
Buffer-cache hash table entries: 4096 (order: 2, 16384 bytes)
Page-cache hash table entries: 16384 (order: 4, 65536 bytes)
Inode-cache hash table entries: 4096 (order: 3, 32768 bytes)
CPU: Intel Pentium Pro stepping 02
Checking 386/387 coupling... OK, FPU using exception 16 error reporting.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
Local APIC disabled by BIOS -- reenabling...
leaving PIC mode, enabling symmetric IO mode.
enabled ExtINT on CPU#0
ESR value before enabling vector: 00000040
ESR value after enabling vector: 00000000
calibrating APIC timer ...
..... CPU clock speed is 166.2001 MHz.
..... host bus clock speed is 66.4798 MHz.
cpu: 0, clocks: 664798, slice: 332399
CPU0<T0:664784,T1:332384,D:1,S:332399,C:664798>
mtrr: v1.36 (20000221) Richard Gooch (rgooch@atnf.csiro.au)
PCI: PCI BIOS revision 2.10 entry at 0xfb2e0, last bus=0
PCI: Using configuration type 1
PCI: Probing PCI hardware
Limiting direct PCI/PCI transfers.
Activating ISA DMA hang workarounds.
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 4096 bind 4096)
P6 Microcode Update Driver v1.06
Starting kswapd v1.7
pty: 256 Unix98 ptys configured
Uniform Multi-Platform E-IDE driver Revision: 6.31
ide: Assuming 33MHz system bus speed for PIO modes; override with
idebus=xx
PIIX3: IDE controller on PCI bus 00 dev 39
PIIX3: chipset revision 0
PIIX3: not 100% native mode: will probe irqs later
    ide0: BM-DMA at 0xf000-0xf007, BIOS settings: hda:pio, hdb:pio
    ide1: BM-DMA at 0xf008-0xf00f, BIOS settings: hdc:pio, hdd:pio
hda: Maxtor 90840D6, ATA DISK drive
hdd: TOSHIBA CD-ROM XM-5702B, ATAPI CDROM drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
ide1 at 0x170-0x177,0x376 on irq 15
hda: 16406208 sectors (8400 MB) w/256KiB Cache, CHS=1021/255/63, (U)DMA
Partition check:
 /dev/ide/host0/bus0/target0/lun0: p1 p2 < p5 p6 p7 p8 > p3 < p9 >
Serial driver version 5.02 (2000-08-09) with MANY_PORTS SHARE_IRQ
SERIAL_PCI enabled
ttyS00 at 0x03f8 (irq = 4) is a 16550A
ttyS01 at 0x02f8 (irq = 3) is a 16550A
ne2k-pci.c:vpre-1.00e 5/27/99 D. Becker/P. Gortmaker
http://cesdis.gsfc.nasa.gov/linux/drivers/ne2k-pci.html
eth0: RealTek RTL-8029 found at 0x9100, IRQ 9, 00:40:05:46:7F:9D.
devfs: v0.102 (20000622) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x0
VFS: Mounted root (ext2 filesystem) readonly.
Mounted devfs on /dev
Freeing unused kernel memory: 176k freed
Adding Swap: 128484k swap-space (priority -1)
inserting floppy driver for 2.4.0-test7
Floppy drive(s): fd0 is 1.44M
FDC 0 is a post-1991 82077
Soundblaster audio driver Copyright (C) by Hannu Savolainen 1993-1996
SB 4.13 detected OK (220)
0x378: FIFO is 16 bytes
0x378: writeIntrThreshold is 16
0x378: readIntrThreshold is 16
0x378: PWord is 8 bits
0x378: Interrupts are ISA-Pulses
0x378: ECP port cfgA=0x10 cfgB=0x40
0x378: ECP settings irq=<none or set by other means> dma=<none or set by
other means>parport0: PC-style at 0x378 (0x778), irq 7, using FIFO
[PCSPP,TRISTATE,COMPAT,ECP]
parport0: cpp_daisy: aa5500ff(38)
parport0: assign_addrs: aa5500ff(38)
parport0: cpp_daisy: aa5500ff(38)
parport0: assign_addrs: aa5500ff(38)
lp0: using parport0 (interrupt-driven).
PPP generic driver version 2.4.1
Soundblaster audio driver Copyright (C) by Hannu Savolainen 1993-1996
SB 4.13 detected OK (220)
PPP BSD Compression module registered
PPP Deflate Compression module registered
telomere:/proc> 
-- 
"I want to be in the light, as He is in the Light,
 I want to shine like the stars in the heavens." - DC Talk, "In the
Light"
Benjamin Redelings I      <><     
http://www.bol.ucla.edu/~bredelin/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/