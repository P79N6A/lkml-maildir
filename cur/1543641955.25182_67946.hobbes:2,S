Date: Tue, 03 Sep 2002 10:17:03 -0400
From: "D. Sen" <>
Subject: Re: laptop screen apm problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/3/60

Hi Steve,
Not having heard from you, I decided to tinker with apm.c to see if I 
could solve the problem. In particular I compared it with the 2.4.18 
apm.c (I had no problems with 2.4.18). The following seems to fix my 
problem.
Changing line 1786 in apm.c (from the 2.4.19 kernel tree) from:
			idle_period = simple_strtol(str + 12, NULL, 0);
to:
			idle_period = simple_strtol(str + 15, NULL, 0);
solves the problem.
DS
D. Sen wrote:
> Hi Steve,
> 
> I am experiencing some intermittent problems trying to suspend my 
> laptop. The laptop (IBM Thinkpad T30) seems to suspend fine after using 
> 'apm -s' or the Fn+F4 key stroke, but a miniscule of a second later, the 
> LCD screen turns back on with a weird display. Going through the 
> resume-suspend cycle a few times, I can usually get the machine to 
> eventually suspend correctly.
> 
> It seems like not enough time is given for the LCD to turn off correctly.
> 
> In fact, when the problem happens if I do an 'apm -S' (or Fn+F3, to just 
> turn the screen off) and then quickly follow it up using an 'apm -s' or 
> Fn+F4, I usually get the correct suspend behaviour.
> 
> Any ideas?
> 
> Thanks,
> DS
> 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/