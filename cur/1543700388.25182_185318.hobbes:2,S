Date: Sat, 20 Dec 2003 20:10:13 -0500 (EST)
From: Rik van Riel <>
Subject: Re: [PATCH] make try_to_free_pages walk zonelist
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/20/105

On Sat, 20 Dec 2003, Andrew Morton wrote:
> hm, OK, so this should be a no-op for non-NUMA setups.
Exactly, the zonelist is equivalent to the classzone on non-NUMA.
> Could you suggest a suitable worklaod for Andi and Martin to test sometime?
It would have to be something where kswapd can't keep
up and the workload benefits from having memory allocated
from all zones/nodes in the zone list.
OTOH, if the workload didn't benefit from allocating memory
from multiple nodes, maybe the zonelist shouldn't include
zones from other nodes in the first place ? ;)
I'm not quite sure exactly what workload to test here...
One way to artificially test this code path would be by
setting lower_zone_protection to 2 on an AMD64 system with
two equally sized zones, while running a single threaded
memory intensive workload.  Very artificial, though.
> Meanwhile, I'll mmify it for a bit of soak testing, thanks.
Thanks.
Rik
-- 
"Debugging is twice as hard as writing the code in the first place.
Therefore, if you write the code as cleverly as possible, you are,
by definition, not smart enough to debug it." - Brian W. Kernighan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/