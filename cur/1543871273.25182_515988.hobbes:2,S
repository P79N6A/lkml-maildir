Date: Mon, 5 Mar 2007 19:10:21 -0800
From: Andrew Morton <>
Subject: Re: [PATCH]: i386: make x86_64 tsc header require i386 rather than vice-versa
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/5/507

On Fri, 02 Mar 2007 22:10:33 -0500 Andres Salomon <dilinger@debian.org> wrote:
> Prior to commit 95492e4646e5de8b43d9a7908d6177fb737b61f0  ([PATCH] x86:
> rewrite SMP TSC sync code), the headers in asm-i386 did not really
> require anything in include/asm-x86_64.  This means that distributions
> such as fedora did not include asm-x86_64 in kernel-devel headers for
> i386.  Ingo's commit changed that, and broke things.  This is easy
> enough to hack around in package builds by just including asm-x86_64 on
> i386, but that's kind of annoying.  If anything, x86_64 should depend
> upon i386, not the other way around.
> 
> This patch changes it so that asm-x86_64/tsc.h includes asm-i386/tsc.h,
> rather than vice-versa.
Agree - I don't see any gain in making the references be bidirectional, and
it just makes life more complicated.  Knowing "x86_64 always references
i386" is a useful mental mark.
That, plus the kernel-headers point which you describe..
<looks at early_printk.c>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/