Date: Sat, 5 Jun 2004 12:32:12 +1000
From: Anton Blanchard <>
Subject: Re: [PATCH] Use numa policy API for boot time policy
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/4/317

Hi,
> That's correct. It will only work for order 0 allocations.
> 
> But it sounds quite bogus anyways to move the complete hash tables
> to another node anyways. It would probably be better to use vmalloc() 
> and a interleaving mapping for it. Then you would get the NUMA bandwidth 
> benefit even for accessing single tables.
I posted some before and after numbers when we merged Manfreds patch,
it would be interesting to see the same thing with your patch applied.
Im not only worried about NUMA bandwidth but keeping the amount of
memory left in all the nodes reasonably even. Allocating all the big
hashes on node 0 will decrease that balance.
Anton
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/