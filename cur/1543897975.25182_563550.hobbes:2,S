Date: Fri, 29 Jun 2007 07:22:44 +0200
From: "Kay Sievers" <>
Subject: Re: USB card reader and HAL
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/29/16

On 6/28/07, DervishD <lkml@dervishd.net> wrote:
>     I have a new card reader (internal) but I've tested with my old one
> too: the same happens. I have a do-it-yourself linux box, self compiled
> kernel 2.6.19.5 (by now).
>
>     When I insert a card in the reader, it is not detected, no udev
> event is generated and I have to do things like "hdparm -z /dev/sda" to
> "probe" the card. Moreover, I have to do the same when removing the card
> or the /dev/sdaX nodes are not deleted.
>
>     Is HAL the only way of making it work? Is there any CONFIG_ thing
> I've forgotten in my kernel?
>
>     I've tested with Ubuntu and it works perfectly, and that's why I
> think this may be HAL related (I don't have HAL installed, Ubuntu has).
You have to open() the device node to trigger events from the kernel,
the kernel itself will not do that for you. HAL polls the device every
few seconds.
Kay
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/