Date: Fri, 29 Jun 2007 14:13:18 +0200
From: Patrick McHardy <>
Subject: Re: mss to pmtu clamping partially broken?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/29/105

Andreas Steinmetz wrote:
> Patrick McHardy wrote:
> 
>>- assuming you have ethernet internally, the PMTU from your router
>>to the internal hosts is 1500, so it won't do any clamping.
>>
> 
> 
> Yep, internal PMTU is 1500, still the incoming packets are clamped to
> 1452 on the one line and not clamped on the other.
> 
> 
>>Does that explain it?
>>
>>A useful thing for TCPMSS for routers would be to clamp to the
>>minimum of the PMTU of both directions. But thats not supported
>>so far.
>>
> 
> 
> I wonder, as somteimes it gets clamped. If it would never have been
> clamped I wouldn't have asked.
Its possible that one of your ISPs is doing clamping. You could
check on ppp0 if thats the case. Or maybe for some reason the
PMTU value for the internal host is smaller than 1500. You can
check that by doing "ip route get <internal host>".
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/