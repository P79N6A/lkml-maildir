Date: Thu, 19 Jul 2007 16:38:09 +0300
From: Avi Kivity <>
Subject: Re: [kvm-devel] [RFC] Deferred interrupt handling.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/19/254

Lennart Sorensen wrote:
> On Thu, Jul 19, 2007 at 12:23:24PM +0300, Avi Kivity wrote:
> 
>> No, it means disallowing pci devices that use shared irqs, and allowing 
>> pci devices that use non-shared irqs.
>> 
>
> Most machiens I see today have almost no chance of having PCI devices
> without shared IRQs.  This probably means any implementation will only
> work on a small set of machines with very specific setup in terms of
> which PCI slots they install cards in, and only as long as you don't
> allow any type of hotplugging of devices (or ever changing hardware at
> all).  May not be worth implementing if it has such a limited use case.
> The MSI setup on the other hand does sound like it might have potential
> for working in general.
>
> 
Looking at two random servers here and a desktop, interrupts are 
unshared except for usb.  A laptop was not so lucky.  So "no chance" is 
a bit extreme.
I agree it's far from optimal, but it is less limited than you imply.
-- 
error compiling committee.c: too many arguments to function
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/