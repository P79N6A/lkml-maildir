Date: Tue, 7 Dec 2004 01:20:00 +0100
From: Michael Buesch <>
Subject: Re: [RFC] dynamic syscalls revisited
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/6/241

Quoting Steven Rostedt <rostedt@goodmis.org>:
> Done!
> 
> Updated on 
http://home.stny.rr.com/rostedt/dynamic
 as well as included
> in this email for ease.  
> 
> Now, I guess you can still get around this if the "Bad Vendor" were to
> write a GPL module with their added system calls, and have that module
> include hooks to their binary module.  So, until we can fix that, I
> guess Linus won't allow for this module to be included in the main line.
> 
> -- Steve
[SNIP]
> Index: arch/i386/kernel/entry.S
> ===================================================================
> --- arch/i386/kernel/entry.S (revision 15)
> +++ arch/i386/kernel/entry.S (working copy)
> @@ -906,5 +906,10 @@
>   .long sys_vperfctr_unlink
>   .long sys_vperfctr_iresume
>   .long sys_vperfctr_read
> +#ifdef CONFIG_DSYSCALL
> + .long sys_dsyscall  /* 295 */
> +#else
> + .long sys_ni_syscall  /* 295 */
> +#endif
Wouldn't it be better to do a
cond_syscall(sys_dsyscall)
in kernel/sys_ni.c
-- 
Regards Michael Buesch  [ 
http://www.tuxsoft.de.vu
 ]
[unhandled content-type:application/pgp-signature]