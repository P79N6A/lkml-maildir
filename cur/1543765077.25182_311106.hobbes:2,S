Date: Tue, 12 Apr 2005 15:40:09 +0100
From: "Stephen C. Tweedie" <>
Subject: Re: Problem in log_do_checkpoint()?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/12/221

Hi,
On Mon, 2005-04-11 at 12:36, Jan Kara wrote:
> > The prevention of multiple writes in this case should also improve
> > performance a little.
> > 
> > That ought to be pretty straightforward, I think.  The existing cases
> > where we remove buffers from a checkpoint shouldn't have to care about
> > which list_head we're removing from; those cases already handle buffers
> > in both states.  It's only when doing the flush/wait that we have to
> > distinguish the two.
>   Yes, AFAICS the changes should remain local to the checkpointing code
> (plus __unlink_buffer()). Should I write the patch or will you?
Feel free, but please let me know if you start.  I'm doing a bit of
chasing of leaks and dealing with that O_SYNC thing for 2.4 right now,
but I'll get back to the checkpoint code after that if you haven't
started by then.
Cheers,
 Stephen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/