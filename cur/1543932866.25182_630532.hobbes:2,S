Date: Thu, 20 Dec 2007 08:48:19 -0800
From: Greg KH <>
Subject: Re: [Fwd: Re: [PATCH 1/5]PCI: x86 MMCONFIG: introduce PCI_USING_MMCONF]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/20/350

On Thu, Dec 20, 2007 at 09:19:00AM -0500, Tony Camuso wrote:
> Tony Camuso wrote:
>
>> Greg KH wrote:
>>> On Wed, Dec 19, 2007 at 05:17:51PM -0500, tcamuso@redhat.com wrote:
>>>>  +extern struct pci_ops pci_legacy_ops;     /* direct.c */
>>>
>>> This isn't needed in this patch at all, and might make the compiler
>>> confused if you were to build with only this patch present :(
>>>
>>> thanks,
>>>
>>> greg k-h
>> Yes, of course. I missed that. Thank you.
> I take that back.
>
> This struct must be declared extern because it is referenced in
> arch/x86/pci/common.c by pcibios_fix_bus_scan_quirk()
Sure, but you do not reference it in this patch, right?  So it's not
needed until you actually use it, so just include it in the patch that
you are needing it in.
thanks,
greg k-h