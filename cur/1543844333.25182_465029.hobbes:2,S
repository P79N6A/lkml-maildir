Date: Wed, 20 Sep 2006 20:21:19 -0500
From: "Felipe Contreras" <>
Subject: [PATCH] Fix ACPI processor warnings
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/20/380

This patch fixes the following warning:
WARNING: drivers/acpi/processor.o - Section mismatch: reference to
.init.data: from .text between 'acpi_processor_power_init' (at offset
0xeba) and 'acpi_safe_halt'
Someone that knows better should check it.
-- 
Felipe Contreras
diff -ur linux-2.6.18-org/drivers/acpi/processor_core.c linux-2.6.18-new/drivers/acpi/processor_core.c
--- linux-2.6.18-org/drivers/acpi/processor_core.c	2006-09-20 20:00:40.000000000 -0500
+++ linux-2.6.18-new/drivers/acpi/processor_core.c	2006-09-20 20:05:10.000000000 -0500
@@ -519,7 +519,7 @@
 
 static void *processor_device_array[NR_CPUS];
 
-static int acpi_processor_start(struct acpi_device *device)
+static __init int acpi_processor_start(struct acpi_device *device)
 {
 	int result = 0;
 	acpi_status status = AE_OK;
diff -ur linux-2.6.18-org/drivers/acpi/processor_idle.c linux-2.6.18-new/drivers/acpi/processor_idle.c
--- linux-2.6.18-org/drivers/acpi/processor_idle.c	2006-09-20 20:00:40.000000000 -0500
+++ linux-2.6.18-new/drivers/acpi/processor_idle.c	2006-09-20 20:01:13.000000000 -0500
@@ -1077,7 +1077,7 @@
 	.release = single_release,
 };
 
-int acpi_processor_power_init(struct acpi_processor *pr,
+int __init acpi_processor_power_init(struct acpi_processor *pr,
 			      struct acpi_device *device)
 {
 	acpi_status status = 0;