Date: Tue, 25 May 1999 10:50:11 +0200
From: BROWN Nick <>
Subject: RE: IDE weirdnes?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/28/19

	>I have two identical 10G disks, first connected as primary-master,
the
	>other as secondary-master. They are detected differently by the
kernel
	>(the first is recognized as 1024/255/63, giving ~8 MBytes, the
other is
	>19650/16/63 - 9671 MBytes).
	>Why this behaviour? Is it the bios?
It's a well-known problem whereby the first two disks (primary master and
slave, usually, but not always) have more information stored about them,
than the others.  Specifically, the geometry of the first two disks is
obtained from the BIOS, hence the smaller number of cylinders.  This is most
spectacular when the disk is bigger than 8.4 GB, because the BIOS numbers
can't handle anything that big, but it would show up with smaller disks too.
It's in the pipeline for a rewrite of the whole IDE detection code, but
there are lots of backward-compatibility issues.
Meanwhile, you can boot with "hda=19650,16,63" to get the correct geometry
for the first disk - or, if you partitioned the second disk with DOS, you
might need "hdc=1024/255/63" to get fdisk and lilo to run properly on it.
Nick Brown, Strasbourg, France (Nick(dot)Brown(at)coe(dot)int)
__________________________________________________________
email address updates : @coe.int replaces  @coe.fr
for more information, 
http://dct.coe.int/info/emfci001.htm
__________________________________________________________
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/