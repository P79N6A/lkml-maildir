Date: Tue, 8 Aug 2000 13:27:00 +0200
From: Matthias Andree <>
Subject: Fujitsu MPE3136AT broken between 2.2.16 and .17pre13? (was: Fujutsu Hard Drives, joins Linux party.)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/8/38

On Tue, 08 Aug 2000, Andreas Haumer wrote:
> As we just ordered a few more P5A boards (due to arrive by
> the end of the week), and we still have those MPE3136AT 
> drives, we can run some more tests in the next 2 or 3 weeks 
> or so.
I'm currently having some troubles with that very drive (FwRev=ED-82-25)
on a Transcend board (at least that's what it calls itself). Using
/sbin/hdparm -q -u 0 -q -d 1 -q -X 65 /dev/hda was fine for some time,
but recently stopped working not that I'm using 2.2.17pre13 with IDE
patches (I was using 2.2.16+IDE before).
Calling that hdparm command locks the box so hard it cannot log any
more. At that stage of boot, SysRq is not yet enabled, so for me, RESET
is the way out.
If I can help, let me know, but note that I have access to this box only
until Aug 24.
Note the SerialNo has been made up.
### made-up hdparm -i:
 Model=FUJITSU MPE3136AT, FwRev=ED-82-25, SerialNo=0500****
 Config={ HardSect NotMFM HdSw>15uSec Fixed DTR>10Mbs }
 RawCHS=16383/16/63, TrkSize=0, SectSize=0, ECCbytes=4
 BuffType=0(?), BuffSize=2048kB, MaxMultSect=16, MultSect=off
 DblWordIO=no, OldPIO=2, DMA=yes, OldDMA=0
 CurCHS=16383/16/63, CurSects=16514064, LBA=yes, LBAsects=26688576
 tDMA={min:120,rec:120}, DMA modes: mword0 mword1 mword2 
 IORDY=yes, tPIO={min:120,w/IORDY:120}, PIO modes: mode3 mode4 
 UDMA modes: mode0 mode1 *mode2 mode3 mode4 
 Drive Supports : ATA-1 ATA-2 ATA-3 ATA-4 
### excerpt from lspci:
00:00.0 Host bridge: VIA Technologies, Inc. VT82C691 [Apollo PRO] (rev 06)
00:01.0 PCI bridge: VIA Technologies, Inc. VT82C598 [Apollo MVP3 AGP]
00:07.0 ISA bridge: VIA Technologies, Inc. VT82C596 ISA [Apollo PRO] (rev 07)
00:07.1 IDE interface: VIA Technologies, Inc. VT82C586 IDE [Apollo] (rev 06)
00:07.2 USB Controller: VIA Technologies, Inc. VT82C586B USB (rev 02)
00:07.3 Host bridge: VIA Technologies, Inc.: Unknown device 3050
### excerpt from dmesg:
Uniform Multi-Platform E-IDE driver Revision: 6.30
ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
VP_IDE: IDE controller on PCI bus 00 dev 39
VP_IDE: chipset revision 6
VP_IDE: not 100% native mode: will probe irqs later
VT 82C691 Apollo Pro
 Chipset Core ATA-66
Split FIFO Configuration:  8 Primary buffers, threshold = 1/2
                           8 Second. buffers, threshold = 1/2
    ide0: BM-DMA at 0xe000-0xe007, BIOS settings: hda:DMA, hdb:pio
ide0: VIA Bus-Master (U)DMA Timing Config Success
    ide1: BM-DMA at 0xe008-0xe00f, BIOS settings: hdc:pio, hdd:DMA
ide1: VIA Bus-Master (U)DMA Timing Config Success
hda: FUJITSU MPE3136AT, ATA DISK drive
hdd: MIDA 40XB, ATAPI CDROM drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
ide1 at 0x170-0x177,0x376 on irq 15
hda: FUJITSU MPE3136AT, 13031MB w/2048kB Cache, CHS=1661/255/63, UDMA(33)
hdd: ATAPI 40X CD-ROM drive, 120kB Cache, UDMA(33)
-- 
Matthias Andree
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/