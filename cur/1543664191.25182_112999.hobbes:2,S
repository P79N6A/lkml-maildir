Date: 26 Feb 2003 11:09:57 -0800
From: Rusty Lynch <>
Subject: [2.5.63 PATCH][TRIVIAL]Change rtc.c ioport extend from 10h to 8h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/26/194

The real time clock only needs 8 bytes, but rtc.c is reserving 10h bytes.
This conflicts with zt55XX cpci compute blades that use one of those
extra bytes (port 79h) to control a watchdog timer.
I raised this issue before on LKML and everyone seemed to be ok with changing
the extent of rtc.c to 0x8:
http://marc.theaimsgroup.com/?l=linux-kernel&m=104478057030481&w=2
I have been running the following patch on three of my Linux servers for 
the last couple of weeks with no problems, and two of those server were 
testing the watchdog timer that uses port 79h.
Please apply this patch.
    --rustyl
--- drivers/char/rtc.c.orig	2003-02-26 11:00:50.000000000 -0800
+++ drivers/char/rtc.c	2003-02-26 11:00:43.000000000 -0800
@@ -47,7 +47,7 @@
 
 #define RTC_VERSION		"1.11"
 
-#define RTC_IO_EXTENT	0x10	/* Only really two ports, but...	*/
+#define RTC_IO_EXTENT	0x8
 
 /*
  *	Note that *all* calls to CMOS_READ and CMOS_WRITE are done with
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/