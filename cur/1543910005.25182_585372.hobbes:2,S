Date: Thu, 16 Aug 2007 20:36:53 +0200
From: Michael Gerdau <>
Subject: Re: 2.6.22.2-cfs-v19.1 stops honouring nice 3 after some hours
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/16/255

> > I'm on 2.6.22.2-cfs-v19.1 -- I can't boot into 2.6.23-rc3 as part of
> > my daily work because my NVIDIA driver doesn't yet work with it though
> > I could try to do some X-less testing if need be.
> 
> Please do try, a lot has changed since v19.1.
> 
> FWIW the nv driver lets one do most desktop-ish things without problems,
> or so I've been told - just no 3d.
Damien Wyart was kind enough to point me to a patch that solved the compile
problem of the nv driver and I now have a ready-to-boot-into 2.6.23-rc3
lying around.
However due to other time constraints this will have to wait until tomorrow.
Anyway, observing the currently running CPU bound jobs and comparing their
progress (as documented by their logfiles) with the CPU % one of the jobs
receives (as documented by top -d 60) it seems as if this is not so much
a scheduling problem but an accounting issue.
FWIW the jobs doing basically the same work are more or less head to head
after 12+ hours of computation while according to top one of them is
reported to receive roughly twice the CPU of the other.
I will retry with 2.6.23-rc3 tomorrow and over the weekend to see whether
the problem persists.
Best wishes,
Michael
-- 
 Vote against SPAM - see 
http://www.politik-digital.de/spam/
 !tagline
 Michael Gerdau       email: mgerdau@tiscali.de
 GPG-keys available on request or at public keyserver
[unhandled content-type:application/pgp-signature]