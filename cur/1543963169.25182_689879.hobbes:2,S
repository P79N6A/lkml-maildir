Date: Wed, 7 May 2008 14:03:57 -0700
From: Andrew Morton <>
Subject: Re: [Linux-fbdev-devel] [PATCH 1/9] viafb: VIA Frame Buffer Device Driver - Resend
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/7/294

On Wed, 7 May 2008 18:43:33 +0200
Krzysztof Helt <krzysztof.h1@poczta.fm> wrote:
> A general comment is that you use to many global variables.
yes, that was my first impression.  The _names_ of those variables is a
real problem.  lcd_mode, DeviceStatus, second_size, primary_dev, etc.  The
driver is attempting to reserve all those names for itself, kernel-wide.
So at a minimum, going through and prepending viafb_ onto all those would
be needed.
There are a number of layout glitches in there.  Such as a strange combination of
two styles:
void foo(void)
{
versus
void foo(void ) {
Many of these things can be pinpointed by processing the diff with
scripts/checkpatch.pl.
Administrative note: all nine patches had the same title "viafb: VIA Frame
Buffer Device Driver".  Please choose unique and meaningful names for each
patch, such as "viafb: add utility header file".
Apart from those fairly easily-fixed things, the driver looks pretty good
from a quick scan, given how large it is, and given that it probably has
been around for quite a long time..