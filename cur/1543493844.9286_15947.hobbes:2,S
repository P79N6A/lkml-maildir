Date: Sun, 25 Apr 1999 23:13:16 -0700
From: David Miller <>
Subject: Re: bad lmbench numbers for mmap
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/26/6

   Date: 	Mon, 26 Apr 1999 14:38:32 +1200
   From: Chris Wedgwood <cw@ix.net.nz>
   > IIRC, Larry caught Solaris cheating and not actually mapping the
   > pages at all until the first access.
   Surely in many cases this is a smart thing to do? Has anyone
   actually profiled code to see if its better one way or the other?
   Lazy setup doesn't seem an entirely stupid idea to me...
The right place to put this technology is in the linker.  Most of the
cases where something is mmap'd and never touched are when you
dynamically link in a library which you make no references to.
Currently when you specify a library on the command line, GNU/ld is
going to put it in your DT_NEEDED section regardless of whether you
make a references to something inside of it or not.
Outside of these cases, I can't think of any reason why trying to
avoid creating the full vm_area_struct is worthwhile.
Later,
David S. Miller
davem@redhat.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/