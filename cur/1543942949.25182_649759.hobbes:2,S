Date: Thu, 07 Feb 2008 19:37:24 +0300
From: Pavel Emelyanov <>
Subject: Re: [PATCH][USBATM]: convert heavy init dances to kthread API
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/7/272

Alan Stern wrote:
> On Thu, 7 Feb 2008, Pavel Emelyanov wrote:
> 
>>> Does the kthread API guarantee that the kthread is not running until you call
>> It does. That's why the race, you mentioned above is impossible.
> 
> That is wrong.  The API guarantees only that the kthread is initially 
> created in a non-running state.  It cannot guarantee that no other 
> task will wake up the kthread before the caller does.
Other tasks cannot wake this thread up since they do not
know the struct task_struct pointer.
> Alan Stern
> 
> 