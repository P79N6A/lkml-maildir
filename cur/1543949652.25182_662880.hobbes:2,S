Date: Mon, 03 Mar 2008 14:02:03 -0800 (PST)
From: David Miller <>
Subject: Re: sparc vs. gcc 4.3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/3/518

From: Harvey Harrison <harvey.harrison@gmail.com>
Date: Mon, 03 Mar 2008 13:41:11 -0800
> Could you hide the asm inside an actual function and annotate the
> function with __used?
Won't work, the asm needs to be inlined because it needs to:
1) Know where local variables are located
2) Has to run in the context of the stack frame the
   call site runs in so that the tail-call it's doing works
And actually all of this is why the sparc64 fix turned out to
be so invasive, and I'll need to do the same for sparc32
as a result.