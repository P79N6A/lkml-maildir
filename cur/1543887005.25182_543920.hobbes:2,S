Date: Sun, 13 May 2007 12:28:48 -0400
From: Dave Jones <>
Subject: Re: why does x86 "make defconfig" build a single, lonely module?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/13/89

On Sun, May 13, 2007 at 11:10:55AM -0500, James Bottomley wrote:
 > > diff --git a/drivers/scsi/Kconfig b/drivers/scsi/Kconfig
 > > index e62d23f..0f6c370 100644
 > > --- a/drivers/scsi/Kconfig
 > > +++ b/drivers/scsi/Kconfig
 > > @@ -244,7 +244,7 @@ config SCSI_SCAN_ASYNC
 > >  config SCSI_WAIT_SCAN
 > >  	tristate
 > >  	default m
 > > -	depends on SCSI
 > > +	depends on SCSI_SCAN_ASYNC
 > 
 > No.  SCSI_SCAN_ASYNC is a bool ... if you depend on it, you'll force the
 > wait scan to be built in, which isn't the idea at all.
hmm?
with my change...
$ make defconfig
$ grep SCSI_SCAN_ASYNC .config
# CONFIG_SCSI_SCAN_ASYNC is not set
$ grep SCSI_WAIT_SCAN .config
<edit .config to remove the CONFIG_SCSI_SCAN_ASYNC line>
$ make oldconfig
<answer 'y' for CONFIG_SCSI_SCAN_ASYNC>
$ grep SCSI_SCAN_ASYNC .config
CONFIG_SCSI_SCAN_ASYNC=y
$ grep SCSI_WAIT_SCAN .config
CONFIG_SCSI_WAIT_SCAN=m
	Dave
-- 
http://www.codemonkey.org.uk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/