Date: Fri, 10 Nov 2006 01:18:37 -0800
From: "Yinghai Lu" <>
Subject: Re: [Fastboot] Kexec with latest kernel fail
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/10/52

Andi,
On 11/9/06, yhlu <yinghailu@gmail.com> wrote:
> the /proc/iomem doesn't show RAM above 1M.
>
> I have increased linuxbios table at high 0xf0000-0xf0400 to
> 0xf0000-0x100000. the RAM above 1M show up.
>
Can you explain more about the patch?
I wonder what we suppose to do about [640K, 1M).
In LinuxBIOS we only set [0xa0000, 0xc0000) and [0xf0000, 0xf0400) to reserved,
[0xc0000, 0xf0000) and [0xf0400, 4G) as ram..
with your patch, the 1M above range will not show up on /proc/iomem
YH
[PATCH] Don't force reserve the 640k-1MB range
From i386 x86-64 inherited code to force reserve the 640k-1MB area.
That was needed on some old systems.
But we generally trust the e820 map to be correct on 64bit systems
and mark all areas that are not memory correctly.
This patch will allow to use the real memory in there.
Or rather the only way to find out if it's still needed is to
try. So far I'm optimistic.
http://www.kernel.org/git/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commitdiff;h=dbf9272e863bf4b17ee8e3c66c26682b2061d40d
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/