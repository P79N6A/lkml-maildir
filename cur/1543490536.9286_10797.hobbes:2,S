Date: Sun, 21 Mar 1999 13:41:13 -0700 (MST)
From: James Rich <>
Subject: Severe file system corruption with 2.2.3 and SCSI
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/21/86

Folks,
	I have experienced 2 crashes close together on 2.2.3 SMP.  I am 
using SCSI and IDE disks.  On reboot fsck reports that the filesystems on 
the SCSI disk are corrupt.  Running fsck results in an unrecoverable 
error.  I have lost my /usr and /home partitions twice in a row.  fsck 
reports:
Error reading block xxxxxx (Read-only filesystem) while doing inode scan. 
Ignore error<y>?
I choose y (I have no choice - n doesn't fix anything).  Then fsck tells me:
Error reading block xxxxxx (Read-only filesystem) while reading inode and 
block bitmaps. Ignore error<y>?
Again I choose y.  Then fsck floods the screen with numbers strung 
together in a mess.  After this fsck reports:
Error writing block xxxxxx (Read-only filesystem) while writing bitmaps. 
Ignore error<y>?
Again I choose y. Then:
Error writing block xxxxxx (Read-only filesystem). Ignore error<y>?
I choose y.  Finally:
Error reading block xxxxxx (Read-only filesystem) while reading indirect 
blocks if inode xxx. Ignore error<y>?
I again choose y.  Now my filesystem is gone and placed in lost+found.  
When the system crashed the second time I did an emergency sync with the 
SysRq key.  Still resulted in severe corruption.  These errors are only 
happening on my SCSI disk.  It is a Quantum Atlas.  I have checked 
termination and cabling.  I hope it is something as simple as bad 
termination, but this started happening with 2.2.3 so I think it is a 
kernel issue.  I have backpedaled to 2.2.1 and mounted /usr as read-only 
for now.  I think the SCSI code or the inode stuff is getting severely 
messed up somehow.  This may sound sadistic but I hope others are having 
similar problems so it can be worked out.  I am tired of rebuilding 
everything.
Let me know what I can do.  I am still looking through the logs for 
anything pertinent.
James Rich
james@dansfoods.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/