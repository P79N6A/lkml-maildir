Date: Wed, 16 Apr 2003 08:28:47 +0200
From: Kasper Dupont <>
Subject: [RFC] Port 0x80 writes considered harmful
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/16/17

I have had quite some problems with the parallel port on a
computer of the model "F@MILY net" (details available on
request). While Linux was running there would constantly be
changing output lines on the parallel port.
The problem was observed with different kernel versions and
even a 2.4.19 kernel stripped so much down that it could
merely boot and panic because of missing root filesystem
drivers.
I found that if I from a userspace program using ioperm and
outb blocked interrupts the output would stop. I busylooped
for a few seconds using the TSC, and then reenabled interrupts
while interrupts was disabled there was no activity on the
parallel port.
Then I inserted port 0x80 writes in the loop, and at that
point there would be parallel port output during the entire
execution of the loop.
What would be the best solution to my problem?
-- 
Kasper Dupont -- der bruger for meget tid p√• usenet.
For sending spam use mailto:aaarep@daimi.au.dk
for(_=52;_;(_%5)||(_/=5),(_%5)&&(_-=2))putchar(_);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/