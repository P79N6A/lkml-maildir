Date: Fri, 18 Apr 2003 07:25:47 -0400
From: Chuck Ebbert <>
Subject: [PATCH][2.4] Move common_irq() code to a better place
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/18/46

 This patch moves the common_irq() code to after the first 16
interrupt handler stubs, allowing the first 29 or so stubs to pack
better into cache lines. (I sent it to l-k already but didn't label it
as a patch.)
--- linux-2.4.20aa1/arch/i386/kernel/i8259.c    Tue Sep 18 02:03:09 2001
+++ linux-2.4.20irq/arch/i386/kernel/i8259.c    Thu Apr 17 22:22:12 2003
@ -35,8 +35,6 @
  * interrupt-controller happy.
  */
 
-BUILD_COMMON_IRQ()
-
 #define BI(x,y) \
        BUILD_IRQ(x##y)
 
@ -52,6 +50,8 @
  */
 BUILD_16_IRQS(0x0)
 
+BUILD_COMMON_IRQ()
+
 #ifdef CONFIG_X86_IO_APIC
 /*
  * The IO-APIC gives us many more interrupt sources. Most of these 
------
 Chuck
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/