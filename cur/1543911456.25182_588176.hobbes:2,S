Date: Fri, 24 Aug 2007 16:20:41 +0200
From: "Kay Sievers" <>
Subject: Re: isapnp & module autoload (udev?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/24/162

On 8/24/07, Meelis Roos <mroos@linux.ee> wrote:
> > What's in the module? What does:
> >   /sbin/modinfo <kernel module name> | grep alias
> > print?
>
> filename:       /lib/modules/2.6.23-rc3/kernel/sound/isa/sb/snd-sb16.ko
> description:    Sound Blaster 16
...
> alias:          pnp:cCTL0070dCTL0001*
> alias:          pnp:cCTL0051dCTL0001*
...
> > And what does the hardware say? What does:
> >   grep . /sys/bus/pnp/devices/*/id
> > print?
...
> /sys/bus/pnp/devices/01:01.00/id:CTL0001
...
> CTL0001 seems to be present in both but it occurs with CTL0070 or
> CTL0051.
Right, that will not match. You could add:
  alias pnp:dCTL0001 snd-sb16
to:
  /etc/modprobe.d/pnp
or some other file in that directory.
We may switch to acpi based module autoloading in the future and add
"acpi:*" aliases to the modules intsead of the broken pnp alias hack.
Just to check if that would work, can you please provide the output
of:
  grep . /sys/bus/acpi/devices/*/modalias
Thanks,
Kay
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/