Date: Fri, 1 Feb 2002 16:23:09 -0800
From: Greg KH <>
Subject: Re: [linux-usb-devel] Re: [PATCH] driverfs support for USB - take 2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/1/257

On Wed, Jan 30, 2002 at 12:24:13PM -0800, David Brownell wrote:
> "> " == "Patrick Mochel" <mochel@osdl.org>
> 
> > You have a PCI device that is the USB controller. You create a child of 
> > that represents the USB bus. Then, devices are added as children of that.
> > 
> > Logically, couldn't you skip that extra layer of indirection and make USB 
> > devices children of the USB controller? Or, do you see benefit in the 
> > explicit distinction?
> 
> Since I don't see a benefit from that extra indirection, I was going to ask
> almost that same question ... :)
But that device _is_ a USB device, it's a root hub.  It has bandwidth
allocation, strings, a configuration, and other stuff.  It operates a
bit differently from other hubs, but it's pretty close to the real
thing.
> But it's broader than that:  Why shouldn't that apply to _every_ kind
> of bridge, not just USB controllers ("PCI-to-USB bridges")?
> 
> For example, with PCI why should there ever be "pci0" directories,
> with children "00:??.?" and "pci1"?
It's information that is useful to the user.  If presented with a tree
that doesn't have the pci? and usb directories, it just looks like a
random tree of different numbers.  If we did that, we would really need
a lsdevice program just to determine what the different devices are
easily :)
I want to be able to easily see where the pci root buses, usb root
buses, ieee1394 root buses, etc. are in the system, by just looking at
the tree.
I'll play around more with the naming scheme next week and post the
results.
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/