Date: Thu, 27 May 2004 21:57:01 +0200
From: Carsten Aulbert <>
Subject: ACPI S3 fails to re-init NIC on Asus A7V
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/27/184

Hi all,
Please consider the following problem:
Home Server (daisy):
Asus A7V board
Duron 650 MHz
Debian sarge (not 100% up2date right now - from March 22nd)
SiS900 (also tried 3Com 3c509-TX-M without a change)
Kernels tried:
2.4.22 (IIRC), 2.6.4, 2.6.4 with acpi-patch 20040311, 2.6.6
Suspending to S3 works fine, resume also (except with the 
onboard-Promise chip, but that's not a big issue), however, trying to 
use the network after resume gives
NETDEV WATCHDOG: eth0: transmit timed out
This also did not help:
/etc/init.d/networking stop
modprobe -r sis900
echo 3 > /proc/acpi/sleep
[resume]
modprobe sis900
-> module is loaded successfully
/etc/init.d/networking start
-> sets the static routes correctly
pinging a machine on the network yields the same error as before.
(Also tried 3Com 3c509-TXM to no avail)
To spare you about ~1000 lines of output, I've put the output of dmesg, 
lspci -v, acpidmp and an excerpt from /var/log/syslog with enabled 
sis900-debugging here
http://carsten.welcomes-you.com/misc-tmp/acpi-s3/
Does this problem ring any bell, do you need more input from my side? 
I'm currently running out of options and ideas.
TIA for any help
Carsten
PS: I'm not subscribed but monitor linux.kernel, but feel free to Cc me.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/