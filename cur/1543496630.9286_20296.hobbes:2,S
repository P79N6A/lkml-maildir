Date: 23 May 1999 19:06:38 -0400
From: "Stefan Monnier" <monnier+lists/linux/kernel/news/@tequila.cs.yale.edu>
Subject: Re: 2.3.x wish list?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/25/10

>>>>> "Paul" == Paul M Hirsch <pauldoom@webcreate.net> writes:
> Solaris and Irix (XFS) offer block sizes from 4KB to 8KB, and from 512B
Solaris' UFS (a derivative of BSD-4.3 ffs) doesn't treat its blocks in the same
way as ext2 since it has fragments.  This reduces considerably the space cost
of 4KB blocks (at a complexity cost of course).  IIRC, ext2's block allocation
policy is sufficiently better than ffs that the it doesn't need as big a block
size as ffs to reach the same performance, making fragments unnecessary.
My MH mailbox would look like:
 70MB with 1KB-blocks
 77MB with 2KB-blocks
 96MB with 4KB-blocks
Since MH mailboxes are about as bad a case as it gets (apart possibly
from big symlink-farms), it seems that 2KB is a safe default while 4KB
incur a non-negligible space cost.
I don't know whether Irix's XFS has fragments (I believe it doesn't), but it
does have "file in the inode" (not just for symlinks but also for files and
directories) which might also reduce the need for small blocks.
I also seem to remember that the recommended block size for "normal use"
(non-multimedia, non-HPC) is below 4KB (which is another indication that it
probably doesn't support fragments).
	Stefan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/