Date: Thu, 19 May 2005 22:06:09 -0500
From: "K.R. Foley" <>
Subject: Re: What breaks aic7xxx in post 2.6.12-rc2 ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/19/223

James Bottomley wrote:
> On Thu, 2005-05-19 at 20:54 -0500, K.R. Foley wrote:
> 
>>the dt setting is 0. can't set it to 1, at least not so that you can see
>>it stay that way. tried setting period to 12.5, stays at 25. min_period
>>is set to 12.5 but doesn't seem to matter. what's next :)
> 
> 
> Well, I think it's my fault.  I naively assumed the aic7xxx core setting
> code would do the right thing with coupled parameters, which, as I read
> through it, apparently it doesn't do.
> 
> My excuse is that I can't test any of this because my fastest aic7xxx
> card is only a U2 ...
> 
> Could you try this, I think it does the correct thing with the coupled
> parameters.
> 
> Thanks,
> 
> James
> 
James,
Looks like a winner this time. If there is something else I can test,
just let me know.
May 19 21:46:43 porky kernel: scsi0 : Adaptec AIC7XXX EISA/VLB/PCI SCSI
HBA DRIVER, Rev 6.2.36
May 19 21:46:43 porky kernel:         <Adaptec aic7899 Ultra160 SCSI
adapter>
May 19 21:46:43 porky kernel:         aic7899: Ultra160 Wide Channel A,
SCSI Id=7, 32/253 SCBs
May 19 21:46:43 porky kernel:
May 19 21:46:43 porky kernel:   Vendor: QUANTUM   Model:
ATLAS10K2-TY092L  Rev: DA40
May 19 21:46:43 porky kernel:   Type:   Direct-Access
   ANSI SCSI revision: 03
May 19 21:46:43 porky kernel: scsi0:A:0:0: Tagged Queuing enabled.  Depth 32
May 19 21:46:43 porky kernel:  target0:0:0: Beginning Domain Validation
May 19 21:46:43 porky kernel: WIDTH IS 1
May 19 21:46:43 porky kernel: (scsi0:A:0): 6.600MB/s transfers (16bit)
May 19 21:46:43 porky kernel: (scsi0:A:0): 160.000MB/s transfers
(80.000MHz DT, offset 127, 16bit)
May 19 21:46:43 porky kernel:  target0:0:0: Ending Domain Validation
May 19 21:46:43 porky kernel: scsi1 : Adaptec AIC7XXX EISA/VLB/PCI SCSI
HBA DRIVER, Rev 6.2.36
May 19 21:46:43 porky kernel:         <Adaptec aic7899 Ultra160 SCSI
adapter>
May 19 21:46:43 porky kernel:         aic7899: Ultra160 Wide Channel B,
SCSI Id=7, 32/253 SCBs
May 19 21:46:43 porky kernel:
May 19 21:46:43 porky kernel:   Vendor: SEAGATE   Model: SX118273LC
   Rev: 6679
May 19 21:46:43 porky kernel:   Type:   Direct-Access
   ANSI SCSI revision: 02
May 19 21:46:43 porky kernel: scsi1:A:0:0: Tagged Queuing enabled.  Depth 32
May 19 21:46:43 porky kernel:  target1:0:0: Beginning Domain Validation
May 19 21:46:43 porky kernel:  target1:0:0: Domain Validation skipping
write tests
May 19 21:46:44 porky kernel: (scsi1:A:0): 20.000MB/s transfers
(20.000MHz, offset 15)
May 19 21:46:44 porky kernel:  target1:0:0: Ending Domain Validation
May 19 21:46:44 porky kernel: SCSI device sda: 17783239 512-byte hdwr
sectors (9105 MB)
May 19 21:46:44 porky kernel: SCSI device sda: drive cache: write back
May 19 21:46:44 porky kernel: SCSI device sda: 17783239 512-byte hdwr
sectors (9105 MB)
May 19 21:46:44 porky kernel: SCSI device sda: drive cache: write back
May 19 21:46:44 porky kernel:  sda: sda1 sda2 sda3
May 19 21:46:44 porky kernel: Attached scsi disk sda at scsi0, channel
0, id 0, lun 0
May 19 21:46:44 porky kernel: SCSI device sdb: 35566480 512-byte hdwr
sectors (18210 MB)
May 19 21:46:44 porky kernel: SCSI device sdb: drive cache: write through
May 19 21:46:44 porky kernel: SCSI device sdb: 35566480 512-byte hdwr
sectors (18210 MB)
May 19 21:46:44 porky kernel: SCSI device sdb: drive cache: write through
May 19 21:46:44 porky kernel:  sdb: sdb1
May 19 16:46:23 porky rc.sysinit: -e
May 19 21:46:44 porky kernel: Attached scsi disk sdb at scsi1, channel
0, id 0, lun 0
May 19 16:46:25 porky udevsend[1281]: starting udevd daemon
May 19 21:46:44 porky kernel: Attached scsi generic sg0 at scsi0,
channel 0, id 0, lun 0,  type 0
May 19 16:46:25 porky scsi.agent[1293]: disk at
/devices/pci0000:00/0000:00:1e.0/0000:04:05.0/host0/target0:0:0/0:0:0:0
May 19 21:46:44 porky kernel: Attached scsi generic sg1 at scsi1,
channel 0, id 0, lun 0,  type 0
May 19 16:46:25 porky scsi.agent[1318]: disk at
/devices/pci0000:00/0000:00:1e.0/0000:04:05.1/host1/target1:0:0/1:0:0:0
-- 
   kr
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/