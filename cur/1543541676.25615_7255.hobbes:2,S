Date: Sun, 13 Aug 2000 21:13:08 -0600
From: "Jeff V. Merkey" <>
Subject: Re: NTFS-like streams?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/13/211

Just remember, the real advantage NTFS in Windows 2000 garners from
these things is you can have an attribute with the same name attached to
each file.  i.e.  each file could have and ARCHIVE_DATA attribute
accessed as
filename:ARCHIVE_DATA so a program can findnext all the files in a
directory and look for a specific piece of data it may have previously
associated with a file, so the naming system needs to be able to handle
instances of the same name across many files.
If there's code that will barf on lots of name collisions in the same
dir (which there is all over the place) we could run into some
problems...
:-)
Jeff
Alexander Viro wrote:
> 
> On Sat, 12 Aug 2000, Linus Torvalds wrote:
> 
> > The best we can do is to have _sane_ semantics for supporting such
> > filesystems. Sane and usable. Things like "fd_open()" make sense even
> > without resource forks - it's kind of a private extension of the notion of
> > "current working directory", after all.
> 
> Good. How about the following implementation of your fd_open():
> 
>         mount(name, tmp, "ntfork", 0, NULL);
>         sprintf(tmpname, "%s/%s", tmp, field);
>         fd = open(tmpname, ......);
>         return fd;
> 
> Yep, requires umount(). But notice that this way we
>         * don't need any magic syscalls
>         * avoid all questions about out-of-file renaming, etc.
>         * don't have to do _any_ VFS changes - it's all there.
>         * let the userland decide (and explicitly tell us) what it wants.
> And yes, I mean making that case of mount() user-available.
> 
> Comments? I can implement that for HPFS (EAs) in a day or two. As the
> matter of fact, I would _really_ like to do that for _HFS_ - that would
> allow to drop tons of ugly code there.
>                                                 Cheers,
>                                                         Al
> 
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.rutgers.edu
> Please read the FAQ at 
http://www.tux.org/lkml/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/