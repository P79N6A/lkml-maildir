Date: Tue, 5 Aug 2003 14:07:53 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: [PATCH] Export touch_nmi_watchdog
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/5/251

On Tue, 5 Aug 2003, Arjan van de Ven wrote:
> On Tue, Aug 05, 2003 at 01:25:09PM -0700, Linus Torvalds wrote:
> > 
> >  - either fix the driver
> > or
> >  - disable the watchdog entirely.
> 
> In principle you are soooo right. Just that it sometimes is HARD to fix
> such long delays...
That's why I said "disable the watchdog".
The thing is, if you start doing things like this in drivers, then you 
just hide the problem to the point where users end up not even being 
_aware_ of the problem. 
Do you _really_ think most users will think of "Oh, let's grep for
'touch_nmi_watchdog' in that driver" when they have latency issues?
No. Obviously they won't. Instead, they'll scratch their head about
occasional bad packet routing latency, report it as a networking bug, and
just generally look in the wrong place. And enabling lockup debugging will
do zero for them.
So this is a case of trying to paper over the symptoms. Which is perfectly 
ok in the sense that "we don't have the resources to fix it right now, so 
let's just give it two aspirins and ask it to call in the morning". That's 
fine.
But since the whole _point_ of watchdogging is to find places like this, 
when you paper over _these_ symptoms, you end up killing the whole idea.
Which is why I'd suggest making it a more conscious decision: just turn
off watchdog support. And if somebody needs watchdog support with a broken 
driver, maybe, just _maybe_, he'll find the energy to fix the frigging 
thing.
Otherwise this will just keep on expanding. 
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/