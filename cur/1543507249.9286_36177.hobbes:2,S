Date: Fri, 27 Aug 1999 22:32:50 +0100 (GMT)
From: Lawrence Manning <>
Subject: disk holdup with dd and fsync()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/27/121

To anyone who is interested,
Amazing work guys, I just love every ascpect of linux.  Sorry, just had to
say that.. You understand :-) First post to lkml and all... now my
question.
something like: dd if=/dev/zero of=test bs=1024 count=102400 will make a
100meg empty file. In 2.0.3x, this slows the machine down alot, but it is
still usable in every way.  In 2.2.x, during the dd the disk is "blocked"
and cant be accessed by other processes at all.  I realise this is fairly
mute, since creating 100meg files just to anoy other users on the machine
isn't likely.. Im just wondered why there is a difference between 2.2 and
2.0.  I've tried this both on IDE and scsi (via a PCI advansys, if it
means anything).
I get simular things from pine, when it closes.  straceing shows that
while the drive is blocked, pine is calling fsync().
My kindest regards to all you great hackers!
Lawrence
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/