Date: Tue, 30 Aug 2005 07:59:49 -0400
From: "linux-os \(Dick Johnson\)" <>
Subject: Linux-2.6.13 __request_region buggered
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/30/86

Changes in "request_mem_region()"  ("__request_region()")
now seem to force PCI/Bus alignment upon the requested region.
It appears as though somebody thought this would only used
to reserve address-space on a PCI/Bus.
Linux-2.6.12.5 and all known previous versions back to
linux-2.4.26 worked fine.
This breaks several high-speed data-acquisition boards and
it isn't easy to fix. Since I allocate 16 megabytes of address-
space, aligned on a PAGE boundary, I would have to allocate
4096 blocks of PAGE_SIZE and keep track of them for module
unload.
This is an egregious mistake. One can't make such arbitrary
rules when interfacing to an operating system. The only reason
for the alignment issues on a PCI/Bus was to save the cost
of decode. Since, at least the ix86, can access a single
bit anywhere in memory, one should not create such constraints
out of thin air.
Maybe this is just a coding error and not a deliberate
constraint? Please fix.
Cheers,
Dick Johnson
Penguin : Linux version 2.6.13 on an i686 machine (5589.55 BogoMips).
Warning : 98.36% of all statistics are fiction.
.
I apologize for the following. I tried to kill it with the above dot :
****************************************************************
The information transmitted in this message is confidential and may be privileged.  Any review, retransmission, dissemination, or other use of this information by persons or entities other than the intended recipient is prohibited.  If you are not the intended recipient, please notify Analogic Corporation immediately - by replying to this message or by sending an email to DeliveryErrors@analogic.com - and destroy all copies of this information, including any attachments, without reading or disclosing them.
Thank you.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/