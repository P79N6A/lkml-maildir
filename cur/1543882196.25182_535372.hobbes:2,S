Date: Thu, 26 Apr 2007 17:24:45 +0200
From: Andi Kleen <>
Subject: Re: 2.6.21-rc7-mm2 -- x86_64 VDSO compile error II
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/26/300

> --- build/arch/x86_64/vdso/vdso.lds-orig	2007-04-26 08:18:19.000000000 -0700
> +++ build/arch/x86_64/vdso/vdso.lds	2007-04-26 08:18:23.000000000 -0700
> @@ -33,7 +33,7 @@
>       For the layouts to match, we need to skip more than enough
>       space for the dynamic symbol table et al.  If this amount
>       is insufficient, ld -shared will barf.  Just increase it here.  */
> -  . = 0xffffffffff700000 + 0x500;
> +  . = 0xffffffffff700000 + 0x400;
Hmm, you must have an old version of the patch. in my copy it looks like
  . = VDSO_PRELINK + VDSO_TEXT_OFFSET;
and 
#define VDSO_TEXT_OFFSET 0x400
Can you try the latest patch from 
ftp://ftp.firstfloor.org/pub/ak/x86_64/quilt/patches/vdso
 
?
(doesn't include the -m64 change yet so you will still need to apply that)
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/