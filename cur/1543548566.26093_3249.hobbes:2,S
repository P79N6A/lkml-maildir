Date: Tue, 12 Sep 2000 17:04:00 -0500
From: Mike Castle <>
Subject: Re: 2.2.17 & VM: do_try_to_free_pages failed / eepro100
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/12/141

On Tue, Sep 12, 2000 at 09:41:13PM +0200, octave klaba wrote:
> Hello,
> On a high load server, kernel has some errors:
> 
> VM: do_try_to_free_pages failed for httpd...
> VM: do_try_to_free_pages failed for httpd...
> eth0: Too much work at interrupt, status=0x4050.
> eth0: Too much work at interrupt, status=0x4050.
> 
> is there somewhere the new version of driver for eepro100 
> to make a test ?
I don't think the eepro100 has antyhing to do with this problem.  I
observed it as well the other day, and wasn't doing much network.  I was
thinking it might have something to do with IDE stuff (oh, this was on
2.2.17+RAID).
The following is what I saw:
hdd: timeout waiting for DMA
hdd: irq timeout: status=0xd0 { Busy }
ide1: reset: success
VM: do_try_to_free_pages failed for nmbd...
VM: do_try_to_free_pages failed for nmbd...
VM: do_try_to_free_pages failed for nmbd...
VM: do_try_to_free_pages failed for nmbd...
VM: do_try_to_free_pages failed for nmbd...
VM: do_try_to_free_pages failed for nmbd...
VM: do_try_to_free_pages failed for nmbd...
VM: do_try_to_free_pages failed for nmbd...
VM: do_try_to_free_pages failed for init...
VM: do_try_to_free_pages failed for init...
VM: do_try_to_free_pages failed for init...
VM: do_try_to_free_pages failed for init...
VM: do_try_to_free_pages failed for init...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for klogd...
VM: do_try_to_free_pages failed for httpd...
VM: do_try_to_free_pages failed for httpd...
VM: do_try_to_free_pages failed for httpd...
VM: do_try_to_free_pages failed for httpd...
VM: do_try_to_free_pages failed for httpd...
VM: do_try_to_free_pages failed for httpd...
VM: do_try_to_free_pages failed for httpd...
VM: do_try_to_free_pages failed for httpd...
VM: do_try_to_free_pages failed for syslogd...
VM: do_try_to_free_pages failed for syslogd...
VM: do_try_to_free_pages failed for fetchnews...
VM: do_try_to_free_pages failed for fetchnews...
VM: do_try_to_free_pages failed for fetchnews...
VM: do_try_to_free_pages failed for fetchnews...
VM: do_try_to_free_pages failed for fetchnews...
VM: do_try_to_free_pages failed for fetchnews...
VM: do_try_to_free_pages failed for fetchnews...
VM: do_try_to_free_pages failed for syslogd...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for syslogd...
VM: do_try_to_free_pages failed for syslogd...
VM: do_try_to_free_pages failed for syslogd...
VM: do_try_to_free_pages failed for syslogd...
VM: do_try_to_free_pages failed for syslogd...
VM: do_try_to_free_pages failed for syslogd...
VM: do_try_to_free_pages failed for syslogd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for rpc.mountd...
VM: do_try_to_free_pages failed for ntpd...
VM: do_try_to_free_pages failed for init...
VM: do_try_to_free_pages failed for init...
VM: do_try_to_free_pages failed for init...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for cp...
VM: do_try_to_free_pages failed for rpc.nfsd...
hdd: timeout waiting for DMA
hdd: irq timeout: status=0xd0 { Busy }
ide1: reset: success
hdd: timeout waiting for DMA
hdd: irq timeout: status=0xd0 { Busy }
ide1: reset: success
hdb: timeout waiting for DMA
hdb: irq timeout: status=0x58 { DriveReady SeekComplete DataRequest }
hda: status timeout: status=0xd0 { Busy }
hda: drive not ready for command
ide0: reset: success
I was testing a harddrive by filling it up.  I was doing the following in 3
VCs:
dd if=/dev/zero of=/mnt/foo  (or bar, or baz, depending on window).
After the first timeout above, I renamed foo/bar/baz to 1/2/3, restarted
the dd's and then in a 4th console, did the following:
cp 1 4 &
cp 2 5 &
cp 3 6 &
Sometime after, I started seeing the above.   The machine wasn't doing much
of anything else except masquerading a telnet session or two, and running
leafnode's fetchnews program.
mrc
-- 
       Mike Castle       Life is like a clock:  You can work constantly
  dalgoda@ix.netcom.com  and be right all the time, or not work at all
www.netcom.com/~dalgoda/ and be right at least twice a day.  -- mrc
    We are all of us living in the shadow of Manhattan.  -- Watchmen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/