Date: Wed, 09 May 2007 20:17:50 -0400
From: Jeff Garzik <>
Subject: Re: [PATCH] Fix pata_qdi.c probe code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/9/523

Samuel Thibault wrote:
> Hi,
> 
> There is a small typo in the probe code of pata_qdi.c, here is a patch.
> 
> Samuel
> 
> 
> ------------------------------------------------------------------------
> 
> diff --git a/drivers/ata/pata_qdi.c b/drivers/ata/pata_qdi.c
> index 27685ce..fb8c9e1 100644
> --- a/drivers/ata/pata_qdi.c
> +++ b/drivers/ata/pata_qdi.c
> @@ -375,7 +375,7 @@ static __init int qdi_init(void)
>  				res = inb(port + 3);
>  				if (res & 1) {
>  					/* Single channel mode */
> -					if (qdi_init_one(port, 6580, ide_port[r & 0x01], ide_irq[r & 0x01], r & 0x04))
> +					if (qdi_init_one(port, 6580, ide_port[r & 0x01], ide_irq[r & 0x01], r & 0x04) == 0)
>  						ct++;
applied
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/