Date: Thu, 03 Jun 2004 14:11:52 -0700
From: Trond Myklebust <>
Subject: Re: [BUG] NFS no longer updates file modification times appropriately
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/3/224

PÃ¥ to , 03/06/2004 klokka 13:28, skreiv Joe Korty:
> Trond,
>  Paraphrased from one of my inhouse customers: "The timestamp of an
> NFS-mounted file does not change when written to, when the below test is
> run on a 2.6.6-rc1 to 2.6.7-rc2 kernel.  The timestamp is appropriately
> updated when the test is run on a 2.6.5 kernel.  This is with NFSv3.
> The type of system serving up the files does not seem to be a factor."
NFS is only guaranteed to flush the file to disk when you do the
close(). Your program will just result in a lot of cached writes right
up until the moment it exits...
...and no - we do not update timestamps on the client side when we cache
the write, 'cos NFS does not provide any device for ensuring that clocks
on client and server are synchronized.
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/