Date: Thu, 17 Aug 2006 00:16:46 +0200
From: Arnd Bergmann <>
Subject: Re: [PATCH 1/2]: powerpc/cell spidernet bottom half
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/16/318

Am Wednesday 16 August 2006 23:32 schrieb David Miller:
> Can spidernet be told these kinds of parameters?  "N packets or
> X usecs"?
It can not do exactly this but probably we can get close to it by
1.) Setting a one-time interrupt to fire x*10µs after putting a
   packet into the TX queue.
and
2.a) Enabling end of TX queue interrupts whenever more than y frames
     have been queued for TX.
or
2.b) Marking frame number y in the TX to fire an interrupt when it
     has been transmitted, and move the mark whenever we clean up
     TX descriptors.
or
2.c) Marking frame number y to generate an interrupt, but counting
     y from the end of the queue, and update the mark whenever we
     add frames to the queue tail.
I'm not sure which version of 2. would give us the best approximation.
	Arnd <><
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/