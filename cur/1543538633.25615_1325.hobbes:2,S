Date: Tue, 11 Jul 2000 13:59:36 +0200 (MEST)
From: Martin Teichmann <>
Subject: DEF_PRIORITY missing?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/11/48

Hello!
I got an error message compiling Kernel 2.4.0-test3. The compiler says:
gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -pipe   -march=i586 -fno-strict-aliasing   -c -o timer.o timer.c
timer.c: In function `update_process_times':
timer.c:580: structure has no member named `priority'
timer.c:580: `DEF_PRIORITY' undeclared (first use in this function)
timer.c:580: (Each undeclared identifier is reported only once
timer.c:580: for each function it appears in.)
(make was in the directory /usr/src/linux/kernel)
I patched the kernel with the reiserfs-patch, but this seems not to have
anything to do with this problems. I now changed the mentioned line in timer.c
from:
                if (p->priority < DEF_PRIORITY)
to:
		if (p->nice > 0)
as it was changed for all the architectures, but not for the kernel itself.
This worked.
But I got another Compiler Error: 
gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -pipe   -march=i586 -fno-strict-aliasing   -c -o md.o md.c
md.c: In function `md_thread':
md.c:2911: structure has no member named `priority'
md.c: In function `md_do_sync':
md.c:3339: structure has no member named `priority'
md.c:3415: structure has no member named `priority'
md.c:3425: structure has no member named `priority'
(make was in the directory /usr/src/linux/drivers/block)
What went wrong?
(By the way, the RAID Autodetect does not detect RAID-Partitions that are
logical partitions in an extended partition. Is this normal?)
Thanks
Martin
-- 
Martin Teichmann * teichman@cip.informatik.uni-wuerzburg.de
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/