Date: Mon, 29 Dec 2003 20:27:21 -0500 (EST)
From: Thomas Molina <>
Subject: Re: 2.6.0 performance problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/29/237

On Mon, 29 Dec 2003, Thomas Molina wrote:
> Under 2.4 top shows: 
> 
> user	nice	system	irq	softirq	iowait	idle
> 1.3	0	2.1	0	0	0	96.6
> 
> Execution time for the test was:
> real	13m33.482s
> user	0m33.540s
> sys	0m16.210s
A suggestion was made that readahead might make a difference.  Changing 
readahead under 2.4 from default of 8 to 255 the times went to:
real    13m50.198s
user    0m33.780s
sys     0m15.390s
> Under 2.6 top shows:
> user	nice	system	irq	softirq	iowait	idle
> 0.9	0	5.3	0.9	0.3	92.6	0
> 
> Execution time for the test was:
> real	22m42.397s
> user	0m37.753s
> sys	0m54.043s
Changing 2.6 to 8 from 255 changed times:
real    25m39.653s
user    0m37.594s
sys     0m55.454s
I'll try the suggestion of 8192 for 2.6 later.  hdparm won't let me set 
readahead more than 255 for 2.4.  I'm currently recompiling for profiling 
support.  I'm ashamed to say that wasn't configured in.
Linus, once I get that finished and do some testing I'll post results.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/