Date: Thu, 14 Jun 2007 23:31:25 +0100
From: Christoph Hellwig <>
Subject: Re: libertas (private) ioctls vs. nl80211
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/14/474

On Thu, Jun 14, 2007 at 06:22:35PM -0400, Dan Williams wrote:
> And that's what I did in the last pull you got from John; all pointless
> and duplicated ioctls were removed.  The only ones left are mesh
> tweakables, an LED GPIO control ioctl, and a regulatory region/domain
> thing.  I agree the interface is somewhat ugly (like the
> char-128/char-128 ones that return information from the mesh forwarding
> table), and I also agree that we need to move to using netlink for this
> sort of stuff in the future.  There are _no_ ioctls that duplicate WEXT
> functionality.
The problem is not any kind of duplication.  The problem is that the
interface is plain and simply bad.  If anyone else would come in with
an ioctl interface using pointer indirections and subfunctions which
is horribly complex and not 32on64 clean they would get beaten up.
So even if the interface is not going to be generic it needs to be
done properly and document.  And once it's documented you've actually
layed down the first building block have it generic.  If no other
driver actually implements the same kind of non-standardized mesh
interface it'll stay that way, if other pop up they can implement
the same interface and eventually we'll grow a generic layer helping
out with it.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/