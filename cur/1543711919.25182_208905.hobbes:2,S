Date: Wed, 24 Mar 2004 09:29:46 +0100
From: Jens Axboe <>
Subject: Re: [PATCH] catch error when completing bio pairs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/24/24

On Mon, Mar 22 2004, Mike Christie wrote:
> A couple of drivers can sometimes fail the first
> segments in a bio then requeue the rest of the request. In this
> situation, if the last part of the bio completes successfully
> bio_pair_end_* will miss that the beginging of the bio had
> failed becuase they just return one when bi_size is not yet
> zero. The attached patch moves the error value test before
> the bi_size to catch the above case.
Yup that's a bug, patch is correct.
-- 
Jens Axboe
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/