Date: Tue, 8 Mar 2005 16:59:04 -0600
From: Jake Moilanen <>
Subject: [PATCH 0/2] No-exec support for ppc64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/8/282

These patches add no execute support to PPC64.  They prohibit executing
code on the stack, or most any non-text segment for both user space, and
kernel.
No execute is supported on Power4 processors and up.  These processors
support pages that have a no-execute permission bit.  
The patches include a base fixup from Anton Blanchard.  This includes a
fix for the wrong bit being used for no-exec and for read/write on the
hardware PTEs.
For distros that compile w/ pt_gnu_stacks, they depend on Ben
Herrenschmidt's vDSO patches for signal trampoline.  Without it, the
application will hang on the first signal due to the return code being
put on the signal context stack to return to the kernel on the
completion of the signal handler.  The changes should be in the latest
BK tree.
The patch is broken into two parts:
1/2: PPC64 no-exec support for user space:  This will prohibit user
space apps from executing in segments not marked as executable.  The
base support is in here as well.
2/2: PPC64 no-exec support for kernel space:  This prohibits the kernel
from executing non-text code.
Thanks,
Jake
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/