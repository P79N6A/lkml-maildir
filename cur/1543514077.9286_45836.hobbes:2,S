Date: Mon, 25 Oct 1999 17:02:02 -0400
From: Jeff Garzik <>
Subject: Re: /proc/pci unknown devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/25/132

Dan Hollis wrote:
> 
> Off list.
> 
> On Mon, 25 Oct 1999, Jeff Garzik wrote:
> > Dan Hollis wrote:
> > > Any reason why it was rejected? I dont think "legacy compatibility" is
> > > good enough considering we have /proc/bus/pci and pciutils now.
> > I dunno.  I use 'cat /proc/pci' quite often.  pciutils always seems to
> > lag behind the 2.3.x kernel info, at least for now.
> 
> Youre kidding right? I just checked 2.3.x and theres only 8k of entries.
> An old pciutils had over 35kbyte. That isnt even the latest one.
I didn't say "more", I said "lag behind".
And it makes a lot of sense for the kernel to have less PCI info; it
only needs info for the devices linked into the kernel.  Info for
hotswap devices and other devices can be obtained from userspace.
> > > > I believe Martin is working on a script to convert his pci.ids into a
> > > > form that the kernel code understands..
> > > Oh, yuck. 35kbyte of static text tables in the kernel. And it will just
> > > grow and grow...
> > > Someone please tell me this isnt the case.
> > That isn't the case.  :)
> > The tables are marked with __initdata.
> 
> I dont get it. The tables are dumped after bootup, so /proc/pci wont be
> able to show verbose info anyway then?
No, the info for devices present on the system is copied before the
tables are dropped.
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/