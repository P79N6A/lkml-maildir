Date: Mon, 29 Jan 2001 05:01:09 +0100
From: Dieter Nützel <>
Subject: Re: Linux-2.4.1-pre11 / ll_rw_b watermark metric?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/28/156

Am Montag, 29. Januar 2001 04:46 schrieb Jens Axboe:
> On Mon, Jan 29 2001, Dieter Nützel wrote:
> > I have pre11 running with Andrea's suggested fix.
> >
> >         high_queued_sectors = total_ram / 3;
> >         low_queued_sectors = high_queued_sectors / 2;
> >         if (low_queued_sectors < 0)
> >                 low_queued_sectors = total_ram / 2;
> >
> >         /*
> >          * for big RAM machines (>= 384MB), use more for I/O
> >          */
> >         /*
> >         if (total_ram >= MB(384)) {
> >                 high_queued_sectors = (total_ram * 4) / 5;
> >                 low_queued_sectors = high_queued_sectors - MB(128);
> >         }
> >         */
> >
> > Shouldn't it be clean for a 2.4.1 release?
>
> With enough swap the numbers I saw were not conclusive. I promised
> to test which I haven't gotten done yet, I will do this tomorrow
> and make sure we have the right ratios. However, I don't think
> the pre11 numbers are much off - do you have any results?
I have 256 MB RAM and 200 MB swap but nothing of the later was used during 
"dbench 48". It was nothing spectacular but a litte bit faster with the above.
Attention: Results only from memory...;-)
Good night.
	Dieter
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/