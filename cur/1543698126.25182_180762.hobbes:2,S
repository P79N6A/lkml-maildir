Date: Sun, 30 Nov 2003 17:58:53 +0100
From: Bartlomiej Zolnierkiewicz <>
Subject: Re: Silicon Image 3112A SATA trouble
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/30/76

On Sunday 30 of November 2003 17:51, Jens Axboe wrote:
> On Sun, Nov 30 2003, Jeff Garzik wrote:
> > Jens Axboe wrote:
> > >On Sun, Nov 30 2003, Bartlomiej Zolnierkiewicz wrote:
> > >>Hmm. actually I was under influence that we have generic ioctls in
> > >> 2.6.x, but I can find only BLKSECTGET, BLKSECTSET was somehow lost. 
> > >> Jens?
> > >
> > >Probably because it's very dangerous to expose, echo something too big
> > >and watch your data disappear.
> >
> > IMO, agreed.
> >
> > Max KB per request really should be set by the driver, as it's a
> > hardware-specific thing that (as we see :)) is often errata-dependent.
Yep.
> Yes, it would be better to have a per-drive (or hwif) extra limiting
> factor if it is needed. For this case it really isn't, so probably not
> the best idea :)
>
> > Tangent:  My non-pessimistic fix will involve submitting a single sector
> > DMA r/w taskfile manually, then proceeding with the remaining sectors in
> > another r/w taskfile.  This doubles the interrupts on the affected
> > chipset/drive combos, but still allows large requests.  I'm not terribly
>
> Or split the request 50/50.
We can't - hardware will lock up.
--bart
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/