Date: Mon, 28 Oct 2002 19:18:58 +0100
From: Sam Ravnborg <>
Subject: Re: Linux 2.5.44-ac5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/28/186

On Mon, Oct 28, 2002 at 09:52:58AM -0500, Alan Cox wrote:
> o	Work around makefile breakages for pcmcia scsi	(me)
> 	| Will whoever broke vpath please fix it properly
Being "partner in crime" I would like to give it a try.
Could you give an advice what is the best approach?
What I have thought of so far:
1) Create a small qlogic_fas_stub.c in the pcmia subdirectory that
includes the qlogic_fas.c source in the scsi directory.
2) Do some magic in the makefile so I have a .o file present in
the pcmia sub-directory, build based on the src in the scsi directory.
I never did any of the above because of the following reasons:
a) I have not seen 1) used before, and generally does not like
   including .c files in .c files.
b) Solution 2) looked too ugly to me.
The only difference between the PCMIA version and the normal one is
small details with respect to interrupts.
I wonder if that could be configured during startup of the driver, hereby
selecting between normal or PCMIA version.
But i have never written a Linux driver so my knowledge in this area is
too low to judge.
	Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/