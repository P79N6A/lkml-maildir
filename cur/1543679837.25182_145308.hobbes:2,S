Date: Fri, 04 Jul 2003 11:43:38 +0200
From: "lode leroy" <>
Subject: [PATCH] 2.5.70 - display bootserver in /proc/net/pnp (net/ipv4/ipconfig.c)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/4/51

Hello,
I would like to submit a trivial enhancement to display
the ip address of the bootserver in /proc/net/pnp
This aids me in developing a diskless linux root image
to know where it comes from...
please kindly apply this to the current linux 2.7.x tree
-- lode
# diff -u net/ipv4/ipconfig.{orig,c}
--- net/ipv4/ipconfig.orig      2003-05-27 03:00:21.000000000 +0200
+++ net/ipv4/ipconfig.c 2003-07-04 11:17:30.000000000 +0200
@@ -1115,6 +1115,9 @@
                                       "nameserver %u.%u.%u.%u\n",
                                       NIPQUAD(ic_nameservers[i]));
        }
+       len += sprintf(buffer + len,
+                      "bootserver %u.%u.%u.%u\n",
+                      NIPQUAD(ic_servaddr));
        if (offset > len)
                offset = len;
_________________________________________________________________
Receive your Hotmail & Messenger messages on your mobile phone with MSN 
Mobile 
http://www.msn.be/gsm/smsservices
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/