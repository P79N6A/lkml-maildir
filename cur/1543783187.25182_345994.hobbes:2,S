Date: Wed, 31 Aug 2005 21:34:16 +0200 (CEST)
From: Roman Zippel <>
Subject: Re: [Linux-fbdev-devel] [PATCH 1/1 2.6.13] framebuffer: bit_putcs() optimization for 8x* fonts
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/31/214

Hi,
On Wed, 31 Aug 2005, Knut Petersen wrote:
> I added the multiply back because gcc (v. 3.3.4) does generate the fastest
> code
> if I write it this way.
The multiply is not generally faster, so your version may be the fastest, 
but in other situations it will be a lot slower. My version is generally 
fast.
> The special case for s_pitch == 2 saves about 270 ms system time (2120 ->
> 1850ms)
> with a 16x30 font.
Compared to what? How much is the function call overhead?
> ItÂ´s as fast/slow as your previous version, the measurements are almost
> identical.
The generated code is a bit smaller, so it mostly depends on the icache to 
see a difference.
bye, Roman