Date: Mon, 10 Mar 2008 00:23:51 -0800
From: Daniel Phillips <>
Subject: Re: [ANNOUNCE] Ramback: faster than a speeding bullet
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/10/34

On Monday 10 March 2008 00:51, Grzegorz Kulewski wrote:
> > If UPS power runs out while ramback still holds unflushed dirty data
> > then things get ugly.  Hopefully a fsck -f will be able to pull
> > something useful out of the mess.  (This is where you might want to be
> > running Ext3.)  The name of the game is to install sufficient UPS power
> > to get your dirty ramdisk data onto stable storage this time, every
> > time.
> 
> Are you using barriers or ordered disk writes with physical sync in the 
> right moments or something like that? I think this is needed to allow any 
> journaling filesystem to do it's job right.
Usual block device semantics are preserved so long as UPS power does
not run out before emergency writeback completes.  It is not possible
to order writes to the backing store and still deliver ramdisk level
write latency to the application.
After the emergency writeback completes, ramback is supposed to
behave just like a physical disk (with respect to writes - reads will
still have ramdisk level latency).  No special support is provided
for barriers.  It is not clear that anything special is needed.
Daniel