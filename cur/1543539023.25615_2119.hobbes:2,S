Date: Sat, 15 Jul 2000 19:57:13 +0400 (MSK DST)
From:  kuznet@ms2 ...
Subject: Re: sk->dead
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/15/42

Hello!
> My understanding is that the "sk->dead" field is doing
> nothing besides ensuring that the callback functions
> don't get called .. 
No, it means that user closed this socket and
it is scheduled to die, when protocol will allow.
Callback functions are called not depending on this flag.
(Though such checks are really present, they are mostly meaningless.)
Callback functions verify conditions, when they are allowed
to do something themselves, by means known to them. Particularly,
default callback implementaions in 2.2 really rely on sk->dead.
> setting       sk->dead = 1 
You should not change this flag. It can be changed only by close routine.
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/