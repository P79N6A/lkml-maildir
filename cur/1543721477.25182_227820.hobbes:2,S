Date: Wed, 16 Jun 2004 22:58:34 +0100
From: Christoph Hellwig <>
Subject: Re: PATCH: Further aacraid work
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/16/242

On Wed, Jun 16, 2004 at 05:48:25PM -0400, Alan Cox wrote:
> On Wed, Jun 16, 2004 at 10:42:57PM +0100, Christoph Hellwig wrote:
> > > Its something I hope to get rid of eventually. In the meantime the GART
> > > define is needed to make it work on AMD64.
> > 
> > Well, the code is completely wrong.  It must not only go away for AMD64 but
> > for all arches.
> 
> The hardware and firmware require knowledge of the host memory layout. They
> also use it. Right now I can't find a portable way to extract this information.
> If you've got any suggestions I'd like to hear them.
> 
> Its even worse than it seems too because an IOMMU as in the AMD case changes
> the rules in ways the board simply doesn't expect.
Yikes.  This looked like they usual use 32bit dma descriptors if not
enough memory hacks to me.  If aacraid is that royally fucked we should
probably add CONFIG_X86 to it.
Never underestimate the braindamage that can happen at Adaptec..
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/