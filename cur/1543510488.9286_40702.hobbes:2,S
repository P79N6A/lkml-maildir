Date: Fri, 24 Sep 1999 12:58:38 -0400 (EDT)
From: Richard Guy Briggs <>
Subject: Re: Headerless packets hitting ethernet?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/24/95

-----BEGIN PGP SIGNED MESSAGE-----
> Hello!
> 
> > We (FreeS/WAN) have noticed bogus skb->mac.raw pointers which seem to
> > co-inside with missing ethernet headers.
> 
> The statement sounds interesting, taking into account that skb->mac
> is never even initialized on output packets.
This explains much.  Most of the problems we saw were on packets
originating from the machine, rather than ones that had come in off an
ethernet before being sent on to another ethernet after mangling.
Why isn't it set when the hard_header is formed
or updated?
> BTW you could easily discover this fact looking at source.
Yes, assuming you have the time to root through the right pieces of
source...  It is not always obvious who called you in the kernel since
there are a number of function pointers floating around...
> Alexey
	slainte mhath, RGB
- -- 
Richard Guy Briggs -- PGP key available                Auto-Free Ottawa! Canada
<
http://www.conscoop.ottawa.on.ca/rgb/>
                   </www.flora.org/afo/>
Prevent Internet Wiretapping!       --      FreeS/WAN:<www.xs4all.nl/~freeswan>
Thanks for voting Green! -- <green.ca>          Marillion:<www.marillion.co.uk>
-----BEGIN PGP SIGNATURE-----
Version: 2.6.3i
Charset: noconv
iQCVAwUBN+utud+sBuIhFagtAQEaHAP8CBCiMNKc+RxlGlRAZwtKmLoo0pQxQMq8
WEgna2PeIawtt1hGZVJe9DeiN5e7WJEbvNBqjeEUV3MHy1CGjpaRfE1a1rb7gE2a
11PaFydMDWzUQpIG4fvYLuNGk/n8Fue4jkawDJLk658jVLn3T89qgrasGEMfHdLC
JQ8znhGthFE=
=zOLi
-----END PGP SIGNATURE-----
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/