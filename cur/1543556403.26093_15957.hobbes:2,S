Date: 03 Dec 2000 18:29:49 +0000
From: Adam Sampson <>
Subject: Re: corruption on my ext2fs with 2.4.0-test10
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/12/3/44

Mircea Damian writes:
> ... file-utils like ls, rm say:
> root@invasion:/usr/src/perl-5.6.0/t# ls -sail
> /bin/ls: big: Value too large for defined data type
> total 8
> 1097360    4 drwx------   2 504      1001         4096 Dec  3 13:43 ./
> 1354979    4 drwxr-xr-x   3 504      1001         4096 Dec  3 13:43 ../
The file's got holes in it (regions of zeros), so it doesn't occupy as
much space on disk as it claims to. The reason your normal tools can't
deal with it is that your C library has been built without LFS
support, so stat will fail on files larger than 2 gig.
You can remove it by just calling unlink.
int main(int argc, char **argv) {
	unlink("mybigfile");
}
-- 
Adam Sampson
azz@gnu.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/