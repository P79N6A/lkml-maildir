Date: Sat, 15 Mar 2008 16:40:22 -0400
From: "Mike Snitzer" <>
Subject: Re: [ANNOUNCE] Ramback: faster than a speeding bullet
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/15/85

On Sat, Mar 15, 2008 at 4:26 PM, Pavel Machek <pavel@ucw.cz> wrote:
> On Thu 2008-03-13 12:03:03, Daniel Phillips wrote:
>  > On Thursday 13 March 2008 12:50, David Newall wrote:
>  > > Daniel Phillips wrote:
>  > > > The period where you cannot access the data is downtime.  If your script
>  > > > just does a cp from a disk array to the ram device you cannot just read
>  > > > from the backing store in that period because you will need to fail over
>  > > > to the ramdisk at some point, and you cannot just read from the ramdisk
>  > > > because it is not populated yet.
>  > >
>  > > Wouldn't a raid-1 set comprising disk + ramdisk do that with no downtime?
>  >
>  > In raid1, write completion has to wait for write completion on all
>  > mirror members, so writes run at disk speed.  Reads run at ramdisk
>  > speed, so your proposal sounds useful, but ramback aims for high
>  > write performance as well.
>
>  raid1 + kflushd tweak?
>
>  special raid1 mode that signals completion when it hits _one_ of the
>  drives, and does sync when the slower drive is idle?
raid1 already supports marking member(s) as write-mostly.  Any
write-mostly member can also make use of write-behind mode (provided
you have a write intent bitmap).