Date: Mon, 5 Feb 2001 17:08:30 -0800 (PST)
From: "David S. Miller" <>
Subject: Re: [Kiobuf-io-devel] RFC: Kernel mechanism: Compound event wait
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/5/157

Linus Torvalds writes:
 > But talk to Davem and ank about why they wanted vectors.
SKB setup and free needs to be as light as possible.
Using vectors leads to code like:
skb_data_free(...)
{
...
	for (i = 0; i < MAX_SKB_FRAGS; i++)
		put_page(skb_shinfo(skb)->frags[i].page);
}
Currently, the ZC patches have a fixed frag vector size
(MAX_SKB_FRAGS).  But a part of me wants this to be
made dynamic (to handle HIPPI etc. properly) whereas
another part of me doesn't want to do it that way because
it would increase the complexity of paged SKB handling
and add yet another member to the SKB structure.
Later,
David S. Miller
davem@redhat.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/