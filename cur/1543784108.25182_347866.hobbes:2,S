Date: Wed, 7 Sep 2005 04:00:16 +0000 (UTC)
From: Aric Cyr <>
Subject: Re: 2.6.13 (was 2.6.11.11) and rsync oops (SATA or NFS related?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/7/2

Kalin KOZHUHAROV <kalin <at> thinrope.net> writes:
> 
> A closer examination of the drive:
> 	(Model=ST3300831AS, FwRev=3.03, SerialNo=3NF07KA1 )
> and why is it so slow revealed that it was running not in UDMA.
>
> Got one total oops, even no logs were written to disk.
> Seems that rsync-ing huge amounts of data (200 GB in *many* small files)
streses the system too much.
It seems that you are using the IDE-SATA driver... perhaps you should try the
SCSI-SATA (i.e. libata)?  The IDE one is deprecated and should no longer be
used.  Disable SATA from in the IDE menu and enable the SCSI libata driver for
your chipset (in the scsi kernel menu).
Also the reason you don't get higher UDMA modes is because your drive is a
blacklisted seagate.  There are known problems with some of those drives, and so
they are downgraded to slower modes (this was mentioned in your kernel log if
you look closely).  If you upgrade the BIOS on your harddrive, you _might_ be
able to remove the drive from the blacklist in the kernel to improve
performance... this may be dangerous however, so don't complain if you lose your
data.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/