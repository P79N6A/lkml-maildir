Date: Fri, 25 Dec 1998 00:43:34 -0500
From: "Marty Leisner" <>
Subject: How do I -save-temps when compiling a kernel file?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/25/3

There doesn't seem to be a good way to do this...
I've told the gcc developers -save-temps should override -pipe...
(and even made a patch for this).
In arch/.../Makefile, I did:
: leisner@dw;rcsdiff -u Makefile
===================================================================
RCS file: Makefile,v
retrieving revision 1.1
diff -u -r1.1 Makefile
--- Makefile    1998/12/25 02:23:41     1.1
+++ Makefile    1998/12/25 02:24:18
@@ -59,7 +59,8 @@
 LINKFLAGS =-qmagic -Ttext 0xfffe0
 endif
 
-CFLAGS := $(CFLAGS) -pipe
+PIPE   := -pipe
+CFLAGS := $(CFLAGS) $(PIPE)
 
 ifdef CONFIG_M386
 CFLAGS := $(CFLAGS) -m386 -DCPU=386
(so I could do:
	make PIPE=-save-temps modules
This is the most painless way to accomplish this (unless I missed something).
Marty Leisner
leisner@rochester.rr.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/