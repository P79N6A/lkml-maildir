Date: Sat, 23 Jan 1999 06:47:22 -0500
From: "David D.W. Downey" <>
Subject: Re: VFAT bug?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/23/58

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Antonio M. Trindade at <trindade@student.dei.uc.pt> on Fri, 22 Jan
1999 
at 17:11:06 said...
>   I think the VFAT fs is slightly broken.
>
I agree.
>   Why do I think it's broken? Simple: I dual-boot Win98 and Linux,
and
>whenever I access a directory in my Windows partition from Linux, and
then
>run NDD on it, it complains about invalid dates. It's not a serious
bug,
>only annoying.
>
Yeah it does it to mine too. Even when I upgraded Norton to the latest
version, it still does it. But I do have a fix even though it's a lot
of effort.
Basically what I did was as follows. Win98 uses the newest FAT32
called FAT32B, which _is_ different than Win95 OSR2's. That is just
FAT32. Win98 is happy to live on either FAT32 type. So, I installed
Partition Magic 4.0, then changed the Win98 partition type from FAT32B
to FAT16 and IMMEDIATELY back to FAT32. (If you reboot while the drive
type is still FAT16 and the drive is over the FAT16 limit you will
lose the drive. Trust me it aint pretty.) Now, when you convert from
the FAT32 to FAT16 and yer drive is over the FAT16 max size PM will
give you an error I think it was 1260 which is not in the help files
so don't look for it. It will say it needs to go back into windows. Do
that without doing a cold reboot and go right in and run PM again and
change the partition type to FAT32. It will go through no problems
now. All that is happening is that the partition index table is being
converted from the newer     FAT32B to the older FAT32 tables which
Linux has no problems reading. I alos found out that as long as the
drive is not over the FAT16 limit you can use linux's FDISK to change
the drive type to Win95 FAT32. Linux FDISK wil report it as FAT32+ (if
I remember right) but when you change the partition type to "Win 95
FAT32" it works no problems as well. AS LONG AS the drive is UNDER the
FAT16 max size even though it's FAT32. (Don't know why unless the
linux fdisk is using FAT16 as an intermediate holding ground while
converting the tables.)
So there are your two possibilities to fix the prob till the kernel is
updated with new lexicons to handle the FAT32B correctly.
-----BEGIN PGP SIGNATURE-----
Version: PGPfreeware 5.5.3i for non-commercial use <
http://www.pgpi.com
>
iQA/AwUBNqmzQ31oPthwuh4KEQIs3wCg3pinLZ0/oAKK1/vPOucpdJHPzxYAn3JH
z/mjArAlMj9Dekr+XuQiamzN
=1++A
-----END PGP SIGNATURE-----
David D.W. Downey A.K.A PGPKeys
Designer/member Freespace Developers List
Web Site - 
http://www.descent-freespace.com
Listserv - fdl@warpcore.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/