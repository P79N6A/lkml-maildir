Date: Thu, 2 Feb 2006 16:52:57 -0800
From: Andrew Morton <>
Subject: Re: [patch -mm4] i386 cpu hotplug: don't access freed memory
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/2/429

Chuck Ebbert <76306.1226@compuserve.com> wrote:
>
> @@ -160,10 +162,17 @@ static void __cpuinit get_cpu_vendor(str
>  				c->x86_vendor = i;
>  				if (!early)
>  					this_cpu = cpu_devs[i];
> -				break;
> +				return;
>  			}
>  		}
>  	}
> +	if (!printed) {
> +		printed++;
> +		printk(KERN_ERR "CPU: Vendor unknown, using generic init.\n");
> +		printk(KERN_ERR "CPU: Your system may be unstable.\n");
> +	}
> +	c->x86_vendor = X86_VENDOR_UNKNOWN;
> +	this_cpu = &default_cpu;
Well that's a worry.  Under what circumstances (if any) will this final bit
of code get executed?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/