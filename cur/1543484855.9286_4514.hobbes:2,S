Date: Sun, 7 Feb 1999 22:01:01 +0100
From: Martin Mares <>
Subject: Re: UMC UM8886BF IDE DMA not usable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/7/86

Hello,
> > > The /proc/pci entry for the IDE chipset is the following:
> > >   Bus  0, device  18, function  1:
> > >     IDE interface: UMC UM8886BF (rev 16).
> > >       Fast devsel.  Master Capable.  No bursts.
> > >       Non-prefetchable 32 bit memory at 0x1f0 [0x1f0].
> > >       Non-prefetchable unknown memory at 0x3f0 [0x3f6].
> > >       Non-prefetchable 32 bit memory at 0x170 [0x170].
> > >       Non-prefetchable unknown memory at 0x370 [0x376].
> > 
> > There is no address space for DMA-Busmaster.
> 
> Therefore it is a problem in the Linux PCI support,
> since this case should never happen nowadays.
> 
> I have copied Martin (PCI guy) on this, so he can have a look.
   In this case, it's surely a hardware problem -- look at the /proc/pci
entry above to see that the device is claiming these are _memory_
regions, not I/O regions (!!), so I completely understand that the
kernel didn't assign any I/O addresses to it. :-|
   Probably the only thing we can do is to add an exception to the
PCI probing code to circumvent this bug. I'll look at it tomorrow.
				Have a nice fortnight
-- 
Martin `MJ' Mares   <mj@ucw.cz>   
http://atrey.karlin.mff.cuni.cz/~mj/
Faculty of Math and Physics, Charles University, Prague, Czech Rep., Earth
"Is there a life before death?"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/