Date: Mon, 5 Apr 2004 08:59:51 +1000
From: CaT <>
Subject: 2.6.5: kernel crash on large disk writes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/4/94

Had to leave the house quickly today so this is not as complete as I
would like. The situation is as follows: I have a k6-500 on an ali1541
(from memory) ide chipset. All channels filled with 3 hds and 1 cdrom.
2 hds on the asme port at ata66, one at ata33 and the cdrom at whatever
it's on. ;) The system boots up normally and light use is just fine. 
When I backup my laptop to it though I can repeatedly bring the system
down. The end result is an oops on the screen in soft_irq_timer that
came from cpu_idle. (I had no time to write it down). The following,
just before the oops was logged:
Apr  5 01:14:35 nessie kernel: Assertion failure in journal_add_journal_head() a
t fs/jbd/journal.c:1679: "(((&bh->b_count)->counter) > 0) || (bh->b_page && bh->
b_page->mapping)"
Apr  5 01:14:35 nessie kernel: ------------[ cut here ]------------
Apr  5 01:14:35 nessie kernel: kernel BUG at fs/jbd/journal.c:1679!
The backup was an rsync over the net.
There have been other problems with the system. It liked my promise
card in it even less (old driver variety) but nothing ever did get
logged.
If you need mroe info, please yell and I'll try to answer from memory
and I'll try to give oops details when I get home (please specify what
details you're most interested in so that I don't have to type it all
in if possible :).
Thanks.
-- 
    Red herrings strewn hither and yon.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/