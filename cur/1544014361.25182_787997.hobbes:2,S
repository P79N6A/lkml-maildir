Date: Tue, 6 Jan 2009 23:49:17 -0500 (EST)
From: Steven Rostedt <>
Subject: [PATCH] powerpc: enable dynamic ftrace
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/6/630

The PowerPC changes are now in mainline, you can now enable
dynamic ftrace on PowerPC.
The following patch is in:
  git://git.kernel.org/pub/scm/linux/kernel/git/rostedt/linux-2.6-trace.git
    branch: ppc/ftrace-enable
Steven Rostedt (1):
      powerpc: enable dynamic ftrace
----
 arch/powerpc/Kconfig |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)
---------------------------
commit 6a3c90c30ff47ca69e6315ca8968470a628585f5
Author: Steven Rostedt <srostedt@redhat.com>
Date:   Thu Nov 20 07:55:57 2008 -0800
    powerpc: enable dynamic ftrace
    
    Impact: let PowerPC compile with dynamic ftrace
    
    This patch enables dynamic ftrace. The PowerPC port was dependent on
    other code not yet in mainline. Now that the code is, we can now
    let PowerPC compile with dynamic ftrace.
    
    Signed-off-by: Steven Rostedt <srostedt@redhat.com>
diff --git a/arch/powerpc/Kconfig b/arch/powerpc/Kconfig
index 79f25ce..6d4ae3f 100644
--- a/arch/powerpc/Kconfig
+++ b/arch/powerpc/Kconfig
@@ -108,6 +108,8 @@ config ARCH_NO_VIRT_TO_BUS
 config PPC
 	bool
 	default y
+	select HAVE_FTRACE_MCOUNT_RECORD
+	select HAVE_DYNAMIC_FTRACE
 	select HAVE_FUNCTION_TRACER
 	select ARCH_WANT_OPTIONAL_GPIOLIB
 	select HAVE_IDE