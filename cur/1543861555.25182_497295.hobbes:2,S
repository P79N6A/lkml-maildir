Date: Mon, 8 Jan 2007 01:44:32 -0800
From: "Robin H. Johnson" <>
Subject: Intel Core Duo/Duo2 T2300/E6400 - Hyper-Threading (the absence of)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/1/8/56

(Please CC me, I am not subscribed to LKML [I have set the
Mail-Followup-To header accordingly]).
On two of my new machines, with Intel Core Duo T2300 and Core2 Duo E6400
chips respectively, I noticed some weirdness in how many CPUs are
present. 
If the hyper-threading bit is present in the CPU info, should there
always be a an extra CPU presented to the system per physical core?
Both the Core1 and Core2 chips I have the ht bit set, but present only
their two physical cores to the system. No access to the hyper-threading
capabilities at all. I also see no configuration options in the BIOS to
enable or disable hyper-threading. That is, /proc/cpuinfo and all
topology data only shows 2 CPUs present, and that they are not the HT
pair.
(CONFIG_NR_CPUS=8 is set).
(This was originally triggered by somebody else's code that read the CPU
flags, saw hyper-threading, and decided there were 2x cpus for each
physical core. Said code has already been taken out back and shot
repeatedly).
-- 
Robin Hugh Johnson
Gentoo Linux Developer
E-Mail     : robbat2@gentoo.org
GnuPG FP   : 11AC BA4F 4778 E3F6 E4ED  F38E B27B 944E 3488 4E85
[unhandled content-type:application/pgp-signature]