Date: Thu, 15 Dec 2005 15:43:05 +0800
From: "Antonino A. Daplas" <>
Subject: Re: Console Goes Blank When Booting 2.6.15-rc5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/15/436

Kurt Wall wrote:
> On Wednesday 14 December 2005 01:37 am, Antonino A. Daplas wrote:
>> Kurt Wall wrote:
>>> As Jesper Juhl has reported, if I boot 2.6.15-rc5 with vga=normal,
>>> everything is fine. If I boot using my preferred size (vga=794),
>>> the console goes blank. Because I'm a touch typist, I can login and
>>> start X and everything is copacetic, but as soon as I leave X, I'm
>>> back to the blank screen. From X, if I flip over to a VC, the VC
>>> display is garbled and has artifacts from the X display.
>>>
>>> This worked fine with 2.6.14.3, and I didn't change the console,
>>> framebuffer, or vesa options between the two kernels. Not sure how
>>> to proceed, but I sure would like my high res console screens back.
>> Can you recheck your .config and make sure that
>> CONFIG_FRAMEBUFFER_CONSOLE=y
> 
> Oops. It was defined as a module. Compiling it statically gave me
> the console back. Interestingly, I still lose the first 102 lines
> of console output. After the all-important boot logo displays, I see
> nothing until this line:
Yes, that should be expected behavior with vesafb.  The adapter was
set very early during the boot process, when machine is still in
real mode, vgacon will never load, and you will only see any semblance
of display until the framebuffer console is loaded.  You should
see different behavior with chipset-specific drivers, ie, you will
have vgacon momentarily until fbcon takes over.
Tony
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/