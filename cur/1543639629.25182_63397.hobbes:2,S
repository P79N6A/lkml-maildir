Date: 12 Aug 2002 14:18:27 +0200
From: Luca Barbieri <>
Subject: Re: [patch] tls-2.5.31-C3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/12/98

> Comments?
Numbers:
unconditional copy of 2 tls descs: 5 cycles
this patch with 1 tls desc: 26 cycles
this patch with 8 tls descs: 52 cycles
lldt: 51 cycles
lgdt: 50 cycles
context switch: 2000 cycles (measured with pipe read/write and vmstat so
it's not very accurate)
So this patch causes a 1% context switch performance drop for
multithreaded applications.
Note: the benchmark doesn't include the initial test for non-zero
nr_tls_bytes and doesn't include setting the LDT descriptor
[unhandled content-type:application/pgp-signature]