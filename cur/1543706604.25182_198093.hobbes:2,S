Date: Thu, 12 Feb 2004 02:48:24 -0800
From: William Lee Irwin III <>
Subject: Re: Updated dynamic pty patch available
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/12/48

On Wed, Feb 11, 2004 at 10:00:46PM -0800, H. Peter Anvin wrote:
> This version of the patch makes *both* legacy and Unix98 ptys configure 
> options (Unix98 only if EMBEDDED), and the number of legacy ptys is a 
> configuration option -- useful if you want to reduce the memory 
> footprint, or if you really wants lots of these guys (256 is no longer a 
> hard limit.)
> Additionally, I have added a sysctl option -- /proc/sys/kernel/pty/max 
> -- for limiting the number of Unix98 ptys.  It was way too effective a 
> DoS to eat up all kernel memory by opening /dev/ptmx repeatedly.  The 
> default is 4096, but it can be adjusted all the way up to 2^20 if desirable.
Comes up and boots just fine here on my target boxen. I'm glad to have it.
Bootlog from one of them attached.
I can send in console/etc. logs from both host and target of stress test
runs, if provided stress tests.
-- wli
[unhandled content-type:application/octet-stream]