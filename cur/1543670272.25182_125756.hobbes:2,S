Date: Wed, 16 Apr 2003 21:07:30 -0700
From: "Perez-Gonzalez, Inaky" <>
Subject: RE: firmware separation filesystem (fwfs)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/16/303

> From: Manuel Estrada Sainz [mailto:ranty@debian.org]
>
> > With the risk of repeating myself (again) and being a PITA,
> > I really think it'd be easier to copy the firmware file to a
> > /sysfs binary file registered by the device driver during
> > initialization; then the driver can wait for the file to be
> > written with a valid firmware before finishing the init
> > sequence. The infrastructure is already there (or isn't ...
> > is it?).
> 
>  I don't know that much about sysfs, after a little investigation, it
>  seams like sysfs entries are restricted in size to PAGE_SIZE, which on
>  i386 is 4K, and ezusb firmware is already 6.9K in size.
You are right, at least that in 2.5.66 (the only tree I have handy now),
it is still limited to PAGE_SIZE; however, there were some
changes recently to the bin file interface, so it might have
been removed.
But this thing (firmware uploading) seems like a good reason
to remove that limit. 
If you [or somebody else :)] did the necessary modifications 
to fs/sysfs/bin.c and submit them to Patrick Mochel, with 
the reasoning on why and usage, I'd say he would mostly
accept them - it does not seem to be too hard.
Iñaky Pérez-González -- Not speaking for Intel -- all opinions are my own
(and my fault)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/