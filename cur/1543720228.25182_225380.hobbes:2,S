Date: Sat, 5 Jun 2004 15:38:13 +0200
From: Daniel Egger <>
Subject: Re: jff2 filesystem in vanilla
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/5/51

On 05.06.2004, at 10:46, David Woodhouse wrote:
> Can you be more specific? I don't know of any such problems. If they
> exist, they give me a potential excuse to update 2.4 to the current 
> code
> -- but to be honest I'd rather just leave it in maintenance mode.
Unfortunately not. We had misterious kernel oopses on bootup in
changing places in the source that appeared and vanished at will.
At first I had broken memory in mind but this wasn't the case. My next
guess was that the log checking (the looong version) might temporarily
overheat the passively cooled CPU but we could scrap that possibility as
well after reproducing the problem in a very cool environment.
After the tedious upgrade to the CVS version, everything works
like a charm and is now in never-touch-a-running system mode.
> CF is bog-roll technology. I wouldn't want to use it in production even
> with JFFS2 on it -- but at least when it gets confused you'll only lose
> a limited amount of data with JFFS2.
Works fine for us.
> If you're going to use JFFS2 on CF, you should really investigate using
> the write-buffer we implemented for NAND flash, but without the ECC
> parts. It'll mean you write each CF sector once rather than overwriting
> the sector each time you add a few bytes to the log.
Sounds good though not too useful for us because we typically do not
write much on the disc, just the configuration which only changes
once in a while.
However, do you have any specific pointers where to look?
Servus,
       Daniel
[unhandled content-type:application/pgp-signature]