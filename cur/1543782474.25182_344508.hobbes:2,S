Date: Thu, 25 Aug 2005 13:46:41 +0100
From: Christoph Hellwig <>
Subject: Re: [PATCH][RESEND] don't allow sys_readahead() on files opened with O_DIRECT
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/25/118

On Thu, Aug 25, 2005 at 01:24:40AM -0700, Andrew Morton wrote:
> > IMO sys_readahead() doesn't make sense if the file is opened with
> > O_DIRECT, because the page cache is stuffed but never used. Therefore
> > this patch changes that by letting the call return with -EINVAL.
> > 
> 
> a) It doesn't hurt, it's just a bit of a silly thing to do.
For ocfs that only allows either direct or buffered I/O on a single
inode at a given time it hurts.  It messes up the synchronization
protocol to be exact..
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/