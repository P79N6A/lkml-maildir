Date: Tue, 11 Nov 2008 07:37:54 +0100
From: Alain Knaff <>
Subject: Re: [PATCH] VFS: lseek(fd, 0, SEEK_CUR) race condition
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/11/11/28

Andrew Morton wrote:
[...]
> OK, I think that a concurrent lseek(fd, 0, SEEK_CUR) is a sufficiently
> sane operation that this is worth doing.  As you point out, there is no
> other way of userspace doing what is effectively a read-only operation
> - userspace would be entitled to wonder "ytf did the kernel rewrite the
> file offset for that?".
> 
> 
> Do the below additions look OK?
Yes, these additions look ok to me. Thanks for your quick and easy reply.
> From: Andrew Morton <akpm@linux-foundation.org>
> 
> - fix coding-style
> - fix default_llseek() as well
Wow, that one was missing an unlock_kernel()... I'm wondering why this
hadn't let to some major SNAFU...
> - add comments
Thanks,
Alain