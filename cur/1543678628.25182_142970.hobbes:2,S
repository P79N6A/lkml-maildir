Date: Tue, 24 Jun 2003 19:30:32 +0200
From: Adrian Bunk <>
Subject: [2.5 patch] postfix a constant in cciss.c with ULL
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/24/140

The patch below postfixes a constant in cciss.h with ULL, on 32 bit
archs this constant is too big for an int.
The cast doesn't do the right thing, 0xffffffffffffffff is in C an int 
and the cast casts 0xffffffffffffffff interpreted as an int to an u64.
Please apply
Adrian
--- linux-2.5.73-not-full/drivers/block/cciss.c.old	2003-06-23 21:35:15.000000000 +0200
+++ linux-2.5.73-not-full/drivers/block/cciss.c	2003-06-23 21:36:07.000000000 +0200
@@ -2457,7 +2457,7 @@
 	hba[i]->pdev = pdev;
 
 	/* configure PCI DMA stuff */
-	if (!pci_set_dma_mask(pdev, (u64) 0xffffffffffffffff))
+	if (!pci_set_dma_mask(pdev, 0xffffffffffffffffULL))
 		printk("cciss: using DAC cycles\n");
 	else if (!pci_set_dma_mask(pdev, 0xffffffff))
 		printk("cciss: not using DAC cycles\n");
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/