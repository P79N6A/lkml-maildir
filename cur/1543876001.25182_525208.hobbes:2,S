Date: Thu, 29 Mar 2007 15:23:17 -0700
From: Andrew Morton <>
Subject: Re: 2.6.21-rc5-mm2 - compile error on x86-64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/29/234

On Thu, 29 Mar 2007 16:10:50 -0600
ebiederm@xmission.com (Eric W. Biederman) wrote:
> Andrew Morton <akpm@linux-foundation.org> writes:
> >
> > Ah.  I assume you have CONFIG_SYSCTL=y, CONFIG_PROC_SYSCTL=n?
> >
> >
> >
> >
> > From: Andrew Morton <akpm@linux-foundation.org>
> >
> > We're using #ifdef CONFIG_SYSCTL, but we should be using CONFIG_PROC_SYSCTL,
> > so we get
> 
> I have no problem with the patch it is clearly more correct than what we
> are doing now but I didn't think it was possible to select
> CONFIG_SYSCTL and CONFIG_PROCFS without CONFIG_PROC_SYSCTL being
> selected...
> Do we have a constraint problem in Kconfig?  Or am I misremembering things?
> 
config PROC_SYSCTL
        bool "Sysctl support (/proc/sys)" if EMBEDDED
        depends on PROC_FS
        select SYSCTL
        default y
CONFIG_PROC_SYSCTL depends on CONFIG_PROC_FS
CONFIG_PROC_SYSCTL selects CONFIG_SYSCTL
So I don't see anything preventing CONFIG_SYSCTL=y, CONFIG_PROC_FS=y,
CONFIG_PROC_SYSCTL=n.  I assume we can make this combination compile, link
and run easily enough.  I dunno if it makes any actual sense though?
I'd have thought that PROC_SYSCTL should just depend on SYSCTL.  But
SYSCTL's Kconfig setup is weird.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/