Date: Wed, 17 Mar 2004 23:15:36 +0000 (GMT)
From: James Simmons <>
Subject: Re: 2.6.4, or what I still don't quite like about the new stable branch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/17/154

> 1. Matrox framebuffer keeps on messing up the consoles when I have X
> running and switch back and forth. As far as I know this problem is
> known to you (in fact, I use the temporary workaround patch Petr has
> released which as far as I can see only leaves the issue of scrolling
> lines occasionally losing the screen bottom, especially with programs
> using ncurses) and besides things seem to have got much better thanks to
> the general-fbcon patches introduced in 2.6.3 and 2.6.4, so I only
> mention it here pro forma.
I need to get around to fixing that problem. I'm glad the general patch 
that went in fixed alot of problems :-) It's a matter of the framebuffer 
driver restoring its state when switching back to the console. Most 
drivers have a problem with that. The current approach is to use the
xxfb_blank function to fix this up.
> 2. While fbcon is active, setfont only works on the foreground VT. It
> happens with X both running and not running, as well as on both matroxfb
> and vesafb (I haven't tested the others); I don't think this is a kbd
> bug (my version is 1.10 and I don't see anything in the 1.10->1.12
> changelog which could be related with the issue). Hope this one gets
> fixed soon, as it's the most annoying of the whole bunch.
This is normal behavior. In 2.4.X you have the same behavior. Only vgacon 
doesn't do this because it doesn't handle the differences in screen size 
on VC switching. 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/