Date: Tue, 12 Sep 2000 12:19:14 +0100
From: David Howells <>
Subject: Re: [RFC] Wine speedup through kernel module
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/12/42

David Woodhouse <dwmw2@infradead.org> wrote:
> Unless it's _absolutely_ necessary, the kernel image (i.e. vmlinux) should
> not contain any code which is dependent on CONFIG_*_MODULE options. 
> 
> Therefore, stuff like...
> 
> #ifdef CONFIG_WIN32_MODULE
> 	EXPORT_SYMBOL(my_win32_helper_func);
> #endif
> 
> ...would mean that you have to recompile the kernel and reboot to enable the
> module, rather than just compiling and loading the module.
Ah... I did misunderstand you. I thought you meant CONFIG_MODULES in general,
which'd be okay - obviously, if module support is disabled, you can't load a
module anyway.
No, I wasn't planning to do that. I was thinking more along the lines of
adding another handler in to struct exec_domain, but that isn't especially
generic.
I think now that I'm probably best providing a generic pluggable syscall
handler, one that is very careful to make sure the syscall can't be entered
whilst the module is being unloaded.
David Howells
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/