Date: Thu, 05 Apr 2007 18:04:27 -0400
From: Yaar Schnitman <>
Subject: optimizing sendfile
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/5/332

Hi,
How can I control the size of the block requests the sendfile() syscall 
performs
against the disk?
I'm using sendfile (on a 2.6.18 kernel) to copy 1M file chunks into a 
socket. The
socket send buffer size is 2MB, and I verify that its empty before 
making the call.
Indeed, 1M chunk is being sent, but from iostat, I can tell that the 
average request
size is around 128KB. Are there any kernel configuration variables that 
could change that?
Help will be appreciated.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/