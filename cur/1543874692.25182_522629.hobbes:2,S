Date: Wed, 21 Mar 2007 11:22:31 -0700
From: 	sukadev@us ...
Subject: [PATCH] Don't init pgrp and __session in INIT_SIGNALS
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/21/253

From: Sukadev Bhattiprolu <sukadev@us.ibm.com>
Subject: [PATCH] Don't init pgrp and __session in INIT_SIGNALS
Remove initialization of pgrp and __session in INIT_SIGNALS,
as these are later set by the call to __set_special_pids()
in init/main.c by the patch:
	explicitly-set-pgid-and-sid-of-init-process.patch
Signed-off-by: Sukadev Bhattiprolu <sukadev@us.ibm.com>
Cc: Cedric Le Goater <clg@fr.ibm.com>
Cc: Dave Hansen <haveblue@us.ibm.com>
Cc: Serge Hallyn <serue@us.ibm.com>
Cc: Eric Biederman <ebiederm@xmission.com>
Cc: Oleg Nesterov <oleg@tv-sign.ru>
---
 include/linux/init_task.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)
Index: lx26-21-rc3-mm2/include/linux/init_task.h
===================================================================
--- lx26-21-rc3-mm2.orig/include/linux/init_task.h	2007-03-20 17:54:18.000000000 -0700
+++ lx26-21-rc3-mm2/include/linux/init_task.h	2007-03-20 18:32:03.000000000 -0700
@@ -65,9 +65,9 @@
 	.posix_timers	 = LIST_HEAD_INIT(sig.posix_timers),		\
 	.cpu_timers	= INIT_CPU_TIMERS(sig.cpu_timers),		\
 	.rlim		= INIT_RLIMITS,					\
-	.pgrp		= 1,						\
+	.pgrp		= 0,						\
 	.tty_old_pgrp   = NULL,						\
-	{ .__session      = 1},						\
+	{ .__session      = 0},						\
 }
 
 extern struct nsproxy init_nsproxy;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/