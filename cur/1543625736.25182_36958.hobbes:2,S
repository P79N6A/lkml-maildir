Date: Mon, 25 Mar 2002 12:43:18 +1100
From: Andre Pang <>
Subject: Re: Screen corruption in 2.4.18
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/24/72

On Sun, Mar 24, 2002 at 04:07:31PM +0100, Danijel Schiavuzzi wrote:
> > In the meantime, I'd probably suggest a patch which looks for
> > clears only bit 7 of Rx55 if an 8363 and an 8365 is found.  I'll
> > whip one up later today.
> 
> Yes, should implement some autodetection to detect VT8365 and clear only bit 
> 7 and include it in the kernel *as soon as possible* (I don't have any kernel 
> programming experience, so don't ask me to do so, although it should be 
> something trivial ;))
I've had a quick look at the pci-pc.c file which handles the PCI
fixups, but I can't see of a way to say "if this chip is detected
_and_ that chip is detected, modify this bit in the first chip."
It's possible, but not without some real ugly hackery.
Assuming that _only_ the integrated KT133+KM133 chipset uses the
VT8365 PCI ID (0x8305), it'd be easy to make a special-case patch
for it.  My only worry is that other chipsets (like the 'normal'
KT133 without the KM133) use the same PCI ID; we should avoid
modifying the fix for the other chipsets, if possible.
Can somebody with a KT133/KT133A do a "lspci -n" and grep for
'8305'?  If it doesn't appear, I'll send off my patch.
-- 
#ozone/algorithm <ozone@algorithm.com.au>          - trust.in.love.to.save
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/