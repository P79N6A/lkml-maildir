Date: Sun, 25 Jul 2004 08:32:48 +0200
From: Héctor Martín <>
Subject: Re: ksoftirqd uses 99% CPU triggered by network traffic
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/25/4

>>Interrupt 9 is surely busy, no USB hardware plugged in just in case you're
>>wondering, and normally (while not using eth2) interrupt 9 is rock solid
>>(i.e. I doubt ACPI interrupts at all during normal use unless e.g. the power
>>button is pressed.)
>>
>
>At 60 kirq/s without any network traffic, you may disable acpi then usb
>and eventually poke your nose in the bios setup first. No joke.
>
That's WITH network traffic, and I get 60k packets/s so it makes sense, 
but then once ksoftirqd starts using up all available cpu, I might be 
able to stop it by stoping the network traffic, but then any traffic 
makes it go nuts anyway. The problem is that after some minutes under 
this high-udp-packet-traffic it starts going nuts, with no prior 
warning. The mouse cursor just gets jerky--nothing gradual here, it just 
starts and then won't stop.
I was talking about IRQ9 because at 60k/s it's understandable that ACPI 
takes some CPU trying to see if it's the intended receiver, but 
ksoftirqd's behaviour is obviously not normal, besides the point that it 
works perfectly por 10-20 minutes at least.
I'll be out for a week at least and I doublt I will be able to answer 
back, sorry for the inconvenience, I should've posted this after acoming 
back. Thanks for the answer though ;)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/