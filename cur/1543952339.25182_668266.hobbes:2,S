Date: Mon, 17 Mar 2008 08:25:14 +0100
From: Jens Axboe <>
Subject: Re: [PATCH 1/7] x86-64: introduce fast variant of smp_call_function_single()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/17/49

On Sun, Mar 16 2008, Jeremy Fitzhardinge wrote:
> Jens Axboe wrote:
> >On Fri, Mar 14 2008, Jeremy Fitzhardinge wrote:
> > 
> >>Jens Axboe wrote:
> >> 
> >>>rom: Nick Piggin <npiggin@suse.de>
> >>> 
> >>> 
> >>Why is this necessary?  How is smp_call_function_single slow?
> >> 
> >
> >Because it's completely serialized by the call_lock spinlock.
> > 
> 
> Hm, yes.  Would it be possible to implement smp_call_function_mask in a 
> generic way to avoid that?  Turn the static structure into a per-cpu 
> request list?
Have you looked at the patches you are replying to? :-)
-- 
Jens Axboe