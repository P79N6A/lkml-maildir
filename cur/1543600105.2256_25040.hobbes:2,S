Date: Mon, 3 Sep 2001 14:07:03 -0600
From: Richard Gooch <>
Subject: Re: [PATCH] cpuid/msr + devfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/3/105

Philipp Matthias Hahn writes:
> Hello Richard, LKML!
> 
> Back in 2000 Philip Langdale posted a patch to make
> arch/i386/kernel/{cpuid,msr}.c devfs aware. Richard Gooch had some
> comments for him but I never saw an "improved" patch.
> 
> I tried to clean it up a little bit and it look's better, but here are the
> things I don't like myself:
> - Do we need to keep cpu_devfs_handle or should we re-find it on
>   unregister?
Better to have a central place which creates per-CPU directories,
which you can call into and grab a directory for a CPU.
> - There is no devfs_unregister_series.
Correct. I'm not sure that we really want one, either.
> - Shouldn't we register_chrdev() "cpu/%d/cpuid"?
You could if you want.
> - "cpu/%d" directoried are never removed on unregister.
Such directories should only be removed when a CPU is removed. And to
support that, you need the CPU hotplug patch.
				Regards,
					Richard....
Permanent: rgooch@atnf.csiro.au
Current:   rgooch@ras.ucalgary.ca
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/