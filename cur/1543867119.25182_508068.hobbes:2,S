Date: Tue, 13 Feb 2007 11:25:05 +1100
From: Rusty Russell <>
Subject: Re: [PATCH 7/8] lguest: trivial guest block driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/12/424

On Mon, 2007-02-12 at 16:01 +0100, Jens Axboe wrote:
> On Mon, Feb 12 2007, Rusty Russell wrote:
> > Thanks Jens!!
> 
> My pleasure, it's not often you get to make that big a performance
> improvement with just a little few lines of change :-)
*cough* I deliberately leave these low hanging fruit in lguest to
encourage people to hack on it.  Really.  *cough*
> I guess you'll take changes to make this driver queuing as well? It's
> pretty important for good guest io performance as well.
The question is whether the guest or host should queue.  If you have
multiple guests sharing a disk in the hose, I would think that the host
is better off queuing.  And this would seem to be the common case.
On my todo list is:
1) Implement write barriers, (-> fsync in the host)
2) Make the host userspace program (lguest) async rather than blocking,
3) Allow multiple outstanding requests.
Then it should be useful for other hypervisors.
Cheers!
Rusty.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/