Date: Mon, 11 Oct 1999 11:35:00 +0200 (CEST)
From: Bernhard Rosenkraenzer <>
Subject: Re: devfs again, (was RE: USB device allocation)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/11/36

On Thu, 7 Oct 1999, Horst von Brand wrote:
> /dev is in the _filesystem_, and can be kept there.
can: yes.
must: not really, why not try a different approach if there are
      arguments for it?
"It has always been that way" is NOT a reason for "it must always stay
that way".
> What devfs proposes is to fake all this functionality, kludgeing
> permissions into tarfiles that have to be created when shutting down and
> reread when booting. It adds daemons and kernel functionality to "unclutter
> /dev", something that can be done with plain rm(1).
Enjoy running rm and mknod whenever you insert a PCMCIA or USB device...
And of course let's not forget about newbie users who want their
StarOffice and who don't worry about system internals such as any /dev
entries? Like it or not, Linux is going to make it to the desktop market,
and thereby to users who don't have a clue.
For them, devfs is more important than for us.
> Don't you see all this is ridiculous? Maintaining /dev is _not_ a minute by
> minute activity,
Really? Plug in an USB CD drive or a PCMCIA network card, and mount it
without maintaining /dev, unless you want to keep around tons of unused
/dev entries all the time.
> just creating entries for new devices is not enough, not
> by a _long_ shot. Sure, it can be nice sometimes, but not enough to pay for
> any extra cost, IMHO.
What is the extra cost, if you set CONFIG_DEVFS=n ?
> > ie operator intervention, which is going to get more and more awkward as
> > devices become more and more dynamic.
> 
> The problem with dynamic devices is not exactly "naming", it is "making use
> of them". That suddenly there is a /dev/sdx with a dozen partitions doesn't
> do me any good, I'll have to mount them somewhere.
Have you heard of automount? It was originally meant to mount NFS volumes
when required, but it can (and actually has been) used for other stuff as
well.
For example, it can be used to automatically mount CDs when they're
inserted, or to mount new partitions when they appear in devfs...
> If you want to get rid of "operator intervention", you'd better start
> redesigning the whole operating system idea (and probably computers too)
> from scratch. Might be a good idea in itself, but devfs clearly falls quite
> short.
Nobody claims devfs is perfect. But it's not a bad thing either.
LLaP
bero
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/