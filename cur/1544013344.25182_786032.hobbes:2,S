Date: Fri, 02 Jan 2009 16:44:02 -0500 (EST)
From: Len Brown <>
Subject: [incremental-PATCH-for-Sam's-Review] ACPI: use ccflags-y instead of EXTRA_CFLAGS
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/2/318

From: Len Brown <len.brown@intel.com>
Signed-off-by: Len Brown <len.brown@intel.com>
---
 drivers/acpi/Makefile       |   11 ++---------
 kernel/acpi/Makefile        |   11 ++---------
 kernel/acpi/acpica/Makefile |   12 ++----------
 3 files changed, 6 insertions(+), 28 deletions(-)
diff --git a/drivers/acpi/Makefile b/drivers/acpi/Makefile
index 5f4096d..a4c0582 100644
--- a/drivers/acpi/Makefile
+++ b/drivers/acpi/Makefile
@@ -2,15 +2,8 @@
 # Makefile for the Linux ACPI Drivers
 #
 
-export ACPI_CFLAGS
-
-ACPI_CFLAGS	:= -Os
-
-ifdef CONFIG_ACPI_DEBUG
-  ACPI_CFLAGS	+= -DACPI_DEBUG_OUTPUT
-endif
-
-EXTRA_CFLAGS	+= $(ACPI_CFLAGS)
+ccflags-y			:= -Os
+ccflags-$(CONFIG_ACPI_DEBUG)	+= -DACPI_DEBUG_OUTPUT
 
 #
 # ACPI Device Drivers
diff --git a/kernel/acpi/Makefile b/kernel/acpi/Makefile
index 92a1f94..fd0927d 100644
--- a/kernel/acpi/Makefile
+++ b/kernel/acpi/Makefile
@@ -2,15 +2,8 @@
 # Makefile for the Linux/ACPI
 #
 
-export ACPI_CFLAGS
-
-ACPI_CFLAGS	:= -Os
-
-ifdef CONFIG_ACPI_DEBUG
-  ACPI_CFLAGS	+= -DACPI_DEBUG_OUTPUT
-endif
-
-EXTRA_CFLAGS	+= $(ACPI_CFLAGS)
+ccflags-y			:= -Os
+ccflags-$(CONFIG_ACPI_DEBUG)	+= -DACPI_DEBUG_OUTPUT
 
 obj-y				:= tables.o
 obj-$(CONFIG_X86)		+= x86/
diff --git a/kernel/acpi/acpica/Makefile b/kernel/acpi/acpica/Makefile
index 8d4e018..bad8ad8 100644
--- a/kernel/acpi/acpica/Makefile
+++ b/kernel/acpi/acpica/Makefile
@@ -2,16 +2,8 @@
 # Makefile for ACPICA Core interpreter
 #
 
-export ACPI_CFLAGS
-
-ACPI_CFLAGS	:= -Os
-
-ifdef CONFIG_ACPI_DEBUG
-  ACPI_CFLAGS	+= -DACPI_DEBUG_OUTPUT
-endif
-
-EXTRA_CFLAGS	+= $(ACPI_CFLAGS)
-
+ccflags-y			:= -Os
+ccflags-$(CONFIG_ACPI_DEBUG)	+= -DACPI_DEBUG_OUTPUT
 
 obj-y := dsfield.o   dsmthdat.o  dsopcode.o  dswexec.o  dswscope.o \
 	 dsmethod.o  dsobject.o  dsutils.o   dswload.o  dswstate.o \
-- 
1.6.1.35.g3827