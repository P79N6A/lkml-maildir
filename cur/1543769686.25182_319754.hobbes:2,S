Date: Fri, 20 May 2005 13:03:36 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: Screen regen buffer at 0x00b8000
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/20/155

On Fri, 20 May 2005, Richard B. Johnson wrote:
> 
> Why can't I consistantly write to the VGA screen regen buffer
> and have it appear on the screen????
Don't do it.
> It looks like access there is cached??? One needs to change
> VT consoles to make it appear!!
No. 
> The screen-regen buffer at this address is hardware, in the
> chip! It should not be cached!
It's not cached, and it's hardware, and you don't know your VGA well 
enough.
0x00b8000 may be the beginning of video memory (in certain text
configurations) but it is _not_ where the screen is. That is offset by the
text offset register (I forget what index that is), and what you're seeing
is almost certainly due to the fact that the kernel VGA console driver
scrolls by just changing that offset, instead of moving lots of slow PCI
memory around.
Switching consoles works for you, because it ends up resetting the offset.
Anyway, you really _really_ shouldn't do anything like this in the first 
place.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/