Date: Fri, 5 Mar 1999 13:29:06 +0100 (CET)
From: Marek Kowal <>
Subject: Re: Memory exhausted problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/5/42

Hi,
I have 2Pentium166 MHz 256MB RAM server, which is usually quite loaded -
it serves as UNIX server for student's at our faculty. 
I am having strange problem. After exactly seven days of uptime who
command stops working. I connect this with SMP kernel - when I boot in
single-processor kernel mode, it never happens.
What follows is the output of few commands from my system. 
-------------------------------------------------------------------------
[tomcat@fatcat tomcat]$ uptime
10:23am  up 7 days, 20:38,  2 users,  load average: 0.02, 0.09, 0.04
[tomcat@fatcat tomcat]$ free
             total       used       free     shared    buffers     cached
Mem:        257044     201784      55260      52688      83344      87616
-/+ buffers/cache:      30824     226220
Swap:       182968       1152     181816
[tomcat@fatcat tomcat]$ w 
10:23am  up 7 days, 20:38,  2 users,  load average: 0.02, 0.09, 0.04
USER     TTY      FROM              LOGIN@   IDLE   JCPU   PCPU  WHAT
hawk     ttyp9    wfitj38e:0.0     Thu 3pm 18:20m 53:07  53:07   xlock
tomcat   ttyp1    wfitj92e.ftj.agh 10:12am  0.00s  0.27s  0.07s  w 
[tomcat@fatcat tomcat]$ finger
Login     Name      Tty  Idle  Login  Time   Office   Office  Phone
hawk      Przemek    p9 18:34  Mar  4 15:49 (wfitj18e:0.0)
tomcat    Marek      p1        Mar  5 10:12 (wfitj12e.ftj.agh.edu.pl)
tomcat    Marek     *p2        Mar  5 10:24 (wfitj12e.ftj.agh.edu.pl)
[tomcat@fatcat tomcat]$ who
who: Memory exhausted
[tomcat@fatcat tomcat]$
----------------------------------------------------------------------
As you see, w and finger works, but who - does not.
last command  works as well.
syslogd does not report anything.
I used to have the same problem, when I had 64MB RAM - and it also
happened after 7 days.
Any suggestions? 
Thank's in advance.
Marek Kowal
-------------------------------------
tomcat@fatcat.ftj.agh.edu.pl
http://fatcat.fjt.agh.edu.pl/~tomcat/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/