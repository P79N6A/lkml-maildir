Date: Tue, 30 Oct 2001 17:54:17 +0100
From: Andrea Arcangeli <>
Subject: Re: please revert bogus patch to vmscan.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/30/120

On Tue, Oct 30, 2001 at 05:13:53PM +0100, Giuliano Pochini wrote:
> 
> >> But of course going from page flush to the mm flush is fine from my part
> >> too. As Linus noted a few days ago during swapout we're going to block
> >> and reschedule all the time, so the range flush is going to be a noop in
> > 
> > Only on architectures where the TLB (or equivalent) is
> > small and only capable of holding entries for one address
> > space at a time.
> > 
> > It's simply not true on eg PPC.
> 
> #ifdef ?
yes, but not for ppc, for alpha and all other archs without accessed bit
provided in hardware (and cached in the tlb). the flush_mm proposed by
Ben looks fine for x86 too, it's a waste only for archs without accessed
bit.
I think an #ifndef HAVE_NO_ACCESS_BIT_IN_TLB or something like that,
then define that in asm-alpha/ and the other archs without accessed bit.
OTOH, it probably doesn't make much difference so maybe it doesn't worth
the effort.
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/