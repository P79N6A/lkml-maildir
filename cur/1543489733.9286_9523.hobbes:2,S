Date: Fri, 12 Mar 1999 20:45:46 +0000 (GMT)
From: (Alan Cox)
Subject: Re: [patch] fixed af_packet to not lose frames and made us crazy in
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/12/131

> So I fixed the thing simply changing af_packet to ignore the rcvbuf
> limits. I think it's a good thing to be sure to always have a _relialable_
> tcpdump.
It is a good thing to have a reliable tcpdump. Its  even less reliable
now I can use it to wipe out your machine. Your tools to monitor an attacker
now let them break your computer.
The reality is simple. If you want to do faster logging, you need a faster
logger, you need better buffer management for packet stuff when you want
small amounts of data, Since tcpdump normally wants small amounts add
a SOCK_PACKET ioctl saying "we want x amount" and if its set make
packet sockets copy the first n bytes into a new buffer and free the original
in their rcv handler.
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/