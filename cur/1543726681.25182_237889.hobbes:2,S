Date: Sun, 1 Aug 2004 12:40:26 +0200
From: Adrian Bunk <>
Subject: Re: Some cleanup patches for: '...lvalues is deprecated'
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/1/25

On Sat, Jul 31, 2004 at 10:41:53AM +0200, Mikael Pettersson wrote:
>...
> Did you know that there is a larger gcc-3.4 fixes patch:
> <
http://www.csd.uu.se/~mikpe/linux/patches/2.4/patch-gcc340-fixes-v4-2.4.27-rc3>
> ?
> 
> This patch handles all issues when using gcc-3.4 to compile
> the current 2.4 kernel, of which cast-as-lvalue is just one.
> The only difference, AFAIK, is that gcc-3.4 "merely" warns
> about cast-as-lvalue while gcc-3.5 errors out on them.
> 
> All changes in the gcc-3.4 fixes patch are backports from
> the 2.6 kernel, except in very few cases when 2.4 and 2.6
> have diverged making slightly different fixes more appropriate
> for 2.4.
>...
BTW:
Please don't include the compiler.h part of your patch.
It's already reverted in -mm, and we're currently fixing the inlines
in 2.6 .
This was started after with this patch in 2.6 somewhere a required 
inlining did no longer occur (and a compile error is definitely better 
than a potential runtime problem).
Although fixing it correctly touches at about three dozen files, these 
are pretty straightforward patches (removing inlines or moving code 
inside files). After all these issues are sorted out in 2.6, the inline 
fixes could be backported to 2.4 .
> /Mikael
cu
Adrian
-- 
       "Is there not promise of rain?" Ling Tan asked suddenly out
        of the darkness. There had been need of rain for many days.
       "Only a promise," Lao Er said.
                                       Pearl S. Buck - Dragon Seed
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/