Date: Mon, 11 Jan 1999 20:36:50 +0100 (CET)
From: Andrea Arcangeli <>
Subject: Re: Results: pre6 vs pre6+zlatko's_patch  vs pre5 vs arcavm13
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/11/389

On Mon, 11 Jan 1999, Steve Bergman wrote:
> Here are updated results including arcavm16:
> 
> 
> 116 Image test in 128MB:
> 
> pre6+zlatko's_patch             2:35
> and with requested change       3:09
> pre6                            2:27
> pre5                            1:58
> arcavm13                        9:13
> arcavm15                        1:59
> pre-7                           2:41
> arcavm16			1:54
Cool, now that arcavm16 (in pre6) is faster than pre5 I am courious to see
what will happens with the one liner patch below applyed on the top of
arcavm16 (maybe nothing but... ;). We can call the resulting code arcavm17
against pre6 (that pratically insteaed is arcavm16 applyed on pre5 ;).
Index: linux/mm/page_alloc.c
diff -u linux/mm/page_alloc.c:1.1.1.7 linux/mm/page_alloc.c:1.1.1.1.2.27
--- linux/mm/page_alloc.c:1.1.1.7	Sat Jan  9 12:58:25 1999
+++ linux/mm/page_alloc.c	Mon Jan 11 19:57:07 1999
@@ -279,7 +279,7 @@
 		{
 			int freed;
 			current->flags |= PF_MEMALLOC;
-			freed = try_to_free_pages(gfp_mask, freepages.high - nr_free_pages);
+			freed = try_to_free_pages(gfp_mask, SWAP_CLUSTER_MAX);
 			current->flags &= ~PF_MEMALLOC;
 			if (!freed && !(gfp_mask & (__GFP_MED | __GFP_HIGH)))
 				goto nopage;
Andrea Arcangeli
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/