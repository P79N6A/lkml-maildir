Date: Thu, 28 Oct 1999 16:39:37 -0400 (EDT)
From: Dennis Hou <>
Subject: [PATCH] four warnings and a patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/28/131

My recent attempt at compiling a vanilla 2.3.24 gave the following
warnings:
sched.c:124: warning: alignment of `aligned_data' is greater than maximum
object file alignment
irq.c:77: warning: alignment of `irq_desc' is greater than maximum object
file alignment
init_task.c:33: warning: alignment of `init_tss' is greater than maximum
object file alignment
I'm quite sure that they are related to NR_CPUS (hence they cause problems
for UP users) but no serious damage occurs that I am aware of. Removing
__cacheline_aligned fixes the problem, but I'm not sure if it will affect
SMP systems.
8390.c:1092: warning: unused variable `ei_local'
The patch removes this line.
dir.c:689: warning: `show_dentry' defined but not used
I'm assuming it is used for debugging purposes (it's in the NFS code, but
unused as far as I can tell.) Maybe it can be removed sometime soon...?
dquot.c:477: warning: `count' might be used uninitialized in this function
I have no idea what this is for. It's not initialized, but there is an if
(count) later on. It never gets modified; maybe it was mixed up with
dquot->dq_count.
Can somebody more knowledgable about the above please get these warnings
out? After all, perfect compilation is the first step to a Good kernel.
--- linux-old/drivers/net/8390.c	Sat Oct 16 13:19:04 1999
+++ linux/drivers/net/8390.c	Sat Oct 16 13:19:42 1999
@@ -1089,7 +1089,6 @@
 								int start_page)
 {
 	long e8390_base = dev->base_addr;
- 	struct ei_device *ei_local = (struct ei_device *) dev->priv;
    
 	outb_p(E8390_NODMA+E8390_PAGE0, e8390_base+E8390_CMD);
     