Date: Thu, 04 Sep 2003 23:17:52 +0200
From: Juraj <>
Subject: problem with IRDA
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/4/320

Hi all,
I have a problem with IRDA on my linux system. I am using 2.4.22 kernel.
I use GSM phone to connect to internet over IR port. When I try to run
pppd, it fails, due to problem with IR communication. 
/var/log/messages says:
Sep  4 22:20:34 nezabudka pppd[3932]: pppd 2.4.1 started by root, uid 0
Sep  4 22:20:34 nezabudka kernel: IrCOMM protocol (Dag Brattli)
Sep  4 22:20:44 nezabudka kernel: irlap_adjust_qos_settings(), Detected buggy peer, adjust mtt to 10us!
Sep  4 22:20:46 nezabudka pppd[3932]: Connect script failed
I looked to linux source. In net/irda/qos.c I found the mtt parameter, but it is set to 10us.
	unsigned sysctl_min_tx_turn_time = 10;
Next I have found, that in 2.4.17 kernel was made some IrDA update by Jean Tourrilhes.
Some time ago I used 2.4.16 kernel, and all was working fine. Problems starts,
since I started using 2.4.18, and higher kernels.
Problem is not in pppd or kernel configuration, or some missing module, because communication sometimes 
go fine.  When I run irdadump utility in one or two terminals, and then I run pppd, it gets working properlly.
I thing there is something wrong with some timing.
Problem is also present, when I try to talk to phone with minicom.
Could someone help?
Thank you.
Juraj Buliscak.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/