Date: Tue, 30 Oct 2001 21:45:24 -0800
From: Rolf Fokkens <>
Subject: Re: iptables and tcpdump
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/30/174

Hi!
I may have missed something, but I'm not on the maillists which would explain 
why. And the archives dont contain the email messages (yet) between my 
initial question and this part of the discussion.
Apparently my question triggered a discussion about some deep NAT details at 
the skb level. As much as I understand it, something goes wrong with the skb 
cloning in the NAT layer, NAT changes read-only copies.
Is this the cause of the weird data that shows up with tcpdump?
Or in other words: does tcpdump show something buggy?
Rolf
On Tuesday 30 October 2001 09:31, you wrote:
> Hello!
>
> > Alexey, should the NAT layer be doing skb_unshare() before altering the
> > packet?
>
> MUST. Cloned skbs are read-only.
>
> I did not expect such question from you. :-)
>
> Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/