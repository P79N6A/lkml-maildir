Date: Fri, 23 May 2003 11:13:52 +1000
From: Douglas Gilbert <>
Subject: Re: scsi.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/22/242

Jeremy Buseman wrote on lkml:
 > Summary:  When compiling cdrtools with 2.5.69-bk13
 > scsi.h causes errors at line 229 and 230.
That is the "u8" typedef that I tried to change to
something a little saner a while back.
Do we have any volunteers to discuss this matter with
Joerg Schilling? Even if he changes his next release,
he can't do much about the earlier releases.
As mentioned in the "RFC: move hosts.h and scsi.c" thread
started by Jeff Garzik on the lsml, some existing apps
(cdrecord/cdrtools and perhaps SANE) assume that the headers
in /usr/src/linux/include/scsi can be included safely in
their low level transports.
This was true but is no longer in the lk 2.5 series.
An ugly transition header included at the top of that
"scsi.h" could address this problem but my guess is some
will dislike this idea:
/* deprecated, this transition header will be removed in lk 2.8 */
#ifndef __KERNEL__
#define u8 int8_t
#define __user
....
#endif
Playing both sides of this debate, I recently added "__user"
qualifiers in sg.h (not yet released).
Doug Gilbert
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/