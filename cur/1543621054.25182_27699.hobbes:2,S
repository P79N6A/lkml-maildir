Date: Wed, 13 Feb 2002 06:44:08 +0100
From: "Michael Kerrisk" <>
Subject: QN: Usage and purpose of file leases (F_SETLEASE, F_GETLEASE)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/13/47

Gidday,
I've had a look through various LK archives, and elsewhere, and read the
sources, and there seems to be no documentation to be found on Linux file
leases (as set by fcntl(fd, F_SETLEASE, lease-type)).
My question(s): what are file leases, what applications currently use them,
and what are they used for?
After reading the relevant sources and doing a done a bit of
experimentation, I can see that setting a lease can allow one process to
find out if another process opens or truncates a specified file, through the
generation of a SIGIO signal.  That picture is very sketchy (e.g., there is
some system for downgrading a write lease to a read lease after a certain
timeout interval, but I haven't nailed down the details), and probably
incomplete - can anyone fill it out, or point me to documentation on file
leases.
Ultimately, I'd like to add material on file leases to the fcntl() man page.
Cheers
Michael
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/