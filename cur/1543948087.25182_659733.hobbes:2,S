Date: Tue, 26 Feb 2008 13:59:31 +0800
From: "Dave Young" <>
Subject: Re: boot_delay broken ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/26/14

On Tue, Feb 26, 2008 at 1:48 PM, Dave Young <hidave.darkstar@gmail.com> wrote:
> On Tue, Feb 26, 2008 at 1:22 PM, Randy Dunlap <randy.dunlap@oracle.com> wrote:
>  > On Mon, 25 Feb 2008 10:14:36 +0800 Dave Young wrote:
>  >
>  >  > On Sun, Feb 24, 2008 at 8:46 AM, Dave Jones <davej@codemonkey.org.uk> wrote:
>  >  > > The boot_delay switch seems to be behaving strangely in the
>  >  > >  current -git.  Setting it to =10 makes the output 'bursty'
>  >  > >  it becomes slow for some printk's whilst others scroll by
>  >  > >  at regular speed.
>  >  > >  Setting it any higher than that seems to make it pause for
>  >  > >  a really long time before it outputs any text at all.
>  >  >
>  >  > On my side there's this issue for a long time
>  >  > 
http://lkml.org/lkml/2007/8/8/79
>  >
>  >  [
http://marc.info/?l=linux-kernel&m=118655896515049&w=2
]
>  >
>  >  You asked questions and they were answered.  Perhaps you didn't like
>  >  the answers.
>
>  No, I like it.  Thanks.
>
>  But I still want to know why mdelay can not be used.
>  is it not available for all archs or something else?
>
>
>  >
>  >  Here's a question for you.  What kernel boot options did you use?
>  >  Specifically, for lpj= and boot_delay= ?
>
>  I tried boot_delay=100 and boot_delay=200 without lpj set, The result
>  was really slow. It was better with lpj copied from dmesg, but was
>  still slower then mdelay.
Especially at the very beginning after the message "Booting the kernel",
I need to wait several minutes to see the afterwards messages
>
>  I think we can firstly use preset lpj, after delay calibrating just
>  use the system lpj
>
>
>
>  >
>  >  > >
>  >  > >  x86 timer changes perhaps ?
>  >
>  >
>  >  ---
>  >  ~Randy
>  >
>