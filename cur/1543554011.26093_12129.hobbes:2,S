Date: Wed, 8 Nov 2000 10:20:42 -0800
From: Jean Tourrilhes <>
Subject: Re: [RANT] Linux-IrDA status
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/11/8/166

On Wed, Nov 08, 2000 at 12:04:05PM +0000, Dag Brattli wrote:
> 
> Hi,
> 
> It was implemented this way because the IrDA device drivers are implemented
> like normal network device drivers and didn't want to mess with struct netdevice
> in order to change the speed of the driver. I decided to use ioctl since it had to
> be possible to do this from user-space (sniffers) as well as from the IrDA stack. 
> The only thing the IrDA stack knows about is the netdevice. Some frames we
> receive will trigger a speed change which we must handle from within the
> stack (so it's inside the bh and not actually in the "hard" interrupt)
> 
> What do you suggest I do?
> 
> 1. Add a change_speed() function to struct netdevice
> 2. Add a protocol specific pointer to struct netdevice
> 3. Embed the speed in skb->cb and send down empty frames
>     when I want to change the speed without transmitting anything.
> 4. Anything else?
	If somebody tell us which is the "right way", I'll try to code
that ASAP. We take any feedback very seriously ;-)
	I personally would go with #1, because "struct netdevice" is
full of protocol specific stuff anyway... And if we do our job right,
it can be reused for other stuff.
	Any comments ?
> -- Dag
	Jean
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/