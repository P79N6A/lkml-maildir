Date: Wed, 5 Dec 2001 11:36:57 -0800
From: Mike Fedyk <>
Subject: Re: [PATCH] eepro100 - need testers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/5/159

On Wed, Dec 05, 2001 at 08:59:45AM -0800, Steve Parker wrote:
> At 05:26 PM 12/4/2001 , Kurt Roeckx wrote:
> >On Tue, Dec 04, 2001 at 02:57:35PM -0800, Tim Hockin wrote:
> >> -#define TX_RING_SIZE 32
> >> -#define RX_RING_SIZE 32
> >> +#define TX_RING_SIZE 64
> >> +#define RX_RING_SIZE 1024
> >
> >Why do I have the feeling that you're just changing those values
> >so you get less chance of having the problem?  Are there any
> >other reason why you change this?  It might even be a good idea
> >to test it with lower values.
> 
> If you test with lower values, I find that the problem happens so often that
> bidirectional TCP bulk throughput tests on 100Mbits/sec ethernet are 
> significantly
> lower.  As Tim pointed out, the RX ring size is chosen based on being large 
> enough
> to receive steadily and only require the ISR to come by and empty it once 
> every jiffy.
> In order to provide good performance and survivability on maximum packet 
> rate loads,
> it needs to be 1024, although it's moderately good on 512, on my 300MHz K6 
> system.
> 
So, if I choose to plug an eepro100 into a pentium 75 (or comperable on
other pci based arch), am I going to get massive RX_RING overflows?  If so,
then the ring size should probably be sized based on bogomips...
mf
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/