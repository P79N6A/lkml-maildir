Date: Fri, 13 Aug 1999 10:56:28 +0800
From: Frank Horowitz <>
Subject: Re: 2.2.11: Complicated memory leak...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/14/101

At 8:33 AM -0700 12/8/99, David S. Miller wrote:
>   Date: Thu, 12 Aug 1999 17:29:05 +0100 (BST)
>   From: Alan Cox <alan@lxorguk.ukuu.org.uk>
>
>   This isnt the bug however. I have reports from other network card
>   cases, and that backing rtl8139.c out doesnt change it. It seems to
>   have appeared about the time the 2nd set of TCP changes went in
>
>Bingo, here is what I think the fix is.  Everyone please test this...
>Alan, once people have tested and verified this I will send you the
>final version of the diff so that the CVS Id's are up to snuff too...
>
OK I've applied Andrea's suggested patch to rtl8139.c (v 1.07, but it 
also applies to v 1.08a from Donald Becker's website) and Dave 
Miller's patches to net/ipv4/tcp_ipv4.c and net/ipv6/tcp_ipv6.c ...
I've been up and running for close to an hour now under RedHat 6.0 
(on the same box that was seeing the furious memory leaks), and the 
problem does seem to have gone away.  I'll back-out the ikd stuff (so 
that I can re-enable the cronjob to automatically unload modules), 
re-install, and start running production on that box. I'll let you 
guys know about longer-term stability, but things are definitely 
looking better from here now.
	Thanks to all concerned for their help!
		Frank Horowitz
--
Dr. Franklin G. Horowitz; Principal Research Scientist; frank@ned.dem.csiro.au
CSIRO Exploration & Mining,  PO Box 437,  Nedlands,  WA  6009,       AUSTRALIA
Tel.(08)9389-8421 (Int'l +61 8 9389 8421), FAX (08)9389-1909 (+61 8 9389 1906)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/