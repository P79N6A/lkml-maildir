Date: Mon, 11 Mar 2002 14:18:12 -0500
From: Benjamin LaHaise <>
Subject: Re: [bkpatch] do_mmap cleanup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/11/232

On Mon, Mar 11, 2002 at 12:08:18PM +0000, Pavel Machek wrote:
> Hi!
> 
> > Below is a vm cleanup that can be pulled from bk://bcrlbits.bk.net/vm-2.5 .
> > The bulk of the patch is moving the down/up_write on mmap_sem into do_mmap 
> > and removing that from all the callers.  The patch also includes a fix for 
> > do_mmap which caused mapping of the last page in the address space to fail.
> 
> Was not that a workaround for CPU bugs?
Not as far as I recall.  In fact it is just leading to more and more 
duplicated code as every arch writes their own version of the function 
to allow mapping that last page.  (Cleaning up all the sys_mmap calls 
is next.)
		-ben
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/