Date: Sat, 20 Mar 1999 20:27:49 +0100 (MET)
From: Tomasz Motylewski <>
Subject: sharing memory between kernel and user process.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/20/64

Is there any elegant way to have shared virtual memory area (may be as big as 
1 MB) usable both from kernel driver and mmapable in user space? 
If I use kernel vmalloc than I have to go through heavy wizardry to get the
physical addresses of allocated pages to remap them. 
If I get single pages using __get_free_fage() then I know how to mmap them in
user space, but how to join them in one vma in the kernel? Lots of "would be
useful" functions are declared as static in kernel sources and duplicating
them is ugly. Getting it to work seems doable, but deallocating this is
beyond my comprehension.
I have started writing some code, but it looks uglier than I thought. May be
someone has done it before. The only solution I have seen until now is
reserving physical memory at boot and then mmaping it in standard way
/dev/mem.
Regards,
--
Tomasz Motylewski
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/