Date: Wed, 1 Dec 1999 21:48:19 +0100 (MET)
From: Egbert Eich <>
Subject: (XFree86) mmap of /proc/XXX/mem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/1/110

To initialize secondary graphics cards for the multi-head 
feature on XFree86 3.9 it needs to execute the boot up sequence
in the Video BIOS. Also the drivers may  make use of Video BIOS 
int calls when setting up video modes. On Linux/x86 we use the 
vm86-mode to execute the Video BIOS routines. On non-Intel 
platforms an emulator is available.
The vm86 mode requires the execute environment (int vectors,
system bios image, vram - in short the DOS real mode environment)
to start at address 0 in virtual address space of the process
calling vm86(). So far the real mode image is initialized during
startup for each card that requests it. When a card wants to
make a BIOS call its real mode image is mapped to address 0
by mmapping /proc/self/mem. However I have reports mmapping
/proc/XXX/mem was removed from later versions of the 2.3 branch.
Is there anybody who knows a workaround for this? If there is
none - and so far I couldn't think of one myself - I would strongly
encourage the kernel developer to re-add this feature.
Regards,
	Egbert.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/