Date: Sun, 13 May 2001 22:19:50 +0400 (MSK DST)
From:  kuznet@ms2 ...
Subject: Re: NETDEV_CHANGE events when __LINK_STATE_NOCARRIER is modified
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/13/65

Hello!
> I believe these events get sent to the cardmgr daemon and it does
> all the ifconf magic to change the device state.
Compare this also to the situation with netif_present().
After Linus said that it is called from thread context, I prepared
corresponding code for netif_present (and for carrier detection
in assumption it is called from thread context or softirq)
BUT... this happened to be not true.
So, these macros still do not assume anything on context.
As result netif_carrier* is unreliable, netif_present is still straight bug.
Should be fixed, of course.
BTW what did happen with Andrew's netdev registration patch?
By some strange reason I believed it is already applied... Grrr.
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/