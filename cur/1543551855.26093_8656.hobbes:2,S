Date: Tue, 17 Oct 2000 19:33:11 +0200
From: "Udo A. Steinberg" <>
Subject: [BUG]: Ext2 Corruption in test10pre3 (incl. Oops)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/17/87

Hi Linus & Alexander
It seems that we were all wrong in assuming that ext2 was fixed
wrt. filesystem corruption. test10pre3 once again has the potential
to eat files (not sure about earlier versions).
I finally managed to capture an oops (by hand), so bear with me that
I didn't typo anywhere.
Find attached the decoded oops:
Kernel bug at ll_rw_blk.c: 713!  
ksymoops 2.3.4 on i686 2.4.0-test10.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.4.0-test10/ (default)
     -m /boot/System.map-2.4.0-test10 (specified)
invalid operand: 0000
CPU: 0
EIP: 0010:[<c0184546>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010282
eax: 0000001f ebx: 00cc0008 ecx: c4433500 edx: 00000007
esi: c2c650c0 edi: c02fd160 ebp: 00000000 esp: cd28dd90
ds: 0018 es: 0018 ss: 0018
Process netscape (pid: 6456, stackpage=cd28d000)
Stack: c0250fc5 c0251262 000002c9 c2c650c0 00000008 0000000c 00cc0008
       0000d00a 00000000 cee143c0 c02fd170 c0300ac0 c02fd178 c02fd170
       00000000 00000008 00cc0008 00000000 c0183f24 000000fe c0184b84
       c02fd160 00000000 c2c650c0
Call Trace: [<c0250fc5>] [<c0251262>] [<c0183f24>] [<c0184b84>]
            [<c0184d53>] [<c012fa31>] [<c014efde>] [<c014f240>]
            [<c014f6af>] [<c021e87e>] [<c01523af>] [<c0138db7>]
            [<c0138f59>] [<c012d6bb>] [<c012d9d8>] [<c010a9d7>]
Code: 0f 0b 83 c4 0c 90 0f b7 4e 14 66 89 4c 24 16 0f b6 46 15 8b
 
>>EIP; c0184546 <__make_request+a6/630>   <=====
Trace; c0250fc5 <tvecs+17b9d/1b898>
Trace; c0251262 <tvecs+17e3a/1b898>
Trace; c0183f24 <blk_get_queue+34/50>
Trace; c0184b84 <generic_make_request+b4/120>
Trace; c0184d53 <ll_rw_block+163/1e0>
Trace; c012fa31 <bread+31/70>
Trace; c014efde <read_inode_bitmap+3e/90>
Trace; c014f240 <load_inode_bitmap+210/230>
Trace; c014f6af <ext2_new_inode+29f/700>
Trace; c021e87e <unix_write_space+2e/50>
Trace; c01523af <ext2_create+1f/c0>
Trace; c0138db7 <vfs_create+a7/e0>
Trace; c0138f59 <open_namei+169/620>
Trace; c012d6bb <filp_open+3b/60>
Trace; c012d9d8 <sys_open+38/c0>
Trace; c010a9d7 <system_call+33/38>
Code;  c0184546 <__make_request+a6/630>
00000000 <_EIP>:
Code;  c0184546 <__make_request+a6/630>   <=====
   0:   0f 0b                     ud2a      <=====
Code;  c0184548 <__make_request+a8/630>
   2:   83 c4 0c                  addl   $0xc,%esp
Code;  c018454b <__make_request+ab/630>
   5:   90                        nop
Code;  c018454c <__make_request+ac/630>
   6:   0f b7 4e 14               movzwl 0x14(%esi),%ecx
Code;  c0184550 <__make_request+b0/630>
   a:   66 89 4c 24 16            movw   %cx,0x16(%esp,1)
Code;  c0184555 <__make_request+b5/630>
   f:   0f b6 46 15               movzbl 0x15(%esi),%eax
Code;  c0184559 <__make_request+b9/630>
  13:   8b 00                     movl   (%eax),%eax
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/