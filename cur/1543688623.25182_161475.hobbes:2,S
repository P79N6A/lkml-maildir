Date: Sat, 30 Aug 2003 12:55:15 +0400
From: Alex Tomas <>
Subject: Re: [RFC] extents support for EXT3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/30/22

>>>>> Ed Sweetman (ES) writes:
 ES> I booted with test4-mm2 patched
 ES> Throughput 221.812 MB/sec 16 procs    ext2
 ES> Throughput 159.495 MB/sec 16 procs    ext3-extents (definitely enabled)
 ES> Throughput 147.598 MB/sec 16 procs    ext3 (patched but disabled)
 ES> There is an obvious improvement, but nothing near the 70+% increase
 ES> you saw.  Subsequent runs run anything from a little lower than above
 ES> for extents to 167MB/s.
yep. Andrew pointed out that I was using SMP on testbox. so, I reran tests on UP:
[root@zefir root]# vim /root/db2.sh 
[root@zefir root]# /root/db2.sh 2 16
Throughput 116.412 MB/sec 16 procs
Throughput 108.163 MB/sec 16 procs
Average: 112.28750
[root@zefir root]# /root/db2.sh 2 16
Throughput 120.401 MB/sec 16 procs
Throughput 118.392 MB/sec 16 procs
Average: 119.39650
on UP improvement is about 6% (8% in your case). this result looks much more fair.
now I have following items on todo list:
1) debugfs support
   I really need it in order to understand extents usage for diff apps. having
   this info we could tune extents for more improvements
2) multiblock allocation
3) delayed allocation
thank you, Ed!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/