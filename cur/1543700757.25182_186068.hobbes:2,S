Date: Wed, 24 Dec 2003 17:24:04 +0300
From: Nikita Danilov <>
Subject: Re: [PATCH] laptop-mode for 2.6, version 2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/24/38

Hugang writes:
 > On Wed, 24 Dec 2003 06:33:11 +0100
 > Bart Samwel <bart@samwel.tk> wrote:
 > 
 > > Here's a new version of the laptop-mode patch (and control script). I've
 > > made a couple of improvements because of your comments. The block_dump
 > > functionality (including block dirtying) is back, and my alternative
 > > functionality has gone. There's just one bit of the block dumping patch 
 > > that I couldn't place, the bit in filemap.c. The 2.6 code is so 
 > > different here that I really couldn't figure out what I should do with 
 > > it. Do you have any idea where this has gone (and if it is still needed)?
 > 
 > Here is hacker patch do laptop mode on reiserfs file system. Any comments are welcome.
From patch:
+int reiserfs_default_max_commit_age = -1;
+
I am not sure that global variable is a good idea here. What if several
file systems are mounted? You should either pass value as an argument to
the journal initialization code, or just initialize
SB_JOURNAL_MAX_COMMIT_AGE(sb) when parsing options.
 > 
 > -- 
 > Hu Gang / Steve
Nikita.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/