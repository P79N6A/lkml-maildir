Date: Sun, 25 Nov 2001 22:22:22 +0100 (CET)
From: Willy Tarreau <>
Subject: [ANNOUNCE] kmsgdump ported to 2.4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/25/127

Hello Ian,
I finally ported kmsgdump to 2.4 one week later, but now it seems to work. At
least, it dumps the messages on panic() and on SysRQ-D. I had a problem when
LocalAPIC was enabled because the interrupts were not released after the CPU
reset, but it seems to be OK now. I'd like that you test it and tell me if you
encounter bugs in it. At least I found one : after a manual dump of the messages
on the diskette, if you press <I> to display informations, there seems to be a
memory overwrite at the end of the last line. Weird but not the that important
IMHO, given the free time I have to spend on it.
You can download it here :
   
http://wtarreau.free.fr/kmsgdump/
I hope it'll help you in debugging your kernel, and perhaps help others
(LKML cc'd).
I couldn't test it in an SMP configuration, and the code tries to stop all CPUs
except the one that is reset, there are chances that it might not properly work.
Good luck ;-)
Willy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/