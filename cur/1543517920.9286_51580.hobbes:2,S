Date: Sun, 5 Dec 1999 21:51:53 +0100
From: stef <>
Subject: Re: weird PCI class/type combination
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/5/70

	This patch works OK on my motherboard.
from dmesg output of patched 2.3.29:
PCI: PCI BIOS revision 2.10 entry at 0xfb360
PCI: Using configuration type 1
PCI: Probing PCI hardware
pci_do_scan_bus for bus 0
PCI: 00:00 [1106/0597] 000600 00
PCI: 00:08 [1106/8598] 000604 01
PCI: 00:38 [1106/0586] 000601 80
PCI: 00:39 [1106/0571] 000101 00
PCI: 00:3a [1106/3038] 000c03 00
PCI: 00:07.3: class 604 doesn't match header type 00. Ignoring class.
PCI: 00:3b [1106/3040] 000604 00
PCI: 00:40 [5333/8a01] 000300 00
PCI: 00:48 [1274/1371] 000401 00
PCI: 00:50 [10ec/8029] 000200 00
pci_do_scan_bus for bus 1
PCI: pci_do_scan_bus returning with max=01
PCI: pci_do_scan_bus returning with max=01
PCI: Interrupt Routing Table found at 0xc00fdd50 [router type 1106/0586]
then lspci output:
00:00.0 Host bridge: VIA Technologies, Inc. VT82C597 [Apollo VP3] (rev 04)
00:01.0 PCI bridge: VIA Technologies, Inc. VT82C598 [Apollo MVP3 AGP]
00:07.0 ISA bridge: VIA Technologies, Inc. VT82C586/A/B PCI-to-ISA [Apollo VP] (rev 47)
00:07.1 IDE interface: VIA Technologies, Inc. VT82C586 IDE [Apollo] (rev 06)
00:07.2 USB Controller: VIA Technologies, Inc. VT82C586B USB (rev 02)
00:07.3 PCI bridge: VIA Technologies, Inc. VT82C586B ACPI (rev 10)	<- PCI device now detected
00:08.0 VGA compatible controller: S3 Inc. ViRGE/DX or /GX (rev 01)
00:09.0 Multimedia audio controller: Ensoniq ES1371 [AudioPCI-97] (rev 06)
00:0a.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RT8029(AS)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/