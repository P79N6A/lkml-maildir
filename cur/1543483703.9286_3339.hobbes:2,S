Date: Mon, 01 Feb 1999 19:43:38 -0500
From: Zack Weinberg <>
Subject: Re: linux syslog problems (now linux-2.2.1+glibc-2.0.111)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/1/203

On Mon, 1 Feb 1999 15:17:18 -0800, John Kennedy wrote:
>[Andreas Jaeger]
>>  Could this be a bug in syslog?  Please try
>>  updating syslog first.  The home directory is:
>>  
ftp://ftp.infodrom.north.de/pub/people/joey/sysklogd/
>
>  [I'll CC the kernel folks and see if that rings any extra bells.]
>
>  I don't think so, but I've been trying to hold syslog a constant.
>Too many damn variables, but I did give it a thought.
[...]
>	select(9, [7 8], [], [], NULL)          = 1 (in [8])
>	time([917908734])                       = 917908734
>	recvfrom(8, "\1\1\6\0\237\6\0\0\230:\257\1\0\0"..., 4096, 0, {sin_famil
>y=AF_INET, sin_port=htons(68), sin_addr=inet_addr("132.241.175.1")}, [16]) = 3
>00
>	time([917908734])                       = 917908734
>	SYS_174(0xd, 0xbfffcb28, 0xbfffca9c, 0x8, 0xd) = 0
>	send(0, "<30>Feb  1 14:38:54 dhcpd: BOOTR"..., 80, 0) = 80
>	SYS_174(0xd, 0xbfffcb2c, 0, 0x8, 0xd)   = 0
>	time([917908734])                       = 917908734
>	SYS_174(0xd, 0xbfffcb28, 0xbfffca9c, 0x8, 0xd) = 0
>	send(0, "<30>Feb  1 14:38:54 dhcpd: Ignor"..., 98, 0
>								--- john
>
Try sending a stuck process SIGPIPE, syslog() has code to catch that
signal and reinitialize the connection.
Try tracing syslogd and see if it's receiving anything.  (The mark
messages are done by a timer, if the receive pipe is hosed in-kernel
those will still happen.)
zw
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/