Date: Wed, 28 Jan 2004 23:39:48 +0100
From: Andi Kleen <>
Subject: Re: [RFC/PATCH, 2/4] readX_check() performance evaluation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/28/210

On Wed, 28 Jan 2004 14:21:40 -0800 (PST)
Linus Torvalds <torvalds@osdl.org> wrote:
> 
> 
> On Wed, 28 Jan 2004, Andi Kleen wrote:
> > 
> > I have no idea how to do such an synchronization on i386/x86-64. E.g. Opteron
> > chipsets would likely support MCEs for bus aborts, but there is no way to 
> > synchronize it for writes.
> 
> Doing a status read from the device should do it (just read the config 
> space, for example).
The device is just not known. iirc you only get a bit in the bridge, which
leaves a wide choice. Ok, I guess you could read all config spaces in this
case
(I don't remember the ordering rules well enough - maybe one single config
space read is enough for all devices behind the bridge) 
> But remember: I suspect there are very _very_ few people who care at that 
> stage. 
Driver writers caring would be a good start.
I definitely agree that it shouldn't be enabled on anything near a production kernel.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/