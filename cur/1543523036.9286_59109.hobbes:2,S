Date: Fri, 21 Jan 2000 22:33:14 +0100
From: Guest section DW <>
Subject: Re: Problems with FS buffering on Linux 2.2.14
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/22/127

On Fri, Jan 21, 2000 at 02:37:26PM +0000, Alan Cox wrote:
> > Is there a kernel compiling option I missed which tells the kernel to
> > remove the reading buffers after every umount, and if so, which one?
> 
> There isnt. There is however an ioctl for it. Have a look at man hdparm
These days (that is, since 2.10) util-linux comes with blockdev, a utility
to do block-device iocts by hand.
# ./blockdev -?
Usage: blockdev [-V] [-v|-q] commands devices
Available commands:
        --setro (set read-only)
        --setrw (set read-write)
        --getro (get read-only)
        --getss (get sectorsize)
        --getsize       (get size)
        --setra READAHEAD       (set readahead)
        --getra (get readahead)
        --flushbufs     (flush buffers)
        --rereadpt      (reread partition table)
#
Especially --flushbufs is often needed in scripts that
manipulate loop devices or partition tables.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/