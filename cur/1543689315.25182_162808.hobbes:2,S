Date: 03 Sep 2003 19:33:31 -0400
From: Trond Myklebust <>
Subject: Re: [NFS] attempt to use V1 mount protocol on V3 server
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/3/402

>>>>> " " == Pascal Schmidt <der.eremit@email.de> writes:
     > a) when unmounting an NFS volume, the server gets sent an umount
     >    request indicating version 1 of the protocol, sending a
     >    version 3 umount is not even attempted
     > b) when something goes wrong during the NFSv3 mount, the kernel
     >    seems to fall back to NFSv2, re-attempting the mount with
     >    mount protocol version 1
     > I think both of this should not be done when the remote side
     > does not advertise mount protocol version 1 support.
     > Question: is this a problem of the user-space mount utility or
     > is it an in-kernel problem?
  a) Is a feature of the 'mount' program. An NFS server should in any
     case not rely on the umount being sent: a client may have crashed
     or been firewalled, or whatever...
  b) Is a kernel feature which will never trigger if you are passing a
     correct filehandle from your mountd.
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/