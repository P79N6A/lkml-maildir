Date: Tue, 13 Mar 2007 10:53:31 +0100
From: Soeren Sonnenburg <>
Subject: Re: s2ram still broken with CONFIG_NO_HZ / HPET (macbook pro)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/13/102

On Mon, 2007-03-12 at 19:59 +0900, Tejun Heo wrote:
> Soeren Sonnenburg wrote:
> > Elsewise I still see the
> > 
> > ATA: abnormal status 0x80 on port 0x000140df
> > ATA: abnormal status 0x80 on port 0x000140df
> > ata1.00: configured for UDMA/33
> > ata3.01: revalidation failed (errno=-2)
> > ata3: failed to recover some devices, retrying in 5 secs
> > ATA: abnormal status 0x7F on port 0x000140df
> > ATA: abnormal status 0x7F on port 0x000140df
> > ata3.01: configured for UDMA/133
> 
> I can't tell much about HPET timer, only the ATA messages.
> 
> Abnormal messages can be ignored.  Hmmm... revalidation failed without
> explaining why.  Can you apply the attached patch and see whether the
> added message gets printed?
Well it is there:
ATA: abnormal status 0x80 on port 0x000140df
ata1.00: configured for UDMA/33
ata3.01: NODEV after polling detection
ata3.01: revalidation failed (errno=-2)
ata3: failed to recover some devices, retrying in 5 secs
ATA: abnormal status 0x7F on port 0x000140df
ATA: abnormal status 0x7F on port 0x000140df
ata3.01: configured for UDMA/133
SCSI device sda: 234441648 512-byte hdwr sectors (120034 MB)
sda: Write Protect is off
sda: Mode Sense: 00 3a 00 00
SCSI device sda: write cache: enabled, read cache: enabled, doesn't
support DPO or FUA
just FYI a macbook pro has a sata disc + a dvd drive registered
as /dev/sda and /dev/scd0 driven by ata_piix:
dmesg | grep ata_piix 
ata_piix 0000:00:1f.1: version 2.10ac1
scsi0 : ata_piix
scsi1 : ata_piix
ata_piix 0000:00:1f.2: MAP [ P0 P2 XX XX ]
ata_piix 0000:00:1f.2: invalid MAP value 0
scsi2 : ata_piix
scsi3 : ata_piix
Soeren
-- 
Sometimes, there's a moment as you're waking, when you become aware of
the real world around you, but you're still dreaming.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/