Date: Tue, 3 Dec 2002 15:38:28 +0100
From: "Petr Vandrovec" <>
Subject: Re: [TRIVIAL PATCH 2.5] Uninitialised timer in matroxfb_DAC
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/12/3/72

On  3 Dec 02 at 9:23, Lucio Maciel wrote:
> 
> Fix an Uninitialised timer in matroxfb_DAC1064.c
> > > Uninitialised timer!
> > > This is just a warning.  Your computer is OK
> > > function=0xc02a654c, data=0x0
> > > Call Trace:
> > >  [<c0123e7f>] check_timer_failed+0x63/0x65
> > >  [<c02a654c>] cursor_timer_handler+0x0/0x3c
> > >  [<c0123ec0>] add_timer+0x3f/0xa1
> > >  [<c02a68fa>] fbcon_startup+0x4b/0x4d
> > >  [<c023c400>] take_over_console+0x29/0x1c8
> > >  [<c02a5be8>] register_framebuffer+0xe9/0x16d
> > >  [<c02ad111>] initMatrox2+0x849/0xaba
But this warning is not caused by uninitialized timer in either
of matroxfb_DAC1064.c or matroxfb_Ti3026.c, it is caused by reverted
patch to drivers/video/fbcon.c (which was already posted here).
cursor.timer inside matrox_fb_info structure is initialized in 
drivers/video/matrox/matroxfb_base.c, in matroxfb_probe function.
So please drop these both patches, to matroxfb_DAC1064.c and
matroxfb_Ti3026.c. They do nothing good, they only cause
init_timer() to be invoked from timer handler itself, and besides that
it fixes nothing, I think that it is also really dangerous thing...
Is my code really so hard to read, that people find nonexistant
uninitialized timers in both ncpfs and matroxfb?
                                                    Best regards,
                                                        Petr Vandrovec
                                                        vandrove@vc.cvut.cz
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/