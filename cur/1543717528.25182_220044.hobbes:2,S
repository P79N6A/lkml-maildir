Date: Wed, 12 May 2004 12:26:28 -0700
From: Andrew Morton <>
Subject: Re: 2.6.6-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/12/148

Sean Neakums <sneakums@zork.net> wrote:
>
> Andrew Morton <akpm@osdl.org> writes:
> 
>  > psmouse-fix-mouse-hotplugging.patch
>  >   psmouse: fix mouse hotplugging
> 
>  This change seems to cause psmouse.proto=bare to no longer work as a
>  way of disabling the passthrough port on my laptop's Synaptics touchpad.
OK, thanks.  I'll drop it.
This patch fixes hotplugging of PS/2 devices on hardware which don't
support hotplugging of PS/2 devices.  In other words, most desktop
machines.
---
 25-akpm/drivers/input/mouse/psmouse-base.c |    2 +-
 1 files changed, 1 insertion(+), 1 deletion(-)
diff -puN drivers/input/mouse/psmouse-base.c~psmouse-fix-mouse-hotplugging drivers/input/mouse/psmouse-base.c
--- 25/drivers/input/mouse/psmouse-base.c~psmouse-fix-mouse-hotplugging	2004-05-08 13:13:40.636484424 -0700
+++ 25-akpm/drivers/input/mouse/psmouse-base.c	2004-05-08 13:13:40.640483816 -0700
@@ -470,7 +470,7 @@ static int psmouse_probe(struct psmouse 
  * Then we reset and disable the mouse so that it doesn't generate events.
  */
 
-	if (psmouse_command(psmouse, NULL, PSMOUSE_CMD_RESET_DIS))
+	if (psmouse_reset(psmouse))
 		printk(KERN_WARNING "psmouse.c: Failed to reset mouse on %s\n", psmouse->serio->phys);
 
 /*
_
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/