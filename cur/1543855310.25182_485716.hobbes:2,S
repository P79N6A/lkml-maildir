Date: Sun, 26 Nov 2006 01:20:46 -0600
From: Robert Hancock <>
Subject: Re: [patch] x86: unify/rewrite SMP TSC sync code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/26/10

Wink Saville wrote:
> Arjan van de Ven wrote:
>>> Actually, we need to ask the CPU/System makers to provide a system wide
>>> timer that is independent of the given CPU. I would expect it quite 
>>> simple
>>
>> they exist. They're called pmtimer and hpet.
>> pmtimer is port io. hpet is memory mapped io.
> 
> Thanks for the info. I took a look at Documentation/hpet.txt and 
> drivers/char/hpet.c
> and see that hpet_mmap is implemented in the driver but nothing hpet.txt 
> indicates
> what is being mapped.
> 
> Could you point me to any other documentation? I did find the following:
> 
> 
http://www.intel.com/hardwaredesign/hpetspec_1.pdf
> 
> Are you aware of any example user code that uses the mmap capability of 
> hpet?
Generally user mode code should just be using gettimeofday. When the TSC 
is usable as a sane time source, the kernel will use it. When it's not, 
it will use something else like the HPET, ACPI PM Timer or (at last 
resort) the PIT, in increasing degrees of slowness.
-- 
Robert Hancock      Saskatoon, SK, Canada
To email, remove "nospam" from hancockr@nospamshaw.ca
Home Page: 
http://www.roberthancock.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/