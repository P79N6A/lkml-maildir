Date: Sun, 12 Sep 2004 22:33:08 +0200
From: Andrea Arcangeli <>
Subject: Re: [PATCH 1/3] Separate IRQ-stacks from 4K-stacks option
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/12/192

On Sun, Sep 12, 2004 at 09:35:42PM +0200, Ingo Molnar wrote:
> no. A 2 msec nonpreemptable delay is a 2 msec delay, irqs on or off
> alike.
irq-latency is an order of magnitude higher prio, than the scheduler
latency. above you only talk about scheduler latency.
with irq on and nested irqs enabled, the irq latency will have a chance
to be less than 2 msec.
take audio playback for example, with an huge buffering between
userspace and kernel and kernel submitting the next I/O via irqs, the
scheduler/userspace latency almost doesn't matter, only the
_irq_latency_ matters. 
hence I don't think not allowing nested irqs at all is a good idea and
it's a nice feature to support them.
ideally all irq handlers should be quick, but if some is not quick,
really it must enable irqs and allow other lowlatency interrupts to be
nested on top of it (like audio/video etc..).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/