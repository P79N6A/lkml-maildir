Date: Thu, 2 Dec 1999 21:07:38 -0500 (EST)
From: "Benjamin C.R. LaHaise" <>
Subject: Re: b_end_io
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/2/147

On Fri, 3 Dec 1999, Peter T. Breuer wrote:
> There's an end_buffer_io_async too .. Sigh. What I want is to commit a
> buffer to a certain target area without discarding the buffer. Then I
> want to retarget the buffer in a different (or the same buffer_head)
> and commit it again. "The same" buffer_head would be nice.
brw_page uses end_buffer_io_async.  You can implement your own replacement
for end_buffer_io_async that instead of freeing the async buffer heads and
unlocking the page, it passes the page onto a kernel thread that then
relocates and writes the page out to its final location (since you can't
sleep in your b_end_io helper). 
		-ben
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/