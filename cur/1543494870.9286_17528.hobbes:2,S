Date: Thu, 6 May 1999 10:08:36 -0400 (EDT)
From: "Ben 'The Con Man' Kahn" <>
Subject: Re: Linux can't stay up for more than an hour?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/6/139

On Thu, 6 May 1999, Pavel Machek wrote:
> > 	I'm hammering a Linux machine by placing a high volume
> > (1,000,000 hits/day, 500,000 CGI hits/day) web site on it.  The box can
> > certainly handle the traffic -- it's a dual Pentium II-400 machine running
> > on a network with plenty of bandwidth.  Yet it dies constantly.  I'll
> > provide as much information as I can in case someone can help point me in
> > the right direction.
> > 
> > Kernel: 2.2.6 with SMP
> > Memory: 128MB
> > Disks: 9Gig local, 12Gig remote NFS from Irix 6.5.2 and locking on.
> > knfsd: 981204-1
> > 
> > 	The machine dies so hard that the screen goes black and does
> > NOTHING.  Nothing on the screen, no keyboard input is accepted, no network
> > access is accepted.  When we recycle the machine, it usually won't restart
> > because of file corruption and we need to get someone to the box and run
> > fsck on it.  
> 
> Please try dual Pentium II-400 in _UP_ mode. Problem could go away and
> machine should be able to sustain that rate. If this does not help, go
> for 2.0.X UP temporarily.
> 
> 									Pavel
> PS: If you are not able to sustain rate on UP, I do not think SMP will
> help.
	We have single processor machines we tried moving the site onto.
These machines couldn't handle the load.  We watched as the load climbed
to 80...  90...  And then I was distracted for a few minutes and someone
told me the machine had crashed.  I wasn't surprised -- it couldn't handle
it.
	As for 2.0.x...  We make heavy use of NFS.  We need file locking
to work.  So we can't use it.  
	Thanks for the advice though...
						-Ben
------------------------------------ |\      _,,,--,,_  ,) ----------
Benjamin Kahn                        /,`.-'`'   -,  ;-;;'
(212) 924 - 2220                    |,4-  ) )-,_ ) /\
ben@cybersites.com --------------- '---''(_/--' (_/-' ---------------
	Drawing on my fine command of language, I said nothing.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/