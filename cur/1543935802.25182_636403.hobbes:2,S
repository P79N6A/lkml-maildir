Date: Wed, 09 Jan 2008 12:57:27 -0800
From: "H. Peter Anvin" <>
Subject: Re: More breakage in native_rdtsc out of line in git-x86
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/9/279

Andi Kleen wrote:
> 
> People tend to make jokes about optimizing the idle loop too, but they're
> actually wrong. Exit latency for the idle loop is important -- it 
> decides how quickly you can react to load changes on idle CPUs.
> 
> For short udelays I suspect shorter exit latency is also moderately useful.
> 
> But anyways there are plenty of gtod users outside the X server.
> 
> e.g. common not user space case is packet timestamps.
> 
It's also very common to put gtod calls around select and poll, because 
the standard interface doesn't tell you how long you have been away 
(Linux at least used to have it, but glibc "fixed" that...)
	-hpa