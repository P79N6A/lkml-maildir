Date: Mon, 18 Sep 2000 22:37:31 +0200
From: Torben Mathiasen <>
Subject: Re: [PATCH] Re: SCSI scanning
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/18/92

On Mon, Sep 18 2000, Eric Youngdale wrote:
>     Historical.  SCSI was made modular very early on when the modules
> technology was pretty primative.  As time has gone on, the two
> initialization paths have converged, and now they are essentially redundant.
>
Thats understandable.
>     The one thing that is different in the module/non-module case is for the
> case of SCSI compiled into the kernel, you need to look at the list of
> compiled-in host adapters.  Unless of course you are cleaning that up as
> well.  I haven't seen the threads that got this work started, and it is only
> in reading this morning's messages that I see the rationale for all these
> changes in the first place.  There are a couple of ways of addressing this,
> some better than others, and some are more work than others.  I can give you
> assistance and ideas if you want.
>
Thanks a lot. I've started to do the basics, like getting all subsystems to work
with the module_init/exit stuff. This of course leds to some rewriteting/restructuring
of the scsi layer. Nothing major though.
It seems I can't avoid some of the ifdef MODULE stuff in the initialization routines
in scsi.c, exactly because of the issues you mention (init builtin host adapters when
scsi is also builtin)
Let me know if you have any hints as what should be looked at while we are
at it. I'll send you a patch soon for your comments.
-- 
Torben Mathiasen <tmm@image.dk>
Linux ThunderLAN maintainer 
http://tlan.kernel.dk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/