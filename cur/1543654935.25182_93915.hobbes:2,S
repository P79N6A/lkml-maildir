Date: Wed, 04 Dec 2002 13:35:00 -0600
From: James Bottomley <>
Subject: Re: [BKPATCH] bus notifiers for the generic device model
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/12/4/143

greg@kroah.com said:
> Why not have a call in the driver that notifies the bus specific core
> of this?  Or just check the status of the return value of your "probe"
> function that the bus provides.  See usb_device_probe() and
> pci_device_probe() for examples of this. 
Well, I did do it this way for parisc.  However, I assumed from reading the 
driver model docs that we were transitioning to using the generic driver probe 
rather than doing probe interceptions like this.
Doing it like this just seems rather clumsy.  wouldn't it be better to 
deprecate bus specific registrations in favour of the generic one?
There is another advantage to notifiers: they can be chained.  Certain bus 
architectures need to do additional setup for things like pci devices.  They 
would be able to do this by attaching a notifier.
James
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/