Date: Tue, 27 Sep 2005 20:29:44 -0400 (EDT)
From: Justin Piszcz <>
Subject: TCP=828mbps, UDP=1mbps? (both running 2.6.13.2)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/27/298

Any idea why with TCP I get 828 megabits on my gigabit connection but only 
1.05 megabits with UDP?
Using iperf to benchmark.
TCP
------------------------------------------------------------
Server listening on TCP port 5001
TCP window size: 85.3 KByte (default)
------------------------------------------------------------
[  4] local 192.168.1.12 port 5001 connected with 192.168.1.253 port 
48853
[  4]  0.0-35.1 sec  3.38 GBytes    828 Mbits/sec
UDP
------------------------------------------------------------
Server listening on UDP port 5001
Receiving 1470 byte datagrams
UDP buffer size:   101 KByte (default)
------------------------------------------------------------
[  3] local 192.168.1.12 port 5001 connected with 192.168.1.253 port 
32773
[  3]  0.0-10.0 sec  1.25 MBytes  1.05 Mbits/sec  0.043 ms    0/  893 (0%)
p34:~$ netstat -i
Kernel Interface table
Iface   MTU Met   RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR 
Flg
eth0   1500 0   1266337      0      0      0  2588651      0      0      0 
BMRU
eth1   1500 0      2358      0      0      0     2229      0      0      0 
BMRU
eth2   1500 0     39706      0      0      0     5747      0      0      0 
BMNRU
lo    16436 0       184      0      0      0      184      0      0      0 
LRU
box2:~$ netstat -i
Kernel Interface table
Iface   MTU Met   RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR 
Flg
eth0   1500 0   2955176      0      0      0  3696501      0      0      0 
BMRU
lo    16436 0       612      0      0      0      612      0      0      0 
LRU
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/