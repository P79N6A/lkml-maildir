Date: Wed, 2 Feb 2000 16:11:46 +0100 (CET)
From: Jean-Philippe GRIMALDI <>
Subject: Re: Resource problem with opl3 and adlib_card
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/2/58

On Wed, 2 Feb 2000, Thomas Leineweber wrote:
> When I remove the modules one after another (in this order), I get at
> the module opl3 the following kernel message:
> 
>    Trying to free nonexistent resource <0388-038b>
I had sent a patch to the list a few days ago concerning SB PNP
initialization fixes that included a fix for this problem.
The relevant part of the patch is :
diff -dru linux.plain/drivers/sound/opl3.c linux/drivers/sound/opl3.c
--- linux.plain/drivers/sound/opl3.c    Fri Nov 12 13:29:47 1999
+++ linux/drivers/sound/opl3.c  Mon Jan  3 23:41:44 2000
@@ -1207,1 +1207,1 @@
-       if (devc)
+       if (devc && io != -1)
Another fix would be to completely remove resource (de)allocation from
opl3.c or adlib_card.c but maybe this would have adverse effects on
certain hardware.
If some of you are interested by my whole patch, just ask me, it is now
ported to 2.3.42 (I need this patch to get my SB AWE64 PNP recognised by
the sound drivers).
Regards,
Jean-Philippe GRIMALDI
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/