Date: Tue, 20 Jan 2009 01:39:39 +0000 (UTC)
From: Peter Annema <>
Subject: Re: [bisected] 2.6.29-rc1 Firefox crashing on page load
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/19/545

Justin Madru <jdm64 <at> gawab.com> writes:
> Ok, finally bisected the bug, but the commit isn't related to networking!
> I did: git revert 4217458dafaa57d8e26a46f5d05ab8c53cf64191
> on current git and that fixed the bug.
...
>  #ifdef CONFIG_X86_32
> -asmlinkage int sys_rt_sigreturn(unsigned long __unused)
> +asmlinkage int sys_rt_sigreturn(struct pt_regs regs)
>  {
> -       struct pt_regs *regs = (struct pt_regs *)&__unused;
> -
> -       return do_rt_sigreturn(regs);
> +       return do_rt_sigreturn(&regs);
>  }
Is sizeof(struct pt_regs) different from sizeof(unsigned long)? If so, is some
code somewhere messing with the stack and not expecting a struct pt_regs to have
been put on it?