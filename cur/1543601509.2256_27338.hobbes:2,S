Date: Tue, 18 Sep 2001 17:16:05 +0300 (EEST)
From: Yaroslav Popovitch <>
Subject: scsi/cpqfc.o BUG in kernel-2.4.10-pre11
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/18/217

I found that cpqfc driver is not compilable,because
in file cpqfcTSinit.c are used two undefined macro.
SCSI_IOCTL_FC_TARGET_ADDRESS, line 662 of cpqfcTSinit.c
SCSI_IOCTL_FC_TDR	     ,line 680 -//-
As I understand they should be defined in scsi.h
One of defines was in kernel-2.2
Another was in  someone patch.
I made unified patch.But I do not guarantee,that defines are 100%
correct.
MY PATCH:
diff -ur kernel-2.4.10/linux/drivers/scsi/scsi.h linux/drivers/scsi/scsi.h
--- kernel-2.4.10/linux/drivers/scsi/scsi.h     Wed Aug 15 22:23:11 2001
+++ linux/drivers/scsi/scsi.h   Fri Sep 14 21:34:08 2001
@@ -848,6 +848,10 @@
 
 #endif
 
+#define SCSI_IOCTL_FC_TARGET_ADDRESS 0x5387
+
+/* Used to invoke Target Defice Reset for Fibre Channel */
+#define SCSI_IOCTL_FC_TDR 0x5388
 /*
  * Overrides for Emacs so that we follow Linus's tabbing style.
  * Emacs will notice this stuff at the end of the file and automatically
THX,YP
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/