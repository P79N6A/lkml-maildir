Date: Thu, 13 Sep 2007 22:19:01 +0100
From: David Howells <>
Subject: Re: Credentials test patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/13/315

Linus Torvalds <torvalds@linux-foundation.org> wrote:
> That "current_cred" thing is really too ugly to live.
Agreed.
> Why is it trying to make it look like a variable?
Like 'current' for instance?
	static __always_inline struct task_struct *get_current(void)
	{
		return x86_read_percpu(current_task);
	}
	#define current get_current()
> That will just confuse people, and/or make them think it's a cheap thing
> rather than some complex function call.
Yes, I know it's silly.
One thing I was trying to do was make it possible to change how the cred
structure was accessed without having to keep going back and change a whole
load of stuff each time.
> IOW, this patch should be taken out and shot, for apparently actively 
> trying to obfuscate what the heck is going on.
It's a 'test' patch, as you'll note from the subject, and not particularly
near completion.  I'm interested in garnering useful comments, particularly on
the points of concern that I raised.
I have no intention of asking you to merge it as it stands - I was hoping that
would be clear.
David
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/