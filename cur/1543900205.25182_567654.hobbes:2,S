Date: Wed, 11 Jul 2007 13:04:39 +0200
From: "Rafael J. Wysocki" <>
Subject: Re: Hibernation Redesign
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/11/145

On Wednesday, 11 July 2007 12:42, Miklos Szeredi wrote:
> > > > Yes, I suppose.  You're certain the old kernel's devices are completely
> > > > quiescent at that point?
> > > 
> > > That's exactly the problem; trying to save a state from within the
> > > kernel would probably necessitate a freezer hack, which we are
> > > trying so dearly to avoid.
> > 
> > Well, I don't think that avoiding the freezer whatever it takes
> > would be a good idea.  There needs to be some balance. ;-)
> 
> Well, it takes some extra locking in the drivers.  Which is needed
> _anyway_ if we want to have a working s2ram without the freezer.
> 
> With the kexec approach, I don't see any extra requirements from the
> kernel to be able to drop the freezer.
This is not my point.  I think that if what it takes to implement the kexec
approach, as a complete working solution, is much more complicated than
what we have now, then the current soultion is favorable.
Anyway, to implement the kexec approach we must separate the hibernation
from the suspend at the drivers level, which I'm still going to do, but I need to
take part in endless discussions regarding the freezer, how it is bad and
how we should drop it, because it breaks things (which NB is not true, because
it doesn't).
From a practical point of view, the freezer is not the most problematic part
of the infrastructure.  For example, none of the bug reports that we have
registered in the bugzilla is related to the freezer.  Moreover, to drop it,
we first need to redesign the other things.
Greetings,
Rafael
-- 
"Premature optimization is the root of all evil." - Donald Knuth
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/