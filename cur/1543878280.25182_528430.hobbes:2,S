Date: Sat, 07 Apr 2007 13:17:22 -0500
From: "Steve French (smfltc)" <>
Subject: Re: Samba, inotify on a Windows share
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/7/129

> Here's what I try to do. I want to monitor from a Linux Gentoo 
> machine with inotify enabled on a directory for new files hosted by a 
> windows share(Windows server, not Samba).
Samba now uses inotify if available on the server side to support the 
Directory Change Notification requested by certain cifs client (Windows 
explorer on most Windows clients e.g.) but the Linux CIFS client does 
not have a complete implementation of the mapping between the fcntl 
dnotify (the old way to do the same thing on Linux) and the cifs 
transact change notify request on the wire.  It would not be too hard to 
finish up if anyone is looking for a small project.   support for 
inotify on the client (mapping to the cifs transact change notify on the 
wire) would be a little harder because Linux's inotify is a broader API 
than the older fcntl but it could be done for some common cases.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/