Date: Wed, 28 Nov 2007 11:01:11 +0100
From: Pierre Ossman <>
Subject: Re: m68k build failure
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/28/53

On Wed, 28 Nov 2007 10:27:18 +0100 (CET)
Geert Uytterhoeven <geert@linux-m68k.org> wrote:
> 
> So the problem is in scripts/mod/file2alias.c, which gives a different
> sizeof(struct sdio_device_id) on the cross-compile host:
>   - sizeof(struct sdio_device_id) = 12 on ia32
>   - sizeof(struct sdio_device_id) = 10 on m68k
> 
> While file2alias.c has code to handle 32 vs. 64 bit correctly when
> cross-compiling, it doesn't handle alignment differences between host
> and target.
> 
Delightful. So what are the options here? Start packing the device table structs is the obvious quick fix. Declaring cross-compilation unsupported isn't really viable, and I guess determining padding differences is far from easy.
Rgds
Pierre
[unhandled content-type:application/pgp-signature]