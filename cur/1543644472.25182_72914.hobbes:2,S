Date: Mon, 23 Sep 2002 21:59:49 +0200
From: Sam Ravnborg <>
Subject: Re: [kbuild-devel] linux kernel conf 0.6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/23/168

On Sun, Sep 22, 2002 at 05:36:25PM -0500, Kai Germaschewski wrote:
> > > scripts/lkc/Makefile*
> > > - As kbuild does not distingush between individual objects,
> > >   used for a given target, but (try to) build them all, I have
> > >   found a solution where I create one Makefile for each executable.
> > >   I could not see a clean way to integrate this in kbuild, and finally
> > >   decided that in this special case a number of Makefiles did not
> > >   hurt too much.
> > 
> > Here I thought about using "ifeq ($(MAKECMDGOALS),...)" to keep them in a
> > single file. Did you try something like this?
> 
> That's now handled without obvious hacks.
Applying $(sort ) to create a unique list of obj files does not solve
this issue, only hide it.
kbuild will compile all .o files originating from .c files when 
building conf and mconf.
Likewise when building qconf, all .o files originating from both .c _and_
.cc files will be built.
In other words the current solution leverage on the fact that the only
problematic object files is qconf.o based on qconf.cc.
It is OK that the first "make oldconfig" - automatic or not - 
needs to compile one extra .o file (mconf.o), since this is relatively fast.
PS. linux-isdn.bkbits.net/linux-2.5.kconfig has not showed up yet - mentioned
the patch you posted a diff for.
	Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/