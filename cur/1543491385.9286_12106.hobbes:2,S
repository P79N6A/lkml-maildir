Date: Tue, 30 Mar 1999 10:33:50 +0300 (   )
From: Sami Farin <>
Subject: Re: odd linux 2.2.1 & 2.2.3 freezes *** and 2.2.4 freezes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/30/20

On Thu, 11 Mar 1999, Sami Farin wrote:
> Part I, here you are.
> 
> Linux 2.2.1 has hanged in the same way five times in
> three weeks.
...
Well, I just used 2.2.0-pre6 for 14 days without any probs. When
2.2.4 was released, I decided to collect more hex-numbers.
Same hw setup, .config etc as with 2.2.*...
And again, only running bladeenc...
First try (uptime 29h): 2.2.4 rebooted itself, no hex.
Second try (uptime 23h): freezed in X, no hex.
Third try (uptime 8h): freeze in console and screen full of hex numbers!
So full that the 1st line (at least) was missing (so no EAX etc regs) :(
ESI:c0328fc0 EDI:c21dc1d4 EBP:c21dc000 ESP:c21dc240
Process: 24,ac,84,dc,9a,18,0e,... (I hexified the chars (yes, odd))
Pid: 4 (it was ***kswapd*** after the next boot)
Pr.number: 39
stackpage c21dd000
[if some hex nr maps to a symbol, I appended it after the hex]
stack:
ffffffff  c0328fc0  c21dc1d4  c21dc000  c011335e(printk)
c21dc2f4  c01384cd(sem_exit)  c0328fc0  c21dc2f4  0000000b
00000020  c21dc000  c0119278(acct_process)  c21dc000  c21dc1d4
c011684f(do_exit)  0000000b  c21dc2f4  00000020  c21dc000
c01168b4(do_exit)  00010202  c21dc000
[call trace as seen on my screen, notice how it gets truncated at 80 chars!
 every sixth value is quite useless...]
Call trace: [<c011335e>] [<c01384cd>] [<c0119278>] [<c011684f>] [<c01168b4>] [<c
            printk       sem_exit     acct_process do_exit      do_exit
[<c01e0e8e>]  [<c010ead4>]  [<c01e0e8e>]  [<c01096ad>]  [<c01168b4>]  [<c01100
error_table  do_page_fault  error_table   error_code    do_exit       ???
[<c0109ac4>]  [<c01df9f8>]  [<c01e0e8e>]  [<c010ead4>]  [<c01e0e8e>]  [<c01133
die_if_no_fixup error_table error_table   do_page_fault error_table   ???
[loads of call traces, then...]
code: c7 05 00 00 00 00 00 00 00 00 83 c4 08 5b 5e 5f 5d 59 5a c3
      and as we all know, this is at mm/slab.c:
        /* FORCE A KERNEL DUMP WHEN THIS HAPPENS. SPEAK IN ALL CAPS.
        *(int *) 0 = 0;
Aiee, killing interrupt handler
kfree: Bad obj c010ead4 (do_page_fault)
**********
oh, speaking of kswapd,
[root@safari /wrk/mp3]# swapon -s
Filename                        Type            Size    Used    Priority
/dev/hda10                      partition       72256   2524    1
/dev/hdc1                       partition       126972  2496    1
those disks have been given 'hdparm -X34 -d1 -u1 -c1 -m16'...
That's about it. If this freeze-bug is fixed in 2.2.5, I'd be very
pleased to hear it from someone who knows it FOR SURE! Thanks.
Please CC :)
-- 
Safari - sfarin@ratol.fi - PGP key 0x443BD271 - 
http://surf.to/safari
 "One World, One Web, One Program" - Microsoft Promotional Ad
 "Ein Volk, Ein Reich, Ein Fuhrer" - Adolf Hitler
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/