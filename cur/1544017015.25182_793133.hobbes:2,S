Date: Fri, 16 Jan 2009 10:24:03 +0900
From: Hitoshi Mitake <>
Subject: Re: [PATCH 1/1] edac x38: new MC driver module
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/15/744

I wrote wrong mail address of LKML:-(
Resending, sorry.
On Fri, 5 Dec 2008 00:58:41 +0900
Hitoshi Mitake <h.mitake@gmail.com> wrote:
> On Tue, 2 Dec 2008 08:58:19 +0900
> "Hitoshi Mitake" <h.mitake@gmail.com> wrote:
> 
> > On Mon, Dec 1, 2008 at 22:59, Ingo Molnar <mingo@elte.hu> wrote:
> > >
> > > * Hitoshi Mitake <h.mitake@gmail.com> wrote:
> > >
> > >> On Mon, Dec 1, 2008 at 01:15, Ingo Molnar <mingo@elte.hu> wrote:
> > >> >
> > >> > * Hitoshi Mitake <h.mitake@gmail.com> wrote:
> > >> >
> > >> >> On Sun, 30 Nov 2008 10:24:07 +0100
> > >> >> Ingo Molnar <mingo@elte.hu> wrote:
> > >> >>
> > >> >> >
> > >> >> > the 32-bit build broke promptly - readq/writeq is a family of APIs that
> > >> >> > has to be either fully provided or not provided at all. The fix is below.
> > >> >>
> > >> >> Thanks for your fix and adding!
> > >> >> When will this patch be added to mainline?
> > >> >> I want to rewrite x38_edac.c to adapt new APIs.
> > >> >
> > >> > v2.6.29 at the earliest - if there are no regressions. A number of
> > >> > drivers use these APIs and usage is a bit messy - so bugs could be
> > >> > triggered, etc.
> > >> >
> > >> Thanks. What is URL of your repository?
> > >> I want to look your tree and test it.
> > >
> > > you can pick up tip/master via:
> > >
> > >  
http://people.redhat.com/mingo/tip.git/README
> > >
> > 
> 
Ingo
I found that my previous patch contents wrong point, sorry.
Previous patch can't provide HAVE_READQ and HAVE_WRITEQ
to Kconfigs of other part well.
So I wrote a patch to fix this.
Please use.
Signed-off-by: Hitoshi Mitake <h.mitake@gmail.com>
diff --git a/arch/x86/Kconfig b/arch/x86/Kconfig
index 73f7fe8..6f1abcd 100644
--- a/arch/x86/Kconfig
+++ b/arch/x86/Kconfig
@@ -19,8 +19,6 @@ config X86_64
 config X86
 	def_bool y
 	select HAVE_AOUT if X86_32
-	select HAVE_READQ
-	select HAVE_WRITEQ
 	select HAVE_UNSTABLE_SCHED_CLOCK
 	select HAVE_IDE
 	select HAVE_OPROFILE
@@ -1969,6 +1967,12 @@ config HAVE_ATOMIC_IOMAP
 	def_bool y
 	depends on X86_32
 
+config HAVE_READQ
+	def_bool y
+
+config HAVE_WRITEQ
+	def_bool y
+
 source "net/Kconfig"
 
 source "drivers/Kconfig"