Date: Mon, 02 Feb 2004 12:45:19 -0800
From: Mark Haverkamp <>
Subject: Re: ide taskfile and cdrom hang
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/2/177

On Mon, 2004-02-02 at 11:45, Bartlomiej Zolnierkiewicz wrote:
> On Monday 02 of February 2004 19:46, Mark Haverkamp wrote:
> > On Sun, 2004-02-01 at 12:48, Bartlomiej Zolnierkiewicz wrote:
[ .... ]
> >
> > Thanks,
> >
> > hdparm -I /dev/hda didn't hang.  I got this on the console:
> >
> > hda: drive_cmd: status=0x51 { DriveReady SeekComplete Error }
> > hda: drive_cmd: error=0x04Aborted Command
> 
> That's okay.
> hdparm first tries WIN_IDENTIFY which can fail on ATAPI devices.
> 
> > I added the patch that you provided and I still get the hang when I cat
> > /proc/ide/hda/identify.  I put a printk In the code to make sure that it
> > was going through the added code, and it is.
> 
> So it is something different.  Can you give this patch a go?
> We will know more about what's going on.
> 
> Thanks,
> --bart
OK, Here it is:
hda: (WAIT_NOT_BUSY) status=0xd0
hda: (CHECK_STATUS) status=0xd0
hda: (BUSY) status=0xd0
hda: lost interrupt
hda: (BUSY) status=0x50
hda: lost interrupt
hda: (BUSY) status=0x50
hda: lost interrupt
hda: (BUSY) status=0x50
hda: lost interrupt
hda: (BUSY) status=0x50
-- 
Mark Haverkamp <markh@osdl.org>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/