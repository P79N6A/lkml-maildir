Date: Mon, 30 Jan 2006 01:13:48 +0200 (EET)
From: Dimitris Zilaskos <>
Subject: RAID autodetection not working when booting with initramfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/29/155

 	Hi ,
 	I am building a diskless system with 2.6.15.1 kernel. Eveyrthing is built 
in the kernel ( no modules). It is booting with the help of pxelinux and 
then proceeds to nfsmount its root filesystem etc.The system has a raid1 
array on two scsi disks.
 	Recently I added an initramfs image to the boot procedure (append 
initrd=initramfs.img) for some tests. Since then the raid array is not 
autodetected (with identical kernel). If I remove the initramfs line and 
reboot , the array is autodetected. When I am using initramfs I can 
manually activate it using mdadm.
 	Is this by design or something is wrong ?
 	TIA,
--
============================================================================
Dimitris Zilaskos
Department of Physics @ Aristotle University of Thessaloniki , Greece
PGP key : 
http://tassadar.physics.auth.gr/~dzila/pgp_public_key.asc
 	  
http://egnatia.ee.auth.gr/~dzila/pgp_public_key.asc
MD5sum  : de2bd8f73d545f0e4caf3096894ad83f  pgp_public_key.asc
============================================================================
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/