Date: Wed, 13 Dec 2006 21:19:44 +0100
From: Ingo Molnar <>
Subject: Re: [patch] Add allowed_affinity to the irq_desc to make it possible to have restricted irqs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/13/233

* Eric W. Biederman <ebiederm@xmission.com> wrote:
> > also there might be hardware that can only route a given IRQ to a 
> > subset of CPUs. While setting set_affinity allows the 
> > irqbalance-daemon to 'probe' this mask, it's a far from optimal API.
> 
> I agree, I am just arguing that adding another awkward interface to 
> the current situation does not really make the situation better, and 
> it increases our support burden.
well, please suggest a better interface then.
> For a bunch of this it is arguable that the way to go is simply to 
> parse the irq type in /proc/interrupts.  All of the really weird cases 
> will have a distinct type there.  This certainly captures the MSI-X 
> case.  There is still a question of how to handle the NUMA case but...
... so parsing /proc/interrupts should be that interface? That is a 
historically very volatile interface. It's mostly human-parsed, and we 
frequently twiddle it - genirq changed it too. In v2.6.19 we had fasteio 
instead of fasteoi there.
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/