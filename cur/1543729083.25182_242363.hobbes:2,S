Date: Mon, 16 Aug 2004 12:42:51 +0100
From: Keith Whitwell <>
Subject: Re: DRM and 2.4 ...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/16/88

Dave Airlie wrote:
>>DRM_IOCTL_ARGS, DRM_ERR, DRM_CURRENTPID, DRM_UDELAY, DRM_READMEMORYBARRIER,
>>DRM_COPY_FROM_USER_IOCTL etc etc existed prior to freebsd support? Oh my
>>god...
Heh.  I actually find those ones pretty innocuous and easy to work with, 
compared to some of the stuff in there.  Nothing that etags can't disambiguate 
for you.
What's more challenging is are the macros defined in the drivers which then 
customize the behaviour of shared header files - these are really the 
challenging aspect to working with that code, and what Dave has been working 
to remove.
> I'm currently open for constructive critics with ideas on how to fix these
> things, the DRM is open for business if we can fix things up now it will
> be a lot easier while I'm knee deep with time than after I'm finished and
> back travelling .. should we have try to implement Linux fns in BSD, what
> do we do if more parameters/info are needed from a BSD side, or do we try
> and sideline all these into a separate library of functions and wrap them
> on both bsd and linux?
Dave's hit the nail on the head here.  If you'd like some changes, feel free 
to make suggestions.
The macros you outline aren't great, but they aren't the real impediment to 
working with/understanding drm either.  But if we can fix that stuff up at the 
same time, why not?
Keith
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/