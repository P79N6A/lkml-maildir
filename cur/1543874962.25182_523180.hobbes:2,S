Date: Fri, 23 Mar 2007 00:32:10 +0100
From: Andreas Mohr <>
Subject: Re: Confused about audio drivers - where do I start?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/22/341

Hi,
On Thu, Mar 22, 2007 at 06:01:01PM -0500, Timur Tabi wrote:
> If I were to write a non-USB audio device driver from scratch (for new 
> hardware), what interface would I use?  Has ALSA become the official Linux 
> kernel audio subsystem?  Is there a specific device driver I should use as 
> a sample?
Yes, a driver should definitely be written against ALSA.
It's probably a good idea to use the most wide-spread card/driver close to the
hardware/functionality area of your new card as a sample driver,
the reasoning being that due to that card's wide use it's most likely that
all features are implemented as expected there.
And make sure to examine your new hardware about which sound card standards
it supports (AC-97, ...) which already have good generic support in ALSA.
When designing the mixer interface, definitely read ControlNames.txt and
name all mixer controls properly, since mixer apps have strongly differing
behaviour and may not work correctly without very strict and verbose control
naming. This implies wide testing with different mixer apps, too (gamix,
alsamixer, alsamixergui, gnome-alsamixer, kmix, aumix, ...).
Why I'm saying this? Because the first user report about my azt3328 driver
let me realize that some controls' naming was still broken despite having fixed
most of those a while ago...
Andreas Mohr
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/