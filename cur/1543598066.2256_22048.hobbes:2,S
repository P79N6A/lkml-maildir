Date: 17 Aug 2001 09:43:38 -0700
From: Ray Lee <>
Subject: [PATCH 2.4.8-ac6] (Yet) Another Sony Vaio laptop with a broken APM...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/8/17/108

Stelian Pop wrote:
> This patch adds yet another Vaio laptop to the list of those
> having the APM minutes left swapping problem.
Huh, so *that's* what's going on. I normally just pay attention to the
percentage left, since the minutes display was horked. The patch against
2.4.8-ac6 below fixes the same problem for my PCG-XG29. (It may fix it
for a few others as well, at least the XG29K, perhaps the XG19/19k as
well. IIRC, they just differ in the screen size and which version of
windows you have to blow away.)
> I wonder if there is _any_ Vaio laptop that gets this
> item right. If not, we could just do a search on SYS_VENDOR /
> PRODUCT_NAME strings, like the is_sony_vaio_laptop test...
It's looking more and more likely that they're all backwards. Hey, at
least they're consistent, right?
--- linux-2.4.8-ac6.orig/arch/i386/kernel/dmi_scan.c	Thu Aug 16 23:13:58 2001
+++ linux-2.4.8-ac6/arch/i386/kernel/dmi_scan.c	Thu Aug 16 23:27:38 2001
@@ -472,6 +472,11 @@
 			MATCH(DMI_BIOS_VERSION, "R0208P1"),
 			MATCH(DMI_BIOS_DATE, "11/09/00"), NO_MATCH
 			} },
+	{ swab_apm_power_in_minutes, "Sony VAIO", {	/* Handle problems with APM on Sony Vaio PCG-XG29 */
+			MATCH(DMI_BIOS_VENDOR, "Phoenix Technologies LTD"),
+			MATCH(DMI_BIOS_VERSION, "R0117A0"),
+			MATCH(DMI_BIOS_DATE, "04/25/00"), NO_MATCH
+			} },
 	
 	/* Problem Intel 440GX bioses */
 
--
Ray Lee  /  Every truth has a context.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/