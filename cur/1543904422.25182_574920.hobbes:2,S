Date: Wed, 25 Jul 2007 13:10:03 -0700
From: Andrew Morton <>
Subject: Re: [PATCH] Fix corruption of memmap on IA64 SPARSEMEM when mem_section is not a power of 2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/25/384

On Wed, 25 Jul 2007 13:55:02 +0100
mel@skynet.ie (Mel Gorman) wrote:
> > mm/sparse.c: In function `sparse_init':
> > mm/sparse.c:482: error: implicit declaration of function `sparse_early_usemap_alloc'
> > mm/sparse.c:482: warning: assignment makes pointer from integer without a cast
> > mm/sparse.c: In function `sparse_add_one_section':
> > mm/sparse.c:553: error: implicit declaration of function `__kmalloc_section_usemap'
> > mm/sparse.c:553: warning: assignment makes pointer from integer without a cast
> 
> I'm looking at this now and getting a superh cross-compiler built to
> build-test any fix. My first impression is that
> sparse_early_usemap_alloc() needs to be defined whether
> CONFIG_SPARSEMEM_VMEMMAP is set or not. Right now,
> sparse_early_usemap_alloc() is only defined when it is set and it's not
> clear why although "by accident" is the most likely explanation.
> 
Thanks.
There's an sh cross-compiler in 
http://userweb.kernel.org/~akpm/cross-compilers/,
btw.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/