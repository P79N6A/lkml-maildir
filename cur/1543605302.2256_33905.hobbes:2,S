Date: Thu, 18 Oct 2001 12:25:25 -0700 (PDT)
From: "David S. Miller" <>
Subject: Re: [PATCH] fork() failing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/18/123

   From: Marcelo Tosatti <marcelo@conectiva.com.br>
   Date: Thu, 18 Oct 2001 15:04:15 -0200 (BRST)
   As you know, we currently allow 1-order allocations to fail easily. 
   However, there is one special case of 1-order allocations which cannot
   fail: fork.
   Here is the tested patch against pre4.
There are also some platforms using 1-order allocations
for page tables as well.
But I don't know if I agree with this special casing.
Why not just put something into the GFP flag bits
which distinguishes between high order allocations which
are "critical" and others which are "don't try too hard".
BTW, such a scheme could be useful for page cache pre-fetching.
If you use a high order allocation, it is more likely that all
of the pages in that prefetch will fit into the same kernel TLB
mapping.  We could use a GFP_NONCRITICAL for something like this.
Franks a lot,
David S. Miller
davem@redhat.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/