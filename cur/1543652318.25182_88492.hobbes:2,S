Date: 11 Nov 2002 13:05:25 +0000
From: Alan Cox <>
Subject: Re: [PATCH] NCR53C9x ESP: C99 designated initializers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/11/52

On Mon, 2002-11-11 at 09:43, David S. Miller wrote:
> That's a little inconvenient.
> 
> I have to wait for an interrupt from the chip to know the RESET
> started by the eh_reset_bus_handler code is done, and I'm certainly
> not going to spin there for 5 seconds or however long it decides to
> take. :-)
Lots of drivers do
> Either eh_reset_bus_handler needs to be allowed to sleep, or it needs
> to be changed so that an "RESET in progress, please wait" status can
> be returned.
The stupid thing is we take the lock then call the eh function then drop
it. You can drop the lock, wait and retake it. I need to fix a couple of
other drivers to do a proper wait and in much the same way.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/