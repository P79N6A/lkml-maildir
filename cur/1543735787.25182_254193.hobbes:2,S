Date: Tue, 21 Sep 2004 20:05:44 +0200
From: Michael Hunold <>
Subject: Re: [PATCH][2.6] Add command function to struct i2c_adapter
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/21/136

Hi,
On 21.09.2004 19:39, Jon Smirl wrote:
> There is a related I2C problem with EEPROMs and DDC monitors. DDC
> monitors look just like EEPROMs, the EEPROM driver can even read most
> of them. But there are DDC monitors that need special wakeup sequences
> before their ROMs will appear.
> 
> EEPROM and DDC are both algo_bit clients. When you attach a bus to
> algo_bit both clients will run. There is concern that sending the
> special DDC wake up sequence down non-DDC buses might mess up the bus.
> 
> A proposal was made to implement different classes of algo_bit clients
> but this was never implemented. Would a class solution help with the
> dvb problem too?
It would help to separate dvb clients and dvb busses. I just posted 
another mail titled "Adding .class field to struct i2c_client (was Re: 
[PATCH][2.6] Add command function to struct i2c_adapter" that adds a 
.class entry to the struct i2c_client.
With that addition, it's possible for the i2c core to check if the 
.class entries of the adapter and the client match. If they don't then 
there is no need to probe a driver. This will help to keep non-i2c 
drivers to be probed on dvb i2c busses (and screw them up accidently). 
Currently it's up to the driver to decide wheter to probe a bus or not.
CU
Michael.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/