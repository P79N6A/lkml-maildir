Date: Mon, 23 Jan 2006 23:40:28 +0900
From: Tetsuo Takata <>
Subject: [PATCH] enable XFS write barrier
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/23/115

I found out that the q->ordered is not being set properly on XFS.
I'm testing the write barrier support of XFS.
I run the test on kernel 2.6.16-rc1-git4.
but I found out that the "-o barrier" option is automatically disabled
in my environment.
For this reason I could not test the write barrier's execution path.
The error message in "/var/log/messages" is:
Filesystem "sdb1": Disabling barriers, not supported by the underlying device
This patch fixes these bugs.
Best regards,
Tetsuo Takata
[unhandled content-type:application/octet-stream]