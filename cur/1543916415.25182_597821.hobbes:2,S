Date: Sun, 23 Sep 2007 15:35:09 +0200
From: "Rafael J. Wysocki" <>
Subject: Re: [2.6.23-rc7] main.c: undefined reference to `acpi_sleep_prepare'
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/23/43

On Sunday, 23 September 2007 08:41, Alexey Starikovskiy wrote:
> Frans Pop wrote:
> > I wanted to test 5a50fe709d527f31 and thus created a config with ACPI and 
> > CONFIG_HIBERNATION, but without CONFIG_SUSPEND, which resulted in (git 
> > checkout updated to 1f0cff6e4d579ab0):
> > 
> >   GEN     .version
> >   CHK     include/linux/compile.h
> >   UPD     include/linux/compile.h
> >   CC      init/version.o
> >   LD      init/built-in.o
> >   LD      .tmp_vmlinux1
> > drivers/built-in.o: In function `acpi_power_off_prepare':
> > main.c:(.text+0x32282): undefined reference to `acpi_sleep_prepare'
> > drivers/built-in.o: In function `acpi_hibernation_prepare':
> > main.c:(.text+0x3228c): undefined reference to `acpi_sleep_prepare'
> > make[1]: *** [.tmp_vmlinux1] Error 1
> > make[1]: Leaving directory `/home/fjp/projects/kernel/linux-2.6'
> > make: *** [debian/stamp-build-kernel] Error 2
> > 
> > 
> yep... acpi_sleep_prepare was put under CONFIG_SUSPEND spanning half of the file...
> this patch moves it out.
Acked-by: Rafael J. Wysocki <rjw@sisk.pl>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/