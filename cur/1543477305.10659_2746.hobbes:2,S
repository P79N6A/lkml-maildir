Date: Tue, 12 Jan 1999 18:17:36 -0800
From: Robert Woodcock <>
Subject: Re: 'Detected 19943xxx Hz processor'-fluctuations...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/12/341

On Tue, Jan 12, 1999 at 07:18:56PM +0100, Florian Weimer wrote:
> Robert Woodcock <rcw@debian.org> writes:
> 
> > Just for kicks I decided to let mhz.estimate run for a while in a
> > loop, that way I get thousands more quite-possibly-less-accurate
> > statistics. Out of 59000 runs, here are the most deviant 20:
> 
> > 	gettimeofday(&tvstart, &tz);
> > 	cycles[0] = rdtsc();
> > 	gettimeofday(&tvstart, &tz);
> 
> Which processor type did you select when you compiled the kernel under
> which the test was run?
PPro, but that's irrelevant. The code runs on 2.0.x and will probably run on
any other Linux as well, perhaps even other unices. Depends on how portable
that asm construct is and how many compilers support 'long long'.
The first gettimeofday() call serves only to prep the cache for further uses
of that function call.
--
Robert Woodcock - rcw@debian.org
"Unix and C are the ultimate computer viruses" -- Richard Gabriel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/