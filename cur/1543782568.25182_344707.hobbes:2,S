Date: Fri, 26 Aug 2005 02:22:04 +0200
From: Thomas Gleixner <>
Subject: Re: 2.6.13-rc7-rt1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/25/318

On Thu, 2005-08-25 at 16:29 -0700, Daniel Walker wrote:
> Devastating latency on a 3Ghz xeon .. Maybe the raw_spinlock in the
> timer base is creating a unbounded latency?
The lock is only held for really short periods. The only possible long
period would be migration of timers from a dead hotplug cpu to another.
I guess thats not the case.
Do you have HIGH_RES_TIMERS enabled ?
> ( softirq-timer/1-13   |#1): new 66088 us maximum-latency critical section.
>  => started at timestamp 1857957769: <__down_mutex+0x5f/0x295>
>  =>   ended at timestamp 1858023857: <_raw_spin_unlock_irq+0x16/0x39>
which mutex was taken and which raw spinlock released  ?
__down_mutex / _raw_spin_unlock_irq is an asymetric pair. Those sections
should be symetric.
I have the feeling that the call trace is not complete.
> <ffffffff8047732a>{rt_secret_rebuild+0}
hint: rt_secret_rebuild() is a well known long running timer callback
function. 
tglx
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/