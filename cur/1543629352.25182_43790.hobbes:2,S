Date: 3 May 2002 12:05:01 GMT
From: Gerd Knorr <>
Subject: Re: kbuild 2.5 is ready for inclusion in the 2.5 kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/3/131

Keith Owens wrote:
>  On 3 May 2002 10:06:04 GMT, 
>  Gerd Knorr <kraxel@bytesex.org> wrote:
> >>  Do it with NO_MAKEFILE_GEN=1 for much, much! faster builds.
> >
> >What exactly is the reason for this hack, i.e. why kbuild wants to
> >rebuild the Makefiles every time?  Isn't it enougth to do that only
> >if .config has been touched?
> 
>  Or any of the Makefile.in files have changed.
.config + all Makefile.in's is still a small number of files where
make has to check the timestamp to see whenever a rebuild of the global
makefile is needed.
>  Or any of the command line options have changed.
Which command line options?
>  Or various environment variables have changed.
>  Or the compiler has changed.
Which environment variables?  CC / CFLAGS?  Well, with other CFLAGS
and/or compiler you have to do a full rebuild anyway, thus using "make
clean" would work equally well ...
>  Or a target file has been altered outside kbuild control.
Which is the users fault IMO.  I don't see the point in trying to catch
this and make kbuild idiot proof.  I doubt it is possible to make kbuild
clever enougth to handle all evil things a user could do.  AI isn't that
good.
>  Coding a special case to work out if the existing global makefile can
>  be reused is horribly error prone.
Special case?  I'd say it is the common case when doing kernel
development.  At least I don't use another compiler for every second
make.  I usually hack some piece of code and recompile the module then.
  Gerd
-- 
You can't please everybody.  And usually if you _try_ to please
everybody, the end result is one big mess.
				-- Linus Torvalds, 2002-04-20
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/