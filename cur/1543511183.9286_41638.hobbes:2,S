Date: Thu, 30 Sep 1999 10:59:02 -0400
From: Eric Werme USG <>
Subject: Re: knfsd 1.5 is released
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/30/59

   hjl@valinux.com said:
   > For the time being, I am going to add a timeout to mountd callback. If
   > kernel doesn't get response from mountd within a few seconds, it will
   > tell the client that fh is stale.     
   
   That implies a far more fundamental change. I designed the callback system
   so that the kernel could just drop the requests when it made the callback.
That can be problematic for NFS over TCP.  Tru64 retransmits such requests
after 30 seconds.  There are (were?) some clients that conclude TCP got the
request there, TCP will get the reply back so never retransmit unless the
server breaks the connection.  A discussion on c.p.n concluded that there
were cases where the sever simply cannot get the memory needed to reply, so
the design goal should be for the server to do its best to reply, and for the
client to retransmit to cover those rare cases where the server drops the
ball.
What does it take for mountd not to respond "within a few seconds"?
	-Ric Werme
--
Eric (Ric) Werme         |  werme@zk3.dec.com
Compaq Computer Corp.    |  
http://people.ne.mediaone.net/werme
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/