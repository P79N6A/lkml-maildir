Date: Sat, 3 Nov 2001 15:48:18 +0100
From: Andreas Achtzehn <>
Subject: 2.4.13: unresolved symbols with modules_install
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/3/16

Dear list readers,
I have severe problems compiling a 2.4.13 kernel on a LFS based system. (gcc 
2.95.2, glibc 2.2.4)
For those who have not yet used a LFS system: I have a fully running 
linux-system on a partition. I do the following before compiling the kernel
mount -t proc proc /mnt2/proc
chroot /mnt2 /usr/bin/env -i HOME=/root TERM=$TERM /bin/bash --login
I follow this way to compile a kernel for my system:
tar xvfz linux-2.4.13.tar.gz
cd linux
cp ../config.aktuell ./.config # this is a config I created before
make menuconfig # no changes, just exit (otherwise no autoconfig.h)
make dep 
make clean
make bzImage # works quite well up to here
cp System.map /boot
make modules
make modules_install 
The modules_install ends with 
mkdir -p pcmcia; \
find kernel -path '*/pcmcia/*' -name '*.o' | xargs -i -r ln -sf ../{} pcmcia
if [ -r System.map ]; then /sbin/depmod -ae -F System.map  2.4.13; fi
depmod: *** Unresolved symbols in 
/lib/modules/2.4.13/kernel/drivers/net/wan/comx.o
depmod:         proc_get_inode
achtzehn:/usr/src/linux#       
Is it possible that this is due to the proc-system and its unusual mounting?
Regards,
Andreas Achtzehn
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/