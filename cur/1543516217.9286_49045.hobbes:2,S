Date: Mon, 15 Nov 1999 16:34:07 -0600 (CST)
From: Thomas Molina <>
Subject: Re: CDROM kernel problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/15/117

I have a couple of suggestions, which may or may not be off base.  I had
some of the same kind of problems when I installed a cd rewriteable
drive in my system.  It's not exactly the same problem as you had, but
there are some similarities.
On Mon, 15 Nov 1999, Jon Mitchell wrote:
> The following was stated by jrm@freedom.swc.com:
> 
> > 
> > Any ideas?  I'm currently rebooting with Y to everything and will mail
> > back with the results.  Btw, this is my lilo.conf, there is one other
> 
> This did not help either.  This one's a stumper, I'm guessing that I just
> changed one conflicting thing in the .config since I've never seen a
> problem like this before.  I'm posting my .config to see if that helps
> anyone.  The hardware is a Netfinity 5000 + DAC960 controller.
> 
> #
> CONFIG_BLK_DEV_FD=m
> CONFIG_BLK_DEV_IDE=y
> 
> #
> # Please see Documentation/ide.txt for help/info on IDE drives
> #
> # CONFIG_BLK_DEV_HD_IDE is not set
> CONFIG_BLK_DEV_IDEDISK=m
> CONFIG_BLK_DEV_IDECD=y
At this spot have you tried setting IDEDISK to y instead of m?
> # CONFIG_BLK_DEV_IDETAPE is not set
> CONFIG_SCSI=y
> 
> #
> # SCSI support type (disk, tape, CD-ROM)
> #
> CONFIG_BLK_DEV_SD=m
> CONFIG_CHR_DEV_ST=y
> CONFIG_BLK_DEV_SR=m
> # CONFIG_BLK_DEV_SR_VENDOR is not set
> # CONFIG_CHR_DEV_SG is not set
> #
> # SCSI low-level drivers
> #
> # CONFIG_SCSI_7000FASST is not set
> # CONFIG_SCSI_ACARD is not set
> # CONFIG_SCSI_AHA152X is not set
> # CONFIG_SCSI_AHA1542 is not set
> # CONFIG_SCSI_AHA1740 is not set
> CONFIG_SCSI_AIC7XXX=y
> # CONFIG_AIC7XXX_TCQ_ON_BY_DEFAULT is not set
> CONFIG_AIC7XXX_CMDS_PER_DEVICE=8
> CONFIG_AIC7XXX_PROC_STATS=y
> CONFIG_AIC7XXX_RESET_DELAY=5
Not being familiar with some of the hardware you had specified
previously I couldn't tell what SCSI equipment you had, or whether you
booted from SCSI or IDE.  Obviously, if you don't need SCSI support
disable it.
The suggestion which was given to me was to make ide cdrom support and
scsi cdrom support fully modular and unload one or the other as needed.
Another possibility is using the ide cdrom with the ide-scsi module,
which is the way I finally went.
I hope some of this helps.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/