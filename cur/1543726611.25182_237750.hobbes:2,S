Date: Sat, 31 Jul 2004 12:09:47 +0200
From: Matthias Andree <>
Subject: 2.6.8-rc2-mm1 breaks PPPoE for me (was: 2.6.8-rc2-mm1)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/31/30

On Wed, 28 Jul 2004, Andrew Morton wrote:
> 
ftp://ftp.kernel.org/pub/linux/kernel/people/akpm/patches/2.6/2.6.8-rc2/2.6.8-rc2-mm1/
...
> gcc35-pppoe.c.patch
>   gcc-3.5 fixes
Andrew,
I'm not sure if my problem is related to this patch, but in
2.6.8-rc2-mm1, PPPoE doesn't work for me, kernel compiled with gcc (GCC)
3.3.1 (SuSE Linux), a vanilla 2.6.7 is fine with the same compiler.
pppd[5685]: Plugin /usr/lib/pppd/2.4.1/pppoe.so loaded.
pppd[5685]: PPPoE Plugin Initialized
pppd[5685]: pppd 2.4.1 started by root, uid 0
pppd[5685]: Sending PADI
pppd[5685]: HOST_UNIQ successful match 
pppd[5685]: Failed to negotiate PPPoE connection: 25 Inappropriate ioctl for device
pppd[5685]: Exit.
A successful pppd session start, with 2.6.7, looks like this:
pppd[5070]: PPPoE Plugin Initialized
pppd[5070]: pppd 2.4.1 started by root, uid 0
pppd[5070]: Sending PADI
pppd[5070]: HOST_UNIQ successful match 
pppd[5070]: HOST_UNIQ successful match 
pppd[5070]: Got connection: 164b
pppd[5070]: Connecting PPPoE socket: 00:90:1a:XX:XX:XX 4b16 eth1 0x808a560
/sbin/hotplug[5166]: INTERFACE=ppp0
pppd[5070]: Using interface ppp0
pppd[5070]: Connect: ppp0 <--> eth1
pppd[5070]: Setting MTU to 1492.
pppd[5070]: Couldn't increase MRU to 1500
pppd[5070]: Setting MTU to 1492.
pppd[5070]: local  IP address 217.81.XXX.XXX
pppd[5070]: remote IP address 217.5.XXX.XXX
pppd[5070]: Script /etc/ppp/ip-up finished (pid 5180), status = 0x0
HTH,
-- 
Matthias Andree
Encrypted mail welcome: my GnuPG key ID is 0x052E7D95 (PGP/MIME preferred)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/