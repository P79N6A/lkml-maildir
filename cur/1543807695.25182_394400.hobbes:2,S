Date: Tue,  7 Feb 2006 10:43:47 +0200 (EET)
From: Meelis Roos <>
Subject: Re: libATA  PATA status report, new patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/7/32

Tried in Qemu with virtual PIIX3. Compiled in PIIX, OLDPIIX, MPIIX and
Generic. Enabled PATA support for libata in libata.h. Disabled
everything in ATA/IDE Kconfig menu.
ata1: PATA max PIO4 cmd 0x1F0 ctl 0x3F6 bmdma 0x0 irq 15
Unable to handle kernel NULL pointer dereference at virtual address 00000000
 printing eip:
00000000
*pde = 00000000
Oops: 0000 [#1]
CPU:    0
EIP:    0060:[<00000000>]    Not tainted VLI
EFLAGS: 00000246   (2.6.16-rc2-PATA)
EIP is at 0x0
eax: c1268280   ebx: c12a88e0   ecx: c1268280   edx: c02fd2e0
esi: 0000003c   edi: 00000001   ebp: c02ba272   esp: c1150cfc
ds: 007b   es: 007b   ss: 0068
Process swapper (pid: 1, threadinfo=c1150000 task=c114fa30)
Stack: <0>c0232b6c fc000000 c1150d9c 00000000 00000001 00000000 00000000 c12a88e0
       c1268280 0000011a 00008000 c12ceb40 c1266408 c016cafb c12ceba0 c1266404
       c12a88e0 0000003c c1266430 c12cf340 00000000 ffffffff c01bd61a ffffffff
Call Trace:
 [<c0232b6c>] ata_device_add+0x34c/0xb00
 [<c016cafb>] create_proc_entry+0x5b/0xd0
 [<c01bd61a>] pci_get_subsys+0x6a/0xf0
 [<c03478d5>] legacy_init+0x1d5/0x3b0
 [<c0100311>] init+0x81/0x1e0
 [<c0100290>] init+0x0/0x1e0
 [<c0100bd5>] kernel_thread_helper+0x5/0x10
Code:  Bad EIP value.
This seems to be from the generic code but I'm not sure. First I enabled only
PIIX (+ATA_ENABLE_PATA) but it failed to detect any ATA devices at all.
-- 
Meelis Roos
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/