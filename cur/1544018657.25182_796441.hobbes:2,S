Date: Fri, 23 Jan 2009 22:07:27 +0100
From: Florian Weimer <>
Subject: Re: 2.6.28, rlimits, performance and debian etch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/23/318

* Peter Palfrader:
> Turns out that script is forking a lot and something in it or python or
> whereever closes all the file descriptors it doesn't want to pass on.
> That is, it starts at zero and goes up to ulimit -n/RLIMIT_NOFILE and
> closes them all with a few exceptions.
>
> Turns out that takes a long time when your limit -n is now 2^20 (1048576).
Interesting.
Can we make /proc more-or-less mandatory, so that the file descriptor
list can be retrieved explicitly?