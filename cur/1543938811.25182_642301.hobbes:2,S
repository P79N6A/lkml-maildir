Date: Wed, 23 Jan 2008 12:54:46 -0500
From: Mathieu Desnoyers <>
Subject: Re: [PATCH 19/20 -v5] Trace irq disabled critical timings
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/23/291

* Steven Rostedt (rostedt@goodmis.org) wrote:
> 
> On Wed, 23 Jan 2008, Frank Ch. Eigler wrote:
> > On Wed, Jan 23, 2008 at 12:11:07PM -0500, Steven Rostedt wrote:
> > > This patch adds latency tracing for critical timings
> > > (how long interrupts are disabled for).
> > > [...]
> >
> > Is there an opportunity here to share effort with latencytop, and
> > ideally to use markers as much as possible for these event hooks?
> 
> Well, I just found out about latencytop a couple of days ago when Arjan
> announced it. I took a quick look and it seems to be more of a general
> collection of information. This tracer pinpoints out specific maxes.
> Although I may be wrong (I have to admit, I haven't had the time to really
> look at what LatencyTop does, but I have been using this tracer in -rt for
> a number of years).
> 
> As for using markers, I just piggied back on top of lockdep, since it has
> the same hooks that I needed. If we were to replace them with markers,
> then I would say lockdep should use the markers too.
> 
> One thing about markers, only one probe may be allowed at a time. Perhaps
> we should fix this by using something like I did with the mcount hook.
> 
It's already in my -mm patches (multiple probes support). It's also in
my current LTTng patchset.
Mathieu
> -- Steve
> 
-- 
Mathieu Desnoyers
Computer Engineering Ph.D. Student, Ecole Polytechnique de Montreal
OpenPGP key fingerprint: 8CD5 52C3 8E3C 4140 715F  BA06 3F25 A8FE 3BAE 9A68