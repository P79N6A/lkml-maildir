Date: Sun, 11 Apr 2004 13:48:26 +1000
From: Anton Blanchard <>
Subject: binfmt_misc: attribute used or unused
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/10/101

Hi,
Any idea why we have an attribute((unused)) here? I was going to
convert it to __attribute_used__ so it handles gcc's schizophrenic
behaviour but then realised it all looks bogus.
Anton
===== fs/binfmt_misc.c 1.24 vs edited =====
--- 1.24/fs/binfmt_misc.c	Wed Feb 25 21:34:47 2004
+++ edited/fs/binfmt_misc.c	Sun Apr 11 13:42:02 2004
@@ -52,7 +52,7 @@
 	struct dentry *dentry;
 } Node;
 
-static rwlock_t entries_lock __attribute__((unused)) = RW_LOCK_UNLOCKED;
+static rwlock_t entries_lock = RW_LOCK_UNLOCKED;
 static struct vfsmount *bm_mnt;
 static int entry_count;
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/