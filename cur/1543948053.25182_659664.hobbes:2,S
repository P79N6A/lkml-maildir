Date: Tue, 26 Feb 2008 11:58:22 +1100
From: Benjamin Herrenschmidt <>
Subject: Re: [PATCH] libata: Add MMIO support to pata_sil680
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/25/486

> Yes.
> 
> Alan loves to complain about lack of MMIO flush, but in practice this is 
> rarely the source of problems such as the one you describe.
> 
> But if its broken its broken, and we need to revert.  Any luck getting 
> benh access to the device?
> 
Especially since reverting it will break a whole bunch of cell blades,
which wouldn't be nice (those cannot do PIO and have that controller).
In the meantime, we might "workaround" with a hack to only enable MMIO
on those cell
blades, something like:
#ifdef CONFIG_PPC64
	if (machine_is(cell))
		mmio = 1;
#endif
That might get us out of the regression until we find the proper
solution ?
Cheers,
Ben.