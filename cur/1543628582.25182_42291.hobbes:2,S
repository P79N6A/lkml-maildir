Date: Wed, 24 Apr 2002 19:25:39 +0200 (MET DST)
From: "Maciej W. Rozycki" <>
Subject: Re: Why HZ on i386 is 100 ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/24/61

On Tue, 23 Apr 2002, Andi Kleen wrote:
> That's the local APIC timer. Pretty much all modern x86 have it.
> But at least microsoft warns from using them for high precision 
> tim ekeeping on their mmtimer page "due to inaccuracy and 
> frequent silicon bugs" (and I guess they have the data for that) 
 That's nothing new -- I recall a problem of missing half a tick each
time when hardware reloads the timer after reaching zero with certain
revisions of Pentium CPUs.  It is documented in the specification update.
> The linux local APIC timer setup could be probably also improved, for 
> example the 16 multiplier is a bit dubious and the calibration does not
> look very robust.
 When fiddling with the predivider, please keep in mind the i82489DX only
supports 2, 4, 8 and 16 as dividers and you may set up 1 (i.e. no
division) but in a different way -- by setting LVTT appropriately (use
SET_APIC_TIMER_BASE(APIC_TIMER_BASE_CLKIN)).
-- 
+  Maciej W. Rozycki, Technical University of Gdansk, Poland   +
+--------------------------------------------------------------+
+        e-mail: macro@ds2.pg.gda.pl, PGP key available        +
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/