Date: Tue, 20 Apr 1999 05:55:37 -0400 (EDT)
From: Alexander Viro <>
Subject: Re: Problem: unresolved symbol is_binary already solved ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/20/54

On Tue, 20 Apr 1999, Detlef Michael wrote:
> Is the problem with the unresolved symbol is_binary in msdos.o of 2.2.6
> as posted by
> shimonc@netvision.net.il
> alex.buell@tahallah.demon.co.uk
> already solved ??
Sorry, folks ;-/ Here it is:
diff -urN linux-2.2.6/fs/fat/fatfs_syms.c linux-2.2.6-fixed/fs/fat/fatfs_syms.c
--- linux-2.2.6/fs/fat/fatfs_syms.c	Thu Feb 25 10:03:56 1999
+++ linux-2.2.6-fixed/fs/fat/fatfs_syms.c	Tue Apr 20 00:19:38 1999
@@ -54,6 +54,7 @@
 EXPORT_SYMBOL(unlock_fat);
 EXPORT_SYMBOL(fat_dir_ioctl);
 EXPORT_SYMBOL(fat_readpage);
+EXPORT_SYMBOL(fat_is_binary);
 
 int init_fat_fs(void)
 {
diff -urN linux-2.2.6/fs/fat/inode.c linux-2.2.6-fixed/fs/fat/inode.c
--- linux-2.2.6/fs/fat/inode.c	Fri Apr 16 13:26:37 1999
+++ linux-2.2.6-fixed/fs/fat/inode.c	Tue Apr 20 00:18:36 1999
@@ -703,7 +703,7 @@
 	if(raw_entry->attr & ATTR_SYS)
 		if (MSDOS_SB(sb)->options.sys_immutable)
 			inode->i_flags |= S_IMMUTABLE;
-	MSDOS_I(inode)->i_binary = is_binary(MSDOS_SB(sb)->options.conversion,
+	MSDOS_I(inode)->i_binary = fat_is_binary(MSDOS_SB(sb)->options.conversion,
 	    raw_entry->ext);
 	MSDOS_I(inode)->i_attrs = raw_entry->attr & ATTR_UNUSED;
 	/* this is as close to the truth as we can get ... */
diff -urN linux-2.2.6/fs/fat/misc.c linux-2.2.6-fixed/fs/fat/misc.c
--- linux-2.2.6/fs/fat/misc.c	Thu Feb 25 10:03:56 1999
+++ linux-2.2.6-fixed/fs/fat/misc.c	Tue Apr 20 00:18:56 1999
@@ -55,7 +55,7 @@
  * the extension part of the file name.
  */
 
-int is_binary(char conversion,char *extension)
+int fat_is_binary(char conversion,char *extension)
 {
 	char *walk;
 
diff -urN linux-2.2.6/fs/msdos/namei.c linux-2.2.6-fixed/fs/msdos/namei.c
--- linux-2.2.6/fs/msdos/namei.c	Tue Apr 13 09:15:18 1999
+++ linux-2.2.6-fixed/fs/msdos/namei.c	Tue Apr 20 00:22:31 1999
@@ -713,7 +713,7 @@
 	fat_cache_inval_inode(old_inode);
 	old_inode->i_version = ++event;
 	MSDOS_I(old_inode)->i_binary =
-		is_binary(MSDOS_SB(sb)->options.conversion, free_de->ext);
+		fat_is_binary(MSDOS_SB(sb)->options.conversion, free_de->ext);
 	old_inode->i_ino = free_ino;
 	fat_mark_buffer_dirty(sb, free_bh, 1);
 	old_de->name[0] = DELETED_FLAG;
diff -urN linux-2.2.6/include/linux/msdos_fs.h linux-2.2.6-fixed/include/linux/msdos_fs.h
--- linux-2.2.6/include/linux/msdos_fs.h	Thu Feb 25 10:04:04 1999
+++ linux-2.2.6-fixed/include/linux/msdos_fs.h	Tue Apr 20 00:20:22 1999
@@ -195,7 +195,7 @@
 };
 
 /* misc.c */
-extern int is_binary(char conversion,char *extension);
+extern int fat_is_binary(char conversion,char *extension);
 extern void lock_fat(struct super_block *sb);
 extern void unlock_fat(struct super_block *sb);
 extern int fat_add_cluster(struct inode *inode);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/