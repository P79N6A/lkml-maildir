Date: Sun, 01 Oct 2000 04:59:09 -0600
From: Dylan Griffiths <>
Subject: Which build issues not fixed for 2.2.18pre13 on Slackware
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/1/140

	Hi.  Just wanted to report that the which things seems not to have been
fixed for Slackware (at least).  Output of 'make menuconfig':
--8<--8<--8<--
/bin/sh: -c: line 1: syntax error near unexpected token `(/'
/bin/sh: -c: line 1: `if which: no gcc272 in
(/usr/local/qt/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/usr/openwin/bin:/usr/games:.)
which: no kgcc in
(/usr/local/qt/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/usr/openwin/bin:/usr/games:.)
cc -D__KERNEL__ -I/usr/src/linux/include -fno-strict-aliasing -S -o
/dev/null -xc /dev/null >/dev/null 2>&1; then echo "-fno-strict-aliasing";
fi'
rm -f include/asm
( cd include ; ln -sf asm-i386 asm)
make -C scripts/lxdialog all
make[1]: Entering directory `/usr/src/linux-2.2.18pre/scripts/lxdialog'
make[1]: Leaving directory `/usr/src/linux-2.2.18pre/scripts/lxdialog'
/bin/sh scripts/Menuconfig arch/i386/config.in
Using defaults found in .config
--8<--8<--8<--
make bzImage fails miserably.
--8<--8<--8<--
/bin/sh: -c: line 1: syntax error near unexpected token `(/'
/bin/sh: -c: line 1: `if which: no gcc272 in
(/usr/local/qt/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/usr/openwin/bin:/usr/games:.)
which: no kgcc in
(/usr/local/qt/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/usr/openwin/bin:/usr/games:.)
cc -D__KERNEL__ -I/usr/src/linux/include -fno-strict-aliasing -S -o
/dev/null -xc /dev/null >/dev/null 2>&1; then echo "-fno-strict-aliasing";
fi'
gcc -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -o scripts/mkdep
scripts/mkdep.c
gcc -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -o
scripts/split-include scripts/split-include.c
make[1]: Entering directory `/usr/src/linux-2.2.18pre/arch/i386/boot'
make[1]: Nothing to be done for `dep'.
make[1]: Leaving directory `/usr/src/linux-2.2.18pre/arch/i386/boot'
which: no gcc272 in
(/usr/local/qt/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/usr/openwin/bin:/usr/games:.)
which: no kgcc in
(/usr/local/qt/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/usr/openwin/bin:/usr/games:.)
cc -D__KERNEL__ -I/usr/src/linux/include -E -C -P -I/usr/src/linux/include
-imacros /usr/src/linux/include/asm-i386/page_offset.h -Ui386
arch/i386/vmlinux.lds.S >arch/i386/vmlinux.lds
/bin/sh: -c: line 1: syntax error near unexpected token `(/'
/bin/sh: -c: line 1: `which: no gcc272 in
(/usr/local/qt/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/usr/openwin/bin:/usr/games:.)
which: no kgcc in
(/usr/local/qt/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/usr/openwin/bin:/usr/games:.)
cc -D__KERNEL__ -I/usr/src/linux/include -E -C -P -I/usr/src/linux/include
-imacros /usr/src/linux/include/asm-i386/page_offset.h -Ui386
arch/i386/vmlinux.lds.S >arch/i386/vmlinux.lds'
make: *** [arch/i386/vmlinux.lds] Error 2
--8<--8<--8<--
Perhaps just doing 'which gcc' instead of forcing people to keep a specific
version of GCC around (or relevant symlinks) would be good.  GCC 2.95.2
seems stable for doing 2.2.x work now.
Another question .. why change how the CC is assigned at all?  None of the
other things (ar, as, etc) have been changed in any why.  Why is this change
happening?
Restoring the 'old' CC line seems to have fixed any build problems.
--
    www.kuro5hin.org -- technology and culture, from the trenches.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/