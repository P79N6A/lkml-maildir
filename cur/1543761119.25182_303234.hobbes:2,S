Date: Tue, 15 Mar 2005 17:05:40 -0500
From: Dmitry Torokhov <>
Subject: Re: [linux-usb-devel] Re: [RFC] Changes to the driver model class code.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/15/289

On Tue, 15 Mar 2005 13:14:40 -0800, David Brownell <david-b@pacbell.net> wrote:
> You still haven't answered my question.  My observation was that
> only the class code can in any sense be called "new" ... so your
> blanket statement seemed to overlook several essential points!
> 
> Which parts of the driver model were you thinking of?
> 
> That pre-driver model stuff went away in maybe 2.6.5 or so, I
> forget just when.
I think I was shopping around for the examples of proper driver model
integration in 2.6.2 - 2.6.3 timeframe for the serio bus. I was
looking at how USB was working around the fact that one can not
add/remove children from the probe/remove methods. I can not tell you
what exactly gave me the impression that conversion is still in
progress, probably the comments like this:
     /* FIXME should device_bind_driver() */
         iface->driver = driver;
         usb_set_intfdata(iface, priv);
         return 0;
Now I see it was changed shortly after I looked there. And I see that
my impression was wrong, it _is_ tightly integrated with the driver
model now.
>  If you think those changes can easily be
> reversed, I suggest you think again ... they enabled a LOT of
> likewise-overdue cleanups.
Note that I am arguing for keeping existing interface, not removing it.
-- 
Dmitry
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/