Date: Wed, 8 Nov 2000 14:01:46 +0100
From: Jan-Benedict Glaw <>
Subject: [uPATCH] Again CLOCKS_PER_SEC on Alpha (maybe Sparc and PPC too)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/11/8/55

Hi!
CLOCKS_PER_SEC is still missing:
gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe -mno-fp-regs -ffixed-8 -mcpu=ev4 -Wa,-mev6    -c -o binfmt_elf.o binfmt_elf.c
binfmt_elf.c: In function `create_elf_tables':
binfmt_elf.c:166: `CLOCKS_PER_SEC' undeclared (first use in this function)
binfmt_elf.c:166: (Each undeclared identifier is reported only once
binfmt_elf.c:166: for each function it appears in.)
Here's the old patch:
--- linux/include/asm-alpha/#param.h    Wed Nov  1 14:11:11 2000
+++ linux/include/asm-alpha/param.h     Wed Nov  1 14:54:59 2000
@@ -26,5 +26,9 @@
 #endif
 
 #define MAXHOSTNAMELEN 64      /* max length of hostname */
+
+#ifdef __KERNEL__
+# define CLOCKS_PER_SEC HZ      /* frequency at which times() counts */
+#endif
-- 
Fehler eingestehen, Größe zeigen: Nehmt die Rechtschreibreform zurück!!!
/* Jan-Benedict Glaw <jbglaw@lug-owl.de> -- +49-177-5601720 */
keyID=0x8399E1BB fingerprint=250D 3BCF 7127 0D8C A444 A961 1DBD 5E75 8399 E1BB
     "insmod vi.o and there we go..." (Alexander Viro on linux-kernel)[unhandled content-type:application/pgp-signature]