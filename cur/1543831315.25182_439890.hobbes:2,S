Date: Sun, 2 Jul 2006 17:29:26 +0200 (CEST)
From: Dominik Hackl <>
Subject: [PATCH] nfs: procfs fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/2/59

This patch fixes a bug in fs/nfs which makes it impossible to build nfs 
without having procfs enabled.
        Signed-off-by: Dominik Hackl <dominik@hackl.dhs.org>
diff -pruN linux-2.6.17-git20.orig/fs/nfs/internal.h linux-2.6.17-git20/fs/nfs/internal.h
--- linux-2.6.17-git20.orig/fs/nfs/internal.h	2006-07-02 15:18:02.000000000 +0200
+++ linux-2.6.17-git20/fs/nfs/internal.h	2006-07-02 15:27:13.000000000 +0200
@@ -81,9 +81,9 @@ extern struct file_system_type clone_nfs
 #ifdef CONFIG_NFS_V4
 extern struct file_system_type clone_nfs4_fs_type;
 #endif
-#ifdef CONFIG_PROC_FS
+
 extern struct rpc_stat nfs_rpcstat;
-#endif
+
 extern int __init register_nfs_fs(void);
 extern void __exit unregister_nfs_fs(void);
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/