Date: Tue, 25 Jan 2000 22:17:28 +0100 (MET)
From: Werner Almesberger <>
Subject: Re: [PATCH] root-hopping for pre-2.3.41-3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/26/34

Linus Torvalds wrote:
> I don't think device numbers are all that helpful. And in fact I think
> that if it shows any of the "unattached" filesystems at all, it's probably
> a bug in the first place - after the root hop, the old root should not
> show up.
d_path has the same problem after a normal chroot. I agree that not showing
unreachable mount points is cleaner, but it greatly reduces the utility of
/proc/mounts as an indicator for which file systems the kernel is using.
Well, I'll take it out then and make a separate patch that adds
/proc/mount-devs which tells us the whole truth. Probably quite wasteful,
considering that nobody but fuser seems to use the current /proc/mounts
anyway.
> but I don't agree with overloading an
> existing call that does something completely different.
Sigh, a new system call then :-(
- Werner
-- 
  _________________________________________________________________________
 / Werner Almesberger, ICA, EPFL, CH       werner.almesberger@ica.epfl.ch /
/_IN_N_032__Tel_+41_21_693_6621__Fax_+41_21_693_6610_____________________/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/