Date: Sun, 12 Mar 2000 12:23:04 -0500 (EST)
From: Adam <>
Subject: Re: Some questions about linux kernel.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/12/90

> > Well why not to reserve memory for root usage only, as this is done with
> > space on the root file system ?
> 
> That means no overcommitment of memory. It's a solution, but you'll need
> _huge_ swapspaces just for making sure each time emacs spawns an ls the
> space for the 4 500Kb files it has open is available.
uh, when you are out of memory, you don't start emacs to fix the problem.
you use sash (which seems be around 500kb and has most command build in
including kill) 
> > At least this will allow to login as root via SSH or console and kill
> > trouble problem.
> 
> How does the VM notice that it needs to reserve space or dole it out, when
> there are several root processes that need memory (named, the ftpd inetd is
> spawning, ...)? They'll eat up your root allowance, and then the problem is
> the same as before. Besides, this isn't a solution anyway, you don't want
> to sit beside your server just in case it runs out of memory.
Right, it won't save you from runaway root process, but it will save you
from runaway user program. Just like with disk space.
And on interesting note, had we cast current memory situation on disk
space it would be something like this. "Ops, we just ran out of disk
space, let's kernel delete some files so that we can continue. How about
/sbin/init." How many people would find that acceptable?
I don't mind have reseverd %5 of ram so that I can su and kill whatever
offending process is. In fact I often run in one of windows 'sash' just
for cases like this one. I also often have serial console with root on 
it already which comes hand too.
All I need is kernel to suspend the programs which needs memory
until *I* can figure out what's wrong and kill what *I* think is offending
process.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/