Date: Mon, 27 Jan 2003 00:03:01 +0100
From: Christian Zander <>
Subject: Re: no version magic, tainting kernel.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/26/72

On Sun, Jan 26, 2003 at 10:29:50PM +0100, Sam Ravnborg wrote:
> 
> Judging on the number of people that got bid by the mach- include
> changes, I conclude that we better ask people to use kbuild.
> 
Fair enough.
> The whole issues boils down to the following options:
> 1) The "kernel-headers" package shall be extended to include the
> vital part of kbuild
> 2) To develop modules you need the full kernel src
> 3) Do-it-yourself makefiles
> 
> Can we agree on that - and take the discussion from there?
> 
> In 1) and 2) you have total freedom to change options etc.
> Several architectures filter out generic options they dislike.
> Adding extra options is supported by kbuild (EXTRA_CFLAGS).
> 
> In 3) you have all possibilities to screw up things. You would
> probarly argue you have full flexibility.  But then I wonder what
> kind of flexibility you need for your module, that is not needed for
> all the modules included in the kernel?  To take your argument and
> turn it around: What technical reasons are there to avoid kbuild?
> 
> Please realise that you will be hit by changes in include paths,
> compiler options etc.  That is visible in the number of mails seen
> on lkml the last couple of months.
> 
The problem isn't necessarily lack of flexibility, but the lack of
unity across kernel versions. I agree that kbuild is the preferable
solution for Linux 2.5, but it isn't for all incarnations of Linux
2.4 and definetely not for Linux 2.2. I do realize that changes have
resulted in problems for external build systems and understand that
future changes may result in similar problems.
I guess a reasonable solution is adjusting existing Makefiles to be
smart enough to detect kbuild and use it when available.
-- 
christian zander
zander@minion.de
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/