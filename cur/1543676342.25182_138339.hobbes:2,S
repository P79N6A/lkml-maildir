Date: Fri, 6 Jun 2003 00:22:25 -0700
From: Andrew Morton <>
Subject: Re: 2.5.70-bk10 oops when trying to mount root from raid-1 device
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/6/31

Helge Hafting <helgehaf@aitel.hist.no> wrote:
>
> 2.5.70-bk10 has some raid fixes, but raid-1 still fails unlike
> 2.5.70-mm4.
> 
> bk10 successfully discovers raid-1 and raid-0 arrays,
> but this happens when the kernel tries to mount root:
> 
> <lots of ordinary boot messages>
> md ... autorun DONE
> <this is where I normally get VFS: Mounted root (ext2 filesystem) readonly.
>   I got this instead:>
> unable to handle kernel paging request at 5a5a5a86
This is "use of uninitialised memory".  0x6b6b6b6b is "use of freed memory".
It's supposed to be that way in Linus's tree too, but I screwed it up.
> EIP at put_all_bios+0x047/0x80
I'd be suspecting that the write_bios[] array isn't being memset somewhere.
                struct bio **bio = r1_bio->write_bios + i;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/