Date: Thu, 21 Dec 2006 08:58:09 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH] mm: fix page_mkclean_one (was: 2.6.19 file content corruption on ext3)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/21/173

On Thu, 21 Dec 2006, Andrei Popa wrote:
> On Wed, 2006-12-20 at 16:24 -0800, Linus Torvalds wrote:
> > 
> > Martin, Peter, Andrei, pls give it a try. (Martin and Andrei may be 
> > talking about different bugs, so _both_ of your experiences definitely 
> > matter here).
> 
> with 
http://lkml.org/lkml/diff/2006/12/20/204/1
> I have corruption: Hash check on download completion found bad chunks,
> consider using "safe_sync".
Gaah. Martin Michlmayr reported that it apparently fixes his ARM 
corruption.
Now, admittedly I already suspected the issues might be different (if only 
because of the UP vs SMP/PREEMPT case), but I really had my hopes up after 
Martin's report, because if anything, _his_ issue might have been a 
superset of your problem (while obviously any subtle SMP races you might 
be seeing are definitely not an issue in his case).
Oh well. I think the ARM case is enough of a reason to apply those patches 
(if it hadn't made any difference at all, I'd have waited until after 
2.6.20), and we'll just have to continue on the SMP PREEMPT angle.
			Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/