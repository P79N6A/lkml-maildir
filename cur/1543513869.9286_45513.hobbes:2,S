Date: Sat, 23 Oct 1999 16:54:05 +0100 (BST)
From: Alan Cox <>
Subject: Re: binfmt_aout.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/23/69

Ok as far as I am concerned and interpreted your Oct 11th email you wanted
me to include the older zmagic fix so I did, I didnt see the email about
the newer one.
So we all screwed up. Apologies accepted, and apologies offered likewise.
> >o	zmagic-only-fix		->	fix a bug in the a.out code that
> >					will cause a segfault if triggers.
> 
> I quoted the same email as well. The above one is the only patch I pointed
> out about zmagic stuff in my email.
> andrea@alpha:~/kernel/kernel.org > find -name zmagic-only-fix\*
> ./patches/v2.2/2.2.13pre14/zmagic-only-fix.bz2
> ./patches/v2.2/2.2.13pre14/zmagic-only-fix.gz
I picked it up from your FTP area. The version I picked up is older than the
one you quote below because it also had 5 to HZ*5 fixes in (which Andi Kleen
also pointed out)
> andrea@alpha:~/kernel/kernel.org > zcat ./patches/v2.2/2.2.13pre14/zmagic-only-fix.gz
> --- 2.2.13pre14/fs/binfmt_aout.c        Tue Sep 28 18:32:37 1999
> +++ /tmp/binfmt_aout.c  Sat Oct  2 23:32:33 1999
> @@ -424,7 +424,7 @@
> 
>                 if (!file->f_op || !file->f_op->mmap) {
>                         sys_close(fd);
> -                       do_mmap(NULL, 0, ex.a_text+ex.a_data,
> +                       do_mmap(NULL, N_TXTADDR(ex), ex.a_text+ex.a_data,
>                                 PROT_READ|PROT_WRITE|PROT_EXEC,
>                                 MAP_FIXED|MAP_PRIVATE, 0);
>                         read_exec(bprm->dentry, fd_offset,
> 
> The above one is the _only_ patch I proposed you for inclusion into
> 2.2.13. I am been very paranoid in what I sent you to merge and I wanted
> only obviously right stuff in it. That's the reason I generated the
> zmagic-only-fix in first place.
Ok I read 
"These are all the patches that I would like to see included into 2.2.x.
They are all against 2.2.13pre15."
in your list of patches email to me and Linus as meaning you wanted the full
patch I took from your ftp area in. I don't think I saw the later email.
> I am also sure I only proposed you only the zmagic-only-fix, because I
> developed the zmagic-5.gz on 16 October and the email was of 10 October:
I worked from the 11th October Email. I don't think I saw the later one
Ok so for 2.2.14 precisely which pieces do you want in. I've backed out the
bigger zmagic fix. You want the one above in and what else ? Since a lot of
your patches play with the innards of the system not just drivers I would
like to get them in early so they get a good testing.
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/