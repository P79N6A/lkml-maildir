Date: Tue, 12 Dec 2006 11:42:24 +1100
From: Neil Brown <>
Subject: Re: oops on 2.6.19-rc6-mm2: deref of 0x28 at permission+0x7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/11/334

On Monday December 11, jikos@jikos.cz wrote:
> On Mon, 11 Dec 2006, Neil Brown wrote:
> 
> > > this nash thing is exactly the command which triggers a bit different 
> > > oops in my case. On my side, the oops is fully reproducible. If you 
> > > manage to make your case also reproducible, could you please try to 
> > > revert md-change-lifetime-rules-for-md-devices.patch? This made the 
> > > oops vanish in my case. I think Neil is working on it.
> > Trying to work on it - not making a lot of progress.  I find it hard to 
> > see how anything in md can cause the inode for a block-device file to 
> > disappear... It is a bit of a long-shot, but this patch might change 
> > things.  It changes the order in which things are de-allocated. Jiri and 
> > Jiri: would either of both of you see if you can reproduce the bug with 
> > this patch on 2.6.19-rc6-mm2 ???
> 
> Hi Neil,
> 
> sorry to say that, but it's still there after applying your patch.
Not a big surprise, but thanks a lot for testing.  I think I'm going
to have to try harder to duplicate it myself.
If I remember rightly you are using FC - which version exactly?  (I've
never installed FC before so this is going to be learning experience).
And you have no MD arrays at all - is that correct?
And you compile your own kernel.  Is it monolithic, or are you using
modules?  Do you boot with an initrd or just the kernel?
I'd like to duplicate your installation as closely as possible, so any
relevant details or recipes would be greatly appreciated.
Thanks,
NeilBrown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/