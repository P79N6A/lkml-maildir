Date: Fri, 4 May 2007 13:02:41 -0700
From: Andrew Morton <>
Subject: Re: [RFC/PATCH] ext3: remove inode constructor
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/4/464

On Fri, 4 May 2007 13:14:35 +0300 (EEST)
Pekka J Enberg <penberg@cs.helsinki.fi> wrote:
> As explained by Christoph Lameter, ext3_alloc_inode() touches the same
> cache line as init_once() so we gain nothing from using slab
> constructors.  The SLUB allocator will be more effective without it
> (free pointer can be placed inside the free'd object), so move inode
> initialization to ext3_alloc_inode completely.
I got 100% rejects against this because Christoph has already had
his paws all over the slab constructor code everywhere.
Was going to fix it up but then decided that we ought to make changes
like this to ext4 as well.  Ideally beforehand, but simultaneously is
OK as long as it's simple enough.
btw, for a benchmark I'd suggest just a silly create-10000-files
tight loop rather than something more complex like postmark.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/