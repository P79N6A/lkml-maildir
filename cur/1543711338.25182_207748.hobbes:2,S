Date: Fri, 19 Mar 2004 10:27:08 +0100
From: Marc-Christian Petersen <>
Subject: Re: 2.6.5-rc1-mm2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/19/26

On Thursday 18 March 2004 05:14, Andrew Morton wrote:
Hi Andrew,
> +move-job-control-stuff-tosignal_struct-sparc64-fix.patch
>  Fix the signal rework for sparc64
prolly this one too for ebtables.
ciao, Marc
--- old/net/bridge/netfilter/ebtables.c	2003-12-18 03:58:40.000000000 +0100
+++ new/net/bridge/netfilter/ebtables.c	2004-03-19 10:23:43.000000000 +0100
@@ -46,7 +46,7 @@ static void print_string(char *str)
 	struct tty_struct *my_tty;
 
 	/* The tty for the current task */
-	my_tty = current->tty;
+	my_tty = current->signal->tty;
 	if (my_tty != NULL) {
 		my_tty->driver->write(my_tty, 0, str, strlen(str));
 		my_tty->driver->write(my_tty, 0, "\015\012", 2);