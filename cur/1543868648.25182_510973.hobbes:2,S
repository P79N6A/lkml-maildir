Date: Tue, 20 Feb 2007 08:37:52 -0800 (PST)
From: Christoph Lameter <>
Subject: Re: [PATCH] free swap space when (re)activating page
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/20/189

On Tue, 20 Feb 2007, Rik van Riel wrote:
> > It was the portion that modifies shrink_active_list. Why operate
> > on the pagevec there? The pagevec only contains the leftovers to be released
> > from scanning over the temporary inactive list.
> 
> Why?  Because the pages that were not referenced will be
> going onto the inactive list and are now a candidate for
> swapping out.  I don't see why we would want to reclaim
> the swap space for pages that area about to be swapped
> out again.
Sounds sane. Then drop that piece. Again, you were only operating on the 
pages left over in the pagevec after the move of the pages to the 
inactive list. If you really wanted to do something there then the 
processing should have covered all pages that go to the inactive list.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/