Date: Wed, 11 Apr 2007 18:43:38 +0200
From: Krzysztof Halasa <>
Subject: Re: I give up
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/11/225

"John Anthony Kazos Jr." <jakj@j-a-k-j.com> writes:
> I think that's especially true. If a user begins with a single full disk 
> for their entire filesystem, uses tar to backup, and then later adds a 
> second disk, copies everything from /usr and /home onto partitions there 
> (making sure to preserve all interesting bits like ctime/mtime), and 
> mounts them over the original directories, tar should not decide that 
> every file in /usr and /home was deleted and recreated.
That wouldn't work, even if you managed to copy ctime, the target
inode number will be different than the original and backup has
to assume it's a different file.
For filesystems with no stable inode numbers my backup scheme
assumes that the same file = the same name and times but it's
really fragile.
An option to ignore block device number does make sense, of course.
Especially when backing up only one filesystem (-xdev etc).
-- 
Krzysztof Halasa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/