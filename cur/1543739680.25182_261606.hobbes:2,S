Date: Mon, 18 Oct 2004 23:06:59 +0200
From: Andi Kleen <>
Subject: Re: [PATCH] General purpose zeroed page slab
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/18/180

> It's probably worth doing this with a static cachep in slab.c and only
> exposing a get_zeroed_page() / free_zeroed_page() interface, with the
> latter doing the memset to 0.  
Putting a memset in there would be dumb because the mm cleanup already
zeroes the page tables.
My dirty bitmap proposal would make that faster however, same as 
copy_page_range et.al.
> I disagree with Andi over the dumbness
> of zeroing the whole page.  That makes it cache-hot, which is what you
> want from a page you allocate from slab.
It's already cache hot from the page table free and you only want one cache
line in it cache hot, not the whole page.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/