Date: Fri, 12 Oct 2001 15:00:56 -0700
From: Alan Hagge <>
Subject: NFS issue: Irix server, Linux client - inode number mismatch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/12/152

We have an SGI Irix 6.5-based server running NFS3 with Linux 2.4.7
clients attaching.  Whenever the server crashes, the Linux clients have
problems with their NFS mounts. Typically, they're unusable until after
reboot.
The /var/log/messages file on the Linux client side has the following
messages: 
        Oct  8 16:01:27 lrender2 automount[22485]: expired
/usr/local/sgi/wbfa 
        Oct  8 16:01:27 lrender2 kernel: nfs_refresh_inode: inode number
mismatch 
        Oct  8 16:01:27 lrender2 kernel: expected (0x3000007/0x6467c36),
got (0x3000005/0x6467c36) 
        Oct  8 16:06:27 lrender2 automount[22486]: expired
/usr/local/sgi/wbfa 
        Oct  8 16:06:27 lrender2 kernel: nfs_refresh_inode: inode number
mismatch 
        Oct  8 16:06:27 lrender2 kernel: expected (0x3000007/0x6467c36),
got (0x3000005/0x6467c36) 
        Oct  8 16:11:27 lrender2 automount[22487]: expired
/usr/local/sgi/wbfa 
        Oct  8 16:11:27 lrender2 kernel: nfs_refresh_inode: inode number
mismatch 
        Oct  8 16:11:27 lrender2 kernel: expected (0x3000007/0x6467c36),
got (0x3000005/0x6467c36) 
Can anyone tell me if this is expected behavior, and if not, if the
problem is in the Irix NFS server implementation or the 
Linux client implementation?  I don't have the NFS expertise to be able
to discern...
BTW, other clients (SGI Irix and Mac OS X workstations) connected to the
same mount points do NOT exhibit this 
behaviour after a server crash.
I checked the changelog at
http://www.fys.uio.no/~trondmy/src/ChangeLog.NFSv3
 but didn't see
anything relevant.
Thanks,
Alan Hagge
Replies via cc:, please...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/