Date: Thu, 17 Jun 1999 12:06:38 +1000
From: Keith Owens <>
Subject: Re: Kernel 2.3.5/PCMCIA 3.0.12 hot swap problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/16/207

On Wed, 16 Jun 1999 14:19:50 -0400 (EDT), 
Derrick J Brashear <shadow@dementia.org> wrote:
>I recently upgraded my laptop to Redhat 6, then to kernel 2.3.5 and
>pcmcia-cs.02-Jun-99 (and before that 3.0.11, and then 3.0.10 before that, both
>with 2.3.5 and with two 2.2 kernels) 
>
>I can no longer hot swap network cards; if I pull out a network card while the
>network is up, the module does not unload, and running ifconfig simply hangs
>(in ioctl(.., SIOCGFICONF...)) 
Check your kernel messages, you will probably find an Oops from
cardmgr.  I get them on 2.2.9 with pcmcia-cs-12 when removing an active
card, although it is intermittent.  When it occurs, pcmcia is
effectively dead until a reboot.
There are known problems with pcmcia using services from interrupt
context when it should not.  AFAIK, they existed in 2.0 as well, 2.2
changes seem to trigger them more often.  Until pcmcia is fixed it
looks like you will have to ifconfig eth0 down before popping the card.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/