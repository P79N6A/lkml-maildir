Date: Sun, 25 May 2003 22:06:13 +0200
From: "Gutko" <>
Subject: Still no DMA on boot on S-ATA (Asus A7N8X-deluxe)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/25/100

Hardware:
Asus A7N8X -deluxe v1.04 bios 1004
SI3112A sata chipset
IBM vancouver2 180GXP pata drive connected to sata trough Asus sata<->pata
converter
Kernel 2.4.21-rc3 (and all older 2.4.x with sata support)
Why my hdd is always detected as PIO?
I can enable udma5 using hdparm, later in rc.local but why it is not working
on boot?
----------DMESG-----------
Uniform Multi-Platform E-IDE driver Revision: 7.00beta3-.2.4
ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
NFORCE2: IDE controller at PCI slot 00:09.0
NFORCE2: chipset revision 162
NFORCE2: not 100% native mode: will probe irqs later
AMD_IDE: PCI device 10de:0065 (nVidia Corporation) (rev a2) UDMA100
controller on pci00:09.0
    ide0: BM-DMA at 0xf000-0xf007, BIOS settings: hda:DMA, hdb:DMA
    ide1: BM-DMA at 0xf008-0xf00f, BIOS settings: hdc:DMA, hdd:DMA
SiI3112 Serial ATA: IDE controller at PCI slot 01:0b.0
SiI3112 Serial ATA: chipset revision 1
SiI3112 Serial ATA: not 100% native mode: will probe irqs later
    ide2: MMIO-DMA at 0xe0f54000-0xe0f54007, BIOS settings: hde:pio, hdf:pio
    ide3: MMIO-DMA at 0xe0f54008-0xe0f5400f, BIOS settings: hdg:pio, hdh:pio
hdc: LITE-ON LTR-48125S, ATAPI CD/DVD-ROM drive
hdd: HL-DT-STDVD-ROM GDR8160B, ATAPI CD/DVD-ROM drive
hde: IC35L180AVV207-1, ATA DISK drive
hdg: no response (status = 0xfe)
ide1 at 0x170-0x177,0x376 on irq 15
ide2 at 0xe0f54080-0xe0f54087,0xe0f5408a on irq 11
hde: attached ide-disk driver.
hde: host protected area => 1
hde: 361882080 sectors (185284 MB) w/7965KiB Cache, CHS=22526/255/63
------------
hdparm -i /dev/hde
dma enabled manually
 Model=IC35L180AVV207-1, FwRev=V26OA60F, SerialNo=VNVF01G6G0VZ9D
 Config={ HardSect NotMFM HdSw>15uSec Fixed DTR>10Mbs }
 RawCHS=16383/16/63, TrkSize=0, SectSize=0, ECCbytes=52
 BuffType=DualPortCache, BuffSize=7965kB, MaxMultSect=16, MultSect=16
 CurCHS=16383/16/63, CurSects=16514064, LBA=yes, LBAsects=268435455
 IORDY=on/off, tPIO={min:240,w/IORDY:120}, tDMA={min:120,rec:120}
 PIO modes:  pio0 pio1 pio2 pio3 pio4
 DMA modes:  mdma0 mdma1 mdma2
 UDMA modes: udma0 udma1 udma2 udma3 udma4 *udma5
 AdvancedPM=yes: disabled (255) WriteCache=enabled
 Drive conforms to: ATA/ATAPI-6 T13 1410D revision 3a:  2 3 4 5 6
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/