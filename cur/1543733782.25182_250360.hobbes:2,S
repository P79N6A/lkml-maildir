Date: Wed, 8 Sep 2004 15:50:20 -0500
From: Erik Jacobson <>
Subject: Re: [PATCH] sgiioc4 driver needs /proc/ide entries
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/8/289

Now that I understand we don't need to create /proc/ide/sgiioc4, the patch
is very simple.
Below you will find the new patch.  I just tested it now and it works
properly - /proc/ide is properly populated with this patch (and not
populated on altix without it).
Add create_proc_ide_interfaces() call to sgiioc4_ide_setup_pci_device()
so /proc/ide gets populated properly.
Signed-off-by: Erik Jacobson <erikj@sgi.com>
---
 drivers/ide/pci/sgiioc4.c |    4 ++++
 1 files changed, 4 insertions(+)
diff -Naru linux-2.6.8-orig/drivers/ide/pci/sgiioc4.c linux-2.6.8/drivers/ide/pci/sgiioc4.c
--- linux-2.6.8-orig/drivers/ide/pci/sgiioc4.c	2004-08-14 01:36:58.000000000 -0400
+++ linux-2.6.8/drivers/ide/pci/sgiioc4.c	2004-09-08 16:12:29.677605262 -0400
@@ -702,6 +702,10 @@
 		       hwif->name, d->name);
 	probe_hwif_init(hwif);
+
+	/* Create /proc/ide entries */
+	create_proc_ide_interfaces();
+
 	return 0;
 }
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/