Date: 24 Sep 1999 12:53:17 -0400
From: "Stefan Monnier"         <monnier+lists/linux/kernel/news/@tequila.cs.yale.edu>
Subject: "eth0: Interrupt posted but not delivered" with 2.2.13pre8
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/24/96

I recently tried to switch my only SMP machine from 2.0 to 2.2 and
am having trouble:  I first booted it with a stock 2.2.6 (because it
never crashed on me since it came out) but it tends to softly lock up
after some time (between a couple hours and a few days).  The lock up
is soft in that applications can still run until they hit some spot
(most likely until they need to access the disk).
So I figured I should try out a more recent version and checked out
2.2.13pre8 but then I hit another problem (within a couple hours):
the network connection gets frozen with the messages:
    eth0: transmit timed out, tx_status 00 status e601. 
    eth0: Interrupt posted but not delivered -- IRQ blocked by another device?
The network card is
    3c59x.c:v0.99H 11/17/98 Donald Becker 
http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html
    eth0: 3Com 3c905 Boomerang 100baseTx at 0xef00,  00:60:08:05:14:67, IRQ 10
      8K word-wide RAM 3:5 Rx:Tx split, autoselect/MII interface.
      MII transceiver found at address 24, status 786d.
      Enabling bus-master transmits and whole-frame receives.
When the problem happens, some of the outgoing packets still make it, but
nothing ever comes back (i.e. my syslog host receives some messages, but
ping doesn't work).
The /proc/interrupts file doesn't show any problems and the IRQ assignment
has no conflicts (and has been working flawlessly with 2.0.36-SMP for months).
rmmod/insmod-ing the driver doesn't help whatsoever.
The machine has a sym53c875 SCSI card with just one SCSI disk (plus a Jazz
drive that has not been used since I switched to 2.2).  The 2.2.6 stock kernel
was built with the ncr53c8xx driver (and gcc-2.7.2.3) while the 2.2.13pre8 has
both ncr53c8xx and sym53c8xx (and correctly selects the sym53c8xx driver)
and was built with (gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2
release)).
Does that ring a bell ?
	Stefan "trying out 2.0.36 with redhat-6.0 in the meantime"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/