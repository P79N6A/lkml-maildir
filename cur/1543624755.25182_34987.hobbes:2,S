Date: Sat, 16 Mar 2002 12:00:21 +1100
From: Anton Blanchard <>
Subject: Re: bit ops on unsigned long?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/15/66

> 	nfs is broken in 2.5 ATM because it does set_bit on an "int".
> Can be *please* just bite the bullet and change the prototype on these
> ops so we stop seeing the same mistakes over and over?
I present to you Exhibit A:
diff -urN linux-2.5/include/linux/sunrpc/svcsock.h linux-2.5_tmp/include/linux/sunrpc/svcsock.h
--- linux-2.5/include/linux/sunrpc/svcsock.h	Tue Mar  5 11:45:35 2002
+++ linux-2.5_tmp/include/linux/sunrpc/svcsock.h	Sat Mar 16 11:41:02 2002
@@ -22,7 +22,7 @@
 
 	struct svc_serv *	sk_server;	/* service for this socket */
 	unsigned char		sk_inuse;	/* use count */
-	unsigned int		sk_flags;
+	unsigned long		sk_flags;
 #define	SK_BUSY		0			/* enqueued/receiving */
 #define	SK_CONN		1			/* conn pending */
 #define	SK_CLOSE	2			/* dead or dying */
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/