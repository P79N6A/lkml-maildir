Date: Sat, 9 Feb 2002 16:45:55 -0700
From: Tom Rini <>
Subject: Re: [bk patch] Make cardbus compile in -pre4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/9/136

On Sat, Feb 09, 2002 at 04:36:03PM -0700, Andreas Dilger wrote:
> One thing that I've noticed (got my first linux-2.5 clone last night) is
> that the kernel build process is somewhat broken by the fact that not
> everything that you need to build is checked out of the repository by
> make.
> 
> It appears to handle .c files ok, but it failed for all of the .h files.
> I take it this means that gcc doesn't know anything about SCCS, and it
> would also appear that make is not properly checking dependencies for
> these files, or it would have checked them out, right?
It's a 'feature' of the dependancy setup of the kernel.  bk -r get -q
will checkout all of the files everywhere, and the build _should_ work
(there's been times autogenerated files were in the kernel and thus
broke building from a bk repo).
> Also, things like "make menuconfig" and such also fail (because they are
> doing stuff within scripts that have no concept of SCCS or BK).  Will
> the new kernel build system take any of this into account?
I don't think they do now, but it wouldn't be too hard I'd think.  If of
course the files needed to build/run the tools get checked out :)
> I would prefer if we only checked out as much as we need (instead of
> doing something like 'bk -r edit' which will use up a lot of space in
> each clone for architectures and drivers which I don't need).
Don't -r edit, -r get.  You can go and selectively clean out some dirs,
but in short, no.
-- 
Tom Rini (TR1265)
http://gate.crashing.org/~trini/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/