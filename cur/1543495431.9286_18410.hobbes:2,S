Date: Wed, 12 May 1999 02:40:59 +0200 (MET DST)
From: (Guest section DW)
Subject: RE: The WHY's (RE: ide drive w/dma ... system crash)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/12/24

    From goemon@sasami.anime.net Wed May 12 02:17:50 1999
    On Wed, 12 May 1999, Guest section DW wrote:
    >     Oh really? So the fact BIOS returns 16383,16,63 instead of 19650,16,63 is
    >     not a BIOS bug? 
    > No, it is the ATA standard.
    Another BIOS returns 33483/16/63. Is this part of the standard too?
    When does it return 16383/16/63 and when does it return larger Cylinders?
Which BIOS returns 33483/16/63 for a disk that has 19650*16*63 = 19807200 sectors?
Below a fragment of the ATA-5 draft standard that I happen to have nearby.
======================================================================
6.2.1 Definitions and value ranges of IDENTIFY DEVICE words 
(see 8.12)
1) Word 1 shall contain the number of user-addressable logical cylinders
in the default CHS translation.  If the content of words (61:60) is less
than 16,514,064 then the content of word 1 shall be greater than or equal
to one and less than or equal to 65,535.  If the content of words (61:60)
is greater than or equal to 16,514,064 then the content of word 1 shall
be equal to 16,383.
2) Word 3 shall contain the number of user-addressable logical heads
in the default CHS translation.  The content of word 3 shall be greater
than or equal to one and less than or equal to 16.  For compatibility
with some BIOSs, the content of word 3 may be equal to 15 if the content
of word 1 is greater than 8192.
3) Word 6 shall contain the number of user-addressable logical sectors
in the default CHS translation.  The content of word 6 shall be greater
than or equal to one and less than or equal to 63.
4) [(The content of word 1) * (the content of word 3) * (the content of word 6)]
shall be less than or equal to 16,514,064.
======================================================================
Very rough translation: large drives shall not reveal that they are large
by their geometry parameters. If the number of sectors is at least
16383*16*63 then the disk must report C=16383.
Usually the report will be 16383/16/63 but one also finds other values,
especially 16383/15/63.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/