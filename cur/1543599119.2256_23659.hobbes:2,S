Date: Sat, 25 Aug 2001 21:24:40 +0200
From: Roger Larsson <>
Subject: Re: [PATCH][RFC] simpler __alloc_pages{_limit}
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/8/25/113

On Saturdayen den 25 August 2001 13:55, Stephan von Krawczynski wrote:
> On Sat, 25 Aug 2001 02:48:28 +0200
>
> 2) It does not really work around the basic problem of too
> many cached pages in case of heavy filesystem action, I do get the already
> known "kernel: __alloc_pages: 2-order allocation failed." by simply copying
> files a lot. 
Hi again,
I would like to see from were these higher order allocs comes from.
Please insert something like this:
                printk("pid=%d; __alloc_pages(gfp=0x%x, order=%ld, ...)\n", 
current->pid, gfp_mask, order);
                show_trace(NULL);
(You have something resembling the first line - I added this in the beginning
 of __alloc_pages, you may add it together with the error message)
If everything is ok (correct Symbols.map) you should be able to get
a symbolic call trace in /var/logs/messages
(some are false positives, but they can be filtered out manually)
/RogerL
-- 
Roger Larsson
Skellefte√•
Sweden
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/