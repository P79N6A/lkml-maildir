Date: Thu, 12 Jun 2003 08:42:42 +0300
From: Artemio <>
Subject: Re: SMP question
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/12/17

Hello!
> > I'm building a hard real-time Linux (RTLinux) system on a 2x Xeon
> > machine. If
>
> then LKML is not the place for you.  RTLinux is a fork of "real" linux.
Well, those guys seem to have success on the same machines that I fail. 
I even used *their* .config file to compile a kernel, but I still fail.
> well, talk to the rtlinux people.  considering what rtlinux changes from
> real linux, this hang is not a big surprise.
Yes, rtlinux runs linux kernel as it's idle thread, and it messes up the 
system - I mean it becomes more difficult to make it work if it doesn't work.
> > So, I have to deside between these two:
> >
> >  - Run rtlinux and hard-realtime applications on a kernel without SMP
> > support. How much performance will I loose this way? Is SMP *THAT*
> > critical?
>
> huh?  it's not critical at all.  though if you have two processors,
> you've just wasted several hundred dollars unless you run SMP.
:-)
> >  - Run all tasks in a usual way, no hard realtime, but with SMP support.
>
> why do you think you need rtlinux-type realtime?
Hmm... Nice question.
We are to run many applications that will be mission-critical. That's why we 
decided to make them in hard-realtime.
The other way is probably making low-priority kernel threads by usual means.
But I think hard-realtime will give us more performance. 
> > Also, if I turn hyperthreading off, how will it influence the system with
> > SMP support? Without SMP support?
>
> HT is just hardware-supported multithreading - imagine that you have
> the same old processor, except that the CPU's instruction-dispatcher
> is reading from two instruction streams.  HT doesn't add any new resources,
> just shares a single CPU among two threads.
Got it.
> I suspect the design of rtlinux is inherently incompatible with HT.
I will try turning HT off and running RTLinux.
Thank you very much for your reply!
Artemio.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/