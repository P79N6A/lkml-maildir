Date: Thu, 11 May 2006 14:43:19 -0500
From: James Bottomley <>
Subject: [GIT PATCH] scsi bug fixes for 2.6.17-rc3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/11/184

These are basically assorted fixes (and a warning elimination for
Andrew).  The patch is available here:
master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-rc-fixes-2.6.git
The short changelog is:
<mdr:sgi.com>:
  o mptfc: race between mptfc_register_dev and mptfc_target_alloc
Adrian Bunk:
  o megaraid/megaraid_mm.c: fix a NULL pointer dereference
Andrew Morton:
  o megaraid: unused variable
Brian King:
  o scsi: Add IBM 2104-DU3 to blist
Denis Vlasenko:
  o aic7xxx: ahc_pci_write_config() fix
Eric Moore:
  o mptspi: revalidate negotiation parameters after host reset and
resume
  o fusion - bug fix stack overflow in mptbase
  o fusion - mptfc bug fix's to prevent deadlock situations
  o mptfusion: bug fix's for raid components adding/deleting
Eric Sesterhenn:
  o Overrun in drivers/scsi/sim710.c
James Bottomley:
  o Fix DVD burning issues
James Smart:
  o lpfc 8.1.6 : Fix Data Corruption in Bus Reset Path
  o lpfc 8.1.5 : Change version number to 8.1.5
  o lpfc 8.1.5 : Misc small fixes
  o lpfc 8.1.5 : Additional fixes to LOGO, PLOGI, and RSCN processing
  o lpfc 8.1.5 : Fix cleanup code in the lpfc_pci_probe_one() error code
path
  o lpfc 8.1.5 : Fixed FC protocol violation in handling of PRLO
  o lpfc 8.1.5 : Use asynchronous ABTS completion to speed up abort
completions
  o lpfc 8.1.5 : Fix Discovery processing for NPorts that hit nodev_tmo
during discovery
Jesper Juhl:
  o aic7xxx_osm_pci resource leak fix
Michael Reed:
  o qla2xxx: Correct eh_abort recovery logic
Roland Dreier:
  o srp.h: avoid padding of structs
Seokmann Ju:
  o megaraid_{mm,mbox}: fix a bug in reset handler
Tomonori FUJITA:
  o ibmvscsi: fix leak when failing to send srp event
Zach Brown:
  o qla2xxx: only free_irq() after request_irq() succeeds
And the diffstat:
 Documentation/scsi/ChangeLog.megaraid  |   25 ++++++
 drivers/message/fusion/mptbase.c       |   63 +++++++++------
 drivers/message/fusion/mptbase.h       |   10 --
 drivers/message/fusion/mptfc.c         |  134 ++++++++++++++++++++-------------
 drivers/message/fusion/mptsas.c        |   99 +++++++++++++++++-------
 drivers/message/fusion/mptscsih.c      |   50 ++++++------
 drivers/message/fusion/mptspi.c        |   68 ++++++++++++++++
 drivers/scsi/aic7xxx/aic7xxx_osm_pci.c |    1 
 drivers/scsi/aic7xxx/aic7xxx_pci.c     |   12 +-
 drivers/scsi/ibmvscsi/ibmvscsi.c       |   30 ++++---
 drivers/scsi/lpfc/lpfc_crtn.h          |    1 
 drivers/scsi/lpfc/lpfc_disc.h          |    1 
 drivers/scsi/lpfc/lpfc_els.c           |   95 +++++++++++++----------
 drivers/scsi/lpfc/lpfc_hbadisc.c       |   18 ++--
 drivers/scsi/lpfc/lpfc_hw.h            |    3 
 drivers/scsi/lpfc/lpfc_init.c          |   22 ++---
 drivers/scsi/lpfc/lpfc_mbox.c          |   33 --------
 drivers/scsi/lpfc/lpfc_nportdisc.c     |  134 +++++++++++++++++++++++----------
 drivers/scsi/lpfc/lpfc_scsi.c          |   68 ++++------------
 drivers/scsi/lpfc/lpfc_version.h       |    2 
 drivers/scsi/megaraid.c                |    1 
 drivers/scsi/megaraid/megaraid_mbox.c  |   59 ++++++++++----
 drivers/scsi/megaraid/megaraid_mbox.h  |    7 +
 drivers/scsi/megaraid/megaraid_mm.c    |    6 -
 drivers/scsi/qla2xxx/qla_os.c          |   19 ++--
 drivers/scsi/scsi_devinfo.c            |    2 
 drivers/scsi/scsi_lib.c                |   27 ++++--
 drivers/scsi/sim710.c                  |    2 
 include/scsi/srp.h                     |   23 ++++-
 29 files changed, 632 insertions(+), 383 deletions(-)
James
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/