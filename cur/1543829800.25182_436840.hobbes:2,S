Date: Sun, 25 Jun 2006 17:55:17 -0400
From: "Albert Cahalan" <>
Subject: Re: Linux 2.6.17: PM-Timer bug warning?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/25/145

Andreas Mohr writes:
> OK, so if I get a nice description of which dual P4 Xeon motherboard
> that was (Dell something?), then I'll make a patch adding
> this chipset's revision + motherboard + LKML link of bug test app
> to the file, and asking for more testers there, too.
I may have some bad news for you.
Vendors hack around this sort of thing via SMM/SMI tricks.
They catch the device access, then execute BIOS code to retry
or delay as needed. So the BIOS version will matter.
I actually saw this with a 2-way Xeon box from Dell a couple years ago.
I don't recall exactly what it was, but the board probably had a few
64-bit and/or PCI-X slots. Reading from one of the clocks would screw
up if you were near the transition. The board would frequently go into
SMM to check on things. When a clock tick was found to be really soon,
the BIOS would set some sort of flag. If you tried to read the clock
while this flag was set, the BIOS would spin until the clock settled.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/