Date: Mon, 30 Jul 2007 10:02:47 -0700
From: "Luck, Tony" <>
Subject: [PATCH] Fix ENOSYS undeclared errors from linux/pm.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/30/223

With CONFIG_SUSPEND=n I get build errors from at least a couple of
files because of the use of ENOSYS in the stub for pm_suspend().
Should those .c files be forced to include errno.h?  Or should we
have the include in pm.h?  Assuming the latter ...
Signed-off-by: Tony Luck <tony.luck@intel.com>
---
diff --git a/include/linux/pm.h b/include/linux/pm.h
index e52f6f8..a90c020 100644
--- a/include/linux/pm.h
+++ b/include/linux/pm.h
@@ -23,6 +23,7 @@
 
 #ifdef __KERNEL__
 
+#include <linux/errno.h>
 #include <linux/list.h>
 #include <asm/atomic.h>
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/