Date: Sun, 12 Feb 2006 19:51:50 +0100
From: Thomas Maguin <>
Subject: VariRec, GigaRec and PowerRec as user
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/12/113

This patch allows to normal users on Plextor drives:
- Hide CD-R
- SingleSession
- SpeedRead
- PowerRec
- VariRec
- GigaRec
Can be tested with new qpxtool (testing version available here):
http://de.geocities.com/linux_piewie/download/qpxtool-testing.tgz
--- linux/include/scsi/old-scsi.h       2006-02-12 16:15:40.000000000 +0100
+++ linux/include/scsi/scsi.h   2006-02-12 17:23:20.000000000 +0100
@@ -108,7 +108,11 @@
 #define SEARCH_LOW_12         0xb2
 #define READ_ELEMENT_STATUS   0xb8
 #define SEND_VOLUME_TAG       0xb6
+#define PLEXTOR_MODE          0xe9
 #define WRITE_LONG_2          0xea
+#define PLEXTOR_PREC_SPEEDS   0xeb
+#define PLEXTOR_MODE2         0xed
+
 #define READ_16               0x88
 #define WRITE_16              0x8a
 #define VERIFY_16            0x8f
--- linux/drivers/block/old-scsi_ioctl.c        2006-02-12 16:23:37.000000000 
+0100
+++ linux/drivers/block/scsi_ioctl.c    2006-02-12 16:25:31.000000000 +0100
@@ -159,7 +159,10 @@
                safe_for_read(GPCMD_GET_PERFORMANCE),
                safe_for_read(GPCMD_SEEK),
                safe_for_read(GPCMD_STOP_PLAY_SCAN),
-
+               safe_for_read(PLEXTOR_MODE),
+               safe_for_read(PLEXTOR_PREC_SPEEDS),
+               safe_for_read(PLEXTOR_MODE2),
+               
                /* Basic writing commands */
                safe_for_write(WRITE_6),
                safe_for_write(WRITE_10),
[unhandled content-type:application/pgp-signature]