Date: Mon, 25 Aug 2003 14:30:34 +0100
From: Russell King <>
Subject: Re: OOPS 2.6.0-test4 repeatable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/25/113

On Mon, Aug 25, 2003 at 02:45:36PM +0200, Mario Mikocevic wrote:
> OK, first some additional testing info, at first I thought it was
> repeatable in the _very_ _same_ manner but not _quite_.
> I have two possible scenarios ->
> 
>  - after some time (never more than a minute or two) of plugging DWL-650+
>    into slot thinkpad-r40 just shuts itself down, no oops, _no_ nothing
> 
>  - loading modules shortens time to shutdown to few seconds and _sometimes_
>    produces oops, so I have to do several plug_in/*plonk*/turn_on/fsck/reboot
>    iterations to get oops
> 
> Here's latest oops, this time provocated with loading modules snd-intel8x0 and
> acx100_pci (yesterdays 0.1h version from 
http://acx100.sourceforge.net/
) ->
Well, acx100_pci seems to be buggy.
> Aug 25 13:42:09 mozz-r40 kernel: pci_dev: 0000:00:1f.5 driver: d0916580 name: Intel ICH table: d0915be0 probe: d0911f9e
> Aug 25 13:42:10 mozz-r40 kernel: intel8x0: clocking to 48000
> Aug 25 13:42:26 mozz-r40 kernel: pci_dev: 0000:03:00.0 driver: d090c400 name: acx100_pci table: d090c3a0 probe: d0823000
> Aug 25 13:42:26 mozz-r40 kernel: Unable to handle kernel paging request at virtual address d0823000
It's probe function is at address 0xd0823000 which is where your OOPS
is happening.  I suspect you'll find the acx100 pci probe function is
marked with __init.  That's a bug - it must not be.
Similarly, the PCI ID table must not be marked with __devinitdata nor
__initdata.
(I can't reach acx100.sourceforge.net currently.)
-- 
Russell King (rmk@arm.linux.org.uk)                The developer of ARM Linux
             
http://www.arm.linux.org.uk/personal/aboutme.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/