Date: Fri, 15 Sep 2006 17:25:42 -0400
From: Mathieu Desnoyers <>
Subject: Re: [PATCH 0/11] LTTng-core (basic tracing infrastructure) 0.5.108
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/15/280

* Jose R. Santos (jrs@us.ibm.com) wrote:
> To some people performance is the #1 priority and to other it is 
> flexibility.  I would like to come up with a list of those probe point 
> that absolutely need to be inserted into the code statically.  Those 
> that are not absolutely critical to have statically should be 
> implemented dynamically.
> 
I agree with you that only very specific parts of the kernel have this kind of
high throughput. Using kprobes for lower thoughput tracepoints if perfectly
acceptable from my point of view, as it does not perturb the system too much.
I would suggest (as a beginning) those "standard" hi event rate tracepoints :
(taken from the highest rates in
http://sourceware.org/ml/systemtap/2005-q4/msg00451.html
)
- syscall entry/exit
- irq entry/exit
- softirq entry/exit
- tasklet entry/exit
- trap entry/exit
- scheduler change
- wakeup
- network traffic (packet in/out)
- "select" and "poll" system calls
- page_alloc/page_free
(be warned : this list is probably incomplete, too exhaustive or can cause
dizziness under stress condition) :)
However, a tracing infrastructure should still provide the ability for
developers to instrument their own high traffic interrupt handler with a very
low overhead.
Mathieu
OpenPGP public key:              
http://krystal.dyndns.org:8080/key/compudj.gpg
Key fingerprint:     8CD5 52C3 8E3C 4140 715F  BA06 3F25 A8FE 3BAE 9A68 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/