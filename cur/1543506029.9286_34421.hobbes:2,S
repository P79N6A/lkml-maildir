Date: Mon, 16 Aug 1999 23:34:40 +0100 (BST)
From: "Stephen C. Tweedie" <>
Subject: Re: clustering page-ins
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/17/19

Hi,
On Mon, 2 Aug 1999 16:07:23 -0400 (EDT), Chuck Lever <cel@monkey.org> said:
> say separate processes are sharing a file (say, a system log file, or
> /etc/passwd) and reads are sequential.  the problem isn't scheduling too
> many read-ahead I/O's, it's that every process reading this "shared" file
> sequentially will trigger the read-ahead code.  this generates a whole
> bunch of page cache lookups that could be avoided.  not a big deal, but it
> would be nice if the logic was smart enough to avoid it -- if read-ahead
> is, say, 4 clusters, that's 64 extra page cache lookups every time that
> part of the file is requested by some process.
Sure, but you have just the same problem if you only have one process
which repeatedly maps, reads and unmaps the file.  The page cache is
quite simply the only data structure which we have which can tell a
process whether the next pages it will want are already in cache or
not.
--Stephen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/