Date: Tue, 31 Oct 2006 07:54:27 -0800
From: Randy Dunlap <>
Subject: Re: [PATCH] fix UFS superblock alignment issues
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/31/187

On Tue, 31 Oct 2006 09:22:30 -0600 Eric Sandeen wrote:
> Eric Sandeen wrote:
> > ufs2 fails to mount on x86_64, claiming bad magic.  This is because 
> > ufs_super_block_third's fs_un1 member is padded out by 4 bytes for
> > 8-byte alignment, pushing down the rest of the struct.
> > 
> > Forcing this to be packed solves it.  I took a quick look over
> > other on-disk structures and didn't immediately find other problems.
> > I was able to mount & ls a populated ufs2 filesystem w/ this change.
> 
> I should also mention that this seems to be a regression from
> 2.6.17->2.6.18, so perhaps it's a candidate for 2.6.18.x updates.
Please send it to stable@kernel.org .
---
~Randy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/