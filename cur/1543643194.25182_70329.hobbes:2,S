Date: Thu, 12 Sep 2002 20:37:36 +0200
From: Mikael Pettersson <>
Subject: Re: [PATCH] 2.4-ac task->cpu abstraction and optimization
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/12/162

Robert Love writes:
 > On Thu, 2002-09-12 at 02:52, Mikael Pettersson wrote:
 > 
 > > This is fairly similar to the "up-opt" patch I have been using for my
 > > 2.4 standard (not -ac) kernels since last winter, available as
 > > <
http://www.csd.uu.se/~mikpe/linux/patches/2.4/patch-up-opt-2.4.20-pre6>.
 > > It's not a direct substitute for yours, since -ac changes kernel/sched.c
 > > quite a bit, and it has some unnecessary patches to SMP code, but other
 > > than that, I totally agree with the intention of your patch.
 > 
 > Good ;)
 > 
 > I should of added this is from 2.5; so it has been around for awhile.  I
Actually, the 2.5 patch sort of originates from my 2.4 patch: I did a 2.5
version, Dave Jones included it in the -dj kernel, and Ingo pulled it out
and pushed it into Linus' kernel.
 > also took a look at your patch -- looks good, you should submit it to
 > Marcelo... it cannot hurt for 2.4.
I might do that, unless Alan plans on pushing the -ac sched.c stuff to
Marcelo, in which case my patch would just confuse things. Alan?
 >     -	int processor;
 >     +#ifdef CONFIG_SMP
 >     +	int processor; /* keep old name to avoid upsetting all archs */
 >     +#endif
 > 
 > It is normally bad form to have conditionally entries in the
 > task_struct... otherwise, looks good.
I did that mainly to help catch unconverted references to ->processor.
It's easy enough to clean out.
/Mikael
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/