Date: Wed, 02 Jan 2008 16:27:03 +0000
From: David Howells <>
Subject: Re: [PATCH 10/28] FS-Cache: Recruit a couple of page flags for cache management [try #2]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/2/139

Nick Piggin <nickpiggin@yahoo.com.au> wrote:
> Then make a PG_private2 bit and use that.
To what end?  Are you suggesting I should have:
	PG_private2 = PG_private | PG_fscache
That's redundant information and doesn't help anything really.
My suggestion (PG_private and PG_fscache separate and independent) is pretty
efficient to actually render into machine instructions, especially if the two
bits are placed in the lower part of the word.  On x86, the test for both bits
can be done with a single TEST instruction, and on most RISC archs, a MOVE and
a single AND will usually suffice.
David