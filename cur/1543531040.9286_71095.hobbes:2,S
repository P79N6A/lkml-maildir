Date: Mon, 20 Mar 2000 23:15:02 -0800 (PST)
From: Andre Hedrick <>
Subject: Re: 2.3.99-3/3 IDE link problems (+msdos partitions)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/21/43

On Mon, 20 Mar 2000, Geert Uytterhoeven wrote:
> On Mon, 20 Mar 2000, Geert Uytterhoeven wrote:
> > ide-geometry.o (always compiled in the kernel) needs current_capacity() and
> > get_info_ptr(), which are defined in ide.c.
> > 
> > However, if CONFIG_BLK_DEV_IDE=m and CONFIG_IDE=y, ide.o is compiled as a
> > module causing a kernel link failure.
> 
> Retrying with CONFIG_BLK_DEV_IDE=m and CONFIG_IDE=m showed an even worse
> problem: fs/partitions/msdos.c needs ide_xlate_1024(), which is defined in
> ide-geometry.o, but the latter file is compiled as a module if CONFIG_IDE=m.
> 
> Time to drop IDE from the .config completely...
That is not the problem.....
What really needs to happen is to export "ide_xlate_1024()" back into
./drivers/block/ and have config dependencies decide.
Something closser to this will resolve the issue cleaner, IMHO.
Andre Hedrick
The Linux ATA/IDE guy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/