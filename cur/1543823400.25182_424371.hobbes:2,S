Date: Tue, 16 May 2006 11:33:27 -0400
From: "Kevin Radloff" <>
Subject: Re: PATCH: Fix broken PIO with libata
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/16/159

On 5/16/06, Alan Cox <alan@lxorguk.ukuu.org.uk> wrote:
> The revaldiation in 2.6.17-rc has broken support for PIO only devices.
> This is fairly unusual in the SATA world but showed up rather more
> promptly with the added PATA drivers.
Excellent; this seems to have solved my oops on CF card insertion problem. :)
However, I still have a problem with pata_pcmcia (that I actually
experienced also with the ide-cs driver) where sustained reading or
writing to the CF card spikes the CPU with nearly 100% system time.
Here's a few seconds of 'vmstat 5' with a 'cat /dev/sdb > /dev/null'
in the middle of it:
procs -----------memory---------- ---swap-- -----io---- --system-- ----cpu----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in    cs us sy id wa
 1  1      0 502608  13304 254740    0    0   164    42 1089   618  7  2 85  5
 1  1      0 495440  20472 254740    0    0  1434     7 1078  1079  1 95  0  4
 1  1      0 487264  28664 254740    0    0  1638     8 1073  1063  1 95  0  4
 1  1      0 479940  35832 254740    0    0  1434    50 1077  1087  1 95  0  4
 1  1      0 472320  43000 254740    0    0  1434    15 1078  1093 10 86  0  4
 1  1      0 465104  50168 254740    0    0  1434    56 1077  1053  6 90  0  4
 1  1      0 456944  58360 254740    0    0  1638     8 1072  1063  1 94  0  5
 1  1      0 449744  65528 254740    0    0  1434     3 1073  1069  1 94  0  5
 1  1      0 441600  73720 254740    0    0  1638     5 1072  1071  1 95  0  4
 1  1      0 434020  80888 254740    0    0  1434     0 1074  1087 11 85  0  4
 0  0      0 428896  86008 254740    0    0  1024     3 1184  1313  4 83 11  3
 0  0      0 428896  86008 254740    0    0     0     5 1105  1057  1  0 98  0
-- 
Kevin 'radsaq' Radloff
radsaq@gmail.com
http://thesaq.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/