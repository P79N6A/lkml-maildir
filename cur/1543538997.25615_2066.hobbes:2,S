Date: Fri, 14 Jul 2000 20:30:08 +0530
From: "Vinay Vernekar" <>
Subject: Querry on writing to the proc file system.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/14/198

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content="text/html; charset=iso-8859-1" http-equiv=Content-Type>
<META content="MSHTML 5.00.2614.3500" name=GENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=#ffffff>
<DIV><FONT face=Arial size=2>Hello,</FONT></DIV>
<DIV><FONT face=Arial size=2>I have developed a "modular" driver for a network 
device in which I have to show the stats through '/proc/stats' file in the proc 
file system. </FONT></DIV>
<DIV><FONT face=Arial size=2>In the init_module I did - </FONT></DIV>
<DIV><FONT face=Arial size=2>static proc_dir_entry *ent;</FONT></DIV>
<DIV><FONT face=Arial size=2>ent = create_proc_entry("adsl", 0, 0);</FONT></DIV>
<DIV><FONT face=Arial size=2>ent-&gt;read_proc = adsl_read;</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>adsl_read is - </FONT></DIV>
<DIV><FONT face=Arial size=2>int adsl_read(char *buf, char **start, off_t 
offset, int len, int unused)</FONT></DIV>
<DIV><FONT face=Arial size=2>{</FONT></DIV>
<DIV><FONT face=Arial size=2>&nbsp;I will do -</FONT></DIV>
<DIV><FONT face=Arial size=2>&nbsp;len = sprintf(buf, .....);</FONT></DIV>
<DIV><FONT face=Arial size=2>return len;</FONT></DIV>
<DIV><FONT face=Arial size=2>}</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>After I compile and load the module. I don't find 
any entry in /proc as it should be. Can anybody please suggest what is 
wrong..</FONT></DIV>
<DIV><FONT face=Arial size=2>Thanks in advance.</FONT></DIV>
<DIV><FONT face=Arial size=2>Regards</FONT></DIV>
<DIV><FONT face=Arial size=2>Vinay</FONT></DIV></BODY></HTML>