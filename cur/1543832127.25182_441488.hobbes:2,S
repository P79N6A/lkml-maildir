Date: Fri, 07 Jul 2006 12:08:58 +0200
From: Arjan van de Ven <>
Subject: Re: Enabling message queue in 2.6.10 kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/7/80

> 
> But the out put messages in # dmesg <enter> is like this
> 
> Start send message
> Send ret = -14
> Err: sys_msgsnd
> Start recv message
> Recv ret = -42
> Err: sys_msgrcv
> Stop Kernel Thread
> 
> Is there any thing I am missing. Please help soon.
you're missing that you're calling functions which expect a userspace
pointer, but with a kernel space pointer. You really shouldn't do that,
and in fact it doesn't work the way you did it. (you'd need to call
set_fs() and friends first, but if you're not really careful you open
security holes that way)
Can you explain why you'd want to do this from kernel space in the first
place? It's not unlikely that it's the wrong approach....
Greetings,
   Arjan van de Ven
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/