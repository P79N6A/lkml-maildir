Date: Tue, 6 Jan 2009 09:12:13 -0800
From: Greg KH <>
Subject: Re: [PATCH] configure HAVE_UNSTABLE_SCHED_CLOCK for SGI_SN systems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/6/243

On Tue, Jan 06, 2009 at 10:27:41AM -0600, Dimitri Sivanich wrote:
> Turn on CONFIG_HAVE_UNSTABLE_SCHED_CLOCK for SGI_SN.
> 
> SGI Altix has unsynchronized itc clocks.  This results in rq->clock
> occasionally being set to a time in the past by a remote cpu.
> 
> Note that it is possible that this problem may exist for other ia64
> machines as well, based on the following comment for sched_clock() in
> arch/ia64/kernel/head.S:
> 
>  * Return a CPU-local timestamp in nano-seconds.  This timestamp is
>  * NOT synchronized across CPUs its return value must never be
>  * compared against the values returned on another CPU.  The usage in
>  * kernel/sched.c ensures that.
> 
> 
> Signed-off-by: Dimitri Sivanich <sivanich@sgi.com>
> 
> ---
> 
> Greg, if everyone is OK with this patch, this should also be applied
> to all stable trees starting with 2.6.26.
That's fine (but 2.6.26 is no longer getting -stable releases).
Just let stable@kernel.org know when this patch is applied in Linus's
tree.  You can do this automatically by adding a:
	Cc: stable <stable@kernel.org>
to the signed-off-by: area of the patch, and the stable team will be
automatically notified when it goes into Linus's tree.
thanks,
greg k-h