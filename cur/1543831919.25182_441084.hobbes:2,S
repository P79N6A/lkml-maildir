Date: Thu, 6 Jul 2006 15:47:18 +0400
From: "Ananiev, Leonid I" <>
Subject: RE: [PATCH]  mm: moving dirty pages balancing to pdfludh entirely
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/6/90

> If this change has any effect at all, then maximal number of pdflush
> threads has been started.
I have not observed more than 2 pdflush after patching.
User thread is not stopped. The thread pdflush starts writing-out dirty
pages after low dirty level is reached. User thread continues its own
functions concurrently while high dirty limit is not reached.
Leonid
-----Original Message-----
From: Nikita Danilov [mailto:nikita@clusterfs.com] 
Sent: Thursday, July 06, 2006 12:14 AM
To: Ananiev, Leonid I
Cc: Linux Kernel Mailing List
Subject: Re: [PATCH] mm: moving dirty pages balancing to pdfludh
entirely
Ananiev, Leonid I writes:
 > I have added proposed by Nikita lines
 > 		if (pdflush_operation(background_writeout, 0))
 >                 writeback_inodes(&wbc);
 > and tested it with iozone. The throughput is 50-53 MB/sec. It is less
 > than 74-105 MB/sec results sent earlier.
If this change has any effect at all, then maximal number of pdflush
threads has been started. But there is only one device, so what are
these threads doing?
 > 
 > Leonid
Nikita.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/