Date: Wed, 27 Sep 2006 02:14:56 -0700
From: Bill Huey (hui) <>
Subject: Re: [PATCH] move put_task_struct() reaping into a thread [Re: 2.6.18-rt1]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/27/88

On Wed, Sep 27, 2006 at 10:57:12AM +0200, Ingo Molnar wrote:
> * Bill Huey <billh@gnuppy.monkey.org> wrote:
> 
> > Because the conversion of memory allocation routines like kmalloc and 
> > kfree aren't safely callable within a preempt_disable critical section 
> > since they were incompletely converted in the -rt. [...]
> 
> they were not 'incompletely converted' - they are /intentionally/ fully 
> preemptible.
What I meant by "incompletely converted" is that the allocators could be
made more safe in non-preemptible scenarios under -rt. It's potentially
a valuable thing to have since GFP_ATOMIC semantics already exist in the
current allocators and a newer category could be added as a new feature of
that allocator for those scenarios. I'm happy dequeuing things off of my
own free list, but that's just me.
-rt semanatics created a couple of new locking scenarios that the previous
kernel didn't really have to address. That's all that I meant by that. :)
bill
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/