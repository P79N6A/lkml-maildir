Date: 22 Jul 1999 22:17:45 +0200
From: Andi Kleen <>
Subject: Re: MTU change on the fly
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/22/103

junji@best.com (Junji Kanemaru) writes:
> Hi Linux-Net Gurus,
> 
> I have a question about MTU setting while connecting host.
> Actually I can change MTU size on the fly using ifconfig like
> ifconfig ppp0 mtu 4096
> but I'm not sure if it really changed peer MTU size. My understanding
> is MTU and MRU size are determined during LCP negotiation so
> once peer has been established both sides use the MTU and MRU.
> However, since I was able to change MTU using ifconfig I changed
> some values and better performance than default.
> My guess is MTU size change by ifconfig won't change the REAL MTU
> but it changes buffer size of transmit/receive for serial driver.
> I briefly looked into ifconfig and kernel code and concluded above
> but I could very misunderstanding of this. Could anyone explain
> this? RFC's only say MTU and MRU during LCP.
> Any comments would be appliciated.
On the PPP side (anything <=L2) nothing happens, it does not implement
the dev->change_mtu() method. It only changes the idea of the higher
networking layers about the device MTU, so it'll get smaller or bigger
packets feed. If you increase the MTU after negotiation you're probably 
violating the PPP spec.
The best way to set the MTU/MRU for normal PPP is to specify it to pppd.
-Andi
-- 
This is like TV. I don't like TV.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/