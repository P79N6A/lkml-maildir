Date: Wed, 23 May 2007 08:49:14 +0800
From: "Antonino A. Daplas" <>
Subject: Re: [PATCH 1/2] allow console unregistration
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/22/460

On Tue, 2007-05-22 at 14:43 -0700, Jesse Barnes wrote:
> On Thursday, May 17, 2007, Antonino A. Daplas wrote:
> > On Thu, 2007-05-17 at 15:32 -0700, Jesse Barnes wrote:
> > > Randy just informed me that the patch limits are bigger now, so here
> > > are the actual patches.
> > >
> > > This patch allows for proper console unregistration via the VT layer,
> > > and updates the FB layer to use it.  This makes debugging new console
> > > drivers much easier, since you can properly clean them up before
> > > unloading. Antonio already checked it out (and suggested a tweak for
> > > the fbcon side) so I think it's on its way already via the FB tree.
> >
> > Sorry, I was busy and got sidetracked so I wasn't able to work on this
> > for 2 weeks.  Yes, this should work for now, at least for debugging
> > purposes. I'll work on refining on fbcon side, hopefully for
> > 2.6.22-2.6.23 time frame.
> 
> Btw, here's an updated console unregister patchset with signoff in the
> off chance you like it right away. :)
> 
> When rmmod'd, some drivers might like to unregister the console they have
> registered (e.g. the fbcon driver), so export unbind_con_driver.  It
> properly cleans up console references and takes care of switching to
> one of the other registered drivers as needed.
> 
I'm working on something that will need these functions
(unbind/bind_con_driver) to be exposed, so I'm fine with this.
Tony
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/