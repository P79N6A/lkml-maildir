Date: Sun, 13 Feb 2000 15:07:16 -0500
From: "Michael H. Warfield" <>
Subject: 2.3.44 EACCES undefined in kmod.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/13/116

All...
	Just got the following error trying to build 2.3.44...
gcc -D__KERNEL__ -I/mnt2/src/linux-2.3.44/include -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer  -pipe -fno-strength-reduce  -DCPU=586  -DMODULE   -DEXPORT_SYMTAB -c ppp_generic.c
/mnt2/src/linux-2.3.44/include/linux/kmod.h: In function `exec_usermodehelper':
In file included from ppp_generic.c:30:
/mnt2/src/linux-2.3.44/include/linux/kmod.h:14: `EACCES' undeclared (first use this function)
/mnt2/src/linux-2.3.44/include/linux/kmod.h:14: (Each undeclared identifier is reported only once
/mnt2/src/linux-2.3.44/include/linux/kmod.h:14: for each function it appears in.)
make[2]: *** [ppp_generic.o] Error 1
make[2]: Leaving directory `/mnt2/src/linux-2.3.44/drivers/net'
make[1]: *** [_modsubdir_net] Error 2
make[1]: Leaving directory `/mnt2/src/linux-2.3.44/drivers'
make: *** [_mod_drivers] Error 2
	Yes - I had kmod disabled.  It looks like several sources include
kmod.h but don't include errno.h (where EACCES is defined) before then, if
at all.  If kmod is not enabled, those sources then go bang when compiled
as modules.
	If I just disable ppp, it goes bang in the sound modules.  I've
now enabled kmod and I'm rebuilding...
	Mike
-- 
 Michael H. Warfield    |  (770) 985-6132   |  mhw@WittsEnd.com
  (The Mad Wizard)      |  (770) 331-2437   |  
http://www.wittsend.com/mhw/
  NIC whois:  MHW9      |  An optimist believes we live in the best of all
 PGP Key: 0xDF1DD471    |  possible worlds.  A pessimist is sure of it!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/