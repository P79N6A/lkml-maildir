Date: Tue, 11 Mar 2003 13:45:15 +0300
From: Hans Reiser <>
Subject: Re: [RFC] Improved inode number allocation for HTree
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/11/31

Let's make noatime the default for VFS.
Daniel Phillips wrote:
>Hi Hans,
>
>On Tue 11 Mar 03 00:17, Hans Reiser wrote:
> 
>
>>What do you think of creating a new telldir/seekdir which uses filenames
>>instead of ints to convey position?
>> 
>>
>
>What do you do if that file gets deleted in the middle of a traversal?
>
So what?  It still tells you where to restart.  Strictly speaking, you 
would want to allow the filesystem to choose what it wants to return to 
indicate position.  For htree and reiserfs this would be a filename or 
its hash, for ext2 without htree this would be a byte offset.
>
>If I were able to design Unix over again, I'd state that if you don't lock a 
>directory before traversing it then it's your own fault if somebody changes 
>it under you, and I would have provided an interface to inform you about your 
>bad luck.  Strictly wishful thinking.  (There, it feels better now.)
>
We are designing Linux.  You know, Microsoft and Steve Jobs continue to 
design.  We should too.
Needless change should be avoided.  Failure to change when something is 
known to be broken leads to being inferior to those who do change.
Let's design something that does it right.  Or else SCO will be right in 
saying that Linux is just a Unix ripoff by people who couldn't do 
anything unless Unix had been written to tell them how to do it right.
-- 
Hans
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/