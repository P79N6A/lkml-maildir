Date: Fri, 19 Mar 2004 09:59:57 -0800
From: Greg KH <>
Subject: Re: Exporting physical topology information
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/19/133

On Fri, Mar 19, 2004 at 09:51:52AM -0800, Jesse Barnes wrote:
> On Thursday 18 March 2004 3:21 pm, Greg KH wrote:
> > > If we could physically locate a PCI bus, then it would be much easier
> > > to (for example) locate our defective SCSI disk that is target4 on the
> > > SCSI controller that is on pci bus 0000:20.
> > 
> > Um, what's wrong with the current /sys/class/pci_bus/*/cpuaffinity files
> > for determining this topology information?  That is why it was added.
> 
> Nothing, except that it only provides logical information.  In a large
> system, it's really useful to be able to physically locate a component
> somehow.  That was the idea behind adding 'physid'.  For example:
> 
> [jbarnes@spamtin pci0000:02]$ pwd
> /sys/devices/pci0000:02
> [jbarnes@spamtin pci0000:02]$ cat physid
> rack: 5
> module: 12
> slot: 3
Hm, that looks to violate the "one value per file" mandate of sysfs,
right?  Right now PCI Hotplug slots have a LED on them that you can
flash from userspace to help locate the physical slot that you want to
change.  I also know of large PCI drawers that have LEDs that flash to
locate them.
Also, this is _very_ hardware/platform specific.  If you want to try to
implement this, I'd be interested in what the patch would look like.
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/