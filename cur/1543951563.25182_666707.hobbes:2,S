Date: Wed, 12 Mar 2008 15:31:58 +0100
From: Bartlomiej Zolnierkiewicz <>
Subject: Re: [PATCH 2/4] ide-tape: remove pipeline-specific code from idetape_add_chrdev_write_request
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/12/172

On Wednesday 12 March 2008, Borislav Petkov wrote:
> > > The remaining pipeline stage allocation code is used for the next current
> > > pipeline stage (tape->merge_stage) and data buffer for an upcoming
> > > request. The so allocated pipeline stage is rewired into the tape struct
> > > thru idetape_switch_buffers() and used during the next request for
> > > copying user data into it (see e.g. idetape_chrdev_write()). In case the
> > > allocation fails, the current request is still attempted prior to failing.
> > 
> > Is this really needed now that we've removed pipeline operation for write
> > requests?
> 
> I did this simply to keep behavior changes at minimum - after removing the
> pipeline code completely this'll be simplified too.
BTW I see now how poorly I explained things the last time. :(
[ Sorry for that! ]
Our goal is not "pure" minimal behavior changes but minimal "behavior + code"
changes - IOW we are searching for the best balance for keeping both the old
behavior and code changes (and thus patch _complexity_) at the minimal level.