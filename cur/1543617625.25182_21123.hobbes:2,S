Date: Thu, 17 Jan 2002 15:13:56 +0100
From: Andrea Arcangeli <>
Subject: blkdev speedup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/17/20

On Wed, Jan 16, 2002 at 11:44:37PM +0100, Chris Chabot wrote:
> 
> > Test hardware:
> > 4 way Dell, 4 GB physical RAM, SCSI/RAID subsystem,
> > DB runs on FS.
> 
> Can we first make sure that the other factors dont plat a rol in this 
> benchmark? I have a couple (14+) Dell servers here, and i know for a 
> fact that most of their RAID systems are heavely borked in the 
> performance department.
> 
> All kernels upto 2.4.1x performed horibly, and all kernels after 2.4.16 
> or so perform horibly again! Somewhere inbetween some magic seemed to 
> happen in the block layer / elevator code / etc, that caused performance 
> to increase upto 100% on the Dell PERC adapters. (started @ the first 
> release of the AA VM). However after a few small releases, the 
if you're using the blkdev directly, then please try to mount the blkdev
with a 4k filesystem before making your benchmark, that should give you
the magic performance back. 2.4.10 intentionally were defaulting to 4k
I/O, this is probably what made the difference for you.
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/