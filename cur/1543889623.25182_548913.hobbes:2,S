Date: Thu, 24 May 2007 15:14:39 -0700
From: "H. Peter Anvin" <>
Subject: Re: [PATCH] Display Intel Dynamic Acceleration feature in /proc/cpuinfo
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/24/399

Andrew Morton wrote:
> 
> I'm not sure I can be bothered repairing all that at present.  I think I'll
> go and hide until it becomes somebody else's problem.
> 
I'll fix it.
> <looks at hpa's tree>
> 
> @@ -23,13 +23,14 @@ static int show_cpuinfo(struct seq_file 
>                 "fpu", "vme", "de", "pse", "tsc", "msr", "pae", "mce",
>                 "cx8", "apic", NULL, "sep", "mtrr", "pge", "mca", "cmov",
>                 "pat", "pse36", "pn", "clflush", NULL, "dts", "acpi", "mmx",
> -               "fxsr", "sse", "sse2", "ss", "ht", "tm", "ia64", "pbe",
> +               "fxsr", "sse", "sse2", "ss", "ht", "tm", "ia64", NULL,
> 
> <wonders where pbe went to>
pbe collides with abuse by at least two vendors (AMD and
Cyrix/Centaur/VIA) of this bit for 3DNow.  I don't know if that applies
only to the chips that don't support extended CPUID levels, but I'm
fairly sure that we don't handle that correctly in the vendor-specific
handlers.
I guess for now we can just unconditionally disable that bit in those
vendor routines, with a note saying that if there are such chips
supporting PBE then more sophisticated logic needs to be implemented.
	-hpa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/