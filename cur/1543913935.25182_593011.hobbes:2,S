Date: Tue, 11 Sep 2007 09:41:26 +0200
From: Nick Piggin <>
Subject: Re: [RFC 0/3] Recursive reclaim (on __PF_MEMALLOC)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/11/84

On Mon, Sep 10, 2007 at 12:29:32PM -0700, Christoph Lameter wrote:
> On Wed, 5 Sep 2007, Nick Piggin wrote:
> 
> > Implementation issues aside, the problem is there and I would like to
> > see it fixed regardless if some/most/or all users in practice don't
> > hit it.
> 
> I am all for fixing the problem but the solution can be much simpler and 
> more universal. F.e. the amount of tcp data in flight may be controlled 
> via some limit so that other subsystems can continue to function even if 
> we are overwhelmed by network traffic. Peter's approach establishes the 
> limit by failing PF_MEMALLOC allocations. If that occurs then other 
Can you to propose a solution that is much simpler and more universal?
> subsystems (like the disk, or even fork/exec or memory management 
> allocation) will no longer operate since their allocations no longer 
> succeed which will make the system even more fragile and may lead to 
> subsequent failures.
You're saying we shouldn't fix an out of memory deadlocks because
that might result in ENOMEM errors being returned, rather than the
system locking up?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/