Date: Thu, 2 Sep 1999 18:44:50 -0500
From: Matthew <>
Subject: Fwd: Re: smbfs won't stay mounted, still
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/2/182

A coworker of mine is having the same problem.  Like you, he has had it through
all of the 2.2.x kernels.  He only has this problem with one particular NT WS. 
 I'm not sure how long it maintains a connection, but it seems that every 20
mins or so I hear some nasty language coming from that end of the office.  
Oddly enough, I cannot connect to it at all with 2.2.12.  It tells me 'access
denied', while I can mount from any other NT box on the same network. We both
use 2.0.5x, and we both (try) to connect to the d$ administrative share.  Go
figure.
Matthew
On Thu, 02 Sep 1999, Matthew Vanecek wrote:
> Does anybody know why a smbfs mounted share won't stay mounted?  Trying
> to access the share, I get:
> 
> me2v:reliant src$ ls /mnt/winnt
> ls: /mnt/winnt: Input/output error
> 
> The log says:
> Sep  2 12:44:54 reliant kernel: smb_retry: signal failed, error=-3
> Sep  2 12:44:54 reliant kernel: smb_retry: signal failed, error=-3
> 
> and mount:
> me2v:reliant src$ mount -t smbfs
> //winnt/f$ on /mnt/winnt type smbfs (0)
> 
> My current kernel is 2.2.12, and samba is 2.0.5a.  I've had this problem
> since samba 2.0.3, and all the 2.2.x kernels.  The other end is NT WS
> 4.0 sp5. Since the log entry is generated by the kernel, I posted here,
> in addition to the fact I can never get a reply to any message I send to
> the samba and samba-technical mailing lists....
> 
> I have no idea if this is simply a password caching problem, or if the
> smb server isn't getting a strong enough keepalive request, or what.  Is
> anyone else currently having similar problems?
> 
> I know there are some scripts running around to make sure the SMB share
> is accessed on a regular basis, with a df > /dev/null or some such, but
> that workaround shouldn't really be necessary.
> -- 
> Matthew Vanecek
> Course of Study: 
http://www.unt.edu/bcis
> Visit my Website at 
http://people.unt.edu/~mev0003
> For answers type: perl -e 'print
> $i=pack(c5,(41*2),sqrt(7056),(unpack(c,H)-2),oct(115),10);'
> *****************************************************************
> For 93 million miles, there is nothing between the sun and my shadow
> except me. I'm always getting in the way of something...
> 
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.rutgers.edu
> Please read the FAQ at 
http://www.tux.org/lkml/
--
To segfault is human, to blue screen is moronic...
~~~~~~~~~~~~
Matthew 
matthew@mattshouse.com
http://www.mattshouse.com
--
To segfault is human, to blue screen is moronic...
~~~~~~~~~~~~
Matthew 
matthew@mattshouse.com
http://www.mattshouse.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/