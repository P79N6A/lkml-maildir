Date: Tue, 03 Feb 2004 21:49:00 +0100
From: Juergen Stuber <>
Subject: [PROBLEM] 2.6.2-rc1-bk1 Synaptics touchpad on IBM T30 not detected
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/3/132

Hi,
the touchpad works fine in 2.6.2-rc1 with the Synaptics XFree86 driver,
it isn't detected and doesn't show up in /proc/bus/input/devices
for 2.6.2-rc1-bk1 and later, psmouse is loaded in all cases.
The machine is an IBM Thinkpad T30 (2366-085G) with stick & touchpad,
both are set on automatic in the BIOS.
For 2.6.2-rc1 I see
Feb  3 19:55:48 freitag kernel: serio: i8042 AUX port at 0x60,0x64 irq 12
Feb  3 19:55:48 freitag kernel: serio: i8042 KBD port at 0x60,0x64 irq 1
Feb  3 19:55:48 freitag kernel: input: AT Translated Set 2 keyboard on isa0060/s
[...]
Feb  3 19:55:48 freitag kernel: Synaptics Touchpad, model: 1
Feb  3 19:55:48 freitag kernel:  Firmware: 5.9
Feb  3 19:55:48 freitag kernel:  Sensor: 44
Feb  3 19:55:48 freitag kernel:  new absolute packet format
Feb  3 19:55:48 freitag kernel:  Touchpad has extended capability bits
Feb  3 19:55:48 freitag kernel:  -> multifinger detection
Feb  3 19:55:48 freitag kernel:  -> palm detection
Feb  3 19:55:48 freitag kernel:  -> pass-through port
Feb  3 19:55:48 freitag kernel: input: SynPS/2 Synaptics TouchPad on isa0060/serio1
Feb  3 19:55:48 freitag kernel: serio: Synaptics pass-through port at isa0060/serio1/input0
For 2.6.2-rc1-bk1 I see
Feb  3 20:34:12 freitag kernel: i8042.c: Detected active multiplexing controller, rev 10.12.
Feb  3 20:34:12 freitag kernel: serio: i8042 AUX0 port at 0x60,0x64 irq 12
Feb  3 20:34:12 freitag kernel: serio: i8042 AUX1 port at 0x60,0x64 irq 12
Feb  3 20:34:12 freitag kernel: serio: i8042 AUX2 port at 0x60,0x64 irq 12
Feb  3 20:34:12 freitag kernel: serio: i8042 AUX3 port at 0x60,0x64 irq 12
Feb  3 20:34:12 freitag kernel: serio: i8042 KBD port at 0x60,0x64 irq 1
Feb  3 20:34:12 freitag kernel: input: AT Translated Set 2 keyboard on isa0060/serio0
and later, supposedly when psmouse is loaded, 4 times
Feb  3 20:34:12 freitag kernel: atkbd.c: Unknown key released (translated set 2, code 0x7a on isa0060/serio0).
Feb  3 20:34:12 freitag kernel: atkbd.c: This is an XFree86 bug. It shouldn't access hardware directly.
Unloading psmouse kills the keyboard and produces four ß (0xdf)
and 8 unknown-key-messages.
Then loading the module produces another four 0xdf
and 4 unknown-key-messages and the keyboard works normally again.
% cat /proc/bus/input/devices 
I: Bus=0011 Vendor=0001 Product=0001 Version=ab54
N: Name="AT Translated Set 2 keyboard"
P: Phys=isa0060/serio0/input0
H: Handlers=kbd event0 
B: EV=120003 
B: KEY=4 2000000 3802078 38405001 f2ffffdf ffefffff ffffffff fffffffe 
B: LED=7 
I: Bus=0003 Vendor=046d Product=c506 Version=1600
N: Name="Logitech USB Receiver"
P: Phys=usb-0000:00:1d.1-2.2/input0
H: Handlers=mouse0 event1 
B: EV=20007 
B: KEY=ffff0000 0 0 0 0 0 0 0 0 
B: REL=103 
B: LED=400 
% cat /proc/bus/input/handlers 
N: Number=0 Name=kbd
N: Number=1 Name=mousedev Minor=32
N: Number=2 Name=evdev Minor=64
Hope this helps
Jürgen
-- 
Jürgen Stuber <stuber@loria.fr>
http://www.loria.fr/~stuber/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/