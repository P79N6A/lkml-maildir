Date: Thu, 31 Jan 2008 12:32:26 +0100
From: Peter Zijlstra <>
Subject: Re: Hang in work_resched
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/31/133

On Thu, 2008-01-31 at 12:29 +0100, Guillaume Chazarain wrote:
> On Jan 31, 2008 9:55 AM, Peter Zijlstra <a.p.zijlstra@chello.nl> wrote:
> > Does this patch from thomas fix it as well?
> 
> Unfortunately, not.
> 
> For information, reverting just the first part of the offending commit
> (sl->timer.cb_mode) fixed the problem, while reverting only the second
> part (if (!hrtimer_active(&t->timer))) had no effect.
> 
> Also, I found a trivially reproductible testcase : sleep 0.
> 
> It hangs in nanosleep({0, 0}).
Thanks, I'll go look.