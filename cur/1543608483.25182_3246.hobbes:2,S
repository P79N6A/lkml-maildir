Date: Sun, 04 Nov 2001 12:04:35 -0500
From: Ed Tomlinson <>
Subject: Re: [RFC][PATCH] vm_swap_full
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/4/51

Rik van Riel wrote:
> On Sun, 4 Nov 2001, Ed Tomlinson wrote:
> 
>> -/* Swap 50% full? Release swapcache more aggressively.. */
>> -#define vm_swap_full() (nr_swap_pages*2 < total_swap_pages)
>> +/* Free swap less than inactive pages? Release swapcache more
>> aggressively.. */ +#define vm_swap_full() (nr_swap_pages <
>> nr_inactive_pages)
> 
>> Comments?
> 
> Makes absolutely no sense for systems which have more
> swap than RAM, eg. a 64MB system with 200MB of swap.
My thinking was allong these lines.  At a given instant in time the max we
have that might get swapped out is the inactive list.  So if we start 
aggressive swapping when we have less swap than the size of the inactive 
list we should be ok.  The premise being that leaving swap mapped can be
a win for pages swapped in but not changed.
Ed Tomlinson
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/