Date: Mon, 15 Mar 2004 18:14:06 -0800
From: Andrew Morton <>
Subject: Re: Patch - make config_max_raw_devices work
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/15/326

"Kenneth Chen" <kenneth.w.chen@intel.com> wrote:
>
> Even though there is a CONFIG_MAX_RAW_DEVS option, it doesn't actually
>  increase the number of raw devices beyond 256 because during the char
>  registration, it uses the standard register_chrdev() interface which
>  has hard coded 256 minor in it.  Here is a patch that fix this problem
>  by using register_chrdev_region() and cdev_(init/add/del) functions.
Badari wrote basically the same patch a couple of months back.  I dropped
it then, too ;)
raw is a deprecated interface and if we keep on adding new features to it,
we will never be rid of the thing.  If your application requires more than
256 raw devices, please convert it to open the block device directly,
passing in the O_DIRECT flag.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/