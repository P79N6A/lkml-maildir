Date: Sat, 16 Apr 2005 11:46:13 -0700 (PDT)
From: Paul Ionescu <>
Subject: hot-addacpi-hotplug-decouple-slot-power-state-changes-from-physical-hotplug.patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/16/51

--- Rajesh Shah <rajesh.shah@intel.com> wrote:
> > Is p2p hotplug in your roadmap (for i386) ?
>
> I believe others are already working on it. I expect to free up
> a bit more in a couple of weeks.  If I don't see any patches or
> indication of activity by then, I'll work on adding this support
> too.
> 
> Rajesh
Hi Rajesh,
While waiting for a p2p bridge hotplug support, I give a try to linux-2.6.12rc2-mm3 which include
your patch for powering on and off an ACPIPHP controlled PCI slot without actually remove the pci
card.
I gave it a try on my IBM thinkpad booted in docking station which has an ACPIPHP slot.
An echo 0 > /sys/bus/pci/slots/SOME_NUMBER/power is removing some devices ( verified with cat
/proc/pci ), but gives some kernel errors on console.
An echo 1 > /sys/bus/pci/slots/SOME_NUMBER/power is not activating the devices again ( again
tested with cat /proc/pci) but gives some kernel errors on console + some cpu registers and a
segfault.
In my dock I have a ide controller, 2 yenta pcmcia slots, and a PCI slot where I have a bttv
supported tv card.
All drivers needed were compiled in kernel, no modules needed.
Was this setup supposed to work ?
I can provide more info if needed.
Thanks,
Paul
__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/