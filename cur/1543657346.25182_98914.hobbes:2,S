Date: Mon, 30 Dec 2002 12:28:38 +0100
From:  uaca@alumni ...
Subject: How much we can trust packet timestamping
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/12/30/47

Hi all
IMHO The problem is quite complicated because
+ common hardware is not designed for real time:
	- sends multiple PDUs within one interrupt, and can be delayed
	- Host adapter bus & infraestructure is not designed to garantee latency
  	etc...
+ software is also not designed for realtime
	- drivers may timestamp in softirq's
	- irqs has no deterministic latency either
	etc...
So even if do_gettimeofday() has 1/CPUfreq resolution by using TSC register
packet timestamping meassurement is biased, how much?
anybody has studied this? are there reports/doc about this topic?
of course, this can be avoided by using specialiced hardware, but I'm not
interested on that and I would like to know how much I can trust this
timestamps
Any comment would be greatly appreciated
Thanks
	Ulisses
                Debian GNU/Linux: a dream come true
-----------------------------------------------------------------------------
"Computers are useless. They can only give answers."            Pablo Picasso
--->	Visita 
http://www.valux.org/
 para saber acerca de la	<---
--->	Asociaci√≥n Valenciana de Usuarios de Linux		<---
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/