Date: Sat, 18 Jun 2005 08:50:31 +1000
From: Lincoln Dale <>
Subject: Re: tg3 in 2.6.12-rc6 and Cisco PIX SMTP fixup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/17/176

Valdis.Kletnieks@vt.edu wrote:
>On Fri, 17 Jun 2005 07:33:05 MDT, Alejandro Bonilla said:
>
> 
>
>>	So what do we really have here? Problem with Cisco or a problem in the
>>driver? Both?
>> 
>>
>
>The Cisco PIX is gratuitously clearing the TCP window scaling bits.  So if you
>have tcp_adv_win_scale set to (for example) 6, you'll send a window advertisement
>of (say) 4096, represented as 64 and a "shift left 6 bits".  The PIX whacks the
>"6 bits" part, and the other end thinks the window is 64 bytes and wedges when
>a response is over 64 bytes long.
>
> 
>
there _was_ a bug in the Cisco PIX whereby it cleared TCP window-scaling 
bits.
this can be tracked through cisco bug-id CSCdy29514.
this was fixed back in August 2002 with the fix incorporated into PIX 
software releases 6.1.5 and 6.2.3 and later.
any 'recent' (i.e. last 2.5 years) releases don't have this problem. 
(or, at least, we don't think so..).
cheers,
lincoln.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/