Date: Sat, 07 Jan 2006 22:45:06 +0400
From: Brad Campbell <>
Subject: Re: Digital Audio Extraction with ATAPI drives far from perfect
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/7/148

Sebastian wrote:
> (please, don't forget to me and axboe@suse.de)
Did I? I'm sorry, I was *sure* I hit reply-to-all.
>> Yes, but now we need to find out why one interface fails while another 
>> works.. I have the same problem here using cdrdao when ripping entire disk 
>> images. I'd love to fix the real issue rather than work around it by having 
>> userspace use another interface.
>> I would have thought that both interfaces should return the same data..
>>
>> Brad
> 
> I think cdrdao can use SG_IO if you tell it to. Check their documentation. Or did I misunderstand what you're saying?
Slightly.. If I'm not mistaken, we have a piece of software (for arguments sake let's call it 
cdparanoia). The stock software uses the ATA or ATAPI interface and produces bodged reads, the 
modified version you have uses SG_IO and produces accurate reads.
What I'm wondering is why the difference, and is there a problem with the ATA/ATAPI interface that 
leads to this that needs looking into.
*or* is it a userspace problem with the way cdparanoia is using that interface
*or* is it an inherent problem/limitation with that particular interface
I can reproduce this with cdrdao by reading a cd 10 times with all combinations of paranoia mode 
attempted. I get 10 x ~550 meg data.bin files that all differ.
I'm thinking I need to work up a script that diffs them by audio sector size chunks to see if there 
is a pattern there somewhere, but you would think that somewhere 2 reads in 10 would be identical.
Brad
-- 
"Human beings, who are almost unique in having the ability
to learn from the experience of others, are also remarkable
for their apparent disinclination to do so." -- Douglas Adams
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/