Date: Tue, 26 Apr 2005 14:24:48 +0530
From: Vivek Goyal <>
Subject: Re: [Fastboot] Re: Kdump Testing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/26/77

> 
> 2.6.12-rc2-mm3 reboots vmlinux-recover-UP on panic.
> (vmlinux-recover-SMP hangs during [early] reboot, but -UP
> goes further....)
> 
> (BTW, how does I do serial console from the second
> kernel...?  It has the drivers, but not the command
> line info?  TBD.)
> 
While pre-loading the capture kernel using kexec, you can specify the command
line options to second kernel using --append="". You must already be passing
the root device. Add you serial console parameters as well something like
--append="console=ttyS0, 38400"
> vmlinux-recover-UP gets to this point, hand-written,
> several lines missing:
> 
> kfree_debugcheck: bad ptr c3dbffb0h.  ( == %esi)
> kernel BUG at <bad filename>:23128!
> invalid operand: 0000 [#1]
> DEBUG_PAGEALLOC
> EIP is at kfree_debugcheck+0x45/0x50
> 
> Stack dump shows lots of ext3 cache and inode functions...
> 
Can you post a full serial console output of second kernel? That would help.
Thanks
Vivek
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/