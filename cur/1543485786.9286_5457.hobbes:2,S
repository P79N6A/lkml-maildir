Date: Mon, 15 Feb 1999 09:10:01 -0500
From: Eric Werme USG <>
Subject: Re: A file lock patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/15/56

   1. Shouldn't OFFSET_MAX be 0x7fffffffffffffffUL if off_t is 8 bytes?
   2. The NFS testsuite expects EINVAL when length > 0 and start +
   length - 1 is beyond OFFSET_MAX.
Are you talking about the Connectathon test suite or something else?
I assume you're talking about NFS V2 and NLM V2 or V3, not V4.
The offset size in NLM V1-V3 is 32 bits, the size in NLM V4 is 64.
NLM V4 came with with NFS V3, though I believe you can use NLM V4
with NFS V2.  I don't think any existing NFS client does, though.
Hmm - NLM V4 uses the variable length file handles if NFS V3, so that
would be a problem.  People with 64 bit file systems really need NFS V3.
V2 with files larger than 2 GB can be ugly.
--
Eric (Ric) Werme         |  werme@zk3.dec.com
Compaq Computer Corp.    |  
http://www.cyberportal.net/werme
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/