Date: Fri, 14 Jul 2006 09:18:43 +1000
From: Nigel Cunningham <>
Subject: [PATCH] Rt-tester makes freezing processes fail.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/13/367

Hi.
Compiling in the rt-tester currently makes freezing processes fail.
I don't think there's anything wrong with it running during
suspending, so adding PF_NOFREEZE to the flags set seems to be the
right solution.
Signed-off-by: Nigel Cunningham <nigel@suspend2.net>
 rtmutex-tester.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
diff -ruNp 9971-rt-tester.patch-old/kernel/rtmutex-tester.c 9971-rt-tester.patch-new/kernel/rtmutex-tester.c
--- 9971-rt-tester.patch-old/kernel/rtmutex-tester.c	2006-07-07 10:27:46.000000000 +1000
+++ 9971-rt-tester.patch-new/kernel/rtmutex-tester.c	2006-07-14 07:48:01.000000000 +1000
@@ -259,7 +259,7 @@ static int test_func(void *data)
 	struct test_thread_data *td = data;
 	int ret;
 
-	current->flags |= PF_MUTEX_TESTER;
+	current->flags |= PF_MUTEX_TESTER | PF_NOFREEZE;
 	allow_signal(SIGHUP);
 
 	for(;;) {
[unhandled content-type:application/pgp-signature]