Date: Wed, 28 Jul 2004 13:34:47 +0200
From: Federico Gherardini <>
Subject: Hotplug oops with 2.6.7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/28/62

Hi all,
Sometimes, not always, I get this oops when I boot my computer, right before INIT starts. The machine completely hangs and the only solution is to turn off the power and reboot. Kernel is 2.6.7-ck5, call trace copied by hand
printing eip: c01ed578
*pde = 00000000
oops = 0000[#1]
PREEMPT SMP
eip is at devfs_d_revalidate_wait + 0xc8/0x223
Process default.hotplug (pid:205, threadinfo = df5a0000, task=df7406c0)
Call trace
<c013e9df> __alloc_pages + 0x2ac/0x34a
<c011a6ed> default_wake_function + 0x0/0x12
<c013b6f9> filemap_nopage + 0x21d/0x395
<c011a6ed> default_wake_function + 0x0/0x12
<c016722e> do_lookup + 0x68/0xa1
<c01677d5> link_path_walk + 0x570/0xa84
<c01677fc6> path_lookup + 0x9c/0x187 /*obviously made a typo here... don't know which is correct!*/
<c016866b> open_namei + 0x83/0x405
<c01582bf> filp_open + 0x3e/0x64
<c0158828> sys_open + 0x5b/0x8b
<c01050af> syscall_call + 0x7/0xb
This is on a Toshiba Satellite P10 with a 3 Ghz P4 with HT, here's my configuration, my .config is attached
Cheers,
fede
0000:00:00.0 Host bridge: Intel Corp. 82865G/PE/P DRAM Controller/Host-Hub Interface (rev 02)
0000:00:01.0 PCI bridge: Intel Corp. 82865G/PE/P PCI to AGP Controller (rev 02)
0000:00:1d.0 USB Controller: Intel Corp. 82801EB/ER (ICH5/ICH5R) USB UHCI #1 (rev 02)
0000:00:1d.1 USB Controller: Intel Corp. 82801EB/ER (ICH5/ICH5R) USB UHCI #2 (rev 02)
0000:00:1d.2 USB Controller: Intel Corp. 82801EB/ER (ICH5/ICH5R) USB UHCI #3 (rev 02)
0000:00:1d.3 USB Controller: Intel Corp. 82801EB/ER (ICH5/ICH5R) USB UHCI #4 (rev 02)
0000:00:1d.7 USB Controller: Intel Corp. 82801EB/ER (ICH5/ICH5R) USB2 EHCI Controller (rev 02)
0000:00:1e.0 PCI bridge: Intel Corp. 82801BA/CA/DB/EB/ER Hub interface to PCI Bridge (rev c2)
0000:00:1f.0 ISA bridge: Intel Corp. 82801EB/ER (ICH5/ICH5R) LPC Bridge (rev 02)
0000:00:1f.1 IDE interface: Intel Corp. 82801EB/ER (ICH5/ICH5R) Ultra ATA 100 Storage Controller (rev 02)
0000:00:1f.3 SMBus: Intel Corp. 82801EB/ER (ICH5/ICH5R) SMBus Controller (rev 02)
0000:00:1f.5 Multimedia audio controller: Intel Corp. 82801EB/ER (ICH5/ICH5R) AC'97 Audio Controller (rev 02)
0000:00:1f.6 Modem: Intel Corp. 82801EB/ER (ICH5/ICH5R) AC'97 Modem Controller (rev 02)
0000:01:00.0 VGA compatible controller: nVidia Corporation NV31M [GeForce FX Go 5600] (rev a1)
0000:02:00.0 FireWire (IEEE 1394): Texas Instruments TSB43AB21 IEEE-1394a-2000 Controller (PHY/Link)
0000:02:01.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL-8139/8139C/8139C+ (rev 10)
0000:02:04.0 CardBus bridge: Toshiba America Info Systems ToPIC95 PCI to Cardbus Bridge with ZV Support (rev 33)
0000:02:06.0 System peripheral: Toshiba America Info Systems SD TypA Controller (rev 05)
[unhandled content-type:application/octet-stream]