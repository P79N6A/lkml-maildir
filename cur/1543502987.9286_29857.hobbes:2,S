Date: Sat, 17 Jul 1999 01:23:07 +0200
From: Matthew Wilcox <>
Subject: Re: AGP & non-root mmap calls: "lending" priviledges to a client
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/16/135

On Fri, Jul 16, 1999 at 04:38:19PM -0600, Christopher Hassell wrote:
> A question that has been presented to us is that of direct mmap() access to 
> AGP bridge-viewed RAM.  For our AGP/GART device, the client non-root 
> processes that are coordinated by the X server are handed a "magic cookie" 
> that can be used to "bless" a device file descriptor (allowed inside the 
> kernel) ... and thus allow any mmap as needed directly from the AGP/GART 
> device.  In general, then, only smart and X-server coordinated processes are 
> then able to do this, enhancing stability, but decreasing unneeded
> centralization.
Will the SCM_RIGHTS ancillary message over unix domain sockets do what
you want?  See unix(7) for details (and if you don't have an entry for
unix in section 7 of your manual pages, try the latest manpages package,
available from ftp.win.tue.nl:/pub/linux-local/manpages or
ftp.xx.kernel.org /pub/linux/docs/manpages).
With this message, the X server can pass an array of file descriptors to a
client which can then call mmap on it.
-- 
Matthew Wilcox <willy@bofh.ai>
"Windows and MacOS are products, contrived by engineers in the service of
specific companies. Unix, by contrast, is not so much a product as it is a
painstakingly compiled oral history of the hacker subculture." - N Stephenson
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/