Date: 09 Oct 2002 13:17:19 -0500
From: Paul Larson <>
Subject: [PATCH] Possible null pointer in drivers/serial/core.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/9/227

In core.c:uart_startup() line 210 I found a possible null pointer
dereference at line 210:
 if (info->tty->termios->c_cflag & CBAUD)
There are other things around that same area that do the checking for
info->tty before dereferencing it, so either they are unneeded, or this
one needs a check too.
Thanks,
Paul Larson
--------------------
--- linux-2.5/drivers/serial/core.c	Wed Oct  9 13:45:11 2002
+++ linux-corefix/drivers/serial/core.c	Wed Oct  9 13:50:09 2002
@@ -207,7 +207,7 @@
 			 * Setup the RTS and DTR signals once the
 			 * port is open and ready to respond.
 			 */
-			if (info->tty->termios->c_cflag & CBAUD)
+			if (info->tty && (info->tty->termios->c_cflag & CBAUD))
 				uart_set_mctrl(port, TIOCM_RTS | TIOCM_DTR);
 		}
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/