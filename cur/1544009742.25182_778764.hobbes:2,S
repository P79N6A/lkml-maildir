Date: Tue, 9 Dec 2008 14:52:48 -0800
From: Jesse Barnes <>
Subject: Re: [PATCH 1/1] work_on_cpu: use in drivers/pci/pci-driver.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/9/320

On Monday, December 01, 2008 12:20 am Rusty Russell wrote:
> This uses work_on_cpu(), rather than altering the cpumask of the
> thread which we happen to be.
>
> Note the cleanups:
>
> 1) I've removed the CONFIG_NUMA test, since dev_to_node() returns -1
>    for !CONFIG_NUMA anyway and the compiler will eliminate it.
>
> 2) No need to reset mempolicy to default (a bad idea anyway) since
>    work_on_cpu is run from a workqueue.
>
> Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
> Cc: Jesse Barnes <jbarnes@virtuousgeek.org>
Nice, I applied this to my linux-next branch to get some build/test coverage.  
Please cc linux-pci in the future though.
-- 
Jesse Barnes, Intel Open Source Technology Center