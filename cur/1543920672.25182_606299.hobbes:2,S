Date: Wed, 17 Oct 2007 08:57:09 -0400
From: Frank Mandarino <>
Subject: Re: audio codec control
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/17/167

Pierre Savary wrote:
> Hello,
> 
> thank you for your help about my previous request concerning a problem in
> audio capture on CS42L51 codec. 
> 
> For your information, my problem came from a bad configuration of an ARM9
> register. As my register settings, the capture had to start with an event on
> RD pin, which is not connected with the codec on my board. Setting the START
> bits to 0 = "continuous" solved my problem.
> 
> Today, I need some more help to understand how your driver is used from an
> external application. Notably, how do you call the controls "Master Playback
> Volume", "Master Playback ZC Switch", "Capture Volume", etc, but also the
> "Input Select" and "Output Mixer", for example ?
> Shouldn't we modify the field at91_pcm_ops->ioctl (in
> /sound/soc/at91/at91-pcm.c), which is now set to the common function
> snd_pcm_lib_ioctl, in order to launch codec-related commands ?
> 
> Thank you in advance for your help.
> 
> 
> Sylvain
> 
> 
> -------------------------------------------------------------------
> List admin: 
http://lists.arm.linux.org.uk/mailman/listinfo/linux-arm-kernel
> FAQ:        
http://www.arm.linux.org.uk/mailinglists/faq.php
> Etiquette:  
http://www.arm.linux.org.uk/mailinglists/etiquette.php
> 
Pierre and/or Sylvain,
I'm not sure how you call the controls from an external application.  I
have only used the alsa-utils amixer command to set the controls, and
alsactl to save the settings in /etc/asound.state and then restore them
at boot.
So you could look at the amixer source to see how they are called.
The available controls are normally defined in the ASoC codec driver,
and you shouldn't need to modify the at91_pcm_ops->ioctl pointer to
access them.
../fam
-- 
Frank Mandarino                                fmandarino(a)endrelia.com
Endrelia Technologies Inc.
Toronto, Ontario, Canada
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/