Date: Mon, 13 Dec 2004 20:49:11 +0100
From: Rudmer van Dijk <>
Subject: Re: 2.6.10-rc3-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/13/165

On Monday 13 December 2004 20:33, Andrew Morton wrote:
> Rudmer van Dijk <rudmer@legolas.dynup.net> wrote:
> > > OTOH, while I had no problems with the previous mm's or with
> > > 2.6.10-rc3,
> > >
> >  > with -rc3-mm1 kdm has an weird function: with kdm/unstable uptodate
> >  > 4:3.3.1-3 from Debian it just restarts X when it's going to show the
> >  > login/password form, restarting over and over.
> >
> >  saw it too with gdm on Gentoo,
>
> It's probably the ioctl screwup.
>
>
> From: Mikael Pettersson <mikpe@csd.uu.se>
>
> The ioctl-cleanup.patch in 2.6.10-rc3-mm1 broke the file ioctls: FIONREAD
> etc.  These ioctls have inline code for S_ISREG() cases, but should be
> redirected to ->ioctl() for other cases.  ioctl-cleanup.patch removed that
> redirection.
>
> For me, both emacs and X refused to start from a console with ENOTTY
> errors; at least emacs got the ENOTTY from FIONREAD.
>
the patch fixed it, all is working now.
thanks,
 Rudmer
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/