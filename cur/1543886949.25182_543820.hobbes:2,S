Date: Sat, 12 May 2007 21:46:58 -0300
From: Mauro Carvalho Chehab <>
Subject: Re: default y idiocy
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/12/239

Hi Jan,
All the submenus bellow are dependent of VIDEO_DEV (Video4Linux core).
If someone wants V4L, it is very likely that he will select a radio or a
video adapter, since the subsystem is useless without the drivers (*).
(*) Except if you are using an out-of-tree driver.
> diff --git a/drivers/media/radio/Kconfig b/drivers/media/radio/Kconfig
> index a6ac82a..0486780 100644
> --- a/drivers/media/radio/Kconfig
> +++ b/drivers/media/radio/Kconfig
> @@ -5,7 +5,6 @@
>  menuconfig RADIO_ADAPTERS
>  	bool "Radio Adapters"
>  	depends on VIDEO_DEV
> -	default y
>  	---help---
>  	  Say Y here to enable selecting AM/FM radio adapters.
> 
> diff --git a/drivers/media/video/Kconfig b/drivers/media/video/Kconfig
> index 5cb3f54..ca33d55 100644
> --- a/drivers/media/video/Kconfig
> +++ b/drivers/media/video/Kconfig
> @@ -5,7 +5,6 @@
>  menuconfig VIDEO_CAPTURE_DRIVERS
>  	bool "Video capture adapters"
>  	depends on VIDEO_DEV
> -	default y
>  	---help---
>  	  Say Y here to enable selecting the video adapters for
>  	  webcams, analog TV, and hybrid analog/digital TV.
> @@ -689,7 +688,6 @@ config VIDEO_CAFE_CCIC
>  menuconfig V4L_USB_DRIVERS
>  	bool "V4L USB devices"
>  	depends on USB
> -	default y
It should be noticed that selecting the "Drivers" Kconfig items won't
produce any code. No drivers are marked with default.
Those items are just used to better organize Multimedia menu. The result
of having 'y' is just to have the submenus open by default. For me, it
makes sense to keep default y, especially if we consider the arguments
at:
http://lkml.org/lkml/2007/5/8/76
This is also the same case for DVB drivers submenu:
menuconfig DVB_CAPTURE_DRIVERS
        bool "DVB/ATSC adapters"
        depends on DVB_CORE
        default y
        ---help---
          Say Y to select Digital TV adapters
Just to keep the entire menu coherent, "default y" were added for DAB:
config DAB
        boolean "DAB adapters"
        default y
        ---help---
          Allow selecting support for for Digital Audio Broadcasting (DAB)
          Receiver adapters.
if DAB
config USB_DABUSB
        tristate "DABUSB driver"
        depends on USB
        ---help---
          A Digital Audio Broadcasting (DAB) Receiver for USB and Linux
          brought to you by the DAB-Team
          <
http://wwwbode.cs.tum.edu/Par/arch/dab/>.
  This driver can be taken
          as an example for URB-based bulk, control, and isochronous
          transactions. URB's are explained in
          <Documentation/usb/URB.txt>.
          To compile this driver as a module, choose M here: the
          module will be called dabusb.
endif # DAB
It is fine for me to remove "default y" for DAB, although i would prefer
to have it marked as 'y' just for coherence.
Cheers,
Mauro
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/