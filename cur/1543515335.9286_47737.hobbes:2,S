Date: Mon, 8 Nov 1999 11:31:12 -0500 (EST)
From: "Tony E. Bennett" <>
Subject: Re: locking user memory and kiobuf
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/8/71

>>>>> "Alan" == Alan Cox <alan@lxorguk.ukuu.org.uk> writes:
>> kiobuf sounds perfect for a problem we have.  Currently I use mmap() to map
>> pages from __get_free_pages() into user space for dma.  This is not totally
>> satisfactory, tho, in part because the resulting group of pages is not mapped
>> contiguously into kernel.
Alan> If you have a situation where that is hard to handle you can vmalloc a block
Alan> of memory then map that into user space. drivers/char/bttv.c does it. Its 
Alan> ugly and bttv needs to switch to kiovecs in 2.3.x if I get time.
Is vmalloc'd memory locked down and thus suitable for dma?  Somehow I thought
it was paged...
>> Since we're going to ship a driver to customers, we can't use kiobuf unless
>> it is standard part of the kernel.
Alan> Whose kernel 8)
Why, everybody's of course :-)
--tony
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/