Date: Thu, 3 Jan 2008 14:58:58 +0100
From: Haavard Skinnemoen <>
Subject: Re: [PATCH] w1-gpio: Add GPIO w1 bus master driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/3/131

On Thu, 3 Jan 2008 15:48:35 +0200
Ville Syrjälä <syrjala@sci.fi> wrote:
> On Wed, Dec 26, 2007 at 11:24:54PM +0100, Haavard Skinnemoen wrote:
> > On Fri, 21 Dec 2007 09:34:01 +0200
> > Ville Syrjala <syrjala@sci.fi> wrote:
> > 
> > > +static struct platform_device foo_w1_device = {
> > > +	.name			= "w1-gpio",
> > > +	.id			= -1,
> > 
> > Assigning -1 to a u32 member isn't a very nice example. What does it
> > mean anyway?
> 
> id is 'int'. The bus_name won't include the id when -1 is used.
Ah, indeed. I was looking at 2.6.23, where it is u32.
> > ...call platform_driver_probe(&w1_gpio_driver, w1_gpio_probe) here.
> 
> I was wondering what platform_driver_probe() was for but never bothered
> to read the code. I'll change the code to use it.
> 
> I already sent an updated patch but forgot to send this reply.
I saw it. Thanks :)
Haavard
--
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/