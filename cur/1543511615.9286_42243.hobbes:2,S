Date: Tue, 05 Oct 1999 11:46:57 -0700
From: Christopher McCrory <>
Subject: Re: MegaplexII and Adaptec DuraLAN not working together
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/5/100

Ward Fenton wrote:
> 
> I'm having a very hard time getting an AMI MegaPlex II system (quad
> xeon, 7 total pci slots, 4 64bit) working with the Adaptec DuraLAN
> Quartet64 card. This ethernet card is included in the experimental
> drivers list for 2.3.18 (starfire).
	I had to go to 2.3.18ac5 for the Adaptec (starfire) to work.  There
were some compliler errors for me.  I have also had sucess with 2.2.12
and the older driver from Donald Becker's site.
> 
> With both 2.3.18ac10 and 2.2.12 kernels I am unable to use the card.
> The same card works for me on an intel C440gx+ motherboard with an
> earlier 2.2.12 kernel.
	I haven't tried later ac versions, but 2.3.18ac5 did work for me.  (All
my mobos are gigibyte).  Have you tried the noapic boot option? My tests
were on a single processor machine.
> 
> This quad xeon box seems to work properly with a standard tulip card.
> The other hardware in the machine is a symbios chipset ultra wide scsi
> card and a Mylex extremeraid 1100 card (removed for these tests ...
> though this card may prevent me from using a 2.3.x kernel).
> 
> The kernel on the working c440gx board assigns unique IRQs to each port
> of the quad ethernet card. The kernels on the megaplex have always been
> assigning the same IRQ to each port.
	While I was doing my tests I set the bios to IRQ 11 available only.  I
came up with an adaptec SCSI (1 IRQ) and the Quartet(4 IRQs) all on IRQ
11.  SCSI and 3 of the 4 ethernet ports worked.  The forth ethernet port
might not have worked due to a mis-configuration on my part :(.  I added
a single 3com905 and opened up IRQ 12 also.  I ran for several days
(lightly loaded) with IIRC, SCSI and 2 Quartet ports on IRQ11 and 2
Quartet and the 3com on IRQ 12.  Ran without a problem.  So the IQR
thing for you might not make much of a difference.
> 
> My goal is to run beowulf style channel bonding using 2-4 ports. This
> is working nicely for me with the c440gx box mentioned above.
	My goal is to put 4 or more Quartets in a single box as an ethernet
router/filter/ip_accounting box.  Much cheaper than a big Cisco
Catalyst. 
> 
> One kernel message of interest that occurs with networking attempts is
> this...
>    kernel: eth0: Interrupt blocked, status 00009001/00009001.
	I occasionally get a "eth4: Something Wicked happened! 2049001.", but
no hangups.
> 
> ==== /proc/interrupts ===============================================
> 
<snip>
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.rutgers.edu
> Please read the FAQ at 
http://www.tux.org/lkml/
-- 
Christopher McCrory
Lead Bithead, Netus Inc.
chrismcc@netus.com
admin@netus.com
"Linux: Because rebooting is for adding new hardware"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/