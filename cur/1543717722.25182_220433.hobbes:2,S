Date: Thu, 13 May 2004 18:21:53 -0700
From: Andrew Morton <>
Subject: Re: [4KSTACK][2.6.6] Stack overflow in radeonfb
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/13/275

Benjamin Herrenschmidt <benh@kernel.crashing.org> wrote:
>
>  > 
>  > int radeonfb_set_par(struct fb_info *info)
>  > {
>  >         struct radeonfb_info *rinfo = info->par;
>  >         struct fb_var_screeninfo *mode = &info->var;
>  >         struct radeon_regs newmode;
>  > 
>  > struct radeon_regs is huge: 2356 bytes
>  > Quick fix (I'll test ASAP):
> 
>  Wow, this is evil indeed,
There should be some sort of prize ;)
There's a script out there somewhere which can autodetect this: build with
frame pointers, parse the function preamble.  Does anyone have a copy
handly?
There's a `make buildcheck' target in -mm (from Arjan) into which we could
integrate such a tool.  Although probably it should be a different make
target.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/