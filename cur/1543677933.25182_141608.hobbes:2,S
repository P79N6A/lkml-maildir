Date: Wed, 18 Jun 2003 20:36:53 -0400
From: Adam Kropelin <>
Subject: Re: kernel 2.4.21 crash
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/18/272

On Wed, Jun 18, 2003 at 11:40:20PM +0100, Dave Bentham wrote:
> However, I think I need some advice on setting up the serial console. I
> have attached another PC (WinXP with HyperTerminal) serially to my panic
> Linux PC. Following the Remote Terminal HOWTO I have achieved some
> success... but all I see on HyperTerminal is:
> 
>    LILO 22.3.2 boot:
>    Loading Linux_2.4.21................
>    BIOS data check successful
That output is from LILO...
>    Mandrake Linux release 9.0 (dolphin) for i586
>    Kernel 2.4.21 on an i686 / ttyS0
>    telekon.davesnet login:
...and that bit is from the getty launched in /etc/inittab.
> a few progress-dots: I'm missing the main kernel blurb (its all on the
> attached monitor), and also the panic stuff appears only on the attached
> monitor.
Yeah, the kernel's serial console isn't kicking in.
> Excerpt of butchered lilo.conf
<snip>
> image = /boot/vmlinuz-2.4.21
> 	root = /dev/hda3
> 	label = Linux_2.4.21
> 	read-only
> #	vga=788
> 	append = "devfs=mount hdd=ide-scsi console=tty0 console=ttyS0,9600n8"
That looks basically right. The kernel you're running may not be
compiled with serial console support. Also, you might want to swap the
order of the two console= options so that /dev/console refers to your
real virtual console, but that shouldn't keep the serial console from
working. You might try dropping the 'n8'...I don't use it here although
it is documented. I vaguely recall having problems that went away when 
I stopped (redundantly) specifying the character format --but that could
be hogwash. My bet is the kernel not being built with serial console
support.
--Adam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/