Date: Sat, 3 Jan 2004 19:05:31 +0300
From: Andrey Borzenkov <>
Subject: Re: removable media revalidation - udev vs. devfs or static /dev
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/3/68

On Saturday 03 January 2004 15:42, Olaf Hering wrote:
>  On Sat, Jan 03, Andries Brouwer wrote:
> > On Sat, Jan 03, 2004 at 11:51:33AM +0300, Andrey Borzenkov wrote:
> > > yes. So what - how does it help? User needs /dev/sda4. User has
> > > /dev/sda only. Any attempt to refer to /dev/sda4 simply returns "No
> > > such file or directory"
> >
> > Things are far from perfect here, but "blockdev --rereadpt /dev/sda"
> > helps.
>
sure. But that requires manual user intervention. And it has been working 
without any manual user intervention before. That is why I called it 
regression.
I just try to draw attention to simple (but very nasty for users) problem in 
udev. This quotation removed too much from my original post to reduce the 
problem to simple "how to reread partition table".
> Is there really no way to get a media change notification from ZIP or
> JAZ drives?
If anyone knows please tell me - I will put it into supermount ...
AFAIK in case of SCSI this is impossible simply by virtue of protocol - SCSI 
device is not initiator. So you need something to poll device for status. 
That is usually done on device open except in this case you can't open 
because you do not yet have handle.
thank you
-andrey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/