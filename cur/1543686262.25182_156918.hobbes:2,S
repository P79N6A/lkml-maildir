Date: Tue, 12 Aug 2003 14:48:55 -0400
From: Jeff Garzik <>
Subject: Re: Updated MSI Patches
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/12/202

Nakajima, Jun wrote:
> The issue with do_MSI() approach is that it's very similar to do_IRQ(),
> and we may have maintenance issues there. However, if we make a common
I agree
> do_MSI() code, that might be worth it, and I would expect much fewer
> architecture-dependent issues there, compared to do_IRQ (the common
> do_IRQ() hasn't happened yet as far as I know).
However, we have maintenance issues in this area as well :)
If you look at each architecture's implementation of do_IRQ, you can see 
each implementation is strikingly similar... except for some subtle 
differences.  So there are arguments both ways:  creating a common 
do_IRQ may add maintenance value...  but also create corner-case 
problems for the arch maintainers.
So, IMO, do_IRQ is one special case where copying code may be preferred 
over common code.
And I also feel the same way about do_MSI().  However, I have not looked 
at non-ia32 MSI implementations to know what sort of issues exist.
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/