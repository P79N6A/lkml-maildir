Date: Thu, 17 Jun 1999 21:04:52 +0200 (CEST)
From: Rik van Riel <>
Subject: Re: oom() _still_ killing init
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/17/124

On Wed, 16 Jun 1999, Andrea Arcangeli wrote:
> On Wed, 16 Jun 1999, Oliver Xymoron wrote:
> 
> >I upgraded from 2.2.5 to 2.2.10-pre-no-way-of-telling-anymore and an out
> >of memory condition[1] killed init again. It would be nice if this weren't
> 
>  void oom(struct task_struct * task)
>  {
> +	if (task->pid == 1)
> +		goto out;
>  	printk("\nOut of memory for %s.\n", task->comm);
>  	force_sig(SIGKILL, task);
> + out:
>  }
You're not serious about this, are you?
> (it's against 2.2.10_andrea-VM5)
If such a horrible kludge is needed with your VM patches,
then something must be seriously wrong with them. Besides,
even if a system really runs out of memory, you don't want
the OS to handle it in such a random way that even init is
in danger...
Rik -- Open Source: you deserve to be in control of your data.
+-------------------------------------------------------------------+
| Le Reseau netwerksystemen BV:               
http://www.reseau.nl/
 |
| Linux Memory Management site:   
http://www.linux.eu.org/Linux-MM/
 |
| Nederlandse Linux documentatie:          
http://www.nl.linux.org/
 |
+-------------------------------------------------------------------+
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/