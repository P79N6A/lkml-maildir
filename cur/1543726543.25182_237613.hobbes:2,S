Date: Fri, 30 Jul 2004 11:59:21 -0700 (PDT)
From: Jon Smirl <>
Subject: Re: Exposing ROM's though sysfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/30/134

--- Matthew Wilcox <willy@debian.org> wrote:
> My problem is with this is the following passage from PCI 2.2 and PCI
> 2.3:
> 
>   In order to minimize the number of address decoders needed, a
> device may share a decoder between the Expansion ROM Base Address 
> register and other Base Address registers.  When expansion ROM decode
> is enabled, the decoder is used for accesses to the expansion ROM 
> and device independent software must not access the device through
> any other Base Address registers.
Alan Cox knows more about this, but I believe there is only one PCI
card in existence that does this.
For the one or two cards that do this, the device drivers could flag
this to the PCI subsystem. In the flagged case the sysfs read code
could  shut off interrupts, enable the ROM, copy it, and then reenable
interrupts. 
=====
Jon Smirl
jonsmirl@yahoo.com
		
__________________________________
Do you Yahoo!?
Yahoo! Mail - 50x more storage than other providers!
http://promotions.yahoo.com/new_mail
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/