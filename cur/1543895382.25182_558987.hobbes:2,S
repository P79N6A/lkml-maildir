Date: Mon, 18 Jun 2007 02:35:20 -0700 (PDT)
From: David Miller <>
Subject: Re: [PATCH] fix race in AF_UNIX
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/18/85

From: Miklos Szeredi <miklos@szeredi.hu>
Date: Mon, 18 Jun 2007 11:29:52 +0200
> > > And is anyone working on a better patch?
> > 
> > I have no idea.
> > 
> > > Those patches aren't "bad" in the correctness sense.  So IMO any one
> > > of them is better, than having that bug in there.
> > 
> > You're adding a very serious performance regression, which is
> > about as bad as the bug itself.
> 
> No, correctness always trumps performance.
To a point.  There is no black and white in this world.
> Lost packets on an AF_UNIX socket are _unexceptable_, and this is
> definitely not a theoretical problem.
A lot of people will consider having all of their AF_UNIX sockets on
their 64 cpu system just stop when garbage collection runs to be
unacceptable as well.
Secondarily, this bug has been around for years and nobody noticed.
The world will not explode if this bug takes a few more days or
even a week to work out.  Let's do it right instead of ramming
arbitrary turds into the kernel.
> Do you want me to send the patch to Andrew instead?  His attitude
> towards bugfixes is rather better ;)
When I explain the ramifications of your patch to him, I'm pretty
sure he'll agree with me.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/