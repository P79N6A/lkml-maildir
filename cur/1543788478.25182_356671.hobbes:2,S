Date: Fri, 7 Oct 2005 12:04:46 +0200
From: Heiko Carstens <>
Subject: Re: [PATCH] gfp flags annotations - part 1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/7/47

> > --- RC14-rc3-git4-linus-delta/drivers/s390/scsi/zfcp_aux.c
> > +++ current/drivers/s390/scsi/zfcp_aux.c
> 
> >  static void *
> > -zfcp_mempool_alloc(unsigned int __nocast gfp_mask, void *size)
> > +zfcp_mempool_alloc(gfp_t gfp_mask, void *size)
> >  {
> >  	return kmalloc((size_t) size, gfp_mask);
> >  }
> 
> Lovely. Yes, they cast sizeof() to void * in all calls.
zfcp_mempool_alloc needs to fit the prototype of mempool_alloc_t.
If you have a better idea to implement a mempool, please let us
know. The calls you mention are actually calls to mempool_create
and not to zfcp_mempool_alloc, or are you talking about
something different?
Heiko
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/