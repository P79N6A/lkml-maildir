Date: Sat, 29 Nov 2008 19:26:10 +0900
From: Hitoshi Mitake <>
Subject: Re: [PATCH 1/1] edac x38: new MC driver module
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/11/29/37

On Sat, 29 Nov 2008 10:38:58 +0100
Ingo Molnar <mingo@elte.hu> wrote:
> 
> * Hitoshi Mitake <h.mitake@gmail.com> wrote:
> 
> > +#define readq readq
> > +#define writeq writeq
> 
> hm, that's done to override the generic definition? Looks weird and i 
> think that's rather fragile - it's easy to somehow get the generic header 
> without this override.
No, the purpose of this #define is to let user of this function to know there's readq/writeq.
Like this,
#ifdef readq
/* do something */
#endif
But this is old way. ARCH_HAS_READQ and ARCH_HAS_WRITEQ are new ways
to determine existence of readq/writeq. Drivers which use readq/writeq should
depend on these values in their Kconfig file.
This definitions may be redundant. But there are some architectures
which already have this definition for same purpose. So I added.
Should I remove these?