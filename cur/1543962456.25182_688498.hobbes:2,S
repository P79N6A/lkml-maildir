Date: Fri, 02 May 2008 18:44:49 +0200
From: Takashi Iwai <>
Subject: Re: 2.6.25-mm1 (snd-pcsp doesn't like DEBUG_PAGEALLOC)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/2/308

t Fri, 25 Apr 2008 18:51:04 +0200,
I wrote:
> 
> At Fri, 25 Apr 2008 20:45:51 +0400,
> Stas Sergeev wrote:
> > 
> > > But anyway, as mentioned in my previous post, snd-pcsp wouldn't be
> > > enabled on most of distros' kernels because it cannot be built
> > > together with input-pcspkr driver, unfortunately...
> > Yes, making them to play well together is
> > something to think about too. But I don't
> > see how it can affect the distributors.
> > If the distro doesn't have the sound enabled,
> > then it won't enable snd-pcsp no matter
> > what. If it does have the sound enabled,
> > then why would it ever want to use pcspkr
> > instead of snd-pcsp?
> 
> The sound subsystem is enabled (loaded) only when necessary.
> As long as there are many systems without the sound subsystem
> (i.e. servers), snd-pcsp wouldn't be built (thus not provided even as
> a module) for their kernels because it prevents input-pcspkr.
... and I completely missed the viewpoint of device allocation.
Yeah, that'll be a bit hackish.
Takashi