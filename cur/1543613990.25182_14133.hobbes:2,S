Date: Thu, 20 Dec 2001 10:26:03 -0500 (EST)
From: David Mansfield <>
Subject: Re: SiS 630 - framebuffer fixed
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/20/138

On Wed, 19 Dec 2001, Thomas Winischhofer wrote:
> 
> Hi,
> 
> after five days of struggle with reverse-engineered assembler code
> transformed to C, I could fix the SiS framebuffer driver for use with
> some LCD displays using a LVDS (Chromtel) video bridge. That is what
> most laptops use, as for example the Gericoms (and some Claveos I have
> heard).
> 
...
>  c) Always set the video memory to the maximum available. Low mem
> situations are not handled well by DRM/DRI.
I've actually been following your progress via the Xpert list archives.  
Good stuff.  I have an SiS 630 card not in a laptop, and I'll try your 
code out later.  But my question regards DRM and something mentioned on 
that list, TurboQueue...
When I use the DRM code with XFree 4.1 it usually freezes after about 30 
seconds or so (in the teapot demo - sooner with tuxracer) and I think I've 
tracked it down to the 'mWait3DCmdQueue' macro, which basically busy waits 
for a certain register value.  It just so happens that the TurboQueue code 
also happens to busy wait on this register, and it was causing hangs for 
you with just 2d code (right?).
Do you know anything about why these hangs were happening?
I'll try your code tonight (although sisfb has always worked for me!) and 
hopefully the CVS X code with DRM.  I'll let you know if it still works, 
and send you my X startup log.
David
-- 
/==============================\
| David Mansfield              |
| david@cobite.com             |
\==============================/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/