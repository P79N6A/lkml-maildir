Date: Mon, 7 Jan 2002 10:51:05 +0700
From: MrChuoi <>
Subject: Re: 2.5.1-dj13
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/6/109

Some patches
--- drivers/sound/via82cxxx_audio.c.orig	Mon Jan  7 10:02:57 2002
+++ drivers/sound/via82cxxx_audio.c	Mon Jan  7 10:03:20 2002
@@ -1358,7 +1358,7 @@
 
 static int via_mixer_open (struct inode *inode, struct file *file)
 {
-	int minor = MINOR(inode->i_rdev);
+	int minor = minor(inode->i_rdev);
 	struct via_info *card;
 	struct pci_dev *pdev;
 	struct pci_driver *drvr;
@@ -2974,7 +2974,7 @@
 
 static int via_dsp_open (struct inode *inode, struct file *file)
 {
-	int minor = MINOR(inode->i_rdev);
+	int minor = minor(inode->i_rdev);
 	struct via_info *card;
 	struct pci_dev *pdev;
 	struct via_channel *chan;
--- init/do_mounts.c.orig	Mon Jan  7 09:52:14 2002
+++ init/do_mounts.c	Mon Jan  7 09:53:24 2002
@@ -753,7 +753,7 @@
 	int error;
 	int i, pid;
 
-	create_dev("/dev/root.old", to_kdevt(ram0), NULL);
+	create_dev("/dev/root.old", ram0, NULL);
 	mount_block_root("/dev/root.old", root_mountflags & ~MS_RDONLY);
 	sys_mkdir("/old", 0700);
 	sys_chdir("/old");