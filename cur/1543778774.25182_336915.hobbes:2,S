Date: Thu, 28 Jul 2005 15:16:53 +0100
From: Christoph Hellwig <>
Subject: Re: [PATCH] compat_sys_read/write
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/28/135

On Thu, Jul 28, 2005 at 11:43:41PM +1000, Stephen Rothwell wrote:
> Hi all,
> 
> Someone mentioned the mess in evdev.c that is caused by the fact that the
> structures that are passed to/from user mode via read/write require
> conversion when this API is used from 32 bit tasks on 64 bit kernels. 
> Some "discussion" followed during which I suggested an idea originally
> from Matthew Wilcox of an arch-specific is_compat_task() function so that
> these places could be identified.  However it was considered better to
> instead implement compat_sys_read/write.
This looks totally horrible, especially as we'd need readv/writev and
pread/pwrite aswell.  I don't think anyone but Andi actually liked this
approach when discussed earlier.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/