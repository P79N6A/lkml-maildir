Date: Fri, 2 Dec 2005 14:07:47 -0800
From: Keith Mannthey <>
Subject: Re: Only one processor detected in 8-Way opteron in 32-bit mode
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/2/149

Welcome to hardware bring up.  Ok I looked a little closer at the
story.  In x86_64 the only check for valid apic is apicid < MAX_APICS
which make sense to me.
I386 has this concept of version.  Where the valid check is diffrent
  if (version >= 0x14)
                return apicid < 0xff;
        else
                return apicid < 0xf;
Now the patch is sent before was a litle in haste.  Your apic version
is 16. The valid check returns false because apicid is greater that
0xf (0x15).  Most likey the bios entry for the apic version is wrong
but I don't know much about that or why it matters.
So what does this all mean.  Legacy.....
Give this patch a whirl.
Thanks,
 Keith
[unhandled content-type:application/octet-stream]