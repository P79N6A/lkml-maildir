Date: Wed, 06 Feb 2008 15:54:06 +0100
From: Tomasz Chmielewski <>
Subject: What is the limit size of tmpfs /dev/shm ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/6/133

> Hello Kernel Users,
> 
> is there a size limit for tmpfs for the /dev/shm filesystem?
> Normally its default size is set to 2 GB. Is it possible to create a 2 
> TB (Terrabyte) filesystem with tmpfs?
> Or is there a maximum size defined in the linux kernel?
Depends on your arch.
If it's 32 bit, it's limited to 16TB:
# mount -o size=16383G -t tmpfs tmpfs /mnt/2
# df -h
(...)
tmpfs                  16T     0   16T   0% /mnt/2
# umount /mnt/2
# mount -o size=16385G -t tmpfs tmpfs /mnt/2
# df -h
(...)
tmpfs                 1.0G     0  1.0G   0% /mnt/2
So 16384G would mean the same as 0.
If you're 64 bit, you need to have really loads of storage and/or RAM to 
accumulate 16EB:
# mount -t tmpfs -o size=171798691839G tmpfs /mnt/2
# df -h
(...)
tmpfs                  16E     0   16E   0% /mnt/2
-- 
Tomasz Chmielewski
http://lists.wpkg.org