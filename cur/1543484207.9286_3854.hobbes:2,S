Date: Thu, 4 Feb 1999 00:48:41 +0000 (GMT)
From: (Alan Cox)
Subject: Re: Kernel interface changes (was Re: cdrecord problems on recent Linux versions)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/3/232

> >       /usr/include/scsi/sg.h
> > and
> >       /usr/src/linux/include/scsi/sg.h
> > 
> > The result is that cderecord reports "Not enough memory" cannot send
> > SCSI command.....
> 
> I take it this means that someone, in their infinite wisdom (Jens:
> apologies if this was you), decided to gratuitously change yet another
> kernel interface (and not mention it to the community beyond burying
I doubt it. Check the files and let me know but I would guess #1 that
glibc exports scsi/sg.h which should be compatible and maybe has a bug. I've
not hit any sg problems other than the generic one buffer and no scatter
gather stuff
> for no good reason.  You might have *thought* that just bumping up the
> size of the argument struct to a single ioctl from 2.0.34->2.0.35 was
That would count as a bug. I can't find the report in my 2.0.34pre archive
> and its lookup tables for example).  A binary built against 5.3
> segfaults when run with 5.4 and vice versa.  So, everything is
> statically linked.  Thank you Foresight.
There are reasons people like Red Hat didnt go to 5.4 8)
> I'm going to go look at the sg.h problem now.  I'm praying someone is
> confused and it's still all the same, or at least extended in such a
> way I can build backward compatable binaries.  Mind the above flame.
The kernel SG api hasnt afaik changed. All my old binaries run, the glibc
binaries I have run fine too (SANE for example).
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/