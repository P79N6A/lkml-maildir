Date: Mon, 2 Apr 2007 08:44:27 -0700 (PDT)
From: Christoph Lameter <>
Subject: Re: [PATCH 1/4] x86_64: Switch to SPARSE_VIRTUAL
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/2/224

On Sun, 1 Apr 2007, Andi Kleen wrote:
> And when you reserve virtual space somewhere you should 
> update Documentation/x86_64/mm.txt. Also you didn't adjust 
> the end of the vmalloc area so in theory vmalloc could run
> into your vmemmap.
Ok. will add to the doc in the next release.
No need to adjust the end of the vmalloc area because
the vmemmap starts at the end of it:
include/asm-x86_64/pgtable.h:
#define VMALLOC_START    0xffffc20000000000UL
#define VMALLOC_END      0xffffe1ffffffffffUL
Index: linux-2.6.21-rc5-mm2/include/asm-x86_64/page.h
#define vmemmap ((struct page *)0xffffe20000000000UL)
According to Documentation/x86_64/mm.txt this is an unused hole:
ffffc20000000000 - ffffe1ffffffffff (=45 bits) vmalloc/ioremap space
... unused hole ...
ffffffff80000000 - ffffffff82800000 (=40 MB)   kernel text mapping, from phys 0
... unused hole ...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/