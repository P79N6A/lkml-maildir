Date: Tue, 29 Aug 2000 18:08:04 +0200
From: Roman Zippel <>
Subject: hfs support for blocksize != 512
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/29/65

Hi,
Here is a patch for anyone who needs to access HFS on e.g. an MO drive.
It's only for 2.2.16, but I was able to do that as part of my job as we
need that functionality. Anyway, I've read also a bit through HFS+ spec
and IMO basically most of the current hfs needs to rewritten for 2.4,
e.g. its special files should better go into the page cache and hfs
basically assumes everywhere 512 byte blocks, what isn't true anymore
with hfs+. This 512 bytes block problem is also the reason that the
perfomance of this patch will suck badly on MOs, since _every_ write (of
a 512 byte block) requires a read (of a 1024 byte sector).
Anyway, I'm happy about any bug reports, that you can't reproduce with
hfs on a drive with 512 byte sectors (for that I still trying to fully
understand hfs btrees :-) ). I don't think this patch should be included
into standard 2.2, but on the other hand it also shouldn't make anything
worse than it already is.
bye, Roman[unhandled content-type:application/x-gzip]