Date: Wed, 2 Aug 2006 21:27:46 -0700 (PDT)
From: Christoph Lameter <>
Subject: Re: [patch 2/8] Implement always-locked bit ops, for memory shared with an SMP hypervisor.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/3/8

On Thu, 3 Aug 2006, Andi Kleen wrote:
> 
> > Thats a good goal but what about the rest of us who have to maintain 
> > additional forms of bit operations for all architectures. How much is this 
> > burden?
> 
> I don't think it's that big an issue because most architectures either
> use always locked bitops already or don't need them because they don't do
> SMP.
Those architectures that always use locked bitops or dont need them would 
not need to be modified if we put this in a special fail. I think this is 
a i386 speciality here?
Those operations are only needed for special xen driver and not for 
regular kernel code!
> So it will be fine with just a asm-generic header that defines them
> to the normal bitops. Not much burden.
asm-generic/xen-bitops.h asm-i386/xen-bitops.h is even less of a burden 
and would only require a 
#include <asm/xen-bitops.h>
for those special xen drivers.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/