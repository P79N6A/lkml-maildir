Date: Fri, 09 Jan 2009 22:20:25 +0100
From: Stefan Richter <>
Subject: Re: post 2.6.28 regression: device_initialize() now sleeps, and	may fail without recovery strategy
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/9/328

Stefan Richter wrote:
> Greg KH wrote:
>> I originally looked at changing this to be at device_add time, but I
>> think there are some code paths that do device_initialize and then do
>> some operations on the device before calling device_add.
> 
> get_device() and put_device() seem to be about the only things that are
> interesting before device_add().
> 
> Don't know if a final put_device() in this situation
...would require dev->p to be present.
-- 
Stefan Richter
-=====-==--= ---= -=--=
http://arcgraph.de/sr/