Date: Sun, 2 Mar 2003 12:43:58 -0800
From: Andrew Morton <>
Subject: Re: anticipatory scheduling questions
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/2/110

"Felipe Alfaro Solana" <felipe_alfaro@linuxmail.org> wrote:
>
> > You have not actually said whether 2.5.63 base exhibits 
> > the same problem.  From the vmstat traces it appears 
> > that the answer is "yes"? 
> 
> Both 2.5.63 and 2.5.63-mm1 exhibit this behavior, but 
> can't be reproduced with 2.4.20-2.54. 
By 2.54 I assume you mean 2.5.54?
> > > I have retested this with 2.4.20-2.54, 2.5.63 and 2.5.63-mm1...  
> > > and have attached the files to this message 
> > 
> > Thanks.  Note how 2.4 is consuming a few percent CPU, whereas 2.5 is 
> > consuming 100%.  Approximately half of it system time. 
> 
> It seems is not "user" or "system" time what's being consumed, it's 
> "iowait" Look below :-) 
Your vmstat traces were showing tons of user time as well as system
time.  Please make sure that you have the latest version of procps,
from 
http://surriel.com/procps/
 or 
http://procps.sourceforge.net/
> > It does appear that some change in 2.5 has caused evolution to go berserk 
> > during this operation. 
> 
> I wouldn't say it's exactly Evolution what's going berserk. Doing a 
> "top -s1" while trying to reply to a big e-mail message, I've noticed 
> that "top" reports "iowait" starting at ~50%, then going up very fast 
> and then staying up at 90-95% all the time. This happens on 2.5.63 
> and 2.5.63-mm1, however, on 2.4.20-2.54 kernel, "iowait" stays all 
> the time exactly at "0%" and idle time remains steady at 90-95%. 
Well certainly the IO stream _looks_ like it is stuck in IO-wait a lot.
It is strange that this has been happening for a couple of months and seems
to only affect Felipe Solana's copy of evolution.  I still can't get my copy
to spellcheck a thing.  I need to wrestle with it a bit more.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/