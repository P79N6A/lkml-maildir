Date: Wed, 10 Jul 2002 13:17:39 -0700
From: James Cleverdon <>
Subject: Re: Chatserver workload simulator by Bill Hartner?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/10/133

On Tuesday 09 July 2002 09:35 am, Perches, Joe wrote:
> It's on the Linux Benchmark Suite site with several
> other useful tools...
>
> 
http://lbs.sourceforge.net/
> -
The chat-1.0.1.tar.gz on that page still has a memory free/use bug with the ti 
array.  I sent the patch to bhartner, but maybe he's not maintaining it 
anymore.  It only seems to cause trouble when running heavy loads.  (Maybe 
large blocks of memory get coalesced, or something.)  Anyway, here it is:
--- chat_s.c.df	Tue Jun  4 17:37:03 2002
+++ chat_s.c	Thu Jun 20 15:18:51 2002
@@ -515,7 +515,6 @@
 	int exit_rc = 0;
 	int rc = 0;
 	
-	free(ti);
 	free(s_send_stack);
 	free(s_receive_stack);
 	
@@ -533,6 +532,8 @@
 		}	
 	}
 
+	free(ti);
+
 	return(exit_rc);
 }
 
-- 
James Cleverdon
IBM xSeries Linux Solutions
{jamesclv(Unix, preferred), cleverdj(Notes)} at us dot ibm dot com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/