Date: Mon, 16 Jan 2006 10:53:53 -0500
From: (Lennart Sorensen)
Subject: Re: [?] PCI BIOS masks some IDs to prevent OS detection?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/16/148

On Fri, Jan 13, 2006 at 02:45:29PM -0800, Joshua Kwan wrote:
> I'd like to tap some of the Linux-PCI gurus about something weird I've
> been helping a friend with...
> 
> He recently installed a PCI RAID card, and ever since, his Ethernet
> card stopped working. Further investigation revealed that his
> Realtek 8139 (10ec:8139) card had become 10ec:0139, and his 3Com Cyclone
> card had become 10b7:1055 from 10b7:9055.
> 
> Did the PCI bus decide to mask those PCI IDs to prevent some sort of
> resource conflict that would ensue from loading an appropriate driver
> for these devices?
Maybe the raid card has a pin shorted to ground, so all reads of that
bit read as 0.  That would explain why all the cards lost the same bit.
It appears to be the highest bit on the bus that is stuck low.
I see this fairly frequently on our own mainboards due to a problem with
the soldering of a surface mount pci bridge chip on the bottom of
the board.
So check if the problem goes away if the raid card is removed, and you
could check the raid card in another machine too.  Either it isn't
seated properly, or it is broken, or the pci slot is defective perhaps.
Len Sorensen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/