Date: Thu, 8 May 2008 11:30:38 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: [patch] speed up / fix the new generic semaphore code (fix AIM7 40% regression with 2.6.26-rc1)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/8/333

On Thu, 8 May 2008, Linus Torvalds wrote:
> 
> Why don't we just make it do the same thing that the x86 semaphores used 
> to do: make it signed, and decrement unconditionally. And callt eh 
> slow-path if it became negative.
> ... 
> and now we have an existing known-good implementation to look at?
Ok, after having thought that over, and looked at the code, I think I like 
your version after all. The old implementation was pretty complex due to 
the need to be so extra careful about the count that could change outside 
of the lock, so everything considered, a new implementation that is 
simpler is probably the better choice.
Ergo, I will just pull your scheduler tree.
			Linus