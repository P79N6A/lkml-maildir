Date: Sat, 5 May 2001 14:37:53 -0400
From: Ed Tomlinson <>
Subject: Linux 2.4.4-ac5; hpt370 & new dma setup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/5/56

thunder7@xs4all.nl wrote:
> On Fri, May 04, 2001 at 11:24:58PM +0100, Alan Cox wrote:
>> 
>> 
ftp://ftp.kernel.org/pub/linux/kernel/people/alan/2.4/
>> 
>> Intermediate diffs are available from
>> 
>> 
http://www.bzimage.org
>> 
>> Please test this code **carefully** if using an HPT366/370 IDE controller as
>> there are driver changes there. Otherwise its mostly just catching up with
>> the bugfixes.
>> 
>> 2.4.4-ac5
>> o	Fix DMA setup on hpt366/370			(Tim Hockin)
> 
> I see definite changes; on heavy disk-access I got the following:
> 
> hdg: timeout waiting for dma
> ide_dmaproc: chipset supported ide_dma_timeout func only:14
> hdg: irq timeout: status = 0x58 { DriveReady SeekComplete DataRequest}
> 
> this was repeated several times, and ide3 was being reset, but the
> kernel hung anyway after 5 minutes of waiting.
> 
> I must have an unlucky set of hardware (via chipset VP6 board, Live!,
> ibm drives).
Funny I have had the same problem with 2.4.4 only with a pdc20267 (reported
to lkml with topic '[BUG] pdc20267 and dma timeouts')  Is there some problem 
with resets on ide2/3?
TIA
Ed Tomlinson <tomlins@cam.org>
Ed Tomlinson
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/