Date: Mon, 30 Aug 1999 13:28:11 +0200
From: Karsten Keil <>
Subject: Re: 2.3.15 hangs - ISDN related?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/30/43

On Mon, Aug 30, 1999 at 09:38:38AM +0100, Paul Flinders wrote:
> 
> 2.3.15 is hanging on my machine - looking back in the system logs
> there is an oops (attached) which looks as though it might be the ISDN
> code, just after the oops the final entry is
> 
> Aug 30 09:04:35 dawa kernel: stuck on TLB IPI wait (CPU#0)
> 
> 2.3.6 with the 9907111100 ISDN snapshot runs without problems
> 
> I've attached the oops & my config. Is there anyone in the
> isdn4linux group that I could also send a report to?
Yes, but since we are going closer to normal kernel development, you
don't need to send a extra report.
I searched (I hope its the same) this fault the complete weekend.
It only occours if you try to use a ttyI.
It was a misplaced #endif in isdn_tty.c
--- /kernel/linux-2.3.15.org/drivers/isdn/isdn_tty.c	Sun Aug 22 18:48:19 1999
+++ isdn/drivers/isdn/isdn_tty.c	Sun Aug 29 13:03:32 1999
@@ -1,4 +1,4 @@
-/* $Id: isdn_tty.c,v 1.72 1999/07/31 12:59:45 armin Exp $
+/* $Id: isdn_tty.c,v 1.73 1999/08/28 21:56:27 keil Exp $
 
  * Linux ISDN subsystem, tty functions and AT-command emulator (linklevel).
  *
@@ -20,6 +20,9 @@
  * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
  *
  * $Log: isdn_tty.c,v $
+ * Revision 1.73  1999/08/28 21:56:27  keil
+ * misplaced #endif caused ttyI crash in 2.3.X
+ *
  * Revision 1.72  1999/07/31 12:59:45  armin
  * Added tty fax capabilities.
  *
@@ -345,7 +348,7 @@
 static int si2bit[8] =
 {4, 1, 4, 4, 4, 4, 4, 4};
 
-char *isdn_tty_revision = "$Revision: 1.72 $";
+char *isdn_tty_revision = "$Revision: 1.73 $";
 
 
 /* isdn_tty_try_read() is called from within isdn_tty_rcv_skb()
@@ -2399,8 +2402,8 @@
 #else
 		info->open_wait = 0;
 		info->close_wait = 0;
-		info->isdn_driver = -1;
 #endif
+		info->isdn_driver = -1;
 		info->isdn_channel = -1;
 		info->drv_index = -1;
 		info->xmit_size = ISDN_SERIAL_XMIT_SIZE;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/