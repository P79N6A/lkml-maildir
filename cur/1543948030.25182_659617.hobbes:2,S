Date: Tue, 26 Feb 2008 00:21:33 +0100
From: Willy Tarreau <>
Subject: Re: [PATCH] Compress kernel modules on installation.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/25/439

On Mon, Feb 25, 2008 at 11:32:44PM +0100, Oleg Verych wrote:
> On Mon, Feb 25, 2008 at 11:19 PM, Willy Tarreau:
> >
> > On Mon, Feb 25, 2008 at 11:17:23PM +0100, Oleg Verych wrote:
> >  > On Mon, Feb 25, 2008 at 10:42 PM, Steve Brokenshire:
> >  > > Hi,
> >  > >
> >  > >  (I've sent this to the linux-kbuild and linux-kernel lists as this
> >  > >  patch modifies the Makefile.modinst file. I also don't subscribe to the
> >  > >  linux-kbuild and linux-kernel mailing lists so can I have any replies
> >  > >  CC'ed to me please)
> >  >
> >  > And what if i like bzip2 (yea sometimes better) or 7zip (better if !EMBEDDED)
> >  > or whatever?
> >  >
> >  > It's pure user/distro question.
> >
> >  not exactly, as only gzip is supported by module-init-tools. However,
> >  if you come up with a patch to implement lzma or equivalent for
> >  module-init-tools, it may be useful.
> 
> Oh, come on! It's userspace,
and your point is ... ?
> i have scripts managing existence/compression
> on per-file basis on my comp.
I'm definitely happy for you.
> If most distros just drop thousands of useless
> (sometimes compressed) stuff to your harddisk, it's not kernel's or
> modules-init-tools' problem.
who said there was a problem ?
> Also having compressed over compressed stuff, like on initramfs booting image
> with such modules (if by defaults) may cause bigger file, more CPU overhead.
Already known and obvious, thanks. But that's unrelated to the initial post.
> It is userspace and all that policy stuff, etc., etc.
A makefile is userspace too. I still fail to see your point.
> Want to make a minidistro on lkml? Well, i see klibc working fine already.
Huh? drinking before posting does no good it seems... :-)
Steve proposed a simple patch to ease modules compression during the
build process. Obviously it's userspace (as all the build process,
mind you). And there's nothing dirty nor funny there. Maybe you just
don't understand what it's useful for, but in this case it simply means
you don't need this feature :-)
Willy