Date: Tue, 24 Jan 2006 07:22:20 +0100
From: Andi Kleen <>
Subject: Re: EHCI + APIC errors = no usb goodness
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/24/10

On Monday 23 January 2006 22:04, Greg KH wrote:
> I've had a laptop here that has had some "issues" in the past (time
> running double speed, XFree doesn't work, etc.)
> 
> Now I'm down to the last problem, USB doesn't work, which is a bit of a
> pain for me :)
> 
> Anyway, below is the kernel log from 2.6.16-rc1-mm2 (contains the latest
> acpi tree, which I thought might help out.)  This log is when I modprobe
> ehci-hcd.  The interesting thing is the APIC error, 
That was the laptop with ATI chipset right? Most of them have routing
troubles with the timer interrupt. I finally gave up trying to fix
them and just switched over to using the APIC timer which is run
by the CPU and not dependent on chipsets. Use the latest
patch from my x86-64 queue 
ftp://ftp.firstfloor.org/pub/ak/x86_64/quilt/
This should both eliminate the APIC errors and likely any timing problems
for 64bit kernels.
> Andi, I know you have been doing some apic rework for x86-64 (which this
> processor is, but I'm still running it in 32bit mode.)  Do you happen to
> have any patch that I could test out?
Ah, 32bit? For that just run without APIC.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/