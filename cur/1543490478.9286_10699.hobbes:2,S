Date: Sat, 20 Mar 1999 19:32:58 -0500 (EST)
From: "Richard B. Johnson" <>
Subject: Re: Possible optimization in ext2_file_write()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/20/93

> If the disk remaps a bad sector shouldn't that be completely transparent
> to the rest of the world? It would be funny if my harddrive decided to
> remap a couple of sectors, how is my OS ever going to find out? And I
> think that if you write a sectore and the write succeeds you can be sure
> that you can read the sector afterwards, unless the harddrive breaks
> inbetween :)
> 
> Regards, 
> Gerard Saraber
> gsaraber@glasscity.net
> 
What he is saying, and he is correct, is if you want to write a sector,
don't read it first. Just write it. Then, if the real sector within
the drive was bad, (if the drive supports it) the real sector will
be remapped and the write will succeed. If you were to read first,
the drive has no way of remapping on a read (it can't return success)
because the data are corrupt.
Cheers,
Dick Johnson
                 ***** FILE SYSTEM WAS MODIFIED *****
Penguin : Linux version 2.2.3 on an i686 machine (400.59 BogoMips).
Warning : It's hard to remain at the trailing edge of technology.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/