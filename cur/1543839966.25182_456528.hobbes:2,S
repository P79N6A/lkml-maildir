Date: Tue, 22 Aug 2006 12:26:46 -0700
From: Zachary Amsden <>
Subject: Re: [PATCH] paravirt.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/22/255

Zachary Amsden wrote:
 > I've already implemented the locking and repatching bits for VMI.
Incorrectly, I might add.  The problem case for syscall patching is what 
do you do if there are in-service system calls?  The comparable problem 
here is what if you interrupt code running in the old paravirt-ops, or 
worse, a section of code that you repatch when you do the switch?
That is a really nasty problem.  You need a synchronization primitive 
which guarantees a flat stack, so you can't do it in the interrupt 
handler as I have tried to do.  I'll bang my head on it awhile.  In the 
meantime, were there ever any solutions to the syscall patching problem 
that might lend me a clue as to what to do (or not to do, or impossible?).
Thanks,
Zach
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/