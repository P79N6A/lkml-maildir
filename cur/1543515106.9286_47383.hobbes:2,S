Date: Fri, 5 Nov 1999 13:32:08 +0100
From: Andreas Bombe <>
Subject: [PROBLEM] fbcon scrolling oops
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/5/34

Today Linux 2.2.12 oopsed on me and made console unusable while I ran
mc, looking at a file in console (framebuffer) and scrolling through. 
This is not a thing I rarely do, so I don't know how to reproduce it,
sorry.  Compiler is gcc 2.7.2.3.
This system is my development/test system for FireWire and I crashed
the machine hard just a minute before, but this oops happened after a
reboot with no modules and absolutely none of my code yet loaded. 
Magic SysRq still worked and allowed me to remount r/o and sync, but I
wasn't able to change consoles.  gpm also still worked, and the oops
was properly saved in syslog.
The system is a K6/233 with 96MB RAM and running on SCSI.  Graphics
provided by Mach64 card, fbcon driver used is VESA.
ksymoops 0.7c on i586 2.2.12.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -L (specified)
     -O (specified)
     -m /boot/System.map-2.2.12 (default)
     -S
Nov  5 02:02:50 storm kernel: Unable to handle kernel paging request at virtual address c6c00000 
Nov  5 02:02:50 storm kernel: current->tss.cr3 = 037d8000, %cr3 = 037d8000 
Nov  5 02:02:50 storm kernel: *pde = 05fdc063 
Nov  5 02:02:50 storm kernel: Oops: 0002 
Nov  5 02:02:50 storm kernel: CPU:    0 
Nov  5 02:02:50 storm kernel: EIP:    0010:[<c01d065f>] 
Using defaults from ksymoops -t elf32-i386 -a i386
Nov  5 02:02:50 storm kernel: EFLAGS: 00010246 
Nov  5 02:02:50 storm kernel: eax: 00000000   ebx: 00054000   ecx: 0002c000   edx: 00000000 
Nov  5 02:02:50 storm kernel: esi: 00000400   edi: c6c00000   ebp: 00000150   esp: c3743dfc 
Nov  5 02:02:50 storm kernel: ds: 0018   es: 0018   ss: 0018 
Nov  5 02:02:50 storm kernel: Process mc (pid: 296, process nr: 42, stackpage=c3743000) 
Nov  5 02:02:50 storm kernel: Stack: c03497fc 00000015 c6bd8000 00000000 c0245100 c01cd330 c03497fc c0252db0  
Nov  5 02:02:50 storm kernel:        000000f6 00000000 00000015 00000080 c03497fc c0252db0 00000005 00000003  
Nov  5 02:02:50 storm kernel:        00000a80 00000000 0000004d 00000002 00000015 00000005 00000000 00000000  
Nov  5 02:02:50 storm kernel: Call Trace: [<c6bd8000>] [<c01cd330>] [<c017fc5c>] [<c0182035>] [<c0182120>] [<c01832b5>] [<c018075f>]  
Nov  5 02:02:50 storm kernel:        [<c0183c21>] [<c0180000>] [<c018420f>] [<c018b872>] [<c01877f5>] [<c0187698>] [<c018b71c>] [<c01232c7>]  
Nov  5 02:02:50 storm kernel:        [<c0107a6c>]  
Nov  5 02:02:50 storm kernel: Code: f3 aa 01 74 24 10 89 54 24 14 4a 83 7c 24 14 00 7f e3 5b 5e  
>>EIP; c01d065f <fbcon_cfb8_clear+9b/ec>   <=====
Trace; c6bd8000 <END_OF_CODE+6980e38/????>
Trace; c01cd330 <fbcon_scroll+55c/9cc>
Trace; c017fc5c <scrup+74/10c>
Trace; c0182035 <delete_line+25/38>
Trace; c0182120 <csi_M+30/38>
Trace; c01832b5 <do_con_trol+d11/10e8>
Trace; c018075f <hide_cursor+7b/80>
Trace; c0183c21 <do_con_write+595/608>
Trace; c0180000 <build_attr+90/114>
Trace; c018420f <con_write+1b/2c>
Trace; c018b872 <write_chan+156/1d4>
Trace; c01877f5 <tty_write+15d/1cc>
Trace; c0187698 <tty_write+0/1cc>
Trace; c018b71c <write_chan+0/1d4>
Trace; c01232c7 <sys_write+c3/ec>
Trace; c0107a6c <system_call+34/38>
Code;  c01d065f <fbcon_cfb8_clear+9b/ec>       00000000 <_EIP>:
Code;  c01d065f <fbcon_cfb8_clear+9b/ec>          0:   f3 aa             repz stosb %al,%es:(%edi)   <=====
Code;  c01d0661 <fbcon_cfb8_clear+9d/ec>          2:   01 74 24 10       addl   %esi,0x10(%esp,1)
Code;  c01d0665 <fbcon_cfb8_clear+a1/ec>          6:   89 54 24 14       movl   %edx,0x14(%esp,1)
Code;  c01d0669 <fbcon_cfb8_clear+a5/ec>          a:   4a                decl   %edx
Code;  c01d066a <fbcon_cfb8_clear+a6/ec>          b:   83 7c 24 14 00    cmpl   $0x0,0x14(%esp,1)
Code;  c01d066f <fbcon_cfb8_clear+ab/ec>         10:   7f e3             jg     fffffff5 <_EIP+0xfffffff5> c01d0654 <fbcon_cfb8_clear+90/ec>
Code;  c01d0671 <fbcon_cfb8_clear+ad/ec>         12:   5b                popl   %ebx
Code;  c01d0672 <fbcon_cfb8_clear+ae/ec>         13:   5e                popl   %esi
-- 
    Andreas E. Bombe <andreas.bombe@munich.netsurf.de>
    
http://home.pages.de/~andreas.bombe/
RSA 0x886663c9  30 EC 09 73 84 7B 55 83  C4 7A 91 D9 9D C5 4B B0
DSA 0x04880A44 72E5 7031 4414 2EB6 F6B4  4CBD 1181 7032 0488 0A44
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/