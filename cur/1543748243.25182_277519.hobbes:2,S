Date: Wed, 8 Dec 2004 20:37:33 +0900
From: Akinobu Mita <>
Subject: Re: [mm patch] oprofile: backtrace operation does not initialized
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/8/71

On Wednesday 08 December 2004 20:13, Ingo Molnar wrote:
> * Akinobu Mita <amgta@yacht.ocn.ne.jp> wrote:
> > -	profile_hit(SCHED_PROFILING, __builtin_return_address(0));
> > +	if (timer_hook) {
> > +		struct pt_regs regs;
> > +
> > +		GET_CURRENT_REGS(regs);
> > +		timer_hook(&regs);
> > +	}
>
> ugh. nack.
>
This second patch is not intended for inclusion.
It's my own tailor-made profiler. Actually it breaks all architectures
except for i386 with CONFIG_PROFILING.
It just demonstrates why I want to apply the first patch.
It fixes specifying "timer=1" as oprofile module parameter avoids to
set oprofile_operations.backtrace.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/