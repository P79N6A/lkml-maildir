Date: Mon, 18 Oct 2004 09:20:45 +0200
From: Dominik Brodowski <>
Subject: Re: [PATCH] cpufreq_ondemand
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/18/8

Hi,
On Sun, Oct 17, 2004 at 11:29:16PM +0100, Alexander Clouter wrote:
> After playing with the cpufreq_ondemand governor (many thanks to those whom 
> made it) I made a number of alterations which suit me at least.  Really 
> looking for feedback and of course once people have fixed any bugs they find 
> and made the code look neater, possible inclusion?
Or possibly a "fork" -- different dynamic cpufreq governors aren't a bad
thing to have. Else the whole modular approach would be wrong... So, even
if it doesn't get merged into cpufreq_ondemand, you can maintain it as a
differently named cpufreq governor.
> 2. controllable through 
> 	/sys/.../ondemand/ignore_nice, you can tell it to consider 'nice' 
> 	time as also idle cpu cycles.  Set it to '1' to treat 'nice' as cpu 
> 	in an active state.
Interesting bit, IIRC some userspace tool also does that.
> 4. (minor) I changed DEF_SAMPLING_RATE_LATENCY_MULTIPLIER to 50000 and
> 	DEF_SAMPLING_DOWN_FACTOR to 5 as I found the defaults a bit annoying 
> 	on my system and resulted in the cpufreq constantly jumping.
> 
> 	For my patch it works far better if the sampling rate is much lower 
> 	anyway, which can only be good for cpu efficiency in the long run
However, this means it takes much longer for the system to react to changes
in load... it's a tricky issue.
> 6. debugging (with 'watch -n1 cat /sys/.../ondemand/requested_freq') and 
> 	backwards 'compatibility' to act like the 'userspace' governor is 
> 	avaliable with /sys/.../ondemand/requested_freq if 
> 	'freq_step_percent' is set to zero
Please don't do that. Userspace is the governor for userspace frequency
setting; if you want it, switch to userspace, if you want dynamic frequency
selection, use the original ondemand or your governor.
	Dominik
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/