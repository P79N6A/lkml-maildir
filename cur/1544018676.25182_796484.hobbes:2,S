Date: Sat, 24 Jan 2009 10:35:35 +0800 (CST)
From: peter meng <>
Subject: Is this a bug related s3c24xx-spi-gpio driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/23/361

HI,
The .name field is different between platform_device and platform_driver
in drivers/spi/spi_s3c24xx_gpio.c 
static struct platform_driver s3c2410_spigpio_drv = {
        .probe          = s3c2410_spigpio_probe,
        .remove         = s3c2410_spigpio_remove,
        .suspend        = s3c2410_spigpio_suspend,
        .resume         = s3c2410_spigpio_resume,
        .driver         = {
                .name   = "spi_s3c24xx_gpio",
                .owner  = THIS_MODULE,
        },
};
but 
in arch/arm/mach-s3c2410/mach-qt2410.c 
static struct platform_device qt2410_spi = {
	.name		  = "s3c24xx-spi-gpio",
	.id		  = 1,
	.dev = {
		.platform_data = &spi_gpio_cfg,
	},
};
in arch/arm/mach-s3c2410/mach-jive.c
static struct platform_device jive_device_lcdspi = {
	.name		= "s3c24xx-spi-gpio",
	.id		= 1,
	.num_resources  = 0,
	.dev.platform_data = &jive_lcd_spi,
};
in  sound/soc/s3c24xx/ smdk2440_wm8956.c 
smdk2440_spi_device = platform_device_alloc("s3c24xx-spi-gpio",-1);
Peter Meng 
      