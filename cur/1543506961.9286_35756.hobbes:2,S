Date: Wed, 25 Aug 1999 14:07:21 -0700 (PDT)
From: jumeaux lists <>
Subject: Re: strange problems with k2.2.11 / glibc 2.1 / xterm (xfree86 3.3.4)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/25/101

> > the problem occurs when i run an xterm after booting up under 2.2.  the
> > first line in the xterm says something along the lines of "/dev/ttypX:
> > operation not permitted", and the device is not chowned, so write/talk/etc
> > to me won't work.  w, who or last show up the tty as follows:
> > 
> > damon    ttyp1ric|Gen :0.0             Tue Aug 24 22:19 - 22:20  (00:00)
> 
> This sounds like a ttypX issue. I can't really say I know much about them,
> since I don't use them - like you, I did the slackware-glibc thing but
> never bothered with the unix98 ptys - but I guess you know you need the
> pty support in the kernel.
actually - maybe i should have mentioned this - it can't have anything to
do with unix98 ptys, as i didn't bother with them either.  i don't have
the support compiled into the kernel.  i always think of the devices in
question as ttypX, because i never go over the `p' series, but it's
actually just the standard /dev/ttyXX devices, *not* pty.
> > any thoughts?  has anyone seen this effect before?  the only thing i
> > *haven't* tried upgrading is glibc2 (i know there's a 2.1.1 release out
> > there somewhere)... could that be it?  if that seems likely, can anyone
> > point me at the current canonical source for the libraries?  would it be
> > the stuff on gnu.org?  (i remember it used to be somewhere else... so i'm
> > a little confused as to where to look for the correct libs)
> 
> I get this when I run biff in an xterm. Basically it could mean anything -
> it seems either xterm's not SUID root - don't know if it has to be for
> ptys, but it might - or some inappropriate ioctl is being issued to the
> pty. Read a bit more about pty's - it might be a faq. I never did the pty
> dance, but I've done the glibc one. It's hosted on egcs.cygnus.com,
> basically because it doesn't compile with gcc-2.7.x - but since now we've
> got an official gcc-2.95 that _does_ compile it, this should be resolved
> soon.
i guess i will try upgrading the libraries again and see if that helps.
xterm is indeed suid root as it should be.
i did initially compile with pty support just to try it out, but when i
realised it meant recompiling and/or finding different versions of
everything, i jumped ship. :)
-damon
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/