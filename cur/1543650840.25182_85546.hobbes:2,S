Date: Thu, 31 Oct 2002 20:10:49 -0500 (EST)
From: Alexander Viro <>
Subject: Re: mount
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/31/445

On Fri, 1 Nov 2002 Andries.Brouwer@cwi.nl wrote:
> (i) I just tried 2.5.45 - CLONE_NEWNS is indeed wrong,
> and the indicated patch fixes this. Will submit it to
> Linus one of these centuries unless you object -
> assuming that I can convince myself of the correctness.
Proposed fix is, indeed, correct.  I'll feed it to Linus.
> (ii) The reason I write is that it will soon be time
> for util-linux 2.12. Mount still lacked syntax for
> MS_REC, and a moment ago I made it --rbind
> (for MS_REC|MS_BIND).
> Please complain if MS_REC should remain undocumented
> and inaccessible.
No problem with me.  While we are at it, mount(8) detection of loop
is, er, odd:
        return (loopmajor && stat(device, &statbuf) == 0 &&
                S_ISBLK(statbuf.st_mode) &&
                (statbuf.st_rdev>>8) == loopmajor);
                                ^^^
Tsk, tsk...  Seriously, switching to major(statbuf.st_rdev) would probably
be a good idea.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/