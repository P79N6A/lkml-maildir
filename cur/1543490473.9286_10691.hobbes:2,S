Date: Sat, 20 Mar 1999 23:34:52 +0100 (MET)
From: Gerard Roudier <>
Subject: Re: disk head scheduling
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/20/85

On Sat, 20 Mar 1999, Linus Torvalds wrote:
> On Sat, 20 Mar 1999, Gerard Roudier wrote:
> > 
> > The current request queue in Linux is probably a excellent helper for IDE
> > disks and SCSI disks when using a small number of tagged commands and a
> > small number of disks at the same time, but for high-end SCSI we want to
> > use numerous disks at the same time and to queue them a large number of
> > tagged commands.
> 
> This is mainly a problem with the SCSI subsystem, rather than anything
> else. The SCSI subsystem is not very good at feeding the requests to
> different disks, much less different controllers.
I didn't notice that. Everything that comes from the request queue seems
to be queued normally to devices. It seems it is the kernel IO-request
queue size that may limit the queuing but not the SCSI subsystem when
queues are configured large for controllers and devices. Indeed there is
room for improvements in the SCSI sub-system, but it passes IOs to
low-level drivers normally, I think. 
> The basic IO-request queue is fairly simple, and it's certainly not
> perfect, but most of the problems are actually at a different layer. One
> obvious one is the SCSI subsystem that forces everything to be on one
> queue.
The kernel IO-request queue is one queue and a device TASK SET is also one
queue, the SCSI sub-system passes requests between the kernel request
queue and device queues. The only limits, the SCSI sub-system cares
of, are the maximum number of outstanding IOs, for each controller and for
each device, that may suspend the queuing. But it still is the expected
behaviour.
> Linus
Sorry if I missed something in your statements.
Probably I did.
GÃ©rard.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/