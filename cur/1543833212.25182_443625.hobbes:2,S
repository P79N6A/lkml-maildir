Date: Wed, 12 Jul 2006 09:50:06 -0700
From: Ulrich Drepper <>
Subject: Re: [PATCH] Use uname not sysctl to get the kernel revision
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/12/190

Eric W. Biederman wrote:
> But uname is noticeably faster than sysctl and uname is more portable
> across linux flavors.  So updating the glibc pthread code to use
> uname looks like the right way to implement is_smp_system. 
This is (was?) not the universal through.  We used uname at some point
but then I did some profiling and sysctl turned out to be faster.
If the reverse is true now I can certainly look into changing this but
the evidence and ideally has to be there.  The simplicity of the uname
code should mean that it's faster.
In a year or two I'll remove the test anyway.  By then there will likely
not be any UP kernels on reasonable machines anymore and I can drop all
the conditional code.
-- 
➧ Ulrich Drepper ➧ Red Hat, Inc. ➧ 444 Castro St ➧ Mountain View, CA ❖
[unhandled content-type:application/pgp-signature]