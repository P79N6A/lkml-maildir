Date: Wed, 25 Oct 2000 18:19:51 -0700
From: Matt Porter <>
Subject: Re: Another test10 PCI resource conflict
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/26/154

On Wed, Oct 25, 2000 at 12:53:38PM -0700, Vitaly Luban wrote:
> Hi,
> 
> I've got a PCI resource conflict on PowerPC Motorola MCP 750 system
> while booting 2.4.0-test10. It works happily under 2.2.16 w/o any problems.
> messages and lspci for 2.2.16 and 2.4.0-test10 attached.
[snip]
> Relocating PCI address 3c000000 -> 1000000
> Relocating PCI address 3bffff00 -> 1ffff00
> Relocating PCI address 3beffc00 -> 1effc00
> Relocating PCI address 3beff800 -> 1eff800
> PCI: Resource 01000000-3c03ffff (flags=200, disabled=0, pass=0)
> PCI: Cannot allocate resource region 1 of device 00:00.0
> PCI: Resource 0000fff0-0000fff7 (flags=101, disabled=0, pass=0)
> PCI: Resource 0000ffec-0000ffef (flags=10d, disabled=0, pass=0)
> PCI: Resource 0000ffe0-0000ffe7 (flags=101, disabled=0, pass=0)
> PCI: Resource 0000ffdc-0000ffdf (flags=10d, disabled=0, pass=0)
> PCI: Resource 0000ffc0-0000ffcf (flags=101, disabled=0, pass=0)
> PCI: Resource 0000ffa0-0000ffbf (flags=101, disabled=0, pass=0)
> PCI: Resource 0fffff00-0fffff7f (flags=101, disabled=0, pass=0)
> PCI: Resource 01ffff00-3bffff7f (flags=200, disabled=0, pass=0)
> PCI: Cannot allocate resource region 1 of device 00:0e.0
> PCI: Resource 0000ef80-0000efff (flags=101, disabled=0, pass=0)
> PCI: Resource 01effc00-3befffff (flags=200, disabled=0, pass=0)
> PCI: Cannot allocate resource region 1 of device 03:04.0
> PCI: Resource 0000ef00-0000ef7f (flags=101, disabled=0, pass=0)
> PCI: Resource 01eff800-3beffbff (flags=200, disabled=0, pass=0)
> PCI: Cannot allocate resource region 1 of device 03:05.0
> PCI: Failed to allocate resource 1 for Digital Equipment Corporation DECchip 21142/43
> PCI: Failed to allocate resource 1 for Digital Equipment Corporation DECchip 21142/43 (#2)
You are using a broken kernel tree that relocates PReP memory BARs.
I have already fixed this in the latest linuxppc_2_5 tree.  Note the
large PCI mem space it is attempting to allocate on the line before
each resource allocation error message.  The >768MB area it's trying
to allocate is the clue that something's wrong.
It's generally good practice to try the PPC development trees before
reporting PPC kernel bugs.  
http://www.fsmlabs.com/linuxppcbk.html
-- 
Matt Porter
MontaVista Software, Inc.
mporter@mvista.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/