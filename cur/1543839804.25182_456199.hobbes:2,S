Date: Mon, 21 Aug 2006 23:46:36 +0200
From: Adrian Bunk <>
Subject: Re: [2.6 patch] re-add -ffreestanding
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/21/268

On Mon, Aug 21, 2006 at 11:24:44PM +0200, Andi Kleen wrote:
> On Mon, 21 Aug 2006 23:21:54 +0200
> Adrian Bunk <bunk@stusta.de> wrote:
> 
> > I got the following compile error with gcc 4.1.1 when trying to compile 
> > kernel 2.6.18-rc4-mm2 for m68k:
> 
> I object to this change. -ffreestanding shouldn't be forced on everybody
Why?
The Linux kernel is a freestanding environment.
Omitting -ffreestanding only for allowing gcc to automatically use 
builtins isn't a good idea (as we have already seen).
We can easily enable as many gcc builtins as we want.
We could even do this for all platforms in include/linux/string.h
It might make sense to do this properly since it could e.g. be the gcc 
builtins produce no worse code than the inlines in 
include/asm-i386/string.h.
But if this should be done, let's do it right and explicitely.
> -Andi
cu
Adrian
-- 
    Gentoo kernels are 42 times more popular than SUSE kernels among
    KLive users  (a service by SUSE contractor Andrea Arcangeli that
    gathers data about kernels from many users worldwide).
       There are three kinds of lies: Lies, Damn Lies, and Statistics.
                                                    Benjamin Disraeli
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/