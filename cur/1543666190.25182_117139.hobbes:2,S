Date: 14 Mar 2003 13:13:01 +0900
From: Miles Bader <>
Subject: Re: [PATCH] irq handling code consolidation (v850 part)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/13/281

Andrey Panin <pazke@orbita1.ru> writes:
> irq handling code consolidation continues.
> v850 specific patch attached. Untested.
Works great on the v850.
Here's a small v850 tweak that you might add to your patch (fixes one
printf warning, removes an unused variable):
diff -up linux-2.5.64-moo/arch/v850/kernel/irq.c.\~1\~ linux-2.5.64-moo/arch/v850/kernel/irq.c
--- linux-2.5.64-moo/arch/v850/kernel/irq.c.~1~	2003-03-14 10:39:25.000000000 +0900
+++ linux-2.5.64-moo/arch/v850/kernel/irq.c	2003-03-14 10:50:41.000000000 +0900
@@ -27,8 +27,6 @@
 
 extern atomic_t irq_err_count;
 
-volatile unsigned long spurious_count;
-
 /*
  * Generic, controller-independent functions:
  */
@@ -73,7 +71,9 @@ int show_interrupts(struct seq_file *p, 
 			seq_printf(p, ", %s", action->name);
 		seq_putc(p, '\n');
 	}
-	seq_printf(p, "ERR: %10lu\n", atomic_read(&irq_err_count));
+
+	seq_printf(p, "ERR: %10u\n", atomic_read(&irq_err_count));
+
 	return 0;
 }
 
Thanks,
-Miles
-- 
Fast, small, soon; pick any 2.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/