Date: Fri, 28 Jan 2005 15:57:13 -0800
From: Stephen Hemminger <>
Subject: Re: [Bug 4081] New: OpenOffice crashes while starting due to a   threading error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/28/255

On Fri, 28 Jan 2005 18:46:13 -0500
Parag Warudkar <kernel-stuff@comcast.net> wrote:
> Lee Revell wrote:
> 
> > 
> >
> >>munmap(0x955838, 8192)                  = -1 EINVAL (Invalid argument)
> >>munmap(0x80d7ff0, 3221222108)           = -1 EINVAL (Invalid argument)
> >>--- SIGSEGV (Segmentation fault) @ 0 (0) ---
> >> 
> >>
> >
> >No, it really looks like OO tried to munmap() something incorrectly.
> >3,221,222,108 bytes at offset 0x80d7ff0?
> >
> >Lee
> >
> > 
> >
> May be that's another OO.o bug which gets triggered by failure to open 
> /dev/dri? Actually Stephen had OO working fine with earlier kernels, 
> where possibly /dev/dri/* permissions were appropriate and it was able 
> to open it - With new kernel the permissions seem to be improper which 
> is confirmed by strace --
> 
> open("/dev/dri/card0", O_RDWR)          = -1 EACCES (Permission denied)
> 
> Should be filed as a bug with OO.org - it shouldnt segfault due to DRI permissions..
> 
> Parag
Note: on 2.6.10
	/dev/dri/card0	crw-rw-rw-
on 2.6.11-rc2
	/dev/dri/card0	crw-rw----
	/dev/dri/card1	crw-rw----
Changing permissions seems to fix (it for startup), will try more and see
if udev remembers not to turn them back.
-- 
Stephen Hemminger	<shemminger@osdl.org>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/