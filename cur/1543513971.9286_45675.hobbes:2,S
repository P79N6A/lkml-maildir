Date: Sun, 24 Oct 1999 17:22:43 -0200 (EDT)
From: Arnaldo Carvalho de Melo <>
Subject: Re: Memory problems with 2.3.23?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/24/86

Try this patch, just posted by Ingo Molnar, reported to fix this (btw, I
was bitten by this same bug):
--- linux/include/asm-i386/pgtable-2level.h.orig	Sun Oct 24 06:38:24 1999
+++ linux/include/asm-i386/pgtable-2level.h	Sun Oct 24 06:44:11 1999
@@ -32,7 +32,7 @@
 extern inline int pgd_none(pgd_t pgd)		{ return 0; }
 extern inline int pgd_bad(pgd_t pgd)		{ return 0; }
 extern inline int pgd_present(pgd_t pgd)	{ return 1; }
-#define pgd_clear(xp)	do { pgd_val(*(xp)) = 0; } while (0)
+#define pgd_clear(xp)				do { } while (0)
 
 #define pgd_page(pgd) \
 ((unsigned long) __va(pgd_val(pgd) & PAGE_MASK))
         - Arnaldo
On Sun, 24 Oct 1999, Erich Zigler wrote:
> On Sun, 24 Oct 1999, Andreas Tobler wrote:
> 
> > great, with the latest 2.3.23 kernel I have about 2.2GB physical memory.
> > This is reported from top. Unfortunately I only have 80MB :-((
> > This is on a PowerMac 7200.
> 
> I have also had this problem. Here is my output from free
> 
>              total       used       free     shared    buffers     cached
> Mem:         62104      21296      40808          0       1440       8800
> -/+ buffers/cache:      11056      51048
> Swap:      2113536          0    2113536
> 
> I have 64MB of RAM and 128MB of swap, on my Sony VAIO 505TR running
> 2.3.23. At one time its said I had over 600 megs of swap...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/