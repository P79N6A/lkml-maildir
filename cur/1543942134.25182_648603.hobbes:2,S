Date: Tue, 5 Feb 2008 17:06:20 +0100
From: Ingo Molnar <>
Subject: Re: brk randomization breaks columns
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/5/213

* Pavel Machek <pavel@ucw.cz> wrote:
> . Yes, setarch i386 -R /usr/local/bin/uemacs (etc) fixes them, too.
> 
> What about this?
> 
> Heap randomization breaks /lib/libc.so.5.4.33, make it possible to 
> randomize normal stuff but leave the heap alone.
certainly looks fine to me, but please also add a .config to make it 
default to 2. The reason is that a good portions of the overflows happen 
on the heap and 99.9% of the Linux users do not run 1996-era glibc 
anymore.
something like CONFIG_COMPAT_BRK=y, which would cause randomize_va_space 
to default to 1, and if a user or distro disables it, it will default to 
2.
	Ingo