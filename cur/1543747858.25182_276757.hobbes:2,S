Date: Sat, 04 Dec 2004 22:18:59 -0800
From: Dan Kegel <>
Subject: Re: Proposal for a userspace "architecture portability" library
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/5/15

Roland McGrath <roland () redhat ! com> wrote:
 >> I don't think glibc exports any atomic operations.
 >
 >That is true.  But it does have implementations in bits/atomic.h for many
 >processors, and that is under the LGPL.
Interesting.  This seems to be new as of glibc-2.3.3.
(glibc-2.3.2 had implementations of all sorts of things,
spinlocks even, but they were all internal.)
gcc's libstdc++ also exports an atomicity.h
(in e.g. /usr/include/c++/3.4.2/bits/atomicity.h).
gcc's libjava also has its own set of lock primitives
(buried in a file named locks.h).
It would be quite the engineering feat to demonstrate
a gcc/glibc toolchain actually using your proposed
portability layer and demonstrate zero loss of performance.
Even that might not be enough to convince the glibc
maintainer to use it...
- Dan
-- 
Trying to get a job as a c++ developer?  See 
http://kegel.com/academy/getting-hired.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/