Date: Sat, 12 Nov 2005 15:34:13 +0100
From: Jesper Juhl <>
Subject: Re: Modules are missed while compiling the same version of kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/12/59

On 11/12/05, Neo Jia <cjia@cse.unl.edu> wrote:
> hi,
>
> Today, I am going to recompile the kernel by adding the support of
> RTLinux. The current kernel version is 2..6.9-1.677smp (my processor is
> P4 with HT)  from Fedora Core 3. The target new kernel is also the 2.6.9
> from www.kernel.org after patching by RTLinux.
Fedora adds their own patches to the kernel, so your kernel source
from Fedora Core 3 and the one from kernel.org are not equivalent.
>Everything goes smoothly
> while building the kernel. But when I check the modules generated by
> this build, there are a lot of them missed comparing the number of I
> have from the original Fedora Core 3.
>
Did you copy in your original .config and run "make oldconfig" so the
two kernels are configured as closely as possible?
Have you chompared the .config from the old and new kernel to see if
you have the same amount of modules enabled?
Could it be that the Fedora kernels patches add or remove drivers
compared to what's in mainline (I don't use Fedora so I don't know
exactely what patches they add) ?
You are adding the -rt patchset, the changes in there could also
account for some of the difference although I must admit I don't know
exactely what changes the -rt patchset makes - I've never really
looked at it.
> Could you give me any hint about this?
You are using two different versions of the kernel source and have not
told us if they are even configured identically. Frankly I'd be
surprised if they did not have their differences.
--
Jesper Juhl <jesper.juhl@gmail.com>
Don't top-post  
http://www.catb.org/~esr/jargon/html/T/top-post.html
Plain text mails only, please      
http://www.expita.com/nomime.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/