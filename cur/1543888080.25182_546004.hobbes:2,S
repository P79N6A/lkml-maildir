Date: Fri, 18 May 2007 05:38:06 +0200 (CEST)
From: Roman Zippel <>
Subject: Re: [RFC] select and dependencies in Kconfig
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/17/456

Hi,
On Wed, 16 May 2007, Al Viro wrote:
> On Tue, May 15, 2007 at 08:36:20PM +0100, Al Viro wrote:
> > 
> > stuff that does select USB should depend on USB_ARCH_HAS_HCD, or we'll
> > end up with unbuildable configs.
> 
> BTW, this kind of situation happens often enough, so how about doing
> the following: teach kconfig that if FOO selects BAR and BAR depends
> on <expr>, we should act as if FOO had explicit depends on <expr>.
select was really intended to override the dependencies (Russell gave a 
few examples), the other usage is what is abusing select (I can 
understand why people are doing it, but it still is).
So I'd really like to get the focus away from select and rather see it as 
a new syntax.
One problem with your idea is that a symbol itself has no normal 
dependencies. A symbol has properties and these have the dependencies, so 
it's not that easy. What could be used is the visibility value of a symbol 
of a symbol, but that can't be used in expressions yet.
The problem is now being able to select visible and nonvisible symbols. 
One way is to introduce a new syntax for the behaviour you suggest or we 
change the current select syntax and mark nonvisible symbols as being 
selectable. Considering the current problems I sort of like the latter.
bye, Roman
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/