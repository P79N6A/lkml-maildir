Date: Mon, 21 Feb 2000 10:57:29 -0800 (PST)
From: David Dyck <>
Subject: new 2.3.4x kernels w/libc5 need to touch /usr/include/linux/autoconf.h before make xconfig
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/21/181

I'm wondering if a patch to scripts/Makefile to have 
  make -C scripts kconfig.tk
automatically 
  touch /usr/include/linux/autoconf.h
if it didn't exist would be appropriate to
fix this libc5 problem with autoconf.h
  (your comments are appreciated)
If I attempt to install/test a new 2.3.4x) 
kernel on a system that is libc5 based, I need to 
 touch /usr/include/linux/autoconf.h
before I can get "make xconfig"
to compile tkgen.c
It seems that files that attempt to include
  #include <linux/config.h>
 (like /usr/include/linux/types.h)
that want to include
  /usr/include/linux/autoconf.h
can't be build until autoconf.h exists.
I think this is because libc5 installation
wants
    /usr/include/linux 
to be a symlink to 
    /usr/src/linux/include/linux/
but /usr/src/linux/include/linux/autoconf.h
isn't created until after make xconfig
This is the output from make xconfig
after 
  creating /usr/src/linux from  linux-2.3.47.tar.bz2
rm -f include/asm
( cd include ; ln -sf asm-i386 asm)
make -C scripts kconfig.tk
make[1]: Entering directory `/usr/src/linux/scripts'
gcc -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -c -o tkparse.o tkparse.c
gcc -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -c -o tkcond.o tkcond.c
gcc -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -c -o tkgen.o tkgen.c
In file included from /usr/include/linux/types.h:4,
                 from /usr/include/sys/types.h:4,
                 from /usr/include/unistd.h:630,
                 from tkgen.c:113:
/usr/include/linux/config.h:4: linux/autoconf.h: No such file or directory
After 
 touch /usr/include/linux/autoconf.h
I can make xconfig, and attempt to build bzImage
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/