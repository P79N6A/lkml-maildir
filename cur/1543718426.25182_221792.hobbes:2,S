Date: Fri, 21 May 2004 01:56:47 -0700
From: Andrew Morton <>
Subject: Spam: Re: Random file I/O regressions in 2.6 [patch+results]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/21/31

Jens Axboe <axboe@suse.de> wrote:
>
> I think that's pretty similar. Andrew didn't say what device he was
>  testing on, but 2.4 ide defaults to max 64k where 2.6 defaults to 128k.
IDE.
I was being silly, sorry.  Those I/O stats include the (huge linear)
initial write of the "database" files, so the larger IDE request size will
be dominating.
What I need is a way of getting sysbench to create and remove the database
files in separate invokations, but the syntax for that is defeating me at
present.
>  > I'll take a guess at b, and say it could be as-iosched.c.
>  > Another thing might be that 2.6 has smaller nr_requests than
>  > 2.4, although you are unlikely to hid the read side limit
>  > with only 16 threads if they are doing sync IO.
> 
>  Andrew, you did numbers for deadline previously as well, but no rq
>  statistics there? As for nr_requests that's true, would be worth a shot
>  to bump available requests in 2.6.
Doubling the request queue size makes no difference.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/