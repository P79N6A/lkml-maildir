Date: Fri, 22 Oct 1999 08:47:05 -0400 (EDT)
From: <>
Subject: Re: mm and DMA devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/22/55

On Thu, 21 Oct 1999, Dan Hollis wrote:
> On Thu, 21 Oct 1999 kernel@kvack.org wrote:
> > memory lists (say 1 per bit of significance above 24 bits).  Practically,
> > I have to ask what the value in this is.  Do you really need to allocate >
> > 16 MB in the normal use of a bloody sound card?
> 
> No, but you have to make sure memory below 16mb is available :}
> 
> Or even for many PCI cards, below 1gb or 2gb.
> 
> Itd be *very* embarassing to have 4gb of ram, 2gb used, and not be able to
> use your PCI soundcard because it cant allocate ram below 1gb.
Do the math.  Right now, GFP_DMA memory is the last part of system memory
to be allocated from.  Unless GFP_ATOMIC allocations consume all of the
freepages.min memory reserve (which, for starters, is unlikely -- plus
GFP_ATOMIC allocations are typically short term allocations for network
buffers), you will be able to get GFP_DMA memory.  That's the entire
point of the changes made to the allocator.  They may have been subtle,
but their impact should be enourmously positive.
		-ben
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/