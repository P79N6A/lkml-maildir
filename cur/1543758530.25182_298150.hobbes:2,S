Date: Tue, 01 Mar 2005 18:14:22 +1000
From: Douglas Gilbert <>
Subject: Re: [2.6 patch] SCSI: possible cleanups
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/1/26

Adrian Bunk wrote:
> Before I'm getting flamed to death:
Adrian,
I have a few comments below.
> This patch contains possible cleanups. If parts of this patch conflict 
> with pending changes these parts of my patch have to be dropped.
> 
> This patch contains the following possible cleanups:
> - make needlessly global code static
> - remove or #if 0 the following unused functions:
>   - scsi.h: print_driverbyte
>   - scsi.h: print_hostbyte
The names of the above are too general so they should go
as soon as practical.
>   - constants.c: scsi_print_hostbyte
>   - constants.c: scsi_print_driverbyte
I'm a bit surprised nothing else is using the above two.
>   - scsi_scan.c: scsi_scan_single_target
> - remove the following unneeded EXPORT_SYMBOL's:
>   - constants.c: __scsi_print_sense
>   - hosts.c: scsi_host_lookup
>   - scsi.c: scsi_device_cancel
>   - scsi_error.c: scsi_normalize_sense
I introduced scsi_normalize_sense() recently, Christoph H.
proposed it should be static but Luben Tuikov (aic7xxx
maintainer) said he wished to use it in the future.
Hence it was left global.
>   - scsi_error.c: scsi_sense_desc_find
A pending patch on st from Kai M. will be using
scsi_sense_desc_find(). I presume others will be using
it in the future (e.g. SAT returns ATA status via
a sense data descriptor with no corresponding fixed
format representation).
>   - scsi_lib.c: scsi_device_resume
>   - scsi_scan.c: scsi_rescan_device
>   - scsi_scan.c: scsi_scan_single_target
Doug Gilbert
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/