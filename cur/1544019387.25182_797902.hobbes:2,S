Date: Wed, 28 Jan 2009 10:44:14 -0700
From: Jonathan Corbet <>
Subject: Re: [PATCH, RFC] Remove fasync() BKL usage, take 3325
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/28/229

On Wed, 28 Jan 2009 12:36:18 -0500
Christoph Hellwig <hch@infradead.org> wrote:
> ->f_flags is an unsigned int and the bit macros need an unsigned
> long. Increasing the size of struct file for this is probably a bad
> idea.
That was my concern too, initially, but akpm told me it was OK.  From
earlier in the thread:
> > The problem there is that this bloats struct file, and that seemed like
> > something worth avoiding.  
> 
> Not a big deal, really.  There's one of these for each presently-open file.
> It's not like dentries and inodes, which we cache after userspace has
> closed off the file handles.
If others disagree, and using bitops is not an idea which will fly, I'd
sure like to know sooner rather than later.
jon