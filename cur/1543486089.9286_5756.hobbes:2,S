Date: Wed, 17 Feb 1999 01:21:16 +0100
From: Erik Corry <>
Subject: Re: ISDN & Kernel 2.2 fun
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/16/174

"F.P. Groeneveld" <7acp80$dro$1@enterprise.cistron.nl> wrote:
> I'm growing ever more furstrated with the configuration problems I am
> getting.
You should probably try this on the ISDN4Linux list
isdn4linux@hub-wue.franken.de aka the newsgroup
de.alt.comm.isdn4linux.  It's english-german bilingual.
> derk# isdn-up
> Dialing of ippp0 triggered
> derk# route
> Kernel IP routing table
> Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
> localnet        *               255.255.255.0   U     0      0        0 eth0
> 195.64.64.0     *               255.255.255.0   U     0      0        0 ippp0
> derk# route add default gw 195.64.64.1 dev ippp0
To avoid having to do this manually check my mini-faq in the
newsgroup above.
> derk# route
> Kernel IP routing table
> Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
> localnet        *               255.255.255.0   U     0      0        0 eth0
> 195.64.64.0     *               255.255.255.0   U     0      0        0 ippp0
> default         195.64.64.1     0.0.0.0         UG    0      0        0 ippp0
Looks OK now.
> derk# ping 195.64.64.1
> PING 195.64.64.1 (195.64.64.1): 56 data bytes
> ping: sendto: Operation not permitted
> ping: wrote 195.64.64.1 64 chars, ret=-1
> ping: sendto: Operation not permitted
> ping: wrote 195.64.64.1 64 chars, ret=-1
Looks like the ippp0 interface is down again.
> ippp0     Link encap:Point-to-Point Protocol  
>           inet addr:195.64.66.199  P-t-P:195.64.64.1  Mask:255.255.255.0
>           UP POINTOPOINT RUNNING NOARP  MTU:1500  Metric:1
>           RX packets:8 errors:0 dropped:0 overruns:0 frame:0
>           TX packets:8 errors:0 dropped:0 overruns:0 carrier:0
>           Collisions:0 
> Feb 16 22:15:28 derk ipppd[771]: rcvd [0][PAP AuthAck id=0x2msg="\012Your
> IP address: 195.64.66.199\015\012 Our IP address: 
> 195.64.67.129\015\012\012Entering PPP mode\015\012"]
The IP addresses don't match what you set up the ippp0 interface
to.  You should probably use the noipdefault, ipcp-accept-local and
ipcp-accept-remote options to ipppd to make it get the IP
address from the other end instead of assuming it knows.
> Feb 16 22:15:28 derk ipppd[771]: sent [0][IPCP ConfReq id=0x1 <addr
> 195.64.66.199> <compress VJ0f 01>]
> Feb 16 22:15:28 derk ipppd[771]: rcvd [0][IPCP ConfReq id=0x1 <compress VJ
> 0f 00> <addr 195.64.64.1>]
> Feb 16 22:15:28 derk ipppd[771]: sent [0][IPCP ConfAck id=0x1 <compress VJ
> 0f 00> <addr 195.64.64.1>]
> Feb 16 22:15:28 derk ipppd[771]: rcvd [0][IPCP ConfAck id=0x1 <addr
> 195.64.66.199> <compress VJ 0f 01>]
> Feb 16 22:15:34 derk ipppd[771]: sent [0][LCP TermReq id=0x2 6c 69 6e 6b
> 20 63 6c 6f 73 65 64]
Your end is closing the link for some reason.  Perhaps because
no data was recieved, but that seems a little premature.
> Feb 16 22:15:27 derk kernel: isdn_net: ippp0 connected 
> Feb 16 22:15:27 derk kernel: isdn_net:chargetime of ippp0 now 348739 
> Feb 16 22:15:34 derk kernel: isdn_net:local hangup ippp0 
Again, your end is hanging up :-(.
> -- from /var/log/messages --
> 195.64.66.199^M  Our IP address: 195.64.67.129^M  Entering PPP mode^M 
> Feb 16 22:15:28 derk ipppd[771]: MPPP negotiation, He: No We: No
> Feb 16 22:15:28 derk ipppd[771]: ioctl(SIOCGIFADDR): Cannot assign
> requested address
Not sure why that is happening.  Are you running ipppd as root?
-- 
Erik Corry erik@arbat.com           Ceterum censeo, Microsoftem esse delendam!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/