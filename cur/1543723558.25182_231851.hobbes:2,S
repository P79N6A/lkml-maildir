Date: Fri, 2 Jul 2004 19:04:10 +0200
From: Andries Brouwer <>
Subject: Re: [RFC] Restoring HDIO_GETGEO semantics (was: Re: workaround for BIOS / CHS stuff)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/2/131

On Fri, Jul 02, 2004 at 06:17:53PM +0200, Szakacsits Szabolcs wrote:
> Does anybody find the new HDIO_GETGEO semantic useful? Did it help
> _anything_? 
Yes. I do.
There was a steady stream of people reporting on geometry problems.
All these problems were caused by kernel guessing stuff.
If the kernel no longer volunteers a guess, then we no longer have
the situation that the guess can be wrong.
We lived in a world where things got more and more complicated
with programs guessing what values other programs might want
to satisfy a third program.
The new world is getting much simpler. Only the programs that need a value
have to invent it. Many of these can in fact do without. LILO survives
well without geometry information.
The only case I see where absolutely something is needed is the
case of partitioning an empty disk.
Telling the user at that point: "if you have no idea I'll use
H=255 S=63, that is very often correct, but note that if you also
want to use Windows on this disk it might be better to let Windows
partition first; also, enabling CONFIG_EDD might allow me to guess
what the BIOS uses" may be enough.
Andries
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/