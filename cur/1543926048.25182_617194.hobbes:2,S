Date: Tue, 13 Nov 2007 21:23:31 -0800
From: Randy Dunlap <>
Subject: Re: mm snapshot broken-out-2007-11-13-04-14 Build Fails - linking when !CONFIG_NFS_V4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/14/10

On Wed, 14 Nov 2007 01:21:36 +0530 Kamalesh Babulal wrote:
> Hi Andrew,
> 
> The kernel build fails, with the following error
> 
>   LD      init/built-in.o
>   LD      .tmp_vmlinux1
> fs/built-in.o(.text+0x5d632): In function `nfs_free_unlinkdata':
> fs/nfs/unlink.c:32: undefined reference to `nfs_sb_deactive'
> fs/built-in.o(.rodata+0x5c5c): In function `do_execve':
> fs/exec.c:1355: undefined reference to `nfs_put_super'
> make: *** [.tmp_vmlinux1] Error 1
> 
> I suspect nfs-stop-sillyname-renames-and-unmounts-from-racing.patch,
> is causing the problem. The definition of the function is between
> CONFIG_NFS_V4 in fs/nfs/super.c.
> 
> During the compilation # CONFIG_NFS_V4 is not set.
Reported and hopefully fixed.  Patch is here:
http://lkml.org/lkml/2007/11/13/211
---
~Randy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/