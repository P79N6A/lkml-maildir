Date: Tue, 7 Oct 2003 00:08:47 +0200
From: Petr Vandrovec <>
Subject: Re: Another keyboard woes with 2.6.0...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/6/245

On Tue, Sep 16, 2003 at 11:23:18PM +0200, Andries Brouwer wrote:
> 
> I am especially interested in cases where people can reproduce
> an unwanted key repeat. The question is: is this a bug in our timer code
> or use of timers, or did the keyboard never send the key release code?
> 
> (#define DEBUG in i8042.c)
Hi,
  after three weeks running with DEBUG enabled I decided (well, I lost this patch
somewhere while patching my kernel sometime last week) to disable it - and kaboom, I
got (twice, but yesterday I rebooted box hard, as I thought that it is dead)
strange lockup, where box stoped reacting on keyboard. After playing with
mouse's cut&paste I was able to get at dmesg, and after 'setleds -V +num' keyboard
returned back to live.
  And it looks to me like a genuine race. When I was switching from console
with numlock enabled to console with numlock disabled, message below was printed
by kernel, and keyboard stopped working (probably waiting for second byte from
setleds command). I'll now reenable DEBUG in i8042, and problem will hopefully
disappear...
atkbd.c: Unknown key released (translated set 2, code 0x165, data 0xfa, on isa0060/serio0).
								Best regards,
									Petr Vandrovec
									vandrove@vc.cvut.cz
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/