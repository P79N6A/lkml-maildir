Date: Wed, 27 Jul 2005 13:31:44 +1000
From: Grant Coady <>
Subject: Re: Weird USB errors on HD
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/26/358

On Tue, 26 Jul 2005 20:34:10 -0600, Robert Hancock <hancockr@shaw.ca> wrote:
>Karim Yaghmour wrote:
>> That being said, shouldn't there be a way for the kernel to refuse to
>> use this hd if it's not getting enough power. I don't know enough about
>> USB to say, but isn't there something more elegant that could be done in
>> software?
>
>Not really.. It seems like pretty much a matter of the controller saying 
>  it can supply so much power, the drive says it uses so much power, but 
>one of them is lying and the drive ends up tripping the overcurrent.
The drive itself may shutdown until power cycled.  I sorted this issue 
some months ago with a 2.5" 6GB drive in USB enclosure and the fix was 
hardware, adding bypass capacitors to supply peak HDD current.  Software 
cannot fix that.  No dataloss, just apparent lockup from OS point of view.
Drive fails to work on one laptop with a single USB port, but asking for 
700mA from a 500mA USB port is too much, needs external 5V instead.
Grant.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/