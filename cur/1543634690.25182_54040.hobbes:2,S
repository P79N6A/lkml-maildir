Date: Sun, 23 Jun 2002 22:38:38 -0400 (EDT)
From: Frank Davis <>
Subject: [PATCH] 2.5.24 : drivers/net/rcpci45.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/23/88

Hello all,
  This patch (first patch for Documentation/DMA-mapping.txt compliance) 
adds the DMA check for the rcpci45 driver. Please review.
Regards,
Frank
--- drivers/net/rcpci45.c.old	Sun May 26 14:37:33 2002
+++ drivers/net/rcpci45.c	Sun Jun 23 22:24:17 2002
@@ -174,7 +174,11 @@
 	 * assigned to DPA; and finally, the rest will be assigned to the
 	 * the LAN API layer.
 	 */
-
+	if(pci_set_dma_mask(pdev, 0xffffffff))
+	{
+		printk(KERN_WARNING "rcpci45 : No suitable DMA available.\n");
+	}
+	
 	dev = init_etherdev (NULL, sizeof (*pDpa));
 	if (!dev) {
 		printk (KERN_ERR
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/