Date: 8 Feb 1999 16:43:30 +0100
From: (Matthias Urlichs)
Subject: Re: Kernel interface changes (was Re: cdrecord problems on
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/8/75

  David Wragg <dpw@doc.ic.ac.uk> writes:
> -- CONFIG_MODVERSIONS: Each stable-series kernel could come with a
> compatibility library. Binary modules compiled against previous
> kernels would be linked against this library by the end-user, allowing
> them to cleanly insmod into the new kernel.
There's one problem with this idea -- the mangled names depend on too many
internals. If there is a struct A which has a pointer to struct B which has
a pointer to struct C, and some CONFIG_XXX option changes C, then the
mangled name of A (i.e., of any funtion which uses it) will change.
It might be useful to make sure that no CONFIG_* flag changes any data
structure, but people might not like that option either (so you'd need a
CONFIG_* option for it  -- that somehow defeats the purpose of this idea ;-) .
The "compile a thin emulation layer" approach is the only workable
solution, IMHO. Not ideal, but if you want ideal, you know what to do --
release the source!
-- 
Matthias Urlichs  |  noris network GmbH   |   smurf@noris.de  |  ICQ: 20193661
The quote was selected randomly. Really.    |      
http://www.noris.de/~smurf/
-- 
The more heavily a man is supposed to be taxed, the more power he has to
escape being taxed.
                                        -- Diogenes
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/