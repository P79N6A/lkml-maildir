Date: Sun, 17 Sep 2000 09:59:30 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: SCSI scanning
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/17/63

On Sun, 17 Sep 2000, Torben Mathiasen wrote:
> 
> The proper way of fixing this is to add #ifdef MODULE around the init
> functions or going back to init/exit_module. 
Please explain why it does it twice for compiled-in, and only once for
modules. There must be some other logic that does the extra
initializations (and that does not trigger for modules), and I'd much
rather just get rid of THAT thing instead.
I don't like it that modules behave differently from built-in. You're
suggesting I make them even _more_ different, so that the end result would
be similar. I'd like to know why we cannot just make them the exact same
logic, and not break it more.
Basically, there has to be some other place that does the equivalent of
	if (!module) init_subsystems();
and I don't see why we can't just remove that one and make modules and
compiled-in behave the same.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/