Date: Sun, 13 Feb 2000 06:33:17 +0100
From: Jakub Jelinek <>
Subject: Re: 2.3.43 alpha broken with >2g of ram
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/13/7

> > "all devices converted" is not even _close_ to true.  You'll end up with
> > horrible configuration problems, where people don't even realize that one
> > of the drivers (or perhaps a module) isn't necessarily safe.
> 
> If the kernel compiles without virt_to_bus, it's safe.  Which
> could be implied by the config option that enables >2GB.
Exactly. That's what I was trying to suggest and what we use on sparc64
(where it is unconditional and defined to
virt_to_bus_not_defined_use_pci_map).
So, if there is a CONFIG_2GB option which disables virt_to_bus/bus_to_virt,
then highmem/Alpha is not necessary, but of course if Andrea feels like
people will use high end boxes with all kinds of crappy cards (bttv, usb and
the like will be converted in time hopefully), then highmem is an option as
well (but again clearly surrounded by CONFIG_HIGHMEM so people can choose
not to select it when they don't need it).
Cheers,
    Jakub
___________________________________________________________________
Jakub Jelinek | jakub@redhat.com | 
http://sunsite.mff.cuni.cz/~jj
Linux version 2.3.44 on a sparc64 machine (1343.49 BogoMips)
___________________________________________________________________
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/