Date: Thu, 14 Oct 1999 09:49:15 +0100
From: "Jones D (ISaCS)" <>
Subject: FW: pIII Serial (or lack there-of)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/14/17

> Well, I don't see how this would help; after the serial is 
> disabled via MSR 0x119 magic, it can't be re-enabled until you reboot..  
I say remove the code which is disabling it.
The kernel should not set the policy.
If a user wants to disable it, they should use a userspace tool
to interface the MSR. (But an MSR driver is needed first)
> Ploping the data to a file in /proc owned by root with 0400 
> perms would probably be the best thing if it needs to be
> accessed  (someone _has_ to have a use for it), but it has
> to be read and saved before it's disabled..
Yes, of course writing the MSRs should be a root-only thing.
> As a side note, most bioses allow it to be disabled at boot 
> time (mine included), and I would rather linux left the bit
> twiddling to me.. but I guess I can just go comment out the
> relevant lines :)
My point exactly.
> Also, reading MSRs works fine (as a normal user) with the rdmsr
> instruction; I haven't tried writing them though (I would 
> hope that isn't allowed in userland)
You shouldn't be able to read them either, as AFAIR, it's a ring 0
instruction. You should segfault immediately.
regards,
Dave.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/