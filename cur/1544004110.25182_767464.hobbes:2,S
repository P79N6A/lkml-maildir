Date: Tue, 11 Nov 2008 11:41:12 +0100
From: Ingo Molnar <>
Subject: Re: [PATCH 1/2] x86: Fixing improper annotation.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/11/11/106

* Rufus & Azrael <rufus-azrael@numericable.fr> wrote:
> Ingo Molnar wrote:
>> * Rufus&  Azrael<rufus-azrael@numericable.fr>  wrote:
>>
>> 
>>> Hi Rakib,
>>>
>>>
>>> Your two patches set for x86 init_thread_xsate function section
>>> mismatch is correct to fix the compilation warning, but generates
>>> this other one :
>>>
>>> 
>>>> WARNING: vmlinux.o(.cpuinit.text+0x7de): Section mismatch in reference
>>>> from the function xsave_cntxt_init() to the function
>>>> .init.text:__alloc_bootmem()
>>>> The function __cpuinit xsave_cntxt_init() references
>>>> a function __init __alloc_bootmem().
>>>> If __alloc_bootmem is only used by xsave_cntxt_init then
>>>> annotate __alloc_bootmem with a matching annotation.
>>>> 
>>
>> that's with both 1/2 and 2/2 applied?
>>
>> 	Ingo
>>
>> 
> Yes Ingo with the two patches applied.
okay - so i wont apply them until the full scope of the problems here 
is mapped. We might be best off by marking xsave_cntxt_init() non-init 
altogether for the time being?
	Ingo