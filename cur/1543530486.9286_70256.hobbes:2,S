Date: Fri, 17 Mar 2000 17:09:51 -0800
From: Jean Tourrilhes <>
Subject: My computer doesn't like 2.3.X
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/18/42

	Hi everybody...
	<Note : I'm not suscribed to the mailing list>
	My trusty P90 (54MB, CMD640) is not very happy with the latest
2.3.X kernels (2.3.40 -> 2.3.99-pre1). The following bugs have been
verified with kernel 2.3.99-pre1 just a few minute ago...
	First of all, the hp100 driver complains :
---------------------------
Mar 17 04:47:14 lagaffe kernel: Warning: kfree_skb on hard IRQ c4017647
Mar 17 04:47:17 lagaffe last message repeated 4 times
---------------------------
	Then, the Pcmcia module i82365.o lock the computer hard when
loaded at startup (sorry, no log).
	When I disable both Pcmcia and the hp100 driver, I still have
the following crash, which occur for example when I try to untar,
patch or compile a kernel (none of these actions can never complete
without a crash).
	After the crash, most things don't work, but I can usually
reboot the system. Sometime, I can manage to capture some log of the
crash :
---------------------------------------------------------------------
Mar 17 04:35:52 lagaffe kernel: stack segment: 0000 Mar 17 04:35:52
lagaffe kernel: CPU: 0 Mar 17 04:35:52 lagaffe kernel: EIP:
0010:[kmem_cache_grow+635/884] Mar 17 04:35:52 lagaffe kernel: EFLAGS:
00010286 Mar 17 04:35:52 lagaffe kernel: eax: 00000073 ebx: c00ea0f8
ecx: c10ff9e0 edx: c10ff9e0 Mar 17 04:35:52 lagaffe kernel: esi:
c00eaf80 edi: 0000001d ebp: ffffffff esp: c2659e1c Mar 17 04:35:52
lagaffe kernel: ds: 0018 es: 0018 ss: 0018 Mar 17 04:35:52 lagaffe
kernel: Process tar (pid: 215, stackpage=c2659000) Mar 17 04:35:52
lagaffe kernel: Stack: c10ff9e8 c10ff9e0 00000282 00000003 c00ea000
c10ff9e8 00000000 00000202 Mar 17 04:35:52 lagaffe kernel: 00000001
00000000 c01257a9 c10ff9e0 00000003 c105e418 00000c00 00000000 Mar 17
04:35:52 lagaffe kernel: 00000400 c012c1fd c10ff9e0 00000003 c105e418
00000c00 00000000 c012c2fc Mar 17 04:35:52 lagaffe kernel: Call Trace:
[kmem_cache_alloc+205/288] [get_unused_buffer_head+57/184]
[create_buffers+32/784] [create_empty_buffers+24/108]
[__block_prepare_write+84/536] [balance_dirty+13/32]
[block_prepare_write+34/60] Mar 17 04:35:52 lagaffe kernel:
[ext2_get_block+0/1180] [ext2_prepare_write+25/32]
[ext2_get_block+0/1180] [generic_file_write+819/1224]
[sys_write+192/224] [system_call+52/56] Mar 17 04:35:52 lagaffe
kernel: Code: 89 45 00 8b 6d 00 83 ef 01 73 c2 c7 45 00 00 00 00 00 fa
c7
---------------------------------------------------------------------
	My config looks like this :
----------------------------------
CONFIG_X86=y
CONFIG_ISA=y
CONFIG_UID16=y
CONFIG_EXPERIMENTAL=y
CONFIG_M586TSC=y
CONFIG_X86_WP_WORKS_OK=y
CONFIG_X86_INVLPG=y
CONFIG_X86_BSWAP=y
CONFIG_X86_POPAD_OK=y
CONFIG_X86_TSC=y
CONFIG_NOHIGHMEM=y
CONFIG_MODULES=y
CONFIG_KMOD=y
CONFIG_NET=y
CONFIG_PCI=y
CONFIG_PCI_GOANY=y
CONFIG_PCI_BIOS=y
CONFIG_PCI_DIRECT=y
CONFIG_PCI_NAMES=y
CONFIG_HOTPLUG=y
CONFIG_SYSVIPC=y
CONFIG_SYSCTL=y
CONFIG_KCORE_ELF=y
CONFIG_BINFMT_ELF=y
CONFIG_BINFMT_MISC=m
CONFIG_PM=y
# CONFIG_ACPI is not set
# CONFIG_APM is not set
...
CONFIG_BLK_DEV_CMD640=y
CONFIG_BLK_DEV_CMD640_ENHANCED=y
----------------------------------
	The same config work beautifully with 2.2.X.
	Alan : I'm sorry to get your todo list longer than it need ;-(
	Regards,
	Jean
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/