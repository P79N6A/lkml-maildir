Date: Mon, 16 Jan 2006 21:52:45 +0100
From: Roberto Nibali <>
Subject: Re: bad pmd filemap.c, oops; 2.4.30 and 2.4.32
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/16/250

>>> The machine was /not/ booted into that config.  It is running the 
>>> original config from 
>>> 
http://hashbrown.cts.ucla.edu/pub/oops-200512/config-2.4.32
 with 
>>> DEBUG_SLAB defined and "pci=noacpi" passed in on the command line.
>>>
>>> The config with HIGHIO disabled an ACPI=y has not been tested.
CONFIG_SMP at least sets CONFIG_ACPI_BOOT. Do you still have the boot 
messages somewhere (dmesg)? I'd be interested in the difference between 
IOAPIC PCI routing entries between pci=noacpi and normal boot.
>> Thanks for the precision. So logically we should expect it to break 
>> sooner or later ?
> 
> It is the same .config as one that crashed before, except that it has 
> DEBUG_SLAB defined.  If it does not crash, then adding pci=noacpi to the 
> command fixes the problem for me.
Hmm, I'm not fully convinced yet, however glad that it has been a bit 
more stable for you.
Sidenote: We boot our systems having built-in AIC7* SCSI on moderately 
cheap motherboards with "bad" interrupt routing using pci=noacpi on 
2.4.x kernels to evade instability.
I suggest that if you experience more problems using this setup _and_ 
would like to continue debugging the issue, we take this off-list into a 
private discussion.
[Another thing which would be interesting to test regarding the HIGHIO 
setting is a RedHat based 2.4.x kernel, since according to some SCSI 
driver's documentation, RedHat had a different HIGHIO convention.]
Thanks for your feedback,
Roberto Nibali, ratz
-- 
echo 
'[q]sa[ln0=aln256%Pln256/snlbx]sb3135071790101768542287578439snlbxq' | dc
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/