Date: Sun, 29 May 2005 00:25:10 -0400
From: Kyle Moffett <>
Subject: Re: [PATCH] DRM depends on ???
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/29/10

On May 28, 2005, at 17:50:05, Dave Jones wrote:
> On Sat, May 28, 2005 at 11:39:00PM +0200, Geert Uytterhoeven wrote:
>>  config DRM
>>      tristate "Direct Rendering Manager (XFree86 4.1.0 and higher  
>> DRI support)"
>> -    depends on AGP || AGP=n
>> +    depends on (AGP || AGP=n) && PCI
>>
>
> The whole dependancy seems like nonsense to me.
> I think
>
>     depends on PCI
>
> is a lot more sensible.
I think the original reasoning was something like this:
If DRM is built-in, then AGP _must_ be built-in or not included at  
all, modular
won't work.  If DRM is modular or not built, then AGP may be built- 
in, modular,
or not built at all.
The "depends on AGP || AGP=n" means that if DRM=y, then AGP=y or  
AGP=n, and if
DRM=m or DRM=n, then AGP=y or AGP=m or AGP=n.
Yes it's unclear and yes it should probably be documented in a  
comment somewhere.
Cheers,
Kyle Moffett
-----BEGIN GEEK CODE BLOCK-----
Version: 3.12
GCM/CS/IT/U d- s++: a18 C++++>$ UB/L/X/*++++(+)>$ P+++(++++)>$
L++++(+++) E W++(+) N+++(++) o? K? w--- O? M++ V? PS+() PE+(-) Y+
PGP+++ t+(+++) 5 X R? tv-(--) b++++(++) DI+ D+ G e->++++$ h!*()>++$  
r  !y?(-)
------END GEEK CODE BLOCK------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/