Date: Sat, 23 Nov 2002 11:19:48 +0100
From: Martin Loschwitz <>
Subject: [PATCH] 2.5.49: make bttv compiling again
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/23/13

Hi all, 
in order to make bttv compiling in 2.5.49, the following patch was necessary
for me.
### BEGIN PATCH ###
diff -ruN linux-2.5.49-old/drivers/media/video/audiochip.h linux-2.5.49/drivers/media/video/audiochip.h
--- linux-2.5.49-old/drivers/media/video/audiochip.h	2002-11-22 22:40:23.000000000 +0100
+++ linux-2.5.49/drivers/media/video/audiochip.h	2002-11-23 10:24:19.000000000 +0100
@@ -67,4 +67,7 @@
 #define AUDC_SWITCH_MUTE      _IO('m',16)      /* turn on mute */
 #endif
 
+/* misc stuff to pass around config info to i2c chips */
+#define AUDC_CONFIG_PINNACLE  _IOW('m',32,int)
+
 #endif /* AUDIOCHIP_H */
diff -ruN linux-2.5.49-old/drivers/media/video/bttv-cards.c linux-2.5.49/drivers/media/video/bttv-cards.c
--- linux-2.5.49-old/drivers/media/video/bttv-cards.c	2002-11-22 22:40:42.000000000 +0100
+++ linux-2.5.49/drivers/media/video/bttv-cards.c	2002-11-23 10:24:38.000000000 +0100
@@ -2990,7 +2990,7 @@
 
 	/* print which chipset we have */
 	while ((dev = pci_find_class(PCI_CLASS_BRIDGE_HOST << 8,dev)))
-		printk(KERN_INFO "bttv: Host bridge is %s\n",dev->name);
+		printk(KERN_INFO "bttv: Host bridge is %s\n",dev->dev.name);
 
 	/* print warnings about any quirks found */
 	if (triton1)
### END PATCH ###
-- 
  .''`.   Name: Martin Loschwitz
 : :'  :  E-Mail: madkiss@madkiss.org
 `. `'`   www: 
http://www.madkiss.org/
 
   `-     Use Debian GNU/Linux - 
http://www.debian.org
    
[unhandled content-type:application/pgp-signature]