Date: Mon, 18 Mar 2002 23:38:27 +0100
From: Pavel Machek <>
Subject: Re: VFS mediator?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/18/202

Hi!
>     >> * NFS (v2,v3): Portable.  And that's the only good thing to say
>     >> about it - it's stateless, it has messy semantics all over the
>     >> place and implementing userland server requires a lot of glue.
> 
>      > Does not work... If you mount nfs server on localhost, you can
>      > deadlock.
> 
> Huh? Examples please? A hell of a lot of work has gone into ensuring
> that this cannot happen. I do most of my NFS client work on this sort
> of setup, so it had bloody well better work...
Okay, take userland nfs-server. (This thread was about userland
filesystems).
Then, make memory full of dirty pages. Imagine that nfs-server is
swapped-out by some bad luck. What you have is extremely nasty
deadlock, AFAICS. [To free memory you have to write out dirty data,
but you can't do that because you don't have enough memory for
nfs-server].
								Pavel
-- 
Casualities in World Trade Center: ~3k dead inside the building,
cryptography in U.S.A. and free speech in Czech Republic.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/