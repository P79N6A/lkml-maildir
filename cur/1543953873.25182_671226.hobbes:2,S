Date: Tue, 25 Mar 2008 11:58:40 +0200
From: "Felipe Balbi" <>
Subject: Re: [PATCH 01/18] MMC: OMAP: Remove some opcodes from host driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/25/59

On Fri, Mar 14, 2008 at 9:36 PM, Carlos Aguiar
<carlos.aguiar@indt.org.br> wrote:
> From: Carlos Eduardo Aguiar <carlos.aguiar@indt.org.br>
>
>  This patch removes some opcodes from host driver so there's no need on putting
>  '#include <linux/mmc/mmc.h>', that should not be needed in host drivers.
>
You should update this patch and remove the '#include
<linux/mmc/mmc.h>' from omap.c
>  Signed-off-by: Carlos Eduardo Aguiar <carlos.aguiar@indt.org.br>
>  ---
>   drivers/mmc/host/omap.c |   11 +++--------
>   1 files changed, 3 insertions(+), 8 deletions(-)
>
>  diff --git a/drivers/mmc/host/omap.c b/drivers/mmc/host/omap.c
>  index c9dfeb1..eb7175a 100644
>  --- a/drivers/mmc/host/omap.c
>  +++ b/drivers/mmc/host/omap.c
>  @@ -495,15 +495,10 @@ static irqreturn_t mmc_omap_irq(int irq, void *dev_id)
>                 if (status & OMAP_MMC_STAT_CMD_TOUT) {
>                         /* Timeouts are routine with some commands */
>                         if (host->cmd) {
>  -                               if (host->cmd->opcode != MMC_ALL_SEND_CID &&
>  -                                               host->cmd->opcode !=
>  -                                               MMC_SEND_OP_COND &&
>  -                                               host->cmd->opcode !=
>  -                                               MMC_APP_CMD &&
>  -                                               !mmc_omap_cover_is_open(host))
>  +                               if (!mmc_omap_cover_is_open(host))
>                                         dev_err(mmc_dev(host->mmc),
>  -                                               "command timeout, CMD %d\n",
>  -                                               host->cmd->opcode);
>  +                                       "command timeout, CMD %d\n",
>  +                                       host->cmd->opcode);
>                                 host->cmd->error = -ETIMEDOUT;
>                                 end_command = 1;
>                         }
>  -- 1.5.3.GIT
>
>  --
>  To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
>  the body of a message to majordomo@vger.kernel.org
>  More majordomo info at  
http://vger.kernel.org/majordomo-info.html
>  Please read the FAQ at  
http://www.tux.org/lkml/
>
-- 
Best Regards,
Felipe Balbi
felipebalbi@users.sourceforge.net