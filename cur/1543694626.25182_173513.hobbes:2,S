Date: Sat, 18 Oct 2003 22:25:03 +0200
From: "Howard The Duck" <>
Subject: "Disabling IRQ #18" when mounting cdrom with SATA on 2.6.0beta7/8?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/18/125

Hi
I had troubles with the 2.6 series using devfs and my SATA drive, i got the "Disabling 
irq #18" message on boot. I removed devfs support and the machine worked flawless, 
until i mounted a cdrom. I very seldom need to access cdroms or dvds that's why i 
never saw this happening within the last few month of kernel installing (starting with 
2.5.74 in June because 2.4.21 and 2.4.22 wouldn't boot at all).
When i do not mount cdroms or enable devfs support in the kernel the system is 
running very stable and fast. My troubles with devfs are described here 
http://www.ussg.iu.edu/hypermail/linux/kernel/0310.1/0874.html
My current setup has no devfs support, but i get the  "Disabling IRQ #18" message 
right after the moment i mounted a cdrom/dvd with my dvd-drive or a cdrom with the 
cd-writer. Accessing the PATA harddrives seems to have no negative effect, although i 
can only test them by reading data because they are NTFS partitions and mounted 
read-only. Even when i unmount the CDrom the "Disabling IRQ #18" message keeps 
on appearing. It slows down my system to unusable speed (e.g.: it takes approx 4 
minutes to shut the system down).
I think the devfs thingy triggers the "Disabling IRQ #18" problem when it tests for 
"existing" optical media drives on boot. I think so because the same message appears 
when i access cdroms manually.
I have no access to a second system with SATA support to verify or reproduce that 
behaviour, can anybody else do that on another machine? Also i'd be interested in how 
this problem could be tracked down to its root. I reproduced that with 2.6.0beta7 and 
beta8, the only kernels currently left on my machine ;)
thanks in advance for any hints
 HTD
p.s.: i'm not subscribed to lkml, please send me a CC when answering.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/