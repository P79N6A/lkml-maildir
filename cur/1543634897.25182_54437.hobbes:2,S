Date: Thu, 04 Jul 2002 00:29:29 +0400
From: "John Shriver" <>
Subject: 2.4.19-rc1 still has one issue with Intel D845GBV motherboard
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/3/20

Most of the patches necessary to get the IDE controller in the ICH4 (82801DB) on the Intel D845GBV motherboard are already in 2.4.19-rc1.  (These are the issues in the mail thread  "Anthony Spinillo" <tspinillo@linuxmail.org> started on June 1, 2002.)
However, the patch to pci-pc.c that JeffN sent him is still needed, as the BIOS on the board (both patches P02 and P04) doesn't allocate any I/O space for the first four BAR's in the IDE device.
So this is confirmation that such a patch is needed, and that JeffN's patch works.  I suspect it's generic to all Intel BIOSes that are setting up the ICH4.
I've attached a fresh version of the patch based on the 2.4.19-rc1 baseline.
--- linux/arch/i386/kernel/pci-pc.c.orig	2002-07-03 15:48:46.000000000 -0400
+++ linux/arch/i386/kernel/pci-pc.c	2002-07-03 15:50:19.000000000 -0400
@@ -1250,6 +1250,7 @@
 	{ PCI_FIXUP_HEADER,	PCI_VENDOR_ID_INTEL,	PCI_DEVICE_ID_INTEL_82454GX,	pci_fixup_i450gx },
 	{ PCI_FIXUP_HEADER,	PCI_VENDOR_ID_UMC,	PCI_DEVICE_ID_UMC_UM8886BF,	pci_fixup_umc_ide },
 	{ PCI_FIXUP_HEADER,	PCI_VENDOR_ID_SI,	PCI_DEVICE_ID_SI_5513,		pci_fixup_ide_trash },
+	{ PCI_FIXUP_HEADER,	PCI_VENDOR_ID_INTEL,	PCI_DEVICE_ID_INTEL_82801DB_11,	pci_fixup_ide_trash },
 	{ PCI_FIXUP_HEADER,	PCI_ANY_ID,		PCI_ANY_ID,			pci_fixup_ide_bases },
 	{ PCI_FIXUP_HEADER,	PCI_VENDOR_ID_SI,	PCI_DEVICE_ID_SI_5597,		pci_fixup_latency },
 	{ PCI_FIXUP_HEADER,	PCI_VENDOR_ID_SI,	PCI_DEVICE_ID_SI_5598,		pci_fixup_latency },
-- 
Get your free email from www.linuxmail.org 
Powered by Outblaze
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/