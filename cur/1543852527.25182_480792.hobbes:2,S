Date: Thu, 9 Nov 2006 13:59:55 +0000
From: Ralf Baechle <>
Subject: Re: Why is there limited number of permanent memory mappings in kernel on x86?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/9/80

On Thu, Nov 09, 2006 at 05:34:30PM +0800, gniuxiao wrote:
> So we have to use kmap() to map high memory to kernel address???
Several reasons:
 o on i386 kernel address space is limited to just 1GB of which most that
   is on the order of 970MB is used for mapping lowmem.  The remainder is
   used for ioremap'ed memory, vmalloc'ed memory, highmem mappings and
   fixmap mappings, so there really on is very little address space.
 o highmem mappings are assumed to be very shortlived so at any time there
   will only be a small number of mappings active.
 o The algorithm to allocate a virtual address for a non-atomic kmap is
   somewhat simpleminded with O(n) worst case where n is the max. number
   of mappable pages and will be the slower the more pages are actually
   mapped.
  Ralf
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/