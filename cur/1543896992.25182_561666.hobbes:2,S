Date: Sun, 24 Jun 2007 13:15:21 +0200
From: Michal Januszewski <>
Subject: Re: [PATCH 3/4] fbdev: uvesafb driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/24/21

On Sat, Jun 23, 2007 at 04:36:39PM -0700, Andrew Morton wrote:
> On Sun, 24 Jun 2007 01:20:33 +0200 Michal Januszewski <spock@gentoo.org> wrote:
> 
> > > > +config FB_UVESA
> > > > +	tristate "Userspace VESA VGA graphics support"
> > > > +	depends on FB && CONNECTOR
> > > 
> > > These dependencies are insufficient.
> > 
> > What exactly is missing here?  A dep on X86?
> 
> Yes.  From your other comments it appears that a dependency on X86_32 is
> needed.
X86_32 is only needed for a bunch of specific operations that make use of
the PMI.  The driver can work without those (it has already been tested
on X86_64, where PMI cannot be used).
> >  This would indicate the
> > arches on which the driver has actually been tested.  But which arches
> > are supported and which aren't is, in the end, up to the userspace helper.
> 
> The other architectures won't compile: they don't have mtrr.h
That was my mistake of not putting the mtrr.h include inside a #ifdef
CONFIG_MTRR.  After fixing that and a few other things you pointed out
in your previous message, I was able to successfully compile uvesafb for
PPC (using a cross-compiler).
Best regards,
Michal
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/