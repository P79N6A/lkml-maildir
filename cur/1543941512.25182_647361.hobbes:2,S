Date: Sat, 02 Feb 2008 03:49:01 -0800
From: Jeremy Fitzhardinge <>
Subject: Re: [PATCH 6 of 7] x86: move pud/pgd functions into common	asm/pgalloc.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/2/88

Ingo Molnar wrote:
> yes but the early hang is very real so either my hardware is stubbornly 
> ignoring that your patch is pure code movement (in which case i'll have 
> to have a word or two with my hardware), or your patch is perhaps wrong 
> somewhere ;-)
> 
I see what it is.  set_pud on 32-bit needs only _PAGE_PRESENT, but for 
64-bit it needs _PAGE_TABLE.
> generally you can protect yourself against full reverts by separating 
> the NOP changes from the non-NOP changes. If a change is small enough i 
> might spot the bug immediately and fix it - otherwise i have to undo 
> your whole series to keep the x86.git ball rolling. I thought we went 
> through this excercise a few times already :-/ ...
> 
This one was supposed to be pure motion, but my eyeball diff failed me.
    J