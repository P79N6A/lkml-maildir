Date: Thu, 24 Oct 2002 12:36:21 +0530 (IST)
From: "T.L.Madhu" <>
Subject: Unexpected behaviour with create_module
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/24/21

Hi All,
create_module() system calls gives segmentation fault with 
size (second) argument set to huge value. This behaviour is 
seen only in 2.4.* series kernel but the same call in 2.5.*
series (tested with 2.5.43 kernel) fails as EXPECTED with 
errno set to ENOMEM.
Check this programme,
----------------------------------------------------------
#include <linux/module.h>
#include <errno.h>
        
main()
{
	printf("Return values for too big module size %d ",
		create_module("dummy", 99999999));
	printf("errno %d\n", errno);
}
----------------------------------------------------------
Is this a known bug? wondering why this bug is not fixed in
2.4.* series?
Please let me know.
Thanks,
Madhu
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/