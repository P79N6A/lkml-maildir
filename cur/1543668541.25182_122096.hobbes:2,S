Date: Wed, 2 Apr 2003 20:50:03 +0200
From: Fendrakyn <>
Subject: [BUG] E7x05 chipset bug in 2.5 kernels' AGPGART driver.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/2/127

Hello,
I noticed there is a bug in E7x05 (Granite Bay) chipset support of the AGPGART 
driver that does not seem to have been submitted yet.
There is a mistake in the Makefile of drivers/char/agp, the line concerning 
i7x05-agp support does not match the one in the Kconfig, thus e7x05 support 
is never compiled, be it as a module or in the kernel.
There are mistakes in the i7x05-agp source code. A few missings ";" and some 
undeclared functions prevent the module from properly compiling. Those 
mistakes are easily fixed though.
The last problem is more important and I have yet to find a solution. It seems 
like the driver stores device 0 in his agp_bridge->dev (0x255d for E7205, 
0x2550 for E7505) but it uses registers from device 1 (0x2552) thus the 
chipset cannot be configured properly. The fetch_size function fails to 
determine aperture size.
Sorry if this is redundant and is already being looked at.
Gareth C.
P.S : include answers in C.C if you may, pretty please.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/