Date: Sun, 12 Dec 1999 21:10:22 +0100 (MET)
From: Egbert Eich <>
Subject: Re: Calling VESA BIOS routines from kernel?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/12/88

Adam J. Richter writes:
 > 	I am contemplating the idea of implementing support in the
 > kernel for calling the VESA video BIOS routines for reading DDC
 > timing information from the monitor (to improve autoconfiguration of
 > the X window system and svgalib).  I see that the kernel APM support
 > appears to do something like this, but my naive attempt to do something
 > similar with the DDC calls resulted in a kernel panic.
Speaking for XFree86 we already read out DDC and I'm working on
the autoconfiguration stuff for 4.x (x==0?). Therefore it won't
do the X window system any good. Besides that I don't know if
the kernel really needs to do everything that can be done on an
application level.
To read out DDC thru VBE you need to call the real mode int 0x10 stuff.
The APM support uses a 32bit entry point into the bios. However
you can run real mode bios stuff from user space. That's what my
softbooter does. Maybe you want to take a look at the lrmi-package.
There you already have a library which prepares everything for a
int10 bios call.
 > 
 > 	So, I am wondering: are the APM calls special in that they
 > can still work even though the kernel has already thoroughly messed
 > with the hardware, put the process into 32-bit protected mode, and
 > so on, or are all VESA BIOS extensions generally supposed to support
 > being called from a 32-bit protected mode operating system (i.e., is there
No, at least not in VBE 2.0.
 > hope for this approach, or do I have to try to hack the boot loader)?
Good havens!
Regards,
Egbert.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/