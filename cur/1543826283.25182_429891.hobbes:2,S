Date: Sun, 04 Jun 2006 16:56:46 -0400
From: 	Valdis.Kletnieks@vt ...
Subject: Re: 2.6.17-rc5-mm3: bad unlock ordering (reiser4?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/4/120

On Sun, 04 Jun 2006 13:33:26 PDT, Andrew Morton said:
> Why does the locking validator complain about unlocking ordering?
Presumably, if the lock nesting *should* be "take A, take B, release B,
release A", if it sees "Take A, Take B, release A" it means there's
potentially a missing 'release B' that got forgotten (most likely an
error case that does a 'return;' instead of a 'goto end_of_function_cleanup'
like we usually code.
Having said that, I'm not sure it qualifies as a "BUG".  Certainly would
qualify for a "SMELLS_FISHY" though.  But we don't have one of those handy,
so maybe BUG is as good as it gets (given that the person who built the
kernel *asked* to be nagged about locking funkyness)....
[unhandled content-type:application/pgp-signature]