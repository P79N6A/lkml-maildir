Date: Sun, 07 Jan 2001 11:28:41 +1100
From: Keith Owens <>
Subject: Re: 2.4.0 Module compile error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/6/136

On Sat, 06 Jan 2001 10:51:53 -0600, 
George R. Kasica <georgek@netwrx1.com> wrote:
>Keith Owens wrote
>>You have a broken modules.conf that tells depmod to scan _all_ of
>>/lib/modules or you have an old version of modules or you have some
>>weird symlinks in /lib/modules.  It looks like you have some dangling
>>symlinks, although I cannot be certain about that.
>
>Here it is....what do I need to fix on it:
>>path[usb]=/lib/modules/`uname -r`/`uname -v`
>>path[usb]=/lib/modules/`uname -r`
>>path[usb]=/lib/modules/
>>path[usb]=/lib/modules/default
path[usb]=/lib/modules/ is the real killer, you scan all of
/lib/modules and pick up modules for every kernel.  Modutils 2.4 scans
all of /lib/modules/`uname -r` and its subdirectories by default.  You
do not need any path statements unless you have modules that are not
stored in the default path or its subdirectories.  IOW, remove all path
statements unless you are doing something really unusual.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/