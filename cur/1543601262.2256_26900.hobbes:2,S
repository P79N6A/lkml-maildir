Date: Mon, 17 Sep 2001 12:56:32 +1000
From: Keith Owens <>
Subject: Re: Linux-2.4.10-pre10
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/16/77

On Sun, 16 Sep 2001 19:17:05 -0700, 
Tom Rini <trini@kernel.crashing.org> wrote:
>I just posted this to the maintainer and linux-scsi, but is there any
>reason not do do this with either a CONFIG option or
>#ifdef CONFIG_SCSI_DRIVER_OR_ARCH_DOES_MEM_MAP
>#define MEM_MAPPED
>#endif
>
>53c700-mem.c is 53c700.c + a warning about being autogenerated + 
>#define MEM_MAPPED
Kernel build works best if the source and object have the same name.
Generating two objects with different names from the same source is
awkward, it is even worse for kbuild 2.5.  The obvious solution of
53c700-mem.c:
#define MEM_MAPPED
#include "53c700.c"
does not work correctly with current kbuild due to mkdep restrictions.
It does work with kbuild 2.5 and is exactly what I have done.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/