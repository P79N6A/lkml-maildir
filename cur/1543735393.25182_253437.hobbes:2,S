Date: Fri, 17 Sep 2004 18:32:22 +0300
From: Oleg Drokin <>
Subject: Re: Strange reiserfs 3.6 msg warning.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/17/189

"Panos Polychronis" <maxsoft@linuxmail.org> wrote:
PP> hello i'm running 2.6.8.1-ck7 (reiserfs 3.6) and i got this message
PP> Sep 17 00:53:26 phobos kernel: ReiserFS: hda1: warning: vs-8115: get_num_ver: not directory item
PP> can anyone explain me what is this and if is something dangerous ?
This is totally harmless, you can silence the warning with below patch
(somehow it was lost on its way to Linus, it seems).
Bye,
    Oleg
===== fs/reiserfs/fix_node.c 1.35 vs edited =====
--- 1.35/fs/reiserfs/fix_node.c	2004-05-10 14:25:42 +03:00
+++ edited/fs/reiserfs/fix_node.c	2004-06-22 20:11:26 +03:00
@@ -510,9 +510,10 @@
 	// s2bytes
 	snum012[4] = op_unit_num (&vn->vn_vi[split_item_num]) - snum012[4] - bytes_to_r - bytes_to_l - bytes_to_S1new;
 
-	if (vn->vn_vi[split_item_num].vi_index != TYPE_DIRENTRY)
+	if (vn->vn_vi[split_item_num].vi_index != TYPE_DIRENTRY &&
+	    vn->vn_vi[split_item_num].vi_index != TYPE_INDIRECT)
 	    reiserfs_warning (tb->tb_sb, "vs-8115: get_num_ver: not "
-			      "directory item");
+			      "directory or indirect item");
     }
 
     /* now we know S2bytes, calculate S1bytes */
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/