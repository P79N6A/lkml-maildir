Date: Tue, 22 Nov 2005 18:16:06 -0800 (PST)
From: "David S. Miller" <>
Subject: Re: Linux 2.6.15-rc2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/22/387

From: Andi Kleen <ak@muc.de>
Date: 23 Nov 2005 02:32:44 +0100,Wed, 23 Nov 2005 02:32:44 +0100
> On Tue, Nov 22, 2005 at 05:05:07PM -0800, Andrew Morton wrote:
> > davem recently merged a patch which adds ext3 ioctls to fs/compat_ioctl.c. 
> > That required inclusion of ext3 and jbd header files.  Those files explode
> > unpleasantly when CONFIG_JBD=n.
> 
> Or use ->compat_ioctl and do it in fs/ext3
And reiserfs and ...  that's why I didn't do it using ->compat_ioctl(),
several other filesystems make use of some of the ext{2,3} ioctls.
I think the ifdef's are a possible solution for now.  But it's very
silly, as we just want some of the ioctl and type definitions.
Perhaps ext3_fs.h can be arranged to still export the ioctl types even
when CONFIG_JBD is disabled?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/