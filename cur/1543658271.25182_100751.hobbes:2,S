Date: Mon, 6 Jan 2003 14:41:04 -0800
From: Richard Henderson <>
Subject: Re: Userspace Test Framework for module loader porting
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/6/210

On Mon, Jan 06, 2003 at 11:38:20AM -0800, David Mosberger wrote:
> What about all the problems that Richard Henderson pointed out with
> the original in-kernel module loader?  Were those solved?
Yes.  The most important one for correctness was
ChangeSet@1.838.130.13, 2003-01-01 19:02:38-08:00, rusty@rustcorp.com.au
  [PATCH] Modules 3/3: Sort sections
  RTH's final complaint (so far 8) was that we should sort the module
  sections: archs might require some sections to be adjacent, so they can
  all be reached by a relative pointer (ie.  GOT pointer).  This
  implements that reordering, and simplfies the module interface for
  architectures as well.
  Previously an arch could specify it wanted extra space, but not where
  that space would be.  The new method (used only by PPC so far) is to
  allocate an empty section (in asm/module.h or by setting LDFLAGS_MODULE
  to use an arch specific linker script), and expand that to the desired
  size in "module_frob_arch_sections()".
> My gut feeling is that we really want shared objects for kernel
> modules on ia64 (and probably alpha?).
Well, most everyone wants it.  Except that MIPS is terminally
broken.  They need a rewrite of bfd/elfxx-mips.c in order to
be able to do non-pic ET_DYN images.  Which leaves the rest of
us out in the cold.
r~
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/