Date: Tue, 14 Jun 2005 07:49:48 +0200
From: Jens Axboe <>
Subject: Re: [PATCH] [2/2] IDE CD more STANDARD_ATAPI ifdef
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/14/9

On Tue, Jun 14 2005, Eric Piel wrote:
> Hello,
> 
> This little patch adds more ifdef's to surround code not necessary for 
> the standard ATAPI drives. I've tried to find all the code that was 
> handling special cases. It reduces slightly more the module size :-) As 
> most of the non standard drives handled seem quite old, this is very safe.
> 
> This patch has to be applied after my previous patch 
> (ide-cd-2.6.12-report-current-speed.patch) but I can remake it directly 
> against latest vanilla kernel if you prefer. BTW, I'd like to make a 
> Kconfig option for STANDARD_ATAPI, would you accept it?
To be honest, I'd rather remove the STANDARD_ATAPI ifdef instead. It's
really not a lot of code, and the ifdefs are just cluttering it up. BTW,
if we were to honor STANDARD_ATAPI completely (ie strictly follow the
spec), there would be far more outside of such an ifdef. It's pretty
much an illusion and hasn't been followed for at least the last 5 years.
-- 
Jens Axboe
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/