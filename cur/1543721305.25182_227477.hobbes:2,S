Date: Tue, 15 Jun 2004 22:13:29 +0200
From: Jan-Benedict Glaw <>
Subject: Re: AT Keyboard (was: Helge Hafting vs. make menuconfig help)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/15/184

On Tue, 2004-06-15 19:59:03 +0000, Karel Kulhavý <clock@twibright.com>
wrote in message <20040615195903.A7813@beton.cybernet.src>:
> > 4. From there, the key is propagated through tty and
> >    console and ends up in your application.  This application
> >    might be X, which passes the key onto some program using X.
> 
> I am insterested in the 4. itself.
This is from memory, some details may be wrong:
	- The keyboard driver first determines what key the scancodes
	  belong to. If you press one single key, it may be sent as
	  multiple scancodes. The keyboard driver first has to assemble
	  these scancodes and make a decision from it (like "Key 'a'
	  pressed"). This information ('a' pressed down). is put into
	  Input API.
	- Input API then prepares hands this key press to the TTY
	  driver.
	- An application on the currently visible VT gets the 'a' (if it
	  didn't request raw scancodes. In this case, the TTY layer
	  *emulates* scancodes from the "'a' pressed down" event), and
	  the 'a' is also displayed on the VT (if echo'ing is switched
	  on).
MfG, JBG
-- 
   Jan-Benedict Glaw       jbglaw@lug-owl.de    . +49-172-7608481
   "Eine Freie Meinung in  einem Freien Kopf    | Gegen Zensur | Gegen Krieg
    fuer einen Freien Staat voll Freier Bürger" | im Internet! |   im Irak!
   ret = do_actions((curr | FREE_SPEECH) & ~(NEW_COPYRIGHT_LAW | DRM | TCPA));
[unhandled content-type:application/pgp-signature]