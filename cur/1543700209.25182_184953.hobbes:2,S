Date: Thu, 18 Dec 2003 23:03:04 +0100
From: Thomas Koeller <>
Subject: Re: module use count & unloading
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/18/213

On Thursday 18 December 2003 17:37, Greg KH wrote:
>
> It wasn't safe to do that in 2.4 either.  That would easily unload your
> USB controller drivers, USB keyboard and USB mouse drivers, as they all
> do not increment their in-use count.
Thanks for your reply. I am, however, somewhat confused now. If the
in-use count cannot be trusted, then unloading a module is a fundamentally
unsafe operation, and a tool like 'rmmod' should not exist at all. I also
remember that in 2.4 periodic unloading of all unused autoloaded modules
by a cron job used to work just fine. And finally, if module unloading is
inherently unsafe, what is the significance of all this stuff about
forced module unloading and its dangers?
I assumed this was a bug at first and reported it as one, because I could
not make much sense of it. Now that I've been told that this kind of
behavior is actually intended, I still cannot...
tk
-- 
Thomas Koeller
thomas at koeller dot dyndns dot org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/