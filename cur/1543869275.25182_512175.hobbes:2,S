Date: Thu, 22 Feb 2007 18:15:03 -0600
From: Robert Hancock <>
Subject: Re: [PATCH] ACPI driver support for pata
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/22/383

Alan wrote:
> On Thu, 22 Feb 2007 12:11:32 -0500
> Jeff Garzik <jeff@garzik.org> wrote:
> 
>> Alan wrote:
>>> ACPI is the only way to do cable handling on the Nvidia PATA chipset. The
>> You failed to quote the salient part of the message.  Disliking a 
>> separate pata_acpi driver in no way invalidates your statement (quoted 
>> above).
> 
> If you drive a device by the ACPI interface you don't get to fiddle with
> it directly or you end up in a murky world of undefined and ungood
> behaviour. Testing and vendor information both say pata_acpi is the right
> way to drive Nvidia PATA ports.
Couldn't be do this generically inside libata core somehow, i.e. try to 
use ACPI to set the proper mode and fall back to the driver-specific 
mode setting code if that didn't work? I think if we could do that it 
would solve a number of problems (i.e. we could prevent it from doing 
this on SATA controllers which appear to be IDE based on the PCI ID, 
like the NVIDIA SATA controllers, since the _GTM and _STM methods seem 
to have undefined behavior on SATA). This would also eliminate the need 
for mkinitrd, people, etc. to know that they're supposed to be loading 
this other pata_acpi driver instead, since any PATA driver could take 
advantage of this feature.
-- 
Robert Hancock      Saskatoon, SK, Canada
To email, remove "nospam" from hancockr@nospamshaw.ca
Home Page: 
http://www.roberthancock.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/