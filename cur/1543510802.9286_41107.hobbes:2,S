Date: Mon, 27 Sep 1999 22:03:50 +0200 (MET DST)
From: Lars Christensen <>
Subject: Oops in 2.2.12
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/27/125

Hi,
I encountered the following Kernel Crash, running kernel 2.2.12 on a
486/DX2 with 8 Mb RAM. I was trying to download a big file over ftp (from
local network, `ne' driver) to an ext2 partion mounted from /dev/hdb1. The
crash occured when about 170 Mb was downloaded. I were returned to the
shell, but just after (trying to log in at another vt, the Kernel Panic
occured.).
 The IDE interface card used is an "Promise 2300+" dual IDE interface card
(one VL bus ide and one ISA ide. The harddisk(s) in action was connected
to the VL bus IDE.
I experienced the crash once before, but didn't have the change to write
the oops info down. I was crash-testing the same partion (/dev/hdb1) by
doing cat /dev/zero > a_file_name on that partition. It crashed at about
870 Mb written. The file system was corrupted after reboot.
ksymoops 0.7c on i486 2.2.12.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.2.12/ (default)
     -m /mnt/ch_root/usr/src/linux/System.map (specified)
Warning (compare_ksyms_lsmod): module smbfs is in lsmod but not in ksyms, probably no symbols exported
Unable to handle kernel NULL pointer dereference at virtual address 00000008
current->tss.c3 = 004ef000, %cr3=004ef000
*pde = 00000000
Oops: 0000
CPU: 0
EIP: 0010:[<c011f9f0>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010082
eax: 0000004c   ebx: c0364ed0   ecx: 00000000   edx: c0364f1x
esi: c009e740   edi: 00000282   ebp: c01f6968   esp: c05d7eb8
ds: 0018   es: 0018   ss: 0018
Process ncftp (pid: 628, process nr: 15, stackpage=c05d7000)
Call Trace: [<c01263d1>] [<c0126dcb>] [<c011b652>] [<c01208ba>]
[<c0120a13>] [<c012124c>] [<c0154fbe]
        [<c012b3b8>] [<c012b98c>] [<c0123557>] [<c013a950>] [<c0107b78>]
[<c010002b>]
Code: 8b 69 08 81 fd 2b 2f c3 a5 0f 85 f1 00 00 00 8b 69 0c 85 ed
>>EIP; c011f9f0 <kmem_cache_free+40/1a0>   <=====
Trace; c01263d1 <put_unused_buffer_head+21/60>
Trace; c0126dcb <try_to_free_buffers+4b/90>
Trace; c011b652 <shrink_mmap+e2/140>
Trace; c01208ba <do_try_to_free_pages+2a/90>
Trace; c0120a13 <try_to_free_pages+23/30>
Trace; c012124c <__get_free_pages+7c/3f0>
Trace; c012b3b8 <getname+18/a0>
Trace; c012b98c <__namei+c/60>
Trace; c0123557 <sys_utime+17/d0>
Trace; c013a950 <ext2_file_write+0/670>
Trace; c0107b78 <system_call+34/38>
Trace; c010002b <startup_32+2b/11e>
Code;  c011f9f0 <kmem_cache_free+40/1a0>
00000000 <_EIP>:
Code;  c011f9f0 <kmem_cache_free+40/1a0>   <=====
   0:   8b 69 08                  movl   0x8(%ecx),%ebp   <=====
Code;  c011f9f3 <kmem_cache_free+43/1a0>
   3:   81 fd 2b 2f c3 a5         cmpl   $0xa5c32f2b,%ebp
Code;  c011f9f9 <kmem_cache_free+49/1a0>
   9:   0f 85 f1 00 00 00         jne    100 <_EIP+0x100> c011faf0 <kmem_cache_free+140/1a0>
Code;  c011f9ff <kmem_cache_free+4f/1a0>
   f:   8b 69 0c                  movl   0xc(%ecx),%ebp
Code;  c011fa02 <kmem_cache_free+52/1a0>
  12:   85 ed                     testl  %ebp,%ebp
1 warning issued.  Results may not be reliable.
/Lars Christensen
larsch@cs.auc.dk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/