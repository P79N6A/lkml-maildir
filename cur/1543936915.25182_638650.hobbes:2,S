Date: Tue, 15 Jan 2008 17:43:05 +0100 (CET)
From: Jan Engelhardt <>
Subject: Re: Possibly silly Q?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/15/211

On Jan 14 2008 15:53, Robert P. J. Day wrote:
>>
>> fdisk or similar should have issued an ioctl to reread the partition
>> table after writing the new one, but you can do it manually with
>> 'blockdev --rereadpt <device>'.
>
>i remember bringing up this very issue quite some time ago and, IIRC,
>the consensus was that *primary* partition changes would be re-read by
>the kernel, but not *logical* partition changes.  or something sort of
>like that.
Nah, it dumps the whole partition structure.
Note in fs/partition/check.c:rescan_partitions:
	for (p = 1; p < disk->minors; p++)
		delete_partition(disk, p);