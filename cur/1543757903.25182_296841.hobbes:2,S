Date: Thu, 24 Feb 2005 10:27:45 +1100
From: Nick Piggin <>
Subject: Re: More latency regressions with 2.6.11-rc4-RT-V0.7.39-02
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/2/23/192

Hugh Dickins wrote:
> On Wed, 23 Feb 2005, Lee Revell wrote:
> 
>>>>Thanks, your patch fixes the copy_pte_range latency.
>>
>>clear_page_range is also problematic.
> 
> 
> Yes, I saw that from your other traces too.  I know there are plans
> to improve clear_page_range during 2.6.12, but I didn't realize that
> it had become very much worse than its antecedent clear_page_tables,
> and I don't see missing latency fixes for that.  Nick's the expert.
> 
I wouldn't have thought it should have become worse, latency
wise. What is actually happening is that the lower level freeing
functions are being called more often. But this should result in
the work being spread out more, if anything. Rather than in the
old system things would tend to be batched up into bigger chunks
(typically at exit() time).
If you are using i386 with 2-level page tables (no highmem), then
the behaviour should be more or less identical. Odd.
Nick
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/