Date: Fri, 23 Jan 2004 07:38:13 +1300
From: Nigel Cunningham <>
Subject: Re: PATCH: Export console functions for use by Software Suspend	nice display
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/22/166

Hi.
I'm not sure that write is what I want. At the very least, it will make
the code harder to read and maintain. Here's a small portion of what I'm
currently doing:
/* Print version */
posn[0] = (unsigned char) (0);
posn[1] = (unsigned char) (video_num_lines);
putconsxy(suspend_console, posn);
cond_console_print(swsusp_version, strlen(swsusp_version));
 
/* Print header */
posn[0] = (unsigned char) ((video_num_columns - 29) / 2);
posn[1] = (unsigned char) ((video_num_lines / 3) -4);
putconsxy(suspend_console, posn);
 
The output looks something like this:
-----
              S U S P E N D    T O    D I S K
        Writing caches...
        [--------        120/640MB             ]
2.0-rc4
-----
Bootsplash is also supported, so there's an even nicer version :>
Regards,
Nigel
On Thu, 2004-01-22 at 21:24, viro@parcelfarce.linux.theplanet.co.uk
wrote:
> On Thu, Jan 22, 2004 at 09:12:00PM +1300, Nigel Cunningham wrote:
> > Hi.
> > 
> > Here's a second patch; this exports gotoxy, reset_terminal, hide_cursor,
> > getconsxy and putconsxy for use in Software Suspend's nice display.
> 
> Why don't you open /dev/console on rootfs and use write(2)?
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  
http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  
http://www.tux.org/lkml/
-- 
My work on Software Suspend is graciously brought to you by
LinuxFund.org.
[unhandled content-type:application/pgp-signature]