Date: Mon, 03 Mar 2008 17:08:26 +0100
From: Bodo Eggert <>
Subject: Re: [PATCH] chroot= as a new kernel parameter
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/3/225

Pavel Machek <pavel@ucw.cz> wrote:
>> On Sat, Mar 1, 2008 at 8:09 PM, Pawel Plociennik <paplociennik@gmail.com>
>> >  In the short this patch has added a new chroot= kernel parameter which can
>> >  be used to changing a chroot of an init process before it will has been
>> >  runed.
>> 
>> Wouldn't booting with 'init=/usr/sbin/chroot /path /sbin/init' achieve
>> the same effect?
>> Haven't tested it, just wondering.
> 
> This breaks down when there's no distribution installed in /, or when
> distro in / is badly broken.
Yes.
Real life example: I set up a system in qemu and moved it to ~/temp/foo
in order to test it before overwriting the old system. I had to boot into
/bin/sh, mount the home disc and chroot into that directory.
OTOH, I'm not sure if the kernel would have found my home if it were on LVM.