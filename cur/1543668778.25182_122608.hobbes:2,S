Date: Fri, 4 Apr 2003 21:10:54 +0300
From: Matti Aarnio <>
Subject: VGER's filters..
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/4/125

VGER runs email processing with two layers of filters.
That we need any such thing is due to the sorry state
of email (all manner of spamming all around).
VGER has web-pages where various aspects of the system
are shown, _including_ present filter-rules in Majordomo.
  (  
http://vger.kernel.org/
  and onwards.. )
We have added also some synchronous filters into VGER's
MTA, so that incoming email gets rejected VERBOSELY to
its sender, when couple common cases are encountered.
  How do these filters work, then ?
Our filters are line-based one-match keyword trigger thingies.
Majordomo 1.x does not have any sort of scoring system.   Nor
have we had much interest in integrating something else, like
SpamAssassin, into our MTA environment to make scorings.
We are treating things like messages of TEXT/PLAIN type with
BASE64 encoded content, or messages with HTML in them  as
obfuscated and potentially spam.   Our rather simple filters
don't decode BASE64 (nor QP, but our MTA decodes that).
I recall that I have myself tried to use Hotmail,  and found
quite easily the setups so that my outgoing email will never
have HTML in them.  -- Current version of HM does not appear
to send HTML, nor did I find any settings for it.
Current Yahoo does not send HTML attachments either, unless poster
WANTS to send HTML by activating "Allow HTML tags" thingie at
right underside of the message body entry box.  Turning that
off will not send HTML.  Plain and simple.
(Making these tests took me about an hour, most of the time to get
thru all those foobar verifiers.)
With Yahoo I had at first immense problems to get any email from them,
as their SMTP email sender uses INVALID protocol:
<<-  MAIL FROM: <yahoo-dev-null@yahoo-inc.com>
->>  501 5.1.7 strangeness between ':' and '<': <yahoo-dev-null@yahoo-inc.com>
When you read really carefully RFC 821 / 2821 syntax about that,
you will see that it does not allow space in that place.
Sendmail does, and that has forced others to extend the syntax alike.
That happens only during the registration if alternate address is given.
Actual web-mail sending works as it should.
Yahoo is the only legitimate email source doing that of what I have seen.
(Tons of spammers do it, of course.)
/Matti Aarnio  --  one of   co-postmasters of vger.kernel.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/