Date: Mon, 25 Feb 2008 16:53:01 +0100
From: Heiko Carstens <>
Subject: Re: [PATCH] sched: revert load_balance_monitor()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/25/184

On Mon, Feb 25, 2008 at 04:28:02PM +0100, Peter Zijlstra wrote:
> On Mon, 2008-02-25 at 20:05 +0530, Dhaval Giani wrote:
> Subject: sched: fully revert load_balance_monitor()
> 
> The following commit causes a number of serious regressions:
> 
>   commit 6b2d7700266b9402e12824e11e0099ae6a4a6a79
>   Author: Srivatsa Vaddagiri <vatsa@linux.vnet.ibm.com>
>   Date:   Fri Jan 25 21:08:00 2008 +0100
>   sched: group scheduler, fix fairness of cpu bandwidth allocation for task groups
> 
> Namely:
>  - very frequent wakeups on SMP, reported by PowerTop users.
>  - cacheline trashing on (large) SMP
>  - some latencies larger than 500ms
> 
> While there is a mergeable patch to fix the latter, the former issues
> are IMHO not fixable in a manner suitable for .25 (we're at -rc3 now).
> Hence I propose to revert this patch and try again for .26.
I was just about to complain about the frequent wakeups caused by the
original patch.
It's responsible of 70% of wakeups on an otherwise idle system on s390.
Thanks :)