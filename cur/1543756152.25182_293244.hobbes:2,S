Date: Sun, 6 Feb 2005 14:09:29 +0100
From: Andi Kleen <>
Subject: Re: [PROPOSAL/PATCH] Remove PT_GNU_STACK support before 2.6.11
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/2/6/92

On Sun, Feb 06, 2005 at 02:04:57PM +0100, Arjan van de Ven wrote:
> 
> > Hmm, I got a report that it doesn't work anymore with 
> > 2.6.11rcs on x86-64. I haven't looked  closely yet,
> > but it wouldn't surprise me if this change isn't also involved.
> 
> PT_GNU_STACK change is there since like 2.6.6 (and was put in by a suse person)
> To me that is a strong indication that you are wrong on your
> suspicion...
Nah, the change to break 32bit userland mmap/mprotect like this was only 
put in after 2.6.10. 
64bit userland on the other hand always honored PROT_EXEC, but 
before PT_GNU_STACK it would run by default with executable stack. 
Hmm, I admit that my patch will break this case too, but fixing
that (setting READ_IMPLIES_EXEC only for 32bit) 
would require more complicated changes that may not be appropiate
for 2.6.11. If it's deemed appropiate I could do such a patch too
though.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/