Date: Tue, 09 Mar 1999 22:24:07 +0000
From: Piete Brooks <>
Subject: Re: NFS client performance 1.5 orders of magnitude too slow? (fwd)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/9/205

>> Then I guess whenever this gathering code makes into some newer version of
>> linux, I'll have to add another piece of code to amd that says, "if kernel
>> version is greater than 2.2.N, then set rsize=wsize=8k".  For now I can
>> leave it up to people to set these options by hand in their amd maps.
> You only want 8K if you are talking to a machine with the BSD vfs [1]
> and 8K page size - otherwise 4K is faster.
Another exception appear to be a DEC OSF1 (AKA DU) NFS server, where the sync
writes really bite ...
By doubling the block size, the number of blocks written is halved, and as
the time to sync is far greater than the time to do the network writing,
it almost exactly doubles the NFS IO write rate.
[ I used the 8K write patch under 2.2.1, and it worked a treat,
  until I found the "NFS errors not reported" problem :-(
]
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/