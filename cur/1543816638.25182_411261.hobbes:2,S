Date: Mon, 27 Mar 2006 16:55:01 +0200 (CEST)
From: zine el abidine Hamid <>
Subject: Detecting I/O error and Halting System
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/27/81

Hi everybody,
I have I/O error which occurs on servers based on a
VIA VT82C686 chipset and I have to prevent or stop the
error. I spent a lot time for searching solutions to
stop the error but I don't found anything, So I want
to write a module which will surveil the HDD and 
stops the system after sending a mail.
I read a lot of documents about kernel and writting
modules but I don't know how to start...? Help,
please.
I'm not closed to others solutions (like smartd, or
writting classical programms)
Best regards.
Zine
PS : this are errors du to VIA chipset; if anyone
knows wath appens...?
 Feb 12 04:46:03 porte_de_clignancourt_nds_b kernel:
hda: timeout waiting for DMA
Feb 12 04:46:06 alesia_nds_b ucd-snmp[812]: Connection
from 104.25.3.11
Feb 12 04:46:23 porte_de_clignancourt_nds_b kernel:
ide_dmaproc: chipset supported ide_dma_timeout func
only: 14
Feb 12 04:46:23 porte_de_clignancourt_nds_b kernel:
hda: status timeout: status=0xd0 { Busy }      adapter
disque annonce un status busy du DMA
Feb 12 04:46:23 porte_de_clignancourt_nds_b kernel:
hda: drive not ready for command
Feb 12 04:46:23 porte_de_clignancourt_nds_b
ucd-snmp[813]: Connection from 104.1.3.11
Feb 12 04:46:23 porte_de_clignancourt_nds_b
ucd-snmp[813]: Connection from 104.1.3.11
Feb 12 04:46:23 porte_de_clignancourt_nds_b last
message repeated 3 times
Feb 12 04:46:23 porte_de_clignancourt_nds_b kernel:
ide0: reset: success             
Feb 12 10:22:38 porte_de_clignancourt_nds_b kernel:
hda: timeout waiting for DMA
Feb 12 10:24:46 porte_de_clignancourt_nds_b kernel:
ide_dmaproc: chipset supported ide_dma_timeout func
only: 14
Feb 12 10:24:46 porte_de_clignancourt_nds_b kernel:
hda: status timeout: status=0xd0 { Busy }
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
hda: drive not ready for command
Feb 12 10:24:47 porte_de_clignancourt_nds_b
ucd-snmp[813]: Connection from 104.1.3.11
Feb 12 10:24:47 porte_de_clignancourt_nds_b last
message repeated 4 times
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
ide0: reset timed-out, status=0x80                   
le premier reser de ide0 est en échec
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
hda: status timeout: status=0x80 { Busy }
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
hda: drive not ready for command
Feb 12 10:24:47 porte_de_clignancourt_nds_b
ucd-snmp[813]: Connection from 104.1.3.11
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
ide0: reset: success                                  
      
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
hda: irq timeout: status=0xd0 { Busy }                
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
hda: DMA disabled                                     
   
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
ide0: reset timed-out, status=0x80
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
hda: status timeout: status=0x80 { Busy }        
nouvel échec de reset
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
hda: drive not ready for command
Feb 12 10:24:47 porte_de_clignancourt_nds_b kernel:
ide0: reset: success                                  
    
Feb 12 13:45:38 porte_de_clignancourt_nds_b kernel:
ide0: reset timed-out, status=0x80
Feb 12 13:45:38 porte_de_clignancourt_nds_b kernel:
hda: status timeout: status=0x80 { Busy }
Feb 12 13:45:38 porte_de_clignancourt_nds_b kernel:
hda: drive not ready for command
Feb 12 13:45:38 porte_de_clignancourt_nds_b kernel:
ide0: reset timed-out, status=0x80
Feb 12 13:45:38 porte_de_clignancourt_nds_b kernel:
end_request: I/O error, dev 03:02 (hda), sector 102263
Feb 12 13:45:38 porte_de_clignancourt_nds_b syslogd:
/var/log/maillog: Input/output error
Feb 12 13:45:38 porte_de_clignancourt_nds_b kernel:
end_request: I/O error, dev 03:02 (hda), sector 110720
Feb 12 13:45:38 porte_de_clignancourt_nds_b kernel:
end_request: I/O error, dev 03:02 (hda), sector 110728 
	
	
		
___________________________________________________________________________ 
Nouveau : téléphonez moins cher avec Yahoo! Messenger ! Découvez les tarifs exceptionnels pour appeler la France et l'international.
Téléchargez sur 
http://fr.messenger.yahoo.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/