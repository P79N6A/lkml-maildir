Date: Sat, 8 Jul 2006 15:00:15 +0200
From: Pavel Machek <>
Subject: Re: [patch] sharpsl_pm refactor
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/8/78

Hi!
> > > I'm unconvinced as to why collie needs an ifdef in there and looking at
> > > what I think you're leading to, its ugly. Perhaps you could change the 2
> > > to a variable set by the machine instead or something, depending upon
> > > your intention.
> > 
> > Well, I hate the if/else maze -- IMO returns are more readable. Anyway
> > collie needs both count and time checks disabled, AFAICT.
> 
> To me it looks much worse after you changed it as I can understand it at
> the moment and afterwards with the ifdefs in, I can't.
Well, maybe you'll not get the ifdefs after all... They were just
handy in my tree and code with returns (vs. code with if/else maze)
looked better to me.
> Ignoring that issue, why does collie need them disabled? Do they break
> collie somehow or is this just because the sharp driver didn't do
> it?
Sharp driver did not do it, and forcing charge 3 times when charger
tells me that it is done seems a bit cruel. What is worse, if I get
charge-too-fast timeout too long, it will keep charging battery
over-and-over-and-over-and-over. 
> I'd prefer to keep the charging techniques the same across as many of
> the devices as we can and I can't see how this technique causes a
> problem. The charging hardware and the battery is very similar across
> the models (although you wouldn't believe it looking at the charging
> driver).
Okay, you may be right here. I am just trying to be careful -- hot
lithium scares me a bit ;-).
								Pavel
-- 
(english) 
http://www.livejournal.com/~pavelmachek
(cesky, pictures) 
http://atrey.karlin.mff.cuni.cz/~pavel/picture/horses/blog.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/