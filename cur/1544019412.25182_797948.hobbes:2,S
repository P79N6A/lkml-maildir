Date: Wed, 28 Jan 2009 13:36:59 -0600
From: Jack Steiner <>
Subject: [PATCH] - Exclude UV definitions on 32-bit x86
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/28/275

Eliminate compile errors on 32-bit X86 caused by UV.
Signed-off-by: Jack Steiner <steiner@sgi.com>
---
Note to Andrew:  this patch should be applied BEFORE including the recent
GRU patches.
 arch/x86/include/asm/uv/uv_hub.h |    2 ++
 1 file changed, 2 insertions(+)
Index: linux/arch/x86/include/asm/uv/uv_hub.h
===================================================================
--- linux.orig/arch/x86/include/asm/uv/uv_hub.h	2009-01-28 08:27:44.000000000 -0600
+++ linux/arch/x86/include/asm/uv/uv_hub.h	2009-01-28 08:32:43.000000000 -0600
@@ -11,6 +11,7 @@
 #ifndef _ASM_X86_UV_UV_HUB_H
 #define _ASM_X86_UV_UV_HUB_H
 
+#ifdef CONFIG_X86_64
 #include <linux/numa.h>
 #include <linux/percpu.h>
 #include <linux/timer.h>
@@ -413,4 +414,5 @@ static inline void uv_hub_send_ipi(int p
 }
 
 
+#endif /* CONFIG_X86_64 */
 #endif /* _ASM_X86_UV_UV_HUB_H */