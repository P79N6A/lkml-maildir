Date: Mon, 28 Aug 2000 23:06:31 +0400 (MSK DST)
From:  kuznet@ms2 ...
Subject: Re: [PATCH] thread wakeup fix for 2.4.0-test7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/28/172

Hello!
> get -EBADF, in some - data. And that race is going to be a hell to hunt
> down.
Nothing to hunt. If master closes descriptor, he knows what he does.
If timeout is 5 minutes and data arrived exactly after
5 minutes+-0 microseconds, connection may die, may stay alive.
It is normal race condition with principially undefined result.
The only thing, which kernel could provide, is to avoid race
resulting in infinite sleep.
> Yes, programs may need a way to abort blocked IO. But overloading close()
> is a *very* bad idea.
Al, did I ever say that it is good idea? It is *very* dirty. 8)
But, alas, it is not an abstract _idea_, it is plain fucking _life_.
My idea is to change behaviour to _not_ less sane
(more sane to my veiwpoint, but it is difficult to argue about tastes),
and to live in peace with this cursed life after this. 8)
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/