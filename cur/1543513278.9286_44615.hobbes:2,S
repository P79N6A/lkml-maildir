Date: Mon, 18 Oct 1999 11:59:04 +0100 (BST)
From: Alan Cox <>
Subject: Re: GFP_DMA not good enough for problem hardware
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/18/26

> The NIC contains a small boot loader in ROM which the driver uses to
> upload the real microcode image. Communication is through registers
> and a block of host memory. Unfortunately, the boot loader has a
> restricted window on the host's (PCI bus) RAM, namely 0-1Gb; on Alpha,
Whoops.
> I'm sure other driver writers have hit similar problems before. What
> can I do to fix this?
For x86 you are ok. Even with 4Gig of RAM a GFP_DMA kmalloc will hit the
low 16Mb. On other platforms you may have big problems. You are probably
reduced to loading firmware by hand if there is some kind of alternative
(eg debugging) interface for fiddling with the firmware RAM. If there isnt
that card may well simply never work on non PC.
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/