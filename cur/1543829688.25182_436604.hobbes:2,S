Date: Sat, 24 Jun 2006 11:22:35 -0400
From: Jeff Dike <>
Subject: Re: 2.6.17-mm1: UML failing w/o SKAS enabled
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/24/111

On Sat, Jun 24, 2006 at 10:00:01AM -0400, Theodore Tso wrote:
> 32% ./linux
> Checking that ptrace can change system call numbers...OK
> Checking syscall emulation patch for ptrace...OK
> Checking advanced syscall emulation patch for ptrace...OK
> Checking for tmpfs mount on /dev/shm...OK
> Checking PROT_EXEC mmap in /dev/shm/...OK
> Checking for the skas3 patch in the host:
>   - /proc/mm...not found
>   - PTRACE_FAULTINFO...not found
>   - PTRACE_LDT...not found
> UML running in SKAS0 mode
> Checking that ptrace can change system call numbers...OK
> Checking syscall emulation patch for ptrace...OK
> Checking advanced syscall emulation patch for ptrace...OK
> 
> <tytso@candygram>       {/usr/projects/uml/linux-2.6.17-mm1}
> 33%
> 
> Looks like UML just crashed (tm), without any explanation.  Kconfig
> attached.  Suggestions on how to debug this would be appreciated.
I'm working on this - the genirq stuff in -mm broke UML.  Add stderr=1
to the command line to see the actual crash.  2.6.17 is fine, except
you need a klibc patch for O= builds.
				Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/