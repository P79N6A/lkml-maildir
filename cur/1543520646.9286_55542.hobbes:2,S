Date: Wed, 29 Dec 1999 11:18:03 +0100
From: Keidel <>
Subject: Problem:  SMP-kernel autoresets at ide-atapi cdrom
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/29/13

Hi,
[2.]
Having a dual Pentium (based on industrial pci-chassis) with IDE disc
and CD-rom, compiled with SMP. At boot time the system resets (jumps
back to bios) after first detection of the atapi (toshiba) cd-rom. The
same compiled without SMP boots and runs on single cpu.
Taking out the atapi-drivers the smp-kernel boots, but the system will
hang if accessing the CD-rom.
/var/log/boot.msg
<6>Detected PS/2 Mouse Port.
<4>pty: 256 Unix98 ptys configured
<6>Real Time Clock Driver v1.09
<4>RAM disk driver initialized:  16 RAM disks of 64000K size
<6>Uniform Multi-Platform E-IDE driver Revision: 6.20
<4>PIIX4: IDE controller on PCI bus 00 dev 39
<4>PIIX4: not 100% native mode: will probe irqs later
<4>    ide0: BM-DMA at 0xf000-0xf007, BIOS settings: hda:DMA, hdb:DMA
<4>    ide1: BM-DMA at 0xf008-0xf00f, BIOS settings: hdc:pio, hdd:pio
<4>hda: IBM-DJNA-352030, ATA DISK drive
<4>hdb: TOSHIBA CD-ROM XM-6602B, ATAPI CDROM drive
              in SMP kernel,    it reboots at this point
<4>ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
<6>hda: IBM-DJNA-352030, 19470MB w/1966kB Cache, CHS=2482/255/63
<4>hdb: ATAPI 40X CD-ROM drive, 128kB Cache
<6>Uniform CDROM driver Revision: 2.56
<6>Floppy drive(s): fd0 is 1.44M
<6>FDC 0 is a post-1991 82077
<4>scsi : 0 hosts.
<4>scsi : detected total.
[4.]
Linux version 2.2.13 (root@lidap_p1) (gcc version egcs-2.91.66
19990314/Linux (e
gcs-1.1.2 release)) #35 Thu Dec 23 15:14:26 MET 1999
[7.1.] 
Linux LIDAP-P1 2.2.13 #35 Thu Dec 23 15:14:26 MET 1999 i686 unknown
Kernel modules         2.3.6
Gnu C                  egcs-2.91.66
Binutils               2.9.1.0.25
Linux C Library        x   1 root     root      4223971 Nov 12 21:15
/lib/libc.so.6
Dynamic linker         ldd (GNU libc) 2.1.2
Procps                 2.0.2
Mount                  2.9z
Net-tools              1.53
Kbd                    0.99
Sh-utils               2.0
Sh-utils               Parker.
Sh-utils               
Sh-utils               Inc.
Sh-utils               NO
Sh-utils               PURPOSE.
Modules Loaded         serial memstat
[7.2.]
 /proc/cpuinfo                                    no SMP compiled
processor       : 0
vendor_id       : GenuineIntel
cpu family      : 6
model           : 7
model name      : Pentium III (Katmai)
stepping        : 3
cpu MHz         : 601.373142
cache size      : 512 KB
fdiv_bug        : no
hlt_bug         : no
sep_bug         : no
f00f_bug        : no
coma_bug        : no
fpu             : yes
fpu_exception   : yes
cpuid level     : 3
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge
mca cmov 
pat pse36 psn mmx osfxsr kni
bogomips        : 599.65
[7.3.]
serial                 42932   0 (autoclean)
memstat                 1604   0 (unused)
Regards,   JÃ¼rgen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/