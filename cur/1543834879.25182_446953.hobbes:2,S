Date: Wed, 26 Jul 2006 21:25:27 +0200
From: Jean Delvare <>
Subject: Re: PCI bus is hidden behind transparent bridge
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/26/249

Hi Thomas,
> Since I upgraded my kernel back around 2.6.16, I stopped seeing my SMBus
> adapter on the PCI bus, and thus could not get readings from the LM90
> sensor chip on my laptop.  After trying the pci=assign-busses parameter,
> the error messages about transparent busses go away, but I still can't
> access the SMBus controller (it uses the i2c-i801 module, in case that
> helps).
Caused by this change:
http://www.kernel.org/git/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commit;h=ce007ea59729d627f62bb5fa8c1a81e25653a0ad
Long story short, the quirk unhiding the Intel 82801 SMBus can cause
major trouble on resume. Thus it was disabled when suspend support is
included in the kernel. You have to disable ACPI sleep states if you
want it back.
-- 
Jean Delvare
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/