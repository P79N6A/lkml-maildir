Date: Thu, 26 Jan 2006 19:28:18 +0100
From: Olivier Galibert <>
Subject: Re: CD writing in future Linux (stirring up a hornets' nest)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/26/183

On Thu, Jan 26, 2006 at 07:10:34PM +0100, Vojtech Pavlik wrote:
> The kernel interface is sysfs and hotplug.
Hotplug, of course, can't be used from a program.  As for sysfs, as
said in the mail to Jens, I'm not sure how to:
- find the devices, what should I scan/filter on.  udev seems likes it
  needs to run a program (/sbin/cdrom_id) or scan
  /proc/sys/dev/cdrom/info just to know if a device is a cdrom...
- find the /dev name associated to a sysfs-found device.
> Udev interfaces that and can be set up so that it assigns
> /dev/cdrecorder0, 1, ... to evey recorder in the system, implementing
> the userspace interface.
Problem is, udev doesn't.  Or at least it varies from distribution to
distribution.  For instance recent gentoo creates /dev/cdrom*,
/dev/cdrw*, /dev/dvd*, /dev/dvdrw*.  Fedora core 3 creates
/dev/cdrom*, /dev/cdwriter*, /dev/dvd*, /dev/dvdwriter*.  I guess from
your email that SuSE does /dev/cdrecorder*.  And I'm not able to
guess what fedora core 5, mandrake, debian, slackware and infinite
number of derivatives do.
> HAL interfaces the above and implements the desktop interface.
I'm not sure how trustable HAL is at that point given what's going on
with udev and I'm not too happy to have to require to daemons (dbus
system and hald) to run to find the devices, but heh...
  OG.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/