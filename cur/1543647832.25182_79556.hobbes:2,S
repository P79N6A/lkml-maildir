Date: Mon, 14 Oct 2002 04:54:10 +0200
From: Stephan von Krawczynski <>
Subject: Re: nfs-server slowdown in 2.4.20-pre10 with client 2.2.19
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/13/244

On Mon, 14 Oct 2002 09:03:43 +1000
Neil Brown <neilb@cse.unsw.edu.au> wrote:
> On Sunday October 13, skraw@ithnet.com wrote:
> > Hello Trond, 
> > hello all,
> > 
> > just to drop a note: I am experiencing a rather dramatic slowdown of the
> > nfs-server in kernel 2.4.20-pre10 in conjunction with nfs-clients kernel
> > 2.2.19. To be more specific, the server is a SMP machine and runs always the
> > latest 2.4.x  kernels. Upto 2.4.20-pre9 everything was quite ok, but pre10
> > brought an incredible loss. The setup did not change, only the kernel on the
> > server side. Merely all nfs action is writing to the server, reading from it is
> > next to zero in this setup.
> 
> Very odd...  There were no changes between pre9 and pre10 that
> directly relate to the nfs server, and none that immediately jump out
> at me that could cause a slowdown in NFS writes.
> 
> What architecture?  PPC saw a lot of updates.
i386, namely dual PIII 1GHz with 1 GB RAM
Are you sure it has nothing to do with the latest patch and SMP:
Trond Myklebust <trond.myklebust@fys.uio.no>:
  o Workaround NFS hangs introduced in 2.4.20-pre
> What filesystem?  jfs saw one change
reiserfs 3.6
> What storage device?  IDE or SCSI?
IDE, PDC20268
> Can you try going back to -pre9 and confirm that performance comes
> back?
I will have a second try on the issue this night and be back with info tommorrow.
Thanks, 
Stephan
> NeilBrown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/