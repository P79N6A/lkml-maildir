Date: Tue, 19 Feb 2008 10:43:48 +0100
From: Andi Kleen <>
Subject: Re: [dm-devel] Re: [PATCH] Implement barrier support for single device DM devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/19/85

> My complaint about having to support them within dm when more than one
> device is involved is because any efficiencies disappear: you can't send
> further I/O to any one device until all the other devices have completed
> their barrier (or else later I/O to that device could overtake the
> barrier on another device).  And then I argue that it would be better
I was wondering: would it help DM to have the concept of a "barrier window"
As in "this barrier is only affective for this group of requests"
With such a concept DM would need to stall only inside the groups
and possible even issue such barrier groups in parallel, couldn't it?
I'm sure you guys all have thought far more about barriers than
I ever did; if that idea came up before why was it dismissed?
-Andi