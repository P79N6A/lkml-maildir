Date: Fri, 4 Aug 2000 08:49:38 +0100
From: Adrian Bridgett <>
Subject: Re: Fwd: Re: patch to yenta.c breaks IBM thinkpad 600E []
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/4/11

On Thu, Aug  3, 2000 at 22:30:56 +0100 (+0000), you wrote:
> On Wed, 2 Aug 2000, Anton Blanchard wrote:
> > 
> > I had to revert the change made to yenta.c or my thinkpad would lock up
> > at boot and give nasty ide dma timeout errors.
mine does the same (TP770X) - it slowly gets throught the boot, very slowly.
> Can you boot with the broken kernel and with the DEBUG thing defined in
> arch/i386/kernel/pci-i386.h? I'd love to see what it says.
[snip]
PCI Resource 50101000-50101fff (f=200,d=0,p=0)
PCI Resource 50100000-50100fff (200,0,0)
PCI Resource 50000000-500fffff (200,0,0)
PCI Resource 0000fcf0-0000fcff (101,0,0)
PCI Resource 0000fcf0-0000fcff (101,0,0)
PCI Resource 70800000-70ffffff (200,0,0)
PCI Resource 71000000-7101ffff (200,0,0)
PCI Resource 70000000-707fffff (200,0,0)
..
Yenta IRQ list 0698 PCI IRQ 11
socket status 30000010
Yenta IRQ list 0698 PCI IRQ 11
socket status 30000010
..
hda: timeout waiting for DMA
ide dmaproc chipset supported ide_dma_timeout func only 14
hda: irq timeout=status 0x58 {DriveReady SeekCompleted DataRequest}
The interesting thing was that hit Ctrl-Alt-Del once it got the timeouts and
rebooted into 2.2. - except that it got the DMA timeouts on boot too.  Maybe
my problem (and possibly Anton's) is actually an IDE problem.
Applying Anton's patch fixed the problem here too.
Adrian
Adrian Bridgett <bridgett@hursley.ibm.com> 
Internal: 7-245528   External: 01962-815528
MQSeries Glue Team, DE2R05, Hursley Park, UK, SO21 2JN (Mailpoint 211)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/