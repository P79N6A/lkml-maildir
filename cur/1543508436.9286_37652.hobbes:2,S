Date: Mon, 06 Sep 1999 12:16:55 -0700
From: Keith Owens <>
Subject: Re: problems with Netflex 3/P (tlan)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/6/114

On Mon, 6 Sep 1999 14:05:52 +0100, 
"Roberto Oppedisano" <roppedisano@autobspd.it> wrote:
>Afret reading Documentation/tlan.txt, I tried to enable debug 
>in the driver (compiled as a module) but I get:
>
>root@ws95:/ # insmod tlan "debug=0x01"
>/lib/modules/2.2.13pre3/net/tlan.o: invalid parameter debug
Documentation/networking/tlan.txt is incorrect, the driver does *NOT*
support debug as a module parameter.  tlan.c does not export any
symbols (no EXPORT_SYMBOL lines) so insmod takes its default action of
exporting all global symbols.  debug is defined as static so it is
local, not global.  Modutils is working as designed, tlan.c is wrong.
Edit tlan.c to hard code debug to the value you want or change debug
from
static  int             debug = 0;
to
int             debug = 0;
Either way you have to edit tlan.c, recompile and reload the module.
Take the incorrect documentation problem up with whoever maintains
tlan.c.  It would be better if tlan.c was changed to use EXPORT_SYMBOL
and MODULE_PARM, as most of the modules do.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/