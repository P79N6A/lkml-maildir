Date: Fri, 21 Jul 2000 00:10:50 +0200
From: Vojtech Pavlik <>
Subject: Re: ide patch + kernel 2.2.17-pre12
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/20/104

On Thu, Jul 20, 2000 at 11:47:59PM +0200, Bartlomiej Zolnierkiewicz wrote:
> > > but could you at least tell me what do you think about
> > > 	1). generic ATA tuning
> > 
> > A very good idea. There is too much duplicated code in the current
> > PCI ide tuning drivers.
> > 
> 
> I have already posted working code without too much luck...
> 
http://republika.pl/bkz/git-10.README
> 
http://republika.pl/bkz/git-10.diff.bz2
Well, I think this really should go in. It makes things much cleaner.
> > > 	2). ide-info and moving all these /proc/ide/chipset to userland
> > > 	    (right now it requires root priviliges but next version
> > > 	     will use /proc/ide/ide0/config)
> > 
> > Adding a lside command ala the lspci and lsusb?
> 
> yes... but currently it is called ide-info... wip...
> 
http://republika.pl/bkz/ide-info-0.0.3.tar.bz2
Ok, I'll take a look.
> > > 	3). rewritten amd7409.c (clone of Vojtech's via82cxxx.c)
> > > 	    (no f*ck*ng feedback, people with amd7409 don't like
> > > 	     /proc info and overclocking?)
> >
> > Careful about this, I'm still not sure I've got the MWDMA timing right.
> > Seems at least MWDMA1 is broken on MWDMA1-only drives.
> 
> I'm careful and I think that MWDMA0 is also invalid, MWDMA2 is ok...
> I will check them against spec when i have some time...
The problem is that the 'address setup' and other stuff is quite
different for DMA modes than for PIO. I was looking at the specs, the
PIO modes should be OK, but I couldn't find out how the VIA chipset
times the DMA modes. Would be nice to check with an IDE analyzer.
-- 
Vojtech Pavlik
SuSE Labs
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/