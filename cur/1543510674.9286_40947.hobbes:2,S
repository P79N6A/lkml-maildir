Date: Sun, 26 Sep 1999 22:52:24 +0200
From: Jens Benecke <>
Subject: NFS 2.2.12 repeated Oopses
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/26/80

Hi,
this started when I updated from kernel 2.0.36 (Debian stock) to 2.2.12
vanilla. (.config attached) I updated the nfs-server (NOT knfsd), and it
went away for a couple weeks.  The system ran stadily, uptime 15 days, not
much load (a couple users and rc5des :).
Yesterday I had the problem again. Once. I didn't think more about it. 
Today, I had it again. Thrice. In five minutes. With a "D", then "DW"
hanging rpc.nfsd (and rpc.statd). Reboot required to start them up again.
I would be really happy if someone explained what is happening here and how
I can go about fixing it.
The system: (compiled with gcc272!)
earth # ver_linux 
-- Versions installed: (if some fields are empty or looks
-- unusual then possibly you have very old versions)
Linux earth 2.2.12 #1 Mit Sep 1 17:41:22 CEST 1999 i586 unknown
Kernel modules         2.1.121
Gnu C                  2.95.1
Binutils               2.9.1.0.19
Linux C Library        2.1.2
Dynamic linker         ldd (GNU libc) 2.1.2
Linux C++ Library      2.7.2
Linux C++ Library      2.7.2
Procps                 1.2.9
Mount                  2.9g
Net-tools              2.01
Kbd                    0.96
Sh-utils               1.16
Modules Loaded         parport_probe parport_pc lp parport serial ppp slhc
ne2k-pci 3c509 8390 unix
The Oops:
kernel: Unable to handle kernel paging request at virtual address 00200000 
kernel: current->tss.cr3 = 008d0000, %cr3 = 008d0000 
kernel: *pde = 00000000 
kernel: Oops: 0000 
kernel: CPU:    0 
kernel: EIP:    0010:[find_buffer+42/68] 
kernel: EFLAGS: 00010206 
kernel: eax: 00200000   ebx: 0035b9b3   ecx: c0930307   edx: 00200000 
kernel: esi: 00000400   edi: 0035b9b3   ebp: 00350307   esp: c0939e08 
kernel: ds: 0018   es: 0018   ss: 0018 
kernel: Process rpc.nfsd (pid: 803, process nr: 26, stackpage=c0939000) 
kernel: Stack: c0125591 00000307 0035b9b3 00000400 c01257f7 00000307 0035b9b3 00000400  
kernel:        0035b9b3 c25dc550 c0939f14 0035b9b3 c1c7d0c0 c013bbc1 00000307 0035b9b3  
kernel:        00000400 00000000 0035b9b3 00000001 c25dc550 00000008 c013c1c5 c25dc550  
kernel: Call Trace: [get_hash_table+21/32] [getblk+31/332] [ext2_alloc_block+101/332] [block_getblk+325/636] [ext2_getblk+385/556] [ext2_file_write+614/1536] [ext2_file_write+0/1536]  
kernel:        [kfree_skbmem+50/68] [__kfree_skb+164/172] [parport_probe:parport_probe+-117091/1288] [qdisc_restart+19/116] [qdisc_run_queues+46/96] [sys_lseek+149/184] [sys_write+195/236] [system_call+52/56]  
kernel: Code: 8b 12 39 58 04 75 f3 39 70 08 75 ee 66 39 48 0c 75 e8 89 c2  
kernel: Unable to handle kernel paging request at virtual address 00200000 
kernel: current->tss.cr3 = 008c4000, %cr3 = 008c4000 
kernel: *pde = 00000000 
kernel: Oops: 0000 
kernel: CPU:    0 
kernel: EIP:    0010:[find_buffer+42/68] 
kernel: EFLAGS: 00010206 
kernel: eax: 00200000   ebx: 0036b9b3   ecx: 00000307   edx: 00200000 
kernel: esi: 00000400   edi: 00000000   ebp: 00000100   esp: c08c1e34 
kernel: ds: 0018   es: 0018   ss: 0018 
kernel: Process rpc.nfsd (pid: 10512, process nr: 27, stackpage=c08c1000) 
kernel: Stack: c0125591 00000307 0036b9b3 00000400 c012620d 00000307 0036b9b3 00000400  
kernel:        c08c1ee0 00000044 00000000 c141b210 c2f0a980 c18bc600 00000307 00000002  
kernel:        c2f0a1a0 c18b0307 00000000 c2f0a1a0 c2f0a200 c18bc600 c08c1edc 00000043  
kernel: Call Trace: [get_hash_table+21/32] [brw_page+369/924] [generic_readpage+127/140] [try_to_read_ahead+268/292] [do_generic_file_read+742/1516] [generic_file_read+100/128] [file_read_actor+0/80]  
kernel:        [sys_read+190/220] [system_call+52/56]  
kernel: Code: 8b 12 39 58 04 75 f3 39 70 08 75 ee 66 39 48 0c 75 e8 89 c2  
-- 
_ciao, Jens_______________________________ 
http://www.pinguin.conetix.de
You can tune a file system, but you can't tuna fish
							-- man tunefs
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/