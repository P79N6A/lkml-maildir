Date: Fri, 24 Mar 2006 12:15:01 +0000
From: Alan Cox <>
Subject: Re: [RFC][PATCH 3/10] 64 bit resources drivers ide changes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/24/119

On Iau, 2006-03-23 at 15:02 -0500, Vivek Goyal wrote:
>  		pci_write_config_dword(dev, PCI_ROM_ADDRESS, dev->resource[PCI_ROM_RESOURCE].start | PCI_ROM_ADDRESS_ENABLE);
> -		printk(KERN_INFO "%s: ROM enabled at 0x%08lx\n", name, dev->resource[PCI_ROM_RESOURCE].start);
> +		printk(KERN_INFO "%s: ROM enabled at 0x%016llx\n", name,
> +			(unsigned long long)dev->resource[PCI_ROM_RESOURCE].start);
NAK - if the resource is 64bit then the pci_write_config_dword is also
insufficient. Ditto for each other example.
We actually know the PCI resources for these are 32bit so this change
shouldn't be needed. You might want to stick a (u32) or (unsigned long)
cast in and leave it at that.
As far as I can tell all the ROM whacking code is bogus anyway
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/