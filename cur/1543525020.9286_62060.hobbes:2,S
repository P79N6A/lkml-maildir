Date: Wed, 09 Feb 2000 01:35:59 -0500
From: Jeff Waller <>
Subject: Kernel memory allocation for FS in the presence of intensive processes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/9/18

Some of you may have seen this post in another form on
one of the newsgroups I posted to.  Sorry for the repetition.
I realize now most read this mailing list rather than the
associated newsgroup and or other newsgroups, and the
answer I think will require some understanding of the kernel,
so I think this is the appropriate forum, and anyway I'd like
to do kernel stuff in the future.  So with that aside...
I noted that the kernel I am currently using 2.2.14 + DVD
patches preformed poorly when attempting to play DVD's.
Poorly in that the Xerver becomes unresponsive to mouse
motion, remote logins hang.  The disk goes crazy, basically,
I think the system is thrashing.
System is Athlon 500 + 128M RAM.  Enough to play DVD's
at least theoretically as at least 1 Windows software only
decoder preforms nicely.  It appeared that Xwindows without
the DVD-related software running (or ever having run) takes
about 55 M.
But afterwords, top reports an anomalous amount of memory
being used.  Apparently by the kernel...Apparently.  As a test
I tried (after rebooting)
find  /dvd -type f -exec cat {} > /dev/null \;
Thinking that perhaps the kernel was allocating memory but
not releasing it and in fact all free memory was "used up"
at least by what top reports.
The situation is more general,  though as a second (actually
third) test, I switched file systems to /usr.  Same result.
Now programs run after this test don't seem adversely affected
but during the test, and in general programs that must pass
around large amounts of data while that kernel is accessing
a lot of file data will likely function poorly.
This situation seems to have existed for some time.  A
quick check on another machine running an earlier kernel
(used by Mandrake 6.1)* showed the same anomalous memory
usage.
Could you suggest where I can delve deeper?  Is this a
known problem?
-Jeff
*In another post I stated it was a kernel used by Red
Hat, in fact it was Mandrake.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/