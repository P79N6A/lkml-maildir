Date: Thu, 14 Dec 2006 10:15:41 +0100
From: Thomas Gleixner <>
Subject: Re: [GIT PATCH] more Driver core patches for 2.6.19
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/14/69

On Wed, 2006-12-13 at 23:56 +0000, Alan wrote:
> On Wed, 13 Dec 2006 23:30:55 +0100
> Thomas Gleixner <tglx@linutronix.de> wrote:
> 
> > - IRQ happens
> > - kernel handler runs and masks the chip irq, which removes the IRQ
> > request
> 
> IRQ is shared with the disk driver, box dead.
Err ? 
IRQ happens
IRQ is disabled by the generic handling code
Handler is invoked and checks, whether the irq is from the device or
not. 
 - If not, it returns IRQ_NONE, so the next driver (e.g. disk) is
invoked.
 - If yes, it masks the chip on the device, which disables the chip
interrupt line and returns IRQ_HANDLED.
In both cases the IRQ gets reenabled from the generic irq handling code
on return, so why is the box dead ?
	tglx
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/