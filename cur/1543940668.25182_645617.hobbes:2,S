Date: Wed, 30 Jan 2008 12:23:23 +0100 (CET)
From: Jan Engelhardt <>
Subject: Re: [PATCH] [SIS190] Constify data marked as __devinitdata
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/30/181

On Jan 30 2008 11:53, Jonas Bonn wrote:
>
>This fixes build error as gcc complains about a "section type conflict"
>due to the const __devinitdata in sis190_get_mac_addr_from_apc().
>-static struct pci_device_id sis190_pci_tbl[] __devinitdata = {
>+static const struct pci_device_id sis190_pci_tbl[] __devinitdata = {
> 	{ PCI_DEVICE(PCI_VENDOR_ID_SI, 0x0190), 0, 0, 0 },
> 	{ PCI_DEVICE(PCI_VENDOR_ID_SI, 0x0191), 0, 0, 1 },
> 	{ 0, },
Eh? Did you mean to
-        static const u16 __devinitdata ids[] = { 0x0965, 0x0966, 0x0968 };
+        static u16 __devinitdata ids[] = { 0x0965, 0x0966, 0x0968 };
instead? Because AFAIK, const *and* __sectionmarker does not mix.