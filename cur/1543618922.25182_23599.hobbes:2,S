Date: Mon, 28 Jan 2002 22:51:51 -0500
From: David Ford <>
Subject: Re: Encountered a Null Pointer Problem on the SCSI Layer
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/28/102

Might I suggest adding the below instead of swapping it out?
-d
>--- linux-2.4.18-pre1/drivers/scsi/sd.c	Fri Nov  9 14:05:06 2001
>+++ linux-2.4.18-pre1-p3/drivers/scsi/sd.c	Mon Jan 28 14:46:11 2002
>@@ -302,7 +302,7 @@
> 
> 	dpnt = &rscsi_disks[dev];
> 	if (devm >= (sd_template.dev_max << 4) ||
>-	    !dpnt ||
>+	    !dpnt->device ||
> 	    !dpnt->device->online ||
>  	    block + SCpnt->request.nr_sectors > sd[devm].nr_sects) {
> 		SCSI_LOG_HLQUEUE(2, printk("Finishing %ld sectors\n", SCpnt->request.nr_sectors));
>
[unhandled content-type:application/x-pkcs7-signature]