Date: Thu, 2 Feb 2006 14:33:18 -0800
From: Bryan Henderson <>
Subject: Re: [RFC] VM: I have a dream...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/2/383

>So w/ 1GB RAM, no swap, and 1TB disk mmap'd, could this mmap'd space be 
added 
>to the total memory available to the OS, as is done w/ swap?
Yes.
>And if that's possible, why not replace swap w/ mmap'd disk-space?
Because mmapped disk space has a permanent mapping of address to disk 
location.  That's how the earliest virtual memory systems worked, but we 
moved beyond that to what we have now (what we've been calling swapping), 
where the mapping gets established at the last possible moment, which 
means we can go a lot faster.  E.g. when the OS needs to steal 10 page 
frames used for malloc pages which are scattered across the virtual 
address space, it could write all those pages out in a single cluster 
wherever a disk head happens to be at the moment.
Also, given that we use multiple address spaces (my shell and your shell 
both have an Address 0, but they're different pages), there'd be a giant 
allocation problem in assigning a contiguous area of disk to each address 
space.
--
Bryan Henderson                     IBM Almaden Research Center
San Jose CA                         Filesystems
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/