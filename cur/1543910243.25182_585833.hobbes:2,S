Date: Fri, 17 Aug 2007 18:03:52 -0700 (PDT)
From: Christoph Lameter <>
Subject: Re: kfree(0) - ok?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/17/337

On Sat, 18 Aug 2007, Thomas Gleixner wrote:
> If yes, who invented this 1980s reminiscence, where you got valid
> pointers for malloc(0) ?
I believe his first name started with an L and ended with an s ;-)
Seriously the kmalloc(0) pointer allowed us to detect cases in which 
people tried to store into objects allocated with kmalloc(0).
If we would just return NULL then we would not be able to distinguish it 
from a failure (that is what I initially had).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/