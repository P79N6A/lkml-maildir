Date: Fri, 08 Mar 2002 08:30:52 -0600
From: Stephen Lord <>
Subject: Re: 2.4.18-rc4-aa1 XFS oopses caused by cpio
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/8/83

svetljo wrote:
>
> i just created LV, formated it with xfs , extended it , mounted it, 
> extended the fs , and started to transfer my old /opt to the LV with cpio
> there were no complains from mount or xfs_growfs
> and i have no the output from mkfs.xfs
>
> [root@svetljo log]# xfs_growfs -n /opt
> meta-data=/opt            isize=256    agcount=12, agsize=33024 blks
> data     =                       bsize=4096   blocks=393216, imaxpct=25
>            =                       sunit=4      swidth=12 blks, 
> unwritten=0
>            =                       imaxbits=24
> naming   =version 2     bsize=4096
> log      =internal           bsize=4096   blocks=1200
> realtime =none            extsz=49152  blocks=0, rtextents=0
>
>
Ah, so you ran growfs on the filesystem, thats the key here. It looks 
like the new code
does not handle growfs correctly, the structure which is null is not 
allocated in the
expansion case. I should have a fix shortly.
Steve
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/