Date: Thu, 15 May 2003 14:59:20 +0100
From: Russell King <>
Subject: [PATCH] IRQ and resource for platform_device
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/15/106

The location and interrupt of some platform devices are only known by
platform specific code.  In order to avoid putting platform specific
parameters into drivers, place resource and irq members into struct
platform_device.
Discussion point: is one resource and one irq enough?
--- orig/include/linux/device.h	Mon May  5 17:40:10 2003
+++ linux/include/linux/device.h	Wed May 14 15:35:40 2003
@@ -29,6 +29,7 @@
 #include <linux/list.h>
 #include <linux/spinlock.h>
 #include <linux/types.h>
+#include <linux/ioport.h>
 #include <asm/semaphore.h>
 #include <asm/atomic.h>
 
@@ -388,6 +389,8 @@
 	char		* name;
 	u32		id;
 	struct device	dev;
+	struct resource	res;
+	unsigned int	irq;
 };
 
 extern int platform_device_register(struct platform_device *);
-- 
Russell King (rmk@arm.linux.org.uk)                The developer of ARM Linux
             
http://www.arm.linux.org.uk/personal/aboutme.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/