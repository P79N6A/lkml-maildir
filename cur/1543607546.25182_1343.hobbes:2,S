Date: Fri, 26 Oct 2001 12:35:43 -0600
From: (Mike Warren)
Subject: [PATCH] sparc64 fix for 2.4.13-ac2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/26/79

sparc64 compiles of recent ac kernels are failing due to a missing
#define of INIT_MMAP.  This code was removed in patch-2.4.10, but was
also erroneously removed from the ac branch where it is still required.
Mike
*** linux-2.4.13-ac2/include/asm-sparc64/processor.h	Thu Oct 11 06:42:47 2001
--- linux/include/asm-sparc64/processor.h	Fri Oct 26 18:16:14 2001
***************
*** 88,93 ****
--- 88,96 ----
  #define FAULT_CODE_ITLB		0x04	/* Miss happened in I-TLB		*/
  #define FAULT_CODE_WINFIXUP	0x08	/* Miss happened during spill/fill	*/
  
+ #define INIT_MMAP { &init_mm, 0xfffff80000000000, 0xfffff80001000000, \
+ 		    NULL, PAGE_SHARED , VM_READ | VM_WRITE | VM_EXEC, 1, NULL, NULL }
+ 
  #define INIT_THREAD  {					\
  /* ksp, wstate, cwp, flags, current_ds, */ 		\
     0,   0,      0,   0,     KERNEL_DS,			\
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/