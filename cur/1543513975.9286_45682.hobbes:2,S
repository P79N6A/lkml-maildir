Date: Sun, 24 Oct 1999 10:37:32 -0700 (PDT)
From: (H.J. Lu)
Subject: A patch for alpha header file
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/24/93

There is a bug in the alpha header file in Linux 2.2.13. The problem
is people may do
#ifdef SLOWIO
#  undef outb
#  undef inb
#  define outb                  outb_p
#  define inb                   inb_p
#endif
Now outb/inb are undefined on alpha. This patch should fix it.
Thanks.
-- 
H.J. Lu (hjl@gnu.org)
---
--- linux/include/asm-alpha/io.h.slow	Sun Oct 24 10:44:21 1999
+++ linux/include/asm-alpha/io.h	Sun Oct 24 10:48:10 1999
@@ -205,23 +205,23 @@ extern void		_writeq(unsigned long b, un
 #endif
 
 #ifndef inb_p
-# define inb_p		inb
+# define inb_p(p)	_inb((p))
 #endif
 #ifndef inw_p
-# define inw_p		inw
+# define inw_p(p)	_inw((p))
 #endif
 #ifndef inl_p
-# define inl_p		inl
+# define inl_p(p)	_inl((p))
 #endif
 
 #ifndef outb_p
-# define outb_p		outb
+# define outb_p(b,p)	_outb((b),(p))
 #endif
 #ifndef outw_p
-# define outw_p		outw
+# define outw_p(w,p)	_outw((w),(p))
 #endif
 #ifndef outl_p
-# define outl_p		outl
+# define outl_p(l,p)	_outl((l),(p))
 #endif
 
 #else 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/