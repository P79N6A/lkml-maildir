Date: Sun, 6 May 2007 00:50:47 -0700
From: "Ulrich Drepper" <>
Subject: Re: [patch 14/22] pollfs: pollable futex
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/6/18

On 5/5/07, Davide Libenzi <davidel@xmailserver.org> wrote:
> But we have our own *sane* version of WaitForMultipleObjects, and it's
> called poll(2).
No, we don't.  Don't start all over again.  The interface of poll it
to primitive.  See the kevent code, each record is, IIRC, 16 bytes in
size to return more data.  For poll you only have bits.
> Now, considering that POSIX is the backbone of Linux (and *nix in
> general), and considering that we certainly cannot drop existing POSIX
> semantics, where the lagacy code will come from?
The legacy part comes from all this extra "make into a file
descriptor" stuff which is new, not needed now and especially not when
a full solution is available.
> I really do not understand your point. You're too smart to not appreciate
> the beauty and the simmetry of objects that responds to a common interface
> (our files, win32 handles), and that fits our existing kernel infrastructure.
You're blinded by this symmetry.  Not everything that looks like a
good fit is a good idea.  This is one case.  Get over it, poll is not
powerful enough to serve as the unifying event mechanism.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/