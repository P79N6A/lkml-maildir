Date: Thu, 4 Mar 1999 12:27:22 +0900 (JST)
From: Tom Holroyd <>
Subject: 2.2.2 NFS stale filehandle problems (fwd)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/4/13

Date: Thu, 04 Mar 1999 00:10:34 GMT
From: David A Waltermire <dwalt@desupernet.net>
Resent-From: axp-list@redhat.com
I am running a mail server on a pc164 500mhz alpha with RedHat 5.2.
It has two ethernet cards in it.  The first is for frontend smtp and
pop3 requests, the second is an NFS backend.  All config files and
spool reside on nfs mounts exported by a NetAppliance 230.
I decided to upgrade this machine to the new 2.2.2 kernel and
installed all the nessisary suport software.  On the surface this
server seems to run fine, but after a short time I start to get the
following errors:
nfs_revalidate_inode: control/rcpthosts getattr failed, ino=529984,
error=-70
NFS: bad fh
000983c601cb11c9000000000008164001cb290d00000000000983c601cb11c9
000983c601cb11c9000000000008164001cb290e00000000000983c601cb11c9
nfs_revalidate_inode: control/rcpthosts getattr failed, ino=529984,
error=-70
NFS: bad fh
000983c601cb11c9000000000008164001cb290d00000000000983c601cb11c9
000983c601cb11c9000000000008164001cb290e00000000000983c601cb11c9
nfs_revalidate_inode: control/rcpthosts getattr failed, ino=529984,
error=-70
NFS: bad fh
000983c601cb11c9000000000008164001cb290d00000000000983c601cb11c9
000983c601cb11c9000000000008164001cb290e00000000000983c601cb11c9
It looks like this is caused by a stale filehandle, but I am not a
kernel hacker and cannot locate the problem.
I have tried all of the ac patches with no success.  This server
processes about 10 - 20 requests at any given time with a load avg
well bellow 1.
I have an identical server that receives identical load and is running
2.0.35 and redhat 5.2 with no troubles.  I have searched many news
groups and mailing list archives and have found no other reports of
this problem.  Does anyone have any clue what is going on here?  I can
provide whatever debugging info is nessisary.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/