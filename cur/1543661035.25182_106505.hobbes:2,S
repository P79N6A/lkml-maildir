Date: Wed, 29 Jan 2003 23:25:16 +0200
From: Faik Uygur <>
Subject: Re: OOPS in read_cd... what to do?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/29/165

> I reported twice (Jan 15 the last time) to this list a kernel oops when
> reading a CD in a SONY CDU-31A unit with kernels 2.4.18 - 2.4.20 (and
> probably all the 2.4 series), which works fine on 2.2.x (and even
> 1.2.x!!), maybe the maintainer of this part os the code is offline... Are
> there any alternatives to fix this problem? Thank you.
There is something wrong here. This should help.
--- linux-2.4.20/drivers/cdrom/cdu31a.c.orig    Fri Nov 29 01:53:12 2002
+++ linux-2.4.20/drivers/cdrom/cdu31a.c Wed Jan 29 23:12:39 2003
@@ -1384,9 +1384,9 @@
                               readahead_buffer + (2048 -
                                                   readahead_dataleft),
                               readahead_dataleft);
-                       readahead_dataleft = 0;
                        bytesleft -= readahead_dataleft;
                        offset += readahead_dataleft;
+                       readahead_dataleft = 0;
                } else {
                        /* The readahead will fill the whole buffer, get the data
                           and return. */
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/