Date: Thu, 3 Aug 2006 20:45:31 -0700
From: "Michael Chan" <>
Subject: Re: [PATCH -rt DO NOT APPLY] Fix for tg3 networking lockup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/3/391

Theodore Tso wrote:
> Parden me for asking a dumb question, but what's being accomplished by
> resetting the chip if the system has crashed?  Why not reset the chip
> when the system reboots and it sees the PCI bus reset?  I guess I'm
> missing the purpose of the ASF heartbeat; why does the networking chip
> need a chip-specific watchdog?
> 
ASF is firmware that monitors the system and sends out alerts whenever
certain events happen.  So it needs to run before the OS boots or after
it has crashed.  When the driver is up and running, the driver and ASF
run independently sending and receiving traffic on the same wire.  Of
course, the bandwidth that is used by ASF is a very tiny fraction of the
host traffic.  If the system crashes, the FIFO and other resources on
the NIC will be backed up and ASF can no longer function without
resetting
the chip.
As David explained, ASF is only used on servers.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/