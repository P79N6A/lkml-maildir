Date: Sat, 1 Sep 2001 19:55:32 +0100
From: Jamie Lokier <>
Subject: Re: Excessive TCP retransmits over lossless, high latency link
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/1/67

kuznet@ms2.inr.ac.ru wrote:
> > The interesting thing is that there isn't any evidence of packet loss.
> 
> Why did you disable bith sacks and timestamps? Exactly to get
> maximal damage from long delay link?
>
> What OS is sender? If it is linux too, try to use default configuration
> not playing with /proc/sys/net/tcp_*, especially with timestamps
> and sacks and the situation should rectify.
Unfortunately the other machine is my ISP, who I do not control.  I have
no idea what the sender OS is, but it's obviously not a standard recent
Linux judging from the lack of SACK.
> Also, please, send full (binary!) tcpdump from SYN and to FIN.
I have send myself a 30k mail and produced a trace of receiving it.  A
binary trace with "tcpdump -n -w" is attached, and a text version of it
with "tcpdump -r pktlog2" is appended below.
> Well, and if sender is not linux... no ideas.
I am wondering if not sending so many duplicate ACKs would help the
broken sender (I know, that is against RFC793 but hey if it works...).
For the sake of a Linux test, I shall try proxying this stream via a
Linux 2.4.2 box I have on the net, and see if it is an improvement.
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/