Date: Fri, 27 Feb 2004 18:38:58 +0200
From: "Petr Vandrovec" <>
Subject: Re: [PATCH] Add a MODULE_VERSION macro
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/27/168

On 27 Feb 04 at 6:51, Linux Kernel Mailing List wrote:
> ChangeSet 1.1713, 2004/02/26 22:51:58-08:00, akpm@osdl.org
> 
>     [PATCH] Add a MODULE_VERSION macro
...
> diff -Nru a/scripts/Makefile.modpost b/scripts/Makefile.modpost
> --- a/scripts/Makefile.modpost  Thu Feb 26 23:11:35 2004
> +++ b/scripts/Makefile.modpost  Thu Feb 26 23:11:35 2004
> @@ -10,10 +10,11 @@
...  
> 
>  ifneq ($(filter-out $(modules),$(__modules)),)
> +  $(warning Trouble: $(__modules) )
>    $(warning *** Uh-oh, you have stale module entries. You messed with SUBDIRS,)
>    $(warning     do not complain if something goes wrong.)
>  endif
Hi Rusty,
  what is this line supposed to do, except making it impossible
to build kernel modules in temporary directories? Now when I build
out-of-tree modules, I get 'Trouble:' followed by approximate 16000
characters listing paths to all modules I have in kernel, for no
apparent reason (I know that I removed some module I built in /tmp...
why kernel should care, that module is gone forever), so it makes 
all warning & error messages completely lost 5 screens away.
  Can you remove this 'Trouble:' message, or at least provide some
way to disable that message (and two warnings below it too, they
serve no useful purpose AFAICT, as they trigger whenever you'll remove
some module from directory where you built it) ? Or at least make it
useful: print only modules which are missing, not all modules.
                                        Thanks,
                                                Petr Vandrovec
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/