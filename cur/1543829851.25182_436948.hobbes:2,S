Date: Mon, 26 Jun 2006 16:22:47 +1000
From: Keith Owens <>
Subject: Re: 2.6.17-mm2 -- drivers/built-in.o: In function `is_pci_dock_device':acpiphp_glue.c:(.text+0x12364): undefined reference to `is_dock_device'
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/26/22

Keith Owens (on Mon, 26 Jun 2006 15:56:49 +1000) wrote:
>"Miles Lane" (on Sun, 25 Jun 2006 13:13:04 -0700) wrote:
>>Should I attach my entire .config file in the future?  It's large enough that
>>I try to trim it to avoid bloating people's inboxes.
>
>Mail the result of
>
>  sed -ne 's/^CONFIG_//p' .config
>
>That is typically less than 40% of the full .config size, and it can be
>fully regenerated by
>
>  yes '' | make oldconfig
Sorry, that should be
  yes 'n' | make oldconfig
and it turns out that this no longer works.  It used to work with the
old config system, but Kconfig gets confused by choices if the input
.config only has the selected choice and is missing the alternates.
For example, Kconfig accepts this
  CONFIG_X86_PC=y
  # CONFIG_X86_ELAN is not set
  # CONFIG_X86_VOYAGER is not set
  # CONFIG_X86_NUMAQ is not set
  # CONFIG_X86_SUMMIT is not set
  # CONFIG_X86_BIGSMP is not set
  # CONFIG_X86_VISWS is not set
  # CONFIG_X86_GENERICARCH is not set
  # CONFIG_X86_ES7000 is not set
  # CONFIG_M386 is not set
  # CONFIG_M486 is not set
  # CONFIG_M586 is not set
  # CONFIG_M586TSC is not set
  # CONFIG_M586MMX is not set
But will not accept CONFIG_X86_PC=y on its own.  Kconfig insists that
you manually select an option, even though only one valid option has
already been selected.  IOW, .config lines that are commented out
sometimes mean something to Kconfig :(
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/