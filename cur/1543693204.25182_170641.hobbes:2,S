Date: Sun, 5 Oct 2003 16:49:37 -0700
From: Mike Fedyk <>
Subject: Re: swap and 2.4.20
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/5/145

On Sun, Oct 05, 2003 at 06:19:26PM -0400, Hacksaw wrote:
> In fact, thinking about what might be involved to make that possible hurts my 
> head. Well maybe not. I wonder if you could have a mechanism that causes the 
> entire library to be paged out and reloaded if while paging the version is 
> discovered to have changed.
> 
> In many ways this would be cool, as it would mean that running apps could stay 
> up and yet get bugs fixed.
> 
> I'm guessing that would require there to be no static variables in the 
> library, as well as being fully reentrant, or that that any statics are in a 
> page whose format doesn't change and is locked down for the switch.
What you are talking about is equivalent to binary patching.
Now if your app could unload the library entirely, it could just reload the
updated copy.  But I really fail to see why the mechanism you are talking
about is needed.
If you have an app that needs to be available every second, then you need a
failover system, and why not just have three where you can take one down at
any time for updates(and still have one for failover during the update,
though you could get by with only two, and take down the fail-over machine
during the update)? 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/