Date: Wed, 09 Jan 2008 20:30:04 -0600
From: Matt Mackall <>
Subject: Re: Replacement for page fault notifiers?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/9/424

On Wed, 2008-01-09 at 21:21 -0500, Pavel Roskin wrote:
> On Wed, 2008-01-09 at 20:03 -0600, Matt Mackall wrote:
> 
> > That makes it way too easy for drivers of questionable legality to just
> > clear that bit. Also, we've got a shortage of page bits, etc.
> 
> If we ever have this problem, the bit can be changed in the kernel to
> fool those drivers (I hope the shortage is not so dire that there will
> be no more bits left).
That's what we call an arms race. And yes, page bits are close to
running out on 32-bit.
> I don't think evil drivers should be a problem per se.  There are
> existing non-free drivers that still need to be traced over and over
> again.  I guess ndiswrapper could use tracing for Windows drivers that
> don't know anything about Linux page flags.
> 
> Last but not least, mmiotrace should be useful for free drivers in the
> first place to have a legitimate reason to be in the kernel.
I definitely agree that tracing MMIO is an extremely useful feature.
I've implemented it myself once already for 2.4.
-- 
Mathematics is the supreme nostalgia of our time.