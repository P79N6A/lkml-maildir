Date: Wed, 1 Feb 2006 11:44:29 +0900
From: Tejun Heo <>
Subject: Re: Libata, bug 5700.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/31/323

On Sat, Jan 28, 2006 at 01:56:21PM +0200, Lasse K??rkk??inen / Tronic wrote:
> 
http://bugzilla.kernel.org/show_bug.cgi?id=5700
> 
> I reported this bug a while back, but it hasn't received any feedback.
> Jeff Garzik didn't respond to the email that I sent to him either. What's up?
> 
Hello, Lasse.
Can you please apply the following patch and report the result?  It
seems that your drive/controller times once in a while and the timed
out command gets completed twice somehow.  The following patch will
show us what's completing it the second time.  Also, posting full
kernel log will be helpful too.  Among other things, I'm curious
whether there were any recovered timeouts before.
diff --git a/include/linux/libata.h b/include/linux/libata.h
index 41ea7db..28f247a 100644
--- a/include/linux/libata.h
+++ b/include/linux/libata.h
@@ -68,6 +68,7 @@
         if(unlikely(!(expr))) {                                   \
         printk(KERN_ERR "Assertion failed! %s,%s,%s,line=%d\n", \
         #expr,__FILE__,__FUNCTION__,__LINE__);          \
+        dump_stack(); \
         }
 #endif
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/