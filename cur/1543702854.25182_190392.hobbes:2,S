Date: Mon, 12 Jan 2004 11:49:17 +0100
From: Christophe Saout <>
Subject: Re: [Bug 1764] New: conntrack oops while reading /proc/net/ip_conntrack
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/12/47

Am Sa, den 03.01.2004 schrieb Rusty Russell um 05:29:
> > 
http://bugme.osdl.org/show_bug.cgi?id=1764
> > 
> >            Summary: conntrack oops while reading /proc/net/ip_conntrack
> >     Kernel Version: 2.6.0
> >             Status: NEW
> >           Severity: high
> >              Owner: laforge@gnumonks.org
> >          Submitter: christophe@saout.de
> ...
> > Apparently expect->expectant->helper is NULL in print_expect
> > (net/ipv4/netfilter/ip_conntrack_standalone.c).
> 
> Um, Harald, other developers,
> 
> 	Shouldn't list_conntracks do READ_LOCK(&ip_conntrack_expect_tuple_lock) before walking the expect list?
> 
> Here's a patch.  Does it do anything?
The problem seems to fixed. The machine was stable the last week, before
it crashed at least once a day.
thanks.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/