Date: Sun, 28 Oct 2001 22:36:51 -0600
From: Taral <>
Subject: Re: /proc/net/ip_conntrack problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/28/127

On Mon, Oct 29, 2001 at 03:27:52PM +1100, Keith Owens wrote:
> Some /proc output is blocked, it will only return complete lines.  If
> your buffer is not big enough to hold the next line then you don't get
> anything at all.  Try cat /proc/net/ip_conntrack | wc.
So why are 2 lines missing when I change the blocking factor from 256 to
512? Even cat reads in 16k blocks... Also:
% dd if=/proc/net/ip_conntrack bs=512 | perl -ne 'print length()."\n"'
0+2 records in
0+2 records out
153
138
169
151
167
139
No line is longer than 256 chars, so why are 2 lines missing when I read
in 256 byte blocks?
-- 
Taral <taral@taral.net>
This message is digitally signed. Please PGP encrypt mail to me.
"Any technology, no matter how primitive, is magic to those who don't
understand it." -- Florence Ambrose
[unhandled content-type:application/pgp-signature]