Date: Wed, 12 Nov 2003 22:03:56 +1100
From: Ian Wienand <>
Subject: [PATCH] Fix compliation with iBook (750FX) 2.6.0-test9
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/12/38

Hi,
This change
http://ppc.bkbits.net:8080/linuxppc-2.5-benh/cset@1.1213?nav=index.html
gave me an error 
Error: unsupported relocation against SPRN_HID2
Google tells me this was hit in 2.4 as well when some changes were made.
Attached patch makes it work for me.
-i
ianw@gelato.unsw.edu.au
http://www.gelato.unsw.edu.au
===== include/asm-ppc/reg.h 1.8 vs edited =====
--- 1.8/include/asm-ppc/reg.h	Thu Oct 30 14:25:31 2003
+++ edited/include/asm-ppc/reg.h	Wed Nov 12 21:55:26 2003
@@ -177,6 +177,7 @@
 #define HID0_NOPTI	(1<<0)		/* No-op dcbt and dcbst instr. */
 
 #define SPRN_HID1	0x3F1		/* Hardware Implementation Register 1 */
+#define SPRN_HID2	0x3F8		/* Hardware Implementation Register 2 */
 #define HID1_EMCP	(1<<31)		/* 7450 Machine Check Pin Enable */
 #define HID1_PC0	(1<<16)		/* 7450 PLL_CFG[0] */
 #define HID1_PC1	(1<<15)		/* 7450 PLL_CFG[1] */