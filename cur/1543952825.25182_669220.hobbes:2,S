Date: Wed, 19 Mar 2008 22:42:27 +0100
From: Ingo Molnar <>
Subject: Re: [2/2] vmallocinfo: Add caller information
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/19/450

* Christoph Lameter <clameter@sgi.com> wrote:
> Add caller information so that /proc/vmallocinfo shows where the 
> allocation request for a slice of vmalloc memory originated.
please use one simple save_stack_trace() instead of polluting a dozen 
architectures with:
> -	return __ioremap(phys_addr, size, IOR_MODE_UNCACHED);
> +	return __ioremap_caller(phys_addr, size, IOR_MODE_UNCACHED,
> +						__builtin_return_address(0));
	Ingo