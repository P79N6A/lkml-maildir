Date: Fri, 2 Jun 2006 11:25:44 -0700
From: Andrew Morton <>
Subject: Re: 2.6.17-rc5-mm2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/2/208

On Fri, 2 Jun 2006 06:14:21 -0700
"Barry K. Nathan" <barryn@pobox.com> wrote:
> (Ingo, I got your e-mail too, and I will reply to it once I've
> followed your instructions.)
> 
> On 6/1/06, Andrew Morton <akpm@osdl.org> wrote:
> > Damn, sorry.  LLC is completely borked.  You should emphatically set
> > CONFIG_LLC=n.
> 
> Just one problem with that...
> 
> config ATALK
>         tristate "Appletalk protocol support"
>         select LLC
> 
> This box runs netatalk for both file and print service, but I could
> temporarily disable it for testing... Ok, the kernel's up and running
> w/o CONFIG_LLC and CONFIG_ATALK now, and the warning still happened at
> boot time, but it has stayed up for over an hour without keeling over
> with a panic.
We have a probable fix for the LLC problem.  I placed this in the hot-fixes
directory:
diff -puN net/llc/llc_input.c~git-net-llc-fix net/llc/llc_input.c
--- devel/net/llc/llc_input.c~git-net-llc-fix	2006-06-01 19:34:28.000000000 -0700
+++ devel-akpm/net/llc/llc_input.c	2006-06-01 19:34:28.000000000 -0700
@@ -176,7 +176,6 @@ int llc_rcv(struct sk_buff *skb, struct 
  		struct sk_buff *cskb = skb_clone(skb, GFP_ATOMIC);
  		if (cskb)
  			rcv(cskb, dev, pt, orig_dev);
-		rcv(skb, dev, pt, orig_dev);
 	}
 	dest = llc_pdu_type(skb);
 	if (unlikely(!dest || !llc_type_handlers[dest - 1]))
_
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/