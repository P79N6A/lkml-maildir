Date: Mon, 13 Jun 2005 16:32:55 +0200
From: Bernd Petrovitsch <>
Subject: Re: A Great Idea (tm) about reimplementing NLS.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/13/96

On Mon, 2005-06-13 at 17:54 +0400, Alexey Zaytsev wrote:
> On 13/06/05, Bernd Petrovitsch <bernd@firmix.at> wrote:
> > On Mon, 2005-06-13 at 14:38 +0400, Alexey Zaytsev wrote:
> > [ Filenames with another encoding ]
> > > Some would suggest not to use non-ascii file names at all, some would
> > > say that I should temporary change my locale, some could even offer me
> > > a perl script they wrote when faced the same problem. All these
> > > solutions are inconvenient and conflict with fundamental VFS concepts.
> >                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> > In what way?
> > Basically you just rename the files. How can this conflict with
> > "fundamental VFS concepts" (and with which).
> 
> I can't rename files on Pupkin's drive because he won't like it. ;)
.... which has IMHO nothing to do with the VFS (or concepts behind it).
> In the case with a flash drive I can copy all the files to my computer
> and rename them, but I can't do it with a bigger media like hard disk.
You forgot CDs/DVDs and other inherently read-only media with such
strange filenames.
> The main idea of VFS is that you can access your files in the same way
> on any supported file system. But actually you can't simple access
> different-encoded non-ascii files on a filesystem that has no NLS,
> like ext or reiser.
I don't think that any filesystem knows about the encoding of every
filename - after all it is up to the user which encoding he uses for a
given file (and no, no one forces me to use the same encoding on the
names of all of "mine" files).
IOW given a FAT filesystem on an USB stick, which codepage should be
used?
Perhaps it makes sense to start a prototype with a FUSE (or similar)
module. You could use standard libs to convert without messing around in
the kernel (and I don't think someone wants to have an encoding
conversion layer in the kernel).
	Bernd
-- 
Firmix Software GmbH                   
http://www.firmix.at/
mobil: +43 664 4416156                 fax: +43 1 7890849-55
          Embedded Linux Development and Services
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/