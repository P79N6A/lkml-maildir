Date: Fri, 04 Jun 1999 17:08:10 -0400
From: Justin Hahn <>
Subject: [patch] Quiet boot.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/4/160

Hi,
I've created a patch to cause the kernel to boot quietly until init
starts (at which point, it's up to your init scripts to be
quiet). Boot messages still go to syslog. 
Usage:
- supply "quiet" to the command line and the kernel will boot quietly.
- the command line "noisy" will revert to normal behavior (if, for example,
  your boot is failing and quiet is in your LILO append line). 
This patch is against 2.2.6, but should move real easily to other
versions. Anyone have a reason why I shouldn't ask Linus to include
this in the standard kernel?
--- linux.old/init/main.c	Wed Apr 21 16:52:37 1999
+++ linux.dev/init/main.c	Fri Jun  4 16:55:53 1999
@@ -60,6 +60,7 @@
 extern char *linux_banner;
 
 extern int console_loglevel;
+extern int default_console_loglevel;
 
 static int init(void *);
 extern int bdflush(void *);
@@ -1024,6 +1025,14 @@
 		}
 		if (!strcmp(line,"rw")) {
 			root_mountflags &= ~MS_RDONLY;
+			continue;
+		}
+		if (!strcmp(line,"quiet")) {
+			console_loglevel = 1;
+			continue;
+		}
+		if (!strcmp(line,"noisy")) {
+			console_loglevel = default_console_loglevel;
 			continue;
 		}
 		if (!strcmp(line,"debug")) {