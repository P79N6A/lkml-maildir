Date: Sun, 29 Jun 2003 20:53:03 -0400
From: Ed Sweetman <>
Subject: 2.5.73-mm2 ftp conntrack/nat not working
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/29/172

Normally, people access the ftp server with passive mode. This worked 
with my previous kernel on the router, 2.4.18. After updating, the box 
seems to miss the last packet(s) from the ftp server or client when 
finishing a transfer, such as a list or changing directory when using 
passive mode. I'm fairly sure it is a problem in one or both of the 
netfilter ftp modules because when not DNAT'ing the packets (ie. when 
accessing the server from the router itself) everything works as 
expected.  I'm not aware of any netfilter patches in the mm2 patchset so 
i think this is also a problem with the stock 2.5.73 release.  Can 
anyone else verify the problem or have experience with something 
similar.  Active mode seems to bypass the problem, further suggesting 
the netfilter modules i think?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/