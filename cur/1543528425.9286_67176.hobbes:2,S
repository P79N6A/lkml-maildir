Date: Fri, 3 Mar 2000 06:44:13 -0700
From:  yodaiken@fsmlabs ...
Subject: Re: new IRQ scalability changes in 2.3.48
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/3/69

On Fri, Mar 03, 2000 at 03:25:23PM +0100, Ingo Molnar wrote:
> check out the fast path of level-triggered PCI IRQs:
> 
> 	do_IRQ()
> 	mask_and_ack_level_ioapic_irq: empty!
> 	->handler()
> 	end_level_ioapic_irq: a fast local-APIC write
> 
> no lowlevel spinlock taken. This is actually the case where the IOAPIC IRQ
> hardware turned out to be very sane. The borken edge-triggered case is
> nicely isolated.
I have not looked at the APIC docs recently, but
doesn't this block irqs during the "fast path" ?
Since we need a spin lock anyways in doIRQ, I still don't get how
this makes things any better.
-- 
---------------------------------------------------------
Victor Yodaiken 
FSMLabs:  www.fsmlabs.com  www.rtlinux.com
FSMLabs is a servicemark and a service of 
VJY Associates L.L.C, New Mexico.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/