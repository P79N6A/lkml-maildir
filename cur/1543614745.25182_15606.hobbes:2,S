Date: Fri, 28 Dec 2001 13:55:32 -0800
From: "H. Peter Anvin" <>
Subject: Re: zImage not supported for 2.2.20?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/28/116

Andries.Brouwer@cwi.nl wrote:
> 
> I my A20 writeup (
http://www.win.tue.nl/~aeb/linux/kbd/A20.html
) I wrote:
> 
> ------------------------------------------------------------------------
> Jens Maurer reported in 1996 on boot problems with a bzImage kernel: 
> 
>     On the Toshiba laptop, the first two bytes at 0x100000 are incorrect
>     and identical to those from address 0x000000 (which was an alias for
>     0x100000 before the A20 gate enable). At a second read from 0x100000
>     immediately afterwards, the correct memory content is returned.
>     Asus P55TP5XE boards (Triton I chipset) show quite the same problem,
>     but there, only the first byte is incorrect and booting bzImage kernels
>     works fine. To me, this looks like some buffer or cache coherency
>     problem although I think that caches are organized in at least 16
>     byte cache lines. ... This exact same problem reportedly also exists
>     on Fujitsu 555T (report from Andrea Caltroni) laptop and Compudyne
>     Pentium 60 (report from David Kerr) desktop computers. 
> 
> He gives a patch, and adds "Unfortunately, Philip Hands reports that
> the above patch makes some people with other non-laptop computers unable
> to boot." 
> 
> Using zImage instead of bzImage avoids the problem (since zImage is not
> loaded high). Debian has distributed special Tecra boot floppies for a while.
> Later it was found out that these laptops just have an incredibly slow
> keyboard controller and that all is fine with a larger timeout. 
> ------------------------------------------------------------------------
> 
> Is this inaccurate?
> 
No, it's consistent with my information; the point is that the 
workaround for these laptops have existed for a long time... the timeout 
applied in current kernels is positively glacial.
	-hpa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/