Date: Sun, 27 May 2007 01:57:41 -0700
From: Greg KH <>
Subject: Re: Race free attributes in sysfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/27/12

On Sat, May 26, 2007 at 12:12:02PM -0400, Bill Davidsen wrote:
>  Greg KH wrote:
> > On Wed, May 23, 2007 at 09:27:12AM -0400, Mark Lord wrote:
> >>  Greg KH wrote:
> >>> And yes, it only starts to look for things when it recieves an event, it
> >>> does not "scan" sysfs at all.
> >>  Does it "look for" only that one event, or does it "scan" at that point?
> > udev will act on that event, and as I mentioned, not read anything from
> > sysfs at all, unless a custom rule is in the rules file asking it to
> > read a specific sysfs file in the tree.
> > So no "scanning" happens unless specificically asked for.
> > And as mentioned, udev can work just fine without sysfs enabled at all
> > now, with the exception of some custom rules for some devices.
>  I think what Mark is asking is about the case where udev gets an event, is 
>  told to look in sysfs, and while looking encounters a partially described 
>  device.
> 
>  Now that the "this won't happen unless..." cases, could someone cover this 
>  and state that it either can't happen because {reason} or that if it does 
>  the result will be {description}.
It can happen if the attributes are added after the device is created,
so you need to add your attributes to the default groups before it is
registered with the driver core.
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/