Date: 29 May 2002 17:20:54 -0700
From: john stultz <>
Subject: Re: [RFC] [PATCH] Disable TSCs on CONFIG_MULTIQUAD
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/29/218

> Add CONFIG_X86_TSC_NOT_SYNCHRONOUS or similar and then check
> 
> #if defined(CONFIG_X86_TSC) && !defined(CONFIG_X86_NOT_SYNCHRONOUS))
<laugh> I guess I asked for it. :) I actually implemented something
similar to the above earlier, and was convinced out of it. The trade off
with this method is that while it simplifies the config.in changes, it
complicates the 12 or so #ifdef CONFIG_X86_TSC lines. 
Keeping the "multi-quad TSCs are broken" fact in just one place
(config.in), rather then spread about the tree in precompiler
statements, seems like the best choice to me. I was actually hoping
there was a good config.in trick for turning CONFIG_X86_TSC off after it
had already been turned on, rather then adding a meta-option, but I'm
guessing there isn't.
Anyway, if you really would rather see what you suggested, I'll happily
change it (I do like the idea of breaking the CONFIG_X86_TSC_UNSYNCED
notion out of CONFIG_MULTIQUAD).
Thanks for the feedback!
-john
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/