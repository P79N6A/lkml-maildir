Date: Mon, 7 Jun 1999 22:58:16 -0400
From:  synflood@endor ...
Subject: PROBLEM:Kernel Oops Running NT inside VMWARE 1.0 Under 2.3.5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/7/234

[1.] One line summary of the problem:    
Kernel Oops Running NT under VMWARE 1.0 Under 2.3.5 
[2.] Full description of the problem/report:
running vmware 1.0 with NT 4.0 SP3 under kernel 2.3.5 produce a Oops and 
vmware stop working.
vmware under 2.2.9 runs ok. not tested under other 2.3 because i was unable 
to compile them.
under 2.3.5 andrea2 i got a solid lockup w/o any warning message. i will try
2.3.5-ac1 as soon it finish compiling.
[3.] Keywords (i.e., modules, networking, kernel):
kernel, vmware, vmnet
[4.] Kernel version (from /proc/version):
Linux version 2.3.5 (root@endor.sick.cl) (gcc version egcs-2.90.29 980515 (egcs-1.0.3 release)) #1 Thu Jun 3 21:50:23 CLT 1999
[5.] Output of Oops.. message (if applicable) with symbolic information 
     resolved (see Documentation/oops-tracing.txt)
Options used: -V (default)
              -o /lib/modules/2.3.5/ (default)
              -k /proc/ksyms (default)
              -l /proc/modules (default)
              -m /boot/System.map-2.3.5 (specified)
              -c 1 (default)
Jun  7 21:18:46 endor kernel: Unable to handle kernel NULL pointer dereference at virtual address 00000000 
Jun  7 21:18:46 endor kernel: current->tss.cr3 = 01341000, %cr3 = 01341000 
Jun  7 21:18:46 endor kernel: *pde = 00000000 
Jun  7 21:18:46 endor kernel: Oops: 0002 
Jun  7 21:18:46 endor kernel: CPU:    0 
Jun  7 21:18:46 endor kernel: EIP:    0010:[__pollwait+179/368] 
Jun  7 21:18:46 endor kernel: EFLAGS: 00010082 
Jun  7 21:18:46 endor kernel: eax: 00000016   ebx: c0648030   ecx: c01f5248   edx: c782c000 
Jun  7 21:18:46 endor kernel: esi: 00000086   edi: c1392000   ebp: c0648000   esp: c1393f04 
Jun  7 21:18:46 endor kernel: ds: 0018   es: 0018   ss: 0018 
Jun  7 21:18:46 endor kernel: Process vmware (pid: 1012, process nr: 79, stackpage=c1393000) 
Jun  7 21:18:46 endor kernel: Stack: c0648000 c54309e0 c1393f30 c80a7327 c54309e0 c17ad72c c0648000 00000000  
Jun  7 21:18:46 endor kernel:        00010000 00000010 00000292 00000000 c012fb4d c54309e0 c0648000 00000001  
Jun  7 21:18:46 endor kernel:        00000001 c3440298 c3440280 c1e67020 00000145 c54309e0 c1392000 00000001  
Jun  7 21:18:46 endor kernel: Call Trace: [<c80a7327>] [do_select+313/560] [sys_select+955/1312] [system_call+52/56] [startup_32+43/286]  
Jun  7 21:18:46 endor kernel: Code: c7 05 00 00 00 00 00 00 00 00 83 c4 04 8d 43 10 39 43 10 74
Trace: c80a7327 <END_OF_CODE+297cb/????>
Code:  00000000 Before first symbol            00000000 <_IP>: <===
Code:  00000000 Before first symbol               0:	c7 05 00 00 00 	movl   $0x0,0x0 <===
Code:  00000005 Before first symbol               5:	00 00 00 00 00 
Code:  0000000a Before first symbol               a:	83 c4 04       	addl   $0x4,%esp
Code:  0000000d Before first symbol               d:	8d 43 10       	leal   0x10(%ebx),%eax
Code:  00000010 Before first symbol              10:	39 43 10       	cmpl   %eax,0x10(%ebx)
Code:  00000013 Before first symbol              13:	74 00          	je      00000015 Before first symbol
3 warnings issued.  Results may not be reliable.
[6.] A small shell script or example program which triggers the
     problem (if possible)
[7.] Environment
[7.1.] Software (add the output of the ver_linux script here)
[root@endor /tmp]# sh /usr/src/linux/scripts/ver_linux
-- Versions installed: (if some fields are empty or looks
-- unusual then possibly you have very old versions)
Linux endor.sick.cl 2.3.5 #1 Thu Jun 3 21:50:23 CLT 1999 i686 unknown
Kernel modules         2.1.121
Gnu C                  egcs-2.90.29 980515 (egcs-1.0.3 release)
Binutils               2.9.1.0.15
Linux C Library        2.0.7
Dynamic linker         ldd (GNU libc) 2.0.7
Linux C++ Library      2.8.0
Procps                 1.2.9
Mount                  2.9
Net-tools              1.50
Kbd                    0.96
Sh-utils               1.16
Modules Loaded         vmnet vmmon nfsd lockd sunrpc ne2k-pci 8390 opl3 sb uart401 sound soundlow soundcore ncr53c8xx
[7.2.] Processor information (from /proc/cpuinfo):
processor       : 0
vendor_id       : GenuineIntel
cpu family      : 6
model           : 6
model name      : Celeron (Mendocino)
stepping        : 0
cpu MHz         : 451.030788
cache size      : 128 KB
fdiv_bug        : no
hlt_bug         : no
sep_bug         : no
f00f_bug        : no
coma_bug        : no
fpu             : yes
fpu_exception   : yes
cpuid level     : 2
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 sep mtrr pge mca cmov pat pse36 mmx osfxsr
bogomips        : 450.56
[7.3.] Module information (from /proc/modules):
vmnet                   8984   2
vmmon                  10268   1
nfsd                  149900   8 (autoclean)
lockd                  32004   1 (autoclean) [nfsd]
sunrpc                 50012   1 (autoclean) [nfsd lockd]
ne2k-pci                3684   1 (autoclean)
8390                    5740   0 (autoclean) [ne2k-pci]
opl3                   10420   1
sb                     32544   1
uart401                 5772   1 [sb]
sound                  57172   0 [opl3 sb uart401]
soundlow                 240   0 [sound]
soundcore               2348   6 [sb sound]
ncr53c8xx              50196   0 (unused)
[7.4.] SCSI information (from /proc/scsi/scsi)
Attached devices:
Host: scsi0 Channel: 00 Id: 04 Lun: 00
  Vendor: JVC      Model: XR-W2010         Rev: 1.51
  Type:   WORM                             ANSI SCSI revision: 02
[7.5.] Other information that might be relevant to the problem
       (please look in /proc and include all information that you
       think to be relevant):
[X.] Other notes, patches, fixes, workarounds:
Thank you
-- 
SynFl00d
email : synflood@endor.sick.cl
Efax Number : (815) 366-3177
ICQ : 6994327
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/