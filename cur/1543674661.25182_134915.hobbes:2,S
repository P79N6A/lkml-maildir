Date: 23 May 2003 16:42:37 +0200
From: Stian Jordet <>
Subject: Re: [2.5.69] rtnl-deadlock with usermodehelper and keventd
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/23/108

fre, 23.05.2003 kl. 11.43 skrev David S. Miller:
>    From: Martin Diehl <lists@mdiehl.de>
>    Date: Fri, 23 May 2003 11:38:38 +0200 (CEST)
> 
>    On Thu, 22 May 2003, David S. Miller wrote:
> 
>    >    Asking just because there was another user hitting this deadlock:
>    > 
>    > It's fixed in current 2.5.x sources, wake up :-)
> 
>    Oops, sorry for the noise, I hadn't noticed this yet.
> 
>    But nope, unfortunately it's still hanging! I've just tested with 
>    2.5.69-bk15. Running into the same deadlock due to sleeping with rtnl 
>    hold. This time however it seems it's triggered from sysfs side!
> 
> Stephen, you need to do the device class stuff outside of the RTNL
> lock please.
> 
> At least I didn't add this bug :-)
> 
> This should fix it.
And so it did :-) Thanks.
Best regards,
Stian
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/