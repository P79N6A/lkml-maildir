Date: Mon, 9 Aug 1999 22:52:18 +0100 (GMT)
From: Matthew Kirkwood <>
Subject: Re: problems with large directories - not only ext2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/11/81

On Sat, 7 Aug 1999, Marc Lehmann wrote:
> Linux gets extremely slow on operations like "ls", when done on large
> directories (1000+ files). For example, when listing a few large news
> directories I can watch how my window manager re-draws its windows,
> and typing in commands is awkward (but possible).
> Until now I thought this was a limitation of ext2. But just now I ls
> -lR a cd with large directories, and the result was just the same.
Actually, it is just an fs-specific thing.  It happens to be specific to
almost most of the common) filesystems that Linux supports, that's all :)
Has Reiser hopes to get a reiserfs patch against 2.3 out sometime this
week (a new 2.2 patch is available already).  Perhaps if you try that you
may not see such misbehaviour.
I suspect that you see it more with the dcache because it will incur fewer
blocking operations during the readdir/stat syscalls.  2.3 has a lot less
filesystem operation serialised, so you may see significant improvements
there.
Matthew.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/