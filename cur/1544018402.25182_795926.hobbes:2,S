Date: Thu, 22 Jan 2009 20:55:58 +0100
From: Ingo Molnar <>
Subject: Re: System clock runs too fast after 2.6.27 -> 2.6.28.1 upgrade
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/22/281

* Miklos Vajna <vmiklos@frugalware.org> wrote:
> On Wed, Jan 21, 2009 at 01:34:06PM -0800, john stultz <johnstul@us.ibm.com> wrote:
> > Miklos: Can you try bisecting this down some?
> 
> I did it two times when I finally realised that it depends on the
> config. So currently I have two config files, with "-good" the clock is
> fine, with "-bad" it's too fast.
> 
> Of course the diff contains unrelated changes as well, I'm trying to 
> find which one is the problematic one.
these look suspect in the good->bad diff:
 # CONFIG_X86_VOYAGER is not set
 # CONFIG_X86_GENERICARCH is not set
 # CONFIG_X86_VSMP is not set
-# CONFIG_X86_VISWS is not set
-# CONFIG_X86_RDC321X is not set
+CONFIG_X86_VISWS=y
+CONFIG_X86_RDC321X=y
 CONFIG_SCHED_NO_NO_OMIT_FRAME_POINTER=y
-# CONFIG_PARAVIRT_GUEST is not set
+CONFIG_PARAVIRT_GUEST=y
+# CONFIG_VMI is not set
+CONFIG_KVM_CLOCK=y
+CONFIG_KVM_GUEST=y
+CONFIG_LGUEST_GUEST=y
+CONFIG_PARAVIRT=y
+CONFIG_PARAVIRT_CLOCK=y
+# CONFIG_PARAVIRT_DEBUG is not set
 CONFIG_MEMTEST=y
	Ingo