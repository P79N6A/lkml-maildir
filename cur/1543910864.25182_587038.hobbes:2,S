Date: Wed, 22 Aug 2007 08:37:01 +0200
From: "Marco Costalba" <>
Subject: Re: [PATCH] qconf: show red links for disabled options
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/22/21

On 8/21/07, Roman Zippel <zippel@linux-m68k.org> wrote:
>
> The way you currently define "disabled" means that even symbols set to 'm'
> are disabled, I don't think that's what you really mean. :) When seeing
> disabled I also first thought of the option being completely invisible due
> to dependencies.
>
Thanks for your feedback Roman.
What about something like this?
	if (sym && sym->name && !(sym->flags & SYMBOL_CONST)) {
+		bool isNotSelected = (print_filter(sym_get_string_value(sym)) == "n");
+		if (isNotSelected) {
+			const QColor c(palette().disabled().text());
+			*text += "<font color=\"" + c.name() + "\">";
+		}
		*text += QString().sprintf("<a href=\"s%p\">", sym);
		*text += str2;
		*text += "</a>";
+		if (isNotSelected)
+			*text += "</font>";
It it's ok for you I can resend a proper patch along the above lines.
> > This, together with 'Show all options', allows to quickly
> > check out why a given option is hidden.
>
> Dependencies can also be something like !FOO, in this case you want FOO to
> be disabled for option to be unhidden. So if this is intended as a simple
> "Click this link to enable this option", then this requires a bit more
> work. :)
>
No it is not intended like a 'click me to enable this option', just as
a monitor of current option value.
BTW we can have a disabled symbol in the dependency list of a
currently enabled option if this is preceded by a '!'. So that in this
case you probably would not want to click anywhere.
Thanks
Marco
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/