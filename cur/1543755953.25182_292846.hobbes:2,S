Date: Fri, 4 Feb 2005 16:00:37 -0600
From: Tom Zanussi <>
Subject: Re: [PATCH] relayfs redux, part 3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/2/4/261

Christoph Hellwig writes:
 > First set of comments.  Mostly ignores the actual filesystem sematics
 > bits, that'll come next.
 > 
 > 
 > > +#
 > > +# relayfs Makefile
 > > +#
 > 
 > probably superflous comment ;-)
 > 
 > > +	mem = vmap(*page_array, *page_count, GFP_KERNEL, PAGE_KERNEL);
 > 
 > Do you really need to vmap it, and eat up vmallocspace and TLB entries?
 > Maybe some simple arithmetics on a page array could replace it?
 > 
I would really like to not vmap it, but I don't know how else to
create a large kernel virtual address space for the large buffers that
might be needed for some applications like ltt.  Maybe managing a
bunch of large kmalloc'ed buffers instead would work, but there's no
guarantee how many of those you'd be able to get at one time.  Doing
arithmetic on pages seems like it would be too much overhead for the
fast logging path, but please let me know if I'm missing something.
Thanks for all the other comments - I'll be sure to make those fixes.
Tom
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/