Date: Sat, 22 May 2004 12:03:28 -0400
From: Alan Cox <>
Subject: Re: PATCH: Stop megaraid trashing other i960 based devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/22/86

On Sat, May 22, 2004 at 12:02:05PM -0400, hch@infradead.org wrote:
> > +		   	return -ENODEV;
> > +		/* Now check the magic signature byte */
> > +		pci_read_config_word(pdev, PCI_CONF_AMISIG, &magic);
> > +		if(magic != HBA_SIGNATURE_471 && magic != HBA_SIGNATURE)
> > +			return -ENODEV;
> > +		/* Ok it is probably a megaraid */
> > +	}
> 
> I think we should add all valid subvendor ids to the pci_id table instead.
> Especially to not consude the hotplug package.
Most of the megaraids don't have subvendor ids... so that doesn't work at
all.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/