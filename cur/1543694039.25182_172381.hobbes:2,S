Date: Mon, 13 Oct 2003 17:25:12 -0600
From: "Charles Martin" <>
Subject: how to build a working 2.6 kernel with SATA
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/13/182

I am trying to build a bootable 2.6 kernel for a Dell 8300, 
which has both the onboard ICH5 SATA controller and a PCI 
Promise S150 SATA controller. Two drives are connected to 
the Promise card, configured for mirroring. I've installed 
RH9, using the proprietary driver from Promise. 
I've been working with 2.6.0-test7. I apply the test7-bk2 patch, 
followed by the test7-bk2-libata patch. This is followed by the standard
make bzImage && make modules && make modules_install && make install.
Note that I have to comment out scsi_hostadapter in /etc/modules.conf
in order for the mkinitrd to succeed during "make install".
I can't seem to get a kernel and initrd combination built
that will boot. I have seen a variety of boot problems,
but they usually seem to be related to a failure trying
to mount the root file system. For instance, the boot
gives the error "error 6 mounting ext3" when trying to 
mount the root filesystem. Pivotroot then fails after this.
I've tried several permutations on having the serial ata built-in, 
versus a module, with varying but always negative results.
Perhaps there is a key step that I am not aware of? Does
my procedure sound correct?
Thanks,
Charlie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/