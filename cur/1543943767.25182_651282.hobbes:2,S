Date: Sun, 10 Feb 2008 18:59:39 +0100 (CET)
From: Guennadi Liakhovetski <>
Subject: Re: [PATCH] Define a NO_GPIO macro to compare against and to use as an invalid GPIO
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/10/194

David, you convinced me:-) I'll redo the patch. Just one comment:
On Sat, 9 Feb 2008, David Brownell wrote:
> On Saturday 09 February 2008, Guennadi Liakhovetski wrote:
> 
> > And when those platforms share drivers, problems  
> > arise. And the simple and efficient NO_IRQ notion, that would fis those 
> > problems nicely, cannot seem to establish itself.
> 
> Inertia is one of the problems there ... plus, the only
> obvious advantage of "#define NO_IRQ 0" is that it makes
> it easier to be lazy about initialization.
> 
> Plus, changing platforms to use that convention means they
> mostly need to adopt an *unnatural* step of mapping from the
> hardware IRQ numbers (which often start at zero, as they do
> on one system I just ssh'd into) to some "logical" ID.
> Even if you believe that's worthwhile, it's work; and it
> could easily break something.
NO_IRQ doesn't have to be 0. Platforms, where 0 is a valid number can use 
-1, or 256, or whatever they want:-)
Thanks
Guennadi
---
Guennadi Liakhovetski