Date: Mon, 13 Sep 2004 15:13:17 +0400
From: Nikita Danilov <>
Subject: Re: 2.6.9-rc1-mm5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/13/64

Rafael J. Wysocki writes:
 > On Monday 13 of September 2004 10:50, Andrew Morton wrote:
 > > 
 > > Due to master.kernel.org being on the blink, 2.6.9-rc1-mm5 Is currently at
 > > 
 > > 
http://www.zip.com.au/~akpm/linux/patches/2.6.9-rc1-mm5/
 > 
 > I can't build it on x86-64:
 > 
 >   LD      init/built-in.o
 >   LD      .tmp_vmlinux1
 > fs/built-in.o(.text+0xd1893): In function `mask_ok_common':
 > : undefined reference to `vfs_permission'
 > make: *** [.tmp_vmlinux1] Error 1
reiser4 wasn't updated during vfs_permission/generic_permission
conversion. Evil conspiracy is obviously underway.
Untested patch is below.
Andrew, please apply.
Nikita.
----------------------------------------------------------------------
--- perm.c	2004-05-17 14:04:55.000000000 +0400
+++ perm.c.new	2004-09-13 15:07:10.432547928 +0400
@@ -13,7 +13,7 @@
 static int
 mask_ok_common(struct inode *inode, int mask)
 {
-	return vfs_permission(inode, mask);
+	return generic_permission(inode, mask, NULL);
 }
 
 static int
----------------------------------------------------------------------
 > The .config is attached.
 > 
 > Greets,
 > RJW
 > 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/