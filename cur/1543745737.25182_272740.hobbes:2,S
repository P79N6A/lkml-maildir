Date: Fri, 19 Nov 2004 20:06:15 -0600
From: Robin Holt <>
Subject: Re: page fault scalability patch V11 [0/7]: overview
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/19/312

On Fri, Nov 19, 2004 at 11:42:39AM -0800, Christoph Lameter wrote:
> Note that I have posted two other approaches of dealing with the rss problem:
> 
> A. make_rss_atomic. The earlier releases contained that patch but then another
>    variable (such as anon_rss) was introduced that would have required additional
>    atomic operations. Atomic rss operations are also causing slowdowns on
>    machines with a high number of cpus due to memory contention.
> 
> B. remove_rss. Replace rss with a periodic scan over the vm to determine
>    rss and additional numbers. This was also discussed on linux-mm and linux-ia64.
>    The scans while displaying /proc data were undesirable.
Can you run a comparison benchmark between atomic rss and anon_rss and
the sloppy rss with the rss and anon_rss in seperate cachelines.  I am not
sure that it is important to seperate the two into seperate lines, just
rss and anon_rss from the lock and sema.
If I have the time over the weekend, I might try this myself.  If not, can
you give it a try.
Thanks,
Robin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/