Date: Mon, 7 May 2007 01:27:41 +0200 (CEST)
From: Jiri Kosina <>
Subject: Re: Appletouch is gone!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/6/169

On Thu, 3 May 2007, Thomas Meyer wrote:
> With current git head from linus' tree and LOCALVERSION_AUTO [=y] and 
> USB_APPLETOUCH [=m]
> find /lib/modules/ -name apple*
> /lib/modules/2.6.20/kernel/drivers/usb/input/appletouch.ko
> /lib/modules/2.6.21/kernel/drivers/usb/input/appletouch.ko
This doesn't seem to be a bug specific to current state of the git tree. 
You probably previously had .config which selected some other driver from 
drivers/usb/input and therefore build system correctly descended into it. 
The patch below should solve your issue.
Greg, could you please take it through your tree? Thanks.
From: Jiri Kosina <jkosina@suse.cz>
USB: add forgotten values to Makefile
There are several CONFIG_ values related to drivers/usb/input directory
that are missing in drivers/usb/Makefile, and therefore they are not
sufficient to cause Kbuild to recurse into input/ subdirectory when they
are set.
Add missing values.
Signed-off-by: Jiri Kosina <jkosina@suse.cz>
diff --git a/drivers/usb/Makefile b/drivers/usb/Makefile
index f5de58a..18ef432 100644
--- a/drivers/usb/Makefile
+++ b/drivers/usb/Makefile
@@ -25,12 +25,18 @@ obj-$(CONFIG_USB)		+= storage/
 
 obj-$(CONFIG_USB_ACECAD)	+= input/
 obj-$(CONFIG_USB_AIPTEK)	+= input/
+obj-$(CONFIG_USB_APPLETOUCH)	+= input/
 obj-$(CONFIG_USB_ATI_REMOTE)	+= input/
+obj-$(CONFIG_USB_ATI_REMOTE2)	+= input/
+obj-$(CONFIG_USB_GTCO)		+= input/
 obj-$(CONFIG_USB_KBTAB)		+= input/
+obj-$(CONFIG_USB_KEYSPAN_REMOTE)	+= input/
 obj-$(CONFIG_USB_MTOUCH)	+= input/
 obj-$(CONFIG_USB_POWERMATE)	+= input/
+obj-$(CONFIG_USB_TOUCHSCREEN)	+= input/
 obj-$(CONFIG_USB_WACOM)		+= input/
 obj-$(CONFIG_USB_XPAD)		+= input/
+obj-$(CONFIG_USB_YEALINK)	+= input/
 
 obj-$(CONFIG_USB_CATC)		+= net/
 obj-$(CONFIG_USB_KAWETH)	+= net/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/