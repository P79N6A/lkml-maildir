Date: Sat, 05 Oct 2002 19:10:33 -0400
From: "Lawrence A. Wimble" <>
Subject: Bizarre network issue
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/5/172

Greetings.....
I am working on a driver for generic serial-based radios (e.g, Coyote 
Datacomm
DR-915 and Microhard MHX-910, etc..), that basically allows the radio to 
be used
as a network interface, much in the spirit of STRIP.  Kernel is 2.4.8 
(mandrake 8.1).
Given that the radios pose an "unknown", I have gone to a NULL-modem cable
until this issue is resolved.  Here's what *is* working across my interface:
1. ARP ... tcpdump shows both the request AND reply.
2. PING ... Getting approx 120ms round trip with the MHX-910s (23ms null 
modem)
3. UDP ... Works perfectly with netcat in both directions.
Here's what *is not* working:
4. TCP .... tcpdump shows the SYN packet, but no SYN/ACK ever appears
5. ICMP 3/3 ... If I try a UDP session when there's no-body "listening" 
on that
    remote port, no "Port Unreachable" message is ever sent back to the 
sending host.
The fact that items 1 though 3 work, indicate that 4 and 5 should work 
as well,
but they don't.  I have added a debug statement to my driver's 
"hard_start_xmit"
routine to write to syslog when it's called.  The kernel does not even 
appear to
be calling the routine to respond to TCP SYN's or UDP packets headed for
an unreachable port.
The worst part of this is that TCP was working fine across this 
interface about
a month ago.  When I went to pick up where I left off from is when this 
behavior
started to exhibit itself.  Any ideas?
Please CC me personally on responses as I am not subscribed to the list.
TIA,
Larry
-- 
Lawrence A. Wimble                          414 NE 3rd Street; Suite B
Chief Software Engineer                     Crystal River, FL 34429
Design On Demand, Inc.                      Phone 352-563-1225 x112
law@dodinc.com                              Fax 352-563-2098
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/