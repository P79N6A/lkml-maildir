Date: Thu, 2 Jan 2003 14:28:16 -0800
From: Larry McVoy <>
Subject: Re: [PATCH] TCP Zero Copy for mmapped files
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/2/227

> > 1) Does not handle writes that straddle multiple VMAs
> 
> What exactly do you mean? In my test, files larger than a
> page were handled perfectly, as well.
	mmap(file1 at location [a,b)
	mmap(file2 at location [b,c)
	write(sock, a, (size_t)(c - a));
> However, I didn't like the VM waste either, but I believe there
> is no other way.
The VM cost hurts.  Badly.  Imagine that the network costs ZERO.  Then
the map/unmap/vm ops become the dominating term.  That's why it is a
fruitless approach, it still has a practical limit which is too low.
-- 
---
Larry McVoy            	 lm at bitmover.com           
http://www.bitmover.com/lm
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/