Date: Fri, 09 Jul 2004 21:24:37 +1000
From: Nick Piggin <>
Subject: Re: Autoregulate swappiness & inactivation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/9/76

FabF wrote:
> On Fri, 2004-07-09 at 12:43, Nick Piggin wrote:
>>pdflush is used to perform writeout of dirty data, so it has
>>no part in reducing Mozilla's RSS.
> 
> Oops ... kswapd then ?
> 
Yep.
> 
>>I don't really understand what you are asking though. Your basic
>>problem is that mozilla's resident memory gets evicted too easily,
>>is that right?
>>
> 
> Not at all.My problem is mozilla has some MB to recover when
> reactivating; meanwhile, I consider there was sufficient resource to
> share with it _before_ reactivation as I'm waiting some minutes after an
> heavy process (e.g updatedb) to be done and over.
> 
You could try my -np7 patch, which would hopefully fix the problem
for you.
It may take some time and work before (if ever) the memory management
patches in it are merged though.
> AFAICS, Con's patches are about auto-regulation, not about anticipation
> (?)
> 
Yep. Con's patch changes the conditions that are required to start
reclaiming mapped pages. Basically: when to start swapping.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/