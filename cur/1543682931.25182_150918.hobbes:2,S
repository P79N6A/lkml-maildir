Date: 23 Jul 2003 21:28:43 GMT
From: (bill davidsen)
Subject: Re: devfsd/2.6.0-test1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/23/235

In article <1058718448.19817.5.camel@nosferatu.lan>,
Martin Schlemmer  <azarah@gentoo.org> wrote:
| 
| --=-7Lt6k6a+JkixQBaZzKBJ
| Content-Type: text/plain
| Content-Transfer-Encoding: quoted-printable
| 
| On Fri, 2003-07-18 at 00:39, Bill Davidsen wrote:
| > On 17 Jul 2003, Martin Schlemmer wrote:
| >=20
| > > On Thu, 2003-07-17 at 11:17, Mark Watts wrote:
| >=20
| > > > I'm running devfs on a 2.6.0-test1 box (Mandrake 9.1 with the new ker=
| nel)
| > > >=20
| > > > Every time I boot, it complains that I don't have an /etc/modprobe.de=
| vfs.
| > > > If I symlink modules.devfs, I get a wad of errors about 'probeall'.
| > > > What should a modprobe.devfs look like for a 2.5/6 kernel?
| > > >=20
| > >=20
| > > The module-init-tools tarball should include one.
| >=20
| > Agreed, it should. However, the last version I pulled had zero support fo=
| r
| > probeall, and more importantly for probe, which is somewhat harder to do
| > cleanly without having to rewrite the config file for each kernel you
| > boot.
| >=20
| 
| Well, it implements probeall in another fashion.  Also, you might
| try /sbin/generate-modprobe.conf to convert a modules.conf to
| modprobe.conf syntax.
Doesn't seem to convert "probe" unless there's a *very* new version, it
converted my eight line modules.conf including probe to 113 lines of
code I need to edit before rebooting.
The problem has been that certain drivers take turns working in the 2.5
evolution, e100 and eepro for instance. So if I have e100 I want to load
it, otherwise try eepro. That's what probe is all about, and I can boot
one kernel or another, regardless of which driver works (or is compiled)
in a given kernel.
Seems like a giant step backward to drop useful functionality, but 2.4
will be around for a long time.
-- 
bill davidsen <davidsen@tmr.com>
  CTO, TMR Associates, Inc
Doing interesting things with little computers since 1979.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/