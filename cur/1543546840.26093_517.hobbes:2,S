Date: Sun, 27 Aug 2000 20:11:48 -0500 (CDT)
From: Peter Samuelson <>
Subject: Re: dontdiff has unfixable problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/27/91

[Philipp Rumpf]
> so which are autogenerated files ?  only those generated during the
> build process or things like drivers/char/defkeymap.c as well ?
Whatever doesn't ship in the .tar.bz2.  See 'make mrproper'.
> I think it would be more important to allow building outside of the
> source directory - it seems to work reasonably well for gcc, glibc,
> and binutils, and it would solve the generated files problem nicely
Agreed.  I started to hack on this awhile back.  Most of it isn't very
hard -- a mere matter of duplicating the source tree topology and
putting a makefile into each build dir, with a bit of VPATH magic in
Rules.make -- but a few details with dependencies eventually drove me
up the wall and I moved on.
One interesting thing about my efforts (such as they were) is that I
got make-in-given-directory almost for free.  Instead of merely copying
makefiles from srcdir to builddir, I put a standard template in each
build dir:
  SRCDIR := {fill in with script}	# corresponding src dir
  VPATH  := $(SRCDIR)
  TOPDIR := {fill in with script}	# ../../..
  TOPSRC := {fill in with script}	# what we think of as TOPDIR
  include $(TOPSRC)/.config
  include $(SRCDIR)/Makefile
or something like that.
Peter
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/