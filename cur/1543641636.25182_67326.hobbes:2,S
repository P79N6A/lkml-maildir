Date: Fri, 30 Aug 2002 12:19:14 -0400 (EDT)
From: "Scott Murray" <>
Subject: Re: pcihpfs problems in 2.4.19
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/30/120

On Tue, 13 Aug 2002, Greg KH wrote:
> On Fri, Aug 09, 2002 at 04:18:02PM -0400, Scott Murray wrote:
> > I just started testing the cPCI hotplug driver I'm working on against
> > 2.4.19 after upgrading the kernel in SOMA's in-house distribution,
> > and I'm now getting the attached oops code when trying to access the
> > pcihpfs (e.g. with ls) after mounting it.  I backed out the couple of
> > changes I made last night that might have been remotely connected
> > (added hardware_test and get_power_status hotplug ops in my driver),
> > and I'm still getting it in the same place, so it looks like maybe a
> > VFS change somewhere in 2.4.19 broke pcihpfs.  Any ideas?
>
> Ah, looks like a change with readdir.c in 2.4.19-pre2 caused this
> problem.  Please try the attached patch, it fixes the problem for me.
I've finally gotten around to trying this out after coming back from
vacation, and have verified that it fixes the problem for me.
> Thanks to Dan Stekloff for helping in finding this fix.
Ditto, I wan't enjoying the prospect of trying to debug this myself.
Scott
-- 
Scott Murray
SOMA Networks, Inc.
Toronto, Ontario
e-mail: scottm@somanetworks.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/