Date: Fri, 7 Feb 2003 14:21:50 +0100
From: Trond Myklebust <>
Subject: Race in RPC code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/7/38

>>>>> " " == Jakob Oestergaard <jakob@unthought.net> writes:
     > We don't know whether req has been modified between the
     > assignment and the spin_lock.
It had better not be. If it is, then I want to know where so that we
can fix it.
req->rq_xprt is set up when the request is initialized. It
is not meant to change until the request gets released. This again
should not happen while the request is still on the wait queue.
IOW the fix you propose would just be papering over another problem.
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/