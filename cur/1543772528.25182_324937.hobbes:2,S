Date: Sun, 12 Jun 2005 12:27:26 +0200
From: Willy Tarreau <>
Subject: Re: optional delay after partition detection at boot time
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/12/46

On Sun, Jun 12, 2005 at 03:15:14AM -0700, subbie subbie wrote:
> Willy,
> 
>  This is for a one-time use option, when the the admin
> is having a hard time finding the root partition, let
> alone the device NAME to boot the system ... proc is
> not even mounted at that point yet.
There are two alternatives at boot :
  - either you know the root device, and everything is
    OK (mount /proc; cat /proc/partitions)
  - you don't know the root device, so the kernel will
    panic at boot because it cannot find the root device.
    In this case, you have the partition list still on
    the screen as it's among the latest things in the
    boot order. And if your kernel reboots upon panic,
    just boot it with panic=30 so get 30 seconds to read
    the partition table.
> I can try booting ten times finding the correct scsi
> device and partition number, but that's hairy
> especially in situations where kernel config and BIOS
> settings affect device detection.
I too know that it's sometimes hard to read SCSI devices
names on screen during the boot, but I'm not sure that
introducing a delay will be more useful than the full
pause provided by the panic. I may be wrong, though.
> This is not for slowing everything down, let's say
> just until root is mounted from then on, as you say,
> dmesg and the system logs are available.
OK.
Regards,
willy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/