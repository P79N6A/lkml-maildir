Date: Fri, 9 Mar 2007 10:31:19 -0600
From: NZG <>
Subject: Re: passing function pointers through platform devices?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/9/230

On Wednesday 07 March 2007 11:55 am, David Brownell wrote:
> > I'm developing an SPI- bus >MMC/SD block driver translation layer.
>
> Another one?  There's already been significant work in that area.  See for
> example
>
>   http://marc.theaimsgroup.com/?l=linux-kernel&m=117000652529003&w=2
Nice, I'll build on that, my previous work ignored the SPI/MMC layers (because 
they didn't exist at the time) and just build a stacked driver on a character 
SPI driver.  This gives me some direction as to how to proceed.
> Which admittedly didn't behave when I just put it onto my test rig,
> but seems nonetheless to be a significant step forward.  It's not like
> everyone has hardware that can use such a driver after all!
True, but it's fairly common right now, until every microcontroller gets a 
hardware SD controller (which seems to be the trend)
> That's how it's done in that patch.  The model being what the PXA MMC/SD
> card driver does, since that's the most generic model I found ... handling
> for example systems which need to poll for card detect, as well as ones
> that can use real gpio based IRQs.  The mmc_spi driver doesn't need to know
> which kind of platform it's got.
Sounds good, thanks
NZG
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/