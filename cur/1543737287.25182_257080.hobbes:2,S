Date: Sat, 02 Oct 2004 10:21:59 +0100
From: David Woodhouse <>
Subject: Re: [patch] inotify: make user visible types portable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/2/23

On Thu, 2004-09-30 at 18:30 -0400, Robert Love wrote:
> On Thu, 2004-09-30 at 18:25 -0400, Robert Love wrote:
> 
> > (speaking of which, we had 'mask' as an 'unsigned long' inside inotify.c,
> > so this change was needed anyhow).
> 
> Ugh.  We _also_ add mask sprinkled about as an int.
> 
> This patch makes those __u32 types, too.
Don't want for the cleanup of kernel headers to be done by someone else.
Stop polluting them more. Take the user-visible structures and put them
into a separate header file, possibly in a separate directory. Then
include that from your kernel header. Then there's _already_ a
'sanitised' header file for userspace. See the contents of include/mtd/
for an example, although I think there may be one or two things in there
I still need to clean up.
I probably still need to change some __u32 to uint32_t for portability,
for example. You should do that too.
-- 
dwmw2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/