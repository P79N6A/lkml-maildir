Date: Thu, 11 Sep 2003 16:06:29 +1000
From: CaT <>
Subject: Re: Power Management Update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/11/23

On Tue, Sep 09, 2003 at 05:38:53PM -0700, Patrick Mochel wrote:
> A patch against 2.6.0-test5 can be found at 
> 
> 
http://developer.osdl.org/~mochel/patches/test5-pm1/test5-pm1.diff.bz2
> 
> The patches for each individual changeset can be found in that directory. 
Here's my experience with the patch for the various suspend levels (all
activated through /sys/power/state). It looks like there are problems
activating the resume code.
standby:
never turns off screen. just seems to hang after hwsleep-0257. power light
flashes. hitting power button causes power light to stop flashing but no
resume happens. system is hung and powercycle req.
serial console output:
Stopping tasks: ===================================|
hda: start_power_step(step: 0)
hda: start_power_step(step: 1)
hda: complete_power_step(step: 1, stat: 50, err: 0)
hda: completing PM request, suspend
PM: Entering state.
 hwsleep-0257 [15] acpi_enter_sleep_state: Entering sleep state [S1]
mem:
does stopping tasks and laptop powers down. power light flashes as if in
suspend.
serial console output:
Stopping tasks: =================================|
hand typed continued console out:
hda: start_power_step(step: 0)
hda: start_power_step(step: 1)
hda: complete_power_step(step: 1, stat: 50, err: 0)
hda: completing PM request, suspend
PM: Entering state.
 hwsleep-0257 [15] acpi_enter_sleep_state: Entering sleep state [S3]
On resume it is as for standby.
disk (firmware):
activates h/w suspend just fine. bios appears to resume properly (all progress
meters hit 100%) but it never seems to pass control back to the OS (or, at
least, the OS never completes the resume as per above situations)
serial console output:
Stopping tasks: =================================|
Freeing memory: ....................|
hda: start_power_step(step: 0)
hda: start_power_step(step: 1)
hda: complete_power_step(step: 1, stat: 50, err: 0)
hda: completing PM request, suspend
PM: Attempting to suspend to disk.
-- 
"How can I not love the Americans? They helped me with a flat tire the
other day," he said.
	- 
http://tinyurl.com/h6fo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/