Date: Fri, 20 Oct 2006 16:14:04 -0700
From: "Siddha, Suresh B" <>
Subject: Re: [RFC] cpuset: remove sched domain hooks from cpusets
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/20/347

How about something like use_cpus_exclusive flag in cpuset?
And whenever a child cpuset sets this use_cpus_exclusive flag, remove
those set of child cpuset cpus from parent cpuset and also from the
tasks which were running in the parent cpuset. We can probably  allow this
to happen as long as parent cpuset has atleast one cpu.
And if this use_cpus_exclusive flag is cleared in cpuset, its pool of cpus will
be returned to the parent. We can perhaps have cpus_owned inaddition to
cpus_allowed to reflect what is being exclusively used
and owned(which combines all the exclusive cpus used by the parent and children)
So effectively, a sched domain parition will get defined for each
cpuset having 'use_cpus_exclusive'.
And this is mostly inline with what anyone can expect from exclusive
cpu usage in a cpuset right?
Job manager/administrator/owner of the cpusets can set/reset the flags
depending on what cpusets/jobs are active.
Paul will this address your needs?
thanks,
suresh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/