Date: Fri, 29 Sep 2000 09:06:23 -0400 (EDT)
From: Byron Stanoszek <>
Subject: 2.4.0-test9-pre2 OOM problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/29/120

I've been using 2.4.0-test9-pre2 happily for about 2 weeks without any crashes
or other memory problems (I'm using X 3.3.6, so the shared memory stuff didn't
break anything).
I accidentally compiled a program that I have using electric fence. The program
does a huge number of mallocs. Well, within 1 minute of running the program, it
eventually ate up 150MB of ram -- 128mb physical ram and 32mb swap. Bad thing
was, this program wasn't killed by the kernel, and it proceeded to eat up all
available memory.
For a few minutes, the HD light blinked on a few times as it was probably
sorting out which pages to store in swap and which to keep in memory. But after
2 minutes or so, the HD activity ceased and no other program appeared to run.
Using Alt+ScrollLock (I have sysrq disabled), I was able to determine that the
kernel was still flipping through the processes and it was still active and
hasn't crashed yet. Only, there was no memory available for processes to do
anything, and judging from Ctrl+ScrollLock, most were in the state waiting to
be swapped in.
I'm afraid to try any kernel above pre2 right now because of the OOPSen
reported by many people. I just wanted to bring attention to this problem in
case it hasn't already been fixed.
Regards,
 Byron
-- 
Byron Stanoszek                         Ph: (330) 644-3059
Systems Programmer                      Fax: (330) 644-8110
Commercial Timesharing Inc.             Email: bstanoszek@comtime.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/