Date: Thu, 7 Sep 2000 12:25:41 -0400
From: "Claude LeFrancois (LMC)" <>
Subject: PCMCIA: 3CCFE575CT initialization probem under 2.4.0-test7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/7/103

Hello,
I am using a 3CCFE575CT with a Compaq Armada under the kernel 2.4.0-test7
and pcmcia-3.1.19. I am running Mandrake 7.0. The problem concerns the
cardmgr and/or the 3c59x kernel module. When the pcmcia service starts, it
initializes the cardmgr, reads the sockets, installs the proper kernel
modules and runs the network configuration scripts if a network card is
found. I have modified the /etc/pcmcia/config by replacing all the 3c575_cb
strings by the 3c59x string. Then, the cardmgr was able to load the 3c59x
module instead of the 3c575_cb module for my 3CCFE575CT. When the network
scripts are run, I can read the following from the /var/log/messages and my
network configuration is not executed:
	cardmgr[386]: executing: './network start 3c575_cb'
	cardmgr[386]: + usage: ifup <device name>
	cardmgr[386]: start cmd exited with status 1
Should not I read "./network start eth0" instead of "./network start
3c575_cb" ? It seems the kernel module is not giving the proper information
to the cardmgr or the cardmgr is not reading the good one from the 3c59x
kernel module. I have modified some code inside the 3c59x.c module. I have
changed "3c575_cb" to "eth0" in the next structure and I got the card to
work:
	static struct pci_driver vortex_driver = {
		name:			"3c575_cb",
		...
	};
But, I guess this change is not good. It will only work for eth0... Please,
can you help me with that one ? BTW, the 3CCE589ET is working fine.
Many thanks for your support,
Claude.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/