Date: Mon, 8 Nov 1999 21:46:08 +0100 (MET)
From: Olaf Flebbe <>
Subject: NFS/RPC 2.2.13 request slot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/8/120

Hi,
The SUN-RPC module in 2.2.13 seems to have a problem with
amd-automount like problems: One customer of s+c have reported it with
amd and now I can reproduce it very easy with plptools at home:
It may be a NFS client problem?
You get messages like this in the syslog:
Nov  8 20:39:57 dragon kernel: nfs: task 206 can't get a request slot
Nov  8 20:39:57 dragon kernel: nfs: task 207 can't get a request slot
Nov  8 20:39:57 dragon kernel: nfs: task 208 can't get a request slot
Nov  8 20:39:57 dragon kernel: nfs: task 209 can't get a request slot
Nov  8 20:39:57 dragon kernel: nfs: task 210 can't get a request slot
Nov  8 20:39:57 dragon kernel: nfs: task 211 can't get a request slot
Nov  8 20:39:58 dragon kernel: nfs: server localhost OK
Nov  8 20:39:58 dragon last message repeated 12 times
Nov  8 20:40:09 dragon kernel: nfs: task 239 can't get a request slot
Nov  8 20:40:09 dragon kernel: nfs: task 240 can't get a request slot
Nov  8 20:40:10 dragon kernel: nfs: task 164 can't get a request slot
Nov  8 20:40:10 dragon kernel: nfs: task 185 can't get a request slot
Seems like an `overrun` problem to me.
Both amd and plptools (
ftp://ftp.to.com/pub/plptools
) are programs
which are mounting itself as a NFS server into the kernel. plptools
directs request for this virtual disk to a Psion 5 palmtop via a serial
link.
I can easy reproduce it copying a large (~600KB) file onto the
Psion5. BTW: The link speed is 115200 Baud.  After seeing this
messages the NFS system behaves a little bit weird ;-(
I have made some debugs with echo 15 > /proc/sys/sunrpc/rpc_debug, but
they are too big to post here. Please ask me for a copy if you like to
look into it.
Please CC to me, because I am not on the linux-kernel list.
Cheers,
  Olaf
----
  Dr. Olaf Flebbe                            Phone +49 (0)7071-9457-32
  science + computing gmbh                     FAX +49 (0)7071-9457-27
  Hagellocher Weg 71
  D-72070 Tuebingen  Email: o.flebbe@science-computing.de
      The amount of work to be done increases in proportion to the
                  amount of work already completed.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/