Date: Wed, 7 Jul 1999 06:50:04 +0100
From: BOSZORMENYI Zoltan <>
Subject: Re: Cyrix "coma bug" fix was deleted from pre-2.3.10-4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/7/14

Steve Dodd wrote:
> 
> On Tue, Jul 06, 1999 at 09:57:11AM +0100, BOSZORMENYI Zoltan wrote:
> 
> [Cyrix coma bug removed in 2.3.10-pre4]
> 
> > May I ask why?
> 
> Search me, with 2.3.10-pre4 applied, the exploit works again (as expected,
> really); therefore you won't be able to run secure multi-user systems with
> 2.3.10+.
> 
> Interestingly, 2.3.6 changed from the official work-around (setting
> the NO_LOCK bit, whatever that does) to something else, which I haven't managed
> to figure out as I don't have the Cyrix 6x86 data books kicking around.
> 
> Did this patch get fed into 2.2.x as well? I guess you can see where my
> thoughts are leading..
Yes I see. But with the original workaround someone reported to
me that he experinced strange artifacts with his Banshee and
a 6x86MX. When he ran Glide apps, the colors were wrong. I can't
reproduce that since no one around me has Banshee.
He (Riku Voipio <riku.voipio@iki.fi>) pointed to
http://wauug.erols.com/~balsa/linux/cyrix/index.html
to look for the news from November 1997 where he found
another workaround which did not cause the above mentioned
problem for him. I made a patch which I sent to Linus
with this explanation. Let me quote from that page:
***************************************************************************
As promised, here is the (un)official Cyrix workaround, ported to
GNU/Linux.
Note that I still recommend the NO_LOCK workaround for 6x86 GNU/Linux
users.
...
Basically what this script does is setup the 6x86 for detection of the
xchg
opcode (0x87). When detected in the instruction stream, the xchg opcode
will
be serialized, bypassing the pipeline.
The performance hit of this solution is almost zero.
It's a really neat solution, except for the fact that it makes use of an
undocumented feature of 6x86 family CPUs.
***************************************************************************
Regards,
Zoltan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/