Date: Thu, 09 Mar 2006 11:27:40 +0000
From: David Howells <>
Subject: Re: [PATCH 5/6] NFS: Unify NFS superblocks per-protocol per-server [try #7]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/9/84

Trond Myklebust <trond.myklebust@fys.uio.no> wrote:
> > The attached patch makes NFS share superblocks between mounts from the same
> > server over the same protocol.
> 
> We want to make NFS share superblocks on a per-filesystem basis, rather
> than forcing it into a per-server basis.
By "per-filesystem", I presume you mean per-server-mounted-filesystem?
Something like what the kAFS client tries to do. As it happens the current NFS
code doesn't do this either, but it has occurred to me that this would be
useful, just not necessarily easy...
> Cachefs may like the latter, but POSIX does not like a filesystem where
> inode numbers are not guaranteed to be unique.
I don't like it either, but the situation is already present.
Note that CacheFS would be happy with the former too, just as long as the keys
it is given don't end up aliasing.
> A unique per-server superblock also makes it hard to support features
> like failover onto replicated filesystems and/or migration of individual
> filesystems onto another server.
So you want these patches dropping?
Note that you can't necessarily do what you want with the current code either.
David
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/