Date: Wed, 11 May 2005 11:34:34 +0530
From: Maneesh Soni <>
Subject: Re: kexec?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/11/13

On Tue, May 10, 2005 at 09:11:31PM +0800, Coywolf Qi Hunt wrote:
> On 5/10/05, Borislav Petkov <petkov@uni-muenster.de> wrote:
> > I've been doing some kexec tests (as described in Documentation/kdump.txt) too
> > but can't get to load the image and get similar error messages. Let me know
> > if you need more info about the hardware. The first_kernel was booted with
> > "crashkernel=64M@16M" and the 16M value was configured into the second during
> > kconfig in "Physical address where the kernel is loaded" as 0x1000000.
> > 
> > [root@zmei]: kexec -p vmlinux --args-linux --append="root=/dev/hda1 maxcpus=1
> > init 1"
> 
>  kexec-tools-1.101 loads for me, but if cmdline is used, it hangs up
> after "Starting new kernel"
Thanks for trying this out. As Vivek mentioned can you please try with bulding
second or dump capture kernel with CONFIG_SMP=N and _without_ maxcpus= option. 
Basically the second kernel's job is just to save the dump and it doesnot need 
to be a SMP kernel. There are some issues with booting SMP kernel as dump 
capture kernel.
Also, it would be great help if you can also send us some hardware details
about the system you are trying, like lspci, /proc/cpuinfo and which kernel
you tried. I am maintaining a webpage to consolidate the test reports of kexec/kdump
at 
http://lse.sourceforge.net/kdump/kdump-test.html
Thanks
Maneesh
-- 
Maneesh Soni
Linux Technology Center, 
IBM India Software Labs,
Bangalore, India
email: maneesh@in.ibm.com
Phone: 91-80-25044990
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/