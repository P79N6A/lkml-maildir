Date: Mon, 12 Feb 2007 20:23:28 -0800 (PST)
From: David Miller <>
Subject: Re: 2.6.20-git8 fails compile -- net/built-in.o __ipv6_addr_type
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/12/463

From: Neil Brown <neilb@suse.de>
Date: Tue, 13 Feb 2007 13:52:26 +1100
> On Monday February 12, clem@clem.clem-digital.net wrote:
> > Quoting YOSHIFUJIHideaki/=?iso-2022-jp?B?GyRCNUhGIzFRTEAbKEI=?=
> >   > In article <20070212181216.c55ca788.akpm@linux-foundation.org> (at Mon, 12 Feb 2007 18:12:16 -0800), Andrew Morton <akpm@linux-foundation.org> says:
> >   > 
> >   > > > On Mon, 12 Feb 2007 20:10:13 -0500 (EST) Pete Clements <clem@clem.clem-digital.net> wrote:
> >   > > > 2.6.20-git8 fails compile:
> >   > > > 
> >   > > >   CHK     include/linux/compile.h
> >   > > >   UPD     include/linux/compile.h
> >   > > >   CC      init/version.o
> >   > > >   LD      init/built-in.o
> >   > > >   LD      .tmp_vmlinux1
> >   > > > net/built-in.o: In function `svc_udp_recvfrom':
> >   > > > svcsock.c:(.text+0x61be4): undefined reference to `__ipv6_addr_type'
> >   > > > make: *** [.tmp_vmlinux1] Error 1
> >   > > > 
> 
> Hmmm.  
> 
> > CONFIG_IPV6=m
> combined with
> > CONFIG_SUNRPC=y
> 
> is a combination that isn't going to work at the moment....
> 
> Options?
> 
>  - Move __ipv6_addr_type to lib/ ??
>         Might not work for modules.
>  - Disallow that combination in the .config.
>         .. a bit harsh.
>  - Only include IPv6 support in SUNRPC is a module or IPV6 is built-in
>         A bit of a kludge..
> 
> Chuck?  Any ideas?
Make the proper dependencies, so that SUNRPC is only possibly built
modular is IPV6 is modular, that's the correct way to do this.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/