Date: Sun, 13 Aug 2000 10:18:57 +0100 (BST)
From: James Sutherland <>
Subject: Re: NTFS-like streams?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/13/42

On Sat, 12 Aug 2000, Matthew Wilcox wrote:
> On Sat, Aug 12, 2000 at 05:23:58PM -0600, Michal Jaegermann wrote:
> > On NeXT various "NeXT Apps" are simply directory tries and command line
> > tools do not even try to hide that fact.  If you are using graphical
> > file tools then by default they will show up as a single entity but an
> > extra command, not hidden very deeply :-), will allow you to open such
> > unit as a directory and get to components separately.
> 
> Amen, this is exactly what RISC OS does and it works well.  Application
> directories are distinguished from ordinary directories by starting with
> a `!'.  There's no need for Linux to follow that convention, but there's
> no reason we couldn't.
A very elegant solution. An application is just a directory whose name
starts with "!". When you first "see" the application, a file within that
directory called "!Boot" (typically an "Obey file" - a Risc OS shell
script) is run; this will notify the OS of which file types that
application will handle, for example.
Running the application then causes the "!Run" file inside to be executed,
loading the application. Typically, this is also an Obey file, which first
performs version checks on the Relocatable Modules (shared libraries) it
needs, then loads the main binary. (Usually "!RunImage".)
Finally, there can be a file called "!Help", which is run when the user
selects "Help" from the applications context-sensitive menu.
All in all, a very elegant and simple solution which works very very well.
> RISC OS also had the concept of files which were also directories
> (so-called image files).  They worked rather like a loop device (except
> that filesystems and block devices weren't so clearly separated as in
> Linux).  They sometimes worked well, and sometimes worked very badly.
> They were generally used as a tarfs, or similar.
"Image filing systems" in Risc OS parlance; the best examples probably
being DOSFS (for access to FAT partitions/images) and ArcFS (Archive
Filing System). Also a very neat system: once opened, an archive or a DOS
partition appears to be a normal directory.
James.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/