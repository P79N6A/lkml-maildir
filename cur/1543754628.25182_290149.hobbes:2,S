Date: Wed, 26 Jan 2005 18:18:32 -0500
From: Robert Love <>
Subject: Re: [ANNOUNCE] inotify 0.18
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/26/170

On Tue, 2005-01-25 at 16:29 -0500, Mike Waychison wrote:
> How about inotify hold on to the nameidata until it is sure to have
> updated the watches?  That way, the inode will be seen by
> inotify_super_block_umount when called by generic_shutdown_super.
I was chatting with John as soon as Al pointed out the problem and
suggested we look at something like this.  I am glad you were able to
crank it out so readily.  Thank you!
Barring a more elegant solution, I think just holding nameidata down
until the watches are added is the way to go.  We will test this and
then merge it into the next patch.
Thanks,
	Robert Love
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/