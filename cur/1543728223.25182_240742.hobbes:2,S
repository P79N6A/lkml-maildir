Date: Mon, 09 Aug 2004 07:49:47 -0700
From: "Martin J. Bligh" <>
Subject: Re: [Lse-tech] [PATCH] new bitmap list format (for cpusets)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/10/366

--Paul Jackson <pj@sgi.com> wrote (on Monday, August 09, 2004 01:01:06 -0700):
> I was looking at this bitmap list format patch over the weekend, and
> came to the conclusion that the basic list format, as in the example:
> 
> 	0,3,5,8-15
> 
> was a valuable improvement over a fixed length hex mask, but that on the
> other hand the support for:
> 
> 	the prefix characters '=', '-', '+', or '!'
> 
> was fluff, that few would learn to use, and fewer find essential.
OK, that looks a lot more palletable ;-)
Question:  it looks like you're only parsing on the read-side to me (which
is good, since it's highly unlikely to break anything existant), but the
function bitmap_scnlistprintf is still in there - is that needed? I can't
see any callers, but I might be missing one? I guess it might be for your
other patch, but it'd seem to make the parsing a whole lot more complicated
in userspace for the reader if we did use that ...
It looks like cpulist_scnprintf calls __cpulist_scnprintf, which just calls
bitmap_scnlistprintf, but nobody calls either of the former 2 ... ditto for
nodelist_scnprintf.
M.
PS. Similarly, do we really need both cpumask_parse and __cpumask_parse
in front of bitmap_parse? One seems to make sense for abstracting the generic
parse routine, but 2 seems like overkill ;-) (yeah, I know that was there
before this patch ... just seems odd).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/