Date: Fri, 18 Mar 2005 09:44:45 +0100
From: Ingo Molnar <>
Subject: Re: Real-Time Preemption and RCU
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/18/20

* Paul E. McKenney <paulmck@us.ibm.com> wrote:
> 	[I believe that the real-time preemption patch moves code
> 	from softirq/interrupt to process context, but could easily be
> 	missing something.  If need be, there are ways of handling cases
> 	were realtime RCU is called from softirq and interrupt contexts,
> 	for an example approach, see the Quick Quiz answers.]
correct, on PREEMPT_RT, IRQ processing is (and must be) in process
context.
(it's pretty much a must-have thing to enable the preemption of irq
handlers and softirq processing: if irq/softirq contexts nested on the
kernel stack then irq contexts would 'pin down' the process context that
was interrupted, so even if irq preemption was possible, the underlying
process context couldnt be freely scheduled.)
still, it's nice that your #5 design does not rely on it - it's a sign
of fundamental robustness, plus we could (in theory) offer preemptable
RCU on PREEMPT_DESKTOP (== current PREEMPT) as well - just like there is
PREEMPT_BKL.
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/