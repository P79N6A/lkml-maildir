Date: Fri, 24 Oct 2003 13:44:22 -0500
From: David Eger <>
Subject: 2.6.0-test6 + fb patch = dead PowerBook
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/24/97

I decided a week ago to work on bringing the Radeon driver up-to-date for Linux 
2.6 -- essentially a forward port of BenH's 2.4 driver + some acceleration code 
from xfree86.
My PowerBook is now toast.  I'm hoping someone might give me some hints on 
resurrecting it.  Here's the story:
1. Dowloaded linux-2.6.0-test8.  Compiled.  Rebooted.  My lcd didn't show 
anything once tux was supposed to appear.
2. Decided "must be a bad radeon driver".  Forward ported BenH's driver, 
ifdef'ing out all of the Power Management code and console ugliness.
3. Compiled this patched kernel.  Rebooted.  Hung, I believe, detecting a 
mouse.  strange.
4. Checked my .config from linux-2.4.22-ben2.  Oh.  I'll try enabling VGA 
console in addition to FB console, and those other "Apple" framebuffers just 
for kicks in my 2.6.0-test8+ kernel.
5. Compile. Reboot.  tux! login prompt! Rock! login.  just for kicks, startx.  
X starts! Rock!  Okay, reboot to linux-2.4 so I can clean up the new driver.  X 
gets killed and video goes weird during shut down.  That's expected, though, as 
I disabled some of the Power Management codes.
My machine never reboots properly.
It will get to the end of openpic() right before tux is supposed to appear and 
dies.  Linux-2.4.22-ben2, MacOSX, Linux-2.6.0-test8+, Gentoo Install CD, MacOSX 
install CD, they all die somewhere during kernel initialization.  The only 
thing I can get to boot is the Hardware Test CD.
I figure, "okay, I must have screwed with some registers improperly.  I'll just 
unplug it, take the battery out, let all of the registers settle down to zero 
and reboot it later.  I'll even hit that reset switch on the PMU just in case."
None of this helps.
Any ideas?
-Eger David, in Budapest
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/