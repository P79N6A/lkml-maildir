Date: Sun, 28 Jul 2002 21:59:45 -0300 (BRT)
From: Rik van Riel <>
Subject: Re: [patch 2/13] remove pages from the LRU in __free_pages_ok()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/28/186

On Sun, 28 Jul 2002, Andrew Morton wrote:
> And we took the lru_cache_del() out of truncate_complete_page()
> because, err, I forget.  There was a situation in which the page
> could still be mapped into process pagetables, and the lru_cache_del()
> would have left it unswappable until process exit.
>
> Rik, can you remember the exact scenario?
Truncate vs. the page fault path.  It would be possible for
pages to be removed from the lru list by truncate and turning
into anonymous process memory.
This becomes a leak when only pages on the lru list can be
paged out.
regards,
Rik
-- 
Bravely reimplemented by the knights who say "NIH".
http://www.surriel.com/
		
http://distro.conectiva.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/