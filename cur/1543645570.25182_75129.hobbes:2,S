Date: Mon, 30 Sep 2002 19:44:32 -0500
From: Art Haas <>
Subject: [PATCH] vmalloc.c patch for 2.4.20-pre8-ac3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/30/294

Hi.
It looks like the small vmalloc.c patch didn't make it into
2.4.20-pre8-ac3. The patch is needed because the wrong variable
is passed to kfree().
Art Haas
--- linux-2.4.20-pre8-ac3/mm/vmalloc.c.ac3	2002-09-30 18:27:42.000000000 -0500
+++ linux-2.4.20-pre8-ac3/mm/vmalloc.c	2002-09-30 13:59:30.000000000 -0500
@@ -179,7 +179,7 @@
 
 	size += PAGE_SIZE;
 	if (!size) {
-		kfree (addr);
+		kfree (area);
 		return NULL;
 	}
 
-- 
They that can give up essential liberty to obtain a little temporary safety
deserve neither liberty nor safety.
 -- Benjamin Franklin, Historical Review of Pennsylvania, 1759
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/