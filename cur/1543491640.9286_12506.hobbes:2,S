Date: Thu, 01 Apr 1999 06:55:28 +0000
From: Johan Myréen <>
Subject: Re: Linux Makefile uses 'ls', causes problems with color-ls (PATCH)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/1/7

ralf@uni-koblenz.de wrote:
> On Wed, Mar 31, 1999 at 01:53:20PM +0300, Catalin Muresan wrote:
>
> > - ls *.o > $$MODLIB/.allmods; \
> > + echo *.o | tr ' ' '\n' > $$MODLIB/.allmods; \
>
> How about find?
How about ls?
Are you all saying we can't rely on ls doing the thing right just
because one (1) user misconfigured his color-ls to always output
psychedelic color escape sequences using a color-ls configuration option
that shouldn't be there in the first place or, at least, should be
marked "don't ever use".
If we give in to perversions like this (unconditional colored ls output
to non-tty), we soon can't rely on *any* command working like it should,
and every software package will have provide its own toolset just for
the build process (cat, ls, echo, sed, etc...)
Note that I'm not against color-ls, but I really don't see any advantage
in being able to configure it to always display the listing in color. If
you really want to redirect the escape sequences into a file or a pipe,
use an explicit command line option. Compare this to multi-column vs.
single column output -- Berkeley didn't add the -C option without a
reason.
Johan Myréen
jem@iki.fi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/