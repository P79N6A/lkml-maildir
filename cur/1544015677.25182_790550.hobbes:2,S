Date: Mon, 12 Jan 2009 12:22:52 +0100
From: "Maciej Rutecki" <>
Subject: Re: 2.6.29-rc1 does not boot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/12/118

2009/1/11 Dieter Ries <clip2@gmx.de>:
> Hi,
>
> Ingo Molnar schrieb:
>>>> * Dieter Ries <clip2@gmx.de> wrote:
>>>>
>>>>> Hi,
>>>>>
>>>>> I just pulled 2.6.29-rc1, ran oldconfig with defaults and built it.
>>>>> When I try to boot it, that kind of works until init should start. Then
>>>>> nothing happens. I tried with init=/bin/bash, which sometimes works, and
>>>>> sometimes gets me a bash without the prompt flashing.
>>>>>
Simmilar issue, described:
http://lkml.indiana.edu/hypermail/linux/kernel/0901.1/01701.html
[...]
####################################################################
> 7503bfbae89eba07b46441a5d1594647f6b8ab7d is first bad commit
> commit 7503bfbae89eba07b46441a5d1594647f6b8ab7d
> Author: Mike Travis <travis@sgi.com>
> Date:   Sun Jan 4 05:18:09 2009 -0800
>
> cpumask: use work_on_cpu in acpi-cpufreq.c for drv_read and drv_write
>
> Impact: use new cpumask API to reduce stack usage
>
> Replace the saving of current->cpus_allowed and set_cpus_allowed_ptr()
> with a work_on_cpu function for drv_read() and drv_write().
>
> Basically converts do_drv_{read,write} into "work_on_cpu" functions that
> are now called by drv_read and drv_write.
>
> Signed-off-by: Mike Travis <travis@sgi.com>
> Acked-by: Rusty Russell <rusty@rustcorp.com.au>
> Signed-off-by: Ingo Molnar <mingo@elte.hu>
Revert this commit also solves problem on my laptoop.
-- 
Maciej Rutecki
http://www.maciek.unixy.pl