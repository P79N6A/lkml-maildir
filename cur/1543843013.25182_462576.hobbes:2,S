Date: Tue, 12 Sep 2006 04:35:11 -0400
From: Jakub Jelinek <>
Subject: Re: [development-gcc] Re: do_exit stuck
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/12/114

On Tue, Sep 12, 2006 at 08:32:06AM +0200, Andi Kleen wrote:
> On Tuesday 12 September 2006 08:57, Jan Beulich wrote:
> > >Isn't a Kconfig patch missing? I don't see any place that defines
> > >CONFIG_AS_CFI_SIGNAL_FRAME. Actually Kconfig wouldn't
> > >be very good for this, so auto testing would be preferable
> > >(like the cfi test is doing)
> >
> > Using that framework was the intention (you used a CONFIG_
> > prefix there, and so did I), but as I wasn't sure about its status,
> > and as I also was doing this against plain 2.6.18-rc6, I didn't add
> > the actual detection logic. Actually I also think that should be
> > done a little differently to allow for better future extension, i.e.
> > instead of adding to CFLAGS store the auto-detected results in
> > a header and forcibly -include it.
> 
> Ok. I guess I'll do it in the same way as the CFI detection
> and maybe one of the kbuild folks can figure out a better way longer term.
> 
> BTW which binutils release started supporting this properly?
2006-02-27 and later CVS, so in H.J's releases that's 2.16.91.0.7 and later
(and in upstream 2.17 and later).  But there are several distributions that
backported the changes even to older binutils, so doing a compile time check
if assembler groks .cfi_signal_frame is preferrable to a version check.
	Jakub
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/