Date: Thu, 13 Mar 2008 18:03:29 +0100
From: "Rafael J. Wysocki" <>
Subject: Re: [linux-pm] [PATCH -mm] kexec jump -v9
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/13/258

On Thursday, 13 of March 2008, Eric W. Biederman wrote:
> "Rafael J. Wysocki" <rjw@sisk.pl> writes:
> 
> > Yes, it ought to be possible.
> >
> > Ultimately, IMHO, we should put all devices unnecessary for saving the image
> > (and doing some eye-candy work) into low power states before the image is
> > created and keep them in low power states until the system is eventually
> > powered off.
> 
> Why?  I guess I don't see why we care what power state the devices are in.
> Especially since we should be able to quickly save the image.
> 
> We need to disconnect the drivers from the hardware yes.  So filesystems
> still work and applications that do direct hardware access still work
> and don't need to reopen their connections.
> 
> I'm leery of low power states as they don't always work, and bringing
> low power states seems to confuse hibernation to disk with suspend to
> ram.
From the ACPI compliance point of view it's better to do it this way.  We need
to put the devices into low power states anyway before "powering off" the
system and we won't need to touch them for the second time if we do that
in advance.
Still, it would be sufficient if we disconnected the drivers from the hardware
and thus prevented applications from accessing that hardware.
Thanks,
Rafael