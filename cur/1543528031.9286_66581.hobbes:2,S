Date: Tue, 29 Feb 2000 12:34:25 -0700 (MST)
From: "Ronald G. Minnich" <>
Subject: Re: Load linux...from linux? (fwd)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/29/175

continuing the linux-loads-linux discussion. Werner's new code is quite
cool. I'm somewhat concerned about turning off PTEs during the process. I
did a bit of work in LOBOS to leave all the VM hardware on. My worries are
probably groundless ...
as for linuxbios, I'm now into debugging start_kernel. I haven't got
interrupts turned on right (it's somewhat harder from a hard reset) but
hope to have that worked out later today.
ron
---------- Forwarded message ----------
Date: Tue, 29 Feb 2000 19:35:16 +0100 (MET)
From: Werner Almesberger <almesber@lrc.epfl.ch>
To: Ronald G. Minnich <rminnich@lanl.gov>
Subject: Re: Load linux...from linux?
Ronald G. Minnich wrote:
> Your code is very nice. 
Thanks ! ;-) BTW, I've made a new version which should raise the limit
for loaded data to 2GB:
ftp://icaftp.epfl.ch/pub/people/almesber/misc/bootimg-1.tar.gz
Now I need to build a kernel >> 1 GB to actually test this ...
> Question: If I have 1 GB or less there's no issue with addressing all of
> physical memory from the current kernel virtual address space.
Yep, your approach is limited to the kernel address space. Not sure if
this is really a problem, though:
 - vmalloc should always give you pages you can reach from the kernel
 - I don't think any architecture puts boot code beyond the kernel
   address space (it could make a little bit of sense for things like
   initrd, but then, any solution requiring multi-gigabyte initrds is
   at least suspicious, I'd say ;-)
 - 1 GB for kernel, initrd, parameters, and friends should be
   sufficient for most practical purposes.
> Also I'd like to leave some hook in there for continuing with the page
> table usage because the next step is the Alpha.
What are actually the requirements on the Alpha ? Does the kernel expect
to be started with page tables already set up ? If not, is there no way
to simply turn off paging ? In my approach, one could add some page
tables to the "sacred" pages, if necessary, but it's a little ugly.
- Werner
-- 
  _________________________________________________________________________
 / Werner Almesberger, ICA, EPFL, CH       werner.almesberger@ica.epfl.ch /
/_IN_N_032__Tel_+41_21_693_6621__Fax_+41_21_693_6610_____________________/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/