Date: Sun, 02 Jul 2006 07:55:27 +0100
From: James Courtier-Dutton <>
Subject: Re: [Alsa-devel] OSS driver removal, 2nd round
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/2/13

James Courtier-Dutton wrote:
> "Never" probably only means terribly long. :-)
> 
There is in fact one implementation method that we would like to
implement, but currently we don't know how, so some input from people
from this list might be helpful.
There is an ALSA tool called aoss.
What this does is hook any calls the application does to
fopen/fwrite/fread/fclose/open/close/read/write/ioctl etc. and detects
any calls to open /dev/dsp and /dev/mixer and diverts them to use
alsa-lib. This therefore manages to divert the applications use of
/dev/dsp before it even reaches the kernel. This therefore gives the
application full use of all the alsa-lib features. So, for example,
4-channel output would work in this mode. But, and this is the bit we
need help with, if the application uses dlopen to dynamically open a
plugin, the plugin's calls to open/close/read/write etc. are not hooked,
so the application fails.
Is there any way to also hook the IO calls of dlopened plugins?
James
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/