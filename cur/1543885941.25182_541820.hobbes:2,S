Date: Tue, 08 May 2007 17:00:02 -0700
From: Jeremy Fitzhardinge <>
Subject: Re: [patch 3/4] split usermodehelper setup from execution
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/8/602

Rusty Russell wrote:
> call_usermodehelper_pipe()?  Erk.  Grepping... for core dumping via a
> process?  Without modifying the ELF core dumper (at least) to handle
> short writes?  Why not dump it in an agreed location and exec the
> process with that as an arg?
> 
I think the idea is that you might want to send it over the net on a
diskless system, or filter/compress the core before it hits disk because
you don't have enough space.
> When did this go in?  2.6.19... hmm, too late to rip it out I guess 8(
>
> Anyway, I'm not sure exposing an open-ended interface wins: refactoring
> internally definitely makes sense though.
Well, I added this specifically so I could add a cleanup callback, which
can be used to free a dynamically allocated argv array (see the
following patch).  And if you're going to have all this stuff, you may
as well make it work properly together.  Why have "you can set the
session keyring *or* use a pipe for stdin"?
As distended as it is, at least it actually fits together somewhat
coherently now.  I'd be up for dropping the single-use wrapper functions.
    J
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/