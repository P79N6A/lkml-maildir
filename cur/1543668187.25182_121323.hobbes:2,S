Date: Sat, 29 Mar 2003 13:08:58 +1100
From: Eyal Lebedinsky <>
Subject: 2.4.20: problem with "ps -olstart"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/28/187

I have a program that needs to check if a process is still running.
It issues a ps and saves the pid and start time. It then uses this
info to compare against a later "ps --pid".
The monitored process is long-running and unlikely to restart at the
same second and with the same pid. I am trying to go better than
just using a pid sentry (I also compare the cmd to be really sure).
I see a different start time returned on different calls. An example
is attached below. This is a show stopper for me. Is this a known
problem? Does it have a solution?
This is vanilla (my build) 2.4.20 on i386.
$ ps
  PID TTY          TIME CMD
  906 pts/0    00:00:01 bash
 3026 pts/0    00:00:00 sh
 8254 pts/0    00:00:00 ps
$ while true ; do ps --pid "3026" -olstart,cmd --no-headers ; done
Thu Mar 27 22:03:11 2003 sh
Thu Mar 27 22:03:11 2003 sh
Thu Mar 27 22:03:11 2003 sh
Thu Mar 27 22:03:11 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:11 2003 sh
Thu Mar 27 22:03:11 2003 sh
Thu Mar 27 22:03:11 2003 sh
Thu Mar 27 22:03:11 2003 sh
Thu Mar 27 22:03:11 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:12 2003 sh
Thu Mar 27 22:03:11 2003 sh
--
Eyal Lebedinsky (eyal@eyal.emu.id.au) <
http://samba.org/eyal/>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/