Date: Fri, 25 Jun 1999 10:19:50 +0200
From: Mike Thomi <>
Subject: Re: [patch] fix for the `access beyond end of device' bug of 2.3.[789]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/25/44

Ingo Molnar wrote:
> 
> On Fri, 25 Jun 1999, Andrea Arcangeli wrote:
> 
> > I finally spotted and fixed the silly bug. Here it is the fix against 2.3.8:
> >
> > Index: linux/fs/ext2/inode.c
> > ===================================================================
> > RCS file: /var/cvs/linux/fs/ext2/inode.c,v
> > retrieving revision 1.1.1.11
> > diff -u -r1.1.1.11 inode.c
> > --- linux/fs/ext2/inode.c     1999/06/21 12:35:35     1.1.1.11
> > +++ linux/fs/ext2/inode.c     1999/06/24 23:24:03
> > @@ -174,6 +174,7 @@
> >               ret = block_bmap (bread (inode->i_dev, i,
> >                                         inode->i_sb->s_blocksize),
> >                               block & (addr_per_block - 1));
> > +             goto out;
> 
> yess, this was it :) I have re-checked this place a hundred times
> yesterday but missed the bug ;)
> 
> -- mingo
But tell me, why it hasn't crashed my SMP box in conjunction with that
bug?
I played around with tons of gigas without any probs on the SMP-Kernel
but with a uniprocessor box (same .config) doing some single tarballs
"beyond device..." infos filled up the logs.
mike
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/