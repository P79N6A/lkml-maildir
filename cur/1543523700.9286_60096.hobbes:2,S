Date: Thu, 27 Jan 2000 20:33:49 +0300 (MSK)
From:  kuznet@ms2 ...
Subject: Re: buggy GFP_KERNEL allocators
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/27/108

Hello!
> Actually there is one place which cannot fail, allocation of the
> final FIN frame in TCP.  It may never fail, it will loop until
> it gets the memory.
I do not think that it is a big problem. Loop with schedule for a small
time and, if we still cannot allocate FIN after several attempts,
our system is about to die in any case. Then just reset socket and p..s.
(Dave, you know this word 8)). Who will blame on us, if we are
in such troubles?
BTW all right #2. I was in panic after first sight at the problem,
after thinking a bit I understood that it is not a big problem.
Thinking more I even see that it removes those spurious wake_up()s,
which we discussed recently. Let's just add __set_current_state(TASK_RUNNING)
before copy and all are happy. And wake_up is avoided. 8)
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/