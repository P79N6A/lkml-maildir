Date: Tue, 03 Apr 2007 08:36:09 -0400
From: Dan Engel <>
Subject: [PATCH] hid: add QUIRK_HIDDEV for Belkin Flip KVM
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/3/84

From: Daniel P. Engel <dengel@sourceharvest.com>
Add HID_QUIRK_HIDDEV for the Belkin Flip USB KVM to the hid-core
blacklist table. The Belkin Flip USB KVM provides for software
control of switching via a HID class interface. It overloads
three HID LED usages, two of which aren't mapped in the ev_dev input
subsection, and which it doesn't make sense to map. In order to
force the creation of a hiddev device for controlling
the Flip, this quirk flag is needed.
Signed-off-by: Daniel P. Engel <dengel@sourceharvest.com>
---
This patch was created against kernel version 2.6.20.4. It patches
only one file, drivers/input/hid-core.c.
--- linux-2.6/drivers/usb/input/hid-core.c.orig	2007-03-30 13:42:01.000000000 -0400
+++ linux-2.6/drivers/usb/input/hid-core.c	2007-03-30 13:43:16.000000000 -0400
@@ -792,6 +792,9 @@ void usbhid_init_reports(struct hid_devi
 #define USB_VENDOR_ID_IMATION		0x0718
 #define USB_DEVICE_ID_DISC_STAKKA	0xd000
 
+#define USB_VENDOR_ID_BELKIN		0x050d
+#define USB_DEVICE_ID_FLIP_KVM		0x3201
+
 /*
  * Alphabetically sorted blacklist by quirk type.
  */
@@ -969,6 +972,8 @@ static const struct hid_blacklist {
 
 	{ USB_VENDOR_ID_LOGITECH, USB_DEVICE_ID_LOGITECH_USB_RECEIVER, HID_QUIRK_BAD_RELATIVE_KEYS },
 
+	{ USB_VENDOR_ID_BELKIN, USB_DEVICE_ID_FLIP_KVM, HID_QUIRK_HIDDEV },
+
 	{ 0, 0 }
 };
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/