Date: Fri, 20 Aug 2004 12:57:42 -0400
From: Jesse Barnes <>
Subject: Re: 2.6.8.1-mm3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/20/215

On Friday, August 20, 2004 11:44 am, Jesse Barnes wrote:
> On Friday, August 20, 2004 6:19 am, Andrew Morton wrote:
> > - This is (very) lightly tested.  Mainly a resync with various parties.
>
> Woo-hoo!  This boots *without changes* on a 512p Altix!  Now to re-run the
> profiles and try wli's new per-cpu profiling buffers.
I applied wli's per-cpu profiling patch, added some tweaks that he and I 
discussed on irc and things look pretty good.  We can now profile all 512 
CPUs in the system w/o livelocking :)
Here's the output part way through a kernbench run:
[root@ascender root]# time readprofile -m System.map-2.6.8.1-mm3 | sort -nr | 
head -20
62551761 total                                      9.6980
27173178 default_idle                             70763.4844
27081955 ia64_pal_call_static                     141051.8490
3175264 ia64_load_scratch_fpregs                 49613.5000
3166434 ia64_save_scratch_fpregs                 49475.5312
1603765 ia64_spinlock_contention                 16705.8854
135010 rcu_check_quiescent_state                351.5885
 11457 del_timer_sync                            22.3770
 10003 clear_page_tables                          7.6242
  9948 memset                                     9.4205
  7845 copy_page                                 30.6445
  7652 __d_lookup                                 8.5402
  7379 clear_page                                46.1187
  7177 zap_pte_range                              3.7380
  6044 __copy_user                                2.5873
  5168 file_move                                 23.0714
  4611 xfs_ilock                                  9.0059
  4230 atomic_dec_and_lock                       16.5234
  4035 finish_task_switch                        14.0104
  3938 file_kill                                 17.5804
real    1m32.554s
user    0m0.215s
sys     1m32.375s
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/