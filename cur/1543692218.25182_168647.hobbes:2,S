Date: Fri, 26 Sep 2003 21:34:09 -0700
From: David Mosberger <>
Subject: Re: NS83820 2.6.0-test5 driver seems unstable on IA64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/27/4

>>>>> On Sat, 27 Sep 2003 06:26:40 +0200, Andi Kleen <ak@muc.de> said:
  Andi> You handle misalignment->misalignment copies with zero or
  Andi> small cost - when both source and destination have the same
  Andi> misalignment. I guess you do that by just aligning the pointer
  Andi> at the beginning of the function. That works as long as both
  Andi> source and destination have the same misalignment.
  Andi> But that is not what happens here. The copy is a
  Andi> misaligned->aligned copy and that cannot be handled at zero
  Andi> cost (unless you have zero misalignment penalty in
  Andi> load/store). Either the load or the store in the copy loop
  Andi> will be always misaligned, no matter what tricks you play. You
  Andi> cannot avoid this by aligning the pointers.
Geez, Andi, get a clue.  You've been working with x86 for too long.
You really can't imagine that you could combine two source words into
a single destination word?  Look ma, no unaligned accesses...
	--david
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/