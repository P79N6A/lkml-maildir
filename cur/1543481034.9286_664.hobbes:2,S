Date: Wed, 20 Jan 1999 22:37:44 +0000 (GMT)
From: Chris Evans <>
Subject: NFS mount option flaws? 2.2.0p7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/21/60

Hi,
I've been playing with NFS in 2.2.0pre7ac4 plus Dave's latest nfs/tcp fix.
Here is a list of issues/bugs I have noticed.
1) nfs/udp. If I kill the nfs server that I have mounted, I receive
(immediately) lots of
nfs: RPC call returned error 111
RPC: task of released request still queued!
RPC: (task is on xprt_pending)
As far as I can tell this is a bug and should not happen; the mount was
done with "hard" and "nointr" options.
Furthermore nfs/tcp behaves as I would expect; process hang in "D" state
giving the option to restart the NFS server and things carry on where they
left off.
2) soft option and "timeo" have no effect. Using the "soft" option and a
low timeout seems to do nothing. This is nfs/tcp; I can't test nfs/udp
because of the above problem.
3) "nointr" option is ignored on nfs/tcp (can't test on nfs/upd because of
problem 1) - when I kill the nfs server process, the processes accessing
the NFS mount go into state "D". However sending interrupt and kill -9 to
the stuck processes seems to free them despite the fact "nointr" was
specified.
Cheers
Chris
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/