Date: Fri, 3 Aug 2007 17:29:28 +0200 (CEST)
From: Jiri Kosina <>
Subject: Re: [linux-usb-devel] [PATCH] USB: Only enable autosuspend by	default on certain device classes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/3/165

On Fri, 3 Aug 2007, David Brownell wrote:
> And could you elaborate on "many"?  What proportion of HID devices (by 
> volume, model, etc) seem to have problems?
Last time I tried with two random USB keyboards - one from Logitech and 
one from Chicony, I don't remember the exact PIDs, but could look them up 
if it is interesting for someone.
> The specific failure I saw was that the device advertised itself as 
> supporting remote wakeup, but it couldn't issue that signaling. It came 
> back from suspend just fine ... but moving or clicking would not do what 
> it should.
What I have been seeing with both these keyboards was: if connected to 
UHCI controller, root hub not auto-suspended, as soon as they got 
autosuspended, and keys were pressed on them rapidly, very often some 
keypressess got lost. I didn't experience this on OHCI, but I remember 
Alan saying that he triggered it on OHCI too, right?
Seemed like a timing issue - by lowering the polling timeout we were able 
to make things much better, but that of course costs us more power etc. 
and it's even not sure if it is an ultimate solution.
-- 
Jiri Kosina
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/