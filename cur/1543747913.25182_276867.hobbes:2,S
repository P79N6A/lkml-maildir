Date: Mon, 6 Dec 2004 00:24:09 +0300
From: "Kirill  Yushkov" <>
Subject: [ppp][2.6.10-rc3] Don't work pppd.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/5/125

Hello!
My VPN server on the base Poptop (pptpd) failed to work after the upgrade of
the kernel from 2.6.10-rc2-bk1 to 2.6.10-rc3. In kernel 2.6.10-rc2-bk1 and
earlier versions the kernel pppd worked well.
Message.log:
Dec  4 17:06:07 park2 pptpd[5132]: CTRL: Client 172.16.40.107 control
connection
 started
Dec  4 17:06:07 park2 pptpd[5132]: CTRL: Starting call (launching pppd,
opening
GRE)
Dec  4 17:06:07 park2 pppd[5133]: Plugin radius.so loaded.
Dec  4 17:06:07 park2 pppd[5133]: RADIUS plugin initialized.
Dec  4 17:06:07 park2 pppd[5133]: pppd 2.4.2 started by root, uid 0
Dec  4 17:06:07 park2 pppd[5133]: Using interface ppp31
Dec  4 17:06:07 park2 pppd[5133]: Connect: ppp31 <--> /dev/pts/31
Dec  4 17:06:07 park2 pptpd[5132]: GRE: Bad checksum from pppd.
Dec  4 17:06:37 park2 pppd[5133]: LCP: timeout sending Config-Requests
Dec  4 17:06:37 park2 pppd[5133]: Connection terminated.
Dec  4 17:06:37 park2 pptpd[5132]: CTRL: Client 172.16.40.107 control
connection
 finished
[root@park2 proc]# cat /proc/version
Linux version 2.6.10-rc2-bk1 (root@park2) (gcc version 3.3.3 20040412 (Red
Hat Linux 3.3.3-7)) #1 Wed Nov 17 04:07:46 MSK 2004
[root@park2 net]# uname -a
Linux park2 2.6.10-rc2-bk1 #1 Wed Nov 17 04:07:46 MSK 2004 x86_64 x86_64
x86_64 GNU/Linux
[root@park2 log]# pptpd -v
Poptop v1.2.1
[root@park2 log]# pppd -V
pppd: unrecognized option '-V'
pppd version 2.4.2
Kernel ./config in attachment.
With best regards, Kirill  Yushkov.  E-mail: mail@kirya.ru
[unhandled content-type:application/octet-stream]