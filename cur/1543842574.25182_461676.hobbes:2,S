Date: Fri, 8 Sep 2006 14:00:42 -0700
From: Greg KH <>
Subject: Re: [PATCH] pktcdvd: added sysfs interface + bio write queue handling fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/8/234

On Fri, Sep 08, 2006 at 07:55:08PM +0200, Thomas Maier wrote:
> +/sys/block/pktcdvd/<pktdevname>/packet/
> +    statistic         (r)  Show device statistic. One line with
> +                           5 values in following order:
> +                              packets-started
> +                              packets-end
> +                              written in kB
> +                              read gather in kB
> +                              read in kB
Please no.  One value per file is the sysfs rule.
> +    reset_statistic   (w)  Write any value to it to reset
> +                           pktcdvd device statistic values, like
> +                           bytes read/written.
> +
> +    info              (r)  Lots of user readable driver statistics
> +                           and infos. Multiple lines!
Again, no.  Put it in debugfs if you want multiple lines.
> +    write_queue_size  (r)  Contains the size of the bio write
> +                           queue.
> +
> +    write_congestion_off (rw) If bio write queue size is below
> +                              this mark, accept new bio requests
> +                              from the block layer.
> +
> +    write_congestion_on  (rw) If bio write queue size is higher
> +                              as this mark, do no longer accept
> +                              bio write requests from the block
> +                              layer and wait till the pktcdvd
> +                              device has processed enough bio's
> +                              so that bio write queue size is
> +                              below congestion off mark.
> +
> +    mapped_to              Symbolic link to mapped block device
> +                           in the /sys/block tree.
Shouldn't this whole thing be in /sys/class/ instead of /sys/block/ ?
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/