Date: 17 Dec 2003 17:02:09 GMT
From: (bill davidsen)
Subject: Re: raid0 slower than devices it is assembled of?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/17/82

In article <1071657159.2155.76.camel@abyss.local>,
Peter Zaitsev  <peter@mysql.com> wrote:
| One more issue with smaller stripes both for RAID5 and RAID0 (at least
| for DBMS workloads) is - you normally want multi-block IO (ie fetching
| many sequentially located pages) to be close in cost to reading single
| page, which is true for single hard drive. However with small stripe
| size you will hit many of underlying devices  putting excessive not
| necessary load. 
All this depends on what you're trying to optimize and the speed of the
drives. I spent several years running on software raid and got to look
harder than I wanted at the tuning.
If the read size is large enough for transfer time to matter, not hidden
in the latency, adjusting the stripe size so that you use many drives is
a win. You want to avoid having a user i/o generate more than one i/o
per drive if you can, which can lead to large stripe sizes.
Also, the read to write ratio is important. RAID-5 does poorly with
write, since the CRC needs to be recalculated and written each time. On
read, unless you are in fallback mode, you just read the data and the
performance is similar to RAID-0.
If you have (a) a high read to write load, and (b) a very heavy read
load, then RAID-1 works better, possibly with more than two copies of
the data to reduce head motion contention.
-- 
bill davidsen <davidsen@tmr.com>
  CTO, TMR Associates, Inc
Doing interesting things with little computers since 1979.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/