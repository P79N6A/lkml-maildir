Date: Fri, 16 Jan 2009 20:30:32 -0500
From: Chris Mason <>
Subject: Re: [PATCH 0/2] ftrace: updates to tip
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/16/494

On Fri, 2009-01-16 at 23:26 +0100, Ingo Molnar wrote:
> * Chris Mason <chris.mason@oracle.com> wrote:
> > 
> > The short version is: thanks Steve, this is really cool!
> > 
> > 12058 hits: 
> >  <= check_preempt_wakeup
> >  <= try_to_wake_up
> >  <= wake_up_process
> >  <= __mutex_unlock_slowpath
> >  <= mutex_unlock
> >  <= btrfs_tree_unlock
> >  <= unlock_up
> >  ===========
> 
> Cool! We've got scripts/tracing/ [with one Python script in it already] - 
> so if this is tidied up to be generally useful we could put it there.
> 
For it to be generally useful I think it would need a way to pull out
the marker for which function is the start of the stack trace.  Some
parse friendly tags would be great.
Other than that I'd add some magic to actually start the tracing for a
given function.  Are there other things people would like it to do?
> The other thing is that there's the statistics framework of ftrace, being 
> worked on by Frederic and Steve. That tries to handle and provide 
> higher-order summaries/"views" of plain traces, like histograms and counts 
> - provided by the kernel.
Ok, I tried to keep it simple because I was hoping others had plans as
well ;)
> 
> Maybe the above type of multi-dimensional-stack-trace based histogram 
> could fit into the statistics framework too?
I'd hope so, just a question of how to keep it clear and usable.
-chris