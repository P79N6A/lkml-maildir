Date: Wed, 27 Jan 1999 21:57:25 -0800
From: John Nishinaga <>
Subject: Re: 2.2.0 lock-ups...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/29/105

On Tue, Jan 26, 1999 at 06:25:03PM -0500, Chris Hoover wrote:
> gandalf wrote:
> > At 20:59 26.01.99 +0100, you wrote:
> > >2.2.0 final locks up on my machine the same way as 2.2.0-pre8-ac1 and
> > >2.2.0-pre9 did (I posted the error on the list few days ago).
> > I'm experiencing the same problem since pre8. I already posted this a few
> > days ago.
> I am having the same problems, and I also have a cd changer (Pioneer
> 604X - scsi).  I've only had the lockups when I have had my cd-changer
> mounted.  Since my last lockup last night, I have left the cd changer
> unmounted, and the system was still up when I got back from work.  A
> very welcome improvement.  This has only occured when I've ran
> 2.2.0-pre9 (I did not try pre8, and 2.2.0 will not compile).
I experienced something similar: after having used my SCSI CDROM burner
several times, my system locked up and I was unable to Magic SysRq to
sync and unmount my drives.  This was under a 2.1.125'ish kernel and
at the time I didn't have the luxury of trying to repeat the problem.
> Here is an expert from my /var/log/kern.log (debian system) with some
> wierd stuff:
> Jan 24 23:15:14 debian kernel: sr5: CDROM (ioctl) reports ILLEGAL
> REQUEST. 
> Jan 24 23:15:14 debian kernel: ISO 9660 Extensions: RRIP_1991A 
> Jan 24 23:37:39 debian kernel: sr3: CD-ROM error: Current error sr0b:03:
> sense key Illegal Request 
> Jan 24 23:37:39 debian kernel: Additional sense indicates Logical block
> address out of range 
> Jan 24 23:37:39 debian kernel: command was: Read (10) 60 00 00 e1 c4 00
> 00 0e 00  
> 2 debian kernel: SCSI CD error : host 0 id 5 lun 0 return code =
> 28000002 
The system didn't log anything just before the lock-up but here's what
was logged an hour or so earlier:
Dec 18 18:39:59 volume kernel: sr1: disc change detected. 
Dec 18 18:39:59 volume kernel: sr1: CDROM not ready.  Make sure there is a disc in the drive. 
Dec 18 18:39:59 volume kernel: sr1: CDROM (ioctl) error, command: Start/Stop Unit 00 00 00 03 00  
Dec 18 18:39:59 volume kernel: Current error sr15:03: sense key Medium Error 
Dec 18 18:39:59 volume kernel: Additional sense indicates Unable to recover table-of-contents 
Dec 18 18:39:59 volume kernel: cdrom: open failed. 
Dec 18 18:39:59 volume kernel: Device not ready.  Make sure there is a disc in the drive. 
This was during a few (failed) attempts at burning a CDROM.
> I have noticed, that the couple of times I've witnessed the lockup, I
> was accessing the changer.  Once playing mp3's from a cd that a friend
> burned for me, and once while mounting the cd changer.
> Anyway, has someone been playing with the scsi cd code?
John
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/