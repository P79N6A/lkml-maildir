Date: Mon, 26 Aug 2002 23:11:57 -0700 (PDT)
From: "David S. Miller" <>
Subject: Re: [BKPATCH] Read-Copy Update 2.5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/27/41

   From: Dipankar Sarma <dipankar@in.ibm.com>
   Date: Tue, 27 Aug 2002 11:41:52 +0530
   On Tue, Aug 27, 2002 at 10:24:30AM +1000, Rusty Russell wrote:
   > > +#ifdef CONFIG_PREEMPT
   > > +/* Fake initialization to work around compiler breakage */
   > > +DEFINE_PER_CPU(atomic_t[2], rcu_preempt_cntr) = 
   > > +			{ATOMIC_INIT(0), ATOMIC_INIT(0)};
   > > +DEFINE_PER_CPU(atomic_t, *curr_preempt_cntr) = NULL;
   > > +DEFINE_PER_CPU(atomic_t, *next_preempt_cntr) = NULL;
   > 
   > Also static I assume?
   
   So, only statics are broken by gcc 2.95, right ?
I think it gets both static and non-static wrong.
Why don't we just specify that DEFINE_PER_CPU()'s must
have explicit initializers then we never need to think
about this ever again.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/