Date: Sun, 15 Oct 2006 12:19:31 -0700
From: Nishanth Aravamudan <>
Subject: Re: ips: scheduling while atomic in 2.6.18
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/15/89

On 16.10.2006 [01:20:04 +1000], Nick Piggin wrote:
> Nishanth Aravamudan wrote:
> >Hi all,
> >
> >A server I administer just dumped three scheduling while atomics before
> >(sort of) hanging hard. Still responds to ping, but ssh is now dead and
> >the serial console stopped logging.
> >
> >8-way PIII, 2.6.18 with the 3:1 split. Wanted to get my report out there
> >before I reset the box, though.
> 
> Thanks for the report. The messages are caused by this commit (cc'ed 
> author):
> 
> 
http://www.kernel.org/git/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commit;h=15084a4a63bc300c18b28a8a9afac870c552abce
> 
> Not sure whether they are the cause of your hang, but the from the
> changelog it doesn't look like the commit was strictly a bugfix so you
> could try changing msleep calls in the driver back to MDELAY.
Ah yes, that was what I was going to try next, if I didn't hear back
from anyone :)
I'll let you know if that changes anything. This box has been hanging
for a little while now, on an inconsistent basis -- this was just the
first time I was able to grab these traces. And by hanging hard, I mean
no console, serial or physical, no SysRq, nothing. It's all rather odd.
Will keep you posted.
Thanks,
Nish
-- 
Nishanth Aravamudan <nacc@us.ibm.com>
IBM Linux Technology Center
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/