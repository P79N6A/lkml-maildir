Date: Wed, 13 Apr 2005 00:04:06 +0200
From: Krzysztof Halasa <>
Subject: Re: [INFO] Kernel strict versioning
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/12/428

"Franco \"Sensei\"" <senseiwa@tin.it> writes:
> What about making extensive use of modules? If everything (acceptable)
> is built on modules, can you still have abi, can you still change
> modules and api implementation without breaking anything?
Yes, but you still can't change .config. You enable SMP, your binary
compatibility is history. You _have_to_ be able to enable SMP and
_you_have_ to be able to disable it.
The following kernel packages are parts of Fedora Core 3:
kernel-2.6.9-1.667.i586.rpm
kernel-2.6.9-1.667.i686.rpm
kernel-smp-2.6.9-1.667.i586.rpm
kernel-smp-2.6.9-1.667.i686.rpm
4 of them, each with a different ABI. And this is all the same kernel
major-minor-version-subversion and the same compiler - only the settings
differ.
> I'm really curious about it. How abi can be made actual, and how would
> it be if we had a completely modular kernel (not micro, but something
> alike, modular in kernel-space, not in user-space).
Being modular has nothing to do with the "problem" (except it's probably
required, but Linux _is_ modular for some time now).
> Quite the same, yes. You can still have different kernels of course!
Not "can". You have to. You don't want the kernel running on your dual
Athlon MP to power your old Pentium MMX test machine. The modules are
irrelevant.
> By the way, another stupid curiosity is why /lib/modules instead of
> /boot?
You can have it in /boot. In fact, it's not a kernel issue.
> Because boot can be a partition and not be mounted?
Actually, because boot can be a small partition, and may lack support
for, say, long filenames.
Actually, I put the kernels in /lib/modules/* as well. I have no /boot
file systems and I like the idea of rm -rf /lib/modules/something
deleting all files related to a particular kernel.
-- 
Krzysztof Halasa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/