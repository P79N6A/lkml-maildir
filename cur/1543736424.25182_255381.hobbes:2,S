Date: 25 Sep 2004 09:14:34 -0400
From: James Bottomley <>
Subject: Re: [RFC] put symbolic links between drivers and modules in the sysfs tree
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/25/71

On Sat, 2004-09-25 at 03:38, viro@parcelfarce.linux.theplanet.co.uk
wrote:
> On Mon, Sep 20, 2004 at 01:29:44PM -0400, James Bottomley wrote:
> > This functionality is essential for us to work out which drivers are
> > supplied by which modules.  We use this in turn to work out which
> > modules are necessary to find the root device (and hence what
> > initrd/initramfs needs to insert).
> 
> So what will your userland code do when you run it on a system with
> non-modular kernel currently running?
Not put a module in the initial ramdisk, since it would be unnecessary. 
The only information the patch seeks to add is the linkage between
driver and module.  So you can work back from sysfs to know which
devices have which modules
> IOW, that's a fundamentally broken interface - you really want the same
> information regardless of modular vs. built-in.
Not really.  It you argue this about module *parameters*, I might agree,
but not about what driver goes with what module...if the driver is build
in, then the answer is a simple "none" and the link doesn't exist.
James
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/