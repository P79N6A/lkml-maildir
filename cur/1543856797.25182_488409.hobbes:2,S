Date: Tue, 5 Dec 2006 14:06:58 +0530
From: Gautham R Shenoy <>
Subject: Re: -mm merge plans for 2.6.20
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/5/50

Hi Andrew,
> remove-hotplug-cpu-crap-from-cpufreq.patch
> 
> Sent to cpufreq maintainer
I suspect that Davej posted this patch because he was getting lockdep
warnings-reports from people complaining of ondemand-governor 
performing spurious unlock_cpu_hotplug. 
That problem has been fixed in the mainline by the commit
http://www.kernel.org/git/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commit;h=4b96b1a10cb00c867103b21f0f2a6c91b705db11
If there are any other issues with cpufreq-cpuhotplug in the mainline,
I'm more than willing to help out fix them. As of now, I cannot seem 
to spot anything serious in the mainline as such.
Hence, merging this isn't an immediate need IMHO.
> hotplug-cpu-clean-up-hotcpu_notifier-use.patch
> hotplug-cpu-clean-up-hotcpu_notifier-use-vs-gregkh-driver-cpu-topology-consider-sysfs_create_group-return-value.patch
> 
> extend-notifier_call_chain-to-count-nr_calls-made.patch
> extend-notifier_call_chain-to-count-nr_calls-made-fixes.patch
> extend-notifier_call_chain-to-count-nr_calls-made-fixes-2.patch
> define-and-use-new-eventscpu_lock_acquire-and-cpu_lock_release.patch
> define-and-use-new-eventscpu_lock_acquire-and-cpu_lock_release-fix.patch
> eliminate-lock_cpu_hotplug-in-kernel-schedc.patch
> eliminate-lock_cpu_hotplug-in-kernel-schedc-fix.patch
> handle-cpu_lock_acquire-and-cpu_lock_release-in-workqueue_cpu_callback.patch
> 
>  Shall merge.
>
Merging this would still give the circular-locking dependency warnings
which I posted the other day. Unless we have a clean way to get
cpu-hotplug-protection for cpufreq, I don't see a point in merging this
stuff.
Cpufreq hotplug-interactions can be sorted out.
I have a few patches which I need to test out before posting them.
Other than that, there are issues regarding the 
workqueue-hotplug-"locking" which needs to be addressed,
probably in a seperate thread.
So could you please reconsider this decision to merge the
hotplug-locking rework, and let it stabilize in -mm for sometime ?
Thanks and Regards
gautham.
-- 
Gautham R Shenoy
Linux Technology Center
IBM India.
"Freedom comes with a price tag of responsibility, which is still a bargain,
because Freedom is priceless!"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/