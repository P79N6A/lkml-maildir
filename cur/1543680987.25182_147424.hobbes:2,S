Date: Sat, 12 Jul 2003 11:06:54 -0700
From: Carl Thompson <>
Subject: Fwd: Temporary "lock-up" with snd-ali5451 driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/12/112

I am not on the kernel mailing list so please CC me with any responses.
I am forwarding this to the kernel list because
  1. adding printk()s to the driver suggests the lock-up happens before
     module_init() is called
  2. this driver is now part of the kernel
  3. I got no response on the ALSA list
----- Forwarded Message -----
Hello, I have a problem the answer to which I have not found with a search
of the list archives or google.
My laptop (emachines M5305 Widescreen) has an Ali M5451 audio controller.
Whenever is insert the snd-ali5451 driver, the whole computer hangs for
about 10 seconds.  The screen does not change, the keyboard does not work,
the mouse pointer does not move.  It looks very much like the system has
locked up.  After this long pause things start working including sound
which then works fine.  In fact, events seem to be queued while the system
is unresponsive.
This happens with both the module compiled from 0.9.4 for use with Linux
2.4.21 and with the module from Linux 2.5.72.
Changes to my IRQ routing settings have no effect.
The sound card shares interrupts with the usb ports.  I'm not sure if it can
be told to use a different interrupt (but it should share correctly,
right?).
Loading the OSS trident driver does not cause any problems [except on 2.5
where the trident driver causes my hard disks to stop working!?].
I am certain the problem happens when inserting the actual snd-ali5451
module and not one of the other modules.
No syslog messages of any kind seem to be generated.
Does anyone have any idea what the problem could be?
Thank you,
Carl Thompson
----- End Forwarded Message -----
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/