Date: Wed, 9 May 2007 21:05:15 +0200 (CEST)
From: Geert Uytterhoeven <>
Subject: Re: [GIT PATCHES] V4L/DVB updates
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/9/368

On Wed, 9 May 2007, Mauro Carvalho Chehab wrote:
> Em Qua, 2007-05-09 Ã s 08:30 +0200, Geert Uytterhoeven escreveu:
> > On Fri, 27 Apr 2007, Mauro Carvalho Chehab wrote:
> > > A short changelog:
> > > 
> > >    - New drivers:
> > >         ivtv driver for Hauppauge PVR series and similar boards;
> > 
> > Can we please have proper Kconfig dependencies instead of
> > 
> > | #ifdef CONFIG_LIRC_I2C
> > | #  error "This driver is not compatible with the LIRC I2C kernel configuration
> > | #endif /* CONFIG_LIRC_I2C */
> > | 
> > | #ifndef CONFIG_PCI
> > | #  error "This driver requires kernel PCI support."
> > | #endif /* CONFIG_PCI */
> > 
> > in drivers/media/video/ivtv/ivtv-driver.h? Especially a dependency on
> > CONFIG_PCI would be nice (CONFIG_LIRC_I2C doesn't exist in mainline?).
> > 
> > | drivers/media/video/video-buf.c: In function 'videobuf_queue_pci':
> > | drivers/media/video/video-buf.c:399: error: 'pci_map_sg' undeclared (first use in this function)
> > 
> > Probably some new driver does a select VIDEO_BUF, which overrides that
> > VIDEO_BUF depends on PCI?
> 
> Can you check if the following patch would fix it? VIDEO_BUF is selected
> by several PCI-dependent devices. The only non-PCI device wrongly
> selecting VIDEO_BUF seems to be em28xx.
Yes, it fixed the issues (after manual application of the last chunk,
which didn't apply cleanly). Thanks!
Acked-by: Geert Uytterhoeven <geert@linux-m68k.org>
Gr{oetje,eeting}s,
						Geert
--
Geert Uytterhoeven -- There's lots of Linux beyond ia32 -- geert@linux-m68k.org
In personal conversations with technical people, I call myself a hacker. But
when I'm talking to journalists I just say "programmer" or something like that.
							    -- Linus Torvalds