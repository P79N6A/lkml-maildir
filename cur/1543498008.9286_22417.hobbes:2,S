Date: 07 Jun 1999 00:17:55 -0500
From: "James H. Cloos Jr." <>
Subject: Re: [linux-usb] Re: [announce] Linux Input Driver suite version 0.1.0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/7/6

Following up on my earlier post, I find that this patch to the XFree86
install get's me my Meta and Menu keys back:
========================================================================
--- /usr/X11R6/lib/X11/xkb/keycodes/xfree86-x	Sun Jun  6 23:53:07 1999
+++ /usr/X11R6/lib/X11/xkb/keycodes/xfree86	Sun Jun  6 23:48:09 1999
@@ -3,7 +3,7 @@
 default xkb_keycodes "xfree86" {
 
     minimum= 8;
-    maximum= 134;
+    maximum= 135;
 
     <TLDE> =  49;
     <AE01> =  10;
@@ -69,9 +69,9 @@
     <RCTL> = 109;
     <RALT> = 113;
     // Microsoft keyboard extra keys
-    <LWIN> = 115;
-    <RWIN> = 116;
-    <MENU> = 117;
+    <LWIN> = 135;
+    <RWIN> = 133;
+    <MENU> = 134;
 
     <ESC>  =   9;
     <FK01> =  67;
========================================================================
It is interesting to note that the values that X is looking for -- for
*most* keys -- are the scan codes (as seen in evtest's output) +8.  The
Menu and Meta keys follow the rule in this case.  The exceptions are:
<RGHT> <END> <DOWN> <PGDN> <INS> <DELE>:  -4
<PAUS>:                                   -9
<HOME> <UP> <PGUP> <LEFT>:                -5
<RCTL>:                                   +9
<KPEN> <PRSC>:                           +12
<RALT>:                                  +13
<KPDV>:                                  +14
Lastly, there is a small bug in the code.  At least using:
CONFIG_INPUT_I8042=y
CONFIG_INPUT_ATKBD=y
CONFIG_INPUT_USBKBD=y
CONFIG_INPUT_PSMOUSE=y
CONFIG_INPUT_USBMOUSE=y
CONFIG_INPUT_EVDEV=y
CONFIG_INPUT_MOUSEMU=y
# CONFIG_INPUT_MOUSEMU_IMPS is not set
with a single ps2-port connected kbd and a single ps2 mouse I get
occasional stuck keys.  It is always a key I wasn't using, and it
autorepeats until I hit another key, which clears the event.  I've not
been running evtest when it has happened.  Note that although I have
the USB stuff compiled in, I do not currently have any HID USB
devices.  The MB is an Intel TX chipset w/ an Award BIOS (probably a
Gigabyte MB) if that is at all relevant.
-JimC
-- 
James H. Cloos, Jr.  <
http://www.jhcloos.com/cloos/public_key>
 1024D/ED7DAEA6 
<cloos@jhcloos.com>     E9E9 F828 61A4 6EA9 0F2B  63E7 997A 9F17 ED7D AEA6
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/