Date: Wed, 03 Nov 2004 19:46:36 +0000
From: David Howells <>
Subject: Re: [uClinux-dev] [PATCH 1/14] FRV: Fujitsu FR-V CPU arch implementation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/3/191

> please don't copy the horrible boot decompressor cludges to new arches.
> Why can't your loader support vmlinux.gz files for a new port?
You're assuming I've control over the bootloader.
> Please use the generic kernel/irq/* code.
That code is not sufficient.
> I can't see this beeing called from generic code ever, why do you
> implement it?
It's a placeholder for something I'd like to implement for the FR451 CPU which
has a decrementer counter. It is actually called from entry.S.
> > +void *dma_alloc_coherent(struct device *hwdev, size_t size, dma_addr_t *dma_handle, int flag)
> the last argument is the gfp mask.
It's called "flag" in include/asm-i386/dma-mapping.h. And shouldn't it be an
"unsigned long" if it's GFP flags?
> does GFP_DMA really hae the same meaning as on i386 here?
I'm not sure whether it should put all of its memory in the DMA region, or
none of it. There's no documentation on this.
> Don't mess with per-arch fields in common procfs files.
Should I then add an arch-specific file to "/proc/<pid>/"?
David
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/