Date: Wed, 5 Sep 2007 12:02:57 +0200 (CEST)
From: Jan Engelhardt <>
Subject: Re: building a specific in-tree module is currently a bit broken
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/5/47

On Sep 5 2007 05:42, Robert P. J. Day wrote:
>that doesn't solve the problem.  i should have mentioned that i
>already (unnecessarily, i suggest) ran "make modules_prepare", but the
>problem persists.
>
>the issue seems to be that running that last make command to build the
>module visor.ko doesn't somehow signal the Makefile that this is a
>*module* build, and therefore no module-related initialization is
>done, such as creating that directory or setting the Makefile variable
>MODVERDIR, etc, etc.
ah... make M=drivers/foo/bar/
it builds the whole directory, but at least it builds it.
>
>once you've build at least one module successfully, then the directory
>.tmp_versions exists so future module builds will work fine.  it's
>only when you do a clean, *immediately* followed by trying to do an
>in-tree module build, that this is going to bite you.
	Jan
-- 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/