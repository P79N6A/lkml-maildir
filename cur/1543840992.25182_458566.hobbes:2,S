Date: Tue, 29 Aug 2006 11:15:58 +0200 (CEST)
From: Böszörményi Zoltán <>
Subject: Re: How to determine whether a file was opened O_DIRECT?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/29/67

> BĂśszĂśrmĂŠnyi ZoltĂĄn wrote:
>> Hi,
>>
>> I would like to run some diagnostics on a database
>> process and I would like to know what flags it used
>> for opening its files. Is there any way to get this info?
>>
>> Thanks in advance,
>> ZoltĂĄn BĂśszĂśrmĂŠnyi
>>
> 1. Look at the source code for the database - if you have it.
Unfortunately not.
> 2. Run your database under strace, then search the voluminous
>     output for "open" calls and look at the flags.
I can't do that, it's a production machine. But ...
> 3. Patch your kernel to "printk" information whenever
>     someone opens with O_DIRECT.
... this should have been obvious. :-) Thanks.
I just thought a command like fuser
may already exists to give me this info.
Or something under /proc/PID/fd.
>
> Helge Hafting
>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/