Date: 22 Aug 2002 00:45:34 +0100
From: Alan Cox <>
Subject: RE: Hyperthreading
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/21/21

On Wed, 2002-08-21 at 23:56, Nakajima, Jun wrote:
> Since Pentium 4 and Xeon share the same core, you see the HT bit on Pentium
> 4 as well. The HT bit does not mean HT is enabled (you can enable/disable
> usually by the BIOS setup), but the number of the threads (i.e. logical
> CPUs) in a processor package must be 2 (via cpuid instruction) so that the
> OS can be sure that HT is enabled (see setup.c). The HT bit is just useful
> as a prerequisite for HT.
If you want to know the full HT capabilities of the processor you need
to read cpuid 1 and check ebx bits 16-23.
There has been some interesting speculation as to whether you can enable
HT by undocumented mtrrs on cpus that have "ht" but claim not to be
doing HT. Clearly the value returned is settable somewhere but I've seen
no proof yet than you can enable HT on non PIV Xeons this way.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/