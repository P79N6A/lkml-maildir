Date: Fri, 4 Aug 2000 22:17:46 -0400 (EDT)
From: Alexander Viro <>
Subject: Re: RFC: design for new VM
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/4/187

On Fri, 4 Aug 2000, Matthew Dillon wrote:
> :You have to have some page table locking mechanism for SMP eventually: I
> :think you miss some of the problems because the current FreeBSD SMP stuff
> :is mostly still "big kernel lock" (outdated info?), and you'll end up
> :kicking yourself in a big way when you have the 300 processes sharing the
> :same lock for that region..
> 
>     If it were a long-held lock I'd worry, but if it's a lock on a pte
>     I don't think it can hurt.  After all, even with separate page tables
>     if 300 processes fault on the same backing file offset you are going
>     to hit a bottleneck with MP locking anyway, just at a deeper level
>     (the filesystem rather then the VM system).
Erm... I'm not sure about that - for one thing, you are not caching
results of bmap(). We do. And our VFS is BKL-free, so contention really
hits only on the VOP_BALLOC() level (that can be fixed too, but that's
another story).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/