Date: Mon, 28 Feb 2000 16:02:35 MET-1
From: "Petr Vandrovec" <>
Subject: Re: [linux-fbdev] [PATCH] matrxofb i2c fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/28/80

On 28 Feb 00 at 9:50, James A Simmons wrote:
> > > > > +              fi
> > > > > +            fi
> > > Well, I probably fail to see something, but I was under impression
> > > that if last keyword on dep_tristate line is CONFIG_I2C_ALGOBIT,
> > > then this already limits CONFIG_FB_MATROX_I2C to be available with
> > > CONFIG_I2C. Or did someone change dep_tristate semantic?
> > Nope, you are correct...  That 'if' above CONFIG_FB_MATROX_I2C is
> > definitely unnecessary.
> Really then why did my compile fail? You can still compile it without
> CONFIG_I2C enabled. I tried it just to see if it would fail. It did.   
> I created the above patch and it fixed that problem. 
Because of stupid configuration language. You are of course correct.
If CONFIG_I2C is "n", then CONFIG_I2C_ALGOBIT is "" - and dep_tristate
description says that empty dependencies are ignored :-( I'll send
patch to Linus (adding CONFIG_I2C into dep_tristate arguments...)
                                    Best regards,
                                            Petr Vandrovec
                                            vandrove@vc.cvut.cz
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/