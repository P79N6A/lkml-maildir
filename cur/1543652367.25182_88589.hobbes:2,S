Date: Mon, 11 Nov 2002 16:11:06 -0500 (EST)
From: "Alan Willis" <>
Subject: Re: [BENCHMARK] 2.5.46-mm1 with contest
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/11/150

> That's an awful lot of mapped memory.  Have you been altering
> /proc/sys/vm/swappiness?  Has some application run berzerk
> and used tons of memory?
>
> Slab:             7592 kB
> Committed_AS:   423120 kB
> PageTables:       1996 kB
> ReverseMaps:     69425
> HugePages_Total:    15
> HugePages_Free:     15
> Hugepagesize:     4096 kB
vm.swappiness was set to 0
>
> You've lost 60 megabytes in hugepages!  Bill's patch (which is in .47)
> changes the initial number of hugetlb pages to zero, which is rather
> kinder.
>
> So I don't _think_ there's a leak here.  It could be that your
> normal workload fits OK ito 256 megs, but thrashes when it is
> squeezed into 196 megs.
>
> Suggest you do `echo 0 > /proc/sys/vm/nr_hugepages' and retest.
Done, vm.nr_hugepages = 0 # from 15
I'll stick to 2.5.46 for a while yet I guess, to be sure.
-alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/