Date: 29 May 2006 08:10:06 -0400
From: Jes Sorensen <>
Subject: Re: [patch] eliminte unused /proc/sys/net/ethernet
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/29/71

>>>>> "Jes" == Jes Sorensen <jes@sgi.com> writes:
Jes> Hi, Given that /proc/sys/net/ethernet is > 10 years old and empty
Jes> - maybe we should just nuke it off the face of the planet?
DOH!
Forgot to remove it from the Makefile ... here we go again.
Jes
The /proc/sys/net/ehternet directory has been sitting empty
for more than 10 years! Time to eliminate it!
Signed-off-by: Jes Sorensen <jes@sgi.com>
---
 net/ethernet/Makefile           |    1 -
 net/ethernet/sysctl_net_ether.c |   14 --------------
 net/sysctl_net.c                |    8 --------
 3 files changed, 23 deletions(-)
Index: linux-2.6/net/ethernet/Makefile
===================================================================
--- linux-2.6.orig/net/ethernet/Makefile
+++ linux-2.6/net/ethernet/Makefile
@@ -3,6 +3,5 @@
 #
 
 obj-y					+= eth.o
-obj-$(CONFIG_SYSCTL)			+= sysctl_net_ether.o
 obj-$(subst m,y,$(CONFIG_IPX))		+= pe2.o
 obj-$(subst m,y,$(CONFIG_ATALK))	+= pe2.o
Index: linux-2.6/net/ethernet/sysctl_net_ether.c
===================================================================
--- linux-2.6.orig/net/ethernet/sysctl_net_ether.c
+++ /dev/null
@@ -1,14 +0,0 @@
-/* -*- linux-c -*-
- * sysctl_net_ether.c: sysctl interface to net Ethernet subsystem.
- *
- * Begun April 1, 1996, Mike Shaver.
- * Added /proc/sys/net/ether directory entry (empty =) ). [MS]
- */
-
-#include <linux/mm.h>
-#include <linux/sysctl.h>
-#include <linux/if_ether.h>
-
-ctl_table ether_table[] = {
-	{0}
-};
Index: linux-2.6/net/sysctl_net.c
===================================================================
--- linux-2.6.orig/net/sysctl_net.c
+++ linux-2.6/net/sysctl_net.c
@@ -37,14 +37,6 @@
 		.mode		= 0555,
 		.child		= core_table,
 	},
-#ifdef CONFIG_NET
-	{
-		.ctl_name	= NET_ETHER,
-		.procname	= "ethernet",
-		.mode		= 0555,
-		.child		= ether_table,
-	},
-#endif
 #ifdef CONFIG_INET
 	{
 		.ctl_name	= NET_IPV4,
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/