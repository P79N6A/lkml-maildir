Date: Wed, 22 Aug 2001 01:39:29 +0200
From:  firenza@gmx ...
Subject: how to page_cache.max_percent?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/8/21/225

hi,
the following scenario:
 * kernel 2.4.9 smp
 * machine with 6GB physical memory
 * multiple processes are relying on a 3GB large data structure
   to be in memory (speed goes down the drain, when some pages 
   are swapped out)
 * not every page in this 3GB data structure is used all the time
 * this data structure is loaded from files, so initially
   i end up having 3GB of used cache (visible in vmstat)
now i start another memory intense process and discover via vmstat
the following sensible behaviour: pagecache shrinks slowly and
memory from the 3GB structure is swapped out at a faster rate...
i don't care about the pagecache, i only care about having those
3GB in memory... 
is there a way to set a maximum size for the pagecache (afaik,
page_cache.max_percent is not used)?
or can i specify to always drain the pagecache before swapping out?
cheers,
-iowa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/