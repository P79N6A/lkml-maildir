Date: Tue, 2 Sep 2003 12:42:12 +0200
From: Andrew Lunn <>
Subject: 2.6-test4 Traditional pty and devfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/2/68

Hi Folks
http://bugme.osdl.org/show_bug.cgi?id=1045
I found that devfs and traditional pty's don't work properly with
2.6-test4 and a lot of previous versions. Note im talking about
traditional pty's not UNIX98 which need devpts mounted.
The pty slave devices do not appear in devfs. They should be
/dev/pts/s* and symbolic links from /dev/pty* into /dev/pts/s*. But
these are all missing. So programs like ripperx which use a pty to
control cdparanoia don't work.
I've attached two possible patches to the bugzilla bug. The first one
causes the slave devices to be created in devfs at start up. The
second one makes it work more like 2.4 when the slave device is only
created when the master device is opened.
Both patches suffer from a problem. The slave is always only RW
root. 2.4 sets the owner of the slave to that of the process opening
the master. I cannot see a way to make this happen with 2.6-test. 
Im open for suggestions as to the correct way to fix this.
   Thanks
        Andrew
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/