Date: Mon, 12 Sep 2005 21:19:15 +0200
From: "Rafael J. Wysocki" <>
Subject: Re: 2.6.13-mm2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/12/275

On Sunday, 11 of September 2005 22:03, Hugh Dickins wrote:
> On Sun, 11 Sep 2005, Andrew Morton wrote:
> > "Rafael J. Wysocki" <rjw@sisk.pl> wrote:
> > > 
> > >  Could you please reintroduce the yenta-free_irq-on-suspend.patch (attached)
> > >  into -mm?  My box does not resume from disk without it.
> > 
> > No probs.
> > 
> > Daniel, do you remember why we decided to drop it?  What should we do about
> > this?  Thanks.
> 
> I remember well.  My laptop does not APM resume from RAM with it.
> I've just rechecked and that's still the case.  I did try various patches
> from Rafael to help him work it out, but it remained a puzzle.
Still the observations are sort of interesting (just for the record):
1) The problem is due to interrupt sharing.  The IRQ is shared between
yenta and 3c59x.
2) Without the yenta driver the box resumes.
3) Without the 3c59x driver the box resumes.
4) If yenta is woken up _before_ 3c59x, the box resumes.
5) If yenta is woken up _after_ 3c59x, the box hangs.  Unfortunately,
this is the default, because of the PCI device numbers.
> And I admit, it is his turn to resume this month.
Thanks. ;-)
Greetings,
Rafael
-- 
- Would you tell me, please, which way I ought to go from here?
- That depends a good deal on where you want to get to.
		-- Lewis Carroll "Alice's Adventures in Wonderland"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/