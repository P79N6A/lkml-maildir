Date: Fri, 16 Nov 2007 13:58:35 +0100
From: Sam Ravnborg <>
Subject: Re: Kconfig: ARCH=x86
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/16/65

Hi Andreas.
On Fri, Nov 16, 2007 at 12:14:46PM +0100, Andreas Herrmann wrote:
> Hi,
> 
> I have just some minor remarks wrt the commit message for
> daa93fab824f2b8c35bd11670c7fab2f32b2de5f - 'x86: enable "make
> ARCH=x86"'. (Based on my observations when testing the stuff on 64bit
> and 32bit hosts with Linus' tree v2.6.24-rc2-640-g8c08634.)
> 
> For randconfig we have now the following behaviour.  (The table shows
> whether the resulting configuration is for 32 or 64-bit.)
> 
> # make randconfig [ARCH=...] [K64BIT=]
> 
> option \ host arch      | 32bit         | 64bit
> =====================================================
> ./.                     | 32bit         | 64bit
> ARCH=x86                | 32bit/64bit   | 32bit/64bit
> ARCH=x86 K64BIT=n       | 32bit         | 32bit
> ARCH=x86 K64BIT=y       | 64bit         | 64bit
> ARCH=x86_64             | 64bit         | 64bit
> ARCH=x86_64 K64BIT=n    | 32bit         | 32bit
> ARCH=x86_64 K64BIT=y    | 64bit         | 64bit
To make the table complete you need to consider
make ARCH=i386
Basically is goes like this:
With x86 the default is 32 bit but can be set to 64-bit with K64BIT=y
With x86_64 the default is 64-bit but K64BIT take precedence
With i386 the default is 32 bit but K64BIT takes precedence
All that said I am going to revert the K64BIT possibility.
Roman posted a patch earlier that allows us to based on ARCH setting
select between 32-bit or 64-bit based on ARCH= alone.
	Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/