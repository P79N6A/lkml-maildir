Date: Tue, 4 Jul 2000 12:06:26 -0700 (PDT)
From: Chris Lattner <>
Subject: Re: [PATCH #2] console lock grabbed too early in printk...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/4/75

When debugging, on a platform that you *know* it works (except for page
faults, obviously) why shouldn't you be able to take little
shortcuts?  The point isn't production code... it's trying to locate and
isolate a bug as quickly as possible.  The only thing dangerous, in the
printk case is the vsprintf call... not the deep inter console stuff.  By
adding the extra lock you fine grain vsprintf  OUT of the console_lock,
which improves console performance for SMP machines, reduces console_lock,
and adds a single low contention lock to an extremely low frequency code
path.
I guess people don't care if VM works or not, sheesh.
-Chris
On Tue, 4 Jul 2000, Alan Cox wrote:
> 
> You cannot mix addresses residing in user space and kernel space. On some 
> machines it happens to work badly for some lucky cases, on others it doesnt
> work at all
> 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/