Date: Wed, 8 Mar 2000 05:44:41 +0100 (CET)
From: Niels Kristian Bech Jensen <>
Subject: [FIX] Re: 2.3.50 -- make xconfig error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/8/1

On Wed, 8 Mar 2000, Miles Lane wrote:
[...]
> make[1]: Leaving directory `/usr/src/linux-2.3.49/scripts'
> wish -f scripts/kconfig.tk
> Error in startup script: can't read "CONFIG_SB_IRQ": no such variable
>     while executing
> "set CONFIG_AEDSP16_SB_IRQ $CONFIG_SB_IRQ"
>     (file "scripts/kconfig.tk" line 14004)
> make: *** [xconfig] Error 1
> 
Here is a quick-and-dirty fix for that problem:
--- linux-2.3.50/drivers/sound/lowlevel/Config.in	Sun Feb 27 20:22:23 2000
+++ linux/drivers/sound/lowlevel/Config.in	Wed Mar  8 05:39:27 2000
@@ -34,8 +34,8 @@
 	    if [ "$CONFIG_AEDSP16_SBPRO" = "y" ]; then
 	       comment 'Audio Excel DSP 16 [Sound Blaster Pro]'
 	       hex 'I/O base for Audio Excel DSP 16 220, 240' CONFIG_AEDSP16_BASE $CONFIG_SB_BASE 220
-	       int 'Audio Excel DSP 16 IRQ 5, 7, 9, 10, 11' CONFIG_AEDSP16_SB_IRQ $CONFIG_SB_IRQ 5
-	       int 'Audio Excel DSP 16 DMA 0, 1 or 3' CONFIG_AEDSP16_SB_DMA $CONFIG_SB_DMA 0
+	       int 'Audio Excel DSP 16 IRQ 5, 7, 9, 10, 11' CONFIG_AEDSP16_SB_IRQ 5
+	       int 'Audio Excel DSP 16 DMA 0, 1 or 3' CONFIG_AEDSP16_SB_DMA 0
 	    fi
 	 fi
       fi
@@ -46,8 +46,8 @@
 	    if [ "$CONFIG_AEDSP16_MSS" = "y" ]; then
 	       comment 'Audio Excel DSP 16 [Microsoft Sound System]'
 	       hex 'I/O base for Audio Excel DSP 16 220 or 240' CONFIG_AEDSP16_BASE 220
-	       int 'Audio Excel DSP 16 IRQ 5, 7, 9, 10, 11' CONFIG_AEDSP16_MSS_IRQ $CONFIG_MSS_IRQ 5
-	       int 'Audio Excel DSP 16 DMA 0, 1 or 3' CONFIG_AEDSP16_MSS_DMA $CONFIG_MSS_DMA 1
+	       int 'Audio Excel DSP 16 IRQ 5, 7, 9, 10, 11' CONFIG_AEDSP16_MSS_IRQ 5
+	       int 'Audio Excel DSP 16 DMA 0, 1 or 3' CONFIG_AEDSP16_MSS_DMA 1
 	    fi
 	 fi
       fi
@@ -59,7 +59,7 @@
 	    if [ "$CONFIG_AEDSP16_SBPRO" != "y" -a "$CONFIG_AEDSP16_MSS" != "y" ]; then
 	       hex 'I/O base for Audio Excel DSP 16 220 or 240' CONFIG_AEDSP16_BASE 220
 	    fi
-	    int 'MPU401 IRQ for Audio Excel DSP 16 5, 7, 9, 10 or 0 (disable)' CONFIG_AEDSP16_MPU_IRQ $CONFIG_MPU_IRQ
+	    int 'MPU401 IRQ for Audio Excel DSP 16 5, 7, 9, 10 or 0 (disable)' CONFIG_AEDSP16_MPU_IRQ 0
 	 fi
       fi
    fi
-- 
Niels Kristian Bech Jensen -- nkbj@image.dk -- 
http://www.image.dk/~nkbj/
----------->>  Stop software piracy --- use free software!  <<-----------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/