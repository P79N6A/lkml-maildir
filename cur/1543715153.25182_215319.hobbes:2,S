Date: Tue, 20 Apr 2004 22:19:06 -0500
From: Dmitry Torokhov <>
Subject: Re: /dev/psaux problem (2.6.5)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/20/198

On Tuesday 20 April 2004 09:11 am, E.Rodichev wrote:
> It's not a problem of mousedev, but the problem of make menuconfig.
> 
> The relevant part of .config is
> 
> #
> # Userland interfaces
> #
> CONFIG_INPUT_MOUSEDEV=y
> CONFIG_INPUT_MOUSEDEV_PSAUX=y
> CONFIG_INPUT_MOUSEDEV_SCREEN_X=1024
> CONFIG_INPUT_MOUSEDEV_SCREEN_Y=768
> # CONFIG_INPUT_JOYDEV is not set
> # CONFIG_INPUT_TSDEV is not set
> # CONFIG_INPUT_EVDEV is not set
> # CONFIG_INPUT_EVBUG is not set
> 
> Starting from original linux-2.6.5.tar.gz it seems impossible to
> disable CONFIG_INPUT_MOUSEDEV_PSAUX without disabling CONFIG_INPUT_MOUSEDEV.
> 
> If I comment out the line CONFIG_INPUT_MOUSEDEV_PSAUX by hand, make
> silently restore this line to yes.
> 
Ok, in that case why mess with MOUSEDEV and not MOUSEDEV_PSAUX, like this:
===== drivers/input/Kconfig 1.6 vs edited =====
--- 1.6/drivers/input/Kconfig	Thu Sep 11 22:19:35 2003
+++ edited/drivers/input/Kconfig	Tue Apr 20 22:11:43 2004
@@ -41,9 +41,16 @@
 	  module will be called mousedev.
 
 config INPUT_MOUSEDEV_PSAUX
-	bool "Provide legacy /dev/psaux device" if EMBEDDED
+	bool "Provide legacy /dev/psaux device"
 	default y
 	depends on INPUT_MOUSEDEV
+	---help---
+	  Say Y here if you want your mouse also be accessible as char device
+	  10:1 - /dev/psaux. The data available through /dev/psaux is exactly
+	  the same as the data from /dev/input/mice.
+
+	  If unsure, say Y.
+
 
 config INPUT_MOUSEDEV_SCREEN_X
 	int "Horizontal screen resolution"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/