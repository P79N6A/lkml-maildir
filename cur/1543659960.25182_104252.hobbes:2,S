Date: Fri, 17 Jan 2003 15:09:58 -0800
From: Matthew Dobson <>
Subject: Re: [patch] sched-2.5.59-A2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/17/193

Martin J. Bligh wrote:
>>I repeated the tests with your B0 version and it's still not
>>satisfying. Maybe too aggressive NODE_REBALANCE_IDLE_TICK, maybe the
>>difference is that the other calls of load_balance() never have the
>>chance to balance across nodes.
> 
> 
> Nope, I found the problem. The topo cleanups are broken - we end up 
> taking all mem accesses, etc to node 0.
> 
> Use the second half of the patch (the splitup I already posted), 
> and fix the obvious compile error. Works fine now ;-)
> 
> Matt, you know the topo stuff better than anyone. Can you take a look
> at the cleanup Ingo did, and see if it's easily fixable?
Umm..  most of it looks clean.  I'm not really sure what the 
__cpu_to_node_mask(cpu) macro is supposed to do?  it looks to be just an 
alias for the __node_to_cpu_mask() macro, which makes little sense to 
me.  That's the only thing that immediately sticks out.  I'm doubly 
confused as to why it's defined twice in include/linux/topology.h?
-Matt
> 
> M.
> 
> PS. Ingo - I love the restructuring of the scheduler bits. 
> I think we need > 2 multipler though ... I set it to 10 for now.
> Tuning will tell ...
> 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/