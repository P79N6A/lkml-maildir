Date: Tue, 24 Apr 2007 11:05:48 +0300
From: Sergey Yanovich <>
Subject: Re: [mmc] alternative TI FM MMC/SD driver for 2.6.21-rc7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/24/89

Hi,
>> If you add support for let's say [tifm_8xx2] in the future, which
>> would have port offsets different that [tifm_7xx1], you would also need a
>> completely new modules for slots (sd, ms, etc).
>>
>
> Does not this constitutes an unbounded speculation?
Only time will tell :)
> And then, what would you propose to do with
> adapters that have SD support disabled? There are quite a few of those in the wild, as of right
> now (SD support is provided by bundled SDHCI on such systems, if at all). Similar argument goes
> for other media types as well - many controllers have xD support disabled too (I think you have
> one of those - Sony really values its customers). After all, it is not healthy to have dead code
> in the kernel.
>
A typical kernel config is an allmconfig, which has tones of dead
code: just see a 'General setup' part of your distro '.config'.
There are item like 'SMP' selected by default for 686+ CPUs. And
this is far more overhead that a single check of card type on
insert.
To allow customization, boolean module options that disable certain
card type may suffice.
And again, you are doing a great work with the driver.
--
Sergey Yanovich
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/