Date: Tue, 12 Feb 2008 23:28:43 -0500 (EST)
From: "Pete MacKay" <>
Subject: Re: [PATCH 1/6] Core driver for WM97xx touchscreens
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/12/687

> This patch series adds support for the touchscreen controllers provided
> by Wolfson Microelectronics WM97xx series chips in both polled and
> streaming modes.
We're using the wm9712 codec with the sound/soc/pxa code configured in and
came across this build error:
In file included from include/linux/wm97xx.h:9,
                 from drivers/input/touchscreen/wm97xx-core.c:50:
include/sound/core.h:281: error: `SNDRV_CARDS' undeclared here (not in a
function)
I had to apply the following one-line patch to the header:
Index: linux-2.6.24.labquest/include/linux/wm97xx.h
===================================================================
--- linux-2.6.24.labquest.orig/include/linux/wm97xx.h	2008-02-12
20:17:11.000000000 -0800
+++ linux-2.6.24.labquest/include/linux/wm97xx.h	2008-02-12
20:17:39.000000000 -0800
@@ -6,6 +6,7 @@
 #ifndef _LINUX_WM97XX_H
 #define _LINUX_WM97XX_H
+#include <sound/driver.h>
 #include <sound/core.h>
 #include <sound/pcm.h>
 #include <sound/ac97_codec.h>