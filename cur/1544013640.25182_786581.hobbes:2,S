Date: Sun, 4 Jan 2009 22:15:59 +0300
From: Evgeniy Dushistov <>
Subject: Re: [PATCH 1/4] ufs: validate maximum fast symlink size from superblock
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/4/195

On Wed, Dec 31, 2008 at 04:50:05PM +0000, Duane Griffin wrote:
> The maximum fast symlink size is set in the superblock of certain types
> of UFS filesystem. Before using it we need to check that it isn't longer
> than the available space we have in the inode.
> 
> Signed-off-by: Duane Griffin <duaneg@dghda.com>
> ---
>  fs/ufs/super.c |   11 +++++++++++
>  1 files changed, 11 insertions(+), 0 deletions(-)
> 
> diff --git a/fs/ufs/super.c b/fs/ufs/super.c
> +		printk(KERN_WARNING "ufs_read_super: excessive maximum fast "
> +		       "symlink size (%u)\n", uspi->s_maxsymlinklen);
> +		uspi->s_maxsymlinklen = maxsymlen;
> +	}
> +
Better and logically to use ufs_warning here, because of it show device id,
in case person has serveral ufs formated partitions and mount happened
during system boot time.
-- 
/Evgeniy