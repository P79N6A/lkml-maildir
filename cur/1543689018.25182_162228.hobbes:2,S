Date: Tue, 2 Sep 2003 09:17:59 -0700 (PDT)
From: Patrick Mochel <>
Subject: Re: [PATCH] efivars update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/2/85

> > That patch is below. I'll be sending it to Linus once he gets back from
> > vacation, unless anyone has any serious objections to it. Note that it
> > completely removes any limitation on the length of a kobject (and sysfs
> > directory) name.
> 
> Why keep another copy of the name?  Why not use kobj->dentry->qstr->name?
The problem is defining it. The dentry is not allocated until the kobject 
is registered, and we call through to sysfs. That's not so much a problem, 
but we'd have to pass the name along with the object down to sysfs in 
order to create the dentry, which would be a bit messy, IMO.
	Pat
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/
> > That patch is below. I'll be sending it to Linus once he gets back from
> > vacation, unless anyone has any serious objections to it. Note that it
> > completely removes any limitation on the length of a kobject (and sysfs
> > directory) name.
> 
> Why keep another copy of the name?  Why not use kobj->dentry->qstr->name?
The problem is defining it. The dentry is not allocated until the kobject 
is registered, and we call through to sysfs. That's not so much a problem, 
but we'd have to pass the name along with the object down to sysfs in 
order to create the dentry, which would be a bit messy, IMO.
	Pat
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/