Date: Fri, 01 Jan 1999 11:20:06 -0800
From: Benjamin Redelings I <>
Subject: Re: Linux 2.2.0pre2 Doesn't Like My 386
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/1/144

	Thats wierd.  I don't have a 386, but looking at the code, its seems
like CONFIG_M386 can't be defined, because the check should not even
occur if it is defined.  So, perhaps menuconfig (or whateverconfig)
didn't actually save your options properly?  Maybe your .config is not
what you thought?
	In any case, some chip-selection logic was just modified so this isn't
that surprising.
-BenRI
> __initfunc(static void check_tlb(void))
> {
> #ifndef CONFIG_M386
>         /*
>          * The 386 chips don't support TLB finegrained invalidation.
>          * They will fault when they hit an invlpg instruction.
>          */
>         if (boot_cpu_data.x86 == 3) {
>                 printk(KERN_EMERG "CPU is a 386 and this kernel was compiled for
>  486 or better.\n");
>                 printk("Giving up.\n");
>                 for (;;) ;
>         }
> #endif
> }
-BenRI
-- 
Benjamin Redelings I       <><      
http://sdcc13.ucsd.edu/~bredelin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/