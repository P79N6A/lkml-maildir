Date: Tue, 11 May 2004 19:27:54 +0200
From: Jens Axboe <>
Subject: Re: [PATCH] Format Unit can take many hours
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/11/180

On Tue, May 11 2004, Kurt Garloff wrote:
> Hi,
> 
> On Tue, May 11, 2004 at 06:14:27PM +0200, Jens Axboe wrote:
> > On Tue, May 11 2004, Jeff Garzik wrote:
> > > Jens Axboe wrote:
> > > >block/scsi_ioctl.c should likely receive similar treatment then.
> > > 
> > > This timeout is dependent on media size, I should think...
> > > 
> > > Is there any reason to think that this timeout will _not_ be continually 
> > > patched in the future, as larger and larger sizes are used?
> 
> The disks gets faster as well.
> 
> But if we have to touch it every three years, I don't see this as a 
> huge problem either. If you want some more room, you can set it to 
> 24hrs now ...
Precisely. No need to over-engineer.
> 
> > I think the timeout is only used for ancient programs that use the old
> > sg interface. Newer programs should pass in the timeout themselves, or
> > set IMMED as somebody else in this thread noted.
> 
> If you do use the sg interface, you can specify the timeout.
> If you use SCSI_IOCTL_SEND_COMMAND, there's no way to do it and
> the value from scsi_ioctl.c applies.
Even the oldest sg interface? SCSI_IOCTL_SEND_COMMAND should have been
put to rest at least 5 years ago :)
-- 
Jens Axboe
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/