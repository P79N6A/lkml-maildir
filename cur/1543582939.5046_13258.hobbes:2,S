Date: Fri, 23 Feb 2001 09:20:14 +0100
From: JÃ¶rg Ziuber <>
Subject: Bootp-Bug in 2.2.18 ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/23/171

Hi,
to me it seems, there is a bug in 2.2.18 which does not allow remote
booting.
Situation:
A diskless client shall be booted via bootp (where 'diskless' is not the
problem). So a kernel is configured with the options:
* Networking options/IP: kernel-level configuration support/BOOTP
support  and
* File systems/Network file system/Root file system on NFS
The kernel is dd-dumped to a floppy and the client is booted.
Problem:
With kernel 2.2.16 and 2.4.x the client sends its bootp-request to the
network, gets an answer and boots without any problems.
The __same__ machine with 2.2.18 (configured the same way as
2.2.16/2.4.x) on its disk boots until the network adapter
initialisation, but the bootp-request to follow is _not_ send - it
cannot boot.
An extra test booting the 2.2.18 kernel from a disk with lilo on it
submitting the appended 'ip=bootp'-option causes the kernel to _tell_
that a bootp-reqest is send, but in fact it is _not_ (listening to the
network shows this result). So the machine can not get an answer and
cannot boot, respectively.
Because it works with 2.2.16/2.4.x it should be a kernel problem.
Any ideas ?
Bye,
-- 
Joerg Ziuber			Institut fuer Chemische Technik
				University of Karlsruhe
ziuber@ict.uni-karlsruhe.de	Kaiserstrasse 12
Tel. 0721 / 608-2399		D - 76128 Karlsruhe
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/