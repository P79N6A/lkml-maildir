Date: Wed, 21 Jul 1999 08:35:52 -0400 (EDT)
From: "Richard B. Johnson" <>
Subject: Re: In which order does the kernel deletes files?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/21/29

On Wed, 21 Jul 1999, Meino Christian Cramer wrote:
> Hi all!
> 
>  My 13GB Seagate HD introduces a problem:
>  The root partition is big enough, that certain
>  files are beyond the 1024 cylinder boundary.
> 
>  Currently the kernel images are all "on the 
>  bright side" of this boundary.
> 
>  But what happens, when I will update this
>  kernels?
> 
>    mv /usr/src/v2.3.9/linux/arch/i386/boot/zImage /vmlinuz239 will
>    internally copy the file to the root to new sectors, than delete
>    the old kernel. Result: The new image will be placed beyond
>    the magic limit. The boot will fail
> 
Any time you modify the image you wish to boot, you must execute
lilo. If you have been able to boot after you simply overwrite
the existing image, you have just been lucky.
Lilo 'asks' linux where all the pieces of the boot image are. It
puts this information in /boot/map. What gets written to the bootable
device is the location of /boot/map.
The 'boundary' to which you refer will only exist if the BIOS settings
of your disk drive(s), used during boot, are different than what Linux
uses. This is unlikely or else you would never have been able to boot
from the drive in the first place, although you would have been able
to boot from a floppy, them mount your hard disk root.
Cheers,
Dick Johnson
                   **** FILE SYSTEM WAS MODIFIED ****
Penguin : Linux version 2.2.6 on an i686 machine (400.59 BogoMips).
Warning : It's hard to remain at the trailing edge of technology.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/