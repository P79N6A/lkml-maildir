Date: Sun, 13 Nov 2005 22:02:13 +0100
From: "J.A. Magallon" <>
Subject: x86 building altivec for raid ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/13/76

Hi all...
Long time ago noticed this, but did not remember to report till this night:
x86 seems to build altivec source files for md checksums:
  CC      drivers/md/raid6recov.o
  CC      fs/partitions/ldm.o
  CC      fs/proc/task_mmu.o
  HOSTCC  drivers/md/mktables
  CC      net/core/dev_mcast.o
  UNROLL  drivers/md/raid6int1.c
  UNROLL  drivers/md/raid6int2.c
  UNROLL  drivers/md/raid6int4.c
  UNROLL  drivers/md/raid6int8.c
  UNROLL  drivers/md/raid6int16.c
  CC      fs/proc/inode.o
  UNROLL  drivers/md/raid6int32.c
  UNROLL  drivers/md/raid6altivec1.c
  UNROLL  drivers/md/raid6altivec2.c
  UNROLL  drivers/md/raid6altivec4.c
  UNROLL  drivers/md/raid6altivec8.c
  CC      fs/partitions/msdos.o
  CC      drivers/md/raid6mmx.o
  CC      fs/proc/root.o
  CC      net/core/dst.o
  LD      fs/partitions/built-in.o
  CC      net/core/neighbour.o
  CC      drivers/md/raid6sse1.o
(buld lines are out of order due to a make -j4)
Kernel is 2.6.14-mm2.
This is an x86 box, why does it compile raid6altivec*.c ? I suppose it
does not generate any code, because of some #ifdef magic, but why does
it build them anyways ? Looks a bit strange.
Thanks.
--
J.A. Magallon <jamagallon()able!es>     \               Software is like sex:
werewolf!able!es                         \         It's better when it's free
Mandriva Linux release 2006.1 (Cooker) for i586
Linux 2.6.14-jam2 (gcc 4.0.2 (4.0.2-1mdk for Mandriva Linux release 2006.1))
[unhandled content-type:application/pgp-signature]