Date: Tue, 04 May 1999 11:23:15 -0400
From: "Mike Phillips" <>
Subject: Running schedule() in set_multicast_list
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/4/139

Help,
I'm flushing out the finer details of the new ibm pci token ring driver and its now time to implement promiscuous mode. So, set_multicast_list is called and I do what is necessary for the hardware.
Now, I should really wait for the card to interrupt me and tell me that everything is ok with my command, but calling any type of scheduling panics the kernel (i.e. interruptible_sleep_on_timeout, schedule etc.)
The questions is, have I screwed up (highly likely) or is the kernel in the middle of something clever that doesn't like to be scheduled.  If so, I'll have to poll the registers to see when they are set, which I really don't want to do. 
Mike Phillips
BTW If you want to play with the driver it is available at www.linuxtr.net, although the version may be out of date (The server died and I can't get back in yet to update the pages.) 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/