Date: Tue, 31 Aug 2004 20:37:00 +1000
From: Tim Fairchild <>
Subject: Re: K3b and 2.6.9?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/31/92

On Tuesday 31 Aug 2004 12:29, Linus Torvalds wrote:
> Ehh.. This seems to imply that K3b opens the device for _reading_ when it
> wants to burn a CD-ROM. It also implies that K3b only uses the commands
> that are already marked as being "safe for writing", so the kernel command
> list is apparently fine.
On starting k3b seems to use 'safe for reading' commands and 'safe for 
writing' command 0x55 (mode_select?) to test the drive function. file->f_mode 
is returning with 0x0d during 'safe for writing' command.
growisofs also is returning file->f_mode as 0x0d with any 'safe for writing' 
command if I disable the line and allow k3b to run and burn dvd and just 
printk the cmd and file->f_mode values ... 
I believe FMODE_WRITE is 0x02  tho don't know where that is defined... If this 
bit not set does it mean the device is opened for reading? during a burn? 
Sorry, I'm very new to this... but do notice that cdrecord returnes 0x0f 
which does have the bit set correctly...
tim
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/