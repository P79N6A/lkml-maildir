Date: Tue, 12 Jan 1999 21:29:51 -0000
From: "Richard Toy" <>
Subject: RE: problems with fdisk & lilo under 2.2.0-preX
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/12/279

Goedenavond Andries
	thanks for the response.  Here is messages for the new kernel during boot:
What do you make of the last line ?
Regards
Richard Toy
Jan 12 21:20:04 moon syslogd 1.3-3: restart.
Jan 12 21:20:04 moon kernel: klogd 1.3-3, log source = /proc/kmsg started.
Jan 12 21:20:04 moon kernel: Cannot find map file.
Jan 12 21:20:04 moon kernel: Error seeking in /dev/kmem
Jan 12 21:20:04 moon kernel: Error adding kernel module table entry.
Jan 12 21:20:04 moon kernel: Linux version 2.2.0-pre6 (root@moon) (gcc
version 2.7.2.3) #1 SMP Sat Jan 9 17:45:22 GMT 1999
Jan 12 21:20:04 moon kernel: Intel MultiProcessor Specification v1.1
Jan 12 21:20:04 moon kernel:     Virtual Wire compatibility mode.
Jan 12 21:20:04 moon kernel: OEM ID: INTEL    Product ID: 430HX        APIC
at: 0xFEE00000
Jan 12 21:20:04 moon kernel: Processor #0 Pentium(tm) APIC version 16
Jan 12 21:20:04 moon kernel: Processor #1 Pentium(tm) APIC version 16
Jan 12 21:20:04 moon kernel: I/O APIC #2 Version 17 at 0xFEC00000.
Jan 12 21:20:04 moon kernel: Processors: 2
Jan 12 21:20:04 moon kernel: mapped APIC to ffffe000 (fee00000)
Jan 12 21:20:04 moon kernel: mapped IOAPIC to ffffd000 (fec00000)
Jan 12 21:20:04 moon kernel: Detected 199438239 Hz processor.
Jan 12 21:20:04 moon kernel: Console: colour VGA+ 132x60
Jan 12 21:20:04 moon kernel: Calibrating delay loop... 398.13 BogoMIPS
Jan 12 21:20:04 moon kernel: Memory: 63300k/65536k available (792k kernel
code, 420k reserved, 988k data, 36k init)
Jan 12 21:20:04 moon kernel: Checking 386/387 coupling... OK, FPU using
exception 16 error reporting.
Jan 12 21:20:04 moon kernel: Checking 'hlt' instruction... OK.
Jan 12 21:20:04 moon kernel: Intel Pentium with F0 0F bug - workaround
enabled.
Jan 12 21:20:04 moon kernel: POSIX conformance testing by UNIFIX
Jan 12 21:20:04 moon kernel: per-CPU timeslice cutoff: 1.56 usecs.
Jan 12 21:20:04 moon kernel: CPU0: Intel Pentium MMX stepping 03
Jan 12 21:20:04 moon kernel: calibrating APIC timer ...
Jan 12 21:20:04 moon kernel: ..... CPU clock speed is 199.4382 MHz.
Jan 12 21:20:04 moon kernel: ..... APIC bus clock speed is 66.4792 MHz.
Jan 12 21:20:04 moon kernel: Booting processor 1 eip 2000
Jan 12 21:20:04 moon kernel: Calibrating delay loop... 398.13 BogoMIPS
Jan 12 21:20:04 moon kernel: OK.
Jan 12 21:20:04 moon kernel: CPU1: Intel Pentium MMX stepping 03
Jan 12 21:20:04 moon kernel: Total of 2 processors activated (796.26
BogoMIPS).
Jan 12 21:20:04 moon kernel: enabling symmetric IO mode... ...done.
Jan 12 21:20:04 moon kernel: ENABLING IO-APIC IRQs
Jan 12 21:20:04 moon kernel: init IO_APIC IRQs
Jan 12 21:20:04 moon kernel:  IO-APIC pin 0 not connected.
Jan 12 21:20:04 moon kernel: number of MP IRQ sources: 16.
Jan 12 21:20:04 moon kernel: number of IO-APIC registers: 16.
Jan 12 21:20:04 moon kernel: testing the IO APIC.......................
Jan 12 21:20:04 moon kernel: .... register #00: 02000000
Jan 12 21:20:04 moon kernel: .......    : physical APIC id: 02
Jan 12 21:20:04 moon kernel: .... register #01: 000F0011
Jan 12 21:20:04 moon kernel: .......     : max redirection entries: 000F
Jan 12 21:20:04 moon kernel: .......       [IO-APIC cannot route PCI PIRQ
0-3]
Jan 12 21:20:04 moon kernel: .......     : IO APIC version: 0011
Jan 12 21:20:04 moon kernel: .... register #02: 00000000
Jan 12 21:20:04 moon kernel: .......     : arbitration: 00
Jan 12 21:20:04 moon kernel: .... IRQ redirection table:
Jan 12 21:20:04 moon kernel:  NR Log Phy Mask Trig IRR Pol Stat Dest Deli
Vect:
Jan 12 21:20:04 moon kernel:  00 000 00  1    0    0   0   0    0    0    00
Jan 12 21:20:04 moon kernel:  01 000 00  0    0    0   0   0    1    1    59
Jan 12 21:20:04 moon kernel:  02 0FF 0F  0    0    0   0   0    1    1    51
Jan 12 21:20:04 moon kernel:  03 000 00  0    0    0   0   0    1    1    61
Jan 12 21:20:04 moon kernel:  04 000 00  0    0    0   0   0    1    1    69
Jan 12 21:20:04 moon kernel:  05 000 00  0    0    0   0   0    1    1    71
Jan 12 21:20:04 moon kernel:  06 000 00  0    0    0   0   0    1    1    79
Jan 12 21:20:04 moon kernel:  07 000 00  0    0    0   0   0    1    1    81
Jan 12 21:20:04 moon kernel:  08 000 00  0    0    0   0   0    1    1    89
Jan 12 21:20:04 moon kernel:  09 000 00  0    0    0   0   0    1    1    91
Jan 12 21:20:04 moon kernel:  0a 000 00  0    0    0   0   0    1    1    99
Jan 12 21:20:04 moon kernel:  0b 000 00  0    0    0   0   0    1    1    A1
Jan 12 21:20:04 moon kernel:  0c 000 00  0    0    0   0   0    1    1    A9
Jan 12 21:20:04 moon kernel:  0d 000 00  1    0    0   0   0    0    0    00
Jan 12 21:20:04 moon kernel:  0e 000 00  0    0    0   0   0    1    1    B1
Jan 12 21:20:04 moon kernel:  0f 000 00  0    0    0   0   0    1    1    B9
Jan 12 21:20:04 moon kernel: .................................... done.
Jan 12 21:20:04 moon kernel: PCI: PCI BIOS revision 2.10 entry at 0xfdba1
Jan 12 21:20:04 moon kernel: PCI: Using configuration type 1
Jan 12 21:20:06 moon named[308]: starting.  named 4.9.6-REL Tue May  5
19:03:42 EDT 1998 ^Iroot@porky.redhat.com:/usr/src/bs/BUILD/bind-4.9.6/named
Jan 12 21:20:06 moon named[308]: cache zone "" loaded (serial 0)
Jan 12 21:20:06 moon named[308]: primary zone "0.0.127.in-addr.arpa" loaded
(serial 1997022700)
Jan 12 21:20:04 moon kernel: PCI: Probing PCI hardware
Jan 12 21:20:04 moon kernel: Linux NET4.0 for Linux 2.2
Jan 12 21:20:04 moon kernel: Based upon Swansea University Computer Society
NET3.039
Jan 12 21:20:04 moon kernel: NET4: Unix domain sockets 1.0 for Linux NET4.0.
Jan 12 21:20:04 moon kernel: NET4: Linux TCP/IP 1.0 for NET4.0
Jan 12 21:20:04 moon kernel: IP Protocols: ICMP, UDP, TCP
Jan 12 21:20:04 moon kernel: Starting kswapd v 1.5
Jan 12 21:20:04 moon kernel: Serial driver version 4.27 with no serial
options enabled
Jan 12 21:20:04 moon kernel: ttyS00 at 0x03f8 (irq = 4) is a 16550A
Jan 12 21:20:04 moon kernel: ttyS01 at 0x02f8 (irq = 3) is a 16550A
Jan 12 21:20:04 moon kernel: Real Time Clock Driver v1.09
Jan 12 21:20:04 moon kernel: (scsi0) <Adaptec AIC-7880 Ultra SCSI host
adapter> found at PCI 8/0
Jan 12 21:20:04 moon kernel: (scsi0) Wide Channel, SCSI ID=7, 16/255 SCBs
Jan 12 21:20:04 moon kernel: (scsi0) Downloading sequencer code... 419
instructions downloaded
Jan 12 21:20:06 moon named[309]: Ready to answer queries.
Jan 12 21:20:04 moon kernel: scsi0 : Adaptec AHA274x/284x/294x
(EISA/VLB/PCI-Fast SCSI) 5.1.9/3.2.4
Jan 12 21:20:04 moon kernel:        <Adaptec AIC-7880 Ultra SCSI host
adapter>
Jan 12 21:20:04 moon kernel: scsi : 1 host.
Jan 12 21:20:04 moon kernel:   Vendor: SEAGATE   Model: ST34572W
Rev: 0876
Jan 12 21:20:04 moon kernel:   Type:   Direct-Access
ANSI SCSI revision: 02
Jan 12 21:20:04 moon kernel: Detected scsi disk sda at scsi0, channel 0, id
0, lun 0
Jan 12 21:20:04 moon kernel: (scsi0:0:0:0) Synchronous at 40.0 Mbyte/sec,
offset 8.
Jan 12 21:20:04 moon kernel:   Vendor: SEAGATE   Model: ST32430N
Rev: 0510
Jan 12 21:20:04 moon kernel:   Type:   Direct-Access
ANSI SCSI revision: 02
Jan 12 21:20:04 moon kernel: Detected scsi disk sdb at scsi0, channel 0, id
1, lun 0
Jan 12 21:20:04 moon kernel: (scsi0:0:1:0) Synchronous at 10.0 Mbyte/sec,
offset 15.
Jan 12 21:20:04 moon kernel:   Vendor: TOSHIBA   Model: CD-ROM XM-3401TA
Rev: 0283
Jan 12 21:20:04 moon kernel:   Type:   CD-ROM
ANSI SCSI revision: 02
Jan 12 21:20:04 moon kernel: Detected scsi CD-ROM sr0 at scsi0, channel 0,
id 3, lun 0
Jan 12 21:20:04 moon kernel: (scsi0:0:3:0) Synchronous at 4.0 Mbyte/sec,
offset 15.
Jan 12 21:20:04 moon kernel:   Vendor: EXABYTE   Model: EXB-8200
Rev: 4.24
Jan 12 21:20:04 moon kernel:   Type:   Sequential-Access
ANSI SCSI revision: 01
Jan 12 21:20:04 moon kernel: Detected scsi tape st0 at scsi0, channel 0, id
6, lun 0
Jan 12 21:20:04 moon kernel: scsi : detected 1 SCSI tape 1 SCSI cdrom 2 SCSI
disks total.
Jan 12 21:20:04 moon kernel: Uniform CDROM driver Revision: 2.51
Jan 12 21:20:04 moon kernel: SCSI device sda: hdwr sector= 512 bytes.
Sectors= 8388316 [4095 MB] [4.1 GB]
Jan 12 21:20:04 moon kernel: SCSI device sdb: hdwr sector= 512 bytes.
Sectors= 4197405 [2049 MB] [2.0 GB]
Jan 12 21:20:04 moon kernel: Partition check:
Jan 12 21:20:04 moon kernel:  sda: sda1 sda2 < sda5 sda6 sda7 > sda3
Jan 12 21:20:04 moon kernel:  sdb: sdb1 sdb3 < sdb5 > sdb4
Jan 12 21:20:04 moon kernel: VFS: Mounted root (ext2 filesystem) readonly.
Jan 12 21:20:06 moon dhcpd: Internet Software Consortium DHCPD $Name:
V2-BETA-2 $
Jan 12 21:20:06 moon dhcpd: Copyright 1995, 1996 The Internet Software
Consortium.
Jan 12 21:20:06 moon dhcpd: All rights reserved.
Jan 12 21:20:06 moon dhcpd: Can't open /etc/dhcpd.conf: No such file or
directory
Jan 12 21:20:06 moon dhcpd: exiting.
Jan 12 21:20:04 moon kernel: Freeing unused kernel memory: 36k freed
Jan 12 21:20:04 moon kernel: Adding Swap: 104384k swap-space (priority -1)
Jan 12 21:20:04 moon kernel: ne.c:v1.10 9/23/94 Donald Becker
(becker@cesdis.gsfc.nasa.gov)
Jan 12 21:20:04 moon kernel: NE*000 ethercard probe at 0x220: 00 c0 26 38 10
c0
Jan 12 21:20:04 moon kernel: eth0: NE2000 found at 0x220, using IRQ 5.
Jan 12 21:20:07 moon kernel: tty_io.c: process 353 (gpm) used obsolete
/dev/cua0 - update software to use /dev/ttyS0
Jan 12 21:25:25 moon PAM_pwdb[398]: (login) session opened for user root by
(uid=0)
Jan 12 21:25:25 moon login[398]: ROOT LOGIN ON tty1
Jan 12 21:25:30 moon kernel: (scsi0:0:0:0) Device is refusing tagged
commands, using untagged I/O.
> -----Original Message-----
> From: Guest section DW [mailto:dwguest@win.tue.nl]
> Sent: 12 January 1999 20:58
> To: linux-kernel@vger.rutgers.edu; richard@thetoys.globalnet.co.uk
> Subject: Re: problems with fdisk & lilo under 2.2.0-preX
>
>
>     From: "Richard Toy" <richard@thetoys.globalnet.co.uk>
>
>     fdisk reports incorrect disk geometry.
>     lilo report Invalid partition table with 2.2.0-preX kernel.
>
>     If I run fdisk and print the partition table with the old
> kernel (2.0.34)
>     everything is as expected.  However, with the pre6 kernel,
> fdisk reports all
>     kinds of errors.
>
>     ...
>     p3    Solaris partition (this contains the solaris slices but they
>                     are not visible outside solaris)
>
>     fdisk sees p3 as type 92.
>
> System Commander will change 82 into 92. Solaris uses 82,
> same as Linux swap.
>
> About the geometry problems: in the case of SCSI disks it is the
> SCSI driver that is responsible for inventing a geometry.
> If something changed, this means that the SCSI driver changed,
> but if I didnt overlook it, you did not mention what SCSI controller
> you use. (In such cases the boot messages about SCSI controller and
> disks are the most useful bits of information.)
>
> Andries
>
>
>
> # uname -a
> Linux alpha.aeb.nl 2.0.27 #1 Sun Dec 22 00:12:44 EST 1996 alpha
> # uptime
>   9:54pm  up 700 days, 10:43,  3 users,  load average: 1.22, 1.05, 0.96
>
>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/