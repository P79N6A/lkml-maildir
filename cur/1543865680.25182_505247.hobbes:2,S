Date: Mon, 5 Feb 2007 16:46:04 +0000
From: Russell King <>
Subject: Re: [patch] MTD: fix DOC2000/2001/2001PLUS build error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/5/200

On Mon, Feb 05, 2007 at 05:26:35PM +0100, Ingo Molnar wrote:
> we should not have 'select' at all - unless it's some non-code option 
> that is just a convenience switch for several other config options. A 
> true dependency is already expressed in one direction via the 'depend 
> on' directive - no need to express it in the other direction as well, 
> that only leads to redundancy and to bugs.
I disagree.  There's a valid use for select.
config PCI
	bool "PCI support" if ARCH_INTEGRATOR_AP || ARCH_VERSATILE_PB || ARCH_IXP4XX
	default y if ARCH_IOP32X || ARCH_IOP33X || ARCH_IOP13XX || \
		ARCH_IXP2000 || ARCH_IXP23XX || ARCH_SHARK || \
		ARCH_CATS || ARCH_PERSONAL_SERVER || ARCH_EBSA285_HOST || \
		ARCH_NETWINDER || MACH_NSLU2 || MACH_AVILA || \
		ARCH_ADI_COYOTE || MACH_NAS100D || MACH_GTWX5715
	depends on ARCH_IOP32X || ARCH_IOP33X || ARCH_IOP13XX || \
		ARCH_IXP2000 || ARCH_IXP23XX || ARCH_SHARK || \
		ARCH_CATS || ARCH_PERSONAL_SERVER || ARCH_EBSA285_HOST || \
		ARCH_NETWINDER || MACH_NSLU2 || MACH_AVILA || \
		ARCH_ADI_COYOTE || MACH_NAS100D || MACH_GTWX5715 || \
		ARCH_INTEGRATOR_AP || ARCH_VERSATILE_PB || ARCH_IXP4XX
where (ARCH_INTEGRATOR_AP || ARCH_VERSATILE_PB || ARCH_IXP4XX) can not be
are mutually exclusive with the remaining group
vs:
config PCI
	bool "PCI support" if ARCH_INTEGRATOR_AP || ARCH_VERSATILE_PB || ARCH_IXP4XX
and the rest (ie, except integrator, versatile and ixp4xx) has:
config ARCH_SHARK
        bool "Shark"
        select PCI
IOW, the "PCI support" question isn't offered for platforms which require
PCI to be present, but is offered on platforms where it's optional.
To you, which looks more maintainable?
-- 
Russell King
 Linux kernel    2.6 ARM Linux   - 
http://www.arm.linux.org.uk/
 maintainer of:
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/