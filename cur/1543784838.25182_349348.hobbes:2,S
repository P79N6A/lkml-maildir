Date: Mon, 12 Sep 2005 10:36:31 +1000
From: Neil Brown <>
Subject: Re: read-from-all-disks support for RAID1?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/11/185

On Monday September 12, jesper.juhl@gmail.com wrote:
> > No, I don't think so.  The overhead would be substantial, so people
> > would be very unlikely to use it.
> 
> There are situations where data integrity is far more important than speed.
> On AIX I usually use the Mirror Write Consistency and Write Verify
> options on my mirrored volumes that store data where integrity is more
> important than speed.
> I guess something like those options would also satisfy Lennert's
> needs, but I don't know if it's currently possible with the Linux LVM
> or elsewhere.
> 
> You can read a bit about the MWC and WV options in AIX at :
> 
http://publib.boulder.ibm.com/infocenter/pseries/index.jsp?topic=/com.ibm.aix.doc/aixbman/prftungd/diskperf2.htm
Thanks for the link.
If I understand the (fairly brief) descriptions correctly:
 Passive mirror-write-constancy has always been part of md/raid1
 Active mirror-write-constancy is equivalent to the new
   bitmap-write-intent support.
 WV  means read-after-write which we don't do, but might be useful.
 However, I'm not 100% certain that WV would really be useful.  Modern
 drives will almost certainly return a read-after-write request out of
 the drive's cache rather than going to the media.  We would need some
 way to tell the drive to ignore the cache for this read.  I suspect
 this is possible, but might not be trivial...
NeilBrown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/