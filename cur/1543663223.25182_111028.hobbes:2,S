Date: Wed, 19 Feb 2003 15:00:35 -0500
From: Jeff Dike <>
Subject: [PATCH] UML fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/19/142

Please pull
	
http://jdike.stearns.org:5000/fixes-2.5
This fixes some UML bugs, including
	some signal blocking bugs
	a 'tracing myself' bug
	a uaccess fencepost bug
Also, there were a number of code cleanups, particularly in the ubd driver.
That driver now locks the host files that it uses to prevent multiple UMLs
from booting on the same filesystem.
stdout is now flushed before entering the kernel to ensure that early messages
appear before printk output.
				Jeff
 arch/um/drivers/line.c                |    6 
 arch/um/drivers/ubd_kern.c            |  221 +++++++++++++++++++---------------
 arch/um/drivers/ubd_user.c            |   44 ++++--
 arch/um/include/os.h                  |    2 
 arch/um/kernel/mem.c                  |    2 
 arch/um/kernel/skas/include/uaccess.h |    2 
 arch/um/kernel/tt/process_kern.c      |   18 +-
 arch/um/kernel/um_arch.c              |    1 
 arch/um/os-Linux/file.c               |   31 ++++
 include/asm-um/common.lds.S           |   12 +
 10 files changed, 218 insertions(+), 121 deletions(-)
ChangeSet@1.1065, 2003-02-19 11:05:33-05:00, jdike@uml.karaya.com
  Merge uml.karaya.com:/home/jdike/linux/2.5/linus-2.5
  into uml.karaya.com:/home/jdike/linux/2.5/fixes-2.5
ChangeSet@1.988.6.2, 2003-02-19 09:55:14-05:00, jdike@uml.karaya.com
  Fixed signal blocking and cleaned up the code a bit.
ChangeSet@1.925.56.32, 2003-02-07 13:48:13-05:00, jdike@uml.karaya.com
  Fixed a few compilation bugs in the ubd changes.
ChangeSet@1.925.56.31, 2003-02-07 12:52:23-05:00, jdike@uml.karaya.com
  Merged in changes from 2.4 up to 2.4.19-50.
  The ubd driver locks its files.
  Merged a bunch of ubd fixes from James McMechan.
  stdout is now flushed before entering the kernel.
  Fixed a uaccess fencepost bug.
  Fixed a 'tracing myself' bug.
  Various other cleanups and error message fixes.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/