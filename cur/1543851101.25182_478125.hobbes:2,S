Date: Tue, 31 Oct 2006 11:36:52 -0800
From: David Brownell <>
Subject: Re: [linux-usb-devel] [PATCH 2/2] usbnet: use MII hooks only if CONFIG_MII is enabled
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/31/288

> > 		...
> > 		depends on MII if MII != n
> > 
> > except that Kconfig doesn't comprehend conditionals like that.
> 
> You can express this in Kconfig:
> 	depends MII || MII=n
Except that:
Warning! Found recursive dependency: USB_USBNET USB_NET_AX8817X MII USB_USBNET
I think this is another case where Kconfig gets in the way and forces
introduction of a pseudovariable.  I'll give that a try.
> But my suggestion was:
> #if defined(CONFIG_MII) || (defined(CONFIG_MII_MODULE) && defined(MODULE))
>
> Or simply select MII ...
Nope; those both prevent completely legit configurations.
MII is not required, except for those two adapter options.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/