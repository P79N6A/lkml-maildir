Date: Fri, 7 Jun 2002 10:49:52 +0800
From:  lei_hu@ali ...
Subject: Re: [PATCH] update for ALi Audio Driver (0.14.10)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/6/193

Hi Jeff
Please see my new ali5451 driver (trident.c ) about read /write mixer regiser.
The ali_acquire_codec_access function do not acquire  hardware semaphore. It is
audio driver request to write ac97 mixer register.
Please see ali5451 spec 's ACWR . I think that use Linux kernel semaphore (
spin_lock )is  repeat because I do  read / write  Mixer regiser really till
after 48k Hz then codec clocking is 48k hz .In  the  ali_waitfor_stimertick
function ,You can see it.
Ali5451 (controller ) to codec connection by AC-link,a  AC-link output frame
begin with a low to high transition of SYNC. SYNC is synchronous to rising edge
of BIT_CK. NEXT SYNC and SYNC is 48k Hz . So I think that transmit data is
right.
I attach file ( STIME ) :(See attached file: Stimer.doc)[unhandled content-type:application/octet-stream]