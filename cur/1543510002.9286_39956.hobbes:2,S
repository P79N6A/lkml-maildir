Date: Mon, 20 Sep 1999 21:21:51 +0200
From: Jamie Lokier <>
Subject: Re: Turning lucent winmodem into soundcard (RT-Linux -when?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/20/148

andre3@sercomtel.com.br wrote:
> What kind of FIFO they have? Normal modems have FIFO for a few bytes, but
> these bytes will not be decoded yet, so it'll buffer the sampled wave? If
> so the FIFO must be really big :)
On the Lucent, for lower speeds the DSP does all the
modulation/demodulation work.  In this case the FIFO is just a few bytes
long, and takes two I/O bus cycles to read or write each byte.  (Ugh).
At higher speeds the DSP still does a lot, but the software does too.
The wave itself isn't transferred, but rather a different signal that's
modulated by the DSP code.  That signal runs at a lower sample rate than
the sampled wave.
Transfer still seems to be using two I/O bus cycles for each read and
write, and in units of 16 bytes.  We're not sure how large the batches
can be, but it is possible, depending on the DSP mode, to send several
batches of 16 bytes.
Our driver will have a software modem mode, where the entire wave is
transferred.  I'm not sure how much overhead is involved.  The windows
driver doesn't run the modem like this.  It does do answering machine
services this way, if you use a driver that supports voice; Toshiba's
Windows driver does not, but our Toshiba driver does.
> I do not know enough to participate on this issue, but i have a simple
> question: doesn't these modems have ms-windows drivers? Does this drivers
> suffer from all this problems? Because even being a crap, these modems
> function well on windows most of time.
There are many reports of winmodems generally working quite badly in
Windows.  Occasional line drops, that sort of thing.  I don't know if it
applies to the models we're working on at the moment.
> It can't be so different and need so more attention on linux.
It probably had a great deal of attention in Windows.
Actually we're expecting Linux to work very well with little effort,
thanks to the "multimedia" kernel work that's already been done.
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/