Date: Sun, 24 Sep 2000 08:36:25 -0500 (CDT)
From: Jeff Garzik <>
Subject: Re: No sound (es1371) after test7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/24/93

On 23 Sep 2000, Linus Torvalds wrote:
> Linus Torvalds <torvalds@transmeta.com> wrote:
> >
> >Go into "drivers/sound/ac97_codec.c" to around line 570 or so, and
> >comment out the line that says
> >
> >	current->state = TASK_UNINTERRUPTIBLE;
> >
> >and see if that fixes the problem. 
> 
> Nope. But I found another "bugfix" that seems to completely miss the
> mark.
> 
> For some unknown reason codec->id is set in ac97_probe_codec(), which is
> WRONG. Just remove the line that says
> 
> 	codec->id = ac97_codec_ids[i].id;
> 
> (line 591 or something around that), and be happy. I think it will work
> after that.
> 
> I will now hunt down the person who sent me that patch, and do nasty
> things to him. After I whip myself for accepting it in the first place.
hmmmm  The patch was submitted by me, but it came straight from
2.2.x...  after being whipped, I shall look into both versions of
ac97_codec some more...
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/