Date: Wed, 14 Jan 2009 21:11:52 +0100
From: Ingo Molnar <>
Subject: Re: [PATCH] x86: arch_probe_nr_irqs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/14/444

* Mike Travis <travis@sgi.com> wrote:
>     mkdir linux-2.6-cpus4096-for-ingo
>     cd linux-2.6-cpus4096-for-ingo
>     git-init-db
>     git-remote add linus git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git
>     git-remote add tip git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip.git
>     git-remote add my-cpus4096 git://git.kernel.org/pub/scm/linux/kernel/git/travis/linux-2.6-cpus4096-for-ingo.git
>     git-remote add push-cpus4096 ssh://master.kernel.org/pub/scm/linux/kernel/git/travis/linux-2.6-cpus4096-for-ingo.git
>     git-config --add remote.push-cpus4096.skipDefaultUpdate true
>     git-remote update
hm, why do you do all this? You should just create a -git based repo on 
kernel.org:
  cd /pub/scm/linux/kernel/git/travis/
  rm -rf linux-2.6-cpus4096-for-ingo
  git-clone --bare --shared ../torvalds/linux-2.6.git linux-2.6-cpus4096-for-ingo
that's all - you dont ever have to touch the master.kernel.org bits on 
that box anymore. Then you can clone it (via ssh) to your local box:
  git clone ssh://master.kernel.org/pub/scm/linux/kernel/git/travis/linux-2.6-cpus4096-for-ingo
that's it - you are all set!
Now you can go into your repo, and do a few convenience things like:
     git-remote add linus git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git
     git-remote add tip git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip.git
     git remote update
But these dont ever go to your master.kernel.org tree. Your local 'master' 
branch is what you will push out most of the time.
To prepare a tree for me, if you want to base it on the latest 
tip/cpus4096, you do this:
     git checkout master
     git reset --hard tip/cpus4096
that's all. You can then (force-)push this out to your kernel.org repo 
via:
     git push -f origin master
and you can manipulate your master branch and push it out to your 
master.kernel.org repo whenever you want to.
If you want a separate 'release' branch, you can do it too:
   git checkout master
   [ prepare your master branch with the bits. ]
   git checkout -b for-ingo
   git push origin for-ingo
   [ git checkout master ]
That's it. If the for-ingo branch already exists and you know that it 
contains no bits that i might pull in parallel with you updating it, you 
can force-push it as well:
   git checkout for-ingo
   git reset --hard master          # set it to your release bits
   git push -f origin for-ingo
that's it really.
	Ingo