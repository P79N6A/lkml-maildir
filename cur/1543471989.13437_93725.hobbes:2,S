Date: Wed, 16 Dec 1998 10:56:06 +0100
From: Peter Miller <>
Subject: Re: autofs vs. Sun automount -- new fs proposal
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/15/184

Richard Gooch writes...
> You are describing lofs, the loopback filesystem. There are
> apparentely 2 ways to implement this:
> 
> 1)  the sledgehammer approach, which doesn't affect the VFS
> 
> 2)  the clean approach which requires VFS changes.
> 
> (1) could possibly go in before 2.2 is released, provided that someone
> has the time to code it up quickly and test it and have tested widely
> before Linus releases 2.2. Volunteers step forwards now.
> 
> (2) this is definately a 2.3 job. By the time 2.3 is released, I
> should (hopefully) have more time available and I could then implement
> this. Alternatively, hpa (author of autofs) or someone else may beat
> me to it. Hopefully anyone who starts working on it will first send an
> annoucement to linux-kernel so we don't end up with multiple efforts.
I have a mostly-working 2.1 lofs.
It is a stepping stone to a bunch of other stuff I want to do.
You have to indirect the whole tree, no just the top-level directory,
otherwise 'pwd' goes bozo - e.g. loopback a read-only version of
/usr into a chrooted environment.
And, yes, I agree that VFS changes would help (a *lot*).  I've
written a bunch of vfs_* functions, to actually provide a consistent
(well, more consistent) and usable VFS API, capturing many of the
things that must happen before and after each of the VFS "methods"
are invoked.  Is this what you had in mind, Richard?
Regards
Peter Miller	E-Mail:	millerp@canb.auug.org.au
/\/\*		WWW:	
http://www.canb.auug.org.au/~millerp/
Disclaimer: The opinions expressed here are personal and do not necessarily
	reflect the opinion of my employer or the opinions of my colleagues.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/