Date: Wed, 10 Dec 2008 22:01:25 +0300
From: Vladislav Bolkhovitin <>
Subject: [PATCH][RFC 21/23]: iSCSI target driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/10/293

This patch contains iSCSI-SCST target driver. This driver is a heavily 
modified forked with all respects IET 
(
http://iscsitarget.sourceforge.net
). Modifications were aimed to make a 
clearer, more reviewable and maintainable code as well as to fix many 
problems and make many improvements. See 
http://scst.sourceforge.net/target_iscsi.html
 for more details.
It has split user/kernel space architecture, where all management, 
sessions creation, parameters negotiation, etc. made in user space and 
data are transferred in the kernel space. Such architecture for iSCSI 
processing was many times acknowledged as the right one. Particularly, 
in-kernel iSCSI initiator (open-iscsi) has such architecture.
Signed-off-by: Vladislav Bolkhovitin <vst@vlnb.net>
---
  drivers/scst/iscsi-scst/Kconfig     |   25
  drivers/scst/iscsi-scst/Makefile    |    6
  drivers/scst/iscsi-scst/config.c    |  597 +++++++
  drivers/scst/iscsi-scst/conn.c      |  488 +++++
  drivers/scst/iscsi-scst/digest.c    |  221 ++
  drivers/scst/iscsi-scst/digest.h    |   31
  drivers/scst/iscsi-scst/event.c     |  116 +
  drivers/scst/iscsi-scst/iscsi.c     | 3066 ++++++++++++++++++++++++++++++++++++
  drivers/scst/iscsi-scst/iscsi.h     |  577 ++++++
  drivers/scst/iscsi-scst/iscsi_dbg.h |   73
  drivers/scst/iscsi-scst/iscsi_hdr.h |  517 ++++++
  drivers/scst/iscsi-scst/nthread.c   | 1522 +++++++++++++++++
  drivers/scst/iscsi-scst/param.c     |  263 +++
  drivers/scst/iscsi-scst/session.c   |  210 ++
  drivers/scst/iscsi-scst/target.c    |  306 +++
  include/scst/iscsi_scst.h           |  156 +
  include/scst/iscsi_scst_ver.h       |   16
  17 files changed, 8190 insertions(+)
The patch is too big to be submitted inline. You can find it in 
http://scst.sourceforge.net/patches/iscsi-scst.diff