Date: Fri, 14 Jan 2000 19:41:50 -0500 (EST)
From: "Joshua M. Thompson" <>
Subject: [PATCH] A small fix for drivers/sound/cmpci.c in 2.3.39
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/15/195

Looks like a simple oversight (an unitialized spinlock) that is now caught
by the new spinlock debug code. The following one-liner fixes it.
--- cmpci.c.orig	Fri Jan 14 19:33:46 2000
+++ cmpci.c	Fri Jan 14 19:33:45 2000
@@ -2376,6 +2376,7 @@
 		s->iobase = pcidev->resource[0].start;
 		s->iosynth = 0x388;
 		s->iomidi = 0x330;
+		spin_lock_init(&s->lock);
 		if (s->iobase == 0)
 			continue;
 		s->irq = pcidev->irq;
-- 
Network Administrator        | "...and next door is a virtual reality
mich.com, Inc.               |  restaurant, CGI Friday's..."
Phone: 248-771-1261          |      - The Upright Citizens Brigade
  Fax: 248-771-1269          |  **** My opinions are mine, period. ****
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/