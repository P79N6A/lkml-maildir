Date: Fri, 28 Dec 2007 09:27:39 -0500
From: Vivek Goyal <>
Subject: Re: kexec refuses to boot latest -mm
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/28/70

On Fri, Dec 28, 2007 at 06:15:32PM +0530, Dhaval Giani wrote:
> Hi Vivek,
> 
> I can't seem to get the latest -mm (2.6.24-rc6-mm1) to boot with
> kexec. It just gets stuck at "Starting new kernel".
> 
> It does boot normally when booted as the first kernel.
> 
> Any hints debugging? (x86 architecture)
I generally try few things.
- Specify earlyprintk= parameter for second kernel and see if control
  is reaching to second kernel.
- Otherwise specify --console-serial parameter on "kexec -l" commandline
  and it should display a message "I am in purgatory" on serial console.
  This will just mean that control has reached at least till purgatory.
- If that also does not work, then most likely first kernel itself got
  stuck somewhere and we need to put some printks in first kernel
  to find out what's wrong.
Thanks
Vivek