Date: Sun, 14 Dec 2008 12:05:09 -0500 (EST)
From: Steven Rostedt <>
Subject: Re: Better way to force a rebuild
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/14/95

On Sun, 14 Dec 2008, Sam Ravnborg wrote:
> On Wed, Dec 10, 2008 at 10:28:21PM +0100, Sam Ravnborg wrote:
> > 
> > I made the following quick hack.
> > I think it should do the trick.
> > 
> > 	Sam
> > 
> > diff --git a/scripts/Makefile.build b/scripts/Makefile.build
> > index 468fbc9..8b5bf43 100644
> > --- a/scripts/Makefile.build
> > +++ b/scripts/Makefile.build
> > @@ -215,7 +215,8 @@ define rule_cc_o_c
> >  	$(call echo-cmd,cc_o_c) $(cmd_cc_o_c);				  \
> >  	$(cmd_modversions)						  \
> >  	$(cmd_record_mcount)						  \
> > -	scripts/basic/fixdep $(depfile) $@ '$(call make-cmd,cc_o_c)' >    \
> > +	scripts/basic/fixdep $(depfile) $@                                \
> > +	'$(call make-cmd,cc_o_c) $(call make-cmd,record_mcount)' >        \
> >  	                                              $(dot-target).tmp;  \
> >  	rm -f $(depfile);						  \
> >  	mv -f $(dot-target).tmp $(dot-target).cmd
> 
> Hi Steven.
> 
> Did you try the above?
> If it works I will add it to kbuild-next.git
I started to but got distracted :-/   I'll retry it on Monday.
-- Steve