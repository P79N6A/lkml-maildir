Date: Sat, 25 Mar 2000 11:27:30 +0000 (GMT)
From: Russell King <>
Subject: Re: Keyboard rate question..
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/25/49

Mike A. Harris writes:
> On systems where one keyboard is shared between two or more
> computers, when you switch the mechanical switch from one machine
> to the next, the keyboard repeat rate gets reset to slowness.
> 
> I'd like the keyboard to maintain my repeat rate across this if
> possible.  I'd like it to be seamless - so no user needs to do
> anything.  Thus I figured the best way would be to have the
> keyboard handler detect the keyboard disappearing and reappearing
> and reprogram the repeat rate.  Another option would be to
> reprogram the repeat rate upon VC switch.
> 
> Any other ideas?  Sample code?  I'd really appreciate it,
> thanks..
I have some code which I'm planning to put into the kernel at some point
which does soft-autorepeat (it ignores any hardware repeat that the keyboard
may do in any mode other than RAW).
I cooked up this patch because:
1. Some keyboards on ARM hardware do not autorepeat
2. I got annoyed with the behaviour you describe above, except I was
   using 4 computers, and rebooting one of them resets the keyboards
   parameters.
I haven't submitted it to Linus yet because the delay and repeat rates
are currently #define-coded into the code, and therefore are not run-time
configurable (maybe someone would like to fix this?).
Which kernel version are you using?
   _____
  |_____| ------------------------------------------------- ---+---+-
  |   |         Russell King        rmk@arm.linux.org.uk      --- ---
  | | | |   
http://www.arm.linux.org.uk/~rmk/aboutme.html
    /  /  |
  | +-+-+                                                     --- -+-
  /   |               THE developer of ARM Linux              |+| /|\
 /  | | |                                                     ---  |
    +-+-+ -------------------------------------------------  /\\\  |
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/