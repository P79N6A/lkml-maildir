Date: Thu, 25 Oct 2007 09:59:04 -0400
From: "Zurk Tech" <>
Subject: Re: Quad core CPU detected but shows as single core in 2.6.23.1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/25/167

PPP BSD Compression module registered
CAPI Subsystem Rev 1.1.2.8
capi20: Rev 1.1.2.7: started up with major 68 (middleware+capifs)
capidrv: Rev 1.1.2.2: loaded
capifs: Rev 1.1.2.3
b1pci: revision 1.1.2.2
b1: revision 1.1.2.2
b1dma: revision 1.1.2.3
b1pci: revision 1.1.2.2
t1pci: revision 1.1.2.2
c4: revision 1.1.2.2
Eicon DIVA - DIDD table (
http://www.melware.net
)
divadidd: Rel:2.0  Rev:1.13.6.4  Build:102-51(local)
Eicon DIVA Server driver (
http://www.melware.net
)
divas: Rel:2.0  Rev:1.55.4.6  Build: 102-52(local)
divas: support for: BRI/PCI PRI/PCI adapters
divas: started with major 242
Eicon DIVA - User IDI (
http://www.melware.net
)
diva_idi: Rel:2.0  Rev:1.25.6.2  Build: local
diva_idi: started with major 241
Eicon DIVA - CAPI Interface driver (
http://www.melware.net
)
divacapi: Rel:2.0  Rev:1.24  Build: 102-28(local)
dss1_divert module successfully installed
HiSax: Linux Driver for passive ISDN cards
HiSax: Version 3.5 (kernel)
HiSax: Layer1 Revision 2.46.2.5
HiSax: Layer2 Revision 2.30.2.4
HiSax: TeiMgr Revision 2.20.2.3
HiSax: Layer3 Revision 2.22.2.3
HiSax: LinkLayer Revision 2.59.2.4
HiSax: Total 1 card defined
HiSax: Card 1 Protocol EDSS1 Id=HiSax (0)
HiSax: Traverse Tech. NETspider-U driver Rev. 2.14.2.3
NETspider-U: No PCI card found
HiSax: Card NETspider-U not installed !
hisax_st5481: ST5481 USB ISDN driver $Revision: 2.4.2.3 $
usbcore: registered new interface driver st5481_usb
HFC-S USB: driver module revision 2.3.2.20 date 2007/08/20 loaded, (debug=0)
usbcore: registered new interface driver hfc_usb
HFC-4S/8S: Layer 1 driver module for HFC-4S/8S isdn chips, Revision: 1.10
HFC-4S/8S: (C) 2003 Cornelius Consult, www.cornelius-consult.de
HFC-4S/8S: found 0 cards
hisax_isac: ISAC-S/ISAC-SX ISDN driver v0.1.0
hisax_fcpcipnp: Fritz!Card PCI/PCIv2/PnP ISDN driver v0.0.1
gigaset: Hansjoerg Lipp <hjlipp@web.de>, Tilman Schmidt
<tilman@imap.cc>, Stefan Eilers
gigaset: Driver for Gigaset 307x
usbcore: registered new interface driver usb_gigaset
usb_gigaset: Hansjoerg Lipp <hjlipp@web.de>, Stefan Eilers
usb_gigaset: USB Driver for Gigaset 307x using M105
usbcore: registered new interface driver bas_gigaset
bas_gigaset: Tilman Schmidt <tilman@imap.cc>, Hansjoerg Lipp
<hjlipp@web.de>, Stefan Eilers
bas_gigaset: USB Driver for Gigaset 307x
Audio Excel DSP 16 init driver Copyright (C) Riccardo Facchetti 1995-98
aedsp16: I/O, IRQ and DMA are mandatory
pss: mss_io, mss_dma, mss_irq and pss_io must be set.
ad1848/cs4248 codec driver Copyright (C) by Hannu Savolainen 1993-1996
ad1848: No ISAPnP cards found, trying standard ones...
MediaTrix audio driver Copyright (C) by Hannu Savolainen 1993-1996
I/O, IRQ, DMA and type are mandatory
Soundscape driver Copyright (C) by Hannu Savolainen 1993-1996
DMA, IRQ, and IO port must be specified.
Pro Audio Spectrum driver Copyright (C) by Hannu Savolainen 1993-1996
I/O, IRQ, DMA and type are mandatory
sb: Init: Starting Probe...
pnp: the driver 'OSS SndBlstr' has been registered
sb: Init: Done
pnp: the driver 'OSS SndBlstr' has been unregistered
Cyrix Kahlua VSA1 XpressAudio support (c) Copyright 2003 Red Hat Inc
uart6850: irq and io must be set.
YM3812 and OPL-3 driver Copyright (C) by Hannu Savolainen, Rob Hooft 1993-1996
MIDI Loopback device driver
Trident 4DWave/SiS 7018/ALi 5451,Tvia CyberPro 5050 PCI Audio, version
0.14.10j-2.6, 04:36:58 Oct 25 2007
Advanced Linux Sound Architecture Driver Version 1.0.14 (Fri Jul 20
09:12:58 2007 UTC).
can't register device seq
kobject_add failed for audio with -EEXIST, don't try to register
things with the same name in the same directory.
Call Trace:
 [<ffffffff80534078>] kobject_shadow_add+0x16e/0x1a2
 [<ffffffff806a866d>] device_add+0x99/0x5e9
 [<ffffffff80533e13>] kobject_get+0x12/0x17
 [<ffffffff806a91ad>] device_create+0xc0/0xef
 [<ffffffff80537ce4>] sprintf+0x51/0x59
 [<ffffffff8022f199>] __wake_up+0x38/0x4e
 [<ffffffff80230766>] default_wake_function+0x0/0xe
 [<ffffffff8027fe9b>] alternate_node_alloc+0x6b/0x86
 [<ffffffff80b57903>] sound_insert_unit+0x135/0x151
 [<ffffffff80b57b14>] register_sound_special_device+0x144/0x153
 [<ffffffff8027fe9b>] alternate_node_alloc+0x6b/0x86
 [<ffffffff80b79eba>] snd_register_oss_device+0x119/0x188
 [<ffffffff80b8cc43>] register_oss_dsp+0x45/0x69
 [<ffffffff80537ce4>] sprintf+0x51/0x59
 [<ffffffff80b8fad2>] snd_pcm_oss_register_minor+0x33/0x149
 [<ffffffff80b79865>] snd_device_new+0x26/0x83
 [<ffffffff80b7b882>] snd_timer_new+0x119/0x139
 [<ffffffff80b7b17e>] snd_timer_dev_register+0xdf/0xe3
 [<ffffffff80b798ea>] snd_device_register+0x28/0x5a
 [<ffffffff80b870a2>] snd_pcm_timer_init+0xc0/0xfd
 [<ffffffff80b7ec6c>] snd_pcm_dev_register+0x1ae/0x1e8
 [<ffffffff80b79946>] snd_device_register_all+0x2a/0x50
 [<ffffffff80b758a2>] snd_card_register+0x16/0x272
 [<ffffffff80ba3f70>] snd_dummy_probe+0x1f4/0x20d
 [<ffffffff806aa996>] __device_attach+0x0/0x5
 [<ffffffff806aa90d>] driver_probe_device+0xf6/0x17f
 [<ffffffff806aa996>] __device_attach+0x0/0x5
 [<ffffffff806a9be2>] bus_for_each_drv+0x40/0x72
 [<ffffffff806aaa21>] device_attach+0x63/0x7a
 [<ffffffff806a9b56>] bus_attach_device+0x2a/0x76
 [<ffffffff806a8952>] device_add+0x37e/0x5e9
 [<ffffffff806ac17d>] platform_device_add+0x111/0x147
 [<ffffffff806ac356>] platform_device_register_simple+0x43/0x60
 [<ffffffff814de789>] alsa_card_dummy_init+0x36/0x79
 [<ffffffff81497654>] kernel_init+0x171/0x2e1
 [<ffffffff8020cbf8>] child_rip+0xa/0x12
 [<ffffffff814974e3>] kernel_init+0x0/0x2e1
 [<ffffffff8020cbee>] child_rip+0x0/0x12
unable to register OSS rawmidi device 1:0
no UART detected at 0x1
Motu MidiTimePiece on parallel port irq: 7 ioport: 0x378
pnp: the driver 'mpu401' has been registered
pnp: the driver 'mpu401' has been unregistered
usbcore: registered new interface driver snd-usb-audio
usbcore: registered new interface driver snd-usb-usx2y
ALSA device list:
  #0: Dummy 1
  #1: Virtual MIDI Card 1
  #2: MTPAV on parallel port at 0x378
oprofile: using NMI interrupt.
NET: Registered protocol family 26
GACT probability on
Mirror/redirect action on
Simple TC action Loaded
netem: version 1.2
u32 classifier
    Performance counters on
    input device check on
    Actions configured
Netfilter messages via NETLINK v0.30.
IPv4 over IPv4 tunneling driver
GRE over IPv4 tunneling driver
ip_tables: (C) 2000-2006 Netfilter Core Team
arp_tables: (C) 2002 David S. Miller
IPVS: Registered protocols (TCP, UDP, AH, ESP)
IPVS: Connection hash table configured (size=4096, memory=64Kbytes)
IPVS: ipvs loaded.
IPVS: [rr] scheduler registered.
IPVS: [wrr] scheduler registered.
IPVS: [lc] scheduler registered.
IPVS: [wlc] scheduler registered.
IPVS: [lblc] scheduler registered.
IPVS: [lblcr] scheduler registered.
IPVS: [dh] scheduler registered.
IPVS: [sh] scheduler registered.
IPVS: [sed] scheduler registered.
IPVS: [nq] scheduler registered.
IPVS: ftp: loaded support on port[0] = 21
TCP bic registered
TCP cubic registered
TCP westwood registered
TCP highspeed registered
TCP hybla registered
TCP htcp registered
TCP vegas registered
TCP veno registered
TCP scalable registered
TCP lp registered
Initializing XFRM netlink socket
NET: Registered protocol family 1
NET: Registered protocol family 10
lo: Disabled Privacy Extensions
tunl0: Disabled Privacy Extensions
ip6_tables: (C) 2000-2006 Netfilter Core Team
IPv6 over IPv4 tunneling driver
sit0: Disabled Privacy Extensions
NET: Registered protocol family 17
NET: Registered protocol family 15
Bridge firewalling registered
Ebtables v2.0 registered
NET: Registered protocol family 4
NET: Registered protocol family 5
NET: Registered protocol family 9
X.25 for Linux. Version 0.2 for Linux 2.1.15
lec.c: Oct 25 2007 04:38:30 initialized
mpc.c: Oct 25 2007 04:38:27 initialized
NET4: DECnet for Linux: V.2.5.68s (C) 1995-2003 Linux DECnet Project Team
DECnet: Routing cache hash table of 1024 buckets, 16Kbytes
NET: Registered protocol family 12
NET: Registered protocol family 19
802.1Q VLAN Support v1.8 Ben Greear <greearb@candelatech.com>
All bugs added by David S. Miller <davem@redhat.com>
CCID: Registered CCID 3 (ccid3)
CCID: Registered CCID 2 (ccid2)
SCTP: Hash tables configured (established 65536 bind 65536)
ieee80211: 802.11 data/management/control stack, git-1.1.13
ieee80211: Copyright (C) 2004-2005 Intel Corporation <jketreno@linux.intel.com>
ieee80211_crypt: registered algorithm 'NULL'
ieee80211_crypt: registered algorithm 'WEP'
ieee80211_crypt: registered algorithm 'CCMP'
ieee80211_crypt: registered algorithm 'TKIP'
TIPC: Activated (version 1.6.2 compiled Oct 25 2007 04:41:37)
NET: Registered protocol family 30
TIPC: Started in single node mode
IO APIC resources could be not be allocated.
powernow-k8: Found 1 Quad-Core AMD Opteron(tm) Processor 2347
processors (1 cpu cores) (version 2.00.00)
powernow-k8:    0 : fid 0x3 did 0x0 (1900 MHz)
powernow-k8:    1 : fid 0x1 did 0x0 (1700 MHz)
powernow-k8:    2 : fid 0xc did 0x1 (1400 MHz)
powernow-k8:    3 : fid 0x8 did 0x1 (1200 MHz)
powernow-k8:    4 : fid 0x4 did 0x1 (1000 MHz)
drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
BIOS EDD facility v0.16 2004-Jun-25, 6 devices found
md: Autodetecting RAID arrays.
md: autorun ...
md: considering sdc2 ...
md:  adding sdc2 ...
md: sdc1 has different UUID to sdc2
md:  adding sdb2 ...
md: sdb1 has different UUID to sdc2
md: created md1
md: bind<sdb2>
md: bind<sdc2>
md: running: <sdc2><sdb2>
raid1: raid set md1 active with 2 out of 2 mirrors
md: considering sdc1 ...
md:  adding sdc1 ...
md:  adding sdb1 ...
md: created md0
md: bind<sdb1>
md: bind<sdc1>
md: running: <sdc1><sdb1>
raid1: raid set md0 active with 2 out of 2 mirrors
md: ... autorun DONE.
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 644k freed
Adding 19342252k swap on /dev/sdb3.  Priority:-1 extents:1 across:19342252k
eth0: freeing mc frame.
eth0: freeing mc frame.
eth0: freeing mc frame.
ADDRCONF(NETDEV_UP): eth2: link is not ready
eth0: freeing mc frame.
eth0: freeing mc frame.
tg3: eth2: Link is up at 1000 Mbps, full duplex.
tg3: eth2: Flow control is on for TX and on for RX.
ADDRCONF(NETDEV_CHANGE): eth2: link becomes ready
eth0: no IPv6 routers present
eth2: no IPv6 routers present
On 10/24/07, Arjan van de Ven <arjan@infradead.org> wrote:
> On Wed, 24 Oct 2007 23:02:14 -0400
> "Zurk Tech" <zurktech@gmail.com> wrote:
>
> > Hi guys,
> > I have a tyan s3992 h2000 with single barcelona amd quad core cpu (the
> > other cpu socket is empty). cat /proc/cpuinfo shows amd quad core
> > processor
> > but core : 1....ive compiled the kernel from scratch with smp and
> > amd64 + the numa stuff. i also tried debian etchs amd64 smp kernel and
> > same result.
> > is amd barcelona quad core cpu not yet supported or is it something
> > else ? Thanks for any insight. im completely stumped. ive dealt with
> > mutliprocessing machines before and have a couple of dual cores which
> > are fine with the
> > exact same kernel configs. my amd tk-53 x2 turions show 2 cores in
> > cpuinfo.... -Zurk-
>
> Hi,
>
> this sort of issue is usually best diagnosed when we can get to see the
> dmesg output... since quite often the kernel will note errors and
> warnings there that will give a clue of what is going on. Would you
> mind attaching your dmesg on the broken machine to a mail ?
>
> Greetings,
>    Arjan van de Ven
>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/