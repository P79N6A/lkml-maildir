Date: Thu, 10 Nov 2005 09:24:40 +0100
From: "Jan Beulich" <>
Subject: Re: [PATCH] make vesafb build without CONFIG_MTRR
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/10/44

>>> Adrian Bunk <bunk@stusta.de> 09.11.05 22:59:35 >>>
>On Mon, Nov 07, 2005 at 01:53:30PM +0100, Jan Beulich wrote:
>
>> vesafb did not build without CONFIG_MTRR.
>>...
>
>I wasn't able to reproduce your problem.
>
>Please send the error message and the a complete .config for
reproducing 
>it.
Hmm, yes. The change came from the Xen kernel, which for some reason
has CONFIG_MTRR but doesn't compile the respective source file on
x86-64. When I ran into that, I didn't realize that include/asm/mtrr.h
has wrappers for the !CONFIG_MTRR case.
But anyway, the code now framed by the conditionals is dead code
without CONFIG_MTRR anyway. So if the number of #ifdef-s is important
I'm OK with withrawing that patch, but then I'd like to see the same
happen in all the other frame buffer drivers (after all it was the fact
that the conditionals were there everywhere else I checked that made me
not look at include/asm/mtrr.h)...
Jan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/