Date: Tue, 2 Nov 2004 14:42:10 -0600
From: 	Mark_H_Johnson@raytheon ...
Subject: Re: [patch] Real-Time Preemption, -RT-2.6.9-mm1-V0.6.8
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/2/207

>hm, this one is an extremely weird deadlock - the NMI watchdog detected
>a _user-space_ deadlock - i.e. the "cpu_burn" user-space code disabled
>interrupts for more than ~5 seconds? Sounds quite unlikely and the
>EFLAGS register also directly contradicts it, it has 0x200 set so
>interrupts are enabled!
Very unlikely - cpu_burn.c (all of it...)
int main() {
  while (1) {  }
  return 1;
}
No - it did not disable interrupts.
>The only other way for the NMI watchdog to
>trigger is if for whatever reason the local APIC timer interrupts are
>not getting through and the NMI ticks (which come via a different
>interrupt pin) get through.
The other symptoms I was seeing appeared to be timer related
 - never returned from "sleep 1s" in the shell script
 - "ps -fe" worked fine, but "top" did not
You may be on to something here.
  --Mark
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/