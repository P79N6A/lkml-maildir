Date: Sat, 2 Mar 2002 07:47:51 -0500
From: Greg Louis <>
Subject: mini [PATCH] 2.4.19-pre2-ac1 one sched hunk missing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/2/32

--- linux-2.4.19pre2ac1/init/do_mounts.c.orig	Sat Mar  2 07:39:00 2002
+++ linux-2.4.19pre2ac1/init/do_mounts.c	Sat Mar  2 07:39:00 2002
@@ -527,8 +527,7 @@
 		pid = kernel_thread(do_linuxrc, "/linuxrc", SIGCHLD);
 		if (pid > 0) {
 			while (pid != wait(&i)) {
-				current->policy |= SCHED_YIELD;
-				schedule();
+				yield();
 			}
 		}
 		if (MAJOR(real_root_dev) != RAMDISK_MAJOR
-- 
| G r e g  L o u i s          | gpg public key:      |
| 
http://www.bgl.nu/~glouis
 |   finger greg@bgl.nu |
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/