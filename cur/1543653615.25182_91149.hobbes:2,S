Date: Wed, 20 Nov 2002 10:13:20 -0600 (CST)
From: Josh Myer <>
Subject: Re: OSS VIA82cxxx sound driver problem.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/20/137

Give 2.5.x a shot. In some versions there's a buglet, which was hopefully
fixed (I kludged a patch, then the maintainer sent a proper one, and I
haven't had time to try it out).
I saw similar problems under 2.4 (it almost seems like the chipset is
expecting aligned input; lots of errors after closing the device at the
end of a song), but they went away when switching to 2.5.44.
Basically, the OSS driver for this chipset is hopelessly bad (no offense
Jeff!), but ALSA one is pretty well-done and handles the quirks of the
device.
--
/jbm, but you can call me Josh. Really, you can!
 "What's a metaphor?" "For sheep to graze in"
7958 1C1C 306A CDF8 4468  3EDE 1F93 F49D 5FA1 49C4
On Wed, 20 Nov 2002, Jacob Kroon wrote:
>
> System:
> AMD Athlon 800Mhz
> Kernel 2.4.19, built with GCC 3.2
> VIA Technologies, Inc. VT82C686 [Apollo Super ACPI]
> PCI bridge: VIA Technologies, Inc. VT8371 [KX133 AGP] (rev 0).
>
> I've compiled the VIA82cxxx driver into the kernel, not as a module. The
> driver works correctly for some time, but after a while it seems that it
> can't set certain output frequencies (but it still plays sound), as I
> noticed that XMMS plays songs at a slower frequency.
>
> Small output of "dmesg", whole log in attachment:
>
> ...
> ...
> attempt to access beyond end of device
> 16:40: rw=0, want=479602, limit=479600
> via82cxxx: timeout while reading AC97 codec (0xAC0000)
> via82cxxx: Codec rate locked at 48Khz
> via_audio: ignoring drain playback error -11
> via_audio: ignoring drain playback error -11
>
> Quake 3 sounds ok, probably becuse it's playing audio at a rate that the
> driver still can set (11Khz i think).
>
> /Jacob
>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/