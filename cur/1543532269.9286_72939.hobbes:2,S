Date: Wed, 29 Mar 2000 11:30:04 -0500
From: Bryan -TheBS- Smith <>
Subject: Re: Kernel 2.2.14, dirty buffers, stalls in interactivity of system/NFS-clients ...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/29/97

On Tue, 28 Mar 2000, bert hubert wrote:
> Did you read /usr/src/linux/Documentation/sysctl/vm.txt?
JUST SHOOT ME!  Jeez I cannot believe I missed that file in the
kernel docs.  Thanx dude!
> If you have 1G of ram and not many active processes, you might get a
> *lot* of queueing if your settings are a bit off.
Exactomundo!  That's my config.  Linux is so damn efficient and
clean that it'll use that memory for cache.  I just want to "tune
it" to take the time to write it out regularly (before it fills all
1GB).
Again, then the problem is NOT Linux, but the hardware.  Because
this RAID controller is on the same PCI bus as everything else, I
really think it chokes the PCI on these massive flushes.
> I ran this for you on my favorite overworked Linux box. It processes 50% of
> the incoming and outgoing mail of ~50.000 cable modem subscribers, without a
> flaw:
My connectionless clients (SMB, Sendmail, cvs, etc...) are
_all_fine_.  It's the interactive/connection clients (system
console, telnet/rlogin,  NFS clients) that are "stalling".
> [root@smtpe vm]# uname -a ; for a in * ; do echo $a: ; cat $a; echo ; done
> Linux smtpe.casema.net 2.2.12-20 #8 Wed Jan 19 14:40:56 CET 2000 i686 unknown
> <... Cut settings for ...>
> bdflush, buffermem, ... pagetable_cache
I have the exact same settings.  Again, the server is handling the
load, and gets everything.  It is just the _interactive_ sessions
that slow down on these massive flushes.
-- TheBS
-- 
 Bryan "TheBS" Smith -- Engineer, IT Professional and Hacker
      E-mail:  mailto:thebs@theseus.com,b.j.smith@ieee.org
  Disclaimer:  
http://www.SmithConcepts.com/legal.html
*************************************************************
  TheBS ... Serving E-mail filters to /dev/null since 1989
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/