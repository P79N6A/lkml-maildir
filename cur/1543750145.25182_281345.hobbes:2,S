Date: Mon, 27 Dec 2004 13:31:42 +1030
From: "Mark Williams (MWP)" <>
Subject: Re: 2.6.10 make script problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/26/164

>On Mon, Dec 27, 2004 at 01:23:02AM +1030, Mark Williams (MWP) wrote:
>> Hi all,
>> First... im not on lkml, so can you please CC replies back to me, thanks.
>> 
>> This is a werid one...
>> 
>> On running "make menuconfig" for the first time on a freshly extracted
>> "linux-2.6.10.tar.bz2" everything works fine.
>> 
>> >From then on however, running "make" in any form ("make bzImage", "make
>> menuconfig", etc) brings on this:
>> 
>> [root@linux linux-2.6.10]# make bzImage
>> make -C /usr/src/linux-2.6.10 O=/usr/src/linux-2.6.10 bzImage
>> make -C /usr/src/linux-2.6.10 O=/usr/src/linux-2.6.10 bzImage
>> make -C /usr/src/linux-2.6.10 O=/usr/src/linux-2.6.10 bzImage
>> make -C /usr/src/linux-2.6.10 O=/usr/src/linux-2.6.10 bzImage
>> make -C /usr/src/linux-2.6.10 O=/usr/src/linux-2.6.10 bzImage
>> ....
>> 
>> which continues until i ctrl-c.
>
>Check your Makefile. It looks like 'make O=...' was executed in the
>wrong directory, thus overwriting the original Makefile.
>
>	Sam
Yes, it seems the root Makefile is being overwritten.
On a cleanly extracted 2.6.10 kernel, when i run "make menuconfig" i get the following:
[root@linux linux-2.6.10]# make menuconfig
  HOSTCC  scripts/basic/fixdep
  HOSTCC  scripts/basic/split-include
  HOSTCC  scripts/basic/docproc
  GEN    /usr/src/linux-2.6.10-ck1/Makefile
  SHIPPED scripts/kconfig/zconf.tab.h
  HOSTCC  scripts/kconfig/conf.o
  HOSTCC  scripts/kconfig/mconf.o
  SHIPPED scripts/kconfig/zconf.tab.c
  SHIPPED scripts/kconfig/lex.zconf.c
  HOSTCC  scripts/kconfig/zconf.tab.o
  HOSTLD  scripts/kconfig/mconf
  HOSTCC  scripts/lxdialog/checklist.o
  HOSTCC  scripts/lxdialog/inputbox.o
  HOSTCC  scripts/lxdialog/lxdialog.o
  HOSTCC  scripts/lxdialog/menubox.o
  HOSTCC  scripts/lxdialog/msgbox.o
  HOSTCC  scripts/lxdialog/textbox.o
  HOSTCC  scripts/lxdialog/util.o
  HOSTCC  scripts/lxdialog/yesno.o
  HOSTLD  scripts/lxdialog/lxdialog
Note the "GEN /usr/src/linux-2.6.10-ck1/Makefile".
Is this the problem?
Thanks again.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/