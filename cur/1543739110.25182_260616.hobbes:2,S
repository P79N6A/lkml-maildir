Date: 14 Oct 2004 12:42:01 -0700
From: Daniel Walker <>
Subject: Re: [patch] Real-Time Preemption, -VP-2.6.9-rc4-mm1-U1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/14/173

This was during NFS startup in init.
using smp_processor_id() in preemptible [00000001] code:
rpc.rquotad/2158
caller is ipt_do_table+0x7b/0x3a0
 [<c011aa15>] smp_processor_id+0x95/0xa0
 [<c038cbfb>] ipt_do_table+0x7b/0x3a0
 [<c038aa8b>] ip_ct_refresh_acct+0xb/0x80
 [<c038f1d4>] ipt_local_hook+0x74/0xc0
 [<c034d73a>] nf_iterate+0x5a/0xa0
 [<c035af00>] dst_output+0x0/0x40
 [<c034da3c>] nf_hook_slow+0x5c/0x100
 [<c035af00>] dst_output+0x0/0x40
 [<c035aaf4>] ip_push_pending_frames+0x414/0x480
 [<c035af00>] dst_output+0x0/0x40
 [<c0377c88>] udp_push_pending_frames+0x148/0x260
 [<c0378178>] udp_sendmsg+0x378/0x6e0
 [<c0134c73>] __mcount+0x13/0x20
 [<c037f7bc>] inet_sendmsg+0x3c/0x60
 [<c03397d8>] sock_sendmsg+0xb8/0xe0
 [<c0134c73>] __mcount+0x13/0x20
 [<c0134c73>] __mcount+0x13/0x20
 [<c0113d30>] mcount+0x14/0x18
 [<c020172a>] __copy_from_user_ll+0xa/0x40
 [<c0133d00>] autoremove_wake_function+0x0/0x60
 [<c03391ef>] move_addr_to_kernel+0x2f/0x60
 [<c033ab36>] sys_sendto+0xd6/0x100
 [<c033d144>] sock_common_setsockopt+0x24/0x40
 [<c0134c73>] __mcount+0x13/0x20
 [<c020172a>] __copy_from_user_ll+0xa/0x40
 [<c0201803>] copy_from_user+0x43/0x80
 [<c0113d30>] mcount+0x14/0x18
 [<c020172a>] __copy_from_user_ll+0xa/0x40
 [<c033b297>] sys_socketcall+0xf7/0x180
 [<c01176a0>] do_page_fault+0x0/0x62a
 [<c0105357>] syscall_call+0x7/0xb
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/