Date: Fri, 23 Jan 2009 10:21:49 -0800
From: "H. Peter Anvin" <>
Subject: Re: inline asm semantics: output constraint width smaller than	input
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/23/271

Ingo Molnar wrote:
> 
>> Hi,
>>
>> I am trying to build the kernel with LLVM 2.5 prerelease (using 
>> llvm-gcc-4.2 frontend), however I am running into some inline asm 
>> semantics issues, and after some discussion on LLVM bugzilla I would 
>> like to know if you would be accepting patches for this: 
>> 
http://llvm.org/bugs/show_bug.cgi?id=3373
>>
>> The problem is when "a" output constraint is used with a variable of 
>> smaller width than the "0" input constraint.
>>
IMO, that's an LLVM bug and should be fixed in LLVM while it is in 
prerelease.  That particular constraint is a serious one, and will haunt 
us for many years if we allow ourselves to go down the path of having to 
fix that every time it crops up.
	-hpa