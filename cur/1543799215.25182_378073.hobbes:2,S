Date: Wed, 21 Dec 2005 07:49:20 +0000
From: Nix <>
Subject: Re: Makefile targets: tar & rpm pkgs, while using O=<dir> as non-root
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/21/33

On 20 Dec 2005, Al Viro wrote:
> On Tue, Dec 20, 2005 at 05:44:10PM +0000, Nix wrote:
>> > 4) Builds for several architectures from same source base
>> 
>> cp -al
>> 
>> > 5) Builds for several different configurations
>> 
>> cp -al
> 
> ... apply a patch and watch the resync hell.  That really, really doesn't
> work well enough for use when doing any kind of development.
Well, personally I handle patch-application in cp -al'ed trees by doing
cp -al via a script, and repatching all currently hardlinked trees
(obviously if they are very divergent some patches will fail and I'll
have to fix them up by hand).
It works for me well enough to keep hardlinked branches going for in
some cases years without problems.
(On top of that, I've sometimes considered a switch to patch(1) that
switches to truncate-and-rewrite rather than unlink-and-replace. Haven't
implemented it yet though.)
(And if you're using this to maintain development branches, then you
have resync and conflict-management problems *anyway*, which this makes
no worse.)
-- 
`I must caution that dipping fingers into molten lead
 presents several serious dangers.' --- Jearl Walker
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/