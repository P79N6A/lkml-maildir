Date: Wed, 25 Jul 2007 16:48:45 -0700
From: "Nelson, Shannon" <>
Subject: RE: [PATCH -mm] dma: INTEL_IOATDMA build fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/25/474

Satyam Sharma [mailto:ssatyam@cse.iitk.ac.in] 
>
>Make CONFIG_INTEL_IOATDMA select CONFIG_DCA because it uses code
>exported from said dependency:
>
># CONFIG_DCA is not set
>CONFIG_INTEL_IOATDMA=m
>
>ERROR: "alloc_dca_provider" [drivers/dma/ioatdma.ko] undefined!
>ERROR: "register_dca_provider" [drivers/dma/ioatdma.ko] undefined!
>ERROR: "unregister_dca_provider" [drivers/dma/ioatdma.ko] undefined!
>ERROR: "free_dca_provider" [drivers/dma/ioatdma.ko] undefined!
>make[1]: *** [__modpost] Error 1
>
>"select" seems ok because CONFIG_DCA looks library-like and 
>doesn't itself
>depend upon anything else.
>
>Signed-off-by: Satyam Sharma <ssatyam@cse.iitk.ac.in>
Well, ioatdma should be smarter and not try to use ioat_dca.c if there
is no CONFIG_DCA.  However, until that happens, this is fine.
Signed-off-by: Shannon Nelson <shannon.nelson@intel.com>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/