Date: Mon, 31 Jul 2006 10:15:43 -0700
From: "Siddha, Suresh B" <>
Subject: Re: [BUG] sched: big numa dynamic sched domain memory corruption
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/31/212

On Mon, Jul 31, 2006 at 09:54:29AM -0700, Paul Jackson wrote:
> > Paul can you please test the mainline code and confirm?
> 
> Sure - which version of Linus and/or Andrew's tree is the minimum
> worth testing?
> 
> Could you explain why you don't think the mainline has this
> problem?  I still see the critical code piece there:
> 
>   #ifdef CONFIG_NUMA
>                 if (cpus_weight(*cpu_map)
>                                 > SD_NODES_PER_DOMAIN*cpus_weight(nodemask)) {
This code piece is not the culprit. In 2.6.16, the mechanism of setting
up group power for allnodes_domains is wrong(which is actually causing
this issue in the presence of dynamic sched groups patch) and the mainline
has fixes for all these issues.
> What other critical bugs are fixed between the SLES10 variant
> and the mainline?
Basically SLES10 has to backport all these patches:
sched: fix group power for allnodes_domains
sched_domai: Allocate sched_group structures dynamically
sched: build_sched_domains() fix
thanks,
suresh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/