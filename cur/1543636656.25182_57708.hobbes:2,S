Date: 19 Jul 2002 17:10:15 -0400
From: Shaya Potter <>
Subject: Re: more thoughts on a new jail() system call
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/19/180

On Thu, 2002-07-18 at 23:06, Albert D. Cahalan wrote:
> >> sys_vhangup) NOT SURE -  Should be fine, right?
> >
> > Seems ok to me.
> 
> Have fun with devpts.
can you expand on why this might be a problem, as far I can tell the
syscall is in fs/open.c
it seems very simple to me
asmlinkage long sys_vhangup(void)
{
        if (capable(CAP_SYS_TTY_CONFIG)) {
                tty_vhangup(current->tty);
                return 0;
        }
        return -EPERM;
}
basically, we call tty_vhangup on the process's tty.
if tty_vhangup was the syscall, I could see this being a problem, but as
sys_vhangup can only operate on the what the task_struct has, how is it
a problem?
thanks,
shaya potter
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/