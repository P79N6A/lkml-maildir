Date: Mon, 19 Jun 2006 22:22:21 -0700
From: Andrew Morton <>
Subject: Re: [patch -mm 17/20] chardev: GPIO for SCx200 & PC-8736x: replace spinlocks w mutexes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/20/20

On Sat, 17 Jun 2006 12:38:17 -0600
Jim Cromie <jim.cromie@gmail.com> wrote:
> 17/20. patch.mutexes
> 
> Replace spinlocks guarding gpio config ops with mutexes.  This is a
> me-too patch, and is justifiable insofar as mutexes have stricter
> semantics and better debugging support, so are preferred where they
> are applicable.
> 
OK.  I trust this was all tester with all kernel debug options turned on?
Once it's in -mm you might hare to try out the lockdep checker too.
> -static DEFINE_SPINLOCK(scx200_gpio_config_lock);
> +DEFINE_MUTEX(scx200_gpio_config_lock);
But it doesn't need global scope.
> -static DEFINE_SPINLOCK(pc8736x_gpio_config_lock);
> +DEFINE_MUTEX(pc8736x_gpio_config_lock);
Nor does this?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/