Date: 14 Aug 2002 18:12:36 +0200
From: Arkadiusz Miskiewicz <>
Subject: serial console (was Re: [patch] printk from userspace)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/15/178

"Miquel van Smoorenburg" <miquels@cistron.nl> writes:
> I have a bootlogd that does a TIOCCONS on /dev/console, so
> that it can capture all messages written to /dev/console.
> 
> It buffers the messages in-memory, until it is able to open
> a logfile in /var/log/ at which point it writes the buffered
> data to the logfile, and starts logging to that file.
> 
> The only problem is that TIOCCONS is a redirect, so there's no
> output to the console anymore. 
btw. is there any reason to not display initscripts messages
on all consoles in such setup:
append="console=tty0 console=ttyS0,57600n8"
serial=0,57600n8
?
kernel messages are available on both - tty0 and ttyS0 while
userspace messages (from initscripts) only on last specified
- in such case ttyS0. 
> Mike.
-- 
Arkadiusz Mi≈õkiewicz   IPv6 ready PLD Linux at 
http://www.pld.org.pl
misiek(at)pld.org.pl   AM2-6BONE, 1024/3DB19BBD, arekm(at)ircnet, PWr
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/