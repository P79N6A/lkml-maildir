Date: Mon, 30 Jun 2003 13:36:41 +0400
From: Hans Reiser <>
Subject: Re: File System conversion -- ideas
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/30/65

I tend to agree with the below.  I just want to add though that there 
are a lot of users who have one disk drive and and no decent network 
connection to somewhere with a lot of storage.  It would be nice to 
adapt tar to understand about the reiser4 resizer and mkreiser4 and the 
reiser3 resizer, and the partitioner (yah, at this point it would no 
longer really be tar, but.... ), and to have it shrink the V3 partition, 
create a reiser4 partition, copy some of the V3 partition to the V4 
partition, shrink the V3 partition some more, etc.....
Money will get us to do this.  Otherwise we will work on what we are 
contracted to do for DARPA.
Hans
John Bradford wrote:
>>>I typically call that 'tar' and it works great whenever I want to
>>>convert from one filesystem to another. I just haven't got a clue why
>>>you want to implement tar (or cpio) in the kernel as the userspace
>>>implementation is already pretty usable.
>>>
>>>      
>>>
>>tar --inplace --fs-convert --targetfs=reiserfs /dev/hda1
>>
>>.......  it doesn't like it
>>    
>>
>
>tar -cf - -C /old_filesystem | tar -xf - -C /newfilesystem
>
>Works fine, and copies symbolic links, and device files properly.  If
>you don't want sparse files expanded, you can use --sparse.
>
>Yes, it needs both old and new filesystems on-line at once.  That
>isn't a problem for a lot of users.
>
>It has the advantage over an on-line conversion utility that the files
>are layed out in the way they were intended to be by the filesystem,
>for performance, and anti-fragmentation reasons.
>  
>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/