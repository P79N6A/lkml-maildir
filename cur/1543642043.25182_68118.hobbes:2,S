Date: 04 Sep 2002 00:52:58 +0200
From: Xavier Bestel <>
Subject: Re: (fwd) Re: [RFC] mount flag "direct"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/3/233

Le mer 04/09/2002 à 00:42, Peter T. Breuer a écrit :
> Let's maintain a single bit in the superblock that says whether  any
> directory structure or whatever else we're worried about has been
> altered (ecch, well, it has to be a timestamp, never mind ..). Before
> every read we check this "bit" ondisk. If it's not set, we happily dive
> for our data where we expect to find it. Otherwise we go through the
> rigmarole you describe.
Won't work. You would need an atomic read-and-write operation for that
(read previous timestamp and write a special timestamp meaning
"currently writing this block"), and you don't have that.
	Xav
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/