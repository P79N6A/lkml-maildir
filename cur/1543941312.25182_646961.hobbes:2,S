Date: Fri, 1 Feb 2008 10:27:46 -0500 (EST)
From: Alan Stern <>
Subject: Should nonblocking I/O calls to a disconnected device get an error? [was: Problem: hiddev stops sending events after some error recoveries]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/1/280

On Fri, 1 Feb 2008, Salvador Eduardo Tropea wrote:
> Now, I tried unplugging the device while executing a NONBLOCKing
> program. I didn't get any I/O error. It means I was wrong about the
> difference between unplugging the device and the effect of a recovery
> like the one I mentioned previously. You are right, but IMHO that's odd,
> the device should also inform I/O error when reading using a NONBLOCKing
> file handler. Currently a program must use blocking reads in order to
> get notified about the problem. It looks bad and lacks consistency. What
> do you think?
I don't know.  Other people have debated this issue in the past, but I 
can't remember what the final decision was or the reasons for it.
Alan Stern