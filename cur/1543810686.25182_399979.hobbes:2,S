Date: Wed, 22 Feb 2006 10:37:31 -0800
From: Greg KH <>
Subject: Re: lsscsi-0.17 released
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/22/196

On Wed, Feb 22, 2006 at 12:59:34PM -0500, Douglas Gilbert wrote:
> Greg KH wrote:
> >>/sys/class/scsi_device/<hcil>/device/block symlink
> >>changed to ".../block:sd<x>" breaking lsscsi 0.16 (and
> >>earlier) and sg_map26 (in sg3_utils).
> 
> > It was changed as there would be more than one "block" symlink in a
> > device's directory if more than one block device was attached to a
> > single struct device.  For example, ub and multi-lun devices (there were
> > other reports of this happening for scsi devices too at the time from
> > what I remember.)
> 
> A "scsi_device" is a logical unit, hence the "l" at
> the end of the "<hcil>" acronym in the above path.
> So it wasn't broken. However there is some fuzziness
> in this area, for example the term "scsi_device".
Yes, but the block layer was not creating the proper symlink name, and
it would create multiple symlinks with the same name, in the same
directory, pointing to different places.  That had to be fixed, as it
was broken.  The block layer itself, has no way to determine if it is
using a scsi device, or another type of device, nor should it care.
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/