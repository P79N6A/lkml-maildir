Date: Tue, 9 Mar 2004 17:35:07 -0600
From: "Miller, Mike (OS Dev)" <>
Subject: RE: per device queues for cciss 2.6.0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/9/236

The command buffer as it is now is per hba. We realize that there may be issues with volumes being starved out but the change was done to make the current driver work with multiple logical volumes. When we move to per logical volume locking scheme we can also implement a per logical volume command structure.
Thanks,
mikem
-----Original Message-----
From: Jeff Garzik [mailto:jgarzik@pobox.com]
Sent: Tuesday, March 09, 2004 4:22 PM
To: Miller, Mike (OS Dev)
Cc: axboe@suse.de; akpm@osdl.org; linux-kernel@vger.kernel.org
Subject: Re: per device queues for cciss 2.6.0
mikem@beardog.cca.cpqcorp.net wrote:
> This is resubmission of yesterdays patch. It adds support for per logical device queues in the cciss driver. I have clarified that we only use one lock for all queues and it is held as specified in ll_rw_block.c. The locking needs to be redone for maximum efficiency but schedules don't permit that work at this time. This was done to fix an Oops with multiple logical volumes on a controller.
> Please consider this patch for inclusion.
Is the hardware's command buffer per-device or per-HBA?
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/