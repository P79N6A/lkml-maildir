Date: Sat, 27 May 2006 00:29:36 +0300
From: Anssi Hannula <>
Subject: Re: [patch 03/13] input: make input a multi-object module
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/26/353

Andrew Morton wrote:
> Anssi Hannula <anssi.hannula@gmail.com> wrote:
> 
>>Move the input.c to input-core.c and modify Makefile so that the input module
>>can be built from multiple source files. This is preparing for the input-ff.c.
>>
>>Signed-off-by: Anssi Hannula <anssi.hannula@gmail.com>
>>
>>---
>> drivers/input/Makefile     |    2 
>> drivers/input/input-core.c | 1099 +++++++++++++++++++++++++++++++++++++++++++++
>> drivers/input/input.c      | 1099 ---------------------------------------------
> 
> urgh.  There are other changes pending againt input.c and this renaming
> makes everything a huge pain.
> 
> What does "can be built from multiple source files" mean?
Well, I want to embed the input-ff.c into the input module too.
> It would be much nicer all round if we could avoid renaming this file.
Indeed... There are these 4 options as far as I see:
1. Do this rename
2. Put all the code in input-ff.c to input.c
3. Make the input-ff a separate bool "module" and add
EXPORT_SYMBOL_GPL() for input_ff_event() which is currently the only
function in input-ff.c that is called from input.c
4. Rename the input "module" to something else, it doesn't matter so
much as almost everybody builds it as built-in anyway.
WDYT is the best one?
-- 
Anssi Hannula
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/