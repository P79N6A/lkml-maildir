Date: Mon, 12 Dec 2005 09:26:16 +0100 (CET)
From: "J.O. Aho" <>
Subject: Re: Sparc: Kernel 2.6.13 to 2.6.15-rc2 bug when running X11
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/12/29

On Sun, 11 Dec 2005, David S. Miller wrote:
> From: "J.O. Aho" <trizt@iname.com>
>> sbusfb_mmap: start[71800000] size[410000] off[4000000]
>> sbusfb_mmap: page[0] map_size[2000]
>> sbusfb_mmap: map_size is now 2000
>> IO[X:6712]:
>> remap_pfn_range(s[71800000]e[71c10000],f[71800000],pfn[1fc0060],sz[2000],prot[80000000000006b0])
>> sbusfb_mmap: page[2000] map_size[2000]
>> sbusfb_mmap: map_size is now 2000
>> IO[X:6712]:
>> remap_pfn_range(s[71800000]e[71c10000],f[71802000],pfn[1fc0060],sz[2000],prot[80000000000006b0])
>
> This means, it passes in "vma->vm_start + page" in as the start
> address.
>
> Yet the last line, printed by the tracing code in io_remap_pfn_range()
> is getting 0x71800000, when it should be 0x71802000.
>
> I strongly believe your kernel is being miscompiled by whatever
> gcc is being used to build your kernels.
Okey, good that there is something I can try and see. I'll see what a 
rebuild does of the gcc 64bit and have as basic CFLAGS as possible doing 
this and rebuild the kernel and see what happens, if not, I guess I'll 
bugger the Gentoo Sparc guys again.
Thanks for the help.
-- 
      //Aho
  ------------------------------------------------------------------------
   E-Mail: trizt@iname.com            URL: 
http://www.kotiaho.net/~trizt/
      ICQ: 13696780
   System: Linux System                        (PPC7447/1000 AMD K7A/2000)
  ------------------------------------------------------------------------
             EU forbids you to send spam without my permission
  ------------------------------------------------------------------------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/