Date: Thu, 06 Jan 2005 13:12:03 +0100
From: Arjan van de Ven <>
Subject: Re: SCSI aic7xxx driver: Initialization Failure over a kdump reboot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/6/65

On Thu, 2005-01-06 at 18:05 +0530, Vivek Goyal wrote:
> 
> In my machine Adaptec SCSI controller is not managing any devices. It
> is
> a lonely controller.
> 
looks like the following is happening:
the controller wants to send an irq (probably from previous life)
then suddenly the driver gets loaded
* which registers an irq handler
* which does pci_enable_device()
and .. the irq goes through. 
the irq handler just is not yet expecting this irq, so
returns "uh dunno not mine"
the kernel then decides to disable the irq on the apic level
and then the driver DOES need an irq during init
... which never happens.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/