Date: Sun, 3 Feb 2002 20:47:59 -0700
From: Michal Jaegermann <>
Subject: Re: [PATCH] Symbol troubles in 2.4.18pre... kernels
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/3/10

On Mon, Feb 04, 2002 at 12:48:12AM +0000, Alan Cox wrote:
> 
> > 'isa_eth_io_copy_and_sum' is defined only for some architectures but
> > assorted modules, like drivers/net/3c503.o and few others, can be
> > configured, say, for Alpha and 'depmod' once again complains about
> > unresolved symbols.  I do not think that anybody will really miss that
> > on Alpha but maybe configuring them in should be disallowed?
> 
> This is a bug in the Alpha port. Fix the port. Its not ecactly the
> most complex function to implement.
Well, the best I can tell by looking at other implementations and
comparing there is not much to implement and the fix looks like
that:
--- linux-2.4.18p7/include/asm-alpha/io.h~	Sun Feb  3 16:42:17 2002
+++ linux-2.4.18p7/include/asm-alpha/io.h	Sun Feb  3 20:35:13 2002
@@ -432,6 +432,8 @@
 #define eth_io_copy_and_sum(skb,src,len,unused) \
   memcpy_fromio((skb)->data,(src),(len))
 
+#define isa_eth_io_copy_and_sum(a,b,c,d) eth_copy_and_sum((a),(b),(c),(d))
+
 static inline int
 check_signature(unsigned long io_addr, const unsigned char *signature,
 		int length)
But I really have no way to test that on a real, live, hardware.
It compiles. :-)
  Michal
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/