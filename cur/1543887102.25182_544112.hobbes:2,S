Date: Mon, 14 May 2007 11:51:33 +0530
From: "Satyam Sharma" <>
Subject: Re: Linux 2.6.22-rc1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/14/13

Hi David,
On 5/14/07, David Miller <davem@davemloft.net> wrote:
> From: Tilman Schmidt <tilman@imap.cc>
> Date: Sun, 13 May 2007 20:19:09 +0200
>
> > Would it be asking too much to have help texts on the following
> > new (wrt 2.6.21) configuration options?
> >
> > ESP Scsi Driver Core (SCSI_ESP_CORE) [N/m] (NEW)
>
> This one is a case where the option makes no sense by itself,
> it provides the core common code for other front-end drivers.
>
> The documentation exists in those front end drivers, which
> in turn auto-matically select and enable this config option.
>
> It would be nice if there was a Kconfig way to not provide
> this thing at all unless one of the front-ends got selected
Yeah, so the Kconfig-blessed way that you're looking for is:
config SCSI_ESP_CORE
	tristate
	depends on SCSI && SCSI_SPI_ATTRS
	default y if SCSI_SUNESP=y
	default m if SCSI_SUNESP=m
Add other front-ends (other than SCSI_SUNESP) to the last
two lines, as applicable.
Important: And then *remove* the "select SCSI_ESP_CORE"
from the Kconfig options of the front-ends themselves.
[ You could do something similar with SCSI_SPI_ATTRS
also, it looks like to be something that probably never makes
sense alone either, and needs only to be automatically pulled
in by other options (?) ]
[ Note that "select"ing stuff that is not library-like and itself
depends on other stuff is a Bad Thing. ]
> but on the otherhand I like how anyone can select it and thus
> test the build of it :-)
Satyam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/