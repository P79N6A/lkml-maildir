Date: Mon, 22 Nov 2004 08:27:05 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: ptrace single-stepping change breaks Wine
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/22/154

On Mon, 22 Nov 2004, Andreas Schwab wrote:
> Linus Torvalds <torvalds@osdl.org> writes:
> 
> > IMHO, this is a nice cleanup, and it also means that I can actually debug 
> > my "program from hell":
> 
> Does it also work when trying to single step over it?  I guess all bets
> are off then.
If you single-step over the "popfl", then you need to generate the
SIGTRAP's by hand too. IOW, it's _possible_ to emulate the behaviour from
within the debugger, but it gets really really nasty very quickly.
I think the nastyness in that case is at least acceptable, since if you 
single-step, you actually _see_ what is happening, and thus you have a 
chance in hell of figuring it out. Practical? No. But debuggable at least 
in theory, which it really wasn't before.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/