Date: Sun, 24 Dec 2006 15:45:12 +0100 (MET)
From: Mikael Pettersson <>
Subject: [PATCH 2.6.20-rc2] fix mrproper incompleteness
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/24/39

include/linux/utsrelease.h and include/linux/version.h
aren't removed any more by mrproper in kernel 2.6.20-rc2.
The patch below fixes this.
The definition of MRPROPER_FILES looks weird: generated-headers
looks like a misspelling of generated_headers, but that one is
a Makefile target, not a variable or a file, so I don't see how
including it in MRPROPER_FILES could have any effect.
Signed-off-by: Mikael Pettersson <mikpe@it.uu.se>
--- linux-2.6.20-rc2/Makefile.~1~	2006-12-24 14:04:26.000000000 +0100
+++ linux-2.6.20-rc2/Makefile	2006-12-24 15:31:41.000000000 +0100
@@ -1040,7 +1040,7 @@ CLEAN_FILES +=	vmlinux System.map \
 # Directories & files removed with 'make mrproper'
 MRPROPER_DIRS  += include/config include2 usr/include
 MRPROPER_FILES += .config .config.old include/asm .version .old_version \
-                  include/linux/autoconf.h generated-headers		\
+                  include/linux/autoconf.h include/linux/utsrelease.h include/linux/version.h \
 		  Module.symvers tags TAGS cscope*
 
 # clean - Delete most, but leave enough to build external modules
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/