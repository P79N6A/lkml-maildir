Date: Sun, 30 Jan 2000 20:33:32 -0800
From: "David S. Miller" <>
Subject: Re: TCP SYNs broken in 2.3.41
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/30/161

   From: willy@thepuffingroup.com
   Date: Sun, 30 Jan 2000 23:04:27 -0500
   I thought we had {get,put}_unaligned() macros so that people could
   write handlers for these protocols?  Not that I think support for
   weird protocols is a high-priority matter for machines which are
   limited to 16MB of RAM.
No, those macros are not for this purpose.
It is, and always has been, the case that in order to support
networking fully you have to handle unaligned accesses.  Putting
the macros in for every packet header access would be attrocious,
as would guarenteeing the alignment everywhere.
IP in general will align everything.  However, when you guarentee
an alignment on the receive side, the network drivers have to decide
what they align for.  So if they align for IP, other protocols
with different header layouts past the hardware header may not be
aligned, and vice versa.
Later,
David S. Miller
davem@redhat.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/