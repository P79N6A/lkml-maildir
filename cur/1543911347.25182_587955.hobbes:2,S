Date: Thu, 23 Aug 2007 18:48:23 -0500
From: "Mr. Berkley Shands" <>
Subject: 2.6.22.5 forcedeth timeout hang
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/23/359

100% reproducible hang on xmit timeout.
Just do a "make -j4 modules" on an nfs mounted kernel source.
attached is the messages log
berkley
-- 
// E. F. Berkley Shands, MSc//
** Exegy Inc.**
349 Marshall Road, Suite 100
St. Louis , MO  63119
Direct:  (314) 218-3600 X450
Cell:  (314) 303-2546
Office:  (314) 218-3600
Fax:  (314) 218-3601
 
The Usual Disclaimer follows...
 
This e-mail and any documents accompanying it may contain legally privileged and/or confidential information belonging to Exegy, Inc. Such information may be protected from disclosure by law. The information is intended for use by only the addressee. If you are not the intended recipient, you are hereby notified that any disclosure or use of the information is strictly prohibited. If you have received this e-mail in error, please immediately contact the sender by e-mail or phone regarding instructions for return or destruction and do not use or disclose the content to others.
Aug 23 18:34:55 crash kernel: [30819.690155] NETDEV WATCHDOG: eth1: transmit timed out
Aug 23 18:34:55 crash kernel: [30819.690162] eth1: Got tx_timeout. irq: 00000036
Aug 23 18:34:55 crash kernel: [30819.690164] eth1: Ring at 16e086000
Aug 23 18:34:55 crash kernel: [30819.690166] eth1: Dumping tx registers
Aug 23 18:34:55 crash kernel: [30819.690171]   0: 00000036 000000ff 00000003 024e03ca 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690176]  20: 06255300 ff701365 00000000 00000000 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690181]  40: 0420e20e 0000a855 00002e20 00000000 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690186]  60: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690192]  80: 003b0f3c 00000001 00040000 007f0020 0000061c 00000001 00200000 00007f87
Aug 23 18:34:55 crash kernel: [30819.690197]  a0: 0014050f 00000016 5781e000 0000020a 00000001 00000000 a800cccd 0000fcf5
Aug 23 18:34:55 crash kernel: [30819.690203]  c0: 10000002 00000001 00000001 00000001 00000001 00000001 00000001 00000001
Aug 23 18:34:55 crash kernel: [30819.690207]  e0: 00000001 00000001 00000001 00000001 00000001 00000001 00000001 00000001
Aug 23 18:34:55 crash kernel: [30819.690213] 100: 6e086800 6e086000 007f00ff 00008000 00010032 00000000 0000002c 6e0874c0
Aug 23 18:34:55 crash kernel: [30819.690220] 120: 6e086360 1ca37240 a000ffeb 00000000 00000000 6e0874cc 6e08636c 0fe08000
Aug 23 18:34:55 crash kernel: [30819.690225] 140: 00304120 80002600 00000001 00000001 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690229] 160: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690235] 180: 00000016 00000008 0194796d 00008103 0000002a 00003800 0194000f 00000003
Aug 23 18:34:55 crash kernel: [30819.690241] 1a0: 00000016 00000008 0194796d 00008103 0000002a 00003800 0194000f 00000003
Aug 23 18:34:55 crash kernel: [30819.690246] 1c0: 00000016 00000008 0194796d 00008103 0000002a 00003800 0194000f 00000003
Aug 23 18:34:55 crash kernel: [30819.690252] 1e0: 00000016 00000008 0194796d 00008103 0000002a 00003800 0194000f 00000003
Aug 23 18:34:55 crash kernel: [30819.690257] 200: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690261] 220: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690266] 240: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690271] 260: 00000000 00000000 fe020001 00000100 00000000 00000000 7e020001 00000100
Aug 23 18:34:55 crash kernel: [30819.690276] 280: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690280] 2a0: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
Aug 23 18:34:55 crash kernel: [30819.690285] 2c0: 00000000 00000000 00000000 00000000 00000000 00000001 00000001 00000001
Aug 23 18:34:55 crash kernel: [30819.690287] eth1: Dumping tx ring
Aug 23 18:34:55 crash kernel: [30819.690292] 000: 00000000 8fd00892 20000052 // 00000000 88115c92 20000052 // 00000000 875ae892 20000052 // 00000000 8a660492 20000052
Aug 23 18:34:55 crash kernel: [30819.690298] 004: 00000001 61fdb492 20000052 // 00000000 8bf3f892 20000052 // 00000000 8daa7092 20000052 // 00000000 8fa29892 20000052
Aug 23 18:34:55 crash kernel: [30819.690304] 008: 00000001 0d558892 20000052 // 00000000 8e0bf892 20000052 // 00000000 8fd00492 20000052 // 00000000 8d160092 20000052
Aug 23 18:34:55 crash kernel: [30819.690310] 00c: 00000001 27698092 20000052 // 00000000 7fc6cc92 20000052 // 00000000 8d03ec92 20000052 // 00000000 88085492 20000052
Aug 23 18:34:55 crash kernel: [30819.690317] 010: 00000000 850ee492 20000052 // 00000000 8bba8c92 20000052 // 00000001 56108492 20000052 // 00000000 7f0ed892 20000052
Aug 23 18:34:55 crash kernel: [30819.690323] 014: 00000001 509a0492 20000052 // 00000000 87b60892 20000052 // 00000000 87b62092 20000052 // 00000000 8f0d5892 20000052
Aug 23 18:34:55 crash kernel: [30819.690329] 018: 00000000 87c7b492 20000052 // 00000000 8ee76092 20000052 // 00000001 4fb8e892 20000052 // 00000000 7fc6c492 20000052
Aug 23 18:34:55 crash kernel: [30819.690335] 01c: 00000001 541bc492 20000052 // 00000000 85572492 20000052 // 00000000 8ee77492 20000052 // 00000000 8bbab492 20000052
Aug 23 18:34:55 crash kernel: [30819.690341] 020: 00000001 1b4b3492 20000052 // 00000001 541bc892 20000052 // 00000000 7fc6e092 20000052 // 00000000 8fd01092 20000052
Aug 23 18:34:55 crash kernel: [30819.690347] 024: 00000001 0d530c92 20000052 // 00000000 8bbaa092 20000052 // 00000000 8d03e892 20000052 // 00000000 7deac0b2 00000000
Aug 23 18:34:55 crash kernel: [30819.690352] 028: 00000000 8257dba0 00000000 // 00000000 895d0000 200005ee // 00000000 8d03e4b2 00000000 // 00000000 895d013c 22000bdc
Aug 23 18:34:55 crash kernel: [30819.690357] 02c: 00000000 8eba30b2 00000000 // 00000000 895d0c74 00000000 // 00000000 895d1000 22000bdc // 00000000 875aecb2 00000000
Aug 23 18:34:55 crash kernel: [30819.690363] 030: 00000000 895d17ac 00000000 // 00000000 86f62000 22000bdc // 00000000 8a6618b2 00000000 // 00000000 86f622e4 22000bdc
Aug 23 18:34:55 crash kernel: [30819.690368] 034: 00000000 855734b2 00000000 // 00000000 86f62e1c 00000000 // 00000000 86f63000 22000bdc // 00000001 65b95cb2 00000000
Aug 23 18:34:55 crash kernel: [30819.690374] 038: 00000000 86f63954 00000000 // 00000000 7fb6e000 22000bdc // 00000000 850ee0b2 00000000 // 00000000 7fb6e48c 22000bdc
Aug 23 18:34:55 crash kernel: [30819.690379] 03c: 00000000 8d1604b2 00000000 // 00000000 7fb6efc4 00000000 // 00000000 7fb6f000 22000bdc // 00000000 8d03f8b2 00000000
Aug 23 18:34:55 crash kernel: [30819.690384] 040: 00000000 7fb6fafc 00000000 // 00000000 8b7c0000 220005ee // 00000001 1000e8b2 00000000 // 00000000 8b7c0098 2200007a
Aug 23 18:34:55 crash kernel: [30819.690390] 044: 00000000 8e0bf0b2 00000000 // 00000000 8b7c00c0 22000fde // 00000000 8d03e0b2 00000000 // 00000000 8b7c0fa8 00000000
Aug 23 18:34:55 crash kernel: [30819.690395] 048: 00000000 8b7c1000 22000bdc // 00000000 87b600b2 00000000 // 00000000 8b7c1ae0 00000000 // 00000000 8dc38000 22000bdc
Aug 23 18:34:55 crash kernel: [30819.690401] 04c: 00000001 4fb8e0b2 00000000 // 00000000 8dc38618 00000000 // 00000000 8dc39000 22000bdc // 00000000 8fa294b2 00000000
Aug 23 18:34:55 crash kernel: [30819.690406] 050: 00000000 8dc39150 22000bdc // 00000001 620870b2 00000000 // 00000000 8dc39c88 00000000 // 00000000 85ad8000 22000bdc
Aug 23 18:34:55 crash kernel: [30819.690411] 054: 00000000 875af8b2 00000000 // 00000000 85ad87c0 00000000 // 00000000 85ad9000 22000bdc // 00000000 881150b2 00000000
Aug 23 18:34:55 crash kernel: [30819.690417] 058: 00000000 85ad92f8 22000bdc // 00000001 62f8e8b2 00000000 // 00000000 85ad9e30 00000000 // 00000000 887d8000 22000bdc
Aug 23 18:34:55 crash kernel: [30819.690422] 05c: 00000000 8ee764b2 00000000 // 00000000 887d8968 00000000 // 00000000 887d9000 22000bdc // 00000000 8d160cb2 00000000
Aug 23 18:34:55 crash kernel: [30819.690428] 060: 00000000 887d94a0 220005ee // 00000000 8a6600b2 00000000 // 00000000 887d9a3c 2200023e // 00000001 6427e4b2 00000000
Aug 23 18:34:55 crash kernel: [30819.690433] 064: 00000000 887d9c28 00000000 // 00000000 87e80000 22000fde // 00000000 875af0b2 00000000 // 00000000 87e80b10 00000000
Aug 23 18:34:55 crash kernel: [30819.690439] 068: 00000000 87e81000 22000bb4 // 00000000 850ee892 22000052 // 00000001 1000ec92 22000052 // 00000000 7deac492 22000052
Aug 23 18:34:55 crash kernel: [30819.690445] 06c: 00000000 8daa7c92 22000052 // 00000001 1b4b3092 22000052 // 00000000 8bbaa492 22000052 // 00000000 8fa29c92 22000052
Aug 23 18:34:55 crash kernel: [30819.690451] 070: 00000000 850ed492 22000052 // 00000000 875ae092 22000052 // 00000000 7fc6e492 22000052 // 00000000 8d03fc92 22000052
Aug 23 18:34:55 crash kernel: [30819.690457] 074: 00000000 8bf3f492 22000052 // 00000000 8daa7892 22000052 // 00000001 509a0c92 22000052 // 00000000 8eba3892 22000052
Aug 23 18:34:55 crash kernel: [30819.690463] 078: 00000000 8eba3c92 22000052 // 00000000 8a661492 22000052 // 00000000 8f0d5092 22000052 // 00000000 850eec92 22000052
Aug 23 18:34:55 crash kernel: [30819.690469] 07c: 00000000 7f0ed492 22000052 // 00000000 88115492 22000052 // 00000000 87c7a48a 2200005a // 00000000 8ee7708a 2200005a
Aug 23 18:34:55 crash kernel: [30819.690475] 080: 00000001 6233848a 2200005a // 00000001 4fb8688a 2200005a // 00000000 8557288a 2200005a // 00000000 87c7b88a 2200005a
Aug 23 18:34:55 crash kernel: [30819.690481] 084: 00000000 8a660c8a 2200005a // 00000000 8557208a 2200005a // 00000000 8ee7788a 2200005a // 00000001 4fb8608a 2200005a
Aug 23 18:34:55 crash kernel: [30819.690487] 088: 00000001 62f8e48a 2200005a // 00000001 567cb88a 2200005a // 00000000 7f0edcaa 00000000 // 00000000 8257dba0 00000000
Aug 23 18:34:55 crash kernel: [30819.690492] 08c: 00000000 895d0000 200005ee // 00000001 6ebb8802 20000066 // 00000001 620874aa 00000000 // 00000000 8257dba0 00000000
Aug 23 18:34:55 crash kernel: [30819.690498] 090: 00000000 895d0000 200005ee // 00000001 63945a02 20000066 // 00000001 61a9b4aa 00000000 // 00000000 8257dba0 00000000
Aug 23 18:34:55 crash kernel: [30819.690504] 094: 00000000 895d0000 200005ee // 00000001 259b9202 20000066 // 00000001 339e6002 20000040 // 00000001 61a9b8aa 00000000
Aug 23 18:34:55 crash kernel: [30819.690510] 098: 00000000 8257dba0 00000000 // 00000000 895d0000 220005ee // 00000001 259b9a02 20000066 // 00000001 2f34ea02 20000040
Aug 23 18:34:55 crash kernel: [30819.690516] 09c: 00000001 6ebb8402 22000066 // 00000001 63945402 20000040 // 00000001 4f226a02 22000066 // 00000001 2e04f402 20000066
Aug 23 18:34:55 crash kernel: [30819.690521] 0a0: 00000001 4fb8ecaa 00000000 // 00000000 8257dba0 00000000 // 00000000 895d0000 200005ee // 00000001 2f34ec02 20000066
Aug 23 18:34:55 crash kernel: [30819.690528] 0a4: 00000001 341f6402 20000066 // 00000001 339e6e02 20000066 // 00000001 341f6e02 20000066 // 00000001 2e04f202 20000066
Aug 23 18:34:55 crash kernel: [30819.690533] 0a8: 00000001 0d5304aa 00000000 // 00000000 8257dba0 00000000 // 00000000 895d0000 200005ee // 00000001 fc4588be 00000000
Aug 23 18:34:55 crash kernel: [30819.690539] 0ac: 00000001 29eba7d6 200000b2 // 00000002 6e3b60be 00000000 // 00000001 29eba7d6 200000b2 // 00000001 4f226c02 20000040
Aug 23 18:34:55 crash kernel: [30819.690544] 0b0: 00000001 6509fe02 22000040 // 00000000 8bba90ca 00000000 // 00000001 38bf4d7c 22000040 // 00000000 8bba94ca 00000000
Aug 23 18:34:55 crash kernel: [30819.690551] 0b4: 00000001 38bf4d7c 22000040 // 00000001 6de0d002 22000040 // 00000002 0f793202 22000040 // 00000001 6de0de02 22000040
Aug 23 18:34:55 crash kernel: [30819.690557] 0b8: 00000002 2482b202 22000040 // 00000001 6de0d802 22000066 // 00000001 6ebb8e02 20000040 // 00000002 4a3e4202 22000040
Aug 23 18:34:55 crash kernel: [30819.690562] 0bc: 00000001 6ebb8a02 22000040 // 00000000 8bba98be 00000000 // 00000001 271400e9 2200005c // 00000000 8832e8be 00000000
Aug 23 18:34:55 crash kernel: [30819.690568] 0c0: 00000001 271400e9 2000005c // 00000001 341f6002 20000040 // 00000000 8d03f0aa 00000000 // 00000000 8257dba0 00000000
Aug 23 18:34:55 crash kernel: [30819.690574] 0c4: 00000000 895d0000 220005ee // 00000001 2e04fa02 20000040 // 00000001 2e04fc02 22000040 // 00000001 339e6402 22000040
Aug 23 18:34:55 crash kernel: [30819.690580] 0c8: 00000001 339e6602 22000040 // 00000001 339e6a02 22000040 // 00000002 391e4c02 22000040 // 00000002 1ca37202 22000040
Aug 23 18:34:55 crash kernel: [30819.690586] 0cc: 00000000 7fc6c092 22000052 // 00000000 7fc6c092 20000052 // 00000001 1a702492 20000052 // 00000000 87c7bc92 20000052
Aug 23 18:34:55 crash kernel: [30819.690592] 0d0: 00000000 8ee76892 20000052 // 00000000 85573892 20000052 // 00000001 622efc92 20000052 // 00000000 7fc6d492 20000052
Aug 23 18:34:55 crash kernel: [30819.690599] 0d4: 00000001 4bbb7492 20000052 // 00000000 85573c92 20000052 // 00000000 8bf3f092 20000052 // 00000001 0d558492 20000052
Aug 23 18:34:55 crash kernel: [30819.690605] 0d8: 00000000 875afc92 20000052 // 00000000 87b60492 20000052 // 00000000 8bba9c92 20000052 // 00000000 8fa29092 20000052
Aug 23 18:34:55 crash kernel: [30819.690611] 0dc: 00000001 541bc092 20000052 // 00000000 85573092 20000052 // 00000000 87b62892 20000052 // 00000000 87c7ac92 20000052
Aug 23 18:34:55 crash kernel: [30819.690617] 0e0: 00000000 8bba8492 20000052 // 00000000 8bbab092 20000052 // 00000001 60e3c492 20000052 // 00000000 8832e092 20000052
Aug 23 18:34:55 crash kernel: [30819.690623] 0e4: 00000000 8a661092 20000052 // 00000000 8bbab892 20000052 // 00000001 0d558092 20000052 // 00000000 800bc092 20000052
Aug 23 18:34:55 crash kernel: [30819.690629] 0e8: 00000000 8daa7492 20000052 // 00000001 4fb86492 20000052 // 00000001 0d558c92 20000052 // 00000000 87b63892 20000052
Aug 23 18:34:55 crash kernel: [30819.690635] 0ec: 00000000 7deacc92 20000052 // 00000000 8a660892 20000052 // 00000000 850ed892 20000052 // 00000000 8f0d5c92 20000052
Aug 23 18:34:55 crash kernel: [30819.690641] 0f0: 00000001 0d530892 20000052 // 00000000 7fc6e892 20000052 // 00000000 889c9092 20000052 // 00000000 8bbaac92 20000052
Aug 23 18:34:55 crash kernel: [30819.690647] 0f4: 00000001 61fdb892 20000052 // 00000000 8a661c92 20000052 // 00000000 7f0ed092 20000052 // 00000000 8fd01892 20000052
Aug 23 18:34:55 crash kernel: [30819.690653] 0f8: 00000000 87b62c92 20000052 // 00000000 87b62492 20000052 // 00000001 62338892 20000052 // 00000000 7fc6d092 20000052
Aug 23 18:34:55 crash kernel: [30819.690659] 0fc: 00000001 1a702892 20000052 // 00000001 614ca492 20000052 // 00000000 8bba8092 20000052 // 00000000 889c9c92 20000052