Date: Mon, 1 Mar 1999 08:37:07 -0500
From: Brian Geisel <>
Subject: Re: Can't umount after SIGKILL
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/1/26

> On Mon, 22 Feb 1999, Brian Geisel wrote:
> 
> >Greetings,
> >	I have found that if I have a process which is running on a mounted
> >filesystem, and I kill -9 that process, the filesystem is unable to be
> >umounted.  It thinks the filesystem is still in use.  /proc/*/cwd
includes
> >nothing in the directory, and all the processes in there were certainly
> >killed anyway.  Is this something that's broken, or should umount allow
-f
> >(whether that's kernel or app I'm also not sure)?
> 
> What kernel?
> 
> I've had that happen in 2.0.36 several times recently with my
> CDROM using SCSI emulation.
I've had it happen on several versions, 2.2.0-pre5 and 2.1.127 (I think). 
As someone pointed out earlier, it's not just a matter of kill -9ing
processes on that mount point, I tried that and it worked fine.  I haven't
had it happen in a while, but it always happen when I test this one
particular piece of code... I just can't remember what piece it is.  When
it happens again I'll post all the details I can.  I think it may have even
happened on a 2.0.x now that I think about it.
geisel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/