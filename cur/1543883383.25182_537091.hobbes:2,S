Date: Sun, 29 Apr 2007 16:07:53 +0200
From: Gregoire Favre <>
Subject: Re: [PATCH] Re: More than 2Gb problem (dvb related) ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/29/164

On Sat, Apr 28, 2007 at 09:14:37PM +0100, Jon Burgess wrote:
> While the above patch works, it seems the underlying causes is that
> vmalloc_32() is providing memory above 4Gb on x86-64 which is not what
> the driver expects. This same issue came up a few weeks ago with regards
> to DRM on radeon 
http://lkml.org/lkml/2007/4/1/257
> 
> Andi Kleen included a patch to ensure vmalloc_32() returns memory <4Gb
> in a patch which is currently in -mm
>  
http://kernel.org/pub/linux/kernel/people/akpm/patches/2.6/2.6.21-rc7/2.6.21-rc7-mm2/broken-out/x86_64-mm-vmalloc-32.patch
> 
> With this patch applied the current driver appears to work OK. 
> 
> Attached is a smaller patch against v4l-dvb which just adds the missing
> pci_unmap_sg() call.
> 
> 	Jon
> 
> Signed-off-by: Jon Burgess <jburgess777@googlemail.com>
Tremendous : after a perfect weekend for paragliding a solution appear
here :-)
I hope both patch will be included very soon ;-)
And it's works perfectly, thank you very much,
-- 
Gr√©goire FAVRE  
http://gregoire.favre.googlepages.com
  
http://www.gnupg.org
               
http://picasaweb.google.com/Gregoire.Favre
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/