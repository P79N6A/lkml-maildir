Date: Tue, 08 Jan 2002 01:41:55 -0800
From: "Martin J. Bligh" <>
Subject: Re: [PATCH] MAX_MP_BUSSES increase
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/8/115

> There's a problem with that -- despite its name, CONFIG_MULTIQUAD is used for 
> the old NUMA-Q hardware.  It turns on some memory mapped port I/O code that 
> doesn't have any purpose for other machines.  The PCI bus overflow happens on 
> our new Foster-based boxes that may or may not contain multiple quad CPU 
> boards.
> 
> Still, CONFIG_MULTIQUAD is better than nothing.  It just may take a little 
> bit of redefinition, so long as we can coax the various distros to build 
> their installation and working kernels with CONFIG_MULTIQUAD turned on....
That's not a good idea. You're going to introduce extra switches to every port
IO path, and every IPI (for everybody, not just yourself). CONFIG_MULTIQUAD 
is also used to alter the way that PCI config space writes are done (in later 
patches). I suggest you use a different config option, or construct it dynamically.
Martin.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/