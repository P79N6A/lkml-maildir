Date: Tue, 27 Dec 2005 00:17:43 +0100
From: Andreas Steinmetz <>
Subject: Re: 2.6.15rc6: ide oops+panic
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/26/120

Andrew Morton wrote:
> Thanks.  Are you able to identify the most-recent kernel version which
> didn't do this?
> 
Bartlomiej's workaround (mount with "barrier=0") doesn't seem to help to
workaround the problem. I had one BUG/oops/panic (the same as reported)
after 96 hours of uptime and another one after only a few minutes of uptime.
Some more info on the disk setup (all partitions including root):
hda(1)/hdc(1)/hde(2) <-> 2x md raid5 <-> dm-crypt <-> lvm2 <-> ext3
(1) AMD8111
(2) PDC20268
Swap is set up as:
hda(1)/hdc(1)/hde(2) <-> dm-crypt <-> swap
(1) AMD8111
(2) PDC20268
I could start trying to find out where the problem started but will have
to start with 2.6.13 as I had other problems with earlier kernels.
Please let me know if you want me to go through this as each test run
will probably take a few days.
BTW: To prevent bit error speculations, just before initially reporting
the problem I did run >200 hours of memtest with no errors and all
memory is ECC.
If it helps, here is some information from /proc/interrupts:
           CPU0       CPU1
  0:     357569    1104266    IO-APIC-edge  timer
  1:          1         35    IO-APIC-edge  i8042
  8:          0          1    IO-APIC-edge  rtc
  9:        240       2288   IO-APIC-level  acpi
 12:          1         92    IO-APIC-edge  i8042
 14:       4509     115633    IO-APIC-edge  ide0
 15:       1822     117156    IO-APIC-edge  ide1
 16:          1        195   IO-APIC-level  ohci_hcd:usb4
 19:        875          2   IO-APIC-level  eth0
 20:       1376     115699   IO-APIC-level  ide2, ide3
 21:          0          3   IO-APIC-level  ohci1394, ohci_hcd:usb2,
ohci_hcd:usb3
 22:          0          4   IO-APIC-level  ehci_hcd:usb1
 23:          0          0   IO-APIC-level  ohci_hcd:usb5, AMD AMD8111
NMI:        221        161
LOC:    1460699    1461160
ERR:          0
MIS:          0
-- 
Andreas Steinmetz                       SPAMmers use robotrap@domdv.de
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/