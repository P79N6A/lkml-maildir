Date: 3 Dec 2003 21:26:21 GMT
From: (bill davidsen)
Subject: Re: aacraid and large memory problem (2.6.0-test11)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/3/175

In article <20031203205730.88B7EF7C86@voldemort.scrye.com>,
Kevin Fenzi  <kevin@tummy.com> wrote:
| Bill> | > Perhaps this patch in 2.6.0-test9 is the culprit?  | >
| Bill> 
http://www.linuxhq.com/kernel/v2.6/0-test9/drivers/scsi/aacraid/comminit.c
| Bill> | | This patch is what made aacraid work with over 4 gig of
| Bill> memory for me. | I have an 8 proc system with 16gig of memory
| Bill> and without this patch I | get data corruption in high memory.
| Bill> | | I don't boot on the aacraid though.
| 
| Bill> It would be interesting to know what memory model is being used
| Bill> in each case. Both CONFIG_HIGHMEM* and maybe user/kernel split
| Bill> might play.
| 
| I am using the 2.6.0 rpms from:
| 
| 
http://people.redhat.com/arjanv/2.5/
| 
| Specifically its:
| 
| 
http://people.redhat.com/arjanv/2.5/RPMS.kernel/kernel-smp-2.6.0-0.test11.1.99.i686.rpm
| 
| The  kernel-2.6.0-test11-i686-smp.config
| says: 
| 
| # CONFIG_NOHIGHMEM is not set
| # CONFIG_HIGHMEM4G is not set
| CONFIG_HIGHMEM64G=y
| CONFIG_HIGHMEM=y
| CONFIG_BLK_DEV_UMEM=m
| CONFIG_DEBUG_HIGHMEM=y
| 
| Bill> Based on one boot with one machine, 4G RAM, it didn't hang.
| Bill> Unfortunately a production machine, I was playing following some
| Bill> "unscheduled maintenence."  
| 
| Did you have HIGHMEM set?
root> grep HIGHMEM .config
CONFIG_NOHIGHMEM=y
# CONFIG_HIGHMEM4G is not set
# CONFIG_HIGHMEM64G is not set
| kevin
I don't know that this sheds any light, one is a fairly small sample set.
-- 
bill davidsen <davidsen@tmr.com>
  CTO, TMR Associates, Inc
Doing interesting things with little computers since 1979.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/