Date: Wed, 16 Jan 2008 17:34:22 +0000
From: "Colin Fowler" <>
Subject: Re: Performance loss 2.6.22->22.6.23->2.6.24-rc7 on CPU intensive benchmark on 8 Core Xeon
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/16/202

> there are a handful of 'scheduler feature bits' in
> /proc/sys/kernel/sched_features:
>
> enum {
>         SCHED_FEAT_NEW_FAIR_SLEEPERS    = 1,
>         SCHED_FEAT_WAKEUP_PREEMPT       = 2,
>         SCHED_FEAT_START_DEBIT          = 4,
>         SCHED_FEAT_TREE_AVG             = 8,
>         SCHED_FEAT_APPROX_AVG           = 16,
> };
>
Toggling SCHED_FEAT_NEW_FAIR_SLEEPERS to 0 or
SCHED_FEAT_WAKEUP_PREEMPT to 0 gives me results more inline with my
2.6.22 results. Toggling them both to 0 gives me slightly better
results than 2.6.22!
>   /sys/devices/system/cpu/sched_mc_power_savings
>
> does that change the results?
>
no measurable difference on this toggle that I can see.