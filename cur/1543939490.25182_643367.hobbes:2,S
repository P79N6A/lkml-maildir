Date: Fri, 25 Jan 2008 16:22:51 +0100 (CET)
From: Jan Engelhardt <>
Subject: Re: [PATCH] Introduce softpanic
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/25/373

On Jan 25 2008 16:01, Andi Kleen wrote:
>Bodo Eggert <7eggert@gmx.de> writes:
>
>> Enabling this option changes a hard panic on boot errors to a
>> soft panic, which does not stop the system completely.
>> You can still scroll the screen and read the messages.
>
>I don't think it's a good idea to keep the network running in the
>soft panic. A lot of people have set ups that use ping was a watchdog
>and with nfsroot/ip=dhcp ping does work quite well before
>mounting root and then the watchdog might not pick up the 
>soft panic.
If the machine goes oops and softlocks (e.g. bug in root filesystem,
lock held but not released, box essentially dead), ping also still
works even though you'd probably want to trigger the watchdog too.
>Using a polled keyboard driver after panic seems to be the better
>option to me, but if you want softpanic you should probably
>at least add a suitable panic notifier to the network stack 
>to shut it all down.
or that.