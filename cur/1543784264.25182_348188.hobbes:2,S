Date: Thu, 8 Sep 2005 09:15:54 +0100
From: "Martin Vlk" <>
Subject: The BogoMIPS value sometimes too low on Intel Mobile P3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/8/45

Hi folks,
I am running a custom-built kernel 2.6.10 on an Intel Mobile P3 processor. (Acer
TravelMate 620)
From time to time it happens to me that on boot-up the USB mouse doesn't work.
When I try a USB camera in this situation it doesn't work either.
I discovered that when the USB devices don't work the BogoMIPS value calculated
is far lower than it should be. For example it is 32 whereas normally it should
be around 1450.
The low BogoMIPS value causes the USB init delays to be calculated too short and
the devices are not given enough time to initialize.
It happens in approximately 45% of boot-ups and the only way I know of to make
it work again is restart. Very often restart is needed multiple times before it
starts working again.
I tried to switch processor power management settings in BIOS, but with no
success so far. Also today I discovered another BIOS setting related to Intel
SpeedStep technology and I tried to change the value to try if I get any better
behaviour. Will see in few days.
Attached are log examples from both successful and unsuccessful boot-ups. I
noticed the detected processor speed varies and also different hi-res
timesources are used (tsc, pmtmr). Is that of any significance?
Any idea what the problem and solution is?
Thanks
Martin V.
The information in this email is confidential and may be legally privileged.
It is intended solely for the addressee. Access to this email by anyone else
is unauthorized. If you are not the intended recipient, any disclosure,
copying, distribution or any action taken or omitted to be taken in reliance
on it, is prohibited and may be unlawful. If you are not the intended
addressee please contact the sender and dispose of this e-mail. Thank you.
Detected 733.440 MHz processor.
Using tsc for high-res timesource
Console: colour dummy device 80x25
Dentry cache hash table entries: 65536 (order: 6, 262144 bytes)
Inode-cache hash table entries: 32768 (order: 5, 131072 bytes)
Memory: 508184k/515904k available (1568k kernel code, 7244k reserved, 869k data, 152k init, 0k>>>highmem)
Checking if this processor honours the WP bit even in supervisor mode...Ok.
Calibrating delay loop... 1449.98 BogoMIPS (lpj=724992)
Detected 999.992 MHz processor.
Using pmtmr for high-res timesource
Console: colour dummy device 80x25
Dentry cache hash table entries: 65536 (order: 6, 262144 bytes)
Inode-cache hash table entries: 32768 (order: 5, 131072 bytes)
Memory: 508184k/515904k available (1568k kernel code, 7244k reserved, 869k data, 152k init, 0k>>>highmem)
Checking if this processor honours the WP bit even in supervisor mode...Ok.
Calibrating delay loop... 32.57 BogoMIPS (lpj=16288)
Detected 1000.135 MHz processor.
Using pmtmr for high-res timesource
Console: colour dummy device 80x25
Dentry cache hash table entries: 65536 (order: 6, 262144 bytes)
Inode-cache hash table entries: 32768 (order: 5, 131072 bytes)
Memory: 508184k/515904k available (1568k kernel code, 7244k reserved, 869k data, 152k init, 0k highmem)
Checking if this processor honours the WP bit even in supervisor mode...Ok.
Calibrating delay loop... 1040.38 BogoMIPS (lpj=520192)
Detected 1000.285 MHz processor.
Using pmtmr for high-res timesource
Console: colour dummy device 80x25
Dentry cache hash table entries: 65536 (order: 6, 262144 bytes)
Inode-cache hash table entries: 32768 (order: 5, 131072 bytes)
Memory: 508184k/515904k available (1568k kernel code, 7244k reserved, 869k data, 152k init, 0k>>>highmem)
Checking if this processor honours the WP bit even in supervisor mode...Ok.
Calibrating delay loop... 65.15 BogoMIPS (lpj=32576)