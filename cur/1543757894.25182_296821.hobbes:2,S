Date: Wed, 23 Feb 2005 14:45:30 -0800
From: Matt Mackall <>
Subject: Re: 2.6.11-rc4-mm1 (VFS: Cannot open root device "301")
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/2/23/172

On Wed, Feb 23, 2005 at 09:37:53AM -0700, Steven Cole wrote:
> I copied a working .config from an earlier kernel(-rc3), and ran make 
> oldconfig, answering most of the new questions 'n'.
Then you get into trouble with stuff under CONFIG_EMBEDDED. Answering
'n' turns off stock functionality. Though you really ought not have
CONFIG_EMBEDDED turned on anyway. I'm not sure how CONFIG_BASE_SMALL
is causing problems as the blockdev bit got dropped already. I'll poke
around..
Andrew, looks like turning on EMBEDDED causes a bunch of options to
spill onto the general setup menu in menuconfig because of the
placement of the bool piece:
Fix up bustedness in menuconfig
Signed-off-by: Matt Mackall <mpm@selenic.com>
Index: mm1/init/Kconfig
===================================================================
--- mm1.orig/init/Kconfig	2005-02-23 13:32:38.000000000 -0800
+++ mm1/init/Kconfig	2005-02-23 14:27:18.699676896 -0800
@@ -274,11 +274,6 @@ config BASE_FULL
 	  Disabling this option reduces the size of miscellaneous core
 	  kernel data structures.
 
-config BASE_SMALL
-	int
-	default 0 if BASE_FULL
-	default 1 if !BASE_FULL
-
 config FUTEX
 	bool "Enable futex support" if EMBEDDED
 	default y
@@ -360,6 +355,11 @@ config TINY_SHMEM
 	default !SHMEM
 	bool
 
+config BASE_SMALL
+	int
+	default 0 if BASE_FULL
+	default 1 if !BASE_FULL
+
 menu "Loadable module support"
 
 config MODULES
-- 
Mathematics is the supreme nostalgia of our time.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/