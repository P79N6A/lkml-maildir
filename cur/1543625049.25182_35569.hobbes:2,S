Date: Mon, 18 Mar 2002 12:57:43 -0800
From: Jean Tourrilhes <>
Subject: Re: Killing tasklet from interrupt
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/18/13

On Mon, Mar 18, 2002 at 03:38:29PM -0500, Richard B. Johnson wrote:
> 
> You have the tasklet kill itself the next time it executes. Set some
> flag so it knows it should give up its timer-slot and expire. The
> interrupt sets the flag. It doesn't do anything else.
	I already have this flag and my code mostly work like this, so
that would be trivial to do.
	I looked at the code, and you are right, killing the tasklet
within itself is by far the safest way to do it. It's a shame that the
code doesn't explitely allow for it (i.e. you will deadlock every time
in tasklet_unlock_wait(t);).
	Thanks, and have fun...
	Jean
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/