Date: Thu, 23 Aug 2007 20:31:21 +0100
From: Al Viro <>
Subject: Re: [PATCH] Renumber AUDIT_TTY_[GS]ET
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/23/244

On Thu, Aug 23, 2007 at 07:32:41AM -0700, Arjan van de Ven wrote:
> On Thu, 23 Aug 2007 10:19:53 +0100
> Al Viro <viro@ftp.linux.org.uk> wrote:
> 
> > From: Miloslav Trmac <mitr@redhat.com>
> > 
> > Renumber AUDIT_TTY_[GS]ET to avoid a conflict with netlink message
> > types already used in the wild.
> 
> which are these? Were they in mainline or -mm before?
> 
> also, if this is so sensitive, at least add something that says to never ever use 1014/1015...
AUDIT_TTY_*ET went into mainline directly and I'd missed the conflict with
the numbers already in use by audit-subtree patches.  I *had* noticed when
pushing audit-subtree to -mm, swore at myself and renumbered those.  Alas,
there's userland to deal with.
	* auditctl has subtree support merged
	* auditctl still doesn't have tty... support merged
	* it's built with numbers matching the original patchset (1014/1015)
and binaries are released
	* audit-subtree patchset is in RH beta kernel, also released
Vote of auditctl maintainer had been "renumber tty_...* until it's too late,
since that's the one userland doesn't support yet".  The author of tty patches
agrees (see above) and I also think that this is the best way out of that mess.
Again, it's largely my fault - I'd missed the conflict in the first place and
hadn't reacted immediately.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/