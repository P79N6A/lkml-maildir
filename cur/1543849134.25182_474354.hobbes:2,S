Date: Wed, 18 Oct 2006 23:15:09 +0200
From: Muli Ben-Yehuda <>
Subject: Re: PCI-DMA: Disabling IOMMU
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/18/394

On Wed, Oct 18, 2006 at 05:03:36PM +0200, Sebastian Biallas wrote:
> Should I worry about this IOMMU-disabling? All other Linux/IOMMU stuff I
> found had AGP or BIOS messages nearby, but I only get this single
> "PCI-DMA: Disabling IOMMU" line, without any hint.
No, it's fine. Just a badly worded information message. Andi, how
about something like this?
Print a less alarming information message when we don't use GART
Signed-off-by: Muli Ben-Yehuda <muli@il.ibm.com>
diff -r 3f7bc84201e7 arch/x86_64/kernel/pci-gart.c
--- a/arch/x86_64/kernel/pci-gart.c	Wed Oct 18 09:14:19 2006 +0200
+++ b/arch/x86_64/kernel/pci-gart.c	Wed Oct 18 23:13:05 2006 +0200
@@ -601,7 +601,7 @@ void __init gart_iommu_init(void)
 	    (!force_iommu && end_pfn <= MAX_DMA32_PFN) ||
 	    !iommu_aperture ||
 	    (no_agp && init_k8_gatt(&info) < 0)) {
-		printk(KERN_INFO "PCI-DMA: Disabling IOMMU.\n");
+		printk(KERN_INFO "PCI-DMA: Not using GART IOMMU.\n");
 		if (end_pfn > MAX_DMA32_PFN) {
 			printk(KERN_ERR "WARNING more than 4GB of memory "
 					"but IOMMU not available.\n"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/