Date: Thu, 21 Dec 2006 14:08:45 +0100
From: Nicolas Ferre <>
Subject: Re: [PATCH] input/spi: add ads7843 support to ads7846 touchscreen driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/21/126

David Brownell a Ã©crit :
> On Friday 15 December 2006 7:20 am, Nicolas FERRE wrote:
>> Add support for the ads7843 touchscreen controller to the ads7846 driver code.
> 
> Glad to see this!  Is this for AT91sam9261-EK board support, maybe?
Indeed ! An also for the AT91sam9263-EK which has the same touchscreen chip.
> Let me try to sort out the mess with those updates, and ask you to refresh
> this ads7843 support against that more-current ads7846 code.
Ok, let me know when you have a newer code. I will try to adapt my
ads7843 support then.
>> As the SPI underlying code behaves quite differently from a controller driver
>> to another whan not having a tx_buf filled, I have add a zerroed buffer to give
>> to the spi layer while receiving data.
> 
> You must be working with a buggy controller driver then.  That part of
> this patch should never be needed.  It's expected that rx-only transfers
> will omit a tx buf; all controller drivers must handle that case.
I said that because it is true that most of spi controller drivers 
manage rx only transactions filling the tx buffer with zerros but the 
spi_s3c24xx.c driver seems to fill with ones (line 177 hw_txbyte())
Anyway, I will check in our controller driver to sort this out.
Regards,
-- 
Nicolas Ferre
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/