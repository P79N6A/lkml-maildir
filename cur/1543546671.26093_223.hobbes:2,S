Date: Fri, 25 Aug 2000 10:58:45 -0300
From: Cesar Eduardo Barros <>
Subject: Bogus dma value for parport in FIC SD11
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/25/65

The DMA autodetection for Via 686A seems to be broken; it is returning a bogus
'255' DMA value. It is configured in the BIOS as ECP, IRQ 7, DMA 3.
0x378: FIFO is 16 bytes
0x378: writeIntrThreshold is 8
0x378: readIntrThreshold is 8
0x378: PWord is 8 bits
0x378: Interrupts are ISA-Pulses
0x378: possible IRQ conflict!
0x378: ECP port cfgA=0x10 cfgB=0x00
0x378: ECP settings irq=<none or set by other means> dma=<none or set by other means>
parport0: PC-style at 0x378 (0x778), irq 7, dma 255 [PCSPP,TRISTATE,COMPAT,ECP,DMA]
parport0: dma 255 in use, resorting to PIO operation
parport0: cpp_daisy: aa5500ff87(b8)
parport0: assign_addrs: aa5500ff87(b8)
parport0: cpp_daisy: aa5500ff87(b8)
parport0: assign_addrs: aa5500ff87(b8)
parport_pc: Via 686A parallel port: io=0x378, irq=7, dma=255
lp0: using parport0 (interrupt-driven).
00:00.0 Host bridge: Advanced Micro Devices [AMD] AMD-751 [Irongate] System Controller (rev 25)
00:01.0 PCI bridge: Advanced Micro Devices [AMD] AMD-751 [Irongate] AGP Bridge (rev 01)
[...]
00:07.0 ISA bridge: VIA Technologies, Inc. VT82C686 [Apollo Super] (rev 1b)
00:07.1 IDE interface: VIA Technologies, Inc. VT82C586 IDE [Apollo] (rev 06)
00:07.2 USB Controller: VIA Technologies, Inc. VT82C586B USB (rev 0e)
00:07.4 SMBus: VIA Technologies, Inc. VT82C686 [Apollo Super ACPI] (rev 20)
[...]
-- 
Cesar Eduardo Barros
cesarb@nitnet.com.br
cesarb@dcc.ufrj.br
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/