Date: Wed, 14 Mar 2007 19:09:33 +0100
From: Ingo Molnar <>
Subject: Re: [PATCH 00/18] Make common x86 arch area for i386 and x86_64 - Take 2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/14/291

* Linus Torvalds <torvalds@linux-foundation.org> wrote:
> Did you even *look* at the patches?
yes. I am strongly in favor of sharing code - i recently introduced 
arch/x86_64/kernel/tsc_sync.c that is shared by i386 too.
So first i wrote a draft email where i told Andi that he's on crack to 
NACK it so brutally and that we should clearly do arch/x86 ;-)
then i decided to analyze the patches: currently they move 13452 lines 
of code. i386 is 87847 lines of code, x86_64 is 40978 lines of code, a 
total of 128825. That means we move about 10% of the code. Not 
insignificant but not earth-shattering either. With alot more effort 
(and testing) we could realistically go up to maybe 20% - but that's 
still a bit low to spread out all the files, isnt it?
in comparison, arch/powerpc is 159099 lines of code, arch/ppc is 106598 
lines of code. So the sharing factor is quite a bit higher there. I dont 
think we could ever reach that with x86.
So i thought it's a better idea to continue with the current more 
finegrained scheme of sharing some files between the architectures by 
having arch/x86_64 be the 'main' repository, with i386 inheriting them 
back, instead of spreading out the files?
but, whichever variant happens, it's certainly fine to me :)
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/