Date: Mon, 19 Jan 2009 12:15:52 +0100
From: Ingo Molnar <>
Subject: Re: [GIT PULL -tip v3] fix 39 'make headers_check' warnings
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/19/88

* Harvey Harrison <harvey.harrison@gmail.com> wrote:
> On Mon, 2009-01-19 at 07:40 +0530, Jaswinder Singh Rajput wrote:
> > On Sun, 2009-01-18 at 19:50 +0100, Ingo Molnar wrote:
> > > 
> > > why does such a change introduce new code? It is duplicating existing code 
> > > instead of cleaning it all up.
> > > 
> > 
> > That's why I was requesting you to check asm/swab.h because I was in 
> > doubt whether we need these functions in userspace or not.
> > 
> > If we do not need these functions in userspace then I will clean these 
> > up.
> > 
> 
> As part of doing the swab.h splitout it was very tempting to just stop 
> exporting _all_ of the asm/swab.h files now that there is a 
> linux/swab.h. But I ended up leaving things as they were on arches that 
> did expose their arch specific versions to userspace.
i'd argue for a much narrower interface to user-space - we export so much 
stuff (more than 700 headers) and in such an unstructured way (75,000 
lines of code) that it's plain crazy.
So if you think no x86 userspace actually needs swab.h, we can just wrap 
it all in __KERNEL__. I guess we cannot remove swab.h from 
include/linux/Kbuild, right?
	Ingo