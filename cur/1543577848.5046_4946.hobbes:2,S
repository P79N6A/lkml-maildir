Date: Mon, 8 Jan 2001 21:12:06 +1300
From: Chris Wedgwood <>
Subject: Re: ramfs problem... (unlink of sparse file in "D" state)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/8/30

On Mon, Jan 08, 2001 at 02:56:10AM -0500, Alexander Viro wrote:
    	Plenty. ext2, for one - e.g. with 4Kb blocks you have limit
    at 0x4010040c000 for files and 0x100000000 for directories. With
    1Kb blocks the limit for files is 0x404043000. Notice that the
    latter is not a multiple of page size on Alpha.
There is code to support this in 2.4.0-ac4 -- initially I didn't like
the way Alan had done things (I was think -EFBIG should be used only
for LFS violations) but after some thought has decided that what he
has makes a lot of sense.
The FS calculates the largest suitable byte-size for a file in put it
in the superblock; when the VFS checks in the generic_file_* paths.
The only time this won't work is if some complex criteria allows some
files to be larger than others, in which case -- we add a callback to
the fs.
  --cw
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/