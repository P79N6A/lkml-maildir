Date: Fri, 11 Apr 2003 03:34:45 -0700
From:  erich@uruk ...
Subject: Small fix for VMWare 3.2 (3.x?) on Redhat 9 (any 2.4.20+ kernel?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/11/45

FYI...
I'm running Redhat 9, and to get my copy of VMWare 3.2 working with it,
I had to make a one-line fix to a source file inside the "vmnet.tar" file
for building the vmnet module.
With the fix, VMWare's scripts throw off a lot of what seem to be
irrelevant error messages while configuring, but it runs flawlessly
once the "vmware-config.pl" script completes.
In the default installation, the source files for the vmnet module are in:
   /usr/lib/vmware/modules/source/vmnet.tar
Here's the patch:
------------------------------------------------------------------------
diff -ruN vmnet-only.orig/driver.c vmnet-only/driver.c
--- vmnet-only.orig/driver.c    2002-09-09 20:22:41.000000000 -0700
+++ vmnet-only/driver.c 2003-04-10 18:51:22.000000000 -0700
@@ -1485,7 +1485,7 @@
     
    len += sprintf(buf+len, "pids ");
  
-   for_each_task(p) {
+   for_each_process(p) {
       if (VNetProcessOwnsPort(p, port)) {
          len += sprintf(buf+len, "%d", p->pid);
          if (seen) {
------------------------------------------------------------------------
--
    Erich Stefan Boleyn     <erich@uruk.org>     
http://www.uruk.org/
"Reality is truly stranger than fiction; Probably why fiction is so popular"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/