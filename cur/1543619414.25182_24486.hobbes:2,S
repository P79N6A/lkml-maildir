Date: Wed, 30 Jan 2002 19:14:52 -0500 (EST)
From: Alexander Viro <>
Subject: Re: PROBLEM: ext2/mount - multiple mounts corrupts inodes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/30/416

On Wed, 30 Jan 2002, Andreas Dilger wrote:
> On Jan 30, 2002  15:07 -0800, Kris Urquhart wrote:
> > [1.] One line summary of the problem: 
> > A mount of an already mounted ext2 partition corrupts inodes if there have
> > been recent writes without an intervening sync.
> 
> This _should_ be handled OK by the kernel simply by not mounting the
> filesystem the second time.  If you try and mount it a second time it
> _should_ just do a "bind" mount instead of a real mount, I think.
Which is what actually happens.  I suspect that he ends up forgetting to
umount it...
Anyway, try to reproduce it on 2.4.16 or later and give the contents of
/proc/mounts before and after your script.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/