Date: Wed, 28 Apr 2004 14:21:17 +0400
From: Nikita Danilov <>
Subject: Re: File system compression, not at the block layer
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/28/61

JЖrn Engel writes:
 > On Tue, 27 April 2004 18:00:11 -0700, David Lang wrote:
 > > 
 > > to answer the fundamental question that was asked in this thread but not
 > > answered.
 > > 
 > > the reason why we want to compress at the block level instead of over the
 > > entire file is that sometimes we want to do random seeks into the middle
 > > of the file or replace a chunk in the middle of a file (edits, inserts,
 > > etc). by doing the compression in a block the worst that you have to do is
 > > to read that one block, decompress it and get your data out (or modify the
 > > block, compress it and put it back on disk). if your unit of compression
 > > is the entire file each of these options will require manipulating basicly
 > > the entire file (Ok, reads you can possibly stop after you found your
 > > data)
 > 
 > *IF* your unit of compression...
 > 
 > If that is the complete block device, you're stupid and deserve what
 > you get.  If it is the file, same thing.  No difference.
 > 
 > Do it at the file system level or don't do it at all.
File system where unit of disk space allocation is smaller than disk
block (i.e., several files can use portions of the same disk block) can
efficiently use various "units of compression": 100 bytes, device block
size, N-blocks, etc.
 > 
 > JЖrn
Nikita.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/