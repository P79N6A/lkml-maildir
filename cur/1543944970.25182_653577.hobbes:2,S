Date: Thu, 14 Feb 2008 08:32:44 -0500
From: Mathieu Desnoyers <>
Subject: Re: [PATCH] markers: Fix build for MODULES=n.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/14/131

* Paul Mundt (lethal@linux-sh.org) wrote:
>   CC      kernel/marker.o
> kernel/marker.c: In function 'marker_update_probes':
> kernel/marker.c:627: error: too few arguments to function 'module_update_markers'
> make[1]: *** [kernel/marker.o] Error 1
> make: *** [kernel] Error 2
> 
> module_update_markers() doesn't take any arguments, update the MODULES=n
> version of it to reflect that.
> 
Hi Paul, thanks for submitting this. Adrian-the-roadrunner has been
faster than you though. :) He already submitted this fix here :
http://lkml.org/lkml/2008/2/13/714
Mathieu
> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
> 
> ---
> 
>  include/linux/module.h |    3 +--
>  1 file changed, 1 insertion(+), 2 deletions(-)
> 
> diff --git a/include/linux/module.h b/include/linux/module.h
> index 330bec0..819c4e8 100644
> --- a/include/linux/module.h
> +++ b/include/linux/module.h
> @@ -567,8 +567,7 @@ static inline void print_modules(void)
>  {
>  }
> 
> -static inline void module_update_markers(struct module *probe_module,
> -		int *refcount)
> +static inline void module_update_markers(void)
>  {
>  }
> 
-- 
Mathieu Desnoyers
Computer Engineering Ph.D. Student, Ecole Polytechnique de Montreal
OpenPGP key fingerprint: 8CD5 52C3 8E3C 4140 715F  BA06 3F25 A8FE 3BAE 9A68