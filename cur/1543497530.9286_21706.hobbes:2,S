Date: Thu, 3 Jun 1999 00:27:26 -0400 (EDT)
From: George <>
Subject: Re: 2.2.9 hangs in truncate_inode_pages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/2/162

On Thu, 3 Jun 1999, Paul Barton-Davis wrote:
>i just want to note that there might be a slight bias on this list
>that makes it appear that this "total lockup" problem started in
>2.2.9; a result of many of its readers staying on the leading edge (as
>opposed to 2.3.X: the bleeding edge).
>
>i haven't moved up from 2.2.7 yet, and i strongly suspect that the
>total lockups i see at least once a day on my dual PII-450 with an
>adaptec 2940 SCSI adapter (on the MB) are the same thing as Thiery and
>others are reporting.
>
>so, if you start digging, don't start with 2.2.9.
Oh I know.  'stuck on TLB IPI wait' goes back to at least 2.2.0-pre6.  I
suspect much further but so far it's been elusive.
I could take a wild guess and say the total lockups and TLB IPI waits are
the same thing but the locks are on UP and the TLB IPI on SMP.  Problem is,
the IPI is supposed to be an interrupt and, unless lock_kernel() is getting
in the way, should get through anyway. Shrug.
Fortunately, I've never had a solid lockup that wasn't X's fault since
2.0.x, (with 2.1.x and 2.2.x included) and the TLB IPI wait is avoidable.
i586 SMP - multi-threaded application swapping does it for me every time.
	Amount of memory directly influences amount of swap needed before
	death.  Underclocking processors does nothing.  Running 'nosmp'
	worked without TLB IPI problem but 'noapic' didn't help at all.
-George Greer
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/