Date: Wed, 28 Jun 2006 22:31:24 -0400
From: Andy Gay <>
Subject: Re: USB driver for Sierra Wireless EM5625/MC5720 1xEVDO modules
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/28/490

On Wed, 2006-06-28 at 17:11 -0700, Jeremy Fitzhardinge wrote:
> Andy Gay wrote:
> > - these modules present 3 bulk EPs, the 2nd & 3rd can be used for
> > control & status monitoring while data transfer is in progress on the
> > 1st EP. This is useful (and necessary for my application) so we need to
> > increase the port count.
> > 
> Ooh, can you share the details of those EPs?
Probably not, but I'll check. The customer I'm developing for is a
Sierra OEM, so they're probably under an NDA.
The useful port is the second one, it talks a Sierra protocol called CnS
(control and status). You could google for that, I guess. Or ask Sierra
nicely :)
>   Is your application public?
> 
> > So what should I do next? I see a few possibilities, assuming anyone is
> > interested in this:
> >
> > - I could post a diff from Greg's driver. But I don't have hardware to
> > test whether my changes will break it for the other devices that it
> > supports;
> > 
> Well, it is specifically an airprime driver.  My card also presents 
> another two endpoints, but I don't know what to do with them, so I 
> haven't worried about them too much.  If they all talk the same thing, 
> then they may as well be in the same driver.
I'd think so too, but I can't test that my changes won't break things
for other cards. Just being cautious here...
> 
> Are you proposing adding some more protocol knowledge to airprime, or 
> just make those EPs appear as more serial ports?
They are just serial ports, there's nothing special the driver can or
should do with them. I just changed the driver so you can get to them.
The main change I made to Greg's driver is to fix the memory leak - it
leaks 16k per endpoint for each open(), that made it unusable on the
very limited memory embedded platform I'm developing for.
> 
> Thanks,
>     J
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/