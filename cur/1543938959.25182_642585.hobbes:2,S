Date: Thu, 24 Jan 2008 13:19:45 +0100
From: "Daniel Sp√•ng" <>
Subject: Re: [RFC][PATCH 3/8] mem_notify v5: introduce /dev/mem_notify new device (the core of this patch series)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/24/90

Hi KOSAKI,
On 1/24/08, KOSAKI Motohiro <kosaki.motohiro@jp.fujitsu.com> wrote:
> +#define PROC_WAKEUP_GUARD  (10*HZ)
[...]
> +       timeout = info->last_proc_notify + PROC_WAKEUP_GUARD;
If only one or a few processes are using the system I think 10 seconds
is a little long time to wait before they get the notification again.
Can we decrease this value? Or make it configurable under /proc? Or
make it lower with fewer users? Something like:
timeout = info->last_proc_notify + min(mem_notify_users, PROC_WAKEUP_GUARD);
Cheers,
Daniel