Date: Thu, 12 Oct 2000 12:56:09 +0100 (BST)
From: Tigran Aivazian <>
Subject: Re: test10-pre1 problems on 4-way SuperServer8050
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/12/29

On Thu, 12 Oct 2000, Tigran Aivazian wrote:
> On Thu, 12 Oct 2000, Tigran Aivazian wrote:
> 
> > On Wed, 11 Oct 2000, Linus Torvalds wrote:
> > > What happens if MTRR support is entirely disabled?
> > 
> > If MTRR support is disabled then both eepro100 interfaces work fine but
> > the system is still 40x slower. This is the entire bootlog of
> > 2.4.0-test10-pre1 + lspci-vvx + /proc/interrupts + /proc/iomem + ifconfig
> > output
> 
> one more finding -- deleting the strange 64M mtrr entry enabled the second
> eepro100 interface!
> 
> # cat /proc/mtrr
> reg00: base=0x00100000000 (    4096MB), size=    2048MB: write-combining,
> count=1
> reg02: base=0xfc000000 (4032MB), size=  64MB: uncachable, count=1
> # 
> # echo "disable=2" > /proc/mtrr 
> # cat /proc/mtrr
> reg00: base=0x00100000000 (    4096MB), size=    2048MB: write-combining,
> count=1
> 
> (now down and up the interface and it works. Both eepro100 work)
one correction -- it was "down and up the interface" that did the trick
and not deleting the 64M mtrr entry. I.e. the eepro100 problem is better
formulated as "when highmem is enabled one or both eepro100 interfaces
sometimes do not work from boot but downing/upping the interface usually
helps". When highmem is disabled, so far, _both_ eepro100 interfaces
_always_ work on boot.
Regards,
Tigran
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/