Date: Thu, 09 Sep 2004 09:16:08 -0500
From: Ray Bryant <>
Subject: Re: swapping and the value of /proc/sys/vm/swappiness
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/9/98

William Lee Irwin III wrote:
> 
> Please log periodic snapshots of /proc/vmstat during runs on kernel
> versions before and after major behavioral shifts.
> 
> 
> -- wli
>
wli,
Attached is the output you requested for two kernel versions: 2.6.8.1-mm4 and 
2.6.9-rc1-mm3 + the nrmap_patch (that patch didn't make much difference so 
this should be good enough for comparison purposes, and it was the kernel I 
had built.)
Because there are so many parameters in /proc/vmstat, I had to split the
output up (more or less arbitarily) into three files to get something you 
could actually look at with an editor.  Even then it requires 100 columns or so.
Data in the files was observed every 10 s for the duration of the runs.
The first line of each file is a summary line, the next lines are incremental,
except for the nr_* stats, which are assumed to be absolute numbers.
Corresponding lines of each of the three output files per run were printed.
at the same time.
Data file names in the attached archive are of the form:
vmstat.$s.$t.$f.$v
where s=swappiness, here 0, 60, or 100.
       t=trial       here always 5
       f=file        1, 2, or 3 for the three output files per run
       v=version     kernel version
There is a script, compare.csh in the archive that can be run to edit 
corresponding files for each version.  It cycles through the list examining 
corresponding files foreach swapiness level and foreach output file.
The benchmark output for kernel version v is in reduce.out.$v, for reference.
I can post the perl script that was used to create this output, if there is 
interest.
-- 
Best Regards,
Ray
-----------------------------------------------
                   Ray Bryant
512-453-9679 (work)         512-507-7807 (cell)
raybry@sgi.com             raybry@austin.rr.com
The box said: "Requires Windows 98 or better",
            so I installed Linux.
-----------------------------------------------
[unhandled content-type:application/x-bzip2]