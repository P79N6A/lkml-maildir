Date: Fri, 18 Oct 2002 12:26:17 +0100
From: Joe Thornber <>
Subject: Re: block allocators and LVMs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/18/78

Christophe,
On Thu, Oct 17, 2002 at 10:30:05PM +0200, christophe varoqui wrote:
> hello,
> 
> reading the recent threads about FS block allocator algorithms and about 
> possible integration of a new volume management framework, I wondered if 
> the role of intelligent block allocators and/or online FS defragmentation  
> could be replaced by a block remapper in the LVM subsystem.
Crazy idea :)
I think this is best left to the fs to handle, mainly because the
blocks that the fs deals with are so small.  You would end up with
*huge* remapping tables.  Also you would need to spend a lot of time
collecting the information neccessary calculate the remapping, to do
it properly you'd need to record an ordering of data acccesses not
just io counts (ie. so you could build a Markov chain).
> Am I completely out of my mind ?
Not completely, I think the statistics could be extremely valuable for
gauging the performance of different filesystems.  It would be very
easy to write a little dm target that just records all the information
in a spare block device, this target could then be layered over any
block device for testing.
- Joe
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/