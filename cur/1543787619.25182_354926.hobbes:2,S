Date: Fri, 30 Sep 2005 21:27:00 +0200
From: Peter Zijlstra <>
Subject: Re: [PATCH 3/7] CART - an advanced page replacement policy
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/30/189

On Fri, 2005-09-30 at 21:16 +0200, Peter Zijlstra wrote:
> On Fri, 2005-09-30 at 15:44 -0300, Marcelo wrote:
> > Hi Peter,
> > 
> > On Thu, Sep 29, 2005 at 08:08:48PM +0200, Peter Zijlstra wrote:
> > > The flesh of the CART implementation. Again comments in the file should be
> > > clear.
> > 
> > Having per-zone "B1" target accounted at fault-time instead of a global target
> > strikes me.
> > 
> > The ARC algorithm adjusts the B1 target based on the fact that being-faulted-pages
> > were removed from the same memory region where such pages will reside.
> > 
> > The per-zone "B1" target as you implement it means that the B1 target accounting
> > happens for the zone in which the page for the faulting data has been allocated,
> > _not_ on the zone from which the data has been evicted. Seems quite unfair.
> > 
> > So for example, if a page gets removed from the HighMem zone while in the 
> > B1 list, and the same data gets faulted in later on a page from the normal
> > zone, Normal will have its "B1" target erroneously increased.
> > 
> > A global inactive target scaled to the zone size would get rid of that problem.
> 
> Good, good, I'll think this though, this probably means the other
> targets: 'p' and 'r' would similarly benefit.
I'm not thinking straigt, I should get back on my feet before I start
touching that code.
Thanks for the feedsback.
Peter
-- 
Peter Zijlstra <a.p.zijlstra@chello.nl>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/