Date: Tue, 27 Mar 2007 19:10:17 +0900
From: Tejun Heo <>
Subject: Re: Why is NCQ enabled by default by libata? (2.6.20)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/27/85

Justin Piszcz wrote:
> Checking the benchmarks on various hardware websites, anandtech, 
> hothardware and others, they generally all come to the same conclusion 
> if there is only 1 thread using I/O (single user system) then NCQ off is 
> the best.
Are they testing using Linux?  I/O performance is highly dependent on 
workload and scheduling, so result on windows wouldn't be very useful. 
Posting some links here would be nice.
> I see 30-50MB/s faster speeds with NCQ turned off on two 
> different SW RAID5s.
You're testing raptors, right?  If the performance drop is that drastic 
and consistent over different workloads, we'll have to disable NCQ for 
raptors.  I'm not sure about other drives.  Care to perform tests over 
more popular ones (e.g. recent seagates or 7200rpm wds)?
-- 
tejun
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/