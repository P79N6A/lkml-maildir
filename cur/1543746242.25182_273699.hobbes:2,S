Date: 23 Nov 2004 01:09:09 -0500
From: Len Brown <>
Subject: Re: Fw: ACPI bug causes cd-rom lock-ups (2.6.10-rc2)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/23/11

> ACPI: PCI Interrupt Link [LNK1] (IRQs 3 4 5 6 7 10 11 12 14 15) *9
This is a common BIOS bug.  It advertises that LNK1 is presently set
to IRQ9, but tells us that IRQ9 is actually illegal for that link;
so Linus has to choose a legal one. (no, we can't just leave it there,
as that breaks other systems).  But apparently we choose poorly.
> Probing IDE interface ide1...
> hdc: ASUS CD-S500/A, ATAPI CD/DVD-ROM drive
> ide1 at 0x170-0x177,0x376 on irq 15
IDE probes out and grabs its hard-coded IRQ15.
> ACPI: PCI Interrupt Link [LNK1] enabled at IRQ 15
> PCI: setting IRQ 15 as level-triggered
> ACPI: PCI interrupt 0000:00:1f.4[C] -> GSI 15 (level, low) -> IRQ 15
> uhci_hcd 0000:00:1f.4: Intel Corp. 82801BA/BAM USB (Hub #2)
Here we assign LNK1 to IRQ15 for the benefit of USB,
which, of course, kills your IDE on IRQ 15.  This
is a Linux bug -- but one I thought we fixed some time back.
> hdc: lost interrupt
----------
I'm surprised that you're just seeing this now in 2.6.10.
Did 2.6.9 work correctly?  If so, can you send me the
2.6.9 dmesg?
Any difference with CONFIG_PNP=n?
thanks,
-Len
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/