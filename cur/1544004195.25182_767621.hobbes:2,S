Date: Tue, 11 Nov 2008 13:07:15 -0500 (EST)
From: Len Brown <>
Subject: Re: [PATCH -next] Hibernate: Take overlapping zones into account
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/11/11/263

On Sat, 8 Nov 2008, Rafael J. Wysocki wrote:
> Hi Len,
> 
> Please add this patch to the suspend branch.
Please re-send a checkpatch clean version.
Also, the comments on this patch (and the next) are mal-formed.
The commit message must be before the first "---" and the throw-away
comments must be after it, rather thant the reverse.
I ask others to get this right, so it seems most fair that I do the
same for you -- otherwise your next patch will have the same problems
and others will follow your example of not sending the "perfect patch"
thanks,
-Len
> ---
> From: Rafael J. Wysocki <rjw@sisk.pl>
> Subject: Hibernate: Take overlapping zones into account
> 
> It has been requested to make hibernation work with memory
> hotplugging enabled and for this purpose the hibernation code has to
> be reworked to take the possible overlapping of zones into account.
> Thus, rework the hibernation memory bitmaps code to prevent
> duplication of PFNs from occuring and add checks to make sure that
> one page frame will not be marked as saveable many times.
> 
> Additionally, use list.h lists instead of open-coded lists to
> implement the memory bitmaps.
> 
> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
> Cc: Pavel Machek <pavel@suse.cz>
> Cc: Dave Hansen <dave@linux.vnet.ibm.com>
> Cc: Andy Whitcroft <apw@shadowen.org>
> ---
>  kernel/power/snapshot.c |  331 ++++++++++++++++++++++++------------------------
>  1 file changed, 169 insertions(+), 162 deletions(-)
> 
> Index: linux-2.6/kernel/power/snapshot.c
> ===================================================================
> --- linux-2.6.orig/kernel/power/snapshot.c
> +++ linux-2.6/kernel/power/snapshot.c
> @@ -25,6 +25,7 @@