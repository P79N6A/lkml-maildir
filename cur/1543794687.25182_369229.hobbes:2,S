Date: Mon, 21 Nov 2005 14:18:16 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH 4/5] Centralise NO_IRQ definition
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/21/313

On Tue, 22 Nov 2005, Benjamin Herrenschmidt wrote:
> 
> And ? I really don't agree that just because 0 "looks kewl", we should
> enforce that and add some dodgy remapping all over the place.
That's not at all what I'm saying.
THE "BAD IRQ" MAPPING IS REQUIRED REGARDLESS.
If we make PCI_NO_IRQ be -1, then PC's need to remap 0 to that value. In 
pretty much _exactly_ the same places that I suggest that the ppc code 
should do it.
And there are several thousand times more PC's than there are other 
things.
Got it?
Everybody who argues for PCI_NO_IRQ being -1 is arguing for all the same 
things I argue that the ppc port should do, except they _also_ argue that 
we should break now-working setups.
Is that so hard to understand? -1 is no different from 0, except it is in 
many way sprovably _inferior_. Both need some mapping. But the -1 case 
needs more of it, _and_ will result in a inferior end result (because the 
nice "!dev->pci" thing suddenly doesn't work).
See? You're arguing for a technically inferior solution. 
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/