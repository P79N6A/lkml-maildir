Date: Thu, 01 Jun 2006 02:18:20 -0700
From: David Liontooth <>
Subject: USB devices fail unnecessarily on unpowered hubs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/1/64

Starting with 2.6.16, some USB devices fail unnecessarily on unpowered
hubs. Alan Stern explains,
"The idea is that the kernel now keeps track of USB power budgets.  When a 
bus-powered device requires more current than its upstream hub is capable 
of providing, the kernel will not configure it.
Computers' USB ports are capable of providing a full 500 mA, so devices
plugged directly into the computer will work okay.  However unpowered hubs
can provide only 100 mA to each port.  Some devices require (or claim they
require) more current than that.  As a result, they don't get configured
when plugged into an unpowered hub."
http://www.mail-archive.com/linux-usb-devel@lists.sourceforge.net/msg43480.html
This is generating a lot of grief and appears to be unnecessarily
strict. Common USB sticks with a MaxPower value just above 100mA, for
instance, typically work fine on unpowered hubs supplying 100mA.
Is a more user-friendly solution possible? Could the shortfall
information be passed to udev, which would allow rules to be written per
device?
David
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/