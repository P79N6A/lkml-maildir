Date: 29 May 1999 20:35:53 +0400
From: (Eugene Crosser)
Subject: 2.2.10-pre4: still oops rmmod-ing ide-mod
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/30/103

In 2.2.10-pre4 "rmmod ide-mod" still causes Oops (intoduced in 2.2.9?)
After that, IDE is not usable, and "lsmod" does not work.  Follows
"ksymoops" log:
===========
Options used: -V (default)
              -o /lib/modules/2.2.10/ (default)
              -k /proc/ksyms (default)
              -l /proc/modules (default)
              -m /usr/src/linux/System.map (default)
              -c 1 (default)
You did not tell me where to find symbol information.  I will assume
that the log matches the kernel and modules that are running right now
and I'll use the default options above for symbol resolution.
If the current kernel and/or modules do not match the log, you can get
more accurate output by telling me the kernel version and where to find
map, modules, ksyms etc.  ksymoops -h explains the options.
May 29 17:15:00 pccross kernel: Unable to handle kernel NULL pointer dereference at virtual address 00000004
May 29 17:15:00 pccross kernel: current->tss.cr3 = 01d75000, ^Sr3 = 01d75000
May 29 17:15:00 pccross kernel: *pde = 00000000
May 29 17:15:00 pccross kernel: Oops: 0000
May 29 17:15:00 pccross kernel: CPU:    1
May 29 17:15:00 pccross kernel: EIP:    0010:[<c482126b>]
May 29 17:15:00 pccross kernel: EFLAGS: 00010212
May 29 17:15:00 pccross kernel: eax: 00000000   ebx: 00000000   ecx: 00000040   edx: 00000803
May 29 17:15:00 pccross kernel: esi: c48271ac   edi: 00000301   ebp: 00000001   esp: c1c97f68
May 29 17:15:00 pccross kernel: ds: 0018   es: 0018   ss: 0018
May 29 17:15:00 pccross kernel: Process rmmod (pid: 201, process nr: 36, stackpage=c1c97000)
May 29 17:15:00 pccross kernel: Stack: 00000001 c1c96000 00000040 00000001 00000000 c4827120 c482311a 00000000 
May 29 17:15:00 pccross kernel:        c481f000 c481f000 c0117340 c481f000 c4818000 00000001 c0116998 c481f000 
May 29 17:15:00 pccross kernel:        00000001 c1c96000 00000002 0804d18d bffffdc4 c1c97fc4 c0107a54 00000000 
May 29 17:15:00 pccross kernel: Call Trace: [<c4827120>] [<c482311a>] [<c481f000>] [<c481f000>] [<c0117340>] [<c481f000>] [<c4818000>] 
May 29 17:15:00 pccross kernel:        [<c0116998>] [<c481f000>] [<c0107a54>] 
May 29 17:15:00 pccross kernel: Code: 83 7c d8 04 00 7e 3c 8b 4c 24 1c 31 c0 8a 81 2c 01 00 00 66 
>>EIP: c482126b <mod_firmware_load+aceb/14acc>
Trace: c4827120 <mod_firmware_load+10ba0/14acc>
Trace: c482311a <mod_firmware_load+cb9a/14acc>
Trace: c481f000 <mod_firmware_load+8a80/14acc>
Trace: c481f000 <mod_firmware_load+8a80/14acc>
Trace: c0117340 <free_module+20/94>
Trace: c481f000 <mod_firmware_load+8a80/14acc>
Trace: c4818000 <mod_firmware_load+1a80/14acc>
Trace: c0116998 <sys_delete_module+1a8/1f4>
Code:  c482126b <mod_firmware_load+aceb/14acc> 00000000 <_EIP>: <===
Code:  c482126b <mod_firmware_load+aceb/14acc>    0:    83 7c d8 04 00  cmpl   $0x0,0x4(%eax,%ebx,8) <===
Code:  c4821270 <mod_firmware_load+acf0/14acc>    5:    7e 3c           jle     c48212ae <mod_firmware_load+ad2e/14acc>
Code:  c4821272 <mod_firmware_load+acf2/14acc>    7:    8b 4c 24 1c     movl   0x1c(%esp,1),%ecx
Code:  c4821276 <mod_firmware_load+acf6/14acc>    b:    31 c0           xorl   %eax,%eax
Code:  c4821278 <mod_firmware_load+acf8/14acc>    d:    8a 81 2c 01 00  movb   0x12c(%ecx),%al
Code:  c482127d <mod_firmware_load+acfd/14acc>   12:    00 
Code:  c482127e <mod_firmware_load+acfe/14acc>   13:    66 00 00        addb   %al,(%eax)
4 warnings issued.  Results may not be reliable.
===========
Kernel compiled with egcs-1.1.2.
Eugene
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/