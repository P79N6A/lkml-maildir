Date: Tue, 29 Aug 2000 15:09:01 -0600
From: Kevin Jones <>
Subject: Raid 1/upgrade to 2.2.16
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/29/62

Installed Redhat 6.2. Set up 6 md's as Raid 1 during installation going
across two 9 gig scsi drives.  Installation went perfectly. Decided to
upgrade to 2.2.16. Went through the regular steps to installing a kernel.
Included the Raid 1 support, SCSI support, and initrd support in xconfig.
Made the 2.2.16 kernel as "newlinux" in lilo. Copied initrd-2.2.14-5.0.img
to init-2.2.16.0.img for the ramdisk. Relinked System.map to the System.map
made by the make dep.  Relinked Linux in /usr/src to the new kernel area.
Now, all that being said, when I boot up the newlinux in lilo, I get this:
<cut>
Loading ncr53c8xx module
/lib/ncr53c8xx.o: kernel-module version mismatch
         /lib/ncr53c8xx.o was compiled for kernel version 2.2.14-5.0
         while this kernel version is 2.2.16.
Loading raid1 module
/lib/raid1.o: kernel-module version mismatch
         /lib/raid1.o was compiled for kernel version 2.2.14-5.0
         while this kernel version is 2.2.16.
Opps! Unable to load md0
KERNEL PANIC: Unable to load root filesystem at 09:00
<end cut>
I have tried a few things to "attempt" and patch the raid and scsi drivers,
but nothing seems to work.  Have a missed a step somewhere or are there new
drivers/patches I should be looking for?  I have tried installing
raidtools-19990824-0.90, but to no avail.
The Software-Raid-HOWTO does explain somethings, however it is based upon
making the raid from scratch once you are logged into the system on regular
sdaX or hdaX partitions. Do I have to set raid up in this manner in order to
get this working?
Sorry for posting this to 3 different mailing lists, but this seems to
relate to all three.
                    \\|//
                    (o^o)
+-+-+-+-+-+-+-+-oOOo-(_)-oOOo-+-+-+-+-+--+-+
                 Kevin C Jones
  System Administrator - NOC (Engineering)
 Shaw Cablesystems G.P.  kevin.jones@shaw.ca
  Voice:(403)303-4812    Fax:(403)750-4504
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/