Date: Fri, 05 Dec 2008 09:51:57 +0100
From: Peter Zijlstra <>
Subject: Re: [patch] make wake-affine a sysctl variable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/5/62

On Fri, 2008-12-05 at 00:44 -0800, Ken Chen wrote:
> On Thu, Dec 4, 2008 at 11:49 PM, Peter Zijlstra wrote:
> > This patch looks like utter rubbish, sorry.
> 
> Yeah, I think turning off wake-affine completely is a lot cleaner and
> is a preferred solution.  I proposed sysctl variable earlier so that
> it can give people a knob to adjust and is more flexible.
Hehe, right, I guess I deserved that.
What I meant was, sysctl_sched_features is a horrid user interface. If
you want to expose it as a sysctl - which I still don't think we want -
create a new one that goes on/off, like sysctl_sched_wake_affine.
Anyway, is this thing you're seeing the same as pgbench, if not, care to
cook a benchmark? I really think the 1:N waker issue is solvable (not
saying its easy though).