Date: Tue, 28 Dec 2004 22:12:31 +0000
From: Alan Cox <>
Subject: Re: PATCH: 2.6.10 - Incorrect return from PCI ide controller
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/28/123

On Maw, 2004-12-28 at 20:55, Francois Romieu wrote:
> Alan Cox <alan@lxorguk.ukuu.org.uk> :
> > This fixes the IT8172 driver. There are other drivers with this bug (eg
> > generic) but the -ac IDE is sufficiently diverged from base that someone
> > else needs to generate/test the more divergent cases.
> 
> ide_setup_pci_device{s} will always claim that everything is fine even
> though do_ide_setup_pci_device() has some opportunity to fail.
> 
> Should it matter as well ?
Probably. It's less pressing because the bad cases are those where
->init_one() errors with a positive return and we steal the device. The
nasty one only showed up in -ac because it has a generic driver that can
be told to capture all other IDE devices that are unknown, and it ran
off with all the SATA devices until the bug was fixed 8)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/