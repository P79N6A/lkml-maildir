Date: Wed, 24 Dec 2008 17:01:01 +0800
From: "Jike Song" <>
Subject: Re: [PATCH] PCI/MSI: bugfix/utilize for msi_capability_init()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/24/15

On Wed, Dec 24, 2008 at 4:27 PM, Hidetoshi Seto
<seto.hidetoshi@jp.fujitsu.com> wrote:
> This patch fix a following bug and does a cleanup.
>
> bug:
>        commit 5993760f7fc75b77e4701f1e56dc84c0d6cf18d5
>        had a wrong change (since is_64 is boolean[0|1]):
>
> -               pci_write_config_dword(dev,
> -                       msi_mask_bits_reg(pos, is_64bit_address(control)),
> -                       maskbits);
> +               pci_write_config_dword(dev, entry->msi_attrib.is_64, maskbits);
>
Yes, really a nasty bug. I'm feeling guilty...
Should this fix hit 2.6.28 release?  I CCed Jesse for his point.
-- 
Thanks,
Jike