Date: Fri, 25 Feb 2005 12:26:54 +0000
From: Paulo Marques <>
Subject: Re: Inconsistent kallsyms data (since 2.6.11-rc3 or so)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/2/25/55

Geert Uytterhoeven wrote:
> One of my m68k configs has been giving
> 
> | Inconsistent kallsyms data
> | Try setting CONFIG_KALLSYMS_EXTRA_PASS
> 
> since 2.6.11-rc3 or so. Setting CONFIG_KALLSYMS_EXTRA_PASS, or applying Keith
> Owen's patch to fix an issue for SH
> (
http://seclists.org/lists/linux-kernel/2005/Jan/0017.html
) doesn't help.
> The diffs between the human-readable tables (as generated by Keith's
> kallsyms_uncompress.pl) show lots of changes (see below).
There is something weird going on here.
For starters all the symbols that move are of type either '?'(unknown 
type) or 'b' (local bss).
 From the first to the second run a few more symbols pop up, and that 
moves symbols around. From a quick visual inspection I spotted these:
> +b log_start 	PTR	0x1b72c8
> +b con_start 	PTR	0x1b72cc
> +b log_end 	PTR	0x1b72d0
There might be a few more, but these would be enough to give problems.
Although marked as 'b' type, their addresses are between _sinittext and 
_einittext. These are actualy "local bss", static vars defined in printk.c.
So the question is: why don't they appear on the first link phase on m68k?
-- 
Paulo Marques - www.grupopie.com
All that is necessary for the triumph of evil is that good men do nothing.
Edmund Burke (1729 - 1797)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/