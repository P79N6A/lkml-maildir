Date: Thu, 24 Feb 2000 07:12:56 -0500 (EST)
From: jamal <>
Subject: Re: APIC and some timers stuff
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/24/59

>We are trying to implement Differentiated Services on Linux. In order to
>develop a DiffServ router, we need really precise oneshoot timers with a
>resolution of 0.5 - 1us, something that would do "call this function in
>67 us +/- 1 us".
>I had a look on some "software" solutions (utime, libvtimer, rtai), but
>they do not seem to be able to guarantee the precision we need. So I am
>looking on some hardware solutions.
Hardware solutions which generate interupts will be your best bet.
I am not sure how well you can scale though. It might end up in a livelock
if you have too many timers installed or even one that is periodic with a
very high frequency.
Look at the current QoS/diffserv implementation in newer 2.3 to see some
of the tricks played. 
For example you can use the Pentium TSC, not to fire timers but rather to
compute time differences in order to get more precise values for
activities such as shaping. On newer motherboards, you can use UP APICS
(at least this is an option in 2.3). If you come up with better precision
measurement techniques using the APIC please keep the linux-diffserv list
(
http://lrcwww.epfl.ch/linux-diffserv/
) informed.
cheers,
jamal
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/