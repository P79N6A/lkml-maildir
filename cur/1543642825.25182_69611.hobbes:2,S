Date: 10 Sep 2002 19:48:26 +0100
From: Alan Cox <>
Subject: RE: [RFC] Multi-path IO in 2.5/2.6 ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/10/23

On Tue, 2002-09-10 at 17:34, Cameron, Steve wrote:
> 1. Install normally to disk-A, remove disk-A from the system.
> 2. Install normally to disk-B.  Install disk-A into the system.
>    and boot from disk-B.  (now I can safely copy from disk-A, which has
>    no actively mounted partitions.)
> 3.  Create multipath devices on disk-C, one for each partition.
>    The partitions are bigger than those on disk-A, to allow for md to
> 	put its data at the end.
> 4.  Copy, (using dd) the partitions from disk-A to the md devices.
> 
> 5.  mount the md devices, and chroot to the md-root device.
>     Try to figure out how to run lilo to make booting from disk-C possible
>     also, initrd modifications to insmod multipath.o, mount the md devices,
>     etc.  This part, (making lilo work) I never was able to figure out.
> 
>   Would boot up and say "LI" then stop... or various other problems
>   that I can't quite recall now.  (this was a couple weeks ago)
Sounds like geometry mismatches. You need to be sure that the BIOS disk
mappings are constant and that the geometries match. The former can be a
big problem. If your failed drive falls off the scsi bus scan then your
BIOS disk 0x80 becomes the second disk not the first and life starts to
go down hill from that moment.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/