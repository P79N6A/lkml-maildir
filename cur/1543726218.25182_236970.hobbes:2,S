Date: Wed, 28 Jul 2004 17:00:16 -0400
From: Andreas Dilger <>
Subject: Re: ext3 and SPEC SFS Run rules.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/28/243

On Jul 26, 2004  10:18 +0100, Tigran Aivazian wrote:
> I think the important part of rule 1. saying "server adheres to the 
> protocol" is this bit from rfc1813:
> 
>    The following data modifying procedures are
>    synchronous: WRITE (with stable flag set to FILE_SYNC), CREATE,
>    MKDIR, SYMLINK, MKNOD, REMOVE, RMDIR, RENAME, LINK, and COMMIT.
> 
> E.g. if a client had a successful SYMLINK and the server crashed, the 
> client is not going to discover on the next reboot (of the server) that 
> the symlink is somehow disappeared...
Just an FYI - if you are running a heavy sync load like a sync NFS
server you may want to consider running a large external journal for
performance.  This means your journal data writes are always sequential
and to a different disk than the main filesystem.
Cheers, Andreas
--
Andreas Dilger
http://sourceforge.net/projects/ext2resize/
http://members.shaw.ca/adilger/
             
http://members.shaw.ca/golinux/
[unhandled content-type:application/pgp-signature]