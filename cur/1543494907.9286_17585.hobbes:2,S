Date: Thu, 6 May 1999 13:27:34 -0400 (EDT)
From: Greg Zornetzer <>
Subject: Re: Linux can't stay up for more than an hour?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/6/196

On Wed, 5 May 1999, Ben 'The Con Man' Kahn wrote:
> 
> 	I'm hammering a Linux machine by placing a high volume
> (1,000,000 hits/day, 500,000 CGI hits/day) web site on it.  The box can
> certainly handle the traffic -- it's a dual Pentium II-400 machine running
> on a network with plenty of bandwidth.  Yet it dies constantly.  I'll
> provide as much information as I can in case someone can help point me in
> the right direction.
> 
> Kernel: 2.2.6 with SMP
> Memory: 128MB
> Disks: 9Gig local, 12Gig remote NFS from Irix 6.5.2 and locking on.
> knfsd: 981204-1
what network card are you using?  there is a subtle problem that high
traffic (multiple flood-pings) causes with 3c509 and etherexpress's
(someone posted a patch for the etherexpress driver) only under SMP.
Can you try running the machine with a uniprocessor kernel?
> 
> 	The machine dies so hard that the screen goes black and does
> NOTHING.  Nothing on the screen, no keyboard input is accepted, no network
> access is accepted.  When we recycle the machine, it usually won't restart
> because of file corruption and we need to get someone to the box and run
> fsck on it.  
> 
> 	We tried just recently to put this on a different Linux box.  We
> have the exact same software configuration on this other box, but it's a
> single processor AMD-K6 333.  This machine can't handle the load, and
> eventually dies in the same way.  (As it dies, loads are 80+.)
Are you sure it's the same way?  Does the first computer die with a high
load also?
Greg Zornetzer - gaz+@andrew.cmu.edu
"Light shines brightest in the darkest night"
http://www.contrib.andrew.cmu.edu/~gaz
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/