Date: Wed, 11 Oct 2000 15:03:21 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: test10-pre1 problems on 4-way SuperServer8050
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/11/106

On Wed, 11 Oct 2000, Rik van Riel wrote:
> On Wed, 11 Oct 2000, Tigran Aivazian wrote:
> > > On Wed, 11 Oct 2000, Rik van Riel wrote:
> > > > Could you send me the backtrace of one of the cases where
> > > > you hit the bug ?
> > 
> > just to add -- I was following Alan Cox's suggestion of
> > incrementing "mem=N" and finding the value where the system
> > stops working normally. It was ok as high as "mem=3096M" but
> > then I realized that I was also using Zoltan's big-mtrr patch at
> > the same time so I will retest the whole thing without it...
> > tomorrow.
> > 
> > Just to clarify - the problem _does_ show up without Zoltan's
> > patch but my "mem=N" tests were done with it so those findings
> > are not really proving much. I need to redo them with vanilla
> > kernel.
> 
> Interesting, so up to 3GB works just fine with the new
> VM and above that you can trigger all kinds of funny
> errors ?
I bet that the performance thing at least is due to MTRR issues.
Basically, if Tigran ends up using memory that is non-cached, a 30-40
times perfomance degradation is not just explainable, it's expected. 
Also, the eepro100 will not work correctly if its PCI space is set to be
cacheable.
What happens if MTRR support is entirely disabled? Make it print out what
the BIOS set up, nothing more. 
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/