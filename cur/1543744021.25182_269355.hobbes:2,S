Date: Mon, 8 Nov 2004 14:27:31 -0200
From: Marcelo Tosatti <>
Subject: Re: [PATCH] Remove OOM killer from try_to_free_pages / all_unreclaimable braindamage
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/8/213

On Fri, Nov 05, 2004 at 06:01:18PM -0200, Marcelo Tosatti wrote:
> While doing this, I noticed that kswapd will happily go to sleep 
> if all zones have all_unreclaimable set. I bet this is the reason 
> for the page allocation failures we are seeing. So the patch 
> also makes balance_pgdat() NOT return and go to "loop_again" 
> instead in case of page shortage - even if all_unreclaimable is set.
> 
> Basically the "loop_again" logic IS NOT WORKING! 
Wrong, the loop_again logic is working, all_zones_ok will be
set when DEF_PRIORITY = 0. 
So the page allocation failures are happening for some other 
reason(s).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/