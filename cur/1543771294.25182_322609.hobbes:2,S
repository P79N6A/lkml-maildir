Date: Thu, 02 Jun 2005 09:18:04 +0100
From: Ian Campbell <>
Subject: deactivating PXA255 watchdog
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/2/39

Hi Wim,
I think you are the current "watchdog guy", although watchdog doesn't
have a MAINTAINERS entry so I'm looking at bk/lkml history etc and might
be mistaken...
I wrote to the the linux-arm-kernel mailing list recently with a query
because the sa1100_wdt code supports the writing 'V' to deactivate the
watchdog thing, but unfortunately once armed the hardware cannot be
deactivated. 
I was going to produce a patch to remove the 'V' support and it was
suggested by Russell that I should ask for your opinion. Do you have a
preference with regards to offering a warning or error etc if a 'V' is
written?
My original message is below. I have had confirmation that the SA1100
has the same behaviour as PXA2xx from Nico.
Ian.
> The code in drivers/char/watchdog/sa1100_wdt.c has support for the
> standard write a 'V' for a safe shutdown semantics, which clears the
> OIER[E3] bit.
> 
> However, it seems that even if this bit is clear the watchdog reset will
> still occur because OWER[WME] is set (and cannot be cleared).
> 
> Removing this support (perhaps with a warning/error or something) would
> seem to make sense but I wanted to check that the SA1100 behaviour was
> the same since they share the driver before I submitted anything.
-- 
Ian Campbell, Senior Design Engineer
                                        Web: 
http://www.arcom.com
Arcom, Clifton Road,                    Direct: +44 (0)1223 403 465
Cambridge CB1 7EA, United Kingdom       Phone:  +44 (0)1223 411 200
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/