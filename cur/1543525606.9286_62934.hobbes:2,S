Date: Sun, 13 Feb 2000 10:43:37 +0100
From: Sébastien Godard <>
Subject: [PATCH] - Improved disk accounting support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/13/30

Hi all,
Until now, Linux has no real disk accounting support. The 'page' field in
/proc/stat counts the number of calls made to make_request, which is almost
useless since the request size depends on the device.
Attached is a small (and simple) patch (iopatch-2.2.14.gz), made against
kernel 2.2.14, which counts the number of _kilobytes_ read from or written to
disks.
It adds two new fields in /proc/stat, 'disk_pgin' and 'disk_pgout':
 * it supports the first four devices as the other 'disk_*' fields in
/proc/stat do,
 * it does _not_ break existing programs,
 * I have successfully tested it for a few months on various 2.2.x kernels.
Ok, now give it a try and tell me if it may be included in the mainstream
kernels.
Please CC your answers since I am not subscribed to the list...
--
Sébastien Godard <sebastien.godard@wanadoo.fr>
Unix _is_ user friendly,
but it is just selective about who its friends are![unhandled content-type:application/x-gzip]