Date: Tue, 15 Nov 2005 00:00:55 -0800
From: Stephane Eranian <>
Subject: Re: + perfmon2-reserve-system-calls.patch added to -mm tree
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/15/33

Andrew,
On Mon, Nov 14, 2005 at 05:12:26PM -0800, Andrew Morton wrote:
> aargh.  Any time anyone dinks with the syscall tables I have tons of fun
> fixing up rejects.  It doesn't help that both Stephane and Christoph's
> patches were fairly broken.
> 
> Rules:
> 
> a) Keep unistd.h and the syscall tables in sync.
> 
> b) Keep ppc32 and powerpc[64] in sync
> 
> c) Add prototypes to syscalls.h (When the implementation goes in -
>    obviously not relevant when we're just reserving syscall slots)
> 
> d) Some architectures have multiple syscall tables.  Stephane, you
>    missed arch/ia64/ia32/ia32_entry.S, for example.  But then, that looks
>    to be seriously out of date anyway.  No idea what's going on there.
> 
This one corresponds to the system call table for X86 binaries running
on Linux/ia64. This is used in combination with the hardware emulation
in the processor. This is being replaced by full user level translation
by Intel's IA32el libraries. The x86 binary is translated to IA-64 native
code in user mode and then it makes IA-64 system calls. As such, the IA-32
syscall emulation table is becoming obsolete as people upgrade to newer 
Linux distributions using IA32el. Tony correct me if I missed something.
> e) review your work carefully.  Grep the tree for, say, `getxattr' (or
>    any other syscall name which is unique-looking and which you expect all
>    architectures to implement).
> 
> Anyway, I have a shower of fixup patches here.   Hopefully it all landed OK.
I apologize for generating some extra work for you. I saw you fixed the powerpc
request for those two extra syscalls. Thanks.
-- 
-Stephane
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/