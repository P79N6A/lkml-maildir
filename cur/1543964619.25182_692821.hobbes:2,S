Date: Thu, 15 May 2008 00:15:02 +0200
From: Andi Kleen <>
Subject: Re: [announce] "kill the Big Kernel Lock (BKL)" tree
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/14/468

Alan Cox <alan@lxorguk.ukuu.org.uk> writes:
> Out of amusement I took the watchdog drivers and started looking for
> large cans of worms in the BKL drop arena.
>
> Here is a fun one for general discussion - right now driver probe
> functions request resources. We have no ordering on the requests so we
> have deadlocks if two drivers do resource requests for conflicting
> resources in reverse order.
What deadlocks? resource allocation normally doesn't block. So if there's
a ordering issue one of them will fail and should bail out.
That said if you have conflicting resources then failing is the correct
behavior anyways.
-Andi