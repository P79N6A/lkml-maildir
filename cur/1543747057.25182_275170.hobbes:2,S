Date: Sun, 28 Nov 2004 22:21:51 -0800
From: Andrew Morton <>
Subject: Re: [PATCH] use pid_alive in proc_pid_status
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/29/5

Manfred Spraul <manfred@colorfullife.com> wrote:
>
> +/**
>  + * pid_alive - check that a task structure is not stale
>  + * @p: Task structure to be checked.
>  + *
>  + * Test if a process is not yet dead (at most zombie state)
>  + * If pid_alive fails, then pointers within the task structure
>  + * can be stale and must not be dereferenced.
>  + */
>  +int pid_alive(struct task_struct *p)
>  +{
>  +	return p->pids[PIDTYPE_PID].nr != 0;
>  +}
Can we not simply test p->exit_state?  That's already done in quite a few
places and making things consistent would be nice.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/