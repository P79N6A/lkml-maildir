Date: Fri, 17 Dec 1999 14:52:38 -0500 (EST)
From: William Montgomery <>
Subject: Re: [patch] entry.S fix. [was: Re: scheduling problem?]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/17/134

On Fri, 17 Dec 1999, Ingo Molnar wrote:
> 
> there is a bug in this area though, we do not re-run the need_resched
> check _after_ running do_signal(). We always run the check even if
> user-space is interrupted, but the problem is that it has to be restarted
> after delivering a signal too. The preliminary fix for this against
> 2.3.34-pre1 is attached, does it solve your problems? [patch works here
> just fine]
the patch works great, it solves the problem I was describing, at
least in preliminary testing (about 3-4 hours now).
> 
> btw., this patch plus the hlt patch fixes the SysKonnect gigabit ethernet
> latency fluctuation i've noticed a couple of days ago - now latency over a
> real gigabit network is stable at 70 microseconds ... [it was fluctuating
> between 200 and 300 usecs before]
> 
My testing shows +/-500usec typical, +/-1msec max on a PIII 500MHz
using 2.2.13 UP kernel.  I will reduce my ktrace capture threshold
to see if I can find out why your results are so much better than mine.
Wm
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/