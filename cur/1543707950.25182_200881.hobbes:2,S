Date: Sun, 22 Feb 2004 17:36:01 +0100
From: Arnd Bergmann <>
Subject: Re: Kernel Cross Compiling [update]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/22/83

Herbert Poetzl wrote:
>    			   linux-2.6.3-rc3     linux-2.6.3
>    			   config  build       config  build
>    s390/s390:		   OK	   FAILED      OK      FAILED
This trivial patch (or something similar) is missing from 2.6.3
to make it build for s390.
You might also want to test building in 64 bit mode 
(CONFIG_ARCH_S390X on 2.6, ARCH=s390x on 2.4).
     Arnd <><
===== include/asm-s390/dma-mapping.h 1.2 vs edited =====
--- 1.2/include/asm-s390/dma-mapping.h	Thu Jul 17 19:27:29 2003
+++ edited/include/asm-s390/dma-mapping.h	Sun Feb 22 17:15:43 2004
@@ -8,4 +8,20 @@
 
 #ifndef _ASM_DMA_MAPPING_H
 #define _ASM_DMA_MAPPING_H
+
+static inline void *
+dma_alloc_coherent(struct device *dev, size_t size, dma_addr_t
*dma_handle,
+		   int flag)
+{
+	BUG();
+	return 0;
+}
+
+static inline void
+dma_free_coherent(struct device *dev, size_t size, void *cpu_addr,
+		    dma_addr_t dma_handle)
+{
+	BUG();
+}
+
 #endif /* _ASM_DMA_MAPPING_H */
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/