Date: Thu, 20 Jan 2000 15:18:13 -0800 (PST)
From: (Nelson Minar)
Subject: 2.2.13 + ide-tape 1.16e, weird IDE errors during backups
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/21/153

I'm seeing a strange error from the kernel when I run backups from an
IDE hard drive to an IDE tape drive:
  Jan 19 12:53:22 syrah kernel: iput: inode 03:01/42253 still has locks! 
  Jan 19 12:57:03 syrah kernel: iput: inode 03:01/14285 still has locks! 
  Jan 19 12:58:46 syrah kernel: iput: inode 03:04/935072 still has locks! 
The inodes seem to point to random files on my system, in some cases
files I haven't used at all in months. (This suggests the backup
didn't even try to open them, although find would have gone over them.)
I've never seen anything like this before. What does it mean? Should I
be worried? I see from fs/inode.c this only shows up when
INODE_PARANOIA is defined.
More detail: I have an OnStream tape drive in a single processor older
Pentium system. There are only two IDE devices on my system - the hard
drive and the tape drive, on different channels (both masters).
I'm running a non-SMP kernel 2.2.13 on a Redhat 6.1 system. I've
upgraded the ide-tape driver to 1.16e, the one from OnStream's website
that supports the drive. The backup software I'm using is flexbackup.
It in turn calls tar or afio, the error crops up either way.
The system is not terribly busy.
Here's what the kernel finds on the IDE chain on bootup.
Jan 16 12:46:29 syrah kernel: PIIX: IDE controller on PCI bus 00 dev 38 
Jan 16 12:46:29 syrah kernel: PIIX: not 100% native mode: will probe irqs later 
Jan 16 12:46:29 syrah kernel: PIIX: neither IDE port enabled (BIOS) 
Jan 16 12:46:29 syrah kernel: PIIX: IDE controller on PCI bus 00 dev 39 
Jan 16 12:46:29 syrah kernel: PIIX: not 100% native mode: will probe irqs later 
Jan 16 12:46:29 syrah kernel:     ide0: BM-DMA at 0xecf0-0xecf7, BIOS settings: hda:DMA, hdb:pio 
Jan 16 12:46:29 syrah kernel:     ide1: BM-DMA at 0xecf8-0xecff, BIOS settings: hdc:pio, hdd:pio 
Jan 16 12:46:29 syrah kernel: hda: Maxtor 90680D4, ATA DISK drive 
Jan 16 12:46:29 syrah kernel: hdc: OnStream DI-30, ATAPI TAPE drive 
Jan 16 12:46:29 syrah kernel: ide0 at 0x1f0-0x1f7,0x3f6 on irq 14 
Jan 16 12:46:29 syrah kernel: ide1 at 0x170-0x177,0x376 on irq 15 
Jan 16 12:46:29 syrah kernel: hda: Maxtor 90680D4, 6485MB w/256kB Cache, CHS=826/255/63, (U)DMA 
Jan 16 12:56:39 syrah kernel: ide-tape: hdc <-> ht0: OnStream DI-30 rev 1.05 
Jan 16 12:56:39 syrah kernel: ide-tape: hdc <-> ht0: 990KBps, 64*32kB buffer, 10208kB pipeline, 60ms tDSC, DMA 
Thanks!
  Nelson
(PS: please reply to me as well, I'm not on linux-kernel.)
                                                     nelson@monkey.org
.       .      .     .    .   .  . . 
http://www.media.mit.edu/~nelson/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/