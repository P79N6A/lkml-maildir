Date: Thu, 20 May 1999 00:31:04 +0200 (CEST)
From: Andrea Arcangeli <>
Subject: Re: Great News!! Was: [RFT] 2.2.8_andrea1 wake-one
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/21/13

On Tue, 18 May 1999, Larry Sendlosky wrote:
>Your 2.2.8 patch really helps apache performance on a single cpu system,
>but there is really no performance improvement on a 2 cpu SMP system.
Strange. If it improves performances in UP should at least improve a _bit_
in SMP. Maybe it make no differnece because the SMP scheduler in the last
2.2.x is a bit weird (some part of reschedule_idle never made sense to me
and I never get a reply about my complains). Could you try the my rewrite
of reschedule_idle that I posted on this list at 2.2.8-pre time? It should
apply still correctly (I use it all the time) to the current 2.2.9 kernel
too. If you can't find it just asks for it and I'll sent to you privately.
BTW, the wake_up_process should never be used unconditionally (as it's
used in try_to_free_pages). It may cause overscheduling and overhead
because wake_up_process always end up calling reschedule_idle that
_really_ supposes that the task that asks to be rescheduled is _not_ just
running. I just fixed this in my patches (I also just addressed the issue
in my jumbo-buffer patch for 2.2.9 :).
Andrea Arcangeli
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/