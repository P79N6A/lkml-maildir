Date: Tue, 21 Dec 1999 15:12:27 -0500 (EST)
From: Alexander Viro <>
Subject: Re: 2.3.30 linuxNFS import is broken (Screwed up NFS/RPC credentials)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/21/131

On Tue, 21 Dec 1999, Alan Cox wrote:
> > > The most practical way of implementing this policy is therefore to
> > > hide the RPC auth in the file descriptor structure (I use the private
> > > data field), and pass that info via the file pointer to
> > > readpage/writepage/whatever else needs it.
> > 
> > Urgh. Extremely ugly, IMO.
> 
> It makes a lot of sense. The authentication properties of an object are
> tied to the file handle in Unix. This is going to be a reality for all network
> systems using handles and credentials.
>
> > what I'm trying to do. IMO fhandle of regular file should be available in
> > struct address_space (you'll need a new field in the union there). Ditto
> 
> Two people mapping the same file may have different credentials. Providing you
> cover that then yes
Ahem... Excuse me, but how it is different from local fs? We _have_ to do
such checks in client anyway - otherwise we are deep in it (page cache is
page cache and if we ignore the permissions accessing it and leave that to
readpage()... guess what will happen if two processes map the thing, then
one of them causes pagein and another just finds the page in cache).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/