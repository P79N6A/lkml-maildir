Date: Tue, 15 Feb 2005 09:38:43 +1100
From: Benjamin Herrenschmidt <>
Subject: Re: Radeon FB troubles with recent kernels
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/2/14/168

On Mon, 2005-02-14 at 12:39 -0800, Matt Mackall wrote:
> On my Thinkpad T30 with a Radeon Mobility M7 LW, I get interesting
> console video corruption if I start GDM, switch back to text mode,
> then stop it again. X is Xfree86 from Debian/unstable or X.org 6.8.2.
> 
> The corruption shows up whenever the console scrolls after X has been
> shut down and manifests as horizontal lines spaced about 4 pixel rows
> apart containing contents recognizable as the X display. Switch from
> vt1 to vt2 and back or visual bell clears things back to normal, but
> corruption will reappear on the next scroll.
> 
> This has appeared in at least 2.6.11-rc3-mm2 and rc4.
Appeared ? hah... that's strange. X is known to fuck up the chip when
quit, but I wouldn't have expected any change due to the new version of
radeonfb. From what you describe, it looks like an offset register is
changed by X, or the surface control.
My patch did not change any of radeonfb accel code though...
I'll catch up with you on IRC ...
Ben.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/