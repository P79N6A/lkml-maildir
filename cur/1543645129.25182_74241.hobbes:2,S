Date: Fri, 27 Sep 2002 15:33:39 -0700
From: Greg KH <>
Subject: Re: [RFC][PATCH] x86 BIOS Enhanced Disk Device (EDD) polling
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/27/234

Looks nice, just a few minor comments:
> $ cat int13_dev80/host_bus
> PCI     02:01.0  channel: 0
> $ cat int13_dev80/interface
> SCSI            id: 0  lun: 0
> $ cat int13_dev80/info
> 80 30 01 00                                             .0..
> 1e 00 09 00 00 00 00 00 00 00 00 00 00 00 00 00         ................
> 3a b9 8b 08 00 00 00 00 00 02 ff ff ff ff be dd         :...............
> 2c 00 00 00 50 43 49 00 53 43 53 49 00 00 00 00         ,...PCI.SCSI....
> 02 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00         ................
> 00 00 00 00 00 00 00 00 00 28                           .........(
> version: 3.0
> Extensions:
>         Fixed disk access
> Info Flags:
>         dma_boundry_error_transparent
>         write_verify
> num_default_cylinders: 0
> num_default_heads: 0
> sectors_per_track: 0
> number_of_sectors: 88bb93a
> PCI     02:01.0  channel: 0
> SCSI            id: 0  lun: 0
> 
> Warning: Spec violation.  Key should be 0xBEDD, is 0xDDBE
> 
Don't you already get the PCI and SCSI lines in the info file, from the
host_bus and interface files?
And that's a nice way to export binary data through a text file :)
Any way to split out the fields as individual files (version,
extensions, info_flags, num_default_cylinders, and so on)?
> @@ -981,3 +981,13 @@
>    absence of features.
> 
>    For more information take a look at Documentation/swsusp.txt.
> +
> +CONFIG_EDD
> +  Say Y or M here if you want to enable BIOS Enhanced Disk Device
> +  Services real mode BIOS calls to determine which disk
> +  BIOS tries boot from.  This feature creates a /proc/edd directory
> +  and files for each BIOS device detected.
You should fix up this wording as you aren't doing anything in the /proc
fs anymore :)
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/