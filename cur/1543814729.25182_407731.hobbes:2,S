Date: Sat, 18 Mar 2006 09:21:36 +1100
From: Nick Piggin <>
Subject: Re: [PATCH 10 of 20] ipath - support for userspace apps using core driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/17/319

[I'm not a driver or pci/dma person either, so I can't usefully answer
most of your questions, I'm afraid]
Hugh Dickins wrote:
> Is there any chance that your split_page() work in -mm, actually addresses
> precisely those places that were screwed up by universal compound pages?
> So that with your split_page(), we could go back to every >0-order page
> being PageCompound, without any need for __GFP_COMP.
> 
I think it should catch most of the places [I'm sure I've missed some :(]
that split up higher-order pages (which doesn't work on compound pages, I
guess this was the problem).
It makes like difficult for some future patch of mine if the refcounting
mechanism is changed while the page is allocated (eg. like PageReserved
used to do), however I think it wouldn't be too hard to instead invert the
meaning of the flag and just use it in those few places that care?
-- 
SUSE Labs, Novell Inc.
Send instant messages to your online friends 
http://au.messenger.yahoo.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/