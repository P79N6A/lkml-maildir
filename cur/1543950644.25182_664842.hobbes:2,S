Date: Thu, 6 Mar 2008 23:38:04 -0800
From: Andrew Morton <>
Subject: Re: [PATCH] Alchemy Semi Au1000 pcmcia driver: convert pcmcia_sockets_lock in a mutex
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/7/41

On Fri, 7 Mar 2008 08:13:42 +0100 Matthias Kaehlcke <matthias@kaehlcke.net> wrote:
> El Thu, Mar 06, 2008 at 07:05:49PM -0800 Daniel Walker ha dit:
> 
> > On Thu, 2008-03-06 at 23:22 +0100, Matthias Kaehlcke wrote:
> > > Alchemy Semi Au1000 pcmcia driver: The semaphore pcmcia_sockets_lock
> > > is used as a mutex, convert it to the mutex API
> > > 
> > > Signed-off-by: Matthias Kaehlcke <matthias@kaehlcke.net>
> > > 
> > 
> > This doesn't appear to be in patch format .. There no filename at the
> > top..
> 
> somehow i messed it up when adding the patch to the mail. thanks for
> the pointer, here comes the good one
> 
> -- 
> 
> Alchemy Semi Au1000 pcmcia driver: The semaphore pcmcia_sockets_lock
> is used as a mutex, convert it to the mutex API
OK.
> @@ -71,7 +72,7 @@ extern struct au1000_pcmcia_socket au1000_pcmcia_socket[];
>  u32 *pcmcia_base_vaddrs[2];
>  extern const unsigned long mips_io_port_base;
> 
> -DECLARE_MUTEX(pcmcia_sockets_lock);
> +DEFINE_MUTEX(pcmcia_sockets_lock);
I'll make this static while we're in there.