Date: Wed, 12 Nov 2008 09:30:43 +0530
From: Balbir Singh <>
Subject: Re: [RFC][mm] [PATCH 3/4] Memory cgroup hierarchical reclaim (v3)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/11/11/549

KAMEZAWA Hiroyuki wrote:
> On Tue, 11 Nov 2008 18:04:17 +0530
> Balbir Singh <balbir@linux.vnet.ibm.com> wrote:
> 
>> +
>> +		/*
>> +		 * We need to give up the cgroup lock if it is held, since
>> +		 * it creates the potential for deadlock. cgroup_mutex should
>> +		 * be acquired after cpu_hotplug lock. In this path, we
>> +		 * acquire the cpu_hotplug lock after acquiring the cgroup_mutex
>> +		 * Giving it up should be OK
>> +		 */
>> +		if (cgroup_locked)
>> +			cgroup_unlock();
> 
> nice catch. I'll post a fix to this as its own patch. 
Sure, feel free to add my signed-off-by on it.
-- 
	Balbir