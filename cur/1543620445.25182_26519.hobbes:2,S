Date: Fri, 8 Feb 2002 08:51:56 +0300
From: Oleg Drokin <>
Subject: Re: [reiserfs-dev] 2.5.4-pre1: zero-filled files resiserfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/8/36

Hello!
On Thu, Feb 07, 2002 at 11:02:35PM +0100, Alex Riesen wrote:
> The reiserfsck showed up some nasty looking errors:
>  shrink_id_map: objectid map shrinked: used 4096, 5 blocks
>  grow_id_map: objectid map expanded: used 5120, 5 blocks
>  grow_id_map: objectid map expanded: used 10240, 10 blocks
>  bad_leaf: block 211482 has wrong order of items
>  ...more of that...
>  free block count 1326452 mismatches with a correct one 1326458.
>  on-disk bitmap does not match to the correct one. 1 bytes differ
Have you mkreiserfs'ed your partition before testing the patch I've sent you?
Or have you at least made a reiserfsck before a test run to ensure,
these corruptions are not from the previous kernels (particularly
bad_leaf: block 211482 has wrong order of items record worries me)
> "reiserfsck --rebuild-tree" cured them without visible damages for now.
> There were some messages about deleted blocks, expanded objectid map,
> shrinked map and one "dir 1 2 has wrong sd_size 120, has to be 152".
> I can send you logs, if needed.
Sure, please do.
> Does the 2.5.4-pre2 contains this patch ?
Yes.
Thank you.
Bye,
    Oleg
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/