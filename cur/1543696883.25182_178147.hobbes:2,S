Date: Fri, 14 Nov 2003 09:39:23 -0000
From: "Patrick Beard" <>
Subject: 2.6.0-test9 VFAT problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/14/28

Hi,
First, I'm still very much a newbie to Linux - but I try my best.
I'm having trouble with my smartmedia. Whenever (occasionally it will
mount - but very rare) I try to mount it I get the following;
mount: wrong fs type, bad option, bad superblock on /dev/sda,
or too many mounted file systems
dmesg shows;
FAT: Bogus number of reserved sectors
VFS: Can't find a valid FAT filesystem on dev sda
These are Olympus sm cards, my camera is a Olympus 300-zoom. I use both the
camera (usb connection) and a belkin usb smartmedia reader.
These cards camera and reader all worked well using Kernel 2.4.18.
My distrib is Debian (testing) and the 2.6 source is the 'Debianized' source
within testing. I noticed that Andries Brouwer has created a patch to relax
the FAT checking within /fs/fat/inode.c. I have applied that diff and
recompiled but if anything it now appears worse. That is to say I still get
the original error when trying to mount the camera, but this time the belkin
reader returns 'no media found'. I will try to confirm this by recompiling
with the original inode.c.
My fstab entry is;
/dev/sda    /mnt/smedia    vfat    rw,user,noauto    0,0
As I said at the start the media does mount occasionally so I would presume
I haven't missed something.
Can anyone help?
--
Patrick
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/