Date: Wed, 22 Jan 2003 11:30:12 -0800 (PST)
From: Kevin Lawton <>
Subject: Re: Simple patches for Linux as a guest OS in a plex86 VM (please consider)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/22/127

--- Andi Kleen <ak@suse.de> wrote:
> Kevin Lawton <kevinlawton2001@yahoo.com> writes:
> > 
> > I'm working on running Linux as a guest OS inside a
> > lightweight cut-down plex86 environment.  My goal is to
> > run a stock Linux kernel, which can be slimmed down to
> 
> Wouldn't it be easier if you just compile the kernel 
> with a simple gcc wrapper that replaces all pushfl and popfl with your new 
> sequences in the assembly code generated by gcc and also in assembly files 
> compiled with the gcc wrapper?
I'm not big on the idea of scripts massaging code - especially when
they do something unintended.  It's easier to run a periodic find
script that greps for use of such instructions, if new cases
are introduced.  Anyways, there were really only a few cases where
pushf/popf would have even mattered.  Some stuff was just
EFLAGS.{ID/AC} identification.  I greatly prefer the #define mods.
The new kernel source was quite clean of this stuff, and did a great
job centrailizing stuff in include/asm-i386.
-Kevin
__________________________________________________
Do you Yahoo!?
New DSL Internet Access from SBC & Yahoo!
http://sbc.yahoo.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/