Date: Sun, 23 May 2004 02:20:31 +0200 (CEST)
From: Rene Rebe <>
Subject: Re: i486 emu in mainline?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/22/138

Hi,
On: Sun, 23 May 2004 01:40:59 +0200,
    Christoph Hellwig <hch@lst.de> wrote:
> These days gcc uses i486+ only instruction by default in libstdc++ so
> most modern distros wouldn't work on i386 cpus anymore.  To make it work
> again Debian merged Willy Tarreau's patch to trap those and emulate them
> on real i386 cpus.  The patch is extremely non-invasive and would
> certainly be usefull for mainline.  Any reason not to include it?
Oh cool! Given the fact with libstdc++ and sparc32 kernel also always
contain code to emulatre the mul/div instructions missing in the v7
hardware (just foudn this SIGILL trap by accident recently ..) the
comment might be a bit too strict. Maybe something like written in the
MATH_EMULATION config:
"If you are not sure, say Y; apart from resulting in a 66 KB bigger
kernel, it won't hurt."
Sincerely yours,
  René Rebe
    - ROCK Linux stable release maintainer
--  
René Rebe - Europe/Germany/Berlin
  rene@rocklinux.org rene@rocklinux-consulting.de
http://www.rocklinux.org
 
http://www.rocklinux-consulting.de
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/