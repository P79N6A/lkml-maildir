Date: Tue, 5 Aug 2003 08:41:31 -0700
From: Larry McVoy <>
Subject: BK2CVS problem (fixed)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/5/156

Several people pointed out problems in the BK2CVS trees.  I spent this
morning checking things over and there were indeed some out of date files.
I've fixed those up and put in place validation tools which should ensure
that this does not happen again.
Here's a validation run:
+ rm -rf /tmp/cmp-tmp
+ mkdir -p /tmp/cmp-tmp/cvs
+ cd /tmp/cmp-tmp/cvs
+ cvs -Q -d /tmp/linux-2.4-cvs checkout -P .
+ cd /tmp/linux-2.4
+ bk export -tplain /tmp/cmp-tmp/bk
+ cd /tmp/cmp-tmp
+ diff -r --exclude=CVS --exclude=BitKeeper --exclude=ChangeSet cvs/linux-2.4 bk
+ test -s DIFFS
+ rm -rf /tmp/cmp-tmp
+ mkdir -p /tmp/cmp-tmp/cvs
+ cd /tmp/cmp-tmp/cvs
+ cvs -Q -d /tmp/linux-2.5-cvs checkout -P .
+ cd /tmp/linux-2.5
+ bk export -tplain /tmp/cmp-tmp/bk
+ cd /tmp/cmp-tmp
+ diff -r --exclude=CVS --exclude=BitKeeper --exclude=ChangeSet cvs/linux-2.5 bk
+ test -s DIFFS
+ cd /tmp/linux-2.4-cvs
+ find linux-2.4 -type f -name '*,v'
+ PID=3553
+ sort
+ xargs sum
+ ssh root@kernel 'cd /home/cvs; find linux-2.4 -type f -name '\''*,v'\'' | xargs sum'
+ sort +2
+ wait 3553
+ diff SUMS SUMS.k
+ test -s DIFFS
+ cd /tmp/linux-2.5-cvs
+ find linux-2.5 -type f -name '*,v'
+ sort
+ PID=3594
+ xargs sum
+ ssh root@kernel 'cd /home/cvs; find linux-2.5 -type f -name '\''*,v'\'' | xargs sum'
+ sort +2
+ wait 3594
+ diff SUMS SUMS.k
+ test -s DIFFS
real    13m8.225s
user    0m23.742s
sys     0m18.830s
-- 
---
Larry McVoy              lm at bitmover.com          
http://www.bitmover.com/lm
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/