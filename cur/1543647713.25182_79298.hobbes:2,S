Date: Sat, 12 Oct 2002 19:09:42 -0700
From: Dave Hansen <>
Subject: Re: Structure clobbering causes timer oopses
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/12/216

Andrew Morton wrote:
> Dave Hansen wrote:
>>...
>>timer magic check failed timer:__run_timers():351
>>begin: 0xc035fbc8 end:0xc035fbe8
> 
> Can you look these up in System.map?
Inside tvec_bases, just like eip, because of timer_t->function.
c035fa80 d tvec_bases
c037fe80 d pidmap_lock
c037fea0 D page_states
>>BTW, I found lots of users who aren't using init_timer().  Should I
>>publicly humiliate them?
> 
> If they're initially using add_timer(), that works out
> OK.  It they start out using mod_timer() (or del_timer) then bug.
The init_timer() comment says otherwise, but I imagine that not using 
it shouldn't _cause_ any bugs.
* init_timer() must be done to a timer prior calling *any* of the
* other timer functions.
> I assume you tried all the memory debugging options?
No luck there.  I can't even get the oops to trigger with all the 
debugging on.
-- 
Dave Hansen
haveblue@us.ibm.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/