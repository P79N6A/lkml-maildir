Date: Thu, 31 Jan 2008 21:31:22 +0100
From: Ingo Molnar <>
Subject: Re: x86: Why have __copy_from_user_ll_nocache* been exported?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/31/379

* Adrian Bunk <bunk@kernel.org> wrote:
> A commit that does nothing except for adding two unused 
> EXPORT_SYMBOL's.
> 
> Without any rationale why they should be exported.
the rationale is obvious: it's part of the standard uaccess 
functionality and while it's rarely used (in fact it's not used by any 
modular code right now) there's no reason not to export it alongside the 
other uaccess vectors. We can unexport it once we unexport all uses of 
the uaccess APIs. We could make it a _GPL export perhaps.
It's very annoying to driver writers when a small portion of a sensible 
API vector is not available symmetrically.
> And that from a person who on the other hand wants to introduce (and 
> tries to force on other people) deprecation periods for unused 
> EXPORT_SYMBOL's.
why does this bother you? The API makes total sense. This is a 
completely sensible API (with a full implementation) to use non-temporal 
copies. I mean, if this was some legacy API that nobody uses anymore i'd 
agree, but this is about the ability to access user-space memory via 
SSE2+ non-temporal stores.
	Ingo