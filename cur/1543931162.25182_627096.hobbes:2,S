Date: Wed, 12 Dec 2007 12:27:52 -0500 (EST)
From: Kiyoshi Ueda <>
Subject: Re: [PATCH 21/30] blk_end_request: changing cciss (take 4)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/12/250

Hi Mike,
On Wed, 12 Dec 2007 15:25:10 +0000, "Miller, Mike (OS Dev)" <Mike.Miller@hp.com> wrote:
> > Index: 2.6.24-rc4/drivers/block/cciss.c
> > ===================================================================
> > --- 2.6.24-rc4.orig/drivers/block/cciss.c
> > +++ 2.6.24-rc4/drivers/block/cciss.c
snip
> > +2526,6 @@ after_error_processing:
> >         }
> >         cmd->rq->data_len = 0;
> >         cmd->rq->completion_data = cmd;
> > -       blk_add_trace_rq(cmd->rq->q, cmd->rq, BLK_TA_COMPLETE);
> 
> Why is this removed?
Sorry for the less explanation.
Because it is done in __end_that_request_first() called from
blk_end_request().
I'll add the explanation to the patch description when I update
the patch.
Thanks,
Kiyoshi Ueda