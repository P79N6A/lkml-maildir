Date: Mon, 29 Apr 2002 09:55:11 -0500 (CDT)
From: Kai Germaschewski <>
Subject: Re: difficulty with symbol export
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/29/86

On Mon, 29 Apr 2002, V. Guruprasad wrote:
> at the bottom of net/socket.c, and
> 
> 	EXPORT_SYMBOL(get_socket_fileops);
> 
> into net/netsyms.c, expecting to be able to call this function
> from a loadable module and to printk the function addresses
> from the file_operations struct.
> 
> However, on rebooting into this modified kernel, my test module
> fails to load, saying
> 
> 	foo.o: unresolved symbol get_socket_fileops
Basically, you're doing the right thing - what output does
	grep get_socket_fileops /proc/ksyms
show?
Do you have CONFIG_MODVERSIONS turned on in your kernel config? If so,
you probably want to save your .config, make distclean and rebuild from 
scratch - that will likely fix the problem.
--Kai
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/