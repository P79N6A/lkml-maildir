Date: Tue, 09 Apr 2002 09:52:13 +0200
From: Thomas Winischhofer <>
Subject: Re: COMPILE BUG: SiS DRM Support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/9/34

> > > Is there any obvious reasons why this isn't compiling?
> > Try compiling with SiS framebuffer device (CONFIG_FB_SIS and
> > CONFIG_FB_SIS_300 or CONFIG_FB_SIS_315) activated... the SiS DRI driver
> > needs it... don't ask me why ;)
> 
> Because they share common code. It is actually better that they work
> together since this way they will not step on each others toes. Someday I
> plan to merge both the fbdev and drm interfaces together.
More precisely, the framebuffer driver contains all the chipset and
therefore the memory (amount/type) detection stuff. It checks for
eventual Turbo/Commandqueue capabilities (which differ significantly
depending on the actual chipset used) and sets up a memory heap taking
all the hardware specifics into account. Moving the memory management to
the DRM module will result in a lot of duplicate code and a lack of
common memory management.
If you don't want to use the framebuffer, start it with no video mode
specified or with mode=none (or mode:none if as kernel parameter)
Thomas
PS: For updates of the SiS VGA drivers, please check my homepage.
-- 
Thomas Winischhofer
Vienna/Austria                 
mailto:thomas@winischhofer.net            
http://www.winischhofer.net/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/