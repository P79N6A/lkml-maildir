Date: Wed, 07 Jan 2004 09:50:35 -0800
From: "H. Peter Anvin" <>
Subject: Re: [autofs] [RFC] Towards a Modern Autofs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/7/176

Andi Kleen wrote:
> 
> I personally would be in favour of doing it all in the kernel because
> autofs3 and autofs4 are not fully compatible and break in subtle ways
> when not matching and in my experience when you have autofs3 compiled
> into the kernel the system happens to have an autofs 4 daemon
> installed and vice versa. Doing it in the kernel would avoid this
> nasty dependency problem.
> 
"Don't do that then."  Really.  Originally the autofs v3 filesystem was 
called "autofs" and the autofs v4 filesystem was called "autofs4" and 
the intent was that you should *never* run them across versions.
Jeremy tried nevertheless to be compatible (mistake #1) and Linus then 
renamed the autofs4 filesystem "autofs" (mistake #2).  There was no good 
reason for this and it should never have happened -- it broke the design 
that was intended to make sure the above wasn't going to be a problem.
> Also when /home or other important fs are mounted via autofs there is
> not much practical difference between a hung kernel and a hung
> daemon. You have to reboot the system anyways.
a) Guess which one is easier to debug?
b) Do people around here really believe that putting things in the 
kernel magically makes them work right?
	-hpa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/