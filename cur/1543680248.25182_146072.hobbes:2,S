Date: Tue, 8 Jul 2003 15:10:48 +0200
From: Vincent Touquet <>
Subject: Re: [Bug report] System lockups on Tyan S2469 and lots of io [smp boot time problems too :(]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/8/103

On Tue, Jul 08, 2003 at 09:59:54AM -0400, joe briggs wrote:
>Vincent - 
>I wonder if what is really happening is a problem in the in the arbitration 
>between the PCI bus and the local bus that the onboard IDE devices are.  In 
>your case the problem (onboard IDE device data corruption) manifests when you 
>are performing sustained transfers (large files) between the onboard IDE 
>device and a PCI block device (the 3ware RAID).
Yes, that seems very feasible.
>In my case, the same problem 
>manifests when I have sustained data activity from multiple frame grabbers to 
>memory, then from memory to RAID.  When the system drive is used (code load, 
>swap, etc.) it gets corrupted.  My point is, the onboard data device only 
>seems to get corrupted when there is lots of i/o activity with PCI 
>bus-masters that are DMA'ing data to/from memory.  What do you think?
I had the same lockups too when pumping a lot of data over the network
onto the array on a similar mainboard (Tyan S2468). So maybe there is
the added problem that there is funny things going on on the PCI bus.
Maybe the problem only occurs when you stress the bus and the dma is not
the real culprit, it just enables high transfers and hence corruption on
the PCI bus.
I would very much like to nail this one down, as its nasty.
regards,
v
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/