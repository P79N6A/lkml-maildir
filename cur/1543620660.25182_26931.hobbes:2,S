Date: Sun, 10 Feb 2002 01:13:15 -0800 (PST)
From: Tom Lord <>
Subject: a new arch feature "for Linus"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/10/15

Not really only for Linus, but inspired by a feature he requested 
of Bitkeeper on this list a few weeks ago.
The command is:
	  % arch touched-files-prereqs REVISION
That command looks at the patch set for REVISION and at all preceding
patch sets in the same version (aka "Line of Development"[1]).  It
reports the list of patches that touch overlapping sets of files and
directories -- in other words, it tells you what patches can be
applied independently of others (from "linear" to "bushy" patch sets).
The command has an option to exclude from consideration file names
matching a certain pattern (e.g. "=README" or "ChangeLog").  It has an
option to exclude from the output list patches which have already been
applied to a given project tree.  It has an option to report the
specific files which are overlapped.
Linus actually asked for something slightly more precise: beyond
looking at whether two patch sets modify the same files, he wants to
know if they specifically modify overlapping sections of those files.  
I haven't implemented that yet but it's certainly doable.
(`touched-files-prereqs' is 297 lines long; delving into the patch
details will likely more than double that.)
We now return you to your previously scheduled Bitkeeper product
placement advertisement.
Pepsi adds life!,
-t
[1] "Lines of Development" is a trademark of BitMover, Inc.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/