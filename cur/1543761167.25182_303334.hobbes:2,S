Date: Wed, 16 Mar 2005 07:58:16 +0300
From: Evgeniy Polyakov <>
Subject: Re: [11/many] acrypto: crypto_main.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/15/389

On Tue, 2005-03-15 at 08:24 -0800, Randy.Dunlap wrote:
> Evgeniy Polyakov wrote:
> > --- /tmp/empty/crypto_main.c	1970-01-01 03:00:00.000000000 +0300
> > +++ ./acrypto/crypto_main.c	2005-03-07 20:35:36.000000000 +0300
> > @@ -0,0 +1,374 @@
> > +/*
> > + * 	crypto_main.c
> > + *
> > + * Copyright (c) 2004 Evgeniy Polyakov <johnpol@2ka.mipt.ru>
> > + * 
> > + */
> 
> > +struct crypto_session *crypto_session_alloc(struct crypto_session_initializer *ci, struct crypto_data *d)
> > +{
> > +	struct crypto_session *s;
> > +
> > +	s = crypto_session_create(ci, d);
> > +	if (!s)
> > +		return NULL;
> > +
> > +	crypto_session_add(s);
> > +
> > +	return s;
> > +}
> > +
> > +
> 
> > +EXPORT_SYMBOL(crypto_session_alloc);
> Why is this one not _GPL ??  It calls _create() and _add().
It is not allowed to control _create() and _add() methods, only call
them "atomically"
(without gap between functions where new route can be created).
So I export only that one functin as non-GPL-only for anyone
who wants to use asynchronous crypto in simple mode.
More powerfull control requires GPL.
> > +EXPORT_SYMBOL_GPL(crypto_session_create);
> > +EXPORT_SYMBOL_GPL(crypto_session_add);
> > +EXPORT_SYMBOL_GPL(crypto_session_dequeue_route);
> 
> 
-- 
        Evgeniy Polyakov
Crash is better than data corruption -- Arthur Grabowski
[unhandled content-type:application/pgp-signature]