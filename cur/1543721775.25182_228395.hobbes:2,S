Date: Fri, 18 Jun 2004 12:59:30 -0700 (PDT)
From: Dmitry Torokhov <>
Subject: Re: [PATCH 0/3] Couple of sysfs patches
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/18/234

Russell King wrote:
>  void platform_device_unregister(struct platform_device * pdev)
>  {
> -	if (pdev)
> +	int i;
> +
> +	if (pdev) {
>  		device_unregister(&pdev->dev);
> +
> +		for (i = 0; i < pdev->num_resources; i++) {
> +			struct resource *r = &pdev->resource[i];
> +			if (r->flags & (IORESOURCE_MEM|IORESOURCE_IO))
> +				release_resource(r);
> +		}
> +	}
>  }
Ok, now it's possibly just a nitpicking but would not it be "more correct"
if allocated resources were freed in reverse order?
--
Dmitry
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/