Date: Thu, 22 Mar 2001 10:04:28 +0100 (CET)
From: Mike Galbraith <>
Subject: Re: Linux 2.4.2 fails to merge mmap areas, 700% slowdown.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/3/22/118

On 21 Mar 2001, Kevin Buhr wrote:
> Mike Galbraith <mikeg@wen-online.de> writes:
> >
> > Yes.  I'm so used to UP numbers I didn't think.  I saw user larger than
> > real on my UP box yesterday during some testing, and then seeing this
> > post... oops.
>
> Okay, so you see "user > real" on a UP box running an SMP kernel.
On ac20 I see this (has rw_mmap_sem patch in place tho..), but not on
2.4.3-pre6 with Linus' deadlock fix.
[snip nice explanation.. thanks]  box is genuine UP btw.
> In any event, if the discrepancy is large: if user, for a
> single-threaded process, exceeds the real time by more than 1% (or a
> few hundredths of a second, whichever is greater) on any system, I
> think this indicates a serious problem.
Let me check virgin ac20 and see what it does.
2.4.2.ac20.virgin   2.4.3-pre6
real    11m0.708s   11m58.617s
user    15m8.720s   7m29.970s
sys     1m31.410s   0m41.590s
It looks like ac20 is doing some double accounting.
	-Mike
(fwiw, the smp/up numbers suck rocks compared to up/up)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/