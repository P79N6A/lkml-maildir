Date: Sat, 8 Jul 2006 23:26:13 +1000
From: Nigel Cunningham <>
Subject: Re: uswsusp history lesson [was Re: [Suspend2-devel] Re: swsusp / suspend2 reliability]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/8/84

'ello.
On Saturday 08 July 2006 22:52, Pavel Machek wrote:
> > > > Frankly, I'd rather be working on improving drivers and helping
> > > > implement the run-time power management than working on getting
> > > > Suspend2 merged.
> > Developmentwise, I think it's finished - unless I want to go off in a new
>
> I'd say that suspend2 already done its job -- forced me to do
> uswsusp. I do not think it is mergeable without major refactoring.
I'm sorry, Pavel, but it if uswsusp is going to be an acceptable replacement 
for Suspend2, it has to actually have the features suspend2 has implemented, 
not just have the promise of them appearing at some stage. Rafael is doing 
admirable work in that direction, but he's not there yet.
On the day when I feel like I can switch from suspend2 to swsusp with no loss, 
and am convinced that my users can do the same, I'll happily switch. I've 
said all along, I'm just a user who wanted to suspend. I'm still a user who 
wants to suspend. I'm not committed come hell or high water to getting 
Suspend2 merged. But I am committed to having a good, usable implementation 
that just works. If you can get there with uswsusp, feel free. In the 
meantime, though, I have an implementation that I and many other people are 
happy with and I'm not convinced that you will be able to do all you're 
promising, so I'll have a go at getting Suspend2 merged. If Andrew and Linus 
don't want it, well it's no biggy to keep maintaining it out of tree. I'll be 
saddened for the people who miss out in the meantime, but I'll still sleep at 
night.
> Helping with runtime power management would be more welcome than
> resubmitting same code over and over. Good news is that you can now do
> what you prefer :-).
> > > As far as the support for ordinary files, swap files, etc. is
> > > concerned, there's nothing to worry about.  It's comming.
> >
> > Great. It will be good to see that. Do you have some way around bmapping
> > the files?
>
> You mean "some way to go without bmapping" or "did you get bmapping to
> work" ?
Some way to go without bmapping. I'm assuming you're going to have to add some 
kernel code to at least do the bmapping. By the way, watch out for block 
sizes. Especially with XFS. It's the best test of whether your code is right 
because the blocksize XFS uses might not be the same as the underlying block 
device's blocksize.
Nigel
-- 
Nigel, Michelle and Alisdair Cunningham
5 Mitchell Street
Cobden 3266
Victoria, Australia
[unhandled content-type:application/pgp-signature]