Date: Tue, 2 Feb 1999 09:39:17 -0800 (PST)
From: "B. James Phillippe" <>
Subject: Re: kernel panic in 2.2.1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/2/120

On Tue, 2 Feb 1999, a sun wrote:
> i suspect i've been getting these in the past, but i don't usually
> have a monitor on my udb to pick them up. in any case, i just got the
> following kernel panic whilst dialed up:
> 
>   Kernel panic: skput: over: fffffe000003b8a0:60 put:-7 dev:eth0
>   In swapper task - not syncing
...
> the panic always seems to happen when i'm dialed up although it never
> seems to happen right after rebooting. in case it makes a difference,
> i use ip masquerading to hide my internal network behind the udb.
...
> any ideas on what's happening here?
I had the same problem which was plaguing me on 2.1.13X/AXP with PPP 24/7.
Turned out it was a simple programming error in the ppp driver which was
probably able to cause memory corruption an all platforms for quite some
time.  Seems the Alpha noticed it more often.  In any case, I fixed the
problem and posted a patch to this list and the axp-list list; you should
be able to find it in December's archives, subject of "[PATCH] Fix for PPP
Kernel panic?"
I'll help you fix this one.  Here is what to do.  First, rebuild your
kernel and make sure you compile PPP into the kernel and not as a module.
Before you compile your kernel, edit the Makefile and change the CFLAGS
line to include "-g".  Like this:
#
# standard CFLAGS
#
CFLAGS = -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -g
Then make and boot your kernel.  Wait for the kernel panic again (you might
wish to mount your filesystems with "sync" during this time period to
prevent data loss).  When you get the skput: over message, write down the
address (will be different now) and the amount.  Then you will run gdb on
the vmlinux (uncompressed) kernel image built with -g and view the address.
This will tell us exactly where the problem is (unless it's in one of the
compressor modules; in that case there is a more difficult approach).
BTW, do you use any compressor modules?  If so, which ones?
Hope this helps,
-bp
--
B. James Phillippe	. bryan@terran.org
Linux Engineer/Admin	. 
http://www.terran.org/~bryan
Member since 1.1.59	. finger:bryan@earth.terran.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/