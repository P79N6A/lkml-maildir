Date: Tue, 20 Jan 2004 01:04:35 +0100
From: Pavel Machek <>
Subject: Re: Help port swsusp to ppc.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/19/227

Hi!
> > Well, then what you do is not swsusp.
> > 
> > swsusp does assume same kernel during suspend and resume. Doing resume
> > within bootloader (and thus avoiding this) would be completely
> > different design.
> 
> Wait... what the hell in swsusp requires this assumption ? It seems to
> me like a completely unnecessary design limitation.
(1) There's routine during resume that copies pages to their old
locations. If you (would want to) have different kernel during resume,
how do you guarantee that that "kernel being resumed" does not use
memory ocupied by copying routine?
(2) Plus number of problems with devices grows with number of versions
squared. To guarantee it works properly you'd have to test all
combinations of "suspend kernel" and "resume kernel".
[(1) Could be solved by reserving 4KB somewhere for copy routine, and
making sure copy routine is never bigger than 4KB etc. But I'd like to
keep it simple and really don't want to deal with (2).]
								Pavel
-- 
When do you have a heart between your knees?
[Johanka's followup: and *two* hearts?]
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/