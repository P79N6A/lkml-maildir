Date: Mon, 7 Oct 2002 11:51:46 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: The reason to call it 3.0 is the desktop (was Re: [OT] 2.6 not 3.0 -  (NUMA))
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/7/234

On Mon, 7 Oct 2002, Andrew Morton wrote:
> 
> Devices do physical readahead, and it works nicely.
Indeed. There isn't any reasonable device where this isn't the case: the
_device_ (and sometimes the driver - floppy.c) does a lot better at
readahead than higher layers can do anyway.
> Go into ext2_new_inode, replace the call to find_group_dir with
> find_group_other.
I hate that thing. Hate hate hate. Maybe we should just do this, and hope 
that somebody will do a proper off-line cleanup tool.
In the meantime, it might just be possible to take a look at the uid, and 
if the uid matches use find_group_other, but for non-matching uids use 
find_group_dir. That gives a "compact for same users, distribute for 
different users" heuristic, which might be acceptable for normal use (and 
the theoretical cleanup tool could fix it up).
Add some other heuristics ("if the difference between free group sizes is 
bigger than a factor of two"), and maybe it would be useful.
The current approach sucks for everybody, and makes it impossible to get 
good throughput on a disk on many very common loads.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/