Date: Fri, 11 Jan 2008 23:59:55 +0100
From: "Rafael J. Wysocki" <>
Subject: [PATCH] ACPI: Make sleep/main.c compile with CONFIG_PM_SLEEP unset
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/11/339

[Len, this patch applies on top of the suspend branch, please add.]
---
From: Rafael J. Wysocki <rjw@sisk.pl>
Make drivers/acpi/sleep/main.c compile with CONFIG_PM_SLEEP unset
Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
---
 drivers/acpi/sleep/main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
Index: linux-2.6/drivers/acpi/sleep/main.c
===================================================================
--- linux-2.6.orig/drivers/acpi/sleep/main.c
+++ linux-2.6/drivers/acpi/sleep/main.c
@@ -23,9 +23,9 @@
 #include "sleep.h"
 
 u8 sleep_states[ACPI_S_STATE_COUNT];
+static u32 acpi_target_sleep_state = ACPI_STATE_S0;
 
 #ifdef CONFIG_PM_SLEEP
-static u32 acpi_target_sleep_state = ACPI_STATE_S0;
 static bool acpi_sleep_finish_wake_up;
 
 /*