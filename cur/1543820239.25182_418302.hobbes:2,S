Date: Mon, 24 Apr 2006 16:37:56 +0300
From: Al Boldi <>
Subject: Re: [PATCH 1/1] threads_max: Simple lockout prevention patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/24/102

Nick Piggin wrote:
> Al Boldi wrote:
> > Could do that by:
> >
> > 	# echo 1 > /proc/sys/kernel/su-pid
> >
> > which would imply nr-threads = 1
> >
> > So maybe introduce /proc/sys/kernel/nr-threads to allow that to be
> > variable, but this isn't really critical.
>
> Why not just have su-nr-threads?
Unless I am misunderstanding you, even root/root-proc can be hit by a 
runaway, so the threads-max limits this globally which is great, but this 
may lock-you out of being able to control the situation based on uid only.
Thus this patch gives root the ability to allow a certain pid to exceed the 
threads-max limit, while all other pids are still limited.
Your comments are much appreciated!
Thanks!
--
Al
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/