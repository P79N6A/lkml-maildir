Date: Tue, 19 Feb 2002 12:03:39 +0100 (CET)
From: Jos Hulzink <>
Subject: Re: VFS issues (was: Re: 2.5.5-pre1: mounting NTFS partitions -t VFAT)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/19/59

On Tue, 19 Feb 2002, Denis Vlasenko wrote:
> > The type of a partition is written in the partition table, or something
> > similar. Maybe we should check that ?
>
> Partition type isn't available to fs driver. Think about mounting
> floppy/loopback/etc.
True. I never use floppys anymore :)
> Seems you guys are discussing non-problem here. What really needs to be done
> is to add more sanity checks to FAT superblock detection/validation code:
> * signatures like 55AA at end of 1st sector
> * sane values for various superblock data (if you see "FAT copies: 146"
>   it is more than enough to tell it's not a FAT, right?)
>
> If anyone feels so inclined, please go to fs/fat/inode.c:fat_read_super()
> and hack on it. Send your patches to Alexander Viro <viro@math.psu.edu>
> and tighten your seatbelt ;-)
Will hack tonight and see if my seatbelt is strong enough :) It has never
been used before, so maybe...
Jos
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/