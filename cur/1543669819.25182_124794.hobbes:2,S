Date: Sun, 13 Apr 2003 13:44:26 -0700
From: Andrew Morton <>
Subject: Re: 2.5.67: ppa driver & preempt == oops
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/13/85

Gert Vervoort <gert.vervoort@hccnet.nl> wrote:
>
> Andrew Morton wrote:
> 
> >This patch should make the warnings go away.
> > 
> >
> The warnings are still there:
> 
> ppa: Version 2.07 (for Linux 2.4.x)
> ppa: Found device at ID 6, Attempting to use EPP 16 bit
> ppa: Communication established with ID 6 using EPP 16 bit
> scsi0 : Iomega VPI0 (ppa) interface
> bad: scheduling while atomic!
> Call Trace:
>  [<c0117064>] schedule+0x3a4/0x3b0
>  [<c0117349>] wait_for_completion+0x99/0xe0
OK, that seems to be a different bug.  The patch actually fixes
a null pointer deref.
> error in initcall at 0xc0391ad0: returned with preemption imbalance
ick.
> When trying to mount a zip disk, the mount process gets stuck:
> 
> [root@viper root]# mount -t ext2 /dev/sda1 /mnt/zip
> SCSI device sda: 196608 512-byte hdwr sectors (101 MB)
> sda: Write Protect is off
> sda: cache data unavailable
> sda: assuming drive cache: write through
> SCSI device sda: 196608 512-byte hdwr sectors (101 MB)
> sda: Write Protect is off
> sda: cache data unavailable
> sda: assuming drive cache: write through
> 
> At this point the mount process is unkillable.
> Also strange is that the messages are printed twice.
The number of broken drivers in 2.5 continues to be depressing.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/