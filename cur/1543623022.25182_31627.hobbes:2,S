Date: Fri, 01 Mar 2002 15:33:01 +0000
From: David Woodhouse <>
Subject: Re: recalc_sigpending() / recalc_sigpending_tsk() ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/1/115

torvalds@transmeta.com said:
>  Not a chance in hell. The backwards compatibility looks like a
> trivial one-liner:
>    compat-2.4.h:
> 	#define recalc_sigpending() recalc_sigpending(current)
> so what are you complaining about? 
It may be possible, but it's not a trivial one-liner. Am I missing 
something obvious? Other than the fact that you don't care, of course.
background.c: In function `jffs2_garbage_collect_thread':
background.c:116: warning: implicit declaration of function `recalc_sigpending'
$ grep recalc_sigpending background.i 
#define __ver_recalc_sigpending _ver_str(6682695c)
#define recalc_sigpending _set_ver(recalc_sigpending)
static inline void recalc_sigpending_Rsmp_6682695c(struct task_struct *t)
#define recalc_sigpending() recalc_sigpending(current)
                recalc_sigpending(get_current());
                recalc_sigpending(get_current());
I appreciate that the old recalc_sigpending(task) needed to stop working, 
to force people to stop doing recalc_sigpending(current). How about 
recalc_sigpending_cur() and recalc_sigpending_tsk() then?
--
dwmw2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/