Date: Tue, 9 Oct 2001 00:01:58 +0000 (UTC)
From: (Linus Torvalds)
Subject: Re: linux-2.4.10-acX
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/8/165

In article <E15qi0H-0001xD-00@the-village.bc.nu>,
Alan Cox  <alan@lxorguk.ukuu.org.uk> wrote:
>> > getting very hard to merge a lot of the fixes like the truncate standards
>> > compliance stuff so they may not make Linus tree until 2.5
>> 
>> What are Linus's complaints about the faster syscall path improvement?
>
>He insisted it wouldnt make it any faster. Of course rdtsc and profiling
>counters of locked cycles show otherwise..
No, I insist that it doesn't make things _noticeably_ faster (a segment
load is something like 12 cycles on a PII), and doing it complicates the
return path unnecessarily for the default case.
I seriously doubt you've (or anybody else) measured it with rdtsc or
profiling: what you call the "fast path" is never taken on regular
system calls, only on nested calls where we return to the kernel.  How
many of those have you ever seen?
In short, has _anybody_ EVER seen any actual improvement from this ugly
"optimization"? 
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/