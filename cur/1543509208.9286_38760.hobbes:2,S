Date: Mon, 13 Sep 1999 23:07:13 +0300 (EEST)
From: Ionut Badulescu <>
Subject: Re: 2.2.12 still "attempt to access beyond end of device"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/13/154

Hi,
On Mon, 13 Sep 1999, Stephen C. Tweedie wrote:
> Was this after an unclean reboot?  It looks increasingly as if a lot of
> current PC systems have a problem with trashing random disk blocks if
> the system powerfails mid-write.  That would explain bad block accesses
> on the root device, but other devices should have been fscked cleanly
> before they'd get this sort of error.
No, it was after a clean reboot[1]. I compiled 2.2.12, installed it,
rebooted -- and got the errors. They occurred again the following night,
upon an updatedb, and that was the end of it. I even ran a fsck on that
volume (remounted r/o previously), but it didn't show up anything unusual.
> Can you isolate the problem to a specific kernel version, or does this
> seem to be a generic problem? 
I only saw it with 2.2.12. I had run 2.2.11+memleak patches previously,
and 2.2.9 before that, with no such errors occurring -- although I realize
it might be by pure chance.
Another thing of interest (maybe) is the version of gcc:
# gcc -v
Reading specs from
/usr/lib/gcc-lib/i586-pc-linux-gnulibc1/pgcc-2.91.57/specs
gcc version pgcc-2.91.57 19980901 (egcs-1.1 release)
All previous kernels, starting basically with the release date of pgcs
(09/98) had been compiled with the same compiler, though. That's quite a
few versions of 2.1 and 2.2 kernels..
Ionut
[1] Actually, there is a small chance that the volume was not unmounted
cleanly. I did the reboot remotely, and with this system being a
(modified) Slackware system, there is no log of the boot-up non-kernel
operations. On the other hand, precisely because it's a Slackware system,
it's pretty thorough when killing off processes, and in addition I added
the "remount read-only if unmounting fails" thing myself. So the
likelyhood of an unclean unmount on a clean "shutdown -rf now" is really
small indeed.
-- 
Ionut Badulescu <ib42@dnttm.ro>
System Administrator, Network Operation Center
Dynamic Network Technologies, Timisoara, Romania
Telefon: +40-56-204967 FAX: +40-56-220201 Connex GSM: #2212
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/