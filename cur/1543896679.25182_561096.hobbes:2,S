Date: Fri, 22 Jun 2007 15:12:50 +0200
From: Ingo Molnar <>
Subject: Re: [RFC PATCH 0/6] Convert all tasklets to workqueues
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/22/154

* Steven Rostedt <rostedt@goodmis.org> wrote:
> > that's where it belongs - but it first needs the cleanups suggested 
> > by Christoph.
> 
> I had the impression that he didn't want it in, but instead wanted 
> each driver to be changed separately.
that can be done too in a later stage. We cannot deprecate an API from 
one day to another. But wrapping it sanely via an existing framework 
makes complete sense.
> > > and perhaps even turn on the tasklets-as-workqueues as default.
> > 
> > that is a hack that shouldnt be in the patch. People can 
> > unapply/apply a patch just as well as they can flip a .config 
> > switch.
> 
> So should the patch be then to not even have the tasklet_softirq there 
> at all?  Have the patch simply replace the tasklets with workqueues, 
> and if someone doesn't like that, then they can simply remove the 
> patch?
yes, the softirq based tasklet implementation with workqueue based 
implementation, but the tasklet API itself should still stay.
ok, enough idle talking, lets see the next round of patches? :)
please remove all the pr_debug() lines as well - they are handy for 
development but are quite unnecessary for something headed 
upstream-wards. And please replace all the BUG_ON()s with WARN_ON_ONCE() 
...
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/