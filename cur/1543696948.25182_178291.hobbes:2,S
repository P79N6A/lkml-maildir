Date: Sat, 15 Nov 2003 00:46:27 +0100
From: "J.A. Magallon" <>
Subject: Re: 2.4.23-pre8-pac1 and -rc1-pac1 NFSv3 problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/14/172

On 11.11, Greg Louis wrote:
> On 20031111 (Tue) at 1326:47 -0500, Greg Louis wrote:
> > Kernels 2.4.23-pre7-pac1 and 2.4.23-rc1 are ok but -pre8-pac1 and
> > -rc1-pac1 behave as follows: mounting a remote directory via NFS with
> > v3 enabled (client and server) seems to work ok, and running mount with
> > no parameters shows the NFS mount, but any attempt at access fails with
> > a message like
> >   /bin/ls: reading directory /whatever/it/was: Input/output error
> 
> Reverting all changes to fs/nfs/* since 2.4.23-pre7-pac1, and only
> those, corrects the problem.
> 
/metoo
annwn:~> bpsh 0 mount   
none on /proc type proc (rw)
none on /dev/pts type devpts (rw,mode=0620)
none on /dev/shm type tmpfs (rw)
none on /tmp type tmpfs (rw)
192.168.0.1:/lib on /lib type nfs (ro,noatime,nfsvers=3,nolock,addr=192.168.0.1)
192.168.0.1:/bin on /bin type nfs (ro,noatime,nfsvers=3,nolock,addr=192.168.0.1)
192.168.0.1:/sbin on /sbin type nfs (ro,noatime,nfsvers=3,nolock,addr=192.168.0.1)
192.168.0.1:/usr on /usr type nfs (ro,noatime,nfsvers=3,nolock,addr=192.168.0.1)
192.168.0.1:/opt on /opt type nfs (ro,noatime,nfsvers=3,nolock,addr=192.168.0.1)
192.168.0.1:/home on /home type nfs (rw,nfsvers=3,noac,addr=192.168.0.1)
192.168.0.1:/work on /work/shared type nfs (rw,nfsvers=3,noac,addr=192.168.0.1)
annwn:~> bpsh 0 pwd
/home/magallon
annwn:~> bpsh 0 ls
ls: reading directory .: Invalid argument
It works for some time, and then it breaks.
Could you send me the patch you used to revert those changes ?
I will try to make a diff from rc1 to pre7 and reverse.
TIA
-- 
J.A. Magallon <jamagallon()able!es>     \                 Software is like sex:
werewolf!able!es                         \           It's better when it's free
Mandrake Linux release 10.0 (Cooker) for i586
Linux 2.4.23-rc1-jam1 (gcc 3.3.1 (Mandrake Linux 9.2 3.3.1-4mdk))
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/