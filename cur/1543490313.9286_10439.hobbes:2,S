Date: Thu, 18 Mar 1999 17:17:27 GMT
From: "Stephen C. Tweedie" <>
Subject: Re: swapping slow downs in 2.2.1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/18/131

Hi,
On Mon, 15 Mar 1999 02:24:34 +0100 (CET), Andrea Arcangeli
<andrea@e-mind.com> said:
> Looks like due swapspace fragmentation.
>> is it a bug, or is it a feature?
> Sure not a feature but neither a bug. To recover from that you can swapoff
> -a as you did. Or maybe we could defrag the swap at runtime but I don't
> think it's time to do that and I don't know how much it worth to do that. 
There are a number of ideas I've got which I may try for 2.2.3, but
the only one which looks like an obvious win for 2.2 itself is to use
the same allocation heuristics used in ext2fs, which is to look for
large aligned free spaces in the swap bitmaps when we allocate swap
pages in the first place.  Doing search for a free longword or byte in
the swap bitmaps is pretty quick, and we can resort to a bit search if
that fails.  Ext2fs benefits greatly from that simple algorithm.
--Stephen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/