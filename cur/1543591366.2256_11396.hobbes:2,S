Date: Thu, 17 May 2001 20:50:46 +0200 (CEST)
From: Joel Cordonnier <>
Subject: newbie problem: compiling kernel 2.4.4, make modules_install , Help please !
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/17/85

Hi !
It's the first time that i try to compile my own
kernel. At the moment, I have an old RH 6.1 with a
2.2.12 kernel.
I have downloaded the latest stable kernel 2.4.4
tar.gz kernel.
I follow these steps:
- make xonfig (a give what i need)
- make dep (for dependencies)
- make bzImage.
All seems OK for these steps.
Then 
- make modules and 
- make modules_install ==> PROBLEM !
FIRST the message say that no argument -F exist for
the command /sbin/depmod. So I change in the Makefile
the call 
if [ -r System.map ]; then /sbin/depmod -ae -F
System.map  2.4.4; fi
TO
if [ -r System.map ]; then /sbin/depmod -ae System.map
 2.4.4; fi
AFTER THIS CHANGE, i have the following error:
........
.......
make[1]: Entering directory
`/usr/src/linux-2.4.4/arch/i386/mm'
make[1]: Nothing to be done for `modules_install'.
make[1]: Leaving directory
`/usr/src/linux-2.4.4/arch/i386/mm'
make -C  arch/i386/lib modules_install
make[1]: Entering directory
`/usr/src/linux-2.4.4/arch/i386/lib'
make[1]: Nothing to be done for `modules_install'.
make[1]: Leaving directory
`/usr/src/linux-2.4.4/arch/i386/lib'
cd /lib/modules/2.4.4; \
mkdir -p pcmcia; \
find kernel -path '*/pcmcia/*' -name '*.o' | xargs -i
-r ln -sf ../{} pcmcia
if [ -r System.map ]; then /sbin/depmod -ae System.map
 2.4.4; fi
can't open /lib/modules/System.map/modules.dep
I check, and there is no file or directory named
/lib/modules/System.map or directory!
Help please !
Thanks
Joel
___________________________________________________________
Do You Yahoo!? -- Pour faire vos courses sur le Net, 
Yahoo! Shopping : 
http://fr.shopping.yahoo.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/