Date: Tue, 24 Aug 1999 16:55:57 -0500 (CDT)
From: "Andrew R. Baker" <>
Subject: problem with kfree
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/24/142

I am experiencing a problem while removing a module in that kfree is
reporting a bad object.  Here are the details:
I am working on getting (E)ISA support working and I have now gotten down
to getting a particular driver working (3c509), which besides it swapping
bytes around on the ethernet packets, seems to be working ok.  The problem
comes when I try to remove the module.  Specifically, kfree is giving a
"bad obj" error when trying to free the memory allocated in init_etherdev.
It is failing on the "PageSlab(page)" check, which checks to see if the
PG_Slab flag is set, which it isn't.  The page->flags field is
0x8000100 for this particular page, the flag for PageSlab is 0x200.  Any
clues on what is going wrong?  2.2.10 (with arch/mips modifications)
Thanks,
Andrew
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/