Date: Mon, 14 Jun 1999 12:21:21 +0200
From: Matthew Wilcox <>
Subject: Re: initrd redesign (was Re: Partition nightmare Was: Migrating to larger numbers)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/14/51

On Mon, Jun 14, 1999 at 11:06:36AM +0200, Werner Almesberger wrote:
> H. Peter Anvin wrote:
> > I believe that should be changed so that you actually mount
> > the new root in a standard fashion and pass the kernel a file
> > descriptor to the new root.
> 
> I'd actually favour an approach that completely de-specializes things,
> e.g. by adding a mechanism to allow mounted file system to be moved to
> other places, including on top of the existing root. Then make it
> possible to move a file system with another one on top to a different
> place, or to unmount it. I think there are actually some patches for
> at least part of such functionality floating around.
There are :-).  Al Viro & I have been bouncing patches around for a few
days now, spotting bugs in each others code and the code which already
exists.  The patch that exists on my website has the problem that it
does not allow the remounting of filesystems that do not have a device
associated with them.  The current proposed solution introduces a new
flag, MS_MOVE which indicates that the filesystem should be moved to a
new mountpoint.  I'm still unhappy with the current patch as it feels
too complex.
I'm likewise not entirely content with the initrd special case and want
to improve it.  I'm thinking hard at this point.
-- 
Matthew Wilcox <willy@bofh.ai>
"Windows and MacOS are products, contrived by engineers in the service of
specific companies. Unix, by contrast, is not so much a product as it is a
painstakingly compiled oral history of the hacker subculture." - N Stephenson
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/