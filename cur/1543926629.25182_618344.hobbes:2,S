Date: Fri, 16 Nov 2007 09:16:27 -0500
From: Trond Myklebust <>
Subject: Re: NFS Bug in 2.6.23 ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/16/79

On Fri, 2007-11-16 at 10:27 +0100, Gianluca Alberici wrote:
> Hello,
> 
> Got problems with CFS after a kernel upgrade from 2.6.20 to 2.6.23. 
> After a certain amount of time since cattach i get:
> 
> ios:~$ ls /opt/clear/
> ls: /opt/clear/: Not a directory
> 
> stracing the command i get stat64() returning ENOTDIR.
> Applications won't find the directory.
> 
> If i cd into it and ls it is like doing a refresh: everything works 
> again for a certain amount of time, then, again. It reminds me an old 
> version of CFS which used to claim: 'stale NFS file handle'.
> 
> I didnt see any NFS changes in the changeslog of 2.6.23.1 so i decided 
> to POST.
> 
> SOmebody can help ?
Can you send a binary tcpdump illustrating the problem?
  tcpdump -s 9000 -w /tmp/dump.out host cfs-servername
and then run your test...
Cheers
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/