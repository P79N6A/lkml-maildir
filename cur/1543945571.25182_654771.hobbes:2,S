Date: Sat, 16 Feb 2008 18:43:47 +0100
From: Gunter Ohrner <>
Subject: vfat32 Free Cluster Count Update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/16/175

Hi!
Doesn't the Linux vfat driver update the FAT32's free cluster summary count?
Zweiblum:~# dosfsck /dev/sda11
dosfsck 2.11, 12 Mar 2005, FAT32, LFN
/dev/sda11: 2451 files, 28218/1918827 clusters
Zweiblum:~# mount /dev/sda11 /mnt/win_daten/
Zweiblum:~# cp /etc/motd /mnt/win_daten/
Zweiblum:~# umount /mnt/win_daten/
Zweiblum:~# dosfsck /dev/sda11
dosfsck 2.11, 12 Mar 2005, FAT32, LFN
Free cluster summary wrong (1890609 vs. really 1890608)
1) Correct
2) Don't correct
? ^C
Zweiblum:~# uname -a
Linux Zweiblum 2.6.24-1-686 #1 SMP Mon Feb 11 14:37:45 UTC 2008 i686
GNU/Linux
Greetings,
  Gunter