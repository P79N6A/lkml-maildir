Date: Mon, 28 Nov 2005 12:18:11 +0000
From: Luke-Jr <>
Subject: ide-cd doesn't replace ide-scsi?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/28/36

Note: results are with 2.6.13 (-gentoo-r4 + supermount) and 2.6.14 (-gentoo)
I've been struggling with burning DVD+R DL discs and upgrading the firmware on 
my DVD burner, and just today decided to rmmod ide-cd and try using ide-scsi. 
Turns out it works... so is ide-cd *supposed* to handle cases other than 
simple reading and burning or is this a bug? If not a bug, should ide-scsi 
really be marked as deprecated?
Also, two bugs with ide-scsi:
1. On loading the module, it detects and allocates 6 SCSI devices for a single 
DVD burner (Toshiba ODD-DVD SD-R5272); kernel log for this event attached
2. On attempted unloading of the module, rmmod says 'Killed' and the module 
stays put, corrupt. There was some kind of error in dmesg, but it appears to 
have avoided syslog-- If I see it again, I'll save it.
-- 
Luke-Jr
Developer, Utopios
http://utopios.org/
Nov 28 04:13:14 [kernel] ide-scsi is deprecated for cd burning! Use ide-cd and give dev=/dev/hdX as device
Nov 28 04:13:14 [kernel] scsi2 : SCSI host adapter emulation for IDE ATAPI devices
Nov 28 04:13:15 [kernel] sr0: scsi3-mmc drive: 40x/40x writer cd/rw xa/form2 cdda tray
Nov 28 04:13:15 [kernel] Attached scsi CD-ROM sr0 at scsi2, channel 0, id 0, lun 0
Nov 28 04:13:15 [kernel] sr1: scsi3-mmc drive: 40x/40x writer cd/rw xa/form2 cdda tray
Nov 28 04:13:15 [kernel] Attached scsi CD-ROM sr1 at scsi2, channel 0, id 0, lun 1
Nov 28 04:13:15 [kernel] sr2: scsi3-mmc drive: 40x/40x writer cd/rw xa/form2 cdda tray
Nov 28 04:13:15 [kernel] Attached scsi CD-ROM sr2 at scsi2, channel 0, id 0, lun 2
Nov 28 04:13:15 [kernel] sr3: scsi3-mmc drive: 40x/40x writer cd/rw xa/form2 cdda tray
Nov 28 04:13:15 [kernel] Attached scsi CD-ROM sr3 at scsi2, channel 0, id 0, lun 3
Nov 28 04:13:15 [kernel] sr4: scsi3-mmc drive: 40x/40x writer cd/rw xa/form2 cdda tray
Nov 28 04:13:15 [kernel] Attached scsi CD-ROM sr4 at scsi2, channel 0, id 0, lun 4
Nov 28 04:13:15 [kernel] sr5: scsi3-mmc drive: 40x/40x writer cd/rw xa/form2 cdda tray
Nov 28 04:13:15 [kernel] Attached scsi CD-ROM sr5 at scsi2, channel 0, id 0, lun 5
Nov 28 04:13:15 [kernel] sr6: scsi3-mmc drive: 40x/40x writer cd/rw xa/form2 cdda tray
Nov 28 04:13:15 [kernel] Attached scsi CD-ROM sr6 at scsi2, channel 0, id 0, lun 6
Nov 28 04:13:15 [kernel] sr7: scsi3-mmc drive: 62x/62x writer cd/rw xa/form2 cdda tray
Nov 28 04:13:15 [kernel] Attached scsi CD-ROM sr7 at scsi3, channel 0, id 0, lun 0[unhandled content-type:application/pgp-signature]