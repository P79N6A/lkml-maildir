Date: Thu, 15 Mar 2007 00:33:36 -0700
From: Chris Wright <>
Subject: Re: [PATCH take3 16/20] acpi files switched
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/15/63

* Len Brown (lenb@kernel.org) wrote:
> On Thursday 15 March 2007 01:13, Steven Rostedt wrote:
> > Moved the shared files that were in arch/i386/kernel/acpi to the common
> > area.
> 
> When I do a "make cscope" on an i386 or an x86_64 box,
> will it find these files in the common area?
The simple equiv of 'make ALLSOURCE_ARCHS="$ARCH x86" cscope'
should do it.  I'm sure there's a slicker way, but this
brute force gives you an idea:
--- a/Makefile	Mon Mar 12 11:07:45 2007 -0700
+++ b/Makefile	Thu Mar 15 00:32:25 2007 -0700
@@ -1266,6 +1266,12 @@ ifeq ($(ALLSOURCE_ARCHS),)
 ifeq ($(ALLSOURCE_ARCHS),)
 ifeq ($(ARCH),um)
 ALLINCLUDE_ARCHS := $(ARCH) $(SUBARCH)
+else ifeq ($(ARCH),i386)
+ALLINCLUDE_ARCHS := x86 $(ARCH)
+ALLSOURCE_ARCHS := x86 $(ARCH)
+else ifeq ($(ARCH),x86_64)
+ALLINCLUDE_ARCHS := x86 $(ARCH)
+ALLSOURCE_ARCHS := x86 $(ARCH)
 else
 ALLINCLUDE_ARCHS := $(ARCH)
 endif
@@ -1274,7 +1280,7 @@ ALLINCLUDE_ARCHS := $(ALLSOURCE_ARCHS)
 ALLINCLUDE_ARCHS := $(ALLSOURCE_ARCHS)
 endif
 
-ALLSOURCE_ARCHS := $(ARCH)
+ALLSOURCE_ARCHS ?= $(ARCH)
 
 define find-sources
         ( find $(__srctree) $(RCS_FIND_IGNORE) \
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/