Date: Wed, 8 Oct 2003 19:32:42 +0100 (BST)
From: "Nuno Monteiro" <>
Subject: linking problem with 2.6.0-test6-bk10
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/8/104

Hi all,
I decided to give 2.6.10-test6-bk10 a spin on my gateway box, as I'm
already using it successfully on the desktop machines. The compile went
smoothly, but I came accross this linking error:
        ld -m elf_i386  -T arch/i386/kernel/vmlinux.lds.s
arch/i386/kernel/head.o arch/i386/kernel/init_task.o  
init/built-in.o --start-group  usr/built-in.o 
arch/i386/kernel/built-in.o  arch/i386/mm/built-in.o 
arch/i386/mach-default/built-in.o  kernel/built-in.o 
mm/built-in.o  fs/built-in.o  ipc/built-in.o  security/built-in.o 
crypto/built-in.o  lib/lib.a  arch/i386/lib/lib.a  lib/built-in.o 
arch/i386/lib/built-in.o  drivers/built-in.o  sound/built-in.o 
arch/i386/pci/built-in.o  net/built-in.o --end-group  -o vmlinux
arch/i386/kernel/built-in.o(.init.text+0x2ebd): In function
`centaur_mcr_insert':
: undefined reference to `mtrr_centaur_report_mcr'
make: *** [vmlinux] Error 1
I'm building for a Winchip C6 machine (although the build host is an
AthlonXP), gcc is
$ /opt/bin/gcc -v
Reading specs from /opt/lib/gcc-lib/i686-pc-linux-gnu/2.95.4/specs
gcc version 2.95.4 20010319 (prerelease)
but the exact same error occurs with mdk 9.2rc gcc 3.3.1. Binutils used:
$ ld -v
GNU ld version 2.14.90.0.5 20030722
I couldn't find any references to this particular problem in google (only
1 hit for "mtrr_centaur_report_mcr", in a bk changelog I think) or
marc.theaimsgroup.com. I issued "make oldconfig" twice, as someone not
long ago advised here on lkml, to work around some dependency mishap when
changing processor types (this tree had been used to compile for a Pentium
M and Athlon XP before, several 'make distclean' in between, both compiles
were successful). I'm attaching the config used, for reference.
Please advise.
Regards,
Nuno
[unhandled content-type:application/octet-stream]