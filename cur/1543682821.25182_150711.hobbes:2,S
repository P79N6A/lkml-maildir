Date: Wed, 23 Jul 2003 10:20:46 +0200 (CEST)
From: willy tarreau <>
Subject: Re: announce: kmsgdump update for 2.5.75
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/23/28

Hi Randy, all.
OK finally I tested 2.5.74, 2.5.75 and 2.6.0-test1 on a PIII/800. They
all allowed be to get to the interactive screen after Sysrq-D (eventhough
the keyboard was dead after that, as always on this crappy machine/bios).
I noticed that you had a #define KDEBUG which puts printk's at every
checkpoint. I wonder if it's not risky to do this within the last ones,
when the machine is nearly ready to reboot. I'm not sure if this could
work with serial consoles or frame buffer. Could you please retry with
#undef KDEBUG ?
BTW, I'm not certain that the current code is still totally compatible
with standard kernel reboot techniques. I've read through it rather
quickly and compare it to other functions such as machine_real_restart(),
etc... It may be possible that we have to stop/notify some subsystems
prior to this.
FYI, on this machine, I enabled ACPI and local APIC, but disabled preempt.
Unfortunately, I don't have enough time to recheck with different combinations
of these options.
Hoping this helps a bit...
Cheers,
Willy
___________________________________________________________
Do You Yahoo!? -- Une adresse @yahoo.fr gratuite et en fran√ßais !
Yahoo! Mail : 
http://fr.mail.yahoo.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/