Date: Wed, 10 Dec 2008 14:30:10 +0800
From: "Zhiwen Zheng" <>
Subject: IP over Fibre Channel slower than GigaEthernet ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/10/13

Hi,
To compare tcp transport speed of IP over FC to that of GigaEthernet,
I have two machines connected directly with FC or GigaEther, and run
ttcp to get the result.
configuration of the machines:
kernel version : 2.6.10
platform : xscale iop80331 500MHz
memory : 512MB DDR2
FC controller : LSI FC949x (using driver mptlan.c)
GigaEthernet controller : Intel 82546EB
In the Ethernet case,  the transport speed is about 90MB/s,
and cpu usage is about 90%.
In the FC case, the transport speed is about 60MB/s,
and cpu usage is also about 90%.
 Could someone tell me why FC is slower than GigaEthernet?
And is it possible to reduce the cpu usage through DMA or something else ?
Thanks.