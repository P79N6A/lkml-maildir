Date: Sat, 5 May 2007 18:08:05 -0700
From: Tony Lindgren <>
Subject: Re: [PATCH 4/10] ARM: OMAP: gpio init section cleanups
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/5/243

* Russell King <rmk+lkml@arm.linux.org.uk> [070505 03:29]:
> On Sat, May 05, 2007 at 11:04:26AM +0100, Russell King wrote:
> > On Mon, Apr 09, 2007 at 05:01:06PM -0400, Tony Lindgren wrote:
> > > From: David Brownell <dbrownell@users.sourceforge.net>
> > > 
> > > Minor GPIO cleanups:  remove needless #include, and omap_gpio_init()
> > > should be __init, as well as all the board init code calling it.
> > > 
> > > Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
> > > Signed-off-by: Tony Lindgren <tony@atomide.com>
> > 
> > I've applied 8 patches from this series by cherry picking it from your
> > git tree, minus this patch which git wouldn't apply due to fuzz in
> > arch/arm/plat-omap/gpio.c.
I wonder what causes the fuzz? Do you have your git tree somewhere
so I can update this patch against it?
> Incidentally, when doing a build after these patches, I'm seeing:
> 
> arch/arm/plat-omap/dma.c: In function `omap_get_dma_src_pos':
> arch/arm/plat-omap/dma.c:750: warning: 'offset' might be used uninitialized in this function
> arch/arm/plat-omap/dma.c: In function `omap_get_dma_dst_pos':
> arch/arm/plat-omap/dma.c:772: warning: 'offset' might be used uninitialized in this function
> 
> These look like they're valid warnings to me.
Thanks for letting me know, here's a patch to fix the wardning.
Regards,
Tony
Subject: ARM: OMAP: Fix warning in dma.c
Fix warning: 'offset' might be uninitialized
Signed-off-by: Tony Lindgren <tony@atomide.com>
--- a/arch/arm/plat-omap/dma.c
+++ b/arch/arm/plat-omap/dma.c
@@ -747,7 +747,7 @@ int omap_set_dma_callback(int lch,
  */
 dma_addr_t omap_get_dma_src_pos(int lch)
 {
-	dma_addr_t offset;
+	dma_addr_t offset = 0;
 
 	if (cpu_class_is_omap1())
 		offset = (dma_addr_t) (OMAP1_DMA_CSSA_L_REG(lch) |