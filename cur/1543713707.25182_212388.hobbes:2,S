Date: Tue, 6 Apr 2004 16:23:14 -0700
From: Andrew Morton <>
Subject: Re: [PATCH] NUMA API for Linux 3/ Add i386 support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/6/298

Andi Kleen <ak@suse.de> wrote:
>
> @@ -279,8 +279,11 @@
>  #define __NR_utimes		271
>  #define __NR_fadvise64_64	272
>  #define __NR_vserver		273
> +#define __NR_mbind		273
> +#define __NR_get_mempolicy	274
> +#define __NR_set_mempolicy	275
hm, those are all wrong.  I fixed it up.
Manfred, I'm going to bump the mq syscall numbers.  numa API has been
around a bit longer and I suspect more people are relying on the syscall
numbers not changing.   Whatever they were ;)
diff -puN arch/i386/kernel/entry.S~numa-api-i386 arch/i386/kernel/entry.S
--- 25/arch/i386/kernel/entry.S~numa-api-i386	Tue Apr  6 16:19:40 2004
+++ 25-akpm/arch/i386/kernel/entry.S	Tue Apr  6 16:20:40 2004
@@ -908,9 +908,9 @@ ENTRY(sys_call_table)
 	.long sys_utimes
  	.long sys_fadvise64_64
 	.long sys_ni_syscall	/* sys_vserver */
-	.long sys_ni_syscall	/* sys_mbind */
-	.long sys_ni_syscall	/* 275 sys_get_mempolicy */
-	.long sys_ni_syscall	/* sys_set_mempolicy */
+	.long sys_mbind
+	.long sys_get_mempolicy	/* 275 */
+	.long sys_set_mempolicy
 	.long sys_mq_open
 	.long sys_mq_unlink
 	.long sys_mq_timedsend
diff -puN include/asm-i386/unistd.h~numa-api-i386 include/asm-i386/unistd.h
_
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/