Date: Fri, 15 Jan 1999 15:40:37 +0200
From: Nimrod Zimerman <>
Subject: Re: Building .config into the kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/15/78

On Thu, Jan 14, 1999 at 07:32:59PM -0500, Brandon S. Allbery KF8NH wrote:
> | Natch, YOU put it on the machine, but since then they've had a few
> | system crashes, and they've tried a few things, and anyway, your kernel
> | is the only one that's ever worked on their adaptec bus with the hp
> | surestore that can't be terminated actively without killing the machine,
> | and they'd _really_ like to know what the magic combo you used to
> | compile it with is.
> 
> In a sense, that's a counterargument:  what if the magic combo was a bit of 
> code hackery?  (Suggestions to embed the full kernel source code in the 
> image will be laughed out of court...!)
Ah, that's where you get the 'listing the patches' bit advantage (and yes, I
think the two are pretty much related).
Obviously, people will have to be careful and actually *list* them (even if
all they say is 'adaptec-magic, 97/4/2'). At least you would know
this isn't the standard kernel. Knowing that, you've just saved yourself a
whole afternoon of compile-reboot-test cycles.
I typically patch little bits and pieces of my kernel. Currently, the only
way I can list these (without introducing yet another kernel
change) is to change the version string. I used to do that manually when
applying pre-patces and ac patches, for example.
However, this isn't a really good solution, as changing this causes a
recompilation of most of the kernel (if not all). And I'm on a 486 - it
takes an hour and 15 minutes to compile a kernel from scratch.
Being able to put a file somewhere, named 'ip-masq.patch', that has the line
'ip-masq fix (adding symbol to netsyms.c) - ac4 has it broken', and having
this line appear under /proc/patches - can make my life far easier. It can
cost nothing to those who don't want it.
                                                   Nimrod
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/