Date: Tue, 13 Feb 2001 14:43:40 +0000
From: David Woodhouse <>
Subject: Re: 2.4.x SMP blamed for Xfree 4.0 crashes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/13/72

gale@syntax.dera.gov.uk said:
> 
>    This is a long-standing problem with 2.3 and 2.4 SMP kernels.  I
> believe it is a kernel bug and isn't the XFree86 project's problem.
> The problem does not exist on 2.2 SMP kernels nor on 2.3/4 UP kernels.
>  The symptoms are random segfaults in perfectly fine XFree86 code.
> Anyone looking into this?
I had an XFree86 setup which was perfectly stable in RH6.2, and had been 
for some months. Upon upgrading to RH7 - with glibc-2.2 and new 
screensavers, it started falling over almost every night.
The crashes got less frequent when I started running X against glibc-2.1
(note _running_ against glibc-2.1, not just compiling against it and running
against glibc-2.2). But they were still happening. 
In the week or so since killing xscreensaver, neither of the boxen on which
I was seeing this have fallen over. Another box on which I killed 
xscreensaver but didn't run X against glibc-2.1 is still suffering, albeit 
less frequently. 
Looks like two separate bugs - I see no reason to expect that there's only 
one such bug causing X to fall over :)
If others can try these remedies and confirm that they really do help, and
it's not just the statistics playing silly buggers with my brain, that'd 
hopefully give us some lead on getting it fixed.
passion /etc/X11 $ cat X
#!/bin/sh
logger "X restarting"
free | logger
cp /var/log/XFree86.0.log /var/log/XFree86.0.log-old
sync
sync
sync
exec /usr/i386-glibc21-linux/lib/ld-linux.so.2 --library-path /usr/i386-glibc21-linux/lib /usr/X11R6/bin/XFree86-4.0.2-glibc2.1 -modulepath /usr/X11R6/lib/modules-4.0.2-glibc2.1/ "$@"
--
dwmw2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/