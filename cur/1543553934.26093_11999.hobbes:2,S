Date: Wed, 8 Nov 2000 14:25:13 +0300
From: Ivan Kokshaysky <>
Subject: Re: PCI-PCI bridges mess in 2.4.x
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/11/8/30

On Wed, Nov 08, 2000 at 01:39:31AM -0800, Richard Henderson wrote:
>   * Replace cropped found_vga detection code.
I wonder where could I lose this, it was in place initially :-)
> +	/* ??? How to turn off a bus from responding to, say, I/O at
> +	   all if there are no I/O ports behind the bus?  Turning off
> +	   PCI_COMMAND_IO doesn't seem to do the job.  So we must
> +	   allow for at least one unit.  */
I relied on DEC^WIntel 21153 datasheet which says that to turn off
io/mem window this bridge must be programmed with base > limit
values (and the code actually did that).
But this could be wrong for other bridges.
OTOH, we turn off prefetchable memory range this way in 2.2, and
it works...
Thanks for the patch,
Ivan.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/