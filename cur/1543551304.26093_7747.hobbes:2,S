Date: Wed, 11 Oct 2000 22:23:52 +0100
From: Stephen Tweedie <>
Subject: Re: Raw i/o usage wrecks block device performance??
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/11/167

Hi,
On Wed, Oct 11, 2000 at 09:28:57PM +0100, Chris Evans wrote:
> 
> The problem is best described with a little sequence. After using raw i/o
> facilities, streamed block device reads from the same underlying device
> exhibit much poorer performance than before the raw i/o.
> 
> Anyone know what's going on? Looks like a bug or inefficiency somewhere in
> the kernel.
It looks as if "hdparm -t" is getting hurt by the fact that raw IO
sets the underlying device's blocksize to 512 bytes (Unix APIs
require that raw character devices allow arbitrary sector-aligned IO).
I'll trace it once I get back from ALS to see if there's anything
obviously funny going on.
Cheers, 
 Stephen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/