Date: Wed, 27 Dec 2006 19:18:06 +0100 (MET)
From: Jan Engelhardt <>
Subject: Re: idle RAID1 cpu usage
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/27/118

On Dec 27 2006 19:09, Paul Slootman wrote:
>
>This works fine, but I noticed that quite some time was being used by
>the mdX_raid1 threads; even on a partition that's not even being used at
>this time... (it was an empty mounted filesystem, but I umounted it to
>be sure the filesystem code wasn't causing some IO).
>
>My question is: why is CPU being used by the RAID1 threads, even for
>those devices that are otherwise unused? What are they doing?
First-time synchronization (if applies), otherwise I suspect some
housekeeping (bitmap perhaps?).
Otherwise it seems like a question who does what. On a raid5 array (i.e.
cpu-heavy), both smbd and mdx_raid5 accumulate time for, of course, xor
calculation.
>I even started distributed-net to check that it wasn't just idle CPU
>cycles that were being used :-)
>
>Note: it did seem that the activity was a bit more during the first
>day after booting; in fact, the mdX_raid1 threads together had used
>about one hour's worth of CPU in the first 24 hours, i.e. 4% CPU
>(according to ps and top).
	-`J'
-- 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/