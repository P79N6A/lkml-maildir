Date: Sat, 10 Nov 2007 00:32:15 +0100
From: Matthias Schniedermeyer <>
Subject: Re: [PATCH] Add quirk to set AHCI mode on ICH boards
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/9/256

On 09.11.2007 12:04, Alan Cox wrote:
> On Thu, 8 Nov 2007 22:46:22 -0500
> Jeff Garzik <jeff@garzik.org> wrote:
> 
> > On Thu, Nov 08, 2007 at 10:29:37PM -0500, Mark Lord wrote:
> > > And I might even privately patch my own kernels to map the ACHI BAR
> > > in the cases where the BIOS didn't...
> > 
> > The inability to do this in the general case is the main reason why
> > AHCI was not unconditionally enabled, even in IDE mode, when it was
> > originally added...  :/
> 
> We've done it all the time for various devices without problems (eg S3
> video cards). I'd like to see it go in - although perhaps attached to a
> force_ahci boot param initially
I second that.
My computer/mainboard @work has such a "broken" BIOS. Of the 5 
SATA-Ports this MB has only 1 (and 1 "missing" that is reported by linux 
but i can't find on the MB) is configured as AHCI which means that with 
a HDD & a DVD-ROM connected to 2 of the 4 "piix"-ports, i only have 1 
hot-pluggable port instead of the possible 3. And for some temporary 
work i would really need at least 2 hot-pluggable ports.
So as a work-around i will try a Promise 150 TX4 controller as it is 
supposed to support hotplug since 2.6.23.
After having hotplug @home from the date the linux-kernel supporting it 
was released, i don't want to live without it, as i use it daily.
And on the topic of "broken" BIOSes. I have a little empathy for the MB 
manufactures as non-RAID AHCI royaly screws Windos, so not supporting it 
reduces their support costs enough to overlook screwing the non-windos 
faction.
Bis denn
-- 
Real Programmers consider "what you see is what you get" to be just as 
bad a concept in Text Editors as it is in women. No, the Real Programmer
wants a "you asked for it, you got it" text editor -- complicated, 
cryptic, powerful, unforgiving, dangerous.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/