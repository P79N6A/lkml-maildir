Date: Thu, 8 Nov 2001 22:10:57 +0000 (GMT)
From: Matt <>
Subject: Re: WOL stops working on halt
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/8/166

Andrew Morton mentioned the following:
| Matt wrote:
| > 
| > I have a 3c980 NIC plugged into an Abit KT7-RAID and connected together
| > with a WOL cable. I can't seem to get WOL to work using the ether-wake
| > utility if I power the box down with shutdown(8). The only way I can
| > currently get WOL to work is if I reboot the box, then physically press
| > the power button to turn it off.
| 
| As far as the driver is concerned, a shutdown and a reboot are identical,
| so we need to look at external causes.  Presumably Linux APM or BIOS.
I've looked through the BIOS settings, and there doesn't seem to be much I
can change. There was one option to toggle "ACPI Suspend" between S3 and
S5 I think, and another which was something like "PM by APM", which could
be set to either Y or N. I'm not sure what other options I should be
looking for which might make a difference...I can't see anything obvios.
I've tried enabling ACPI support, but that has succeeded in confusing me
as I can't work out how to use it, acpid seems to do nothing.
Even without APM support compiled in, the box still manages to turn itself
off, (running poweroff), and every time it won't respond to WOL. In all
cases, the card is still powered up and negotiated to the switch.
Matt
-- 
"Phase plasma rifle in a forty-watt range?"
"Only what you see on the shelves, buddy."
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/