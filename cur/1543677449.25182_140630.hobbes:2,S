Date: Sun, 15 Jun 2003 01:18:12 -0700 (PDT)
From: "David S. Miller" <>
Subject: Re: problem with blk_queue_bounce_limit()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/15/26

   From: Anton Blanchard <anton@samba.org>
   Date: Sun, 15 Jun 2003 18:04:42 +1000
   To make the best use of the IOMMU we would want to have it filled with
   addresses (to have the best chance that we will find an existing
   mapping). And for zero copy stuff it could be all over RAM. 
   In effect we are looking at a mapping from 512GB -> 3GB. (assuming the
   top 1GB of PCI addresses are for PCI IO and memory)
We have this same problem with huge files in the page cache.
Maybe you should use a trie.
Because that data structure will expand wrt. actual use.
I bet the management (especially the shared memory refcount bump)
will outweight the costs saved unless your hardware is really stupid.
But judging by the e1000/ppc64 issue, your hardware is stupid and thus
maybe it's worthwhile for you to continue to pursue this idea :)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/