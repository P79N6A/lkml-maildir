Date: 24 Jun 2004 10:42:27 -0500
From: Paul Fulghum <>
Subject: [PATCH] 2.6.7-bk7 ppp_generic.c get_filter made conditional
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/24/34

Add #ifdef CONFIG_PPP_FILTER around get_filter implementation
which is only used when this option is enabled. This
prevents compiler warning (unused function) when
CONFIG_PPP_FILTER is not defined.
--
Paul Fulghum
paulkf@microgate.com
--- linux-2.6.7/drivers/net/ppp_generic.c	2004-06-24 09:41:43.000000000 -0500
+++ linux-2.6.7-mg1/drivers/net/ppp_generic.c	2004-06-24 10:37:22.580842447 -0500
@@ -494,6 +494,7 @@
 	return mask;
 }
 
+#ifdef CONFIG_PPP_FILTER
 static int get_filter(void __user *arg, struct sock_filter **p)
 {
 	struct sock_fprog uprog;
@@ -530,6 +531,7 @@
 	*p = code;
 	return uprog.len;
 }
+#endif /* CONFIG_PPP_FILTER */
 
 static int ppp_ioctl(struct inode *inode, struct file *file,
 		     unsigned int cmd, unsigned long arg)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/