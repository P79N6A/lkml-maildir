Date: Fri, 21 Dec 2007 18:22:41 -0800
From: "H. Peter Anvin" <>
Subject: Re: [PATCH] [RFC] be more verbose when probing EDD
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/21/302

Andi Kleen wrote:
>> Those don't live in an area of memory which is hard-limited to 32K.
> 
> Why not 64k?
> 
Because the bootloader needs some memory in the same segment that it 
controls.  Furthermore, since there were some residual uses of the 
0x9000 segment (now removed, but not all bootloaders could be easily 
fixed), we were limited to about 40K for everything.
Unfortunately we already have the problem that some bootloaders (notably 
LOADLIN and mknbi) hardcoded an arbitrary limit which was even smaller 
than that (about 16K, which we're already pushing up against.)
> Ok, that's a different argument than before. Ok. Although it's
> only a few bytes. 
> 
> I would lobby for any message at least contain the suggestion to try
> edd=off. That could save users a lot of time.
The important thing is that there is a message before and after.  The 
rest can be dealt with by Google on in documentation.  That's what the 
patch currently in x86setup.git does.
	-hpa