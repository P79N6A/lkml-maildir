Date: Sun, 20 Jan 2002 14:17:08 +0100
From: "Udo A. Steinberg" <>
Subject: [PATCH] Compile Fix for Emu10K1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/20/35

Hi,
The following patch against 2.5.3-pre2 fixes compile errors with the Emu10K1 driver.
diff -Naur -X dontdiff linux-2.5.3-vanilla/drivers/sound/emu10k1/audio.c linux-2.5.3/drivers/sound/emu10k1/audio.c
--- linux-2.5.3-vanilla/drivers/sound/emu10k1/audio.c   Tue Oct  9 19:53:17 2001
+++ linux-2.5.3/drivers/sound/emu10k1/audio.c   Sun Jan 20 13:38:26 2002
@@ -1098,7 +1098,7 @@
 static int emu10k1_audio_open(struct inode *inode, struct file *file)
 {
-       int minor = MINOR(inode->i_rdev);
+       int minor = minor(inode->i_rdev);
        struct emu10k1_card *card = NULL;
        struct list_head *entry;
        struct emu10k1_wavedevice *wave_dev;
diff -Naur -X dontdiff linux-2.5.3-vanilla/drivers/sound/emu10k1/midi.c linux-2.5.3/drivers/sound/emu10k1/midi.c
--- linux-2.5.3-vanilla/drivers/sound/emu10k1/midi.c    Tue Oct  9 19:53:18 2001
+++ linux-2.5.3/drivers/sound/emu10k1/midi.c    Sun Jan 20 13:39:01 2002
@@ -87,7 +87,7 @@
 static int emu10k1_midi_open(struct inode *inode, struct file *file)
 {
-       int minor = MINOR(inode->i_rdev);
+       int minor = minor(inode->i_rdev);
        struct emu10k1_card *card = NULL;
        struct emu10k1_mididevice *midi_dev;
        struct list_head *entry;
diff -Naur -X dontdiff linux-2.5.3-vanilla/drivers/sound/emu10k1/mixer.c linux-2.5.3/drivers/sound/emu10k1/mixer.c
--- linux-2.5.3-vanilla/drivers/sound/emu10k1/mixer.c   Tue Oct  9 19:53:18 2001
+++ linux-2.5.3/drivers/sound/emu10k1/mixer.c   Sun Jan 20 13:39:22 2002
@@ -640,7 +640,7 @@
 static int emu10k1_mixer_open(struct inode *inode, struct file *file)
 {
-       int minor = MINOR(inode->i_rdev);
+       int minor = minor(inode->i_rdev);
        struct emu10k1_card *card = NULL;
        struct list_head *entry;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/