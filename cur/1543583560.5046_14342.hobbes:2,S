Date: Fri, 2 Mar 2001 11:52:01 +0100 (CET)
From: Ingo Molnar <>
Subject: [patch] ps2fix-2.4.2-A0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/3/2/28

On Fri, 2 Mar 2001, tachino Nobuhiro wrote:
> +       if (c == &misc_list) {
>
>   This should be  (c != &misc_list)
indeed, this fixed the ps2 problem for me too. Patch against -ac8
attached.
	Ingo
--- linux/drivers/char/misc.c.orig	Fri Mar  2 13:42:00 2001
+++ linux/drivers/char/misc.c	Fri Mar  2 13:42:02 2001
@@ -180,7 +180,7 @@
 
 	while ((c != &misc_list) && (c->minor != misc->minor))
 		c = c->next;
-	if (c == &misc_list) {
+	if (c != &misc_list) {
 		up(&misc_sem);
 		return -EBUSY;
 	}