Date: Thu, 02 Jan 2003 18:42:14 -0800 (PST)
From: "David S. Miller" <>
Subject: Re: [PATCH] TCP Zero Copy for mmapped files
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/2/305

   From: Thomas Ogrisegg <tom@rhadamanthys.org>
   Date: Fri, 3 Jan 2003 01:45:43 +0100
   > This isn't a priority for us.  People who want the best possible
   > performance can code their apps up to take advantage of sendfile()
   > on systems that have it.
   
   So you want to chain people to your "propritaery solution"?
   
I don't hide my APIs.
   > (and really, show me how many systems
   > lack a sendfile mechanism these days).
   
   What kind of systems are you talking about? Operating systems?
   Nearly all.
   
HPUX has it, Solaris has it, Microsoft has something very similar,
FreeBSD has it as does I believe NetBSD.  Show me the exceptions.
   It might be a bit difficult to convert all applications to
   sendfile. Especially those for which you don't have the
   source code.
   
If the performance really must be top notch, someone will invest
the time for a given application.  Otherwise, if it's not that
important enough to port why should it be important enough to put
a hack into the OS for it?
   I don't see your point. Applications which really need the
   performance will switch to sendfile anyway because of the
   problems with mmap, you mentioned.
   
Right, so why bother with your patch?
   My patch is very simple and takes less than 1KB of code but
   will speed up many applications and doesn't have a real
   drawback (except when sending "normal" data which is larger
   than a page - but that shouldn't happen very often).
   
What about the extra checks you are placing in a fast path?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/