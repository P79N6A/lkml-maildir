Date: Tue, 11 Dec 2001 15:15:21 -0600 (CST)
From: Oliver Xymoron <>
Subject: Re: how to debug a deadlock'ed kernel?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/11/159

On Tue, 11 Dec 2001, Brian Horton wrote:
> Anyone got any good tips on how to debug a SMP system that is locked up
> in a deadlock situation in the kernel? I'm working on a kernel module,
> and after some number of hours of stress testing, the box locks up. None
> of the sysrq options show anything on the display, though the reBoot
> option does reboot the system. RedHat 6.2 and its 2.2.14 kernel. Doesn't
> hang for me on 2.4, so I need to debug it here...
You might try Keith Owen's kdb. When you lock-up, hit <pause> which brings
up a kdb prompt. From there you can do backtraces, memory examination, and
disassembly on either processor.
It's often quite helpful to modify your test to narrow down what is making
it crash and/or make it happen faster. Reads vs writes, short/long
packets, etc.
-- 
 "Love the dolphins," she advised him. "Write by W.A.S.T.E.."
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/