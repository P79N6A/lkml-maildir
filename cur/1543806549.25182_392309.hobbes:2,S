Date: Wed, 1 Feb 2006 13:44:01 +0100
From: Bartlomiej Zolnierkiewicz <>
Subject: Re: [patch] SGIIOC4 limit request size
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/1/184

On 2/1/06, Jeremy Higdon <jeremy@sgi.com> wrote:
> On Wed, Feb 01, 2006 at 12:26:26PM +0100, Bartlomiej Zolnierkiewicz wrote:
> > > I'll send a better patch tomorrow.  This one depends on a byte count
> > > multiple of 2.  Though according to the chip docs, it ignores bit 0
> > > of the byte count anyway (and the address for that matter).  So I
> > > think this is functionally correct.  But I think the xcount variable
> > > is superfluous.
> >
> > it seems so
>
> Here's one that removes xcount.  It seems to work too.
> Should we set hwif->rqsize to 256, or are we pretty safe in
> expecting that the default won't rise?  The driver should be
> able to handle more, but this ioc4 hardware is weird, and it
> probably wouldn't get tested if a general change were made :-)
The current maximum request size is:
*  256 for LBA28 and ATAPI devices
* 1024 for LBA48 devices
The maximum request size allowed by IDE driver for
LBA48 devices will change to 65536 but block layer will
continue to use 1024 as a default maximum request size,
also IIRC sgiioc4 IDE is used only for ATAPI devices.
So I think that there is no need to worry about ->rqsize.
Bartlomiej
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/