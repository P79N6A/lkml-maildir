Date: Mon, 15 Dec 2008 15:54:20 -0500
From: Chris Mason <>
Subject: Re: problem with git.kernel.org
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/15/217

On Mon, 2008-12-15 at 14:15 +0100, Stefan Richter wrote:
> devzero@web.de wrote:
> [I wrote]
> >> The kernel repo is more than 100 times as big as this emerald repo, 400
> >> times as big perhaps.  
> > 
> > yes, but 
http://git.kernel.org/?p=linux/kernel/git/mason/btrfs-unstable-standalone.git
> > is a small repository, just containing the btrfs driver.
> 
> Right, I missed that.
> 
> ...
> >> Try to download with git.
> > 
> > i did, but it didn`t work either. i`m behind a http proxy.
> 
> Right again,
> $ git clone \
> 
http://www.kernel.org/pub/scm/linux/kernel/git/mason/btrfs-unstable-standalone.git
> fails here after a few objects with
> Cannot obtain needed blob ca442d313d86dc67e0a2e5d584b465bd382cbf5c
> while processing commit 96dd95de14c77309abd2521d06c4825162b85e0a.
> fatal: Fetch failed.
> 
> Chris, you should enable fetching over http by
> $ cd /pub/scm/linux/kernel/git/mason/btrfs-unstable-standalone.git
> $ cp -p hooks/post-update.sample hooks/post-update
> Also run git-update-server-info unless you are pushing something soon
> again anyway.
> 
Thanks for the hint.
I fixed the missing commit, but in this case the stand alone tree is
actually generated from the full kernel tree and has an alternates entry
pointing to the full kernel tree.  The end result was not at all good
for http clones.
So I've redone the stand alone tree a bit and it is now a clone of the
clone of the second child of the 3rd son of the original unstable tree.
Hopefully it'll work better, at least http clones work for me now.
-chris