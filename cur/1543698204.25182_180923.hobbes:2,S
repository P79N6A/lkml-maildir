Date: Mon, 1 Dec 2003 13:40:34 +0100
From:  hadmut@danisch ...
Subject: Partitions on a loopback block device?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/1/42

Hi,
I'm currently trying to do hard disk backups of some machines 
with different operating systems using a bootable Linux CD.
Backing up every single partition is fine, but overhead and
requires additional backup of the partition table in order
to be able to play it back. 
What I would like to do is to have a full backup with
dd if=/dev/hda of=somewhere
and to mount the partitions of this file with the loopback block
driver.
A simple approach would be to use losetup with the offset function for
every single parttion (while I'm not sure whether this works through 
the CHS geometry).
Would it be possible to have a loopback blockdevice recognize
partition tables and to provide partitions as any other block device?
Obviously, naming is not very elegant, but /dev/loopa0 would be a nice
analogon to /dev/hda0 and /dev/sda0
regards
Hadmut
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/