Date: Fri, 9 Jan 2009 22:43:57 +0100
From: Samuel Thibault <>
Subject: Re: Re (hello?): [PATCH] Let keyboard notifiers modify key codes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/9/354

Alan Cox, le Fri 09 Jan 2009 21:35:55 +0000, a Ã©crit :
> Samuel Thibault <samuel.thibault@ens-lyon.org> wrote:
> 
> > Came somebody have a look at this?  The need is real, the only question
> > that comes to my mind is whether notifiers are allowed to modify the
> > param they are given.  Since they are not marked const, I'd guess it'd
> > be ok?
> 
> The notifier code doesn't care.
I know, but I'm asking about current practice.
> > Make kbd_keycode() read param.value after calling the keyboard notification
> > chain, to let the callee change the translation on the fly. This for instance
> > permits to remap the physical positions of the keys independently of the
> > configured keymap, for e.g. single-handed people.
> 
> Surely that is just a new keymap ?
No. That would mean a lot of keymapSSS. Doing it the keymap way
would require to have us, us-revert-left, us-revert-right, en-uk,
uk-revert-left, uk-revert-right, etc. I really don't like that approach,
thus the "independently of the configured keymap".
This really is a problem that is orthogonal to keymaps: I'm here talking
about _physical_ keys remapping, not remapping what is printed on them
(which is done after that).
Samuel
--
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/