Date: Fri, 6 Apr 2007 09:23:38 -0500
From: "Michael" <>
Subject: Re: set up new kernel with grub
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/6/63

Hi, Wang,
Thanks for replying. So which step is doing the compilation of each 
module , "make oldconfig" or "make" ? For compilation, I mean the step 
to compile the source code to .o file.
Regards,
Mike
----- Original Message ----- 
From: "WANG Cong" <xiyou.wangcong@gmail.com>
To: "Michael" <gonwg@hotmail.com>
Cc: "linux-os (Dick Johnson)" <linux-os@analogic.com>; 
<linux-kernel@vger.kernel.org>
Sent: Thursday, April 05, 2007 10:15 PM
Subject: Re: set up new kernel with grub
> On Thu, Apr 05, 2007 at 12:28:03PM -0500, Michael wrote:
>>Hi, Dick,
>>
>>Your steps work beautifully. Thanks.
>>
>>If you could explain a little about what happens in each step, that
>>would be even better.
>>
>>> # cd /usr/src/linux-2.6.20.3
>>> If your current kernel is 2.6.20.3, edit the Makefile to
>>> add some character after "EXTRAVERSION" as EXTRAVERSION= 3x
>>> # cp .config ..
>
> Save your existing config file in the parent directory.
>
>>> # make distclean
>
> Clean the files generated by last compiling.
>
>>> # cp ../.config .
>
> Copy your .config back here.
>
>>> # make oldconfig
>
> "The make oldconfig command causes the kernel configuration process to 
> read in your existing configuration information and then prompt you 
> for a value for any kernel configuration variables that were not 
> provided set the existing kernel configuration file."
>
>>> # make
>
> Check all changed object files, and do the final kernel image link.
>
>>> # make modules_install
>
> Reinstall the newly-compiled modules.
>
>>> # make install
>
> Copy the kernel image and system.map to /boot and modify 
> /boot/grub/menu.lst (or lilo.conf) properly.
>
>
>
> -
> To unsubscribe from this list: send the line "unsubscribe 
> linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  
http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  
http://www.tux.org/lkml/
> 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/