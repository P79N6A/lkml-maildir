Date: Fri, 7 Jul 2000 19:00:26 -0400 (EDT)
From: Samuel S Chessman <>
Subject: Re: [linux-audio-dev] [PATCH++] latency-profiling for 2.4.0-test3-pre2k
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/7/117

I have been following the latency issue for some time now and I am happy
to report great strides have been taken in improving latency in the Linux
2.4.0-test2-pre?  series of patches.
Here is a snapshot of some results that show promise!
I hope to repeat them on an SMP system soon.
Benno Senoner's (sbenno at gardena dot net) latencytest used for these charts:
See 
http://www.gardena.net/benno/linux/audio/latencytest-0.42.tar.gz
for the source.
http://www.tux.org/~chessman/bench/latencytest/
 has preliminary results with
charts showing the differences when hdparm unmaskirq and 32bit are toggled.
I varied the hdparm 16/32 bit I/O and interrupt unmasking, and got a non
intuitive result, better results for 16 bit I/O,  unmasking disabled.
Tonight I will run the test with the other two cases and see if it correlates
to one of them.
System under test is a Dell GX1 400MHz PII IDE disk, running
 linux-2.4.0-test2-pre5
 mm/filemap.c patches from Andrew Morton dated Thu Jul 06 2000 - 23:21:48 EDT 
 ALSA-driver 0.5.8b
 XFree86 Version 3.3.6 w/ Mach64, glx.o, agpart kernel module
All tests are showing greater than 99% +/- 2ms for the disk tests.
The overruns appear to be mm related, Andrew's patch indicated 
sys_close() and sys_exit() still need attention.
This is getting close to usable for my purposes!
--
   Sam Chessman              "E Pluribus Linux"              chessman@tux.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/