Date: Thu, 29 Jul 1999 12:31:13 +0100
From: "Jones D (ISaCS)" <>
Subject: RE: PATCH: /dev/nvram cleanups.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/29/43

>  >> Some RTCs implement only 64 bytes of NVRAM, with bytes 64-127
>  >> mapping back to 0-63.  That way, you could not only write the
>  >> NVRAM, but make the RTC generate interrupts (which we use as
>  >> timer interrupts on some Alphas), set the system time or cause
>  >> alarms as soon as you'd have write access to the NVRAM.  AFAIK
>  >> there is no way to autodetect the size of the NVRAM.
>  > OK, I've seen a 64-byte CMOS myself. But 64 is still better than
>  > 50 :) (no, I don't have real need to access these bytes yet)
> I thought your arithmetic was better than that...
> 
>  Q> Bytes  Description
>  Q> ~~~~~  ~~~~~~~~~~~
>  Q>   14   RTC registers
>  Q>   50   CMOS RAM
>  Q> ~~~~~
>  Q>   64   Total
Yes, that's correct. The current nvram driver decodes up to 64,
using an offset of 14 for each access. At least that's what it does
when it builds the /proc/nvram interface. I'm not sure if the /dev/nvram
interface allows access to the RTC registers too.
regards,
d.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/