Date: Thu, 11 Aug 2005 17:54:33 +0800
From: Michael <>
Subject: Re: [Linux-cluster] GFS - updated patches
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/11/69

Hi, Dave,
I quickly applied gfs2 and dlm patches in kernel 2.6.12.2, it passed
compiling but has some warning log, see attachment. maybe helpful to
you.
Thanks,
Michael
On 8/11/05, David Teigland <teigland@redhat.com> wrote:
> Thanks for all the review and comments.  This is a new set of patches that
> incorporates the suggestions we've received.
> 
> 
http://redhat.com/~teigland/gfs2/20050811/gfs2-full.patch
> 
http://redhat.com/~teigland/gfs2/20050811/broken-out/
> 
> Dave
> 
> --
> Linux-cluster mailing list
> Linux-cluster@redhat.com
> 
http://www.redhat.com/mailman/listinfo/linux-cluster
>
[michael@localhost kernel-gfs2-full-2.6.12.2]$ make SUBDIRS=fs/gfs2
  LD      fs/gfs2/built-in.o
  CC [M]  fs/gfs2/acl.o
  CC [M]  fs/gfs2/bits.o
  CC [M]  fs/gfs2/bmap.o
fs/gfs2/bmap.c: In function `find_metapath':
fs/gfs2/bmap.c:320: warning: implicit declaration of function `kzalloc'
fs/gfs2/bmap.c:320: warning: assignment makes pointer from integer without a cast
  CC [M]  fs/gfs2/daemon.o
  CC [M]  fs/gfs2/dir.o
fs/gfs2/dir.c: In function `leaf_dealloc':
fs/gfs2/dir.c:1910: warning: implicit declaration of function `kzalloc'
fs/gfs2/dir.c:1910: warning: assignment makes pointer from integer without a cast
  CC [M]  fs/gfs2/eaops.o
  CC [M]  fs/gfs2/eattr.o
  CC [M]  fs/gfs2/glock.o
  CC [M]  fs/gfs2/glops.o
  CC [M]  fs/gfs2/inode.o
  CC [M]  fs/gfs2/ioctl.o
  CC [M]  fs/gfs2/jdata.o
  CC [M]  fs/gfs2/lm.o
  CC [M]  fs/gfs2/log.o
fs/gfs2/log.c: In function `gfs2_log_get_buf':
fs/gfs2/log.c:363: warning: implicit declaration of function `kzalloc'
fs/gfs2/log.c:363: warning: assignment makes pointer from integer without a cast
fs/gfs2/log.c: In function `gfs2_log_fake_buf':
fs/gfs2/log.c:393: warning: assignment makes pointer from integer without a cast
fs/gfs2/log.c: In function `gfs2_log_flush_i':
fs/gfs2/log.c:524: warning: assignment makes pointer from integer without a cast
  CC [M]  fs/gfs2/lops.o
  CC [M]  fs/gfs2/lvb.o
  CC [M]  fs/gfs2/main.o
  CC [M]  fs/gfs2/meta_io.o
  CC [M]  fs/gfs2/mount.o
  CC [M]  fs/gfs2/ondisk.o
  CC [M]  fs/gfs2/ops_address.o
  CC [M]  fs/gfs2/ops_dentry.o
  CC [M]  fs/gfs2/ops_export.o
  CC [M]  fs/gfs2/ops_file.o
fs/gfs2/ops_file.c: In function `readdir_bad':
fs/gfs2/ops_file.c:1052: warning: implicit declaration of function `kzalloc'
fs/gfs2/ops_file.c:1052: warning: assignment makes pointer from integer without a cast
fs/gfs2/ops_file.c: In function `gfs2_open':
fs/gfs2/ops_file.c:1218: warning: assignment makes pointer from integer without a cast
  CC [M]  fs/gfs2/ops_fstype.o
  CC [M]  fs/gfs2/ops_inode.o
  CC [M]  fs/gfs2/ops_super.o
  CC [M]  fs/gfs2/ops_vm.o
  CC [M]  fs/gfs2/page.o
  CC [M]  fs/gfs2/proc.o
  CC [M]  fs/gfs2/quota.o
fs/gfs2/quota.c: In function `qd_alloc':
fs/gfs2/quota.c:51: warning: implicit declaration of function `kzalloc'
fs/gfs2/quota.c:51: warning: assignment makes pointer from integer without a cast
fs/gfs2/quota.c: In function `gfs2_quota_init':
fs/gfs2/quota.c:1058: warning: assignment makes pointer from integer without a cast
  CC [M]  fs/gfs2/resize.o
  CC [M]  fs/gfs2/recovery.o
  CC [M]  fs/gfs2/rgrp.o
fs/gfs2/rgrp.c: In function `gfs2_ri_update':
fs/gfs2/rgrp.c:300: warning: implicit declaration of function `kzalloc'
fs/gfs2/rgrp.c:300: warning: assignment makes pointer from integer without a cast
fs/gfs2/rgrp.c: In function `gfs2_alloc_get':
fs/gfs2/rgrp.c:530: warning: assignment makes pointer from integer without a cast
  CC [M]  fs/gfs2/super.o
fs/gfs2/super.c: In function `gfs2_jindex_hold':
fs/gfs2/super.c:306: warning: implicit declaration of function `kzalloc'
fs/gfs2/super.c:306: warning: assignment makes pointer from integer without a cast
  CC [M]  fs/gfs2/trans.o
fs/gfs2/trans.c: In function `gfs2_trans_begin_i':
fs/gfs2/trans.c:38: warning: implicit declaration of function `kzalloc'
fs/gfs2/trans.c:38: warning: assignment makes pointer from integer without a cast
  CC [M]  fs/gfs2/unlinked.o
fs/gfs2/unlinked.c: In function `ul_alloc':
fs/gfs2/unlinked.c:154: warning: implicit declaration of function `kzalloc'
fs/gfs2/unlinked.c:154: warning: assignment makes pointer from integer without a cast
fs/gfs2/unlinked.c: In function `gfs2_unlinked_init':
fs/gfs2/unlinked.c:342: warning: assignment makes pointer from integer without a cast
  CC [M]  fs/gfs2/util.o
  LD [M]  fs/gfs2/gfs2.o
  LD      fs/gfs2/locking/dlm/built-in.o
  CC [M]  fs/gfs2/locking/dlm/lock.o
  CC [M]  fs/gfs2/locking/dlm/main.o
  CC [M]  fs/gfs2/locking/dlm/mount.o
  CC [M]  fs/gfs2/locking/dlm/sysfs.o
  CC [M]  fs/gfs2/locking/dlm/thread.o
  LD [M]  fs/gfs2/locking/dlm/lock_dlm.o
  LD      fs/gfs2/locking/harness/built-in.o
  CC [M]  fs/gfs2/locking/harness/main.o
  LD [M]  fs/gfs2/locking/harness/lock_harness.o
  LD      fs/gfs2/locking/nolock/built-in.o
  CC [M]  fs/gfs2/locking/nolock/main.o
  LD [M]  fs/gfs2/locking/nolock/lock_nolock.o
  Building modules, stage 2.
  MODPOST
*** Warning: "kzalloc" [fs/gfs2/gfs2.ko] undefined!
  CC      fs/gfs2/gfs2.mod.o
  LD [M]  fs/gfs2/gfs2.ko
  CC      fs/gfs2/locking/dlm/lock_dlm.mod.o
  LD [M]  fs/gfs2/locking/dlm/lock_dlm.ko
  CC      fs/gfs2/locking/harness/lock_harness.mod.o
  LD [M]  fs/gfs2/locking/harness/lock_harness.ko
  CC      fs/gfs2/locking/nolock/lock_nolock.mod.o
  LD [M]  fs/gfs2/locking/nolock/lock_nolock.ko