Date: Thu, 11 Dec 2003 21:20:48 +0100
From: Heinz Diehl <>
Subject: Re: 2.6.0-test11-wli-2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/11/225

On Thu Dec 11 2003, Heinz Diehl wrote:
>  fs/built-in.o(.text+0x29e6a): In function proc_task_readdir':
>  : undefined reference to __cmpdi2'
>  fs/built-in.o(.text+0x29e7d): In function proc_task_readdir':
>  : undefined reference to __cmpdi2'
>  make: *** [.tmp_vmlinux1] Error 1
Seems -wli-2 still needs the fix someone posted some days ago for -wli-1:
--- fs/proc/base.c	(revision 3)
+++ fs/proc/base.c	(working copy)
@@ -1673,12 +1673,13 @@
 	struct inode *inode = dentry->d_inode;
 	int retval = -ENOENT;
 	ino_t ino;
+	unsigned long pos = filp->f_pos;  /* avoiding "long long" filp->f_pos */
 
 	if (!pid_alive(proc_task(inode)))
 		goto out;
 	retval = 0;
 
-	switch (filp->f_pos) {
+	switch (pos) {
 	case 0:
 		ino = inode->i_ino;
 		if (filldir(dirent, ".", 1, filp->f_pos, ino, DT_DIR) < 0)
-- 
# Heinz Diehl, 68259 Mannheim, Germany
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/