Date: Sat, 9 Sep 2000 02:55:30 +0200 (MEST)
From: David Weinehall <>
Subject: [patch] Name-clash between paride & hamradio
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/8/138

This patch fixes a init-function name-clash between some code in paride
and net/hamradio. Apparently, _noone_ uses these simultaneous, as this
bug has existed since the times of v2.0.xx at least...
This patches changes the names of the init-functions for the
hamradio-drivers pt.c and pi2.c. None of the new names are used anywhere
else in the kernel.
Alan: this needs fixing in the v2.2-tree too, probably. But I don't have
a v2.2 kerneltree on my computer at the moment, so I couldn't produce a
patch for you. Guess you can hack it up yourself?
/David
  _                                                                 _ 
 // David Weinehall <tao@acc.umu.se> /> Northern lights wander      \\
//  Project MCA Linux hacker        //  Dance across the winter sky // 
\>  
http://www.acc.umu.se/~tao/
    </   Full colour fire           </ 
--- linux-2.4.0test8/drivers/net/hamradio/pi2.c.old	Sat Sep  9 01:15:19 2000
+++ linux-2.4.0test8/drivers/net/hamradio/pi2.c	Sat Sep  9 01:16:10 2000
@@ -1182,7 +1182,7 @@
 }
 
 
-int __init pi_init(void)
+int __init pi2_init(void)
 {
     int *port;
     int ioaddr = 0;
@@ -1658,7 +1658,7 @@
 
 int init_module(void)
 {
-    return pi_init();
+    return pi2_init();
 }
 
 void cleanup_module(void)
--- linux-2.4.0test8/drivers/net/hamradio/pt.c.old	Sat Sep  9 01:15:24 2000
+++ linux-2.4.0test8/drivers/net/hamradio/pt.c	Sat Sep  9 01:15:50 2000
@@ -474,7 +474,7 @@
 } /* chipset_init() */
 
 
-int __init pt_init(void)
+int __init ptwin_init(void)
 {
     int *port;
     int ioaddr = 0;
@@ -531,7 +531,7 @@
     pt0b.irq = pt0a.irq;	/* IRQ is shared */
 
     return 0;
-} /* pt_init() */
+} /* ptwin_init() */
 
 /*
  * Probe for PT card.  Also initialises the timers
@@ -1758,7 +1758,7 @@
 
 int init_module(void)
 {
-	return pt_init();
+	return ptwin_init();
 }
 
 void cleanup_module(void)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/