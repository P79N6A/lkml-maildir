Date: Fri, 3 Nov 2006 12:56:36 +0100 (CET)
From: Mikulas Patocka <>
Subject: Re: New filesystem for Linux
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/3/49

>>>> new method to keep data consistent in case of crashes (instead of
>>>> journaling),
>>>
>>> Your 32-bit transaction counter will overflow in the real world.  It
>>> will take a setup with millions of transactions per second and even
>>> then not trigger for a few years, but when it hits your filesystem,
>>> the administrator of such a beast won't be happy at all. :)
>>
>> If it overflows, it increases crash count instead. So really you have 2^47
>> transactions or 65536 crashes and 2^31 transactions between each crash.
>
> I am fully aware the counters are effectively 48-bit.  If they were
> just 32-bit, you would likely have hit the problem yourself already.
>
> JÃ¶rn
Given the seek time 0.01s, 31-bit value would last for minimum time of 248 
days when doing only syncs and nothing else. 47-bit value will last for 
reasonably long.
Mikulas