Date: Thu, 3 Nov 2005 11:09:16 -0800
From: "Paul E. McKenney" <>
Subject: Re: [PATCH] Fixes for RCU handling of task_struct
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/3/196

On Mon, Oct 31, 2005 at 08:51:19PM -0800, Andrew Morton wrote:
> Ingo Molnar <mingo@elte.hu> wrote:
> >
> > @@ -1433,7 +1485,16 @@ send_group_sigqueue(int sig, struct sigq
> >   	int ret = 0;
> > 
> >   	BUG_ON(!(q->flags & SIGQUEUE_PREALLOC));
> >  -	read_lock(&tasklist_lock);
> >  +
> >  +	while(!read_trylock(&tasklist_lock)) {
> >  +		if (!p->sighand)
> >  +			return -1;
> >  +		cpu_relax();
> >  +	}
> 
> This looks kind of ugly and quite unobvious.
> 
> What's going on there?
This was discussed in the following thread:
	http://marc.theaimsgroup.com/?l=linux-kernel&m=112756875713008&w=2
Looks like its author asked for it to be withdrawn in favor of Roland's
"[PATCH] Call exit_itimers from do_exit, not __exit_signal" patch:
	http://marc.theaimsgroup.com/?l=linux-kernel&m=113008567108608&w=2
My guess is that "Roland" is "Roland McGrath", but I cannot find the
referenced patch.  Oleg, any enlightenment?
						Thanx, Paul
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/