Date: Thu, 8 Apr 2004 19:48:23 +0200
From: Jose Luis Domingo Lopez <>
Subject: [PATCH 2.6] Add missing MODULE_PARAM to dummy.c (and MAINTAINERShip)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/8/117

Hello:
It seems the "dummy" network interface driver is missing some MODULE_*
macros, needed with kernel 2.6.x and module-init-tools to show
information about the module (parameters, author, description, etc).
A patch follows to (hopefully) correct this. Another patch includes an
entry in the MAINTAINERS file for the "dummy" module. However, I suppose 
the module author (Nick Holloway) will come up and say if he should
still be considered as the module maintainer, so to add the correct
information to the MAINTAINERS file.
Hope the patchs are correct, or at least useful to note the missing bits
I was trying to "patch" and someone else does the "technical" work :-)
Greetings.
-- 
Jose Luis Domingo Lopez
Linux Registered User #189436     Debian Linux Sid (Linux 2.6.5)
diff -Nrup linux-2.6.5/drivers/net/dummy.c linux-2.6.5-new/drivers/net/dummy.c
--- linux-2.6.5/drivers/net/dummy.c	2004-04-04 17:45:54.000000000 +0200
+++ linux-2.6.5-new/drivers/net/dummy.c	2004-04-08 19:23:23.000000000 +0200
@@ -89,7 +89,8 @@ static struct net_device_stats *dummy_ge
 static struct net_device **dummies;
 
 /* Number of dummy devices to be set up by this module. */
-module_param(numdummies, int, 0);
+MODULE_PARM(numdummies, "i");
+MODULE_PARM_DESC(numdummies, "Maximum number of dummy devices (defaults to one)");
 
 static int __init dummy_init_one(int index)
 {
@@ -144,3 +145,5 @@ static void __exit dummy_cleanup_module(
 module_init(dummy_init_module);
 module_exit(dummy_cleanup_module);
 MODULE_LICENSE("GPL");
+MODULE_DESCRIPTION("Dummy network interface driver");
+MODULE_AUTHOR("Nick Holloway <Nick.Holloway@pyrites.org.uk>");
diff -Nrup linux-2.6.5/MAINTAINERS linux-2.6.5-new/MAINTAINERS
--- linux-2.6.5/MAINTAINERS	2004-04-04 17:49:26.000000000 +0200
+++ linux-2.6.5-new/MAINTAINERS	2004-04-08 19:22:01.000000000 +0200
@@ -707,6 +707,12 @@ M:	romieu@cogenit.fr
 M:	romieu@ensta.fr
 S:	Maintained
 
+DUMMY NETWORK INTERFACE DRIVER
+P:	Nick Holloway
+M:	Nick.Holloway@pyrites.org.uk
+L:	linux-kernel@vger.kernel.org
+S:	Supported
+
 DVB SUBSYSTEM AND DRIVERS
 P:	LinuxTV.org Project
 M: 	linux-dvb-maintainer@linuxtv.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/