Date: Sat, 18 Sep 1999 10:23:34 +0400
From: Savochkin Andrey Vladimirovich <>
Subject: Re: Resource Limits Architecture
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/18/3

On Fri, Sep 17, 1999 at 10:26:32AM -0500, Jesse Pollard wrote:
> From: "Stephen C. Tweedie" <sct@redhat.com>
> > Ouch.  Now every time I want to, say, perform a page fault, the kernel
> > has to check the process's resident set size against 7 separate limits?
> > And update those 7 limits too, causing 7 separate cache misses if
> > another CPU is hosting another thread of the same process and wants to
> > do the same thing?
> > 
> You only compair aginst the minimum of the collection, computed when a
> job/session is started. All processes created afterwards deduct from the
> job/session accounting structure which would have only one value per
> resource.
You're missing the point.
You need to check if per-user resource limits allow an extra user's page at
this moment (not at the moment of session starting).  And you need to update
this per-user account.  _And_ you need to check if per-process group limits
allow an extra page at _this_ moment taking into account how much other
processes consume right now.  And so on...
So much limits is really an unnecessary overhead.
Regards
					Andrey V.
					Savochkin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/