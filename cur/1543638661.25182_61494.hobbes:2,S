Date: Sun, 4 Aug 2002 22:04:17 +0200
From: Sam Ravnborg <>
Subject: Re: [PATCH] automatic module_init ordering
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/4/142

On Sun, Aug 04, 2002 at 05:30:47PM +0200, Roman Zippel wrote:
>
> Could you try the attached patch? It should fix all the mentioned
> problems. Files are now regenerated only if something really changed.
> if_changed needed a fix to correctly save the command line and
> dependencies should be correct now.
Looks good, a few comments remains. We are down to matter of personal taste.
> +builtin_mods := $(addsuffix .builtin_mods,$(sort $(dir $(CORE_FILES) $(LIBS)
$(DRIVERS) $(NETWORKS))))
A verbose comment above this line descibing the whole concept about initcalls
would be nice. Keep it short and informative.
> +     @echo 'cmd_$(@F) := $(cmd_gen_initcalls)' > .$(@F).cmd
I would like to see $(notdir and the counterpart $(dir used instead of
$(@F) and $(@D). The latter two are deprecated by make.
See make.info.
This is general for all of kbuild, but since this is new stuff I bring it up.
        Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/