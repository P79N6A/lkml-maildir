Date: Fri, 7 Jul 2006 11:31:38 +0200
From: Vojtech Pavlik <>
Subject: Re: Generic interface for accelerometers (AMS, HDAPS, ...)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/7/68

On Thu, Jul 06, 2006 at 11:46:04PM -0300, Henrique de Moraes Holschuh wrote:
> On Thu, 06 Jul 2006, Vojtech Pavlik wrote:
> > > >We are investigating the ACPI global lock as a way to at least get the
> > > >SMBIOS to stay away from the EC while we talk to it, but we don't know if
> > > >the entire SMBIOS firmware respects that lock.
> > > 
> > > It had better, that is exactly what the ACPI Global Lock is supposed to 
> > > prevent (concurrent access to non-sharable resources between the OS and 
> > > SMI code). The ACPI DSDT contains information on whether or not the 
> > > machine requires the Global Lock in order to access the EC or whether it 
> > > is safe to access without locking.
> > 
> > Isn't that vaild only if you actully use ACPI to access the EC? (AFAIK
> > the HDAPS driver does direct port access.)
> 
> It better be valid for any OS-side access to the EC, otherwise the ACPI
> global lock would be utterly useless.  The system vendor would have done its
> own "global-lock-like" functionality without the need for an ACPI global
> lock specification.
That's what I fear does happen on many systems.
> What is not clear to me is whether an ACPI DSDT method is on the "OS side"
> or on the "SMM side" of the ACPI global lock.
No idea, sorry.
-- 
Vojtech Pavlik
Director SuSE Labs
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/