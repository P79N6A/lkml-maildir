Date: Sat, 12 Feb 2000 00:33:05 +0000 (GMT)
From: Alan Cox <>
Subject: Re: Consistent PCI - API change needed
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/12/28

> I've just been reviewing the changes to 3c59x.c, and have noticed the following
> line of code:
> 
>         vp->rx_ring = (void *)(((long)vp->priv_addr + 15) & ~15);
> 
> Can someone explain the purpose of this please?
Its to ensure the pointer is aligned, it also ensures that if it wasnt
then the kfree of the ring will crash the machine 8)
Defining a minimum alignment for kmalloc at 16 bytes would be a big help
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/