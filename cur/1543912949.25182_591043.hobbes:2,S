Date: Mon, 3 Sep 2007 01:10:09 +0200
From: "Alessandro Suardi" <>
Subject: Re: Hang in 2.6.23-rc5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/2/236

On 9/3/07, Satyam Sharma <satyam@infradead.org> wrote:
>
>
> On Mon, 3 Sep 2007, Alexey Dobriyan wrote:
> >
> > Try this from net-2.6 tree:
> >
> > --- a/net/ipv4/tcp_input.c
> > +++ b/net/ipv4/tcp_input.c
> > @@ -560,7 +560,7 @@ static u32 tcp_rto_min(struct sock *sk)
> >       struct dst_entry *dst = __sk_dst_get(sk);
> >       u32 rto_min = TCP_RTO_MIN;
> >
> > -     if (dst_metric_locked(dst, RTAX_RTO_MIN))
> > +     if (dst && dst_metric_locked(dst, RTAX_RTO_MIN))
> >               rto_min = dst->metrics[RTAX_RTO_MIN-1];
> >       return rto_min;
> >  }
>
> That's my impression as well. That's way too core/busy a codepath to have
> a bug in. As I said earlier, almost anybody testing -rc5 is sure to hit
> this within a few hours (probably less) -- sad, it greatly erodes from the
> usefulness of -rc5 as a release candidate.
>
Well - when my box locked up I was also doing a 300MB scp
 through my ipw2200 wireless interface. But I did another today
 and nothing bad happened.
In another email someone mentioned /var/log/messages - no,
 that was totally void of anything peculiar, despite the fact that
 I rebooted via Alt-SysRq T / P / S / U / B (this last did reboot
 the box). Upon restart however no, nothing in /var/log/messages.
Didn't think it was the case to set up netconsole - only one
 occurrence AND with VMWare modules loaded...
I will apply the above fix and will post again in case the hang
 issue pops up again. Thanks, ciao,
--alessandro
 "I can't believe you if I can't hear you"
   (Editors, 'Smokers Outside The Hospital Doors')
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/