Date: Wed, 19 Oct 2005 15:52:17 -0400
From: (Lennart Sorensen)
Subject: Re: How to use a USB  SD/MMC card reader?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/19/196

On Wed, Oct 19, 2005 at 09:39:13PM +0200, Helge Hafting wrote:
> I have an usb card reader (Apacer) in my desktop machine.
> 
> It has several slots for different card types. One of the slots accepts
> the compactflash cards I use in my camera.  I can mount those and
> copy the pictures, no problems there. (It becomes /dev/sdf)
> 
> Another slot accepts SD/MMC cards.  I tried inserting an MMC card,
> but nothing seems to happen.  Using /dev/sdf doesn't work - no medium.
> And /dev/sdg doesn't exist.  
> 
> I obviously have usb block devices & scsi working, or I'd be unable to use
> the compactflash cards.  I have also enabled CONFIG_MMC for this kernel. (2.6.14-rc3)
> 
> Is there anything else I should do, to make the mmc slot work too?
Your adapter might use LUNs rather than IDs for each port.  By default
(at least on most distribution compiled kernels) only LUN 0 is scanned.
You can enable scanning all LUNs on all scsi devices, or you can
manually run a script that scans for scsi devices on each LUN.
I belive the scsi-mod option max_luns should be set to 5 or 7 or
whatever many slots your device has, and that should hopefully make
things appear.
Len Sorensen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/