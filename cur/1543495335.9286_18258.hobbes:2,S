Date: Tue, 11 May 1999 04:17:47 -0400 (EDT)
From: Alexander Viro <>
Subject: Re: [question] minix_unlink() is weird or am I stupid?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/11/29

On Tue, 11 May 1999 tigran@aivazian.demon.co.uk wrote:
> Hi brethren,
> 
> In fs/minix/namei.c:minix_unlink() there is a section of code that looks
> like this (with my comments):
	[bogus code follows]
> Btw, it is not just an academical interest but I am implementing the
> unlink() method for some other filesystem and use minix as a perfect
> example of how to write a Linux fs. (ext2 is too complex to serve as a
> standard). So your help would be very appreciated.
	minixfs is *NOT* a perfect example of anything. Please, as far as
namei.c counts, use ext2 or ufs. minixfs usage of retries is relict of
ancient VFS and is very likely to contain a subtle race. For $DEITY sake,
don't propagate those bugs. I will go through that stuff as soon as FAT
patch will go into official tree and I'll post silly_rename() patch for
testing.
	BTW, I'ld really appreciate if you could let me look at your code
- I might help with namespace stuff right now.
							Cheers,
								Al
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/