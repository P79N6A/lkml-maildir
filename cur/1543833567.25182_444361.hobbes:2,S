Date: Fri, 14 Jul 2006 16:33:44 +0100
From: David Greaves <>
Subject: Re: LibPATA code issues / 2.6.17.3 (What is the next step?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/14/110

Justin Piszcz wrote:
> On Wed, 12 Jul 2006, David Greaves wrote:
> 
>> Alan Cox wrote:
>>> Ar Maw, 2006-07-11 am 09:28 -0400, ysgrifennodd Justin Piszcz:
>>>> Alan/Jeff/Mark,
>>>>
>>>> Is there anything else I can do to further troubleshoot this problem
>>>> now
>>>> that we have the failed opcode(s)?  Again, there is never any
>>>> corruption
>>>> on these drives, so it is more of an annoyance than anything else.
>>>
>>> Nothing strikes me so far other than the data not making sense. Possibly
>>> it will become clearer later if/when we see other examples.
>>
>> For me it's SMART related.
>>
>> smartctl -data -o on /dev/sda reliably gets a similar message.
>> Justin - does this smartctl command trigger a message for you?
>>
>> I've been mailing on and off since January-ish.
>> (http://marc.theaimsgroup.com/?l=linux-ide&w=2&r=7&s=libpata&q=b)
>>
>> Back in March I was running 2.6.16 (with a different version of Mark's
>> opcode patch) and I sent an email with the following info:
>>
> Unfortunately not, the correct patch you need is attached to get the
> ata_op code, against 2.6.17.3.
[mutter, mutter, getting a teeny bit fed up with applying the same
diagnostic patch (thanks Mark) and reporting this and getting no real
feedback (apart from Erik - ta - who was off base, it doesn't appear to
be BIOS and here's the pair of commands :) ... Ok, added Tejun to the
list since he's been doing EH for libata and this is some kind of E that
needs better H]
2.6.17.3 with op-code patch
smartctl -data --smart=on /dev/sda
no dmesg output
smartctl -data -o on /dev/sda
dmesg:
ata1: PIO error
ata_gen_ata_desc_sense: failed ata_op=0xb0
ata1: translated ATA stat/err 0x51/04 to SCSI SK/ASC/ASCQ 0xb/00/00
ata_gen_ata_desc_sense: failed ata_op=0x51
ata1: status=0x51 { DriveReady SeekComplete Error }
ata1: error=0x04 { DriveStatusError }
ata1: PIO error
ata_gen_ata_desc_sense: failed ata_op=0xb0
ata1: translated ATA stat/err 0x51/04 to SCSI SK/ASC/ASCQ 0xb/00/00
ata_gen_ata_desc_sense: failed ata_op=0x51
ata1: status=0x51 { DriveReady SeekComplete Error }
ata1: error=0x04 { DriveStatusError }
ata1: PIO error
ata_gen_ata_desc_sense: failed ata_op=0xb0
ata1: translated ATA stat/err 0x51/04 to SCSI SK/ASC/ASCQ 0xb/00/00
ata_gen_ata_desc_sense: failed ata_op=0x51
ata1: status=0x51 { DriveReady SeekComplete Error }
ata1: error=0x04 { DriveStatusError }
ata1: PIO error
ata_gen_ata_desc_sense: failed ata_op=0xb0
ata1: translated ATA stat/err 0x51/04 to SCSI SK/ASC/ASCQ 0xb/00/00
ata_gen_ata_desc_sense: failed ata_op=0x51
ata1: status=0x51 { DriveReady SeekComplete Error }
ata1: error=0x04 { DriveStatusError }
ata1: PIO error
ata_gen_ata_desc_sense: failed ata_op=0xb0
ata1: translated ATA stat/err 0x51/04 to SCSI SK/ASC/ASCQ 0xb/00/00
ata_gen_ata_desc_sense: failed ata_op=0x51
ata1: status=0x51 { DriveReady SeekComplete Error }
ata1: error=0x04 { DriveStatusError }
ata1: PIO error
ata_gen_ata_desc_sense: failed ata_op=0xb0
ata1: translated ATA stat/err 0x51/04 to SCSI SK/ASC/ASCQ 0xb/00/00
ata_gen_ata_desc_sense: failed ata_op=0x51
ata1: status=0x51 { DriveReady SeekComplete Error }
ata1: error=0x04 { DriveStatusError }
David
-- 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/