Date: Wed, 8 Aug 2007 13:51:32 +0400
From: (Sheplyakov Alexei)
Subject: Re: allow non root users to set io priority "idle" ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/8/140

On Mon, Aug 06, 2007 at 01:11:01PM +0200, Andi Kleen wrote:
> Very low priority can starve others when it holds some kernel resource
> needed by another task.  
Nevertheless ordinary users are permitted to lower priority ([re]nice)
and resource limits (setrlimit).
> For IO I suppose the same could happen too. e.g. low priority
> task wants to write out a page and keeps it locked until the IO 
> is finished. High priority task wants to access the page and has
> to wait until it is unlocked. Middle task generates an endless
> stream of IO that makes the idle priority writeout never finish.
I don't quite understand. There are a lot of other ways to starve such
high-priority process: 
1. renice the low-priority process
2. send it a signal
3. ptrace it
4. use something like cpulimit (
http://cpulimit.sourceforge.net/
) to stall it
....
So I think current behaviour of ionice is inconsistent (and pointless).
P.S. 
Please CC me, I'm not subscribed.
Best regards,
 Alexei
-- 
All science is either physics or stamp collecting.
[unhandled content-type:application/pgp-signature]