Date: Thu, 27 Sep 2001 08:34:29 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: [patch] exec-argsize-2.4.10-A3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/27/233

On Thu, 27 Sep 2001, Ingo Molnar wrote:
>
> Comments?
I'd actually much rather see the argument size limit go away _completely_,
and keep the arguments in the original VM instead of copying them over one
page at a time etc.
One of th ereasons for the limit is simply that otherwise there is a
_nasty_ DoS-attack by causing lots of execve()'s to happen in parallel,
and deadlocking the system by having 100 execve's all of which have 1MB of
pinned argument pages.
Leaving the data in the original VM and populating a _new_ VM has many
advantages: if you have both VM's on the mm_list, you can automatically
let the page-out logic handle the DoS case for you, and the pages aren't
pinned any more (you'd keep just _one_ page pinned in the new VM: the page
that you're currently copying in to)
We can do that these days. Traditionally we couldn't, for various reasons
(we didn't have a mm list and we didn't have the notion of independent VM
address spaces when the code was written).
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/