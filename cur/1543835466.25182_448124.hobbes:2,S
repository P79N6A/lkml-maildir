Date: Sun, 30 Jul 2006 11:55:31 +0200
From: Rene Herman <>
Subject: Re: Driver model ISA bus
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/30/43

Simon White wrote:
> Would it be better to have a name variable directly in isa_device and
> then copy that to driver in isa_register_device (like
> pci_register_device does)?
No, that wouldn't be useful. The point of this code is largely that the 
devices belong to the driver; do not have a life of their own. As such, 
naming them after the driver is the correct thibng to do.
> I was trying to look for use examples of this code in 2.6.18-rc2 but
> didn't see any.
Yes, apologies. I was converting ALSA ISA drivers to use it but had (and 
have) to deal with a few other matters first all of a sudden. I'll get 
to it shortly. There is a usage example I posted on the kernelnewbies 
list a while ago:
http://www.spinics.net/lists/newbies/msg21845.html
> Is the intent of name to be the cards address, and ndev to be the
> function on a specific card?
No, the name is just an identifier under which the driver (and devices) 
show up in sysfs and ndev the number of devices we want to the driver 
code to call our methods with -- given that ISA devices do not announce 
themselves we have to tell the driver core this.
By the way, please CC people on LKML. I'm still being busy and had to 
pick this out of the trash where it caught my eye by chance...
Rene.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/