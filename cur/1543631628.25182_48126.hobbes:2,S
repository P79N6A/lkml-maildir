Date: Fri, 24 May 2002 18:14:47 -0400
From: Jan Harkes <>
Subject: Re: negative dentries wasting ram
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/24/240

On Fri, May 24, 2002 at 10:36:30PM +0200, Andrea Arcangeli wrote:
> On Fri, May 24, 2002 at 03:55:45PM -0400, Alexander Viro wrote:
> > On Fri, 24 May 2002, Andrea Arcangeli wrote:
> > 
> > > and they provide useful cache, they remebers the i_size and everything
> > > else that you need to read from disk the next time a lookup that ends in
> > > such inode happens. It's not a "this dentry doesn't exist" kind of
> > > info after an unlink, so very very unlikely to be ever needed
> > > information. Furthmore there cannot be an huge grow of those inodes see
> > > below.
> > 
> > That's crap, since there _IS_ such a grow.  Again, they easily sit around
> > for 5-7 minutes without a single attempt to access them, while the system
> > is swapping like hell.
> 
> no-way, that's because your vm is broken then, apply vm-35 and it
> shouldn't really happen, if the system swaps inodes will be pruned
Reading this thread I just got this incredible sense of 'deja vu'.
    http://marc.theaimsgroup.com/?l=linux-kernel&m=98709057613992&w=2
    http://marc.theaimsgroup.com/?l=linux-kernel&m=98840062922352&w=2
Actually these threads are very interesting to read.
Most interesting is the following message with a patch from you, because
the dcache and icache were pruned 'too agressively' when the new VM was
on the verge of being introduced in 2.4.10 :) Considering that what you
are proposing now is even more agressive than that, it is almost amusing.
    http://marc.theaimsgroup.com/?l=linux-kernel&m=100076684905307&w=2
Jan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/