Date: Wed, 25 Aug 1999 09:49:41 -0700
From: Eric Hicks <>
Subject: Problem with machines rebooting
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/25/69

Hi all, I'm having a problem with a machine that's freezing up every few 
days. It was running the standard RedHat kernel 2.2.5-15, and has since 
been upgraded to 2.2.11 in order to try and fix this problem. Here's what I 
think is some helpful output from /var/log/messages:
Aug 23 09:05:31 drevil snmpd: Connection from 207.218.86.25
Aug 23 09:05:32 drevil modprobe: can't locate module block-major-3
Aug 23 09:05:32 drevil modprobe: can't locate module block-major-3
Aug 23 09:05:32 drevil modprobe: can't locate module block-major-22
Aug 23 09:05:32 drevil modprobe: can't locate module block-major-22
Aug 23 09:05:32 drevil kernel: end_request: I/O error, dev 02:00 (floppy), 
secto
r 0
Aug 23 09:06:02 drevil snmpd: Connection from 209.247.74.100
Aug 23 09:07:02 drevil last message repeated 7 times
Aug 23 09:09:02 drevil last message repeated 14 times
Aug 23 09:10:03 drevil last message repeated 8 times
The error about the floppy drive is what's on the console when I reboot the 
machine. These are Rackmount clones that run AMIBios if I recall. I can 
verify that if it's relevant. They're dual-processor Pentium II 
motherboards, I'm not sure which brand. I have a check in to our vendor to 
get that info. Strangely, we have lots of machines out in the field and 
don't have this problem, however, a lot of them are RH 5.2, so I hope this 
isn't either a RH version issue, or a kernel issue. Anyway, any direction 
or help is very much appreciated. Here's our dmesg output for this machine 
in case that helps:
Linux version 2.2.11 (root@drevil.intervu.net) (gcc version egcs-2.91.66 
19990314/Linux (egcs-1.1.2 release)) #1 SMP Mon Aug 23 22:59:49 GMT 1999
Intel MultiProcessor Specification v1.1
     Virtual Wire compatibility mode.
OEM ID: INTEL    Product ID: 440BX        APIC at: 0xFEE00000
Processor #0 Pentium(tm) Pro APIC version 17
Processor #1 Pentium(tm) Pro APIC version 17
I/O APIC #2 Version 17 at 0xFEC00000.
Processors: 2
mapped APIC to ffffe000 (fee00000)
mapped IOAPIC to ffffd000 (fec00000)
Detected 350804106 Hz processor.
Console: colour VGA+ 80x25
Calibrating delay loop... 349.80 BogoMIPS
Memory: 257644k/262144k available (1152k kernel code, 420k reserved, 2860k 
data, 68k init)
Checking 386/387 coupling... OK, FPU using exception 16 error reporting.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
mtrr: v1.35 (19990512) Richard Gooch (rgooch@atnf.csiro.au)
per-CPU timeslice cutoff: 100.22 usecs.
CPU0: Intel Pentium II (Deschutes) stepping 01
calibrating APIC timer ...
..... CPU clock speed is 350.7983 MHz.
..... system bus clock speed is 100.2278 MHz.
Booting processor 1 eip 2000
Calibrating delay loop... 350.62 BogoMIPS
OK.
CPU1: Intel Pentium II (Deschutes) stepping 01
Total of 2 processors activated (700.42 BogoMIPS).
enabling symmetric IO mode... ...done.
ENABLING IO-APIC IRQs
init IO_APIC IRQs
  IO-APIC pin 0, 9, 10, 11, 16, 20, 21, 22, 23 not connected.
number of MP IRQ sources: 17.
number of IO-APIC registers: 24.
testing the IO APIC.......................
.... register #00: 02000000
.......    : physical APIC id: 02
.... register #01: 00170011
.......     : max redirection entries: 0017
.......     : IO APIC version: 0011
.... register #02: 00000000
.......     : arbitration: 00
.... IRQ redirection table:
  NR Log Phy Mask Trig IRR Pol Stat Dest Deli Vect:
  00 000 00  1    0    0   0   0    0    0    00
  01 000 00  0    0    0   0   0    1    1    59
  02 0FF 0F  0    0    0   0   0    1    1    51
  03 000 00  0    0    0   0   0    1    1    61
  04 000 00  0    0    0   0   0    1    1    69
  05 000 00  0    0    0   0   0    1    1    71
  06 000 00  0    0    0   0   0    1    1    79
  07 000 00  0    0    0   0   0    1    1    81
  08 000 00  0    0    0   0   0    1    1    89
  09 000 00  1    0    0   0   0    0    0    00
  0a 000 00  1    0    0   0   0    0    0    00
  0b 000 00  1    0    0   0   0    0    0    00
  0c 000 00  0    0    0   0   0    1    1    91
  0d 000 00  1    0    0   0   0    0    0    00
  0e 000 00  0    0    0   0   0    1    1    99
  0f 000 00  0    0    0   0   0    1    1    A1
  10 000 00  1    0    0   0   0    0    0    00
  11 0FF 0F  1    1    0   1   0    1    1    A9
  12 0FF 0F  1    1    0   1   0    1    1    B1
  13 0FF 0F  1    1    0   1   0    1    1    B9
  14 000 00  1    0    0   0   0    0    0    00
  15 000 00  1    0    0   0   0    0    0    00
  16 000 00  1    0    0   0   0    0    0    00
  17 000 00  1    0    0   0   0    0    0    00
IRQ to pin mappings:
IRQ0 -> 2
IRQ1 -> 1
IRQ3 -> 3
IRQ4 -> 4
IRQ5 -> 5
IRQ6 -> 6
IRQ7 -> 7
IRQ8 -> 8
IRQ9 -> 18
IRQ10 -> 17
IRQ11 -> 19
IRQ12 -> 12
IRQ13 -> 13
IRQ14 -> 14
IRQ15 -> 15
.................................... done.
PCI: PCI BIOS revision 2.10 entry at 0xfdb81
PCI: Using configuration type 1
PCI: Probing PCI hardware
PCI: Enabling I/O for device 00:3a
Linux NET4.0 for Linux 2.2
Based upon Swansea University Computer Society NET3.039
NET4: Unix domain sockets 1.0 for Linux NET4.0.
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
Linux IP multicast router 0.06 plus PIM-SM
Starting kswapd v 1.5
Detected PS/2 Mouse Port.
Serial driver version 4.27 with no serial options enabled
ttyS00 at 0x03f8 (irq = 4) is a 16550A
ttyS01 at 0x02f8 (irq = 3) is a 16550A
pty: 256 Unix98 ptys configured
Real Time Clock Driver v1.09
PIIX4: IDE controller on PCI bus 00 dev 39
PIIX4: not 100% native mode: will probe irqs later
     ide0: BM-DMA at 0xffa0-0xffa7, BIOS settings: hda:pio, hdb:pio
     ide1: BM-DMA at 0xffa8-0xffaf, BIOS settings: hdc:pio, hdd:pio
Floppy drive(s): fd0 is 1.44M
FDC 0 is a post-1991 82077
(scsi0) <Adaptec AHA-294X Ultra SCSI host adapter> found at PCI 16/0
(scsi0) Wide Channel, SCSI ID=7, 16/255 SCBs
(scsi0) Warning - detected auto-termination
(scsi0) Please verify driver detected settings are correct.
(scsi0) If not, then please properly set the device termination
(scsi0) in the Adaptec SCSI BIOS by hitting CTRL-A when prompted
(scsi0) during machine bootup.
(scsi0) Cables present (Int-50 YES, Int-68 YES, Ext-68 NO)
(scsi0) Downloading sequencer code... 413 instructions downloaded
scsi0 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI) 5.1.19/3.2.4
        <Adaptec AHA-294X Ultra SCSI host adapter>
scsi : 1 host.
(scsi0:0:0:0) Synchronous at 20.0 Mbyte/sec, offset 8.
   Vendor: SEAGATE   Model: ST118273W         Rev: 5764
   Type:   Direct-Access                      ANSI SCSI revision: 02
Detected scsi disk sda at scsi0, channel 0, id 0, lun 0
(scsi0:0:2:0) Synchronous at 10.0 Mbyte/sec, offset 15.
   Vendor: TOSHIBA   Model: CD-ROM XM-6201TA  Rev: 1037
   Type:   CD-ROM                             ANSI SCSI revision: 02
scsi : detected 1 SCSI disk total.
SCSI device sda: hdwr sector= 512 bytes. Sectors= 35566480 [17366 MB] [17.4 GB]
3c59x.c:v0.99H 11/17/98 Donald Becker 
http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html
eth0: OEM i82557/i82558 10/100 Ethernet at 0xef40, 00:A0:C9:DF:81:06, IRQ 9.
   Board assembly 697680-001, Physical connectors present: RJ45
   Primary interface chip i82555 PHY #1.
   General self-test: passed.
   Serial sub-system self-test: passed.
   Internal registers self-test: passed.
   ROM checksum self-test: passed (0x24c9f043).
   Receiver lock-up workaround activated.
Partition check:
  sda: sda1 sda2 sda3
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 68k freed
Adding Swap: 136512k swap-space (priority -1)
VFS: Disk change detected on device fd(2,0)
end_request: I/O error, dev 02:00 (floppy), sector 0
VFS: Disk change detected on device fd(2,0)
end_request: I/O error, dev 02:00 (floppy), sector 0
VFS: Disk change detected on device fd(2,0)
end_request: I/O error, dev 02:00 (floppy), sector 0
VFS: Disk change detected on device fd(2,0)
end_request: I/O error, dev 02:00 (floppy), sector 0
And no, there's nothing in the floppy drive. I don't think we've ever 
actually used it...
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/