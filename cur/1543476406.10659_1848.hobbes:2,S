Date: Sat, 9 Jan 1999 14:14:47 -0800
From: Sang Kang <>
Subject: Re: serial port problem with 2.1.132-2.2.0pre5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/10/226

On Fri, Jan 08, 1999 at 11:46:42PM -0500, Theodore Y. Ts'o wrote:
>    Date: 	Thu, 7 Jan 1999 04:09:29 -0800
>    From: Sang Kang <kernel@mocha.sarang.net>
> 
>    The issue is that, when I first issued that command (at+...?) using
>    the mouse's middle button, not all characters were copiled to the serial
>    port but rather forgotten some characters, only displaying "at+".
>    when I typed the entire AT command, it worked fine, but when the input
>    is too fast it seems to loose the characters.  
>    Changing the baud rate lower didn't help.
> 
> This one's easy.  You have one of the buggy uart's which failed to
> deal with the new IRQ autodetection (which changed as part of code
> simplification and an attempt to deal with other buggy uarts....)
> 
> Check with setserial; you probably have an rc.serial file which is
> trying to do IRQ autodetection, and the autodetection is failing,
> leaving your IRQ for the port set to zero.  Hmm... perhaps I should
> patch the serial driver to set the irq back to its original value if the
> autodetect fails, since that's more likely to work.
> 
> The right answer is to hard code the IRQ in your rc.serial script, and
> simply declare the irq to be a specific value.  Unfortunately, IRQ
> detection on the ISA bus is devilishly hard to do right, and it can be
> failing for any number of reasons.  It doesn't help that 100 different
> manufacturers have tried to do clones of the National Semiconductor
> UART, but many of them don't do competent jobs.  So writing generic code
> which works for all of them is not particalarly easy.
> 
> 							- Ted
Ahh... You are right afterall.  i used 16550 instead of 16550A for UART.
Thanks,
Sang Kang
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/