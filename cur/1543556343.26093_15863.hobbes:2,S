Date: Sat, 2 Dec 2000 17:00:32 -0500 (EST)
From: "Albert D. Cahalan" <>
Subject: Re: /dev/random probs in 2.4test(12-pre3)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/12/2/30

David Ford writes:
> Igmar Palsenberg wrote:
>> I've seen lots of programs that will assume that if we request x bytes
>> from /dev/random it will return x bytes.
>
> I find this really humorous honestly.  I see a lot of people
> assuming that if you write N bytes or read N bytes that you will
> have done N bytes.  There are return values for these functions
> that tell you clearly how many bytes were done.
>
> Any programmer who has evolved sufficiently from a scriptie
> should take necessary precautions to check how much data was
> transferred.  Those who don't..well, there is still tomorrow.
Yeah, people write annoying little wrapper functions that
bounce right back into the kernel until the job gets done.
This is slow, it adds both source and object bloat, and it
is a source of extra bugs. What a lovely API, eh?
The fix: write_write_write_damnit() and read_read_read_damnit(),
which go until they hit a fatal error or complete the job.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/