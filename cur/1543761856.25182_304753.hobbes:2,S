Date: Mon, 21 Mar 2005 19:53:15 -0500
From: Jon Smirl <>
Subject: Re: current linus bk, error mounting root
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/21/283

Here is fedora's initrd nash script from my system. I modified it with
the sleep lines.
It already is creating the /dev node with 'mkrootdev /dev/root'
I don't think udev is even running yet. Something else is causing this.
echo "Loading libata.ko module"
insmod /lib/libata.ko
echo "Loading ata_piix.ko module"
insmod /lib/ata_piix.ko
echo "Loading raid1.ko module"
insmod /lib/raid1.ko
/sbin/udevstart
raidautorun /dev/md0
>>>echo Sleep 1
>>>sleep 1
echo Creating root device
mkrootdev /dev/root
umount /sys
echo Mounting root filesystem
mount -o defaults --ro -v -t ext3 /dev/root /sysroot
mount -t tmpfs --bind /dev /sysroot/dev
echo Switching to new root
switchroot /sysroot
umount /initrd/dev
-- 
Jon Smirl
jonsmirl@gmail.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/