Date: Fri, 02 May 2008 20:22:23 +0400
From: Stas Sergeev <>
Subject: Re: patch	driver-core-warn-about-duplicate-driver-names-on-the-same-bus.patch added to gregkh-2.6 tree
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/2/302

Hello.
Takashi Iwai wrote:
>> Another point is PM callbacks. Somehow
>> snd-pcsp will have to register them with
>> pcspkr.
> Hmm, isn't platform PM hook enough?
> pcspkr.c just sends an event at suspend or shutdown to the event
> handler.  So, if the event was shut up at the beginning in the
> handler, nothing would be needed.
I don't think I understand what you mean...
Currently, pcspkr.c just stops the timer
counter to shut up the beep.
snd-pcsp needs more. snd_pcm_suspend_all()
for instance. Since it doesn't register
itself as a platform driver any more, he
have to register itself into pcspkr.c.
Or?
I mean, sending a "shut up" event to the
pcspkr's handler is not what snd-pcsp
needs to do.