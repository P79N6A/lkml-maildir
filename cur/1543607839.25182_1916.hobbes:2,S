Date: Mon, 29 Oct 2001 15:22:28 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: please revert bogus patch to vmscan.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/29/231

On Mon, 29 Oct 2001, David S. Miller wrote:
>    Date: Mon, 29 Oct 2001 18:08:37 -0500
>
>    is completely bogus.  Without the tlb flush, the system may never update
>    the accessed bit on a page that is heavily being used.
>
> It's intentional Ben, think about the high cost of the SMP invalidate
> when kswapd is just scanning page tables.
Indeed. I thought it shouldn't mater, but apparently it does..
Does it make the accessed bit less reliable? Sure it does. But basically,
either the page is accessed SO much that it stays in the TLB all the time
(which is basically not really possible if you page heavily, I suspect),
or it will age out of the TLB on its own at which point we get the
accessed bit back.
In the worst case it does generate more noise in the reference bit logic,
but ..
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/