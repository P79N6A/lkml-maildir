Date: Sun, 31 Jan 1999 20:50:44 -0700
From:  bbraun@sparcy ...
Subject: PROBLEM: 2.2.1 ad1848.c undefined symbol isa_dma_bridge_buggy
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/31/177

[1.] One line summary of the problem:
When CONFIG_PCI undefined, isa_dma_bridge_buggy is undefined in ad1848.c
[2.] Full description of the problem/report:
isa_dma_bridge_buggy is defined in drivers/pci/quirks.c
When PCI is not used, but the sound driver is needed, PCI should not
have to be compiled into the kernel to make the sound driver work.
[3.] Keywords (i.e., modules, networking, kernel):
sound pci dma isa
[4.] Kernel version (from /proc/version):
[5.] Output of Oops.. message (if applicable) with symbolic information
     resolved (see Documentation/oops-tracing.txt)
NA
[6.] A small shell script or example program which triggers the
     problem (if possible)
[7.] Environment
Toshiba Libretto 50ct
P75, 16Meg ram, OPL3sa2 sound card w/mss.
[7.1.] Software (add the output of the ver_linux script here)
-- Versions installed: (if some fields are empty or looks
-- unusual then possibly you have very old versions)
Linux dinky.synack.net 2.2.1 #2 Mon Apr 13 18:32:59 MDT 1998 i586 unknown
Kernel modules         2.1.85
Gnu C                  2.7.2.3
Binutils               2.9.1.0.15
Linux C Library        2.0.7
Dynamic linker         ldd (GNU libc) 2.0.7
Linux C++ Library      2.8.0
Procps                 1.2.9
Mount                  2.8a
Net-tools              (1998-06-29)
Kbd                    0.96
Sh-utils               1.16
[7.2.] Processor information (from /proc/cpuinfo):
processor       : 0
vendor_id       : GenuineIntel
cpu family      : 5
model           : 2
model name      : Pentium 75 - 200
stepping        : 12
cpu MHz         : 99.899262
fdiv_bug        : no
hlt_bug         : no
sep_bug         : no
f00f_bug        : yes
fpu             : yes
fpu_exception   : yes
cpuid level     : 1
wp              : yes
flags           : fpu vme de pse tsc msr mce cx8
bogomips        : 39.83
[7.3.] Module information (from /proc/modules):
3c589_cs                5792   1
ds                      5460   2 [3c589_cs]
i82365                 10644   2
pcmcia_core            29256   0 [3c589_cs ds i82365]
opl3sa2                 3400   0
ad1848                 14224   0 [opl3sa2]
mpu401                 17616   0 [opl3sa2]
[7.4.] SCSI information (from /proc/scsi/scsi)
NA
[7.5.] Other information that might be relevant to the problem
       (please look in /proc and include all information that you
       think to be relevant):
[X.] Other notes, patches, fixes, workarounds:
This is a diff of changes I made to ad1848.c to make it work:
1206a1207,1210
> 	/* macro added by bbraun.  isa_dma_bridge_buggy not defined if
> 	 * PCI bus is not in use.
> 	 */
> #ifdef CONFIG_PCI
1207a1212
> #endif
1214a1220,1223
> 	/* macro added by bbraun.  isa_dma_bridge_buggy not defined if
> 	 * PCI bus is not in use.
> 	 */
> #ifdef CONFIG_PCI
1215a1225
> #endif
1242a1253,1256
> 	/* macro added by bbraun.  isa_dma_bridge_buggy not defined if
> 	 * PCI bus is not in use.
> 	 */
> #ifdef CONFIG_PCI
1243a1258
> #endif
1250a1266,1269
> 	/* macro added by bbraun.  isa_dma_bridge_buggy not defined if
> 	 * PCI bus is not in use.
> 	 */
> #ifdef CONFIG_PCI
1251a1271
> #endif
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/