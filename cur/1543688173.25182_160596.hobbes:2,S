Date: Tue, 26 Aug 2003 16:50:59 -0700
From: "Pallipadi, Venkatesh" <>
Subject: RE: [PATCH][2.6][2/5]Support for HPET based timer
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/26/302

> -----Original Message-----
> From: john stultz [mailto:johnstul@us.ibm.com] 
> 
> Well, the difficult part is deciding in time_init() if we are going to
> use HPET without touching the hardware (to say, check if its actually
> there).
> 
Yes. But, currently we are using ACPI early table parse to look at HPET.
So we should be OK here.
Even if accessing HPET hardware fails later, in the late_time_init(), 
we can fallback to PIT, as long as calibrate_delay() is done after 
late_time_init().
> We could pick a simple time source (ie: PIT) that would get us through
> early boot, then choose the real time source in late_time_init(). That
> would also make implementing the ACPI PM time-source much simpler as
we
> could wait until after ACPI is up, letting us avoid having to parse
the
> tables by hand.
> 
> However I'm not sure it would be trivial and bug free. ;)
> 
Depending on multiple time sources may not be good idea, IMO. May be, 
one day we will have a fully-legacy-free system with no PIT. :)
Thanks,
-Venkatesh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/