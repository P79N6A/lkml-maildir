Date: Mon, 12 Jan 2004 11:18:47 -0800
From: Andy Lutomirski <>
Subject: loopback over reiserfs broken in 2.6.1-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/12/154

Hi-
on 2.6.1-mm1, where /var is reiserfs:
[root@luto var]# dd if=/dev/zero of=foo count=1024
1024+0 records in
1024+0 records out
[root@luto var]# losetup /dev/loop0 foo
ioctl: LOOP_SET_FD: Invalid argument
This works on ext3 and XFS, and it worked on -test11.  It does not work 
in /tmp or anything bind-mounted off reiserfs, but it does work in bind 
mounts from ext3.  Any ideas?
/proc/mounts:
rootfs / rootfs rw 0 0
/dev/root / ext3 rw,noatime 0 0
none /dev devfs rw 0 0
/proc /proc proc rw 0 0
/sys /sys sysfs rw 0 0
usbdevfs /proc/bus/usb usbdevfs rw 0 0
none /dev/pts devpts rw 0 0
none /dev/shm tmpfs rw 0 0
/dev/hda5 /usr reiserfs rw,noatime 0 0
/dev/hda6 /var reiserfs rw,nosuid 0 0
/dev/hda7 /data xfs rw,noatime,nosuid,usrquota,logbufs=8 0 0
tmpfs /dev/shm tmpfs rw 0 0
/dev/hda6 /var/tmp reiserfs rw,nosuid 0 0
--Andy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/