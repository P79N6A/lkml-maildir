Date: Sat, 01 Jan 2005 13:34:29 +1100
From: Nick Piggin <>
Subject: Re: 2.5isms
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/31/131

Justin Pryzby wrote:
> Hi all, I have more 2.5isms for the list.  ./fs/binfmt_elf.c:
> 
>   #ifdef CONFIG_X86_HT
>                   /*
>                    * In some cases (e.g. Hyper-Threading), we want to avoid L1
>                    * evictions by the processes running on the same package. One
>                    * thing we can do is to shuffle the initial stack for them.
>                    *
>                    * The conditionals here are unneeded, but kept in to make the
>                    * code behaviour the same as pre change unless we have
>                    * hyperthreaded processors. This should be cleaned up
>                    * before 2.6
>                    */
> 
>                   if (smp_num_siblings > 1)
>                           STACK_ALLOC(p, ((current->pid % 64) << 7));
>   #endif
> 
Can we just kill it? Or do it unconditionally? Or maybe better yet, wrap
it properly in arch code?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/