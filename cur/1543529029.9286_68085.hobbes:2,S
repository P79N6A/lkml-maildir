Date: Wed, 8 Mar 2000 11:38:23 +0000 (GMT)
From: Tigran Aivazian <>
Subject: Re: [patch-2.3.50-pre2] bdget() needs to be exported
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/8/32

On Wed, 8 Mar 2000, Mike Galbraith wrote:
> OK, I think I have it fixed, and would _really_ appreciate it if you would
> test/confirm.  (would very much like to see this problem finally die..
> and stay dead long enough for someone to actually use the device :)
Hi Mike,
I tested your patch and it works ok (no initrd, just plain ramdisk) but I
have questions/comments:
1. I believe there is no need to check return of rbh = getblk() as
getblk() never returns NULL. This is why things like bread()/breada()
never check the return of getblk().
2. why do we mark_buffer_protected(rbh)? I thought the point was to make
bdflush to skip them when flushing buffers but looking at bdflush()
sources it skips !buffer_dirty() and buffer_locked() buffers and nothing
(except obviously show_buffers()) seems to ask if(buffer_protected(bh))
question.
Hence my question - does mark_buffer_protected(bh) serve any purpose?
Regards
------
Tigran A. Aivazian           | 
http://www.sco.com
Escalations Research Group   | tel: +44-(0)1923-813796
Santa Cruz Operation Ltd     | 
http://www.ocston.org/~tigran
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/