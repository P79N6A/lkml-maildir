Date: Thu, 19 Aug 2004 19:15:42 -0700
From: "Perez-Gonzalez, Inaky" <>
Subject: RE: PATCH futex on fusyn (Was: RE: [RFC/PATCH] FUSYN Realtime & robust mutexes for Linux, v2.3.1)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/19/335

> From: Ingo Molnar [mailto:mingo@elte.hu]
> * Perez-Gonzalez, Inaky <inaky.perez-gonzalez@intel.com> wrote:
> 
> > Performance:
> 
> > Environment                       Seconds (10 continuous runs averaged)
> > -----------                       -------------------
> > plain NPTL and futexes            0.97
> > plain NPTL, futexes use fuqueues  1.15
> > Under RTNPTL, using fulocks       1.48
> 
> hm, nice - only ~18% slowdown for a very locking-intense workload. If
> that could be made somewhat lower (without bad compromises) it would
> kill most of the performance-based objections.
That's what I am working on now. As I cannot find no obvious 
bottlenecks, I am playing with some simple, small random optimizations
[mostly centered around the hash table lookup code, vl_find*()].
If that doesn't yield any quick improvements, I'll have to dig
further and think some more.
Volanomark is showing some slowdown too, although smaller. However,
seems on the right track.
> the RTNPTL overhead (+~30%) is to be expected i guess - but it's
> optional so no pain.
Still it is too much--I need to at least cut that in half.
Will let you know as soon as I have some new stuff.
Iñaky Pérez-González -- Not speaking for Intel -- all opinions are my own (and my fault)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/