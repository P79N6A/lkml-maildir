Date: Thu, 3 Apr 2003 22:16:26 -0500 (EST)
From: Zwane Mwaikambo <>
Subject: Re: [PATCH][2.5] smp_call_function needs mb() - oopsable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/3/259

On Thu, 3 Apr 2003, Zwane Mwaikambo wrote:
> I'm compiling with rmb before the APIC EOI, which is after the local 
> variable assignments (i'll post the results in a bit, slow build box).
I just got this which can only be as a result of the changes (the kernel 
has otherwise passed this test case over 10 times over a period of 2 
days). It could be due to me hitting another interrupt whilst in that 
handler (we have interrupts enabled in smp_call_function_interrupt) but 
i'm trying to think of other ways we could otherwise trigger a GPF.
general protection fault: 0000 [#1]
CPU:    1
EIP:    0060:[<08410005>]    Not tainted
EFLAGS: 00210002
EIP is at 0x8410005
eax: 40a2d700   ebx: c010a24a   ecx: c033d1d4   edx: 40a2d760
esi: 40a2d760   edi: 00daf9f8   ebp: 000000c6   esp: c39f9fd4
ds: 007b   es: 007b   ss: 0068
Process rhn-applet (pid: 1507, threadinfo=c39f8000 task=c8316040)
Stack: c4e94f88 bfffec78 000000d6 0000007b 0000007b fffffffb 40a23ef9 
00000073 
       00200216 bfffec48 0000007b 
Call Trace:
Code:  Bad EIP value.
 <0>Kernel panic: Aiee, killing interrupt handler!
In interrupt handler - not syncing
-- 
function.linuxpower.ca
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/