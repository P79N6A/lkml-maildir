Date: Tue, 10 Aug 1999 18:51:10 +0100 (BST)
From: "Robert de Bath" <>
Subject: Re: > 1 meg bzImage
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/12/12

On Tue, 10 Aug 1999, H. Peter Anvin wrote:
> Robert de Bath wrote:
> > 
> > On Mon, 9 Aug 1999, H. Peter Anvin wrote:
> > 
> > > Robert de Bath wrote:
> > > >
> > > > Please could one (or four) of the floppy minors be mapped onto the
> > > > first IDE LS-120 drive or sda1-4 of a Zip drive for multi-system boot
> > > > 'super-'floppies because otherwise it's _impossible_ to predict which
> > > > device the floppy drive will be so we can't mount root!
> > > >
> > >
> > > initrd.
> > Yes, but how do you tell it's a floppy?
> > It ain't anywhere in /proc that I can see.
> > 
> 
> Sure it is:
> 
> /proc/ide/ide*/hd*/media
Ah, I see a bug!  I'd guess that something has a problem getiing it's mind 
around the fact that an IDE interface can appear in mid flight :-)
-- 
Rob.                          (Robert de Bath <
http://poboxes.com/rdebath>
)
                    <rdebath @ poboxes.com> <
http://www.cix.co.uk/~mayday>
Script started on Tue Aug 10 18:39:54 1999
p2(root@debian)/root# mdir d:
 Volume in drive D has no label
 Volume Serial Number is 0000-0001
 Directory for D:/
unixto~1     <DIR>     12-15-1998  18:34  Unix tools
scotoo~1     <DIR>     12-15-1998  18:35  SCO tools
dostoo~1     <DIR>     12-15-1998  18:35  DOS tools
dist         <DIR>     12-30-1998  18:11  Dist
telix        <DIR>     01-17-1999  17:59
w95too~1     <DIR>     12-15-1998  18:36  W95 tools
stuff        <DIR>     12-30-1998  18:17  Stuff
msc          <DIR>     01-17-1999  18:03
floppies     <DIR>     04-11-1999  13:34
        9 file(s)                 0 bytes
                         28 579 840 bytes free
p2(root@debian)/root# hdparm -i /dev/hdc
/dev/hdc:
 HDIO_GET_MULTCOUNT failed: Input/output error
 Model=LS-120 SLIM 02 UHD Floppy, FwRev=0011K14G, SerialNo=84A00218
 Config={ Removeable nonMagnetic }
 RawCHS=0/0/0, TrkSize=0, SectSize=0, ECCbytes=0
 BuffType=0(?), BuffSize=0kB, MaxMultSect=0
 DblWordIO=no, maxPIO=2(fast), DMA=no
 CurCHS=0/0/0, CurSects=0, LBA=yes, LBAsects=0
 IORDY=yes, tPIO={min:240,w/IORDY:240}, PIO modes:
p2(root@debian)/root# grep . /proc/ide/ide*/hd*/media
disk
p2(root@debian)/root# ls -l  /proc/ide/ide*/hd*/media
-r--r--r--   1 root     root            0 Aug 10 18:41 /proc/ide/ide0/hda/media
p2(root@debian)/root# cat /proc/devices
Character devices:
  1 mem
  2 pty
  3 ttyp
  4 ttyS
  5 cua
  7 vcs
 10 misc
 29 fb
254 pcmcia
Block devices:
  1 ramdisk
  3 ide0
  9 md
 22 ide1
p2(root@debian)/root# cat /proc/version
Linux version 2.2.9 (root@debian) (gcc version 2.7.2.3) #1 Sat May 29 08:59:03 B
ST 1999
p2(root@debian)/root# lsmod
Module                  Size  Used by
serial_cs               3848   0  (unused)
serial                 34968   0  [serial_cs]
3c589_cs                6332   1
ide-floppy              8060   0  (autoclean)
ide_cs                  3132   1
ds                      6144   2  [serial_cs 3c589_cs ide_cs]
i82365                 20756   2
pcmcia_core            35096   0  [serial_cs 3c589_cs ide_cs ds i82365]
nls_iso8859-1           2024   1  (autoclean)
nls_cp437               3548   1  (autoclean)
vfat                   11100   1  (autoclean)
fat                    23912   1  (autoclean) [vfat]
p2(root@debian)/root# exit
Script done on Tue Aug 10 18:45:49 1999
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/