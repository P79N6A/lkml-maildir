Date: Sat, 21 Oct 2000 13:08:26 -0700 (PDT)
From: "Brian J. Murrell" <>
Subject: Re: reproducable oops with 2.4.0-test9/reiserfs-3.6.17
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/21/22

from the quill of Chris Mason <mason@suse.com> on scroll <13680000.972144523@coffee>
> 
> --On 10/15/00 03:19:17 -0700 "Brian J. Murrell" <f1ce534781aac13609ebf8eb626228cd@interlinx.bc.ca> wrote:
> 
> > During the cpio I get:
> > 
> > kernel BUG at highmem.c:221!
> > invalid operand: 0000
> > CPU:    0
> > EIP:    0010:[kunmap_high+28/120]
> 
> Sigh, kunmap works a little better when you send it a page.  Try this:
Thanks for the response Chris!!
Unfortunately, that BUG might have been a red herring.  After applying
your patch I get very much the same thing still during the cpio.  strace
of cpio during the copy confirms that it is in "close()" that this bombs.
Oct 21 12:53:07 pc kernel: ReiserFS version 3.6.18
Oct 21 12:54:14 pc kernel: Unable to handle kernel NULL pointer dereference at virtual address 00000014
Oct 21 12:54:14 pc kernel:  printing eip:
Oct 21 12:54:14 pc kernel: c0163dcf
Oct 21 12:54:14 pc kernel: *pde = 00000000
Oct 21 12:54:14 pc kernel: Oops: 0000
Oct 21 12:54:14 pc kernel: CPU:    0
Oct 21 12:54:14 pc kernel: EIP:    0010:[create_virtual_node+687/1216]
Oct 21 12:54:14 pc kernel: EFLAGS: 00010213
Oct 21 12:54:14 pc kernel: eax: 00000000   ebx: 0000000f   ecx: c5ab99ec   edx: 00000ef8
Oct 21 12:54:14 pc kernel: esi: 00000000   edi: c163704c   ebp: c1637000   esp: c5ab9884
Oct 21 12:54:14 pc kernel: ds: 0018   es: 0018   ss: 0018
Oct 21 12:54:14 pc kernel: Process cpio (pid: 819, stackpage=c5ab9000)
Oct 21 12:54:14 pc kernel: Stack: c1637000 c163704c 00000000 00000ef8 00000030 00000000 c0f02300 00000002 
Oct 21 12:54:14 pc kernel:        c0efc018 00000000 c5ab99ec 00000000 c0f02300 c01654cd c5ab99ec 00000000 
Oct 21 12:54:14 pc kernel:        c005b380 c015dbd0 c5ab9df4 c6900600 00001ee0 1000da5d 00000000 00000ef8 
Oct 21 12:54:14 pc kernel: Call Trace: [ip_check_balance+877/2912] [do_balance_mark_leaf_dirty+80/112] [journal_mark_dirty+667/688] [fix_nodes+211/1008] [tasklet_hi_action+54/96] [journal_mark_dirty+667/688] [reiserfs_insert_item+137/272] 
Oct 21 12:54:14 pc kernel:        [indirect2direct+569/800] [reiserfs_cut_from_item+246/1056] [is_tree_node+76/112] [reiserfs_do_truncate+822/1136] [reiserfs_truncate_file+180/496] [devfsd_buf_size+8132/39500] [devfsd_buf_size+26735/39500] [reiserfs_file_release+437/816] 
Oct 21 12:54:14 pc kernel:        [reiserfs_file_release+771/816] [devfsd_buf_size+8452/39500] [devfsd_buf_size+26735/39500] [file_read_actor+0/256] [fput+54/208] [filp_close+83/96] [sys_close+67/80] [system_call+51/64] 
Oct 21 12:54:14 pc kernel: Code: ff 50 14 89 c2 8b 5d 00 01 da 89 55 00 8b 5c 24 38 83 c4 10 
Any other ideas?
b.
-- 
Brian J. Murrell
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/