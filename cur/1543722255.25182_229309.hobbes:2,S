Date: Tue, 22 Jun 2004 08:17:55 -0700
From: William Lee Irwin III <>
Subject: [profile]: [19/23] remove public decls of profile.c internal state
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/22/139

Privatize prof_buffer, prof_len, and prof_shift.
Index: prof-2.6.7/include/linux/profile.h
===================================================================
--- prof-2.6.7.orig/include/linux/profile.h	2004-06-22 07:25:44.336423008 -0700
+++ prof-2.6.7/include/linux/profile.h	2004-06-22 07:25:59.265153496 -0700
@@ -17,12 +17,6 @@
 void profile_tick(unsigned long);
 int profiling_on(void);
 
-extern unsigned int * prof_buffer;
-extern unsigned long prof_len;
-extern unsigned long prof_shift;
-extern int prof_on;
-
-
 enum profile_type {
 	EXIT_TASK,
 	EXIT_MMAP,
Index: prof-2.6.7/kernel/profile.c
===================================================================
--- prof-2.6.7.orig/kernel/profile.c	2004-06-22 07:25:44.339422552 -0700
+++ prof-2.6.7/kernel/profile.c	2004-06-22 07:25:59.267153192 -0700
@@ -10,10 +10,9 @@
 #include <linux/mm.h>
 #include <asm/sections.h>
 
-unsigned int * prof_buffer;
-unsigned long prof_len;
-unsigned long prof_shift;
-int prof_on;
+static unsigned int *prof_buffer;
+static unsigned long prof_len, prof_shift;
+static int prof_on;
 
 int __init profile_setup(char * str)
 {
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/