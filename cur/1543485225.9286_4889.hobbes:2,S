Date: 08 Feb 1999 09:41:00 +0100
From: (A. Ott)
Subject: Re: help with new syscall
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/10/20

********* ***************** ********** ****  *****   ***** ************
  To subject help with new syscall
  tkc+@andrew.cmu.edu (Timothy K Canfield)  wrote:
********** ******************** ******  ********  ******* *************
> I am trying to add a new system call to my kernel, which is 2.0.36.
> When trying to call this from userland, using a function created with
> _syscall1, I get the error that the function is not implemented   errno
> 38.
>
> I have added
> #define __NR_newop 190
> to unistd.h
>
> I have also added
> .long SYMBOL_NAME(sys_newop)        /* 190 */
> to entry.S
>
> and changed the line after that to:
> .space (NR_syscalls-190)*4.
>
> I put source code in kernel/newop.c and added newop.o to the O_OBJS in
> kernel/Makefile.
>
> I have also rebuilt the kernel from scratch, make dep; make clean; make
> zImage, and booted off this image.
>
> Is there anything else I need to do?
Did you use
asmlinkage int sys_newop(...)?
Amon.
--
Please remove second ao for E-Mail reply - no spam please!
## CrossPoint v3.11 ##
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/