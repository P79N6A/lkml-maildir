Date: Wed, 5 Dec 2001 16:56:43 +0000 (GMT)
From: Matt Bernstein <>
Subject: Re: newly compiled kernel no .img file
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/5/112

At 11:40 -0500 Brian Gerst wrote:
>> If you notice the first declaration of image the >
>> "initrd=/boot/initrd-2.4.7-10.img" is not present . Of course I removed
>> it so that there would be no kernel panic and I am able to boot into the
>> new kernel (xunil). > What I want to know is what is this .img file why
>> is it required in the original kernel compilation and not in the newer .
>
>Your distribution put that there so that it can use modules for drivers
>that are required to mount the root filesystem (ie. SCSI, fs driver,
>etc.).  If you build your own kernel, those drivers should be built
>non-modular, therefore you won't need an initrd.
Yes for most users.
I'd like to build a quite generic 2.4 tree with everything as a module
where possible. I am forced to compile in binfmt_elf, initrd and romfs.
This allows me to use one tree for several different machines (some might
have an ext3 / on an IDE HDD; others maybe reiserfs on a gdth controller
etc..) without a huge amount of dead code in the kernel. So.. when a
subset of them are buggy we can see what modules they have in common..
My question: is this mega-module setup likely to be less stable than a
monolith? I'm not fussed about a % or two performance loss.
Matt
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/