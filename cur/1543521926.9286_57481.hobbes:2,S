Date: Thu, 13 Jan 2000 08:49:25 -0600
From: Michael Elizabeth Chastain <>
Subject: Re: [PATCH] Replacing __SMP__ by CONFIG_SMP globally in linux-2.3.39.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/14/5

__SMP__ was the irregular hack, and CONFIG_SMP is the regular replacement.
It's regular because it looks and behaves like other CONFIG options.
In 2.5 I am going to try to kill __SMP__.
It would be very nice to have a Documentation/kbuild/external-module.txt
file that defines the interface between the kernel and external
module sources.  (There is a policy problem here because we do not
encourage binary-only modules).
If that file existed, it would say:
__SMP__ is supported in kernels up to and including 2.4.
CONFIG_SMP is available for testing in kernels 2.2 and later.
Note the overlap in 2.2 and 2.4.  That gives people plenty of time
to change.
So the portable way to *test* for smp-ness is:
    #if defined(__SMP__) || defined(CONFIG_SMP)
    ...
    #endif
The portable way to *define* smp-ness is:
    -D__SMP__ -DCONFIG_SMP
Michael Elizabeth Chastain
<mailto:mec@shout.net>
"love without fear"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/