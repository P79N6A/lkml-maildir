Date: Wed, 11 May 2005 12:21:59 -0400
From: Ryan Richter <>
Subject: Re: DRI lockup on R200, 2.6.11.7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/11/121

On Thu, Apr 28, 2005 at 09:22:36AM +0100, Dave Airlie wrote:
> On 4/26/05, foo@porto.bmb.uga.edu <foo@porto.bmb.uga.edu> wrote:
> > Using 2.6.11.7, I'm experiencing the same problem as reported here:
> > 
http://lkml.org/lkml/2005/3/12/99
> > 
> > Except it happens for me after X is running.  X locks up, only the mouse
> > pointer moves, X spins doing this:
> > 
> > --- SIGALRM (Alarm clock) @ 0 (0) ---
> > rt_sigreturn(0xe)                       = -1 EBUSY (Device or resource busy)
> > ioctl(5, 0x6444, 0)                     = -1 EBUSY (Device or resource busy)
> > ioctl(5, 0x6444, 0)                     = -1 EBUSY (Device or resource busy)
Another one today, but it's a little different now.  I got to see this
happen from the beginning today.  A few minutes before the crash, 3D
operations become very slow.  When X hangs, it's now doing this:
--- SIGALRM (Alarm clock) @ 0 (0) ---
rt_sigreturn(0xe)                       = -1 EBUSY (Device or resource busy)
ioctl(5, 0xc0406429, 0x7ffffffff490)    = -1 EBUSY (Device or resource busy)
ioctl(5, 0xc0406429, 0x7ffffffff490)    = -1 EBUSY (Device or resource busy)
It seems to only happen when there are two or more opengl programs
running.  I killed X again, but the machine was still very slow.
Investigating, I found the two GL processes still running, both eating
lots of cycles.  Before I could find out what they were doing, xdm
restarted X, which caused a machine reset.  I know this because I was
(confusedly) stracing the new X as it was coming up.  X was stat(2)ing
the video driver modules right before the reset...
-ryan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/