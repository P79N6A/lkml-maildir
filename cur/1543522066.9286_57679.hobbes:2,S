Date: Fri, 14 Jan 2000 10:53:41 -0700 (MST)
From: Chris Shutters <>
Subject: Minor PCMCIA compilation problem in 2.3.40pre3 + fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/15/43

I had problems compiling the i82365 module under 2.3.40pre3.  Here is a
relatively simple fix for the problem.
Cheers,
Chris Shutters
cshutters@dmwworldwide.com
--- drivers/pcmcia/ricoh.h.orig	Fri Jan 14 10:31:09 2000
+++ drivers/pcmcia/ricoh.h	Fri Jan 14 10:32:10 2000
@@ -119,6 +119,8 @@
 #define rl_io(socket)		((socket)->private[2])
 #define rl_mem(socket)		((socket)->private[3])
 
+#ifdef __YENTA_H
+
 /*
  * Magic Ricoh initialization code.. Save state at
  * beginning, re-initialize it after suspend.
@@ -160,6 +162,8 @@
 	yenta_set_mem_map,
 	yenta_proc_setup
 };
+
+#endif /* __YENTA_H */
 
 #endif /* CONFIG_CARDBUS */
 
--- drivers/pcmcia/i82365.c.orig	Fri Jan 14 10:31:01 2000
+++ drivers/pcmcia/i82365.c	Fri Jan 14 10:32:31 2000
@@ -67,6 +67,7 @@
 #include "old-yenta.h"
 #include "smc34c90.h"
 #include "topic.h"
+#include "ricoh.h"
 
 #ifdef PCMCIA_DEBUG
 static int pc_debug = PCMCIA_DEBUG;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/