Date: Wed, 21 Apr 1999 08:32:39 -0400 (EDT)
From: "Richard B. Johnson" <>
Subject: Re: A/D converter
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/21/24

On Wed, 21 Apr 1999, Rogier Wolff wrote:
> > On Tue, Apr 20, 1999 at 01:13:40PM -0400, Richard B. Johnson wrote:
> > > There is, furthermore, no reason to do so. The fact that the original
> > > inquiry was about an ADC that "ran" at 70 kHz, means nothing about
> > > the speed at which it was expected to interrupt. In fact, the
> > > maximum rate at which you can interrupt Linux, and record that an
> > > interrupt occurred in your ISR (nothing else), is almost, but not
> > > quite, 50 kHz on a dual pentium running 400 MHz with a 100 Mhz main
> > > bus. I have a device-driver module which does little more than measure
> > > these kinds of things if you are interested.
> 
> A Pentium-100 SBC, on a passive-ISA backplane can do about 140k
> interrupts per seconds.
> 
> The case where I tested this, I had to do a few ISA IOs to acknowledge 
> the interrupt, so the interrupt routine was NOT completely empty. 
> 
> This was autumn '96. I think the machine runs 2.0.18. 
> 
> 					Roger.
Look. I am not going to get into a contest about this, but the I have
a simple module device driver that gets an interrupt from the printer
port (which it doesn't have to ack), and increments a longword to
keep track of interrupts (nothing else).
I hook a function generator to the printer port. The ioctl input to
the device atomically reads the longword and resets it to zero. The
a user-mode task reads this at 1-second intervals.
The maximum number available is slightly less than 50,000. This is
on my fastest dual-pentium 400 Mhz. Other machines I have tested are
slower.
Using the same technique, in a DOS-booted machine, in which the ISR
does nothing but uncrement a word in memory and resets the controller with
a specific EOI, I can get slightly less than 400,000 interrupts per
second.
This is not an estimate, this is not a guess. This is real. I have the
data, the source-code, and everything else to prove it. If you want
the source-code let me know.
Cheers,
Dick Johnson
                 ***** FILE SYSTEM WAS MODIFIED *****
Penguin : Linux version 2.2.6 on an i686 machine (400.59 BogoMips).
Warning : It's hard to remain at the trailing edge of technology.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/