Date: Thu, 11 Aug 2005 22:28:35 +1000
From: Herbert Xu <>
Subject: [AES] Add module alias to x86_64 implementation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/11/106

On Tue, Aug 09, 2005 at 12:16:18AM -0400, James Morris wrote:
>
> > > I cant test it due to lack of hardware. Will find someone who does.
> > > modprobe aes is done by openswan, works on ppc, i386, but not on x86_64.
> > 
> > This works, tested it. modprobe -v aes
> > insmod /lib/modules/2.6.13-rc6-3-default/kernel/arch/x86_64/crypto/aes-x86_64.ko 
> 
> It looks the same as the i386 version, so probably ok.
It looks good to me too.  Andrew, please add this to 2.6.13:
Subject: [AES] Add module alias to x86_64 implementation
From: Olaf Hering <olh@suse.de>
modprobe aes does not work on x86_64. i386 has a similar line,
Signed-off-by: Olaf Hering <olh@suse.de>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Thanks,
-- 
Visit Openswan at 
http://www.openswan.org/
Email: Herbert Xu 许志壬 <herbert@gondor.apana.org.au>
Home Page: 
http://gondor.apana.org.au/herbert/
PGP Key: 
http://gondor.apana.org.au/herbert/pubkey.txt
diff --git a/arch/x86_64/crypto/aes.c b/arch/x86_64/crypto/aes.c
--- a/arch/x86_64/crypto/aes.c
+++ b/arch/x86_64/crypto/aes.c
@@ -322,3 +322,4 @@ module_exit(aes_fini);
 
 MODULE_DESCRIPTION("Rijndael (AES) Cipher Algorithm");
 MODULE_LICENSE("GPL");
+MODULE_ALIAS("aes");