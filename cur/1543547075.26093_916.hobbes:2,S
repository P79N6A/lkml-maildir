Date: Thu, 31 Aug 2000 11:49:34 +1100
From: Keith Owens <>
Subject: Re: [PATCH] 2.2: /proc/config.gz
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/30/49

On Wed, 30 Aug 2000 10:36:09 -0500, 
Timur Tabi <ttabi@interactivesi.com> wrote:
>** Reply to message from Chip Salzenberg <chip@valinux.com> on Tue, 29 Aug 2000
>18:27:20 -0700
>> +CONFIG_PROC_CONFIG
>> +  Say Y here if you want a copy of your current kernel configuration
>> +  saved in the kernel that you build.
>
>Wow, this is incredibly useful!!!  Why, or why, isn't this part of the standard
>kernel?!?!?  It would save so many headaches building kernels.
Because it is easier to solve the problem in user space.  Just copy
.config to /lib/modules/<version>.  Look at modutils 2.3.14 onwards, it
has a list of /lib/modules/<version>/filenames that will be ignored.
modprobe -c reports
# Prune
prune modules.dep
prune modules.pcimap
prune System.map
prune .config
prune build
You can store System.map, .config and the symlink to the kernel source
in /lib/modules/<version>, as well as the modules dependency map and
the mapping of PCI codes to modules.  This is perfectly extensible and
solvable in user space, no kernel bloat required.
Before Rusty tells me that not everybody uses modules,
/lib/modules/<version> can exist even if the kernel has no modules, it
just needs a simple Makefile change.  Think of /lib/modules/<version>
as a standard place to store information about kernel <version>.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/