Date: Thu, 10 May 2001 13:57:49 +0100 (BST)
From: Alan Cox <>
Subject: Re: Deadlock in 2.2 sock_alloc_send_skb?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/10/34

> If that happens, and the socket uses GFP_ATOMIC allocation, the while (1)
> loop in sock_alloc_send_skb() will endlessly spin, without ever calling
> schedule(), and all the time holding the kernel lock ...
If the socket is using GFP_ATOMIC allocation it should never loop. That is
-not-allowed-. 
> Do you agree that this is a problem?  What do you think about this fix:
Looks good
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/