Date: Thu, 13 Jun 2002 19:54:22 -0400
From: Stevie O <>
Subject: Re: vfat patch for shortcut display as symlinks for 2.4.18
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/13/190

At 05:18 AM 6/13/2002 -0400, Alexander Viro wrote:
>I don't see where VFS would come into the game - what you had described
>is behaviour of ->symlink() and ->lookup() of filesystem in question.
>For VFS name components are arbitrary sequences of characters other than
>'\0' and '/'.  Period.  It has no idea of extensions, maximal component
>lengths, etc.
>
>Moreover, names returned by ->readdir() are not interpreted - they are
>responsibility of filesystem in question.  Ditto for limits you place
>on the names acceptable for ->create(), ->mkdir(), etc. - it's up to
>filesystem.
>
>Same goes for the way you store and interpret symlinks - VFS has no
>business messing with that; that's what ->readlink() and ->follow_link()
>are for.
>
>_If_ you want to use "add magical 4 bytes to the end of component to
>indicate a symlink" - more power to you, but that's nothing but a
>detail of your filesystem layout.  You are making a directory with
>both 'foo' and 'foo.!nk' invalid, but that's the matter of fsck for
>your filesystem and ability of fs driver to cope with such error
>gracefully.
Sounds great.
Now add this to NTFS, iso9660, and vfat, without directly modifying any of the three filesystems (otherwise you'd need to maintain patches for different versions of these filesystem drivers).
--
Stevie-O
Real programmers use COPY CON PROGRAM.EXE
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/