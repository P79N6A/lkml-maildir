Date: Mon, 12 Jun 2006 18:32:32 +0100
From: Andy Whitcroft <>
Subject: Re: [SPARSEMEM] confusing uses of SPARSEM_EXTREME (try #2)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/12/208

Franck Bui-Huu wrote:
> Hi Andy
> 
> 2006/6/12, Andy Whitcroft <apw@shadowen.org>:
> 
>>
>> In my mind the positive option is selecting for code supporting EXTREME
>> so it seems to make sense to use that option.
> 
> 
> well I find it confusing because in my mind, something like this seems
> more logical.
> 
> #ifndef CONFIG_SPARSEMEM_STATIC
> static struct mem_section *sparse_index_alloc(int nid)
> {
>        return alloc_bootmem_node(...);
> }
> #else
> static struct mem_section *sparse_index_alloc(int nid)
> {
>        /* nothing to do here, since it has been statically allocated */
>        return 0;
> }
> #endif
But also in this case the code in the first stanza is only applicable to
SPARSEMEM EXTREME, therefore its also logical to say
#ifdef CONFIG_SPARSEMEM_EXTREME
special handling for that mode
#else
normal handling
#endif
Which is what the code currently says right?
-apw
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/