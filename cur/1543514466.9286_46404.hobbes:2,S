Date: Fri, 29 Oct 1999 08:25:29 +0200
From:  craig@qualica ...
Subject: Re: [2.3.24, smbfs] Kernel panic: put_cached_page: page count=1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/29/30

On Thu, Oct 28, 1999 at 11:25:38AM -0400, Alexander Viro wrote:
> 
[ my messages info snipped ]
>
> Interesting... Could you try the attached patch (braino with missed
> initialization fixed + debugging stuff added) and see what will it give?
Applied and rebuilt module but I had to reboot as the previous smbfs
module couldn't be rmmod'ed. Now it works though! Very strange.
No nasties in the logs. dmesg has some debug stuff but it all seems fine
now:
smbfs: get_cached_page
smbfs: get_cached_page done
smbfs: get_cached_page
smbfs: get_cached_page done
smbfs: get_cached_page done
smbfs: get_cached_page done
> I don't see how could that path give buffers on the new page, but IIRC
> there was something similar in 2.3.22 (not in smbfs). At least that might
> somewhat narrow the things down.
I'll stress the machine a little over the next few days and see what happens.
If I get any exciting debug messages I'll post them to the list.
Thank you,
--Craig
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/