Date: Tue, 19 Aug 2003 23:41:44 +0200
From: Sam Ravnborg <>
Subject: kbuild: Separate ouput directory support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/19/328

The following set of patches introduce support for
separate output directory when building a kernel.
Typical usage is building several kernels with different configurations -
but based on the same kernel src.
Consider the following setup:
/home/sam/bk/linux-2.6		<= kernel src
/home/sam/kernel/mars		<= My workstation
/home/sam/kernel/defconfig	<= defconfig for compiletime testing
Then in order to handle the two different configurations I just have to do:
cd /home/sam/bk/linux-2.6
make O=../../kernel/mars
And the same for the defconfig version.
All output files are stored in the output directory, including .config.
[Thanks to Roman Zippel which made this loong time ago in kconfig].
The patch has been in existence in several months but only lately becoming
in a suitable state ready for inclusion. It is developed based on an initial
concept made by Kai Germaschewski, but refined a lot since then.
It works with a kernel based on default configuration (make defconfig).
It is divided up in the following parts:
core	the kbuild changes to support separate output directory
ieee	Fix in ieee Makefile
i386	Fix in i386 Makefiles + new syntax enabled for always
	This was required because i386 had an executable located in
	a subdirectory.
include	Fixes for errornous include paths, and one place where a generated
	.c file references a .h file in the kernel tree.
Please pull from
	bk pull bk://linux-sam.bkbits.net/kbuild
Patches follows this mail.
	Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/