Date: Mon, 18 Aug 2003 20:35:13 -0700
From: Andrew Morton <>
Subject: Re: Debug: sleeping function called from invalid context
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/18/298

"Randy.Dunlap" <rddunlap@osdl.org> wrote:
>
> Debug: sleeping function called with interrupts disabled at
>  include/asm/uaccess.h:473
OK, now my vague understanding of what's going on is that the app has
chosen to disable local interupts (via iopl()) and has taken a vm86 trap. 
I guess we'd see the same thing if the app performed some sleeping syscall
while interrupts are disabled.
If that is correct then it really is just a false positive.
It could also point at a bug in the application; it is presumably disabling
interrupts for some form of locking, atomicity or timing guarantee.  But it
will not lock against other CPUs and the fact that it trapped into the
kernel indicates tat it may not be getting the atomicity which it desires.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/