Date: Sat, 29 Apr 2006 15:30:54 +0100
From: Alistair John Strachan <>
Subject: Re: make O="<dir>" install; output not relocated; 2.6.16.11(kbuild)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/29/48

On Saturday 29 April 2006 08:08, Jan-Benedict Glaw wrote:
[snip]
> >    Fair enough, but I'm more interested in where to specify
> > the target location of the installed kernel and System.map as
> > I don't always have modules for a generated kernel, but usually
> > (near 100% :-)) have an installable kernel image.  For development,
> > I could see it being useful to mount the target system's root in
> > a local directory (like /mnt), then have the kernel build install
> > to a target root of "/mnt".
>
> Installing the kernel image is quite architecture specific; most
> architectures use $(INSTALL_PATH), so this could be something like
> /path/to/target_system/boot .  Though they may also re-run lilo or
> something like that, so it's possibly not what you actually want to
> use.
I'm fairly sure modern 2.6 kernels do the following with "make install":
1)	Try to run ~/bin/installkernel script.
2)	Try to run /sbin/installkernel (distributions)
3)	Guess an install path and run LILO.
If you hack together an "installkernel" I'm sure you could get it to do what 
you want. It certainly works here (I have it generate a menu.lst update for 
grub and copy my images to /boot/vmlinuz-version 
and /boot/System.map-version, and run make modules_install).
-- 
Cheers,
Alistair.
Third year Computer Science undergraduate.
1F2 55 South Clerk Street, Edinburgh, UK.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/