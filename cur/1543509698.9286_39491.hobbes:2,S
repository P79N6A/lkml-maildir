Date: Fri, 17 Sep 1999 18:23:07 +0300
From: Petko Manolov <>
Subject: Re: [PATCH] invalid asm in strnlen_user() (2.3.18ac, 	2.2.13pre & gcc 2.95)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/17/74

Hi,
@@ -172,8 +172,8 @@
" .align 4\n"
" .long 0b,2b\n"
".previous"
- :"=r" (n), "=D" (s), "=a" (res)
- :"0" (n), "1" (s), "2" (0), "c" (mask)
- :"cx", "cc");
+ :"=r" (n), "=D" (s), "=a" (res), "=c" (tmp)
Don't you think here should be used earlyclobber '&' -> "=&REG"
(something)
in output list? 
+ :"=r" (n), "=&D" (s), "=&a" (res), "=&c" (tmp)
Just like in .../asm-i386/string.h. I know that the result asm is the
same,
but gcc docs say that '&' should be used when the value is expected to
be
modified.
Petkan
-- 
Petko Manolov - petkan@varel.bg
http://www.varel.bg/~petkan/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/