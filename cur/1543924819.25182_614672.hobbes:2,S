Date: Tue, 6 Nov 2007 09:40:56 -0800
From: Arjan van de Ven <>
Subject: Re: [RFC] [PATCH 3/3] Recursive mtime for ext3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/6/178

On Tue, 6 Nov 2007 18:19:45 +0100
Jan Kara <jack@suse.cz> wrote:
> Implement recursive mtime (rtime) feature for ext3. The feature works
> as follows: In each directory we keep a flag EXT3_RTIME_FL
> (modifiable by a user) whether rtime should be updated. In case a
> directory or a file in it is modified and when the flag is set,
> directory's rtime is updated, the flag is cleared, and we move to the
> parent. If the flag is set there, we clear it, update rtime and
> continue upwards upto the root of the filesystem. In case a regular
> file or symlink is modified, we pick arbitrary of its parents
> (actually the one that happens to be at the head of i_dentry list)
> and start the rtime update algorith there.
Ok since mtime (and rtime) are part of the inode and not the dentry...
how do you deal with hardlinks? And with cases of files that have been
unlinked? (ok the later is a wash obviously other than not crashing)
-- 
If you want to reach me at my work email, use arjan@linux.intel.com
For development, discussion and tips for power savings, 
visit 
http://www.lesswatts.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/