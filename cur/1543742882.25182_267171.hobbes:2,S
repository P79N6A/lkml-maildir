Date: Mon, 01 Nov 2004 15:26:43 +0100
From: Ian Kumlien <>
Subject: Re: code bloat [was Re: Semaphore assembly-code bug]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/1/95

Hi, 
First, why use a .a file to specify code bloat? I don't see why you want
the object files... ie:
ar tv /usr/lib/libxml2.a
rw-rw-r-- 0/0  76336 Oct 29 04:34 2004 SAX.o
rw-rw-r-- 0/0  83156 Oct 29 04:34 2004 entities.o
rw-rw-r-- 0/0  90704 Oct 29 04:34 2004 encoding.o
rw-rw-r-- 0/0  84272 Oct 29 04:34 2004 error.o
rw-rw-r-- 0/0  90620 Oct 29 04:34 2004 parserInternals.o
...
It can gladly sit there for all i care esp since it's installed by the
-dev package.
-rw-r--r--  1 root root 4312792 Oct 29 04:34 /usr/lib/libxml2.a
But when a app wants to load it you'll load a much smaller portion which
is: 987632 bytes.
As for X, check this out:
  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
 2886 root      15   0  416m 152m 283m S  1.7 15.1 309:31.75 XFree86
And yes, that might look bad, but consider agp memory, memory on the
card etc etc, then thats the figures we'd get. (and perhaps i should
actually shut down some apps as well =))
Btw, the most annoyingly large .a file i have ever found was libc.a in a
version of mdk, it included the whole libc build directory, post build,
weighing something along the lines of 24 mb.
Oh, and, you can never get rid of X, who will want something less
flexible when they have had something like this. You'll get back to the
same complexity sooner or later. I have to say that i much prefer
freedesktop's approach.
I'm not subbed so, you know what to do.
-- 
Ian Kumlien <pomac () vapor ! com> -- 
http://pomac.netswarm.net
[unhandled content-type:application/pgp-signature]