Date: Tue, 25 Sep 2007 21:38:02 +0200 (CEST)
From: Jan Engelhardt <>
Subject: Re: Linux 2.6.22.8, pata_ali issue
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/25/345

On Sep 25 2007 10:35, Greg KH wrote:
>On Tue, Sep 25, 2007 at 07:03:24PM +0200, Jan Engelhardt wrote:
>> So, here is something that I think should go into the next 2.6.22.
>> A proper fix is already in 2.6.23-git-du-jour.
>
>Feel free to send the patch, with the git commit id of the upstream
>commit to the stable@kernel.org address and we will be glad to review it
>that way.
'right, it is already in the mainline kernel.
So it's again the suse kernel src rpm that has it screwed up...
another story. Here's your culprit:
libata-update-libata-to-libata-dev-upstream-5ddf.patch
* Replaces ali_init_chipset() with some new bits, essentially
  it removes the call to pci_read_config_byte() since the
  revision is now found in struct pci_dev->revision
  Basically 2.6.23 stuff.
libata-fix-up-build-after-upstream-update.patch
* changes it back to the 2.6.22 api, so that it compiles again.
  But only that.
  It FORGETS to add pci_read_config_byte() back.
=== libata-fix-up-build-after-upstream-update.patch
From 54ee7cd26c5e438dc15d13b60c9f8a54ca05e3fb Mon Sep 17 00:00:00 2001          
From: Tejun Heo <htejun@gmail.com>                                              
Date: Fri, 3 Aug 2007 02:21:51 +0900                                            
Subject: [PATCH] libata: fix up build after upstream update                     
References: 288078                                                              
                                                                                
Signed-off-by: Tejun Heo <htejun@gmail.com>                                     
===
The bug is still present in current suse kotd. >:-(
Please fix it there. A cc will go to opensuse-kernel@,
but other than that, I am in the wrong mood right now to do anything.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/