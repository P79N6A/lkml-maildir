Date: Tue, 29 Feb 2000 08:10:54 +0100 (MET)
From: Werner Almesberger <>
Subject: Re: Load linux...from linux?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/29/40

Ronald G. Minnich wrote:
> yup, needs cleanup. I'll take any good suggestions you have. This is a
> first cut and I'm hoping smart people will give me good improvements!
Now I've also caught up, darn GDTs ... ;-) My approach avoids copying
the page tables and may run with an invalid GDT some of the time, but
it has a bit less architecture-specific code in the kernel. Here it
is (for 2.3.48):
ftp://icaftp.epfl.ch/pub/people/almesber/misc/bootimg-0.tar.gz
I also do the actual loading in user space. Should make things like
command lines and such easier. (The boot loader-kernel interfaces
are usually quite stable, so I think it's reasonable if the user
space code knows them.)
By the way, your assumption that the setup data areas aren't usually
overwritten seems to be right: I currently don't do anything for the
setup data, and it "magically" works anyway. Scary ;-)
> It was quite a bit of fun getting it this far, so I am resting for a bit
> before final fixup.
I can imagine ... just had two rather intense days and nights,
moving __beep from one instruction to the next to see where it
crashes ;-)
Cheers, Werner
-- 
  _________________________________________________________________________
 / Werner Almesberger, ICA, EPFL, CH       werner.almesberger@ica.epfl.ch /
/_IN_N_032__Tel_+41_21_693_6621__Fax_+41_21_693_6610_____________________/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/