Date: Mon, 24 Nov 2003 15:28:19 +0000
From: Richard Curnow <>
Subject: Re: Simplification in pbus_size_mem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/24/74

* Ivan Kokshaysky <ink@jurassic.park.msu.ru> [2003-11-20]:
> On Thu, Nov 20, 2003 at 03:25:58PM +0000, Richard Curnow wrote:
> > So is the idea that by rounding up 'size' to 96Mb in this case, it's
> > guaranteed that there will be a 64Mb aligned chunk inside where the
> > framebuffer can go, still leaving enough room around for the other
> > allocation, _regardless_ of the alignment of the base of the memory
> > aperture?  (Or if there are multiple PCI-to-PCI bridges, the aperture
> > base for any one bridge is going to depend on the sizes of the apertures
> > forwarded by the others, I suppose).
> 
> Exactly.
OK, so it's a tricky general-case problem then.  After a day or two
pondering, I doubt there's much that can be improved without sinking a
_lot_ of time into this.
> > How do I do that?
> 
> Add a 'pcibios_fixup' routine for this platform, which does
Thanks for this info!  It's useful to have at least another solution to
consider instead of the bodge we're already using.
> It can be either specific for that VGA controller (if it's built-in)
no, it's not built in.
Thanks again
Richard
-- 
Richard \\\ SuperH Core+Debug Architect /// .. At home ..
  P.    /// richard.curnow@superh.com  ///  rc@rc0.org.uk
Curnow  \\\ 
http://www.superh.com/
    ///  www.rc0.org.uk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/