Date: Wed, 31 Mar 2004 05:09:21 +0200
From: Andrea Arcangeli <>
Subject: 2.6.5-rc3-aa1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/30/389

The xfs warning during truncate will be fixed with a later update
(Nathan is currently working on it).
next thing to do is to fixup the merging in mprotect.
In the meantime this is already mergeable in -mm if Andrew is
interested.
I'm not touching mremap at this time (i'll reistantiate the merging in
mprotect first, then Hugh testcase will work as well as in mainline). I
wait comments on the truncate/mremap race fixes (they clearly partly
collides with prio-tree but part of them seems shareable). That race
isn't trivial to fix but at the same time it doesn't worry me much right
now. I could add the semaphore, but mremap is an extreme fast path for
some workload like apache, so I'm not going to risk a
scalability-slowdown in there with an obviously safe patch of taking the
i_shared_sem semaphore, because even if that race triggers the kernel
shouldn't crash anymore.
URL:
	
http://www.us.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.6/2.6.5-rc3-aa1.gz
	
http://www.us.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.6/2.6.5-rc3-aa1/
Changelog diff between 2.6.5-rc2-aa6 and 2.6.5-rc3-aa1:
Files 2.6.5-rc2-aa6/anon-vma.gz and 2.6.5-rc3-aa1/anon-vma.gz differ
	Track anonymous pages generated by cows on dma regions
	(bug spotted by Hugh Dickins).
Files 2.6.5-rc2-aa6/extraversion and 2.6.5-rc3-aa1/extraversion differ
	Rediffed.
Only in 2.6.5-rc3-aa1: initramfs-search-for-init
	Initramfs handy patch from -mm.
Files 2.6.5-rc2-aa6/prio-tree.gz and 2.6.5-rc3-aa1/prio-tree.gz differ
	Fix xfs to check nonlinear mappings too.
	Fix x86-64 compilation.
Only in 2.6.5-rc3-aa1: tag-writeback-pages-fix.patch.gz
	Avoid crashes in rw_swap_page_sync due -mm writeback changes,
	final (more highlevel) fix from Andrew.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/