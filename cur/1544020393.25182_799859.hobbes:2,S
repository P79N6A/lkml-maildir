Date: Mon, 2 Feb 2009 13:24:34 +0100 (CET)
From: Stefan Richter <>
Subject: [PATCH] async: use list_move_tail
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/2/2/88

Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
---
 kernel/async.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)
diff --git a/kernel/async.c b/kernel/async.c
index dd14fc5..c3baaa8 100644
--- a/kernel/async.c
+++ b/kernel/async.c
@@ -133,8 +133,7 @@ static void run_one_entry(void)
 	entry = list_first_entry(&async_pending, struct async_entry, list);
 
 	/* 2) move it to the running queue */
-	list_del(&entry->list);
-	list_add_tail(&entry->list, entry->running);
+	list_move_tail(&entry->list, entry->running);
 	spin_unlock_irqrestore(&async_lock, flags);
 
 	/* 3) run it (and print duration)*/
-- 
1.6.0.6
-- 
Stefan Richter
-=====-==--= --=- ---=-
http://arcgraph.de/sr/