Date: Sun, 11 Jun 2006 19:25:58 -0400
From: Jeff Dike <>
Subject: Re: [PATCH] ignore smp_locks section warnings from init/exit code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/11/117

On Thu, Jun 08, 2006 at 08:35:49PM +0200, Sam Ravnborg wrote:
> As for .bss this is a much more generic section - so for now this is not
> added. Can you explain why there is a reference to do_mount_root from
> .bss or is this a bug in modpost pointing out something wrong?
For me, the ld complaints are completely opaque.  Can you give me a
clue how you go about figuring out where the complaint is coming from?
This is what I get with UML/x86_64 with rc6-mm2:
	WARNING: vmlinux - Section mismatch: reference to .init.text:huft_free from .bss between 'stdout@@GLIBC_2.2.5' (at offset 0x6027b748) and 'completed.6111'
gdb tells me:
	(gdb) x/4xa 0x6027b748
	0x6027b748 <stdout@@GLIBC_2.2.5>:       0x0     0x0
	0x6027b758 <completed.6111+8>:  0x0     0x0
So, with stdout@@GLIBC_2.2.5 at 0x6027b748 and completed.6111 at
0x6027b750 - right next to each other - there would seem to be nothing
between them to reference anything.
In any case, with bss containing zero-initialized stuff, I don't see
how anything here can refer to anything anywhere else.
> With the above patch we are down to two section mismatch warnings for
> a defconfig build on x86_64.
I see one (the one quoted above).  Thanks for adding .plt - that made
the build much more pleasant.
				Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/