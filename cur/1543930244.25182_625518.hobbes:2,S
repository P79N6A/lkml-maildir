Date: Fri, 07 Dec 2007 21:49:41 +0100
From: Kay Sievers <>
Subject: Re: [dm-devel] Re: 2.6.24-rc4-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/7/257

On Fri, 2007-12-07 at 15:28 -0500, Valdis.Kletnieks@vt.edu wrote:
> On Fri, 07 Dec 2007 19:44:29 +0100, Kay Sievers said:
> 
> > > Anybody got any brilliant ideas? :)
> > 
> > I guess it's nash again, which version is it?
> 
> Confirmed - nash again.  6.0.9 does not work, upgrading to 6.0.19 works.
Oh, cool!
I expected 6.0.9 to contain the fix though:
  
http://lkml.org/lkml/2007/6/7/209
> init/Kconfig says this for SYSFS_DEPRECATED (which is where I got lead astray,
> as most of my laptop is Fedora Rawhide and therefor "released this week"):
> 
>           If you are using a distro that was released in 2006 or later,
>           it should be safe to say N here.
> 
> nash 6.0.9 came out in April 2007, and I suspect, but can't prove, that the
> relevant change was this one:
> 
> * Mon Aug 27 2007 Peter Jones <pjones@redhat.com> - 6.0.12-2
> - Fix segfault in scsi vpd probe code
> - Fix block device creation
> 
> That was just over 3 months ago.
Yeah right, even if it is fixed earlier, it's at least 6 months.
>  We probably need to fix that help text,
> but I admit not being sure what guidance we should give now....
Right, the help text needs to be changed. There are distros like Red Hat
which don't support !DEPRECATED at all today, so we should probably just
remove the date and add that to the help text.
On the other hand, we are currently considering making the DEPRECATED
behavior a boot-time option, so it can be changed on the kernel command
line instead of a compile option. There would only be a compile-time
default to set.
We will get to that after the current kobject work (~100 patches) in
Greg's tree is finished.
Thanks for your help and patience,
Kay