Date: Fri, 21 Jan 2000 11:12:50 -0300
From: Horst von Brand <>
Subject: Re: Interesting analysis of linux kernel threading by IBM
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/22/170

"Davide Libenzi" <davidel@maticad.it> said:
[...]
> 300 running processes ( I say running not in runqueue )
> 12 up to 35 in runqueue
> I get an 83% performance improvement
I have yet to see a machine capable of such a load. And when I see it, it
will be a cluster or a massive SMP machine anyway. Load averages here
rarely go to 10 or so, for multiuser machines that do time as servers on
the side. Not that this is a large shop, but I'say we are rather on the
high side of average around here.
> 2 running processes ( that switch at the same rate of 300 )
> I get 11% up to 15% performance loss
This is a personal workstation scenario. There you have peole that are
worried about minimizing latencies (long thread about that recently) for
playing MP3s or other not-so-soft realtime tasks, and getting the most
performance out of the machine.
> But the fact is that normally 2 tasks switches at a very lower factor then
> 300.
Why? That depends mostly on the tasks, and if the tasks are the same, this
should not change very much (unless the machine is swamped with interrupts,
and then your problem is another one).
I'd like to see hard numbers of _real_ workloads that'd allow me to relate
your benchamrk numbers to reality. I'm not too worried about a few percent
increase in schedule() time on a mostly idle personal machine, I'm worried
about that few percent on a loaded machine (10 or so tasks around here,
usually) that is _far_ from your hundreds of running tasks scenarios.
-- 
Dr. Horst H. von Brand                       mailto:vonbrand@inf.utfsm.cl
Departamento de Informatica                     Fono: +56 32 654431
Universidad Tecnica Federico Santa Maria              +56 32 654239
Casilla 110-V, Valparaiso, Chile                Fax:  +56 32 797513
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/