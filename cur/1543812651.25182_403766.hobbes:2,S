Date: Mon, 06 Mar 2006 23:09:51 +0300
From: Maxim Kozover <>
Subject: Re: Re: problems with scsi_transport_fc and qla2xxx
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/6/71

Hi Mike!
Unfortunately I don't have the directory /proc/scsi/qla2xxx.
However the target sees PRLI from the host again after reconnecting
the cable between the initiator and the switch.
Does it mean the rediscovering new devices on initiator side is
already done?
Thanks,
Maxim.
MS> Historically the qlogic driver rescan is a 2-phase process:
MS> 1) schedule the rescan, e.g.: echo scsi-qlascan > /proc/scsi/qla2xxx/4
MS> 2) rescan, e.g.: echo - - - > /sys/class/scsi_host/host4/scan
MS> BUT, I've just used scsi-qlascan to discover _new_ devices... not
MS> existing devices that experienced FC connection loss.  I assume the
MS> qla driver _should_ just bring those lost devices back?  But does the
MS> historic 2-phase rescan for new devices speak to why the qlogic driver
MS> doesn't automagically bring the old devices back?  Or has the latest
MS> qlogic driver in mainline advanced past this 2-phase requirement in
MS> general?
MS> regards,
MS> Mike
MS> Mike
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/