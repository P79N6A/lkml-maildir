Date: Mon, 8 Dec 2008 13:31:18 -0500
From: Prarit Bhargava <>
Subject: [PATCH]: Implement nopmtmr
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/8/262

We have notsc and nohpet. Add nopmtmr for consistency.
Signed-off-by: Prarit Bhargava <prarit@redhat.com>
diff --git a/drivers/clocksource/acpi_pm.c b/drivers/clocksource/acpi_pm.c
index c201710..94246c9 100644
--- a/drivers/clocksource/acpi_pm.c
+++ b/drivers/clocksource/acpi_pm.c
@@ -248,3 +248,10 @@ static int __init parse_pmtmr(char *arg)
 	return 1;
 }
 __setup("pmtmr=", parse_pmtmr);
+
+static int __init disable_pmtmr(char *str)
+{
+	pmtmr_ioport = 0;
+	return 1;
+}
+__setup("nopmtmr", disable_pmtmr);