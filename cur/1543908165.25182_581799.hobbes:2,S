Date: Thu, 9 Aug 2007 15:04:54 -0700
From: Andrew Morton <>
Subject: Re: 2.6.23-rc2-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/9/493

On Thu, 09 Aug 2007 23:36:04 +0200
Gabriel C <nix.or.die@googlemail.com> wrote:
> 
> ...
> 
> > +pci-align-bar-settings-for-legacy-mode-ide.patch
> > +pci-align-bar-settings-for-legacy-mode-ide-fix.patch
> > 
> >  2.6.23 material, but these belong to subssytem trees
> >
> 
> ...
> 
> 
> These broke the IDE controller , using libata on my Dell Workstation .. 
> 
> Reverting both fixes the problem.
> 
> 
> ..
> 
> [   28.828484] 0000:00:1f.1: cannot adjust BAR0 (not I/O)
> [   28.828487] 0000:00:1f.1: cannot adjust BAR1 (not I/O)
> [   28.828489] 0000:00:1f.1: cannot adjust BAR2 (not I/O)
> [   28.828491] 0000:00:1f.1: cannot adjust BAR3 (not I/O)
> ...
> 
> [   44.564308] ata_piix 0000:00:1f.1: version 2.11
> [   44.564365] ata_piix 0000:00:1f.1: no available native port
> 
> ...
> 
> And my CDROM and second ide disc gone.
> 
> $ lspci -vvvxxx
> 
> ...
> 
> 00:1f.1 IDE interface: Intel Corporation 82801BA IDE U100 Controller (rev 04) (prog-if 80 [Master])
>         Subsystem: Dell Unknown device 00d8
>         Control: I/O+ Mem- BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B-
>         Status: Cap- 66MHz- UDF- FastB2B+ ParErr- DEVSEL=medium >TAbort- <TAbort- <MAbort- >SERR- <PERR-
>         Latency: 0
>         Region 0: [virtual] Memory at 000001f0 (32-bit, non-prefetchable) [disabled] [size=8]
>         Region 1: [virtual] Memory at 000003f0 (type 3, non-prefetchable) [disabled] [size=1]
>         Region 2: [virtual] Memory at 00000170 (32-bit, non-prefetchable) [disabled] [size=8]
>         Region 3: [virtual] Memory at 00000370 (type 3, non-prefetchable) [disabled] [size=1]
>         Region 4: I/O ports at ffa0 [size=16]
> 00: 86 80 4b 24 05 00 80 02 04 80 01 01 00 00 00 00
> 10: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> 20: a1 ff 00 00 00 00 00 00 00 00 00 00 28 10 d8 00
> 30: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> 40: 07 e3 03 e3 00 00 00 00 05 00 01 02 00 00 00 00
> 50: 00 00 00 00 50 10 00 00 00 00 00 00 00 00 00 00
> 60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> 70: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> 80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> 90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> a0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> b0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> c0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> d0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> e0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
> f0: 00 00 00 00 00 00 00 00 47 0f 00 00 00 00 00 00
> 
> ...
> 
> config is attched.
> 
Great, thanks for working that out.  I'll drop them, thereby breaking other
people's stuff.  This is rather a disaster.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/