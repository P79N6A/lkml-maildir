Date: 30 Jul 2003 23:59:00 +0100
From: Alan Cox <>
Subject: Re: Spinlock performance on Athlon MP (2.4)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/30/343

On Mer, 2003-07-30 at 22:50, Scott L. Burson wrote:
> First, and probably the reason you haven't heard more complaints about the
> problem, its severity is evidently dependent on the size of main memory.  At
> 512MB it doesn't seem to be much of a problem (right, Mathieu?).  At 2.5GB,
> which is what I have, it can be quite serious.  For instance, if I start two
> `find' processes at the roots of different filesystems, the system can spend
> (according to `top') 95% - 98% of its time in the kernel.  It even gets
> worse than that, but `top' stops updating -- in fact, the system can seem
> completely frozen, but it does recover eventually.  Stopping or killing one
> of the `find' processes brings it back fairly quickly, though it can take a
> while to accomplish that.
Thats the well understood DMA bounce buffers problem. It should be
better in current 2.4 or with something like the Red Hat enterpise
kenrel or probably the -aa patches.
Its nothing to do with AMD although it can in part depend on what I/O
dvevices your system has how much data hits the bounce buffers
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/