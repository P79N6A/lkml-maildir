Date: Tue, 13 Jan 2009 11:50:12 -0600
From: James Bottomley <>
Subject: Re: [BUILD-FAILURE] next-20090113 - drivers/scsi/aha1542.c builds with CONFIG_PPC=y
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/13/327

On Tue, 2009-01-13 at 17:33 +0530, Kamalesh Babulal wrote:
> Hi Stephen,
> 
> 	next-20090113 ranconfig build on powerpc builds in drivers/scsi/aha1542
> 
> In file included from drivers/scsi/aha1542.c:41:
> include/linux/mca-legacy.h:12:2: warning: #warning "MCA legacy - please move your driver to the new sysfs api"
> drivers/scsi/aha1542.c: In function 'BAD_SG_DMA':
> drivers/scsi/aha1542.c:61: error: implicit declaration of function 'isa_page_to_bus'
> drivers/scsi/aha1542.c: In function 'aha1542_intr_handle':
> drivers/scsi/aha1542.c:495: error: implicit declaration of function 'isa_virt_to_bus'
This looks like a powerpc bug:  that driver depends on ISA &&
ISA_DMA_API which is supposed to guarantee the presence of these
functions.
James