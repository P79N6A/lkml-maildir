Date: Fri, 07 Sep 2001 13:35:09 -0700
From: Ben Greear <>
Subject: Blocking v/s Non-blocking NFS (and iSCSI) file reads/writes.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/7/128

I'm working on writing a program that will be used to stress test
NFS and iSCSI based file systems.  I am currently using a non-threaded,
and non-forking architecture based on non-blocking IO and select() to
do my network traffic generation.  I would like to be able to fit the
file-testing code in the same framework.  However, I'm not sure I can
make this model work with network based file systems....
So, does select() work for NFS reads?  (IE: I open a file-descriptor
on an NFS mounted file system, and start reading.  The network goes
down.  Will select() start not marking that file as read/write-able?)
If I set the file descriptor to be O_NONBLOCK, will it return immediately
if the network is down (regardless of what select told me)?
I have the same questions about an iSCSI based file system...
Does anyone have any suggestions for reading material on this topic,
other than kernel source and patches?
Thanks,
Ben
-- 
Ben Greear <greearb@candelatech.com>          <Ben_Greear@excite.com>
President of Candela Technologies Inc      
http://www.candelatech.com
ScryMUD:  
http://scry.wanfear.com
     
http://scry.wanfear.com/~greear
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/