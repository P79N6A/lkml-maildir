Date: Sat, 23 Oct 2004 12:02:10 +0200 (CEST)
From: Andreas Klein <>
Subject: Re: lost memory on a 4GB amd64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/23/86

Hello,
I have the same problem with 45 Tyan S2885 boards, but I have one running 
sample. The one running machine has the following configuration:
- Tyan S2885 pre-production model with a 1.01 pre-release bios
6 mb ram (4x512mb, 4x1gb)
The machine is running SuSE Linux Enterprise Server 8 (32bit).
We use this machine as our primary mail-server without problems for over a 
year.
- Now we ordered 45 Tyan S2885 and 4 S2875S board.
Both board do not run stable with more than 2GB ram usable.
4GB will only be recognized if the MTRR setting is set to Continuous and 
the Adjust Memory setting is set to Auto.
If the bios is configured this way and two 1gb ram modules are installed 
for each CPU on the 2885, the machine will not even load and unpack a 
SLES 9 kernel. Memtest sees 0-2GB mem usable and 4-6GB unusable (complains 
about each memory address).
If all four modules are installed for CPU0, then memtest seems to work 
without problems (0-2GB, 4-6GB), but SLES9 will crash during boot-up.
If all four modules are installed for CPU1, then memtest seems to work 
without problems too. SLES 9 will run a few minutes before a crash.
I will try to install SLES 8 (32bit) on the new boxes to see if it runs 
stable. If yes, there is something broken in the 2.6 kernels for amd64, if 
not, the pre-production bios is better that the final ones.
Bye,
On Fri, 22 Oct 2004, Andi Kleen wrote:
> > I've cc'ed Andi Kleen (x86_64 supremo) who might have some insights, but I'm 
> > guessing he'll say "Bios problem - tough luck". I might be wrong ;)
> 
> Is there a full boot log of the system? 
> -Andi
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  
http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  
http://www.tux.org/lkml/
> 
-- Andreas Klein
   asklein@cip.physik.uni-wuerzburg.de
   root / webmaster @cip.physik.uni-wuerzburg.de
   root / webmaster @www.physik.uni-wuerzburg.de
_____________________________________
|                                   | 
|   Long live our gracious AMIGA!   |
|___________________________________|
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/