Date: Tue, 19 Jun 2001 17:02:35 +0200
From: Simone Piunno <>
Subject: PROBLEM: compiling with gcc 3.0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/6/19/63

Hi,
I was trying to compile 2.4.5 with gcc 3.0 but there is a problem
(conflicting type) between kernel/timer.c and include/linux/sched.h
Apparently the problem solves with this oneline workarond:
--- linux/include/linux/sched.h Tue Jun 19 17:00:03 2001
+++ linux/include/linux/sched.h.orig    Tue Jun 19 17:00:13 2001
@@ -537,7 +537,7 @@
 extern unsigned long volatile jiffies;
 extern unsigned long itimer_ticks;
 extern unsigned long itimer_next;
-extern volatile struct timeval xtime __attribute__ ((aligned (16)));
+extern struct timeval xtime;
 
 extern void do_timer(struct pt_regs *)
don't know if this is the right approach but works for me.
-- 
.-----------------------------------------------------------------.
| Simone Piunno             Wireless Solutions srl - DADA group   |
| software architect        Europe HQ, via Castiglione 25 Bologna |
| 
http://www.wseurope.com
   Tel: +390512966823 Fax: +390512966800 |
| 
http://www.waptopic.com
   God is real, unless declared integer. |
'-----------------------------------------------------------------'
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/