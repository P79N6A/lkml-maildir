Date: Mon, 21 Feb 2000 14:46:14 +0100
From: "Andi Kleen" <>
Subject: Re: IP changes in 2.3.4x make things wierd?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/21/91

On Mon, Feb 21, 2000 at 03:17:57PM +0100, almesber@lrc.di.epfl.ch wrote:
> Andi Kleen wrote:
> > Save the current IPID counter when the socket is created. Ignore the ICMP 
> > when the ID is older than the socket or wrapped. This gives an "ICMP window" 
> > of 2^31 packets, which should be more than enough. 
> 
> 1) iph->id is 16 bits.
> 2) see net/ipv4/route.c:__ip_select_ident and friends (2.3.39 or such)
Sorry, I meant to write 16bits of course, silly me.
The window should be big enough, because it is a per packet count.
Assuming 40 bytes minimum packets you could have a ~2.5MB "error window"
outstanding, when you use bigger packet sizes on average much more.
Regarding (2), I'm aware of the way inetpeer id selection works in 2.3.
Do you have any other point?
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/