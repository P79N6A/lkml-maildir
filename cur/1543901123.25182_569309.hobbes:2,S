Date: Sat, 14 Jul 2007 14:42:04 -0500
From: Matt Mackall <>
Subject: Re: [PATCH][RFC] 4K stacks default, not a debug thing any more...?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/14/143

On Fri, Jul 13, 2007 at 04:25:56AM +0200, Jesper Juhl wrote:
> On 13/07/07, Jeremy Fitzhardinge <jeremy@goop.org> wrote:
> >Jesper Juhl wrote:
> >> If, on the other hand, we consider 4K stacks to be the superior
> >> solution, then we should work to get all code fixed to be able to
> >> handle it so that it's actually something distros will start to enable
> >> so that we can eventually get rid of the 8K stack option alltogether.
> >> Making 4K stacks default and no longer a debug option is just the
> >> first step in that direction.
> >
> >First step is to apply wli's patch which makes separate interrupt stacks
> >orthogonal to the 4K stack option.
> >
> Yes and no.  If that will get things moving in the direction of
> getting rid of the stack size as a config option, then I'm all for it.
> But on the other hand it is my personal opinion that this is an area
> where we should just make up our minds as to whether we want 4K or 8K
> stacks and whether we want interrupt stacks or not, and then not have
> it configurable at all.  I believe the goal is 4K stacks + interrupt
> stacks, so let's just aim for that and get rid of the configurability
> of the damn thing - make a choice, make it work, make it be that
> that's what we use and rid ourselves of the alternatives...
There are two downsides to interrupt stacks:
- an extra 4k/8k used per CPU
- stack switch time
Both of those are pretty minimal. And I'd be surprised if the latter
was measurable. 
-- 
Mathematics is the supreme nostalgia of our time.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/