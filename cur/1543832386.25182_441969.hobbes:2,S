Date: Sat, 8 Jul 2006 11:45:49 -0500
From: Milton Miller <>
Subject: Re: [RFC] Use target filename in BUG_ON and friends
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/8/128

On Jul 8, 2006, at 04:45:54 EST, Sam Ravnborg wrote:
>  When building the kernel using make O=.. all uses of __FILE__ becomes
>  filenames with absolute path resulting in increased text size.
>  Following patch supply the target filename as a commandline define
>  KBUILD_TARGET_FILE="mmslab.o"
Unfortunately this ignores the fact that __LINE__ is meaningless
without __FILE__ because there are way too many BUGs in header
files.
Well, it does give us a hint as to which user of the header is
the problem one without going to System.map or objdump.
Even though it is hard on ccache, it is nice to be able to cut
and paste the file name.
milton
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/