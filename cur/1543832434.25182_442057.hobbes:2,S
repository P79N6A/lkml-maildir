Date: Sun, 9 Jul 2006 08:25:33 +1000
From: Nigel Cunningham <>
Subject: Re: uswsusp history lesson [was Re: [Suspend2-devel] Re: swsusp / suspend2 reliability]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/8/217

Hi.
On Sunday 09 July 2006 07:04, Pavel Machek wrote:
> > Some way to go without bmapping. I'm assuming you're going to have to add
> > some kernel code to at least do the bmapping. By the way, watch out for
> > block sizes. Especially with XFS. It's the best test of whether your code
> > is right because the blocksize XFS uses might not be the same as the
> > underlying block device's blocksize.
>
> Why is bmapping evil?
I didn't mean it's evil. I just mean it's complicated and potentially 
confusing because the result of bmap needs to modified by the number of 
blocks per sector to get the right value to pass to bio_submit. Maybe you're 
more experienced in these things than me, so it will be simple for you, but 
it took a while for me to get right.
Regards,
Nigel
-- 
Nigel, Michelle and Alisdair Cunningham
5 Mitchell Street
Cobden 3266
Victoria, Australia
[unhandled content-type:application/pgp-signature]