Date: Tue, 24 Apr 2007 20:13:15 +1000
From: Nick Piggin <>
Subject: Re: [PATCH] mm: PageLRU can be non-atomic bit operation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/24/139

Hisashi Hifumi wrote:
> 
> At 11:47 07/04/24, Nick Piggin wrote:
> 
>  >As Hugh points out, we must have atomic ops here, so changing the generic
>  >code to use the __ version is wrong. However if there is a faster way 
> that
>  >i386 can perform the atomic variant, then doing so will speed up the 
> generic
>  >code without breaking other architectures.
>  >
> 
> Do you mean writing page-flags.h specific for i386 so improving generic 
> code
> and without breaking other architectures ?
I meant improving the i386 bitops specific code.
However if there is some variant of operation that is not captured
with the current bitop API, but could provide a useful speedup of
common page flag manipulations, then you might consider extending
the bitop API and making page-flags.h use that new operation.
-- 
SUSE Labs, Novell Inc.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/