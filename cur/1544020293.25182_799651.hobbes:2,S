Date: Sun, 1 Feb 2009 17:31:50 +0100
From: Christoph Hellwig <>
Subject: Re: devpts multiple instances feedback
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/2/1/60

On Mon, Jan 26, 2009 at 01:58:58PM -0800, H. Peter Anvin wrote:
> Christoph Hellwig wrote:
> >>
> >>That was also one of the reasons for the default 000 mode on the pts/ptmx
> >>device node
> >
> >So just make it 000 but always created it.
> >
> 
> That's what we do...
Only if the kernel is compiled with CONFIG_DEVPTS_MULTIPLE_INSTANCES
(which will be clearly superflous after the cleanup patches because
the amount of addition code is minimal) _and_ you mount with
-o newinstance, and then you have another -o ptmxmode=foo option
to make it useable.
Really, even if we're really cautious there should be no compiletime
and just a single mount time option, but I'm not even sure that is
needed with the default zero mode.