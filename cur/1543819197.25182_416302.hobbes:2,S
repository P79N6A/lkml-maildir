Date: Mon, 17 Apr 2006 15:01:53 +0200
From: Arjan van de Ven <>
Subject: Re: [Ext2-devel] [RFC][15/21]e2fsprogs modify variables for bitmap to exceed 2G
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/17/23

On Thu, 2006-04-13 at 12:20 -0400, Theodore Ts'o wrote:
> On Thu, Apr 13, 2006 at 04:12:27PM +0900, sho@tnes.nec.co.jp wrote:
> > Summary of this patch:
> >   [15/21] change the type of variables which manipulate bitmap
> >           - Change the type of 4byte variables manipulating bitmap
> >             from signed to unsigned.
> 
> Generalized NACK.  We can't just blindly change function signatures of
> pre-existing functions in libext2fs, since this breaks the ABI with
> pre-existing applications linked with current shared libraries of
> libext2fs.
> 
> We could bump the major version number, but what I'd much rather do is
> to create new functions which use the 64-bit blk64_t (i.e.,
> ext2fs_mark_block_bitmap2).  This will make the patches much bigger,
> but it allows us to preserve backwards compatibility.
would this be a time to consider using ELF function versioning (similar
to what glibc and others use for abi comat) in libext2fs ?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/