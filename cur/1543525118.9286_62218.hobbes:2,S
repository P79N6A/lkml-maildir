Date: Wed, 9 Feb 2000 21:07:17 -0500
From: Wakko Warner <>
Subject: Cardbus/pcmcia 2.3.43-5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/9/177

I know I haven't kept up for the past few days (felt like crap).  Anyway, I
just tried the above kernel and I'm able to access my cardbus cards, mouse,
and keyboard just fine.  I have the cardbus stuff (yenta, ds, etc) as
modules (prefer it that way).  I'm thinking, cool, 2.3 has this working now
(oh, by the way the above kernel version shows itself as 2.3.42).
Here I am, playing around with my cardbus and decide to stop the pcmcia
services (which removes modules).  Upon removal of pci_socket, I get 2
oopses in a row (one of each card slot I guess).
The oops is attached (decoded)  Looks like the cardbus watcher bombed. 
System didn't crash tho.
-- 
 Lab tests show that use of micro$oft causes cancer in lab animals
ksymoops 2.3.3 on i686 2.3.42.  Options used
     -v /usr/src/2.3.43-5/vmlinux (specified)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.3.42/ (default)
     -m /boot/System.map-2.3.42 (default)
e820: 0009fc00 @ 00000000 (usable)
e820: 00000400 @ 0009fc00 (reserved)
e820: 00020000 @ 000e0000 (reserved)
e820: 07ef0000 @ 00100000 (usable)
e820: 00008000 @ 07ff0000 (ACPI data)
e820: 00008000 @ 07ff8000 (ACPI NVS)
e820: 00001000 @ fec00000 (reserved)
e820: 00001000 @ fee00000 (reserved)
e820: 00020000 @ fffe0000 (reserved)
ds: no socket drivers loaded!
Unable to handle kernel paging request at virtual address c80606d8
*pde = 01355063
Oops: 0002
CPU:    0
EIP:    0010:[<c805df39>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010046
eax: c80606d4   ebx: 00000246   ecx: 00000246   edx: c80606d4
esi: c7205fe8   edi: 00000213   ebp: c80606a0   esp: c7205fa8
ds: 0018   es: 0018   ss: 0018
Process CardBus Watcher (pid: 245, stackpage=c7205000)
Stack: 00000f00 c7287ee4 c80606a0 c80606a0 c7204000 c7204000 01234567 c7204000 
       00000000 00000000 c7205fe8 00000000 01234567 c7204000 c80606d4 c80606d4 
       c7205fe8 00000000 c0108e5c c80606a0 00000078 c7fecc00 
Call Trace: [<c80606a0>] [<c80606a0>] [<c80606d4>] [<c80606d4>] [<c0108e5c>] [<c80606a0>] 
Code: 89 50 04 89 02 57 9d 8b 44 24 10 83 78 08 00 0f 84 a6 fe ff 
>>EIP; c805df39 <[yenta]yenta_socket_thread+1bd/1dc>   <=====
Trace; c80606a0 <[pci_socket]__module_kernel_version+0/0>
Trace; c80606a0 <[pci_socket]__module_kernel_version+0/0>
Trace; c80606d4 <[pci_socket].bss.start+34/33f>
Trace; c80606d4 <[pci_socket].bss.start+34/33f>
Trace; c0108e5c <kernel_thread+28/38>
Trace; c80606a0 <[pci_socket]__module_kernel_version+0/0>
Code;  c805df39 <[yenta]yenta_socket_thread+1bd/1dc>
00000000 <_EIP>:
Code;  c805df39 <[yenta]yenta_socket_thread+1bd/1dc>   <=====
   0:   89 50 04                  mov    %edx,0x4(%eax)   <=====
Code;  c805df3c <[yenta]yenta_socket_thread+1c0/1dc>
   3:   89 02                     mov    %eax,(%edx)
Code;  c805df3e <[yenta]yenta_socket_thread+1c2/1dc>
   5:   57                        push   %edi
Code;  c805df3f <[yenta]yenta_socket_thread+1c3/1dc>
   6:   9d                        popf   
Code;  c805df40 <[yenta]yenta_socket_thread+1c4/1dc>
   7:   8b 44 24 10               mov    0x10(%esp,1),%eax
Code;  c805df44 <[yenta]yenta_socket_thread+1c8/1dc>
   b:   83 78 08 00               cmpl   $0x0,0x8(%eax)
Code;  c805df48 <[yenta]yenta_socket_thread+1cc/1dc>
   f:   0f 84 a6 fe ff 00         je     fffebb <_EIP+0xfffebb> c905ddf4 <END_OF_CODE+ffd415/????>
Unable to handle kernel paging request at virtual address c8060740
*pde = 01355063
Oops: 0002
CPU:    0
EIP:    0010:[<c805df39>]
EFLAGS: 00010046
eax: c806073c   ebx: 00000246   ecx: 00000246   edx: c806073c
esi: c7203fe8   edi: 00000213   ebp: c8060708   esp: c7203fa8
ds: 0018   es: 0018   ss: 0018
Process CardBus Watcher (pid: 246, stackpage=c7203000)
Stack: 00000f00 c7287ee4 c8060708 c8060708 c7202000 c7202000 01234567 c7202000 
       00000000 00000000 c7203fe8 00000000 01234567 c7202000 c806073c c806073c 
       c7203fe8 00000000 c0108e5c c8060708 00000078 c7fed000 
Call Trace: [<c8060708>] [<c8060708>] [<c806073c>] [<c806073c>] [<c0108e5c>] [<c8060708>] 
Code: 89 50 04 89 02 57 9d 8b 44 24 10 83 78 08 00 0f 84 a6 fe ff 
>>EIP; c805df39 <[yenta]yenta_socket_thread+1bd/1dc>   <=====
Trace; c8060708 <[pci_socket].bss.start+68/33f>
Trace; c8060708 <[pci_socket].bss.start+68/33f>
Trace; c806073c <[pci_socket].bss.start+9c/33f>
Trace; c806073c <[pci_socket].bss.start+9c/33f>
Trace; c0108e5c <kernel_thread+28/38>
Trace; c8060708 <[pci_socket].bss.start+68/33f>
Code;  c805df39 <[yenta]yenta_socket_thread+1bd/1dc>
00000000 <_EIP>:
Code;  c805df39 <[yenta]yenta_socket_thread+1bd/1dc>   <=====
   0:   89 50 04                  mov    %edx,0x4(%eax)   <=====
Code;  c805df3c <[yenta]yenta_socket_thread+1c0/1dc>
   3:   89 02                     mov    %eax,(%edx)
Code;  c805df3e <[yenta]yenta_socket_thread+1c2/1dc>
   5:   57                        push   %edi
Code;  c805df3f <[yenta]yenta_socket_thread+1c3/1dc>
   6:   9d                        popf   
Code;  c805df40 <[yenta]yenta_socket_thread+1c4/1dc>
   7:   8b 44 24 10               mov    0x10(%esp,1),%eax
Code;  c805df44 <[yenta]yenta_socket_thread+1c8/1dc>
   b:   83 78 08 00               cmpl   $0x0,0x8(%eax)
Code;  c805df48 <[yenta]yenta_socket_thread+1cc/1dc>
   f:   0f 84 a6 fe ff 00         je     fffebb <_EIP+0xfffebb> c905ddf4 <END_OF_CODE+ffd415/????>