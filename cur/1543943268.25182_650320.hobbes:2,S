Date: Fri, 08 Feb 2008 08:26:57 -0500
From: Andreas Dilger <>
Subject: Re: [RFC] ext3 freeze feature
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/8/136

On Feb 08, 2008  19:48 +0900, Takashi Sato wrote:
> OK I would like to implement the freeze feature on VFS
> as the filesystem independent ioctl so that it can be
> available on filesystems that have already had write_super_lockfs()
> and unlockfs().
> The usage for the freeze ioctl is the following.
>  int ioctl(int fd, int FIFREEZE, long *timeval);
>    fd:file descriptor of mountpoint
>    FIFREEZE:request cord for freeze
>    timeval:timeout period (second)
>
> And the unfreeze ioctl is the following.
>  int ioctl(int fd, int FITHAW, NULL);
>    fd:file descriptor of mountpoint
>    FITHAW:Request cord for unfreeze
You may as well make the common ioctl the same as the XFS version,
both by number and parameters, so that applications which already
understand the XFS ioctl will work on other filesystems.
Cheers, Andreas
--
Andreas Dilger
Sr. Staff Engineer, Lustre Group
Sun Microsystems of Canada, Inc.