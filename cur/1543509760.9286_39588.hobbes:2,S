Date: Fri, 17 Sep 1999 16:44:36 -0700
From: Dara Hazeghi <>
Subject: Invalid asm in 2.3.18ac5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/17/173

I thought that everything had been sorted out. Oh well.
i386 with gcc 2.95.1 returns following error message:
make -C  arch/i386/lib
make[1]: Entering directory `/usr/src/linux/arch/i386/lib'
make all_targets
make[2]: Entering directory `/usr/src/linux/arch/i386/lib'
gcc -D__KERNEL__ -I/usr/src/linux/include -D__ASSEMBLY__  -DCPU=686
-traditional -c checksum.S -o checksum.o
gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes
-freduce-all-givs -fmove-all-movables -fomit-frame-pointer -march=i686
-O3 -fno-strict-aliasing -fexpensive-optimizations -ffast-math
-funroll-loops -fno-strict-aliasing -pipe -fno-strength-reduce
-mpreferred-stack-boundary=2 -DCPU=686 -march=i686   -c -o
old-checksum.o old-checksum.c
gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes
-freduce-all-givs -fmove-all-movables -fomit-frame-pointer -march=i686
-O3 -fno-strict-aliasing -fexpensive-optimizations -ffast-math
-funroll-loops -fno-strict-aliasing -pipe -fno-strength-reduce
-mpreferred-stack-boundary=2 -DCPU=686 -march=i686   -c -o delay.o
delay.c
gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes
-freduce-all-givs -fmove-all-movables -fomit-frame-pointer -march=i686
-O3 -fno-strict-aliasing -fexpensive-optimizations -ffast-math
-funroll-loops -fno-strict-aliasing -pipe -fno-strength-reduce
-mpreferred-stack-boundary=2 -DCPU=686 -march=i686   -c -o usercopy.o
usercopy.c
usercopy.c: In function `strnlen_user':
usercopy.c:177: Invalid `asm' statement:
usercopy.c:177: fixed or forbidden register 2 (cx) was spilled for class
CREG.
make[2]: *** [usercopy.o] Error 1
make[2]: Leaving directory `/usr/src/linux/arch/i386/lib'
make[1]: *** [first_rule] Error 2
make[1]: Leaving directory `/usr/src/linux/arch/i386/lib'
make: *** [_dir_arch/i386/lib] Error 2
[bob@joe linux]#
Regards,
Dara Hazeghi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/