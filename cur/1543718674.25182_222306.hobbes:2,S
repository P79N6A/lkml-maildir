Date: Sun, 23 May 2004 21:47:31 +0200
From: Christian Borntraeger <>
Subject: Re: Linux 2.4 VS 2.6 fork VS thread creation time test
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/23/135

David Lang wrote:
> On Sun, 23 May 2004, Christian Borntraeger wrote:
> > Gergely Czuczy wrote:
> > > failed. As I told it above all the processes are teminated right
> > > after creation, but there were a lot of defunct processes in the
> > > system, and they were only gone when the parent termineted.
> > Have you heard of wait, waitpid and pthread_join?
> there really is some sort of problem with 2.6.6 in this area. I have an
Well in the example given by Gergely there was no wait call at all. 
Therefore I believe your problem is not related to his one.
What do you mean by with 2.6.6. Does this testcase behaves differently with 
other kernel versions? Which version is the first with this problem?
> the prarent deals with sigchild by
> handler{
> while ( wait(...) >0);
> signal(SIGCHLD, handler);
> }
You run signal within the signal handler. This is not necessary, although 
this should cause no problems. Nevertheless, can you try your test without 
signal in the signal handler?
cheers
Christian
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/