Date: Sun, 28 Feb 1999 22:46:05 +0100 (CET)
From: Bjorn Ekwall <>
Subject: Modutils-snap990228
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/28/115

Hi all,
After some serious rework, the latest snapshot of the upcoming modutils
is available (as usual) via:
	<
http://www.pi.se/blox/modutils/modutils-snap990228.tar.gz>
I would appreciate some tests, especially since quite a few things have
been changed (and partly rewritten). Most notably:
- modprobe is now (almost) fully integrated with insmod.
  (insmod is called as a function by modprobe => faster).
- The handling of the configuration file is becoming more generic,
  so the utilities will use the same set of rules for finding a module.
- All system calls to get module status information are centralized
  (and portable between 2.0 and 2.2) => shorter sources for the utilities.
- It is possible to create executables tuned for Linux-2.2.*
  (use "configure --disable-compat-2-0" for a pure Linux 2.2 version)
- Compiles cleanly in Linux-2.0.*
- insmod now knows more about SMP (thanks to Bill Zumach <zumach+@transarc.com>)
- A (preliminary) feature of modprobe: "modprobe -r" (no module names)
  can be used to clean up "autoclean" modules while still executing the
  pre-/post-remove commands in /etc/conf.modules
  (use with cron instead of "rmmod -a").
- No C++ libs are used by the depmod executable (but it is still C++)
Remaining work:
- Some announced patches will be integrated when they arrive.
- "modprobe -r" does not (yet) have all the features of "rmmod -a"
  (hint: VISITED is not used).
- The rules for MODPATH need more thinking (see insmod/config.c)
  before a fully unified method of deciding module paths are finished.
- More cleanups (such as insmod/alias.h as well as remaining "FIXME").
- Upgrade the documentation.
- Make everything available via anon-cvs.
- Handling whatever comments/fixes you send me...
With just a _little_ more work, and testing, this could soon be released
as the upcoming "modutils-2.2.2"
Bj√∂rn Ekwall <bj0rn@blox.se>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/