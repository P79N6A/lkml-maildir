Date: Sun, 17 Jun 2007 10:01:19 -0700 (PDT)
From: Davide Libenzi <>
Subject: Re: And now for something _totally_ different: Linux v2.6.22-rc5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/17/167

On Sun, 17 Jun 2007, Nicholas Miell wrote:
> On Sat, 2007-06-16 at 20:33 -0700, Linus Torvalds wrote:
> > In a stunning turn of events, I've actually been able to make another -rc 
> > release despite all the discussion (*cough*flaming*cough*) about other 
> > issues, and we now have a brand-spanking-new Linux 2.6.22-rc5 release 
> > out there!
> > 
> 
> signalfd still has the broken behavior w.r.t. signal delivery to
> threads.
> 
> Is this going to get fixed before 2.6.22 proper is released, or should
> it just be disabled entirely so no userspace apps grow to depend on
> current wrong behavior?
At the moment, with Ben's patch applied, signalfd can see all group-sent 
signals, and locally-directed thread signals.
Linus, we can leave this as is, or we can use the ququed-signalfd that was
implemented in the first versions of signalfd. In such case, since 
signalfd hooks to the sighand, all signals will be visible to signalfd and 
they will not compete against dequeue_signal with the tasks. So there will 
be no races in the queue retrieval. The issue that remained to be solved 
was a simple way to limit memory allocated by the queue.
What do you prefer?
- Davide
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/