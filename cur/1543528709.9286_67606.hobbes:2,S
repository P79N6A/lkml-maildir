Date: Sun, 5 Mar 2000 20:48:19 -0800 (PST)
From: Paul Vojta <>
Subject: Re: system doesn't shut down
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/5/112

Jeff Garzik <jgarzik@mandrakesoft.com> wrote:
> Paul Vojta wrote:
> > > you
> > > should test CONFIG_EXPERIMENTAL before even presenting an experimental
> > > option to the user.
> > 
> > Fair enough.  However, since CONFIG_USB_UHCI_HIGH_BANDWIDTH in 2.3.48
> > and CONFIG_DM9102 in 2.2.14 do not follow this convention, I hope you
> > can understand why I might make such a mistake.
> 
> E-mail me a patch for this?
OK.  Here's for 2.2.14:
-----------------------
--- linux-2.2/drivers/net/Config.in	Tue Jan  4 10:12:17 2000
+++ linux-2.2/drivers/net/Config.in.new	Sun Mar  5 15:43:40 2000
@@ -128,7 +128,9 @@
     fi
     tristate 'Apricot Xen-II on board Ethernet' CONFIG_APRICOT
     tristate 'CS89x0 support' CONFIG_CS89x0
-    tristate 'DM9102 PCI Fast Ethernet Adapter support (EXPERIMENTAL)' CONFIG_DM9102
+    if [ "$CONFIG_EXPERIMENTAL" = "y" ]; then
+      tristate 'DM9102 PCI Fast Ethernet Adapter support (EXPERIMENTAL)' CONFIG_DM9102
+    fi
     tristate 'Generic DECchip & DIGITAL EtherWORKS PCI/EISA' CONFIG_DE4X5
     tristate 'DECchip Tulip (dc21x4x) PCI support' CONFIG_DEC_ELCP
     if [ "$CONFIG_DEC_ELCP" != "y" ]; then
-----------------------
And here's for 2.3.49:
-----------------------
--- linux/drivers/usb/Config.in	Sun Mar  5 15:30:40 2000
+++ linux/drivers/usb/Config.in.new	Sun Mar  5 15:51:11 2000
@@ -9,7 +9,7 @@
 
 comment 'USB Controllers'
    dep_tristate '  UHCI (Intel PIIX4, VIA, ...) support' CONFIG_USB_UHCI $CONFIG_USB
-   if [ "$CONFIG_USB_UHCI" != "n" ]; then
+   if [ "$CONFIG_USB_UHCI" != "n" -a "$CONFIG_EXPERIMENTAL" = "y" ]; then
       bool '    USB-UHCI High Bandwidth (EXPERIMENTAL)' CONFIG_USB_UHCI_HIGH_BANDWIDTH
    fi
    dep_tristate '  UHCI Alternate Driver (JE) support' CONFIG_USB_UHCI_ALT $CONFIG_USB
-----------------------
--Paul Vojta, vojta@math.berkeley.edu
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/