Date: Fri, 18 Nov 2005 16:37:25 +0800
From: liyu <>
Subject: [Question] spin_lock in interrupt handler.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/18/30

Hi, every one in LKML.
    I have one question about how to use spin_lock.
    I read Documentation/spinlocks.txt wrote by Linus. The Lesson 1 and 
2 are simple for me.
But I confused in Lesson 3. The most doublt is why we can not use 
spin_lock_irq*() version in
interrupt handler?
    At i386, I known the interrupt is disabled in interrupt handler. I 
think this feature is
supplied in handware-level. The spin_lock_irqrestore() will use  'sti'  
instruction internal, it will change interrupt mask bit in FLAGS 
register, do this have re-enable interrupt, even in interrput handler? I 
can not sure this.
    Thanks in advanced.
-liyu
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/