Date: Sun, 8 Oct 2006 21:41:24 +0200
From: Pavel Machek <>
Subject: /sys/.../power/state Re: [linux-usb-devel] error to be returned while suspended
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/8/179

Hi!
> > > The power management functions without 
> > > timeout are also exported. For other power control features like
> > > cpu frequency considerable effort has been made to export them to
> > > user space.
> > 
> > Yes, and many of us use the much lighter weight kernel based control
> > models by preference. Â  Why waste hundreds of Kbytes of userspace for
> > a daemon when a few hundred bytes of kernel code can implement a
> > better and more reactive kernel policy for cpufreq?
> 
> That's an important aspect. How about implementing autosuspend
> first and keeping the sysfs-based suspension for now? If autosuspend
Current sysfs-based suspension allows people to do bad stuff to
drivers, like confusing them, oopsing them, etc. It is so broken that
it can not be fixed. (When I suspend my USB this way, I end up with
dead USB. When I suspend my sound card, I get any soundcard users in
unrecoverable D state.)
Now... you can prove me wrong, but that likely means auditing all the
drivers with suspend() and/or resume() methods. I'm not prepared to do
that work... are you?
								Pavel
-- 
(english) 
http://www.livejournal.com/~pavelmachek
(cesky, pictures) 
http://atrey.karlin.mff.cuni.cz/~pavel/picture/horses/blog.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/