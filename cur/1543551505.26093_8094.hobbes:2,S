Date: Sat, 14 Oct 2000 00:45:50 +0200
From: Dag B <>
Subject: Re: Updated 2.4 TODO List - more on PCI resources...]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/13/168

I have tested Linus' patch and it makes a difference:
cs: cb_alloc(bus 6): vendor 0x115d, device 0x0003
Found 06:00 [115d/0003] 000200 00
bus res 0 1200 1c000000-1fffffff
bus res 1 200 20000000-23ffffff
bus res 2 100 00001800-000018ff
bus res 0 1200 1c000000-1fffffff
bus res 1 200 20000000-23ffffff
bus res 0 1200 1c000000-1fffffff
bus res 1 200 20000000-23ffffff
bus res 0 1200 1c000000-1fffffff
PCI: Error while updating region 06:00.0/6 (1c000001 != 18000001)
PCI: Enabling device 06:00.0 (0000 -> 0003)
Found 06:01 [115d/0103] 000300 00
bus res 0 1200 1c000000-1fffffff
bus res 1 200 20000000-23ffffff
bus res 2 100 00001800-000018ff
bus res 0 1200 1c000000-1fffffff
bus res 1 200 20000000-23ffffff
bus res 0 1200 1c000000-1fffffff
bus res 1 200 20000000-23ffffff
bus res 0 1200 1c000000-1fffffff
PCI: Error while updating region 06:00.1/6 (1c004001 != 18004001)
PCI: Enabling device 06:00.1 (0000 -> 0003)
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 192k freed
Warning: unable to open an initial console.
cs: IO port probe 0x0c00-0x0cff: clean.
cs: IO port probe 0x0800-0x08ff: clean.
cs: IO port probe 0x0100-0x04ff: excluding 0x170-0x177 0x370-0x37f
0x4d0-0x4d7
cs: IO port probe 0x0a00-0x0aff: clean.
eth0: first available media type: MII
tulip_attach(06:00.0)
PCI: Enabling bus mastering for device 06:00.0
PCI: Setting latency timer of device 06:00.0 to 64
xircom_tulip_cb.c:v0.91 4/14/99 becker@cesdis.gsfc.nasa.gov (modified by
danilo@cs.uni-magdeburg.de for XIRCOM CBE, fixed by Doug Ledford)
eth1: Xircom Cardbus Adapter (DEC 21143 compatible mode) rev 3 at 0x1800,
00:00:00:00:00:00, IRQ 11.
lspci:
06:00.0 Ethernet controller: Xircom Cardbus Ethernet 10/100 (rev 03)
        Subsystem: Xircom Cardbus Ethernet 10/100
        Flags: bus master, medium devsel, latency 64, IRQ 11
        I/O ports at 1800 [size=128]
        Memory at 20000000 (32-bit, non-prefetchable) [size=2K]
        Memory at 20000800 (32-bit, non-prefetchable) [size=2K]
        Expansion ROM at 1c000000 [size=16K]
        Capabilities: [dc] Power Management version 1
06:00.1 VGA compatible controller: Xircom Cardbus Ethernet + 56k Modem
(rev
03) (prog-if 02)
        Subsystem: Xircom CBEM56G-100 Ethernet + 56k Modem
        Flags: medium devsel, IRQ 11
        I/O ports at 1880 [size=8]
        Memory at 20001000 (32-bit, non-prefetchable) [size=2K]
        Memory at 20001800 (32-bit, non-prefetchable) [size=2K]
        Expansion ROM at 1c004000 [size=16K]
        Capabilities: [dc] Power Management version 1
It still doesn't work.
It looks very much like a stuck bit, but at least we get a slightly
"better" error message and the expansion ROM now gets enabled. progress!
Linus wants to "debug this to death" (his words, not mine) but I don't
have access to the suspect hardware for the next five weeks, and it will
probably be serviced some time during those weeks.
Thank you for being patient, Linus. And sorry for not being able to
provide more debug data. 
Dag B
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/