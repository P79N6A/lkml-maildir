Date: Tue, 23 May 2006 21:11:40 +1000
From: Neil Brown <>
Subject: Re: RAID Sync Speeds
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/23/61

On Tuesday May 23, rainer.shiz@gmail.com wrote:
> Thanks Neil and Chris for your quick replies.
> 
> Neil, well when you say 'detectable activity' what do you exactly
> refer to.
It should mean any IO request to any of the physical devices, whether
though the raid array or otherwise.  Sometimes in can get confused,
but in 2.6.12 (If it a kernel.org 2.6.12) got it pretty right I
think.  Current kernels may have occasional issues that I really need
to sort out one day...
Maybe if you give me more precise details about your setup 
(e.g. cat /proc/mdstat) something might occur to me.
> I heard that speed values are averaged out for about 5 minutes or so.
They are averaged over 30 seconds.
> 
> One more question while I am at it, if a RAID Set is newly created and
> syncing, and now I change the /proc/sys/dev/raid/speed_limit_min and
> max values will this reflect on new RAID Sets that are created henceforth
> or even the existing RAID Sets which are being synced currently?
These numbers apply globally to all arrays, and can be changed at any
time.
More recent kernels have similar numbers in /sys/block/mdX/md/..
which allow the same settings to be applied to individual arrays.
> 
> And yes, I am too using Seagate hard drives. Does mixing up of
> hard drives (vendors) affect this sync process.? (I presume not but please
> correct me if I am wrong).
Mixing things shouldn't have an unexpected effect.  Obviously the
total speed will be limited by the slowest device, but no other
effects that I can thing of.  Certainly not what you are experiencing.
NeilBrown
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/