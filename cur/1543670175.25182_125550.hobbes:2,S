Date: 16 Apr 2003 08:28:24 -0600
From: Steven Cole <>
Subject: Re: Kernels since 2.5.60 upto 2.5.67 freeze when X server terminates
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/16/97

On Wed, 2003-04-16 at 05:42, Alan Cox wrote:
> On Mer, 2003-04-16 at 01:45, Florin Iucha wrote:
> > On Tue, Apr 15, 2003 at 03:43:55PM -0700, Andrew Morton wrote:
> > > florin@iucha.net (Florin Iucha) wrote:
> > > >
> > > > I think it has to do with the interaction between XFree86 4.3.0 and
> > > > the AGP code.
> > > 
> > > Has anyone tried disabling kernel AGP support and retesting?
> > 
> > Now that you suggested it, I disabled kernel AGP support and 4.3.0
> > (Daniel Stone Debian packages) works fine so far.
> 
> Disablign AGP turned off 3D. There is a problem in a lot of the current
> DRI drivers where shared IRQs break as sometimes do restarts because
> the IRQ is not masked properly in the DRI module on close down. Its
> certainly true in the -ac tree (Radeon patch pending, someone apparently
> has other patches I need to chase).
> 
> Alan
I tried 2.5.67-ac1 with AGP and no CONFIG_DRM, with Intel 82810E DC-133
CGC [Chipset Graphics Controller]. With that configuration, I saw the
freeze once (not easily repeatable) on _starting_ the X server (init 5)
after a successful termination of the X server with /sbin/init 3.  The
freeze is 100% repeatable when selecting "Log Out" from KDE or Gnome
after X was started with /sbin/init 5.  If X is started with "startx",
"Log Out" always successfully terminates the X server with no freeze.
This is with RedHat 9.
Steven    
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/