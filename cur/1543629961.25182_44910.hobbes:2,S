Date: Thu, 9 May 2002 10:34:18 -0400 (EDT)
From: Bill Davidsen <>
Subject: Re: Slow harddisk
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/9/72

On Thu, 9 May 2002, Ng Pek Yong wrote:
> It got worse ;)
> 
> (note: I can;t get dma to work; see below)
> 
> # hdparm -X69 -d1 -u1 -c1 -m16 /dev/hde
> 
> /dev/hde:
>  setting 32-bit I/O support flag to 1
>  setting multcount to 16
>  setting unmaskirq to 1 (on)
>  setting using_dma to 1 (on)
>  HDIO_SET_DMA failed: Operation not permitted
>  setting xfermode to 69 (UltraDMA mode5)
>  multcount    = 16 (on)
>  I/O support  =  1 (32-bit)
>  unmaskirq    =  1 (on)
>  using_dma    =  0 (off)
> [root@lal root]# hdparm  -Tt /dev/hde
Time to investigate why DMA doesn't work, rather than spending time trying
to run without it. Did you build your kernel with DMA in the IDE part, by
default, and enable chip specific features? I suspect the chipset is not
being DMA enbled, as was the case when I had a similar issue.
-- 
bill davidsen <davidsen@tmr.com>
  CTO, TMR Associates, Inc
Doing interesting things with little computers since 1979.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/