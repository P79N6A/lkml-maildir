Date: Wed, 30 Mar 2005 11:19:08 +0100
From: 	tvrtko.ursulin@sophos ...
Subject: Re: dmesg verbosity [was Re: AGP bogosities]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/30/64

On 30/03/2005 10:45:55 linux-kernel-owner wrote:
>> The solution is fairly well known.  Rather than treating the zillions 
of
>> disk seeks during the boot process as random unconnected events, you
>
>Heh, we actually tried that at SuSE and yes, eliminating seeks helps a
>bit, but no, it is not magicall cure you'd want it to be.
>
>Only solution seems to be "do less during boot".
What about the init scripts? They are all spawned from the master one, 
they all spawn zillions of simple utilities. And udev startup time under 
SuSE 9.2 is just awful. It might be the Unix way but it is killing the 
boot process.
What I tried to do once, and I even contacted somebody from SuSE with a 
working proof of concept code is the following:
Master init script written in Perl. All the service init scripts rewritten 
in Perl which can be invoked independently, but they all follow the 
convention and implement functions such as start() stop() reload() etc.. 
Then the master init script includes one at a time and "evals" them (well 
just the function which it is interested in). Since everything is written 
in Perl there is no need to invoke external greps, seds, cuts etc.. And 
rc.status was also only processed once (by the master init script).
It was fast but I don't have any exact numbers because I only implemented 
rc, rc.boot, rc.status and sshd (AFAIR) before giving up. I think I should 
be able to dig that code from somewhere if someone is interested...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/