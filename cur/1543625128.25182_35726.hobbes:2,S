Date: Tue, 19 Mar 2002 07:36:37 +1100
From: Nathan Scott <>
Subject: Re: 2.4.19-pre3-ac1 - Quotactl patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/18/171

Shawn Starr wrote:
> > Right, but which old patch 2.4.18-pre3-quotactl reversed against
I assume you mean "2.4.18-pre3-ac2-quotactl.patch" from XFS CVS...
this was an incremental patch against Alan's tree, as described in
cmd/xfsmisc/README in the XFS CVS tree - it's not the right one to
be using here, since we're trying to back out the quota changes in
Alan's patches (a.k.a. Jan Kara's 32 bit uid/gid quota patches, at
ftp://atrey.karlin.mff.cuni.cz/pub/local/jack/quota/v2.4/
)
> > 2.4.19-pre3-ac1 doesnt go out cleanly without patch complaining about
> > unreversed patch problems.
You would need to use the quota patch which is part of Alan's patches
in order to get back to the base kernel quota, before applying Jan's
new patches (which are patches against Linus'/Marcelo's kernels).  
Alan Cox wrote:
> It isnt a single patch, its patches with further fixes on top.
So, I'm starting to think the patch you need doesn't exist, Shawn...
Previously I thought Alan simply used Jan's quota patches directly,
but from what Alan's saying it sounds like that isn't correct and he
has additional fixes which aren't in Jan's patches. (?)
Anyway, I imagine you would still get most of the way there by reverse
applying Jan's patch (quota-patch-2.4.17-3.diff in XFS CVS) and then
fixing up any remaining issues by hand.  You just need to get back to
the base kernel quota as a starting point, because that's what Jan's
"alpha" patches are against (we use these in the XFS CVS tree now).
cheers.
-- 
Nathan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/