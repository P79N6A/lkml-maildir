Date: Sun, 4 Nov 2007 03:48:56 +0100
From: Adrian Bunk <>
Subject: Re: [PATCH] replace "make ARCH=i386/x86_64 with make ARCH=x86"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/3/173

On Sat, Nov 03, 2007 at 10:02:19PM -0400, Jeff Garzik wrote:
> Sam Ravnborg wrote:
>> This patchset unify the i386 and x86_64 Kconfig
>> files for x86.
>> In addition it replaces the use of ARCH=i386 and
>> ARCH=x86_64 with the more intuitive ARCH=x86.
>> The primary purpose of this patch serie is to enable make ARCH=x86 and let 
>> the config decide
>> if we are building for 32 or 64 bit.
>
> Yuck, I dislike.  Please don't take away this nice development workflow.  
> the current workflow of
>
> 	make ARCH=i386 allmodconfig && make ARCH=i386 -sj5
>
> no longer works.  Now, the new and ungainly step of editing the .config is 
> added, with vi or sed.
You could say the same about allmodconfig and 32bit on powerpc.
Or about allmodconfig and 64bit on mips.
Or about allmodconfig and little endian on mips.
Or about allmodconfig and drivers depending on !SMP on x86.
...
> This also opens a chicken-and-egg problem...  What kind of config is 
> generated by allmodconfig when ARCH==x86?  There is no good answer.
This option won't be different from all the other similar options 
allmodconfig already handles in a non-random way...
> The existing tradition of switching between 32-bit and 64-bit was quite 
> nice, and it was done in The Obvious Way(tm) -- via the method for 
> specifying the architecture/platform.  Switching to Kconfig for that 
> decision is a step backwards in usability and IMO violates the Principle of 
> Least Surprise.
The existing tradition on the powerpc and mips ports that have 32bit and 
64bit together in one directory is to switch in Kconfig, and doing it 
differently in the x86 port would violate the Principle of the Least 
Surprise.
> 	Jeff
cu
Adrian
-- 
       "Is there not promise of rain?" Ling Tan asked suddenly out
        of the darkness. There had been need of rain for many days.
       "Only a promise," Lao Er said.
                                       Pearl S. Buck - Dragon Seed
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/