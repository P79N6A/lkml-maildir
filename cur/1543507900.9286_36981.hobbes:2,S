Date: Thu, 02 Sep 1999 12:31:54 +0100
From: David Woodhouse <>
Subject: ACPI still breaks PIIX4 IDE in 2.3.16
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/2/52

Enabling CONFIG_ACPI still causes 2.3.16 to be unable to find and mount its 
root partition from the PIIX4 IDE.
This is without ACPI:
Uniform Multi-Platform E-IDE driver Revision: 6.20
PIIX4: IDE controller on PCI bus 00 dev 39
PIIX4: not 100% native mode: will probe irqs later
    ide0: BM-DMA at 0xf000-0xf007, BIOS settings: hda:pio, hdb:pio
    ide1: BM-DMA at 0xf008-0xf00f, BIOS settings: hdc:pio, hdd:pio
hda: FUJITSU MPD3064AT, ATA DISK drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
hda: FUJITSU MPD3064AT, 6187MB w/512kB Cache, CHS=788/255/63, UDMA(33)
Partition check:
 hda: hda1 hda2 hda3 hda4
VFS: Mounted root (ext2 filesystem) readonly.
With ACPI enabled:
-VFS: Mounted root (ext2 filesystem) readonly.
+Found PIIX ACPI device at 4000
+[MS-DOS FS Rel. 12,FAT 0,check=n,conv=b,uid=0,gid=0,umask=022,bmap]
+[me=0x0,cs=0,#f=0,fs=0,fl=0,ds=0,de=0,data=0,se=0,ts=0,ls=0,rc=0,fc=4294967295]
+Transaction block size = 512
+Kernel panic: VFS: Unable to mount root fs on 03:02
( And I've noticed that the R3964 stuff _did_ work in 2.3.15, and the
__initfunc macro was removed in 2.3.16 - so Rogier, you can have my brown paper
bag if you like. )
----                                 ----                                 ----
David Woodhouse        David.Woodhouse@mvhi.com       Office: (+44) 1223 810302
 Project Leader,     Process Information Systems      Mobile: (+44) 976 658355
    Axiom (Cambridge) Ltd., Swaffham Bulbeck, Cambridge, CB5 0NA, UK.
             finger dwmw2@ferret.lmh.ox.ac.uk for PGP key.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/