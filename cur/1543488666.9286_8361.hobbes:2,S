Date: Fri, 05 Mar 1999 18:54:35 +0100
From: "Stephan Engström\"  <>
Subject: Bad VM behaivor [2.2.2]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/5/84

We have had some problem with a webserver that is under very high load.
When
I try to investigate this problem further on another machine it is quite
clear
that it is some sort of bad VM behaivor. I made a test app that forks
256 times and then tries to connect to apache on the same machine, and
apache stops and must be restarted.
Trying to run anything results in a "couldn't allocate memory" error.
Top
report follows:
------------
  6:46pm  up 8 days,  3:55,  9 users,  load average: 1.91, 1.02, 1.05
295 processes: 270 sleeping, 18 running, 7 zombie, 0 stopped
CPU states: 10.6% user, 17.3% system,  0.0% nice, 74.4% idle
Mem:  128012K av, 123944K used,   4068K free, 129932K shrd,  21248K buff
Swap: 130748K av,    656K used, 130092K free                 22540K
cached
-------------
Under 2.0.36 this works OK.
The machine is a PII 350, RedHat 5.2 + few updates, kernel 2.2.2.
The machine is stable all the time.
Am I the only person bitten by this one?
Regards
Stephan Engström
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/