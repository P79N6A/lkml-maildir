Date: Thu, 4 Nov 2004 09:39:19 -0800
From: Greg KH <>
Subject: Re: patch for sysfs in the cyclades driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/4/189

On Thu, Nov 04, 2004 at 10:40:26AM -0600, Kilau, Scott wrote:
> > From: Marcelo Tosatti
> > The problem was class_simple only contains the "dev" attribute. You
> can't
> > add other attributes to it.
> 
> Ah, that changes everything.
No, you can add attributes to it, I just don't think the pointer is
accessable for a tty driver to be able to find the thing.  Need to go
look at the code again to verify this or not.
> The entire reason Germano and I were chasing down this option,
> was so we could export various "tty" statistic files out to below
> each respective tty name in /sys/class/tty 
> 
> If its currently not possible to add more attributes to the simple
> class,
> then we are probably going down the wrong avenue here, at least for now.
No, that's the proper way to go.
> Greg,
> I know you are a very busy person...
> Is making a "tty class" even in the cards for 2.6, or is it scheduled
> for 2.7+ ?
It's scheduled for whenever someone gets around to doing it :)
As there is no 2.7 tree, nor is there going to be, why not do it right
now?  I'd gladly take patches that do this, and I don't think they would
be all that big at all.
> Germano,
> I still hate doing it, and I know it is against the "1 value per file in
> sys" rule,
> but for now I think exporting the values to the "card" directory with
> each file 
> containing the value as a list of ports, 1 per line, might be the best
> option
> to work with here, at least until the "tty class" gets developed.
No, I will not allow that to go into the kernel tree, sorry.  Just
export the tty class pointer in the proper structure, and you should be
fine.
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/