Date: Sat, 17 Feb 2001 11:22:38 -0800 (PST)
From: Mark Swanson <>
Subject: Re: System V msg queue bugs in latest kernels
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/17/62

You are right.
/proc/sysvipc/msg is correct. It shows:
cbytes: 1048575
qnum: 95325
ipcs shows:
used-bytes: 65535
messages: 65535
It's a 16-bit number issue.
--- Manfred Spraul <manfred@colorfullife.com> wrote:
> Mark Swanson wrote:
> > 
> > Hello,
> > 
> > ipcs (msg) gives incorrect results if used-bytes is above 65536. It
> > stays at 65536 even though messages are being read and removed from
> the
> > msg queue.
> >
> I'm testing it.
> 
> Could you check /proc/sysvipc/msg?
> 
> I know that several API's have 16-bit numbers, perhaps wrong values
> are
> returned to user space.
> 
> --
> 	Manfred
=====
A camel is ugly but useful; it may stink, and it may spit, but it'll get you where you're going. - Larry Wall -
__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail - only $35 
a year!  
http://personal.mail.yahoo.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/