Date: 3 Mar 1999 18:28:36 +0100
From: "Henning P. Schmiedehausen" <>
Subject: Re: Linux 2.2.2 TCP delays every 41st small packet by 10-20 ms
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/3/88

becker@cesdis1.gsfc.nasa.gov (Donald Becker) writes:
>On 25 Feb 1999, Ben Gertzfield wrote:
>> I ran into something suspiciously similar to this today; the tulip.c
>> driver (version 0.90) in 100BaseT full-duplex mode would often deal
>> extremely poorly with the collisions that full-duplex mode brings
>> about. I would get runts, giants, and all sorts of nasty packet errors.
>Ackkk!
>Full duplex mode never has collisions.
>You were likely trying to use full duplex mode on a CSMA/CD Ethernet.
>Full duplex can only be used on host-to-host and host-to-switch links, and
>only when both endpoints are configured or negotiate full duplex.
Hmmm,
things I never really understood:
eth0      Link encap:Ethernet  HWaddr 00:10:4B:xx:xx:xx
          inet addr: [...]  Bcast: [...]  Mask:[...]
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:150056148 errors:0 dropped:0 overruns:0 frame:0
          TX packets:170104070 errors:0 dropped:0 overruns:0 carrier:43
          Collisions:937330 
          Interrupt:10 Base address:0xe800 
This is the interface on the server
FastEthernet0/4 is up, line protocol is up 
  Hardware is Fast Ethernet, address is 0050.50aa.3104 (bia 0050.50aa.3104)
  Description: This is the server...
  MTU 1500 bytes, BW 100000 Kbit, DLY 100 usec, rely 254/255, load 1/255
  Encapsulation ARPA, loopback not set, keepalive not set
  Full-duplex, 100Mb/s, 100BaseTX/FX
  ARP type: ARPA, ARP Timeout 04:00:00
  Last input never, output 00:00:00, output hang never
  Last clearing of "show interface" counters never
  Queueing strategy: fifo
  Output queue 0/40, 0 drops; input queue 0/75, 0 drops
  5 minute input rate 410000 bits/sec, 78 packets/sec
  5 minute output rate 282000 bits/sec, 71 packets/sec
     721899235 packets input, 2415249888 bytes, 0 no buffer
     Received 1211 broadcasts, 244910 runts, 0 giants, 0 throttles
     4977727 input errors, 2265016 CRC, 2471182 frame, 0 overrun, 756 ignored, 0 abort
     0 watchdog, 0 multicast
     0 input packets with dribble condition detected
     659782705 packets output, 1749465401 bytes, 0 underruns
     0 output errors, 0 collisions, 3 interface resets
     0 babbles, 0 late collision, 0 deferred
     0 lost carrier, 0 no carrier
     0 output buffer failures, 0 output buffers swapped out
This is the interface on the Cisco (2924XL). It is running 100 MBit fdx
Where do the collisions on the Linux side come from? Where do the lots
and lots of errors on the Cisco come from? Bad cabling?
(Linux 2.0.36 on a PII, 3c59x driver 0.99E on a 3c905 board. Switch is
a Catalyst C2924-XL running IOS (tm) C2900XL Software (C2900XL-H-M),
Version 11.2(8)SA3, RELEASE SOFTWARE (fc1))
	Kind regards
		Henning
-- 
Dipl.-Inf. (Univ.) Henning P. Schmiedehausen --             hps@tanstaafl.de
TANSTAAFL! Consulting - Unix, Internet, Security      
Hutweide 15                   Fon.: 09131 / 50654-0    "There ain't no such
D-91054 Buckenhof             Fax.: 09131 / 50654-20    thing as a free Linux"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/