Date: Wed, 11 Jan 2006 19:53:40 -0800
From: Andrew Morton <>
Subject: Re: [PATCH 09/20] V4L/DVB (3344d) Stradis video little cleanup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/11/489

mchehab@infradead.org wrote:
>
>  +errosd:
>  +	vfree(saa->osdbuf);
>  +	saa->osdbuf = NULL;
>  +erraud:
>  +	vfree(saa->audbuf);
>  +	saa->audbuf = NULL;
>  +errvid:
>  +	vfree(saa->vidbuf);
>  +	saa->vidbuf = NULL;
>  +err:
>  +	return -ENOMEM;
>   }
vfree(NULL) is legal, so this could be:
error:
	vfree(saa->osdbuf);
	vfree(saa->audbuf);
	vfree(saa->vidbuf);
	saa->vidbuf = NULL;
	saa->osdbuf = NULL;
	saa->audbuf = NULL;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/