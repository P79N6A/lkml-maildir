Date: Sat, 2 Feb 2008 18:26:15 +0200
From: "Nick Kossifidis" <>
Subject: Re: [PATCH] wireless/ath5k: renamed to ath5k_pci_driver to fix Section mismatch warnings
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/2/141

2008/2/2, Denis Cheng <crquan@gmail.com>:
> the struct pci_driver refered ath5k_pci_id_table which in __devinit section,
> the sparse tool suggest this renamed to "*driver", kills mismatch warnings.
>
> Signed-off-by: Denis Cheng <crquan@gmail.com>
> ---
>  drivers/net/wireless/ath5k/base.c |    6 +++---
>  1 files changed, 3 insertions(+), 3 deletions(-)
>
> diff --git a/drivers/net/wireless/ath5k/base.c b/drivers/net/wireless/ath5k/base.c
> index d6599d2..ddc8714 100644
> --- a/drivers/net/wireless/ath5k/base.c
> +++ b/drivers/net/wireless/ath5k/base.c
> @@ -153,7 +153,7 @@ static int          ath5k_pci_resume(struct pci_dev *pdev);
>  #define ath5k_pci_resume NULL
>  #endif /* CONFIG_PM */
>
> -static struct pci_driver ath5k_pci_drv_id = {
> +static struct pci_driver ath5k_pci_driver = {
>         .name           = "ath5k_pci",
>         .id_table       = ath5k_pci_id_table,
>         .probe          = ath5k_pci_probe,
> @@ -329,7 +329,7 @@ init_ath5k_pci(void)
>
>         ath5k_debug_init();
>
> -       ret = pci_register_driver(&ath5k_pci_drv_id);
> +       ret = pci_register_driver(&ath5k_pci_driver);
>         if (ret) {
>                 printk(KERN_ERR "ath5k_pci: can't register pci driver\n");
>                 return ret;
> @@ -341,7 +341,7 @@ init_ath5k_pci(void)
>  static void __exit
>  exit_ath5k_pci(void)
>  {
> -       pci_unregister_driver(&ath5k_pci_drv_id);
> +       pci_unregister_driver(&ath5k_pci_driver);
>
>         ath5k_debug_finish();
>  }
> --
> 1.5.3.8
>
>
Thanx ;-)
Acked-by: Nick Kossifidis <mickflemm@gmail.com>
-- 
GPG ID: 0xD21DB2DB
As you read this post global entropy rises. Have Fun ;-)
Nick