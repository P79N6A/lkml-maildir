Date: Mon, 3 Mar 2003 18:23:16 +0200
From: "P. Christeas" <>
Subject: Re: [ACPI] Re: S4bios support for 2.5.63
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/3/156

> > [ pruned mr Grover from the CC list ]
> >
> > On Mon, Mar 03, 2003 at 01:23:25PM +0100, Pavel Machek wrote:
> > > Well, it does not happen on my machines, but I've already seen it
> > > happen on computer with two harddrives.
> >
> > This is a laptop with only one. Anything I can do to help, let me know.
> > Alan has suggested that an IDE transaction was still in progress, perhaps
> > a small wait could prove/disprove this assumption?
>
> Start adding printks to see whats going on. Try going ext2. Try
> killing sys_sync() from kernel/suspend.c.
>
> 									Pavel
This looks like the problem I've been reporting since 2.5.5x . On my machine 
(HP XE3GC) I get a rare chance that this happens. 
One raw hack I have been using to get around that, is my 'sleep' script (for 
S1):
/etc/init.d/ypbind stop 	#i.e. prepare the system
sleep 9		#allow me to lock the screen etc.
sync			#This is where I reduce the chance I have dirty buffers
sleep 1		# calm down
echo 1 >/proc/acpi/sleep	#sleep now
That won't fix the bug, of course, but shows what may go wrong..
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/