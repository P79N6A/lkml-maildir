Date: Sat, 30 Sep 2006 10:05:04 +0200
From: Willy Tarreau <>
Subject: Re: [PATCH] add XARGS to toplevel Makefile
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/30/27

Hi Olaf,
On Sat, Sep 30, 2006 at 09:54:27AM +0200, Olaf Hering wrote:
> 
> run xargs with --no-run-if-empty to avoid random failures:
> 
>   MAKE   tags
> ctags: No files specified. Try "ctags --help".
> make: *** [tags] Error 123
> +# assume xargs comes from GNU findutils or GNU coreutils
> +XARGS		= $(shell if [ "$$(uname -s)" = "Linux" ]; then echo "xargs --no-run-if-empty" ; else echo "xargs" ; fi )
I'd rather test xargs' support for the option than check the OS with uname.
Something like the following might a little bit be more appropriate :
XARGS		= $(shell if xargs --no-run-if-empty true </dev/null 2>/dev/null; then echo "xargs --no-run-if-empty" ; else echo "xargs" ; fi )
Best regards,
Willy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/