Date: Fri, 9 Nov 2001 23:23:43 +0100
From:  andersg@0x63 ...
Subject: Re: Modutils can't handle long kernel names
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/9/160

On Fri, Nov 09, 2001 at 04:34:00PM +1100, Keith Owens wrote:
> It is not a modutils problem, it is a fixed restriction on the size of
> the uname() fields, modutils just uses what uname -r gives it.
this patch would catch it at compiletime, wouldn't it?
-- 
//anders/g
--- Makefile.orig	Fri Nov  9 23:17:36 2001
+++ Makefile	Fri Nov  9 23:18:25 2001
@@ -338,7 +338,7 @@
 	@mv -f .ver $@
 
 init/version.o: init/version.c include/linux/compile.h include/config/MARKER
-	$(CC) $(CFLAGS) $(CFLAGS_KERNEL) -DUTS_MACHINE='"$(ARCH)"' -c -o init/version.o init/version.c
+	$(CC) $(CFLAGS) -Werror $(CFLAGS_KERNEL) -DUTS_MACHINE='"$(ARCH)"' -c -o init/version.o init/version.c
 
 init/main.o: init/main.c include/config/MARKER
 	$(CC) $(CFLAGS) $(CFLAGS_KERNEL) $(PROFILING) -c -o $*.o $<
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/