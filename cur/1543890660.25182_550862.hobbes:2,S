Date: Wed, 30 May 2007 12:53:51 +0200
From: Cornelia Huck <>
Subject: Re: [PATCHSET 2.6.22-rc2-mm1 REVIEW] sysfs: make directory dentries/inodes reclaimable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/30/116

On Tue, 29 May 2007 01:36:26 +0900,
Tejun Heo <htejun@gmail.com> wrote:
> Please review, test, scream... :-)
Kernel seems a bit unhappy:
BUG: sleeping function called from invalid context at
include/asm/uaccess.h:234 in_atomic():1, irqs_disabled():0
00000000018b8d80 0000000000000002 0000000000000000 00000000030c3d68 
       00000000030c3ce0 00000000003aa006 00000000003aa006 0000000000015528
       0000000000000000 000003ffffb15750 00000000018b8d80 0000000000000000
       000000000046de20 0000000000000000 00000000030c3d30 ffffffff0000000e
       0000000000333fb0 0000000000015572 00000000030c3cc8 00000000030c3d10
Call Trace:
([<00000000000154bc>] show_trace+0xbc/0xd0)
 [<0000000000031a6e>] __might_sleep+0xfe/0x158
 [<00000000000b6836>] filldir+0xf6/0x198
 [<0000000000103a82>] sysfs_readdir+0x10a/0x228
 [<00000000000b6220>] vfs_readdir+0xb8/0xd8
 [<00000000000b63e8>] sys_getdents+0x60/0xdc
 [<00000000000222c0>] sysc_noemu+0x10/0x16
 [<00000200000de78e>] 0x200000de78e
But at least it comes up :)
(Will take a look at the patches now)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/