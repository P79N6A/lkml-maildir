Date: Tue, 10 Jan 2006 13:41:38 -0500
From: Brice Goglin <>
Subject: [PATCH] add DRM support for Radeon X600
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/10/242

Hi Andrew,
Now that Xorg 6.9/7.0 has been released, DRI is supported on more Radeon
cards without ATI proprietary drivers. I got my X300 to work  without
problem. But, another Radeon X600 required to add its PCI ids to the
Radeon driver. Patch is attached.
I can't be sure about the "CHIP_RV350", I copied it from the X300 entry
(from 
http://dri.freedesktop.org/wiki/ATIRadeon,
 X600 is a rv380 chip
while X300 is a rv370). But, at least it works now.
Signed-off-by: Brice Goglin <Brice.Goglin@ens-lyon.org>
Thanks,
Brice
--- linux-2.6.15/drivers/char/drm/drm_pciids.h.old	2006-01-10 13:23:34.000000000 -0500
+++ linux-2.6.15/drivers/char/drm/drm_pciids.h	2006-01-10 13:24:35.000000000 -0500
@@ -3,6 +3,7 @@
    Please contact dri-devel@lists.sf.net to add new cards to this list
 */
 #define radeon_PCI_IDS \
+	{0x1002, 0x3150, PCI_ANY_ID, PCI_ANY_ID, 0, 0, CHIP_RV350}, \
 	{0x1002, 0x4136, PCI_ANY_ID, PCI_ANY_ID, 0, 0, CHIP_RS100|CHIP_IS_IGP}, \
 	{0x1002, 0x4137, PCI_ANY_ID, PCI_ANY_ID, 0, 0, CHIP_RS200|CHIP_IS_IGP}, \
 	{0x1002, 0x4144, PCI_ANY_ID, PCI_ANY_ID, 0, 0, CHIP_R300}, \