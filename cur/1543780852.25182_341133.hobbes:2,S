Date: Thu, 11 Aug 2005 16:58:54 +0300
From: Pekka Enberg <>
Subject: Re: [patch 6/7] mm: lockless pagecache
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/11/123

Hi Nick,
On 8/11/05, Nick Piggin <nickpiggin@yahoo.com.au> wrote:
> +unsigned find_get_pages_nonatomic(struct address_space *mapping, pgoff_t start,
> +                           unsigned int nr_pages, struct page **pages)
> +{
> +       unsigned int i;
> +       unsigned int ret;
Rename to nr_pages?
> +       unsigned int ret2;
Rename to ret?
> +
> +       /*
> +        * We do some unsightly casting to use the array first for storing
> +        * pointers to the page pointers, and then for the pointers to
> +        * the pages themselves that the caller wants.
> +        */
> +       rcu_read_lock();
> +       ret = radix_tree_gang_lookup_slot(&mapping->page_tree,
> +                               (void ***)pages, start, nr_pages);
> +       ret2 = 0;
> +       for (i = 0; i < ret; i++) {
Pretty please? :-)
                                  Pekka
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/