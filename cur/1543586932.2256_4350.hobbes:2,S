Date: Sat, 07 Apr 2001 14:53:23 -0400
From: Jeff Garzik <>
Subject: Re: PATCH for Broken PCI Multi-IO in 2.4.3 (serial+parport)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/4/7/43

Gunther Mayer wrote:
> Hardware has always needed quirks (linux-2.4.3 has about 60 occurences
> of the word "quirks", not to mention workaround, blacklist and other synonyms)!
> 
> Please apply this little patch instead of wasting time by finger-pointing
> and arguing.
> 
> Martin, comments?
Is Martin still alive?  He hasn't been active in PCI development well
over six months, maybe a year now.  Ivan (alpha hacker) appeared on the
scene to fix serious PCI bridge bugs, DaveM has added some PCI DMA
stuff, and I've added a couple driver-related things.  I haven't seen
code from Martin in a long long time, and only a comment or two in
recent memory.
> --- linux-2.4.3-orig/include/linux/pci.h        Wed Apr  4 19:46:49 2001
> +++ linux/include/linux/pci.h   Sat Apr  7 20:01:51 2001
> @@ -454,6 +454,9 @@
>         void (*remove)(struct pci_dev *dev);    /* Device removed (NULL if not a hot-plug capable driver) */
>         void (*suspend)(struct pci_dev *dev);   /* Device suspended */
>         void (*resume)(struct pci_dev *dev);    /* Device woken up */
> +       int multifunction_quirks;               /* Quirks for PCI serial+parport cards,
> +                                                   here multiple drivers are allowed to register
> +                                                   for the same pci id match */
>  };
As has been explained, the current API supports this just fine without
modification.
Also, changing the API in the stable series should be frowned upon,
-especially- something domain specific like this.
	Jeff
-- 
Jeff Garzik       | Sam: "Mind if I drive?"
Building 1024     | Max: "Not if you don't mind me clawing at the dash
MandrakeSoft      |       and shrieking like a cheerleader."
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/