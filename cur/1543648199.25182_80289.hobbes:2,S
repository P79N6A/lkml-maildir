Date: Tue, 15 Oct 2002 18:41:23 -0400
From: Benjamin LaHaise <>
Subject: Re: [PATCH] async poll for 2.5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/15/358

On Tue, Oct 15, 2002 at 03:36:09PM -0700, John Gardiner Myers wrote:
> Nonetheless, the requirement for user space to test the condition after 
> the registration, not before, is subtle.  A program which does these in 
> the wrong order is still likely to pass QA and will fail in production 
> in a way that will be difficult to diagnose.  There is no rational 
> reason for the kernel to not test the condition upon registration.
I suppose one way of getting the async poll code up to snuff would be to 
cache the poll registration in the file descriptor.  Alternatively, the 
iocb could simply persist until it is cancelled or a refire is permitted 
(so that the event queue does not get overrun).  Would you care to try 
crunching the numbers with polltest on 2.5?
		-ben
-- 
"Do you seek knowledge in time travel?"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/