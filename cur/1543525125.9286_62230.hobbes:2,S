Date: Wed, 09 Feb 2000 20:41:08 CST
From: "Samuel M Umbach" <>
Subject: Re: DVD-ROM problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/9/189

Below are the lines from dmesg as I follow these steps:
1) Insert CD-ROM (Windows 98 OEM CD)
2) mount /cd
    ISO 9660 Extensions: Microsoft Joliet Level 3
    ISOFS: changing to secondary root
3) umount /cd
4) insmod udf
    udf: registering filesystem
5) Remove CD, insert DVD (Tomorrow Never Dies)
6) tstdvd /dev/cdrom
7) mount /dvd
    UDF-fs DEBUG (lowlevel.c, 71): udf_get_last_session: XA disk: no, 
vol_desc_start=0
    UDF-fs DEBUG (super.c, 1334): udf_read_super: Multi-session=0
    UDF-fs DEBUG (lowlevel.c, 366): udf_get_last_block: BLKGETSIZE 
lblock=1278372
    UDF-fs DEBUG (super.c, 1343): udf_read_super: Lastblock=0
    UDF-fs DEBUG (super.c, 434): udf_vrs: Starting at sector 16 (2048 Byte 
Sectors)
    UDF-fs DEBUG (super.c, 461): udf_vrs: ISO9660 Primary Volume Descriptor 
found
    UDF-fs DEBUG (super.c, 470): udf_vrs: ISO9660 Volume Descriptor Set 
Terminator found
    UDF-fs DEBUG (super.c, 782): udf_vol_pvoldesc: recording time 891862088, 
1998/4/6 7:28 (1e20)
    UDF-fs DEBUG (super.c, 889): udf_load_logicalvol: Partition (0) type 1
    UDF-fs DEBUG (super.c, 931): udf_load_logicalvol: FileSet found in 
LogicalVolDesc at block=0, partition=0
    UDF-fs DEBUG (super.c, 828): udf_load_partdesc: Searching map: (0 == 0)
    UDF-fs DEBUG (super.c, 868): udf_load_partdesc: Partition (0:0 type 
1511) starts at physical 261, block length 4122530
    UDF-fs DEBUG (super.c, 1155): udf_load_partition: Using anchor in block 
256
    UDF-fs DEBUG (super.c, 756): udf_find_fileset: Fileset at block=0, 
partition=0
    UDF-fs DEBUG (super.c, 814): udf_find_fileset: Rootdir at block=2, 
partition=0
    UDF-fs INFO Mounting volume '', timestamp 1998/04/6 06:28
8) cat /dvd/VIDEO_TS/VTS_01_0.VOB > /dev/null (can read entire file)
9) cat /dvd/VIDEO_TS/VTS_01_1.VOB > /dev/null (can read part of file)
    (NOTE: this message is repeated many times, and fills dmesg's buffer)
     16:00: rw=0, want=639210, limit=639186
     dev 16:00 blksize=2048 blocknr=319604 sector=1278416 size=2048 count=1
     attempt to access beyond end of device
     (this message is repeated from want=639210 through want=639188 in 
increments of 2, although there may be previous lines that were pushed out 
of the buffer)
10) cat /dvd/VIDEO_TS/VTS_02_1.VOB > /dev/null (can't read file)
     attempt to access beyond end of device
     16:00: rw=0, want=4019352, limit=639186
     dev 16:00 blksize=2048 blocknr=2009675 sector=8038700 size=2048 count=1
     attempt to access beyond end of device
     16:00: rw=0, want=4019354, limit=639186
     dev 16:00 blksize=2048 blocknr=2009676 sector=8038700 size=2048 count=1
     attempt to access beyond end of device
     16:00: rw=0, want=4019352, limit=639186
     dev 16:00 blksize=2048 blocknr=2009675 sector=8038700 size=2048 count=1
     attempt to access beyond end of device
     16:00: rw=0, want=4019354, limit=639186
     dev 16:00 blksize=2048 blocknr=2009676 sector=8038700 size=2048 count=1
12) umount /dvd
Sorry for the verbosity of this message, I just want to make sure you have 
all that you need.  Also, that "limit=639186" is not dependant on which DVD 
I'm trying to read, but does change depending on the last CD I had mounted.  
That may be the root of my problem.
In my original message I mentioned a program I wrote to count characters in 
a file.  What I found was that if I mounted a CD-ROM, and it was 450 MB, 
then unmounted the CD and mounted and authenticated a DVD I could read 450MB 
from /dev/cdrom and then I received an EOF.  This doesn't happen with the 
Toshiba drive so that's why I figured it must be in the hardware and was 
hoping a work around could be found.
-Sam Umbach
>
>On Wed, Feb 09 2000, Samuel M Umbach wrote:
> > This is what I do at the root prompt (w/ the Pioneer drive)
> >
> > #mount /dvd
> > #tstdvd /dev/cdrom
>
>(usually you tstdvd prior to mounting, but it's usually not a problem).
>
> > not Authenticated
> > Request AGID [1]...    AGID 0
> > Host Sending Challenge: 09 08 07 06 05 04 03 02 01 00
> > LU sent key1: FD 14 D4 74 2A
> > Drive Authentic - using varient 0
> > LU sent challenge: 23 22 8E F5 86 EE BB 8B CB 3F
> > Host sending key 2: 8D 8D 6B C7 9B
> > DVD is authenticated
> > Received Session Key:   B6 3D 2A 82 94
> > not Authenticated
> > Received Disc Key:      7A 7D 51 2E ED 2F 06 89 A6 6C
> > Authenticated
> >
> > #cat /dvd/VIDEO_TS/VTS_02_1.VOB
> > cat: /dvd/VIDEO_TS/VTS_02_1.VOB: Input/output error
>
>Ok, so it authenticates fine at least. I'd like to see the errors that
>get dumped to the logs at this point (dmesg), this might not be a
>plain I/O error.
>
>--
>*  Jens Axboe <axboe@suse.de>
>*  Linux CD-ROM Maintainer
>*  
http://www.kernel.dk
______________________________________________________
Get Your Private, Free Email at 
http://www.hotmail.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/