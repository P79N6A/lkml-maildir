Date: Sat, 5 Oct 2002 12:36:45 +0400 (MSD)
From: "Andrey Panin" <>
Subject: [IDE] sleeping function called from illegal context at slab.c:1347
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/5/22

Hello all,
looks like i tracked down yet another instance of this already famous 
message, :)
but i don't know how to fix it.
This message produced by IDE driver is IMHO 
caused by ide_init_queue() function called while holding
ide_lock spinlock in the 
init_irq() function (ide-probe.c).
Then ide_init_queue() calls blk_init_queue() 
and we have a this call chain:
    ide_init_queue() -> blk_init_queue() -> 
blk_init_free_list() -> kmem_cache_alloc()
What can we do to fix this ?
Best 
regards,
        Andrey
[unhandled content-type:application/octet-stream]