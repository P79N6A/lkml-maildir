Date: Sun, 15 Jan 2006 21:26:37 +0100
From: Jean Delvare <>
Subject: [PATCH] Fix warning in dvb-btxx driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/15/121

Hi Mauro, all,
Fix the following warning I am seeing in 2.6.15-git11, which seems
to have been introduced by commit 348290a4ae143a692124330942b464ccdb0d0365:
  CC [M]  drivers/media/dvb/bt8xx/dvb-bt8xx.o
drivers/media/dvb/bt8xx/dvb-bt8xx.c:923: warning: initialization from incompatible pointer type
It would have also been possible to keep "void" as the return type and
change the function itself instead, but given that the driver core's
.remove method returns an int, my guess is that we want the same here.
Signed-off-by: Jean Delvare <khali@linux-fr.org>
---
 drivers/media/video/bttv.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
--- linux-2.6.15-git.orig/drivers/media/video/bttv.h	2006-01-15 10:49:37.000000000 +0100
+++ linux-2.6.15-git/drivers/media/video/bttv.h	2006-01-15 20:47:24.000000000 +0100
@@ -366,7 +366,7 @@
 	struct device_driver   drv;
 	char                   wanted[BUS_ID_SIZE];
 	int                    (*probe)(struct bttv_sub_device *sub);
-	void                   (*remove)(struct bttv_sub_device *sub);
+	int                    (*remove)(struct bttv_sub_device *sub);
 	void                   (*gpio_irq)(struct bttv_sub_device *sub);
 };
 #define to_bttv_sub_drv(x) container_of((x), struct bttv_sub_driver, drv)
-- 
Jean Delvare
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/