Date: Wed, 6 Oct 1999 13:02:00 -0400 (EDT)
From: "Richard B. Johnson" <>
Subject: Re: Network iface is down but pingable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/6/114

On Wed, 6 Oct 1999, Jochen Topf wrote:
> With Linux 2.2.12 and "ip utility, iproute2-ss990630" I see the following
> buggy(?) behaviour:
> 
> After I "ifconfig down" or "ip link set iface down" a network interface, the
> ip number of that interface is still pingable. If first encountered this with
> an ethernet interface but can reproduce it now only with a ISDN PPP interface.
> 
> After "ifconfig <iface> down" or "ip link set <iface> down" an "ifconfig"
> doesn't see the interface any more and "ip link show" correctly doesn't give
> the "UP" flag. But with "ip route list table local" I can still see the route
> for the IP number of the downed interface going to said interface. And ping
> or other network access works.
> 
> I think this is a bug, if the interface is gone, the route should go too. If
> this is not a bug maybe somebody can enlighten me on the proper procedure
> for taking an interface down.
> 
Others have thought that this is a bug also. However, it was decided that
it is not a bug although the logic escapes me. A work-around is to
reset the interface address, i.e.,
  ifconfig eth0 down
  ifconfig eth0 127.0.0.2 netmask 255.0.0.0 broadcast 127.255.255.255
  ifconfig eth0 down
That will keep it quiet until somebody fixes the non-bug.
Cheers,
Dick Johnson
                   **** FILE SYSTEM WAS MODIFIED ****
Penguin : Linux version 2.3.13 on an i686 machine (400.59 BogoMips).
Warning : It's hard to remain at the trailing edge of technology.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/