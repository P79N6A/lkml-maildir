Date: Thu, 15 Nov 2001 09:25:39 +1100
From: Keith Owens <>
Subject: Re: Modutils can't handle long kernel names
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/14/173

On Wed, 14 Nov 2001 16:04:38 -0600, 
Thomas Dodd <ted@cypress.com> wrote:
>Keith Owens wrote:
>> +uts_len		:= 64
>> +uts_truncate	:= sed -e 's/\(.\{1,$(uts_len)\}\).*/\1/'
>
>Should this be a fixed length of 64?
>Or should it be grabbed form a header somewhere?
>So when/if SYS_NMLN/_UTSNAME_LENGTH is changed
>longer strings can be used? I check and Solaris 8
>defines SYS_NMLN as 257.
>
>Would this break cross-comiling badly?
>Are other libc headers needed in the build?
This is the kernel's idea of uts length, not glibc, it is independent
of where you are compiling.  It could be extracted from the kernel
header,
  uts_len := $(shell sed -ne 's/#define __NEW_UTS_LEN //p' include/linux/utsname.h)
but why bother?  The value has been fixed at 64 since at least 2.0 and
is embedded in glibc so it is unlikely to change.  Even if it does
change, it must be upwards so the worst case is fail safe.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/