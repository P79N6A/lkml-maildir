Date: Mon, 21 May 2007 23:05:05 -0700
From: Jeff Wiegley <>
Subject: 8250_pnp is confused... (udev?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/22/23

I've used serial ports a lot in the past but not for the
past year so. Did something fundamental change?
I have serial_core, 8250 and 8250_pnp modules installed
and things are quite weird... I get all of the /dev/ttyS's
that I DON'T have and none of the ones that I do!
$modprobe -a 8250_pnp
$tail /var/log/message
May 21 22:59:35 home Serial: 8250/16550 driver $Revision: 1.90 $ 4
ports, IRQ sharing disabled
May 21 22:59:35 home pnp: Device 00:07 activated.
May 21 22:59:35 home 00:07: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
So, yes it looks like it sees the one serial port that I also
think I have. but...
$ls -al /dev/ttyS*
crw-rw---- 1 root uucp 4, 65 May 21 22:59 /dev/ttyS1
crw-rw---- 1 root uucp 4, 66 May 21 22:59 /dev/ttyS2
crw-rw---- 1 root uucp 4, 67 May 21 22:59 /dev/ttyS3
It seems that somehow either 8250_pnp (or maybe udev) gets the
logic inverted. It doesn't create a device for the one device
that 8250_pnp found and yet it does create devices for everything
NOT found??
If I rmmod 8250_pnp 8250 serial_core then all the serial devices
go away. So it's 8250/udev creating these oddities and not me.
I am using gentoo with kernel v2.6.21.1 on an intel 64 bit dual-core
with Nvidia 580i chipset. I haven't tweaked any udev rules. udev is
version 104-r12.
Any help is appreciated. Thanks!
- Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/