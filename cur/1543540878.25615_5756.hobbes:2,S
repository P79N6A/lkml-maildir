Date: Sat, 5 Aug 2000 23:53:13 +0200
From: Pavel Machek <>
Subject: Re: can't mlockall() more than 128MB, is this a kernel limitiation ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/6/10

Hi!
> -----
>         /* we may lock at most half of physical memory... */
>         /* (this check is pretty bogus, but doesn't hurt) */
>         if (locked > num_physpages/2)
>                 goto out;
> -----
> 
> Argh ! this is bogus ! , on my 250MB RAM BOX , I want to be able to mlock at
> least something like 200-220MB ,
> 
> What is the purpose of this artificial limitation ?
> I agree that running out of phys pages is bad, but with those big mem sizes like
> 256-512MB, a margin of 30-50MB (configurable) should be enough.
> Can we make this configurable via sysctl in 2.4 ?
> (without this realtime multimedia apps will be unable to take advantage of the
> full amount of RAM, because swappable mem is useless in certain
> cases)
No! No sysctl, thank you. Comment clearly says it is bogus, and now it
even hurts. Just delete the check.
								Pavel
-- 
I'm pavel@ucw.cz. "In my country we have almost anarchy and I don't care."
Panos Katsaloulis describing me w.r.t. patents at discuss@linmodems.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/