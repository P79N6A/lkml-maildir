Date: Mon, 13 Mar 2000 11:15:55 -0800
From: David Hinds <>
Subject: Re: Linux-2.3.51, and the pre-2.4 series...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/13/218

> No. The controller has over-voltage protection, so it just means that it
> won't work.
In most cases, this is true.  Some controllers don't implement
over-voltage protection correctly.  I did have a similar problem, with
a Toshiba bridge, where someone reported that the bridge would indeed
drive a 3V card at 5V if told to do so.
> I've seen this with the TI1225, and it does not happen with my Ricoh
> controller in my Sony VAIO that I did most of the development on. So I
> think it's actually a buglet in the TI core.
Not exactly a bug.  It is a timing issue; if you wait long enough, the
TI chips will report the right voltage.  The origin of the problem is
that the interrupt probe, by using the "socket event force" register,
blows away the bridge's notion of what the currently inserted card is.
Some bridges re-sense automatically, fast enough that the driver
doesn't notice; others are slower.  I don't think there is any spec
for how long the re-sense can take.  The yenta spec says that you must
do a voltage re-sense after using the event force register.
-- Dave
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/