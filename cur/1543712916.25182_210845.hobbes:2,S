Date: Wed, 31 Mar 2004 12:15:01 -0800 (PST)
From:  bero@arklinux ...
Subject: [PATCH] Aureal Vortex sound drivers broken in 2.6.5-rc3-mm3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/31/128

SSIA - fix attached.
LLaP
bero
-- 
Ark Linux - Linux for the masses
http://www.arklinux.org/
Redistribution and processing of this message is subject to
http://www.arklinux.org/terms.php
--- linux-2.6.4/include/linux/pci_ids.h.ark	2004-04-01 04:55:57.000000000 +0200
+++ linux-2.6.4/include/linux/pci_ids.h	2004-04-01 04:58:18.440024928 +0200
@@ -1638,6 +1638,7 @@
 #define PCI_VENDOR_ID_AUREAL		0x12eb
 #define PCI_DEVICE_ID_AUREAL_VORTEX_1	0x0001
 #define PCI_DEVICE_ID_AUREAL_VORTEX_2	0x0002
+#define PCI_DEVICE_ID_AUREAL_ADVANTAGE	0x0003
 
 #define PCI_VENDOR_ID_ELECTRONICDESIGNGMBH 0x12f8
 #define PCI_DEVICE_ID_LML_33R10		0x8a02
--- linux-2.6.4/sound/pci/au88x0/au8830.c.ark	2004-04-01 05:05:00.990827904 +0200
+++ linux-2.6.4/sound/pci/au88x0/au8830.c	2004-04-01 05:05:07.052906328 +0200
@@ -1,7 +1,7 @@
 #include "au8830.h"
 #include "au88x0.h"
 static struct pci_device_id snd_vortex_ids[] = {
-	{PCI_VENDOR_ID_AUREAL, PCI_DEVICE_ID_AUREAL_VORTEX2,
+	{PCI_VENDOR_ID_AUREAL, PCI_DEVICE_ID_AUREAL_VORTEX_2,
 	 PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0,},
 	{0,}
 };
--- linux-2.6.4/sound/pci/au88x0/au88x0.h.ark	2004-04-01 05:05:13.638905104 +0200
+++ linux-2.6.4/sound/pci/au88x0/au88x0.h	2004-04-01 05:05:21.578698072 +0200
@@ -80,8 +80,8 @@
 #define VORTEX_IS_QUAD(x) ((x->codec == NULL) ?  0 : (x->codec->ext_id|0x80))
 /* Check if chip has bug. */
 #define IS_BAD_CHIP(x) (\
-	(x->rev < 3 && x->device == PCI_DEVICE_ID_AUREAL_VORTEX) || \
-	(x->rev < 0xfe && x->device == PCI_DEVICE_ID_AUREAL_VORTEX2) || \
+	(x->rev < 3 && x->device == PCI_DEVICE_ID_AUREAL_VORTEX_1) || \
+	(x->rev < 0xfe && x->device == PCI_DEVICE_ID_AUREAL_VORTEX_2) || \
 	(x->rev < 0xfe && x->device == PCI_DEVICE_ID_AUREAL_ADVANTAGE))
 
 