Date: Tue, 17 Feb 2004 17:01:54 -0500
From: Martin Hicks <>
Subject: Re: [PATCH] Reduce TLB flushing during process migration
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/17/231

On Tue, Feb 17, 2004 at 12:50:38PM -0800, Andrew Morton wrote:
> Martin Hicks <mort@wildopensource.com> wrote:
> >
> > Another optimization patch from Jack Steiner, intended to reduce TLB
> > flushes during process migration.
> 
> This patch is only applicable to CONFIG_NUMA.  Wouldn't SMP systems benefit
> from the same treatment?
> 
> And does this optimisation come with any benchmark results?
Here's some figures from Jack:
---
I dont have a benchmark for JUST the scheduler change, but the entire
node history + sched change is:
        nwchem on a 128p showed:
          Before:
            siosi7.sale.56-shm1cs: Time after atomic energies summed:   140.2
            siosi7.sale.120-shm1cs: Time after atomic energies summed:   306.9
          After:
            56p  = Time after atomic energies summed:    99.3
            120p = Time after atomic energies summed:   110.4
          Almost 3X improvement on 120p.
I dont recall how much was due to the sched fix, but I remember that it was
significant.
Note that the amount of improvement is highly platform specific.
---
mh
-- 
Martin Hicks                Wild Open Source Inc.
mort@wildopensource.com     613-266-2296
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/