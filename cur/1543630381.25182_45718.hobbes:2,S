Date: Mon, 13 May 2002 18:45:06 -0400
From:  rwhron@earthlin ...
Subject: Re: [PATCHSET] Linux 2.4.19-pre8-jam2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/13/151

> > > - Re-introduction of wake_up_sync to make pipes run fast again. No idea
> > >  about this is useful or not, that is the point, to test it (Randy ?)
> > 2.5 kernels <= 2.5.15 aren't completing umount on the 4 way Xeon.
> Is umount not completing somehow due to the lack of wake_up_sync ???
The umount issue is unrelated to wake_up_sync.  Could be a scsi driver 
issue, as 2.5.x has been fine on my IDE system.  Before the benchmarks,
I mkfs some filesystems and mount and umount them.  Haven't
been able to get past that point with 2.5.x yet.
> Fwiw, I am not sold that reintroducing wake_up_sync is worth it.  The
> benchmark is synthetic and could very well not represent the general
> case in which the load balancer is capable of handling the scenario
> without the hackery of an explicit sync option.
That could well be.  The kernel build test which applies patches
and compiles with -pipe is as close as I have to a general pipe 
test.  The kernel build test has a low variability (~2%) between 
any of the kernels tested on the 4 way box.
It's worth testing wake_up_sync though.  Occasionally there's 
a surprise.
-- 
Randy Hron
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/