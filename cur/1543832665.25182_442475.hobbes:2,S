Date: Mon, 10 Jul 2006 12:51:26 +0200
From: Mike Galbraith <>
Subject: Re: 2.6.18-rc1: slab BUG_ON(!PageSlab(page)) upon umount after failed suspend
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/10/98

On Mon, 2006-07-10 at 13:33 +0300, Pekka Enberg wrote:
> On 7/10/06, Mike Galbraith <efault@gmx.de> wrote:
> > Hm.  I've never _noticed_ gcc putting anything out there before.  This
> > is gcc version 4.1.2 20060531 (prerelease) (SUSE Linux).
> 
> [snip]
> 
> Curious... GCC cuts line and file information after ud2a. Looking at
> your stack trace, I am wondering who calls free_block() as we don't
> see cache_flusharray() in the trace. Do you have CONFIG_NUMA enabled?
(gdb) list *__cache_free+0x86
0xb1068e39 is in __cache_free (slab.c:3152).
3147                            shared_array->avail += batchcount;
3148                            goto free_done;
3149                    }
3150            }
3151
3152            free_block(cachep, ac->entry, batchcount, node);
3153    free_done:
3154    #if STATS
3155            {
3156                    int i = 0;
(gdb)
It got inlined.
	-Mike
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/