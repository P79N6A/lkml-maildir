Date: Sun, 19 Oct 2003 15:17:02 +0200
From: Jan Niehusmann <>
Subject: Re: Promise IDE patches
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/19/38

Hi Bartolomeij, hi Marcelo!
Two months ago, I had problems with a >137GB drive on a promise
controller. These where fixed by a few patches, and the computer runs
fine since then with a patched 2.4.22 kernel.
Unfortunately, as far as I can see, none of the patches got applied to
2.4.23-pre7. I know that Alan had a few objections against the patches,
and they should be addressed, but as things are now, plain 2.4.23-pre7
would lead to severe data corruption if I used it on my computer.
For reference, here is the complete mail where Bartolomeij asked Marcelo
to apply the patches:
On Wed, Aug 27, 2003 at 12:54:27AM +0200, Bartlomiej Zolnierkiewicz wrote:
> Marcelo can you apply these patches?
> 
> On Wednesday 27 of August 2003 00:31, Jan Niehusmann wrote:
> > Hi!
> >
> > Two weeks ago, I tried two patches against 2.4.21 regarding LBA48
> > support. One limits the size of a drive to 137GB if LBA48 is not
> > available. Without this patch, severe data corruption is possible.
> >
> > 
http://gondor.com/linux/patch-limit48-2.4.21
> >
> > The other one is making LBA48 support work with pdc 20265 controllers.
> >
> > 
http://gondor.com/linux/patch-pdc-lba48-2.4.22
> >
> > I think they should be candidates for inclusion in 2.4.23, as well as
> > a fix for hdparm -I (and other commands going directly to the drive) on
> > (some?) promise controllers:
> >
> > http://marc.theaimsgroup.com/?l=linux-kernel&m=104250818527780&w=2
> >
> > Jan
Alan mentioned problems with patches 1 and 3, but AFAIK nobody had
problems with patch 2. Consult the archives for details, it's all been
on linux-kernel.
Even though I could easily fix 2.4.23 for myself, I'd really like to
have the official kernel work without local patches. And I guess an
increasing number of people is using drives >137GB, so it can easily hit
other people as well.
Jan
[unhandled content-type:application/pgp-signature]