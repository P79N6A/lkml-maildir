Date: Mon, 5 Jul 2004 15:10:16 +0200 (CEST)
From: Steffen Winterfeldt <>
Subject: Re: Restoring HDIO_GETGEO semantics for 2.6 (was: Re: [RFC] Restoring HDIO_GETGEO semantics)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/5/60

On Mon, 5 Jul 2004, Szakacsits Szabolcs wrote:
> On Sat, 3 Jul 2004, Andries Brouwer wrote:
> > 
> > But it is true, returning 0 in all other fields would have made
> > it more clear that there is no attempt to return the BIOS geometry.
> > It might be a good idea to do that.
> 
> I fail to see how that would solve _now_ the _current_ serious problem
> with HDIO_GETGEO.
It wouldn't, the damage has been done. I just wish HDIO_GETGEO had been
removed rather than changed.
>  1) 2.6 kernels made very visible that the widely used Parted, libparted,
>     etc are severely broken. They should be FIXED. Off-topic on linux-kernel.
It's not *severly* broken. All partitioning tools use some kind of
heuristics and it's just a minor variation compared to, say, fdisk that
makes parted fail.
> Considering all the above points, it seems logical from practical point 
> of view, that the restoration of the old HDIO_GETGEO functionality (or
> something that's very close to its behaviour) _temporarily_ for 2.6
> kernels makes sense.
It's too late. Rather than updating the kernel you could as well update your
favorite partitioning tool.
Changing the semantics of HDIO_GETGEO either way in the (supposedly) stable
2.6.x series it IMHO not a good idea.
Steffen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/