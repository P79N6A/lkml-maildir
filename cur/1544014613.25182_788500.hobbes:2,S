Date: Wed, 7 Jan 2009 23:17:27 +0100
From: Robert Richter <>
Subject: [PATCH 10/18] oprofile: simplify add_sample() in cpu_buffer.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/7/501

Signed-off-by: Robert Richter <robert.richter@amd.com>
---
 drivers/oprofile/cpu_buffer.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)
diff --git a/drivers/oprofile/cpu_buffer.c b/drivers/oprofile/cpu_buffer.c
index 435bd6e..d92f002 100644
--- a/drivers/oprofile/cpu_buffer.c
+++ b/drivers/oprofile/cpu_buffer.c
@@ -203,11 +203,7 @@ add_sample(struct oprofile_cpu_buffer *cpu_buf,
 	entry.sample->eip = pc;
 	entry.sample->event = event;
 
-	ret = op_cpu_buffer_write_commit(&entry);
-	if (ret)
-		return ret;
-
-	return 0;
+	return op_cpu_buffer_write_commit(&entry);
 }
 
 static inline int
-- 
1.6.0.1