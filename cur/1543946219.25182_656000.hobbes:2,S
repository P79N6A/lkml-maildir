Date: Tue, 19 Feb 2008 13:55:58 +0800
From: Shaohua Li <>
Subject: Re: PCIE ASPM support hangs my laptop pretty often
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/19/10

On Wed, 2008-02-06 at 01:40 +0800, Дамјан Георгиевски wrote:
> I've patched my kernel with the PCIe ASPM and after setting
> echo powersave > /sys/module/pcie_aspm/parameters/policy
> 
> I started to experience random hangs of my laptop.
> Hardware info:
> Thinkpad x60s 1704-5UG
> also tested on a firends X60s 1702-F6U
> 
> Kernel is 2.6.24 + these patches:
>  tuxonice 3.0-rc5
>  thinkpad_acpi v0.19-20080107
>  tp_smapi 0.36
Hi,
Sorry for the long delay, I'm just back from vocation. Some devices or
chipsets don't work well with ASPM. This is one of the reason why the
default policy of the patch is per BIOS setting. Ideally drivers should
disable ASPM for specific devices, the patch provides an API
(pci_disable_link_state) for this too. As Auke suggested, you can use
the per-device interface to control separate links to see which device
is broken. If you found one, please report to driver maintainer and me,
we can disable ASPM in the driver.
Thanks,
Shaohua
--
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/