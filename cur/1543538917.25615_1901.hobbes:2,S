Date: Fri, 14 Jul 2000 01:01:11 -0700
From: "Conrad Heiney" <>
Subject: no lp device in 2.4.0-test4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/14/33

Hello.
I am using Debian Woody (updated) on a P2 box with an EPP-set parallel port connected to an Epson Stylus Color 600 printer.
When I upgraded from 2.4.0-test2 to 2.4.0-test4, parallel printing stopped working. On boot, dmesg is as bleow. Note the lp "driver loaded but devices not found". More info available on request as anyone needs it.
Linux version 2.4.0-test4 (root@iggy) (gcc version 2.95.2 20000220 (Debian GNU/Linux)) #1 Fri Jul 14 00:36:10 PDT 2000
BIOS-provided physical RAM map:
 e820: 000000000009f800 @ 0000000000000000 (usable)
 e820: 0000000000000800 @ 000000000009f800 (reserved)
 e820: 0000000000020000 @ 00000000000e0000 (reserved)
 e820: 000000000ff00000 @ 0000000000100000 (usable)
 e820: 0000000000080000 @ 00000000fff80000 (reserved)
On node 0 totalpages: 65536
zone(0): 4096 pages.
zone(1): 61440 pages.
zone(2): 0 pages.
Kernel command line: BOOT_IMAGE=linux ro root=801 BOOT_FILE=/vmlinuz video=matrox:vesa:0x117,init,sgram
Initializing CPU#0
Detected 299947384 Hz processor.
Console: colour VGA+ 80x25
Calibrating delay loop... 598.02 BogoMIPS
Memory: 255472k/262144k available (1602k kernel code, 6284k reserved, 135k data, 212k init, 0k highmem)
Dentry-cache hash table entries: 32768 (order: 6, 262144 bytes)
Buffer-cache hash table entries: 16384 (order: 4, 65536 bytes)
Page-cache hash table entries: 65536 (order: 6, 262144 bytes)
Inode-cache hash table entries: 16384 (order: 5, 131072 bytes)
CPU: Intel Pentium II (Klamath) stepping 04
Checking 386/387 coupling... OK, FPU using exception 16 error reporting.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
mtrr: v1.36 (20000221) Richard Gooch (rgooch@atnf.csiro.au)
PCI: PCI BIOS revision 2.10 entry at 0xfd9cc, last bus=1
PCI: Using configuration type 1
PCI: Probing PCI hardware
Limiting direct PCI/PCI transfers.
isapnp: Scanning for Pnp cards...
isapnp: Calling quirk for 01:00
ISAPnP: SB audio device quirk - increasing port range
isapnp: Calling quirk for 01:02
isapnp: AWE32 quirk - adding two ports
isapnp: Card 'Creative SB AWE64 Gold'
isapnp: 1 Plug & Play card detected total
usb.c: registered new driver usbdevfs
usb.c: registered new driver hub
usb-uhci.c: $Revision: 1.232 $ time 00:42:36 Jul 14 2000
usb-uhci.c: High bandwidth mode enabled
usb-uhci.c: Intel USB controller: setting latency timer to 0
usb-uhci.c: USB UHCI at I/O 0xfce0, IRQ 11
usb-uhci.c: Detected 2 ports
usb.c: new USB bus registered, assigned bus number 1
usb.c: USB new device connect, assigned device number 1
usb.c: kmalloc IF c140b940, numif 1
usb.c: new device strings: Mfr=0, Product=2, SerialNumber=1
usb.c: USB device number 1 default language ID 0x0
Product: USB UHCI Root Hub
SerialNumber: fce0
hub.c: USB hub found
hub.c: 2 ports detected
hub.c: ganged power switching
hub.c: standalone hub
hub.c: global over-current protection
hub.c: power on to power good time: 2ms
hub.c: hub controller current requirement: 0mA
hub.c: port 1 is removable
hub.c: port 2 is removable
hub.c: local power source is good
hub.c: no over-current condition exists
hub.c: enabling power on all ports
usb.c: hub driver claimed interface c140b940
Linux NET4.0 for Linux 2.3
Based upon Swansea University Computer Society NET3.039
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP
IP: routing cache hash table of 2048 buckets, 16Kbytes
TCP: Hash tables configured (established 16384 bind 16384)
IPv4 over IPv4 tunneling driver
early initialization of device tunl0 is deferred
GRE over IPv4 tunneling driver
early initialization of device gre0 is deferred
IPv6 v0.8 for NET4.0
IPv6 over IPv4 tunneling driver
early initialization of device sit0 is deferred
Initializing RT netlink socket
P6 Microcode Update Driver v1.05 registered
Starting kswapd v1.6
0x378: FIFO is 16 bytes
0x378: writeIntrThreshold is 8
0x378: readIntrThreshold is 8
0x378: PWord is 8 bits
0x378: Interrupts are ISA-Pulses
0x378: ECP port cfgA=0x14 cfgB=0x40
0x378: ECP settings irq=<none or set by other means> dma=<none or set by other means>
parport0: PC-style at 0x378 (0x778) [PCSPP,TRISTATE,COMPAT,EPP,ECP]
parport0: irq 7 detected
parport0: cpp_daisy: aa5500ff(98)
parport0: assign_addrs: aa5500ff(98)
parport0: Printer, EPSON Stylus COLOR 600
matroxfb: Matrox Millennium G200 (AGP) detected
matroxfb: MTRR's turned on
matroxfb: 1024x768x16bpp (virtual: 1024x4094)
matroxfb: framebuffer at 0xF6000000, mapped to 0xd0805000, size 8388608
Console: switching to colour frame buffer device 128x48
fb0: MATROX VGA frame buffer device
pty: 256 Unix98 ptys configured
lp: driver loaded but no devices found
Floppy drive(s): fd0 is 1.44M
FDC 0 is a National Semiconductor PC87306
scsi0 : AdvanSys SCSI 3.2M: PCI Ultra-Wide: BIOS C8000/7FFF, IO FC40/3F, IRQ 10
scsi : 1 host.
  Vendor: SEAGATE   Model: ST39173W          Rev: 6244
  Type:   Direct-Access                      ANSI SCSI revision: 02
Detected scsi disk sda at scsi0, channel 0, id 0, lun 0
  Vendor: PLEXTOR   Model: CD-ROM PX-40TS    Rev: 1.03
  Type:   CD-ROM                             ANSI SCSI revision: 02
Detected scsi CD-ROM sr0 at scsi0, channel 0, id 3, lun 0
  Vendor: PLEXTOR   Model: CD-R   PX-W8220T  Rev: 1.03
  Type:   CD-ROM                             ANSI SCSI revision: 02
Detected scsi CD-ROM sr1 at scsi0, channel 0, id 4, lun 0
scsi : detected 2 SCSI cdroms 1 SCSI disk total.
Uniform CD-ROM driver Revision: 3.11
sr1: scsi3-mmc drive: 20x/20x writer cd/rw xa/form2 cdda tray
SCSI device sda: hdwr sector= 512 bytes. Sectors= 17783240 [8683 MB] [8.7 GB]
Partition check:
 sda: sda1 sda2 sda3 sda4 < sda5 sda6 sda7 >
Serial driver version 5.01 (2000-05-29) with MANY_PORTS SHARE_IRQ SERIAL_PCI ISAPNP enabled
ttyS00 at 0x03f8 (irq = 4) is a 16550A
ttyS01 at 0x02f8 (irq = 3) is a 16550A
Real Time Clock Driver v1.10c
Non-volatile memory driver v1.1
ne2k-pci.c:vpre-1.00e 5/27/99 D. Becker/P. Gortmaker 
http://cesdis.gsfc.nasa.gov/linux/drivers/ne2k-pci.html
eth0: Winbond 89C940 found at 0xfca0, IRQ 15, 00:20:78:15:08:26.
eth1: Winbond 89C940 found at 0xfcc0, IRQ 9, 00:20:78:15:01:76.
Linux agpgart interface v0.99 (c) Jeff Hartmann
agpgart: Maximum main memory to use for agp memory: 204M
agpgart: Detected Intel 440LX chipset
agpgart: AGP aperture is 64M @ 0xf8000000
kmem_create: Forcing size word alignment - nfs_fh
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 212k freed
Adding Swap: 128516k swap-space (priority -1)
Adding Swap: 128516k swap-space (priority -2)
ip_tables: (c)2000 Netfilter core team
ip_conntrack (2048 buckets, 16384 max)
Soundblaster audio driver Copyright (C) by Hannu Savolainen 1993-1996
sb: Creative SB AWE64 Gold detected
sb: ISAPnP reports 'Creative SB AWE64 Gold' at i/o 0x220, irq 5, dma 1, 5
SB 4.16 detected OK (220)
<Sound Blaster 16 (4.16)> at 0x220 irq 5 dma 1,5
<Sound Blaster 16> at 0x330 irq 5 dma 0,0
sb: 1 Soundblaster PnP card(s) found.
YM3812 and OPL-3 driver Copyright (C) by Hannu Savolainen, Rob Hooft 1993-1996
<Yamaha OPL3> at 0x388
ISAPnP reports AWE64 Gold WaveTable at i/o 0x620
<SoundBlaster EMU8000 (RAM4096k)>
microcode: CPU0 updated from revision 51 to 55, date=09231998
snort uses obsolete (PF_INET,SOCK_PACKET)
device eth0 entered promiscuous mode
eth0: no IPv6 routers present
eth1: no IPv6 routers present
-- 
Conrad Heiney
conrad@fringehead.org
http://fringehead.org/
#!/usr/bin/perl -sp0777i<X+d*lMLa^*lN%0]dsXx++lMlN/dsM0<j]dsj
$/=unpack('H*',$_);$_=`echo 16dio\U$k"SK$/SM$n\EsN0p[lN*1
lK[d2%Sa2/d0$^Ixp"|dc`;s/\W//g;$_=pack('H*',/((..)*)$/)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/