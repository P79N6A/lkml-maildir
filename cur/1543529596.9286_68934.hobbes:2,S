Date: Mon, 13 Mar 2000 00:52:35 +0100
From: Guest section DW <>
Subject: Re: ATAPI Zip problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/12/192

On Sun, Mar 12, 2000 at 09:24:42PM +0000, Riley Williams wrote:
> Incidentally, when I put a Zip-100 disk in the drive, the two
> values are approximately 250M and approximately 100M
> resspectively, and when I put a Zip-250 in, they are DIFFERENT
> numbers, but both approx 250M.
People tell me they see
	"The drive reports both 250609664 and 250640384 bytes as its capacity"
But this just means that it has capacity 250640384.
(If one computes a geometry from this, and takes sector size 512,
and 64 heads and 32 sectors/track the number of cylinders will
become 250640384/(512*64*32) = 239.
If one then again multiplies 512*64*32*239 the result is 250609664.
In other words, the kernel message is a bug, there is usually
some rounding when computer some fake number of cylinders,
and the resulting CHS capacity will be a little bit smaller
than the actual one.)
So, in ide-floppy.c this message is entirely superfluous,
and the code throws away 30 kB of floppy space.
But I would like to see what you get in the 100M case.
Andries - aeb@cwi.nl
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/