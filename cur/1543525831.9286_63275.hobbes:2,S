Date: Tue, 15 Feb 2000 00:22:28 +0100
From: Manfred Spraul <>
Subject: Page cache problem? (was Re: Problem with kernels 2.3.43/4/5)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/14/172

Ok I could reproduce it as well:
1) create a large file, larger that ram size
2) please don't use "dd if=/dev/zero", the file should be random,
otherwise md5sum won't detect twisted sectors.
3) 
$	(md5sum file&);(md5sum file&);(md5sum file&);(md5sum file&);
< wait until it created the sum>
< repeat>
I replaced the file with "/dev/hda3", and the hash numbers were always
identical.
It seems that the problem is SMP specific, at least I couldn't reproduce
it on my AMD K6.
Any known page cache corruptions in these kernel? (filesystem: ext2)
--
	Manfred
Rui Sousa wrote:
> 
> Test 1:
> Running four md5sum's on the same file (168 Mb) at the same time, they all give
> the
> same result. (same time means the time it takes to put the mouse over another
> window and press enter ~< 0.5s)
> 
> Wait a couple of seconds, and rerun the four md5sum's on the same file. They all
> give
> the same result but it's different from the one in the first run.
> 
> Each time I do another run they all give the same result but it usually is
> different
> from the previous one.
> 
> Test 2:
> Running one md5sum on the same file up to nine times, one after the other, I
> always
> got the same result.
> 
> Rui Sousa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/