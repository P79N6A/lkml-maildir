Date: Sun, 19 Nov 2006 15:21:42 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [patch] PM: suspend/resume debugging should depend on  SOFTWARE_SUSPEND
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/19/166

On Sun, 19 Nov 2006, Rafael J. Wysocki wrote:
> > concept works anywhere that has a CMOS chip, so if somebody were to spend 
> > a few minutes testing it on x86-64 and others, it would work elsewhere 
> > too..
> 
> I can do that if someone gives me the code.
Well, I actually _think_ it works almost as-is on x86-64 too, but the 
magic is all in that small inline asm thing in <linux/resume-trace.h>.
The ".long" in that inline asm probably needs to be a ".quad" - see gow 
"generate_resume_trace()" uses it.
Also the "show_file_hash()" right now has a "tracedata += 6", and it 
should probably be "tracedata += 2 + sizeof(void *)" instead.
IOW, it really should be very easy to get to work on x86-64, I just 
haven't had the energy or inclination, since the only devices I've 
personally used it on have been regular 32-bit ones..
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/