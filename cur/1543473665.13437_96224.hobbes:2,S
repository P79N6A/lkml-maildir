Date: 31 Dec 1998 18:20:09 +0100
From: Andi Kleen <>
Subject: Re: Linux 2.2.0pre2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/31/181

In article <Pine.LNX.3.95.981230231437.442A-100000@penguin.transmeta.com>,
torvalds@transmeta.com (Linus Torvalds) writes:
>  - fix for an attack where you could cause a complete and utter lockup of
>    the kernel as a normal user. Thanks to Michael Chastain for keeping the
>    faith on this one and reminding me to fix it.
This is harmless compared to the attacks possible with /proc/<pid>/mem  @)
All functions in fs/proc/mem.c are super-racy (the process/mm structure may 
go away while it sleeps) and have other problems. Also they are completely
unreliable to use because they don't fault in pages. Alan's acX patches
have a patch that fix most races, except a few problems in the mem_mmap()
range checking. Fixing mmap completely is hard because doing it full may
lead to shared anonymous mappings. 
These problems are in 2.0 too. 
> If you haven't had problems with pre1, there should be no major cause to
> look at pre2. But if you haven't even looked at pre1 yet, please consider
> looking at the pre-2.2.0 kernels before it's too late. I'm going to be
> extremely rude to people who knew better but didn't test out the pre-
> kernels and then send me bug-reports on the released 2.2.0.
Out of memory handling seems to be poor in 2.2.0pre1. It gets into a strange
swap storm that does not do full HD bandwidth swapping, but small bursts of
IO with pauses.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/