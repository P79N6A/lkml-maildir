Date: Mon, 30 Jan 2006 10:12:41 +0100
From: "Jan Beulich" <>
Subject: [PATCH] abstract type/size specification for assembly
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/30/42

Andrew,
would you consider merging attached trivial patch to simplify specifying the size and, for functions, also the type in
assembly files?
Thanks, Jan
From: Jan Beulich <jbeulich@novell.com>
Provide abstraction for generating type and size information of
assembly routines and data.
Signed-Off-By: Jan Beulich <jbeulich@novell.com>
diff -Npru /home/jbeulich/tmp/linux-2.6.16-rc1/include/linux/linkage.h 2.6.16-rc1-end-endproc/include/linux/linkage.h
--- /home/jbeulich/tmp/linux-2.6.16-rc1/include/linux/linkage.h	2006-01-03 04:21:10.000000000 +0100
+++ 2.6.16-rc1-end-endproc/include/linux/linkage.h	2006-01-25 10:41:49.000000000 +0100
@@ -39,6 +39,11 @@
   ALIGN; \
   name:
 
+#define ENDPROC(name) \
+  .type name, @function; \
+  END(name)
+#define END(name) \
+  .size name, .-name
 
 #endif
 