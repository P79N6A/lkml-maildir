Date: Wed, 17 Dec 2008 12:53:55 -0800
From: Corey Ashford <>
Subject: Re: [Perfctr-devel] [patch] Performance Counters for Linux, v4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/17/369

William Cohen wrote:
> Ingo Molnar wrote:
>> We are pleased to announce the v4 release of our performance counters 
>> subsystem implementation. The kernel changes can be picked up from:
>>
>>    git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip.git 
>> perfcounters/core
>>
>>   (also in the master branch. There's also a kernel patch attached    
>> below.)
> 
> Machines that support virtualization are becoming very common.  How is
> this performance monitoring support going to work with virtualization
> (e.g. KVM)? Having the performance counters only work on physical
> machines would be pretty limiting.
On Power machines, the PMU counter registers are virtualized by the 
hypervisor, at the request of the OS, on a per-cpu/per-partition basis. 
  So this issue is handled transparently on Power anyway.
- Corey
Corey Ashford
Software Engineer
IBM Linux Technology Center, Linux Toolchain
Beaverton, OR
503-578-3507
cjashfor@us.ibm.com