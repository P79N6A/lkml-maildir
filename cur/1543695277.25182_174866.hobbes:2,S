Date: Sat, 25 Oct 2003 22:56:17 +0200
From: Andi Kleen <>
Subject: Re: [AMD64 1/3] fix C99-style declarations
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/25/72

On Sat, Oct 25, 2003 at 09:47:17PM +0100, John Levon wrote:
> On Sat, Oct 25, 2003 at 10:27:50PM +0200, Andi Kleen wrote:
> 
> > x86-64 always used C99 and there is no x86-64 compiler 
> > around that doesn't support it. I must say I was somewhat pissed off
> > that someone added that nasty warning to the toplevel Makefile
> > just to comfort some gcc 2.95 users on i386 ("all world is a i386")
> 
> Sorry, that is bullshit. The change was entirely designed to prevent
> people on such architectures hacking general files where there *do*
> exist older compilers, to avoid breakage being introduced without it
> being flagged.
I don't think it makes much difference. People hacking on one architecture
break other architectures all the time for various reasons, e.g.
the implicit includes in different architectures vary widely.
The few people left who use 2.95 will just have to live with
occasional breakage when they insist on using a non standards
compliant compiler.
> 
> This has happened more than once in the tree.
> 
> When all the architectures have a minimum gcc requirement that accepts
> mixed code and declarations by default, it can be removed ...
Would be my prefered solution. Discourage 2.95.
Sooner or later we have to do that anyways when a bug in 2.95 
is found that breaks code (has happened with all gccs so far). 
Sooner would be better, as supporting 2.95 seems to be already
a significant mainteance burden.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/