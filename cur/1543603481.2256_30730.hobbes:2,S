Date: Thu, 4 Oct 2001 12:53:06 +0200
From: Wichert Akkerman <>
Subject: Re: [linux-lvm] Re: partition table read incorrectly
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/4/47

Previously Andreas Dilger wrote:
> If you already have data on the PV in
> question, you can "dd if=/dev/zero of=/dev/sdb bs=1 seek=510 count=2"
> to remove only the partition signature.
That helped and the kernel no longer sees that partition anymore.
However LVM still doesn't work:
cloud:/dev/discs/disc1# vgscan
vgscan -- reading all physical volumes (this may take a while...)
vgscan -- found active volume group "vg_user"
vgscan -- "/etc/lvmtab" and "/etc/lvmtab.d" successfully created
vgscan -- WARNING: This program does not do a VGDA backup of your volume group
cloud:/dev/discs/disc1# vgchange -a y
vgchange -- ERROR: VGDA in kernel and lvmtab are NOT consistent; please run vgscan
I did a bit of looking around and it seems the confusement is in the
kernel: when lvm_check_kernel_lvmtab_consistency() compares the kernel
and the lvmtab entries the list from the kernel mentions the vg_user
volume group twice, while the lvmtab only mentions it once.
Wichert.
-- 
  _________________________________________________________________
 /       Nothing is fool-proof to a sufficiently talented fool     \
| wichert@wiggy.net                   
http://www.liacs.nl/~wichert/
 |
| 1024D/2FA3BC2D 576E 100B 518D 2F16 36B0  2805 3CB8 9250 2FA3 BC2D |
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/