Date: Tue, 22 Mar 2005 20:13:15 -0500
From: Dave Jones <>
Subject: Re: dmesg verbosity [was Re: AGP bogosities]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/22/351

On Tue, Mar 22, 2005 at 07:53:37PM -0500, Lee Revell wrote:
 > The solution is fairly well known.  Rather than treating the zillions of
 > disk seeks during the boot process as random unconnected events, you
 > analyze the I/O done during the boot process, then lay out those disk
 > blocks optimally based on this information so on the next boot you just
 > do one big streaming read.  The patent side has been discussed and there
 > seems to be plenty of prior art.
 > 
 > Someone needs to just do it.  All the required information is right
 > there.
Some of the folks on our desktop team have been doing a bunch of experiments
at getting boot times down, including laying out the blocks in a more
optimal manner, allowing /sbin/readahead to slurp the data off the disk
in one big chunk, and run almost entirely from cache. The results are
quite impressive, though the absense of any kind of tool to reorganise
the layout means that once a few packages are installed/removed, the layout is
no longer optimal.
This old mail: 
http://marc.free.net.ph/message/20040304.030616.59761bf3.html
references a 'move block' ioctl, which is probably the hardest part of the problem,
though I didn't find the code referenced in that mail. Andrew ?
With something like this, and some additional bookkeeping to keep track of
which files we open in the first few minutes of uptime, we could periodically
reorganise the layout back to an optimal state.
		Dave
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/