Date: Mon, 13 Mar 2000 07:15:02 +0000 (GMT)
From: James Sutherland <>
Subject: Re: Some questions about linux kernel.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/13/33

On Sun, 12 Mar 2000, Billy Harvey wrote:
>  > > > Problem is that one's thing junk is other person's valuable thing.
>  > > ...
>  > > > Bottom line is that I don't belive any kind of AI in OMM will do the
>  > > > right job.
>  > > 
>  > > It beats killing totally random stuff like we do now.
>  > 
>  > > Can't you agree that the OOM killer, while not perfect,
>  > > is better than the random killing we currently have?
>  > 
>  > Yes, but it still believe it remains a hack, not optimal solution.
>  > .. and as they say 'hack last longest' once they get in.
>  > 
>  > I belive, ideally *user* should have some way to decide what should die.
> 
> How difficult would it be to extend the OOM grim-reaper to allow a
> user configuration file, perhaps with specifiable kill-first processes
> and kill-last processes?  For example, one poster had stated that some
> users might prefer that their httpd processes were given the greatest
> tolerance, or another that his math crunching program be the omega.
> Either (or both) could be specified through a configuration file that
> allowed regular expression parsing, or parsing similar to the
> hosts.allow file.
At the time, I suggested moving the  grim-reaper code into a userspace
daemon, to allow much greater/easier configurability. I can think of a few
examples it would be rather messy to include in the kernel; first, I would
kill off Netscape processes (and a few others), then more user processes,
and then (once all the user processes have gone) resort to dropping
daemons. As an ultimate resort, reboot (it could have been a kernel memory
leak).
For the time being, though, the simple "kill the most likely suspect"
patch should be a pretty good approximation.
James.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/