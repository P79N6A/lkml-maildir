Date: Wed, 20 Feb 2008 10:40:59 +0100 (CET)
From: Geert Uytterhoeven <>
Subject: Re: [PATCH] falconide: fix resources reservation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/20/99

On Wed, 20 Feb 2008, Bartlomiej Zolnierkiewicz wrote:
> * Tell IDE layer to not manage resources by setting
>   hwif->mmio flag and request resources in falconide_init().
> 
> * Use request_mem_region() for resources reservation.
> 
> * Use driver name for resources reservation.
> 
> Cc: Geert Uytterhoeven <geert@linux-m68k.org>
> Cc: Michael Schmitz <schmitz@debian.org>
> Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
> ---
>  drivers/ide/legacy/falconide.c |    7 +++++++
>  1 file changed, 7 insertions(+)
> 
> Index: b/drivers/ide/legacy/falconide.c
> ===================================================================
> --- a/drivers/ide/legacy/falconide.c
> +++ b/drivers/ide/legacy/falconide.c
> @@ -22,6 +22,7 @@
>  #include <asm/atariints.h>
>  #include <asm/atari_stdma.h>
> 
> +#define DRV_NAME "falconide"
> 
>      /*
>       *  Base of the IDE interface
> @@ -74,6 +75,11 @@ static int __init falconide_init(void)
> 
>  	printk(KERN_INFO "ide: Falcon IDE controller\n");
> 
> +	if (!request_mem_region(ATA_HD_BASE, 0x40, DRV_NAME)) {
> +		printk(KERN_ERR "%s: resources busy\n");
                                 ^^
Woops, missing parameter?
pr_error()?
Gr{oetje,eeting}s,
						Geert
--
Geert Uytterhoeven -- There's lots of Linux beyond ia32 -- geert@linux-m68k.org
In personal conversations with technical people, I call myself a hacker. But
when I'm talking to journalists I just say "programmer" or something like that.
							    -- Linus Torvalds