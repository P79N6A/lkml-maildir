Date: Thu, 20 Feb 2003 10:29:41 -0800
From: Petr Vandrovec <>
Subject: Re: FBdev updates.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/20/181

On Thu, Feb 20, 2003 at 03:02:01PM +0000, Dave Jones wrote:
> On Thu, Feb 20, 2003 at 01:09:33AM +0000, James Simmons wrote:
> 
>  > New updates to the fbdev layer. You can grab the diff from 
>  > 
http://phoenix.infradead.org/~jsimmons/fbdev.diff.gz
> 
> James,
>  Whats the current status with matroxfb ? Its been broken
> for months now, and hasn't seen any progress wrt getting it
> back on its feet.
> 
> I understand Petr had some concerns with the new API, but
> *something* needs to be done to get this back up and running.
> 
> I'd understand if this was a neglected hardly-used-by-anyone
> driver, but there's an awful lot of matrox cards out there.
> 
> This was first reported broken way back in 2.5.53, but I believe
> was broken even longer before that.
Since 2.5.51, when rewrite came in... 
You can get patch which reverts most of James's work at
ftp://platan.vc.cvut.cz/pub/linux/matrox-latest/matroxfb-2.5.59.gz.
I was for five weeks in U.S., so I did not do anything with
matroxfb during that time. I plan to use fillrect and copyrect
from generic code (although it means unnecessary multiply on
generic side, and division in matroxfb, but well, if we gave
up on reasonable speed for fbdev long ago...). But I simply
want loadfont and putcs hooks for character painting. And if 
fbdev maintainer does not want to give me them, well, then 
matroxfb and fbdev are not compatible.
I refuse to remove features from matroxfb driver, and textmode
support is one of current features (needed and required to be
able to run VMware on fullscreen - and as main part of my
job happens in VMware...). So there is couple of choices:
(1) new maintainer, or
(2) remove matroxfb from kernel, or
(3) persuade me that I want to write matroxcon and forget about fbcon at all, or
(4) something else I do not know about.
Besides that with that strange additional copy in accel_putcs
I get much slower output than with 2.4.x... and although I
understand that for 2.6.x we'll all have faster computers than
we had for 2.4.x, I still think that speed should be primary
concern, and code extensibility and readability secondary.
But well, I told it dozens of time, so why I bother. I do
not want to end up as Larry.
					Petr Vandrovec
					vandrove@vc.cvut.cz
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/