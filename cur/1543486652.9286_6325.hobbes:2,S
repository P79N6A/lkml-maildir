Date: Sat, 20 Feb 1999 15:18:09 -0500 (EST)
From: Ricky Beam <>
Subject: Re: Linux-2.2.2-pre2..
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/20/63

[la la la]
Am I being overly simplistic here, but it looks like it would be prudent
to check the validity of the tty data following lock_kernel() on an SMP
setup.
I deleted one too many messages so I don't have the flow tree anymore,
but it looks to me like there needs to be some checking done to insure
the other CPU has not nuked (or is not in the process of nuking) the
tty data structure(s).
This is indeed a complex problem.  I'm inclined to agree with Ted on using
a sep. queue to address the IRQ races.  Validating the data structures
would just be a cludge ontop of a cludge.
--Ricky
PS: I hate it when this sorta thing pops up... the DAS1600 (dac) driver had
    an equally complex error.  I spent three months debuging the thing only
    to fix it in a day two years later.  (Of course, we cannot walk away
    from linux for two years :-))
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/