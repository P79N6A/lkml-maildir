Date: Tue, 22 Aug 2000 21:05:38 +0100
From: Anton Altaparmakov <>
Subject: Re: NTFS-like streams?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/23/128

At 23:36 13/08/2000, Christopher Vickery wrote:
[snip]
>I was beginning to think that the "HPS can be implemented
>using named streams but not vice-versa" argument would hold
>sway.  But, in agreement with your point, I notice that an
>MFT entry in NFS (the equivalent of an inode) consists of 7
>attributes:
This is incorrect. There are many more attributes. - Most attributes are 
not required (only optional) among them Reparse, named data, index* and 
bitmap from below list. - In adition there can be user defined attributes 
and in fact to find out what attributes there are, you have to read the 
$AttrDef special file to read in a mapping of all attributes on the disk 
(names of attributes + number for the attribute). The $MFT file record for 
$AttrDef is 4 btw.
Anton
>   Standard Information - DOS file attributes
>   Name                 - Well, this is NTFS, not Unix
>   Security Descriptor
>   Data                 - The data in this file's unnamed
>                          stream
>   Named Data           - There can be 0 or more Named Data
>                          attributes - what we have been
>                          calling "NTFS-like streams"
>   Index Root, Index Allocation, and Bitmap - Somehow these
>                          structs allow individual 32KB
>                          extents ("compression units") to be
>                          compressed or not.
>   Reparse              - Identifies a file system filter
>                          that executes when this file or
>                          directory is accessed.  (You could
>                          associate tarfs with a tar file,
>                          for example.)
>
>So it seems that a complete implementation of NTFS would
>require all the features of other known filesystems.
>(I suppose it's remotely possible that I don't know all the
>features of all filesystems, and thus might be wrong, here.)
>
>IF one were to change the design of the kernel to allow for
>future support of arbitrary filesystems, it seems that
>adequacy of support for NTFS would provide a guage for
>evaluating the sufficiency of such design changes.
>
>Of course, ioctl() allows anything to be accomplished, but
>my understanding is that there is some sympathy for the
>notion of providing a vfat=>fs api that allows a rich set of
>filesystems to be implemented with a common programming
>interface.
>
>Chris
>
>
>-
>To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
>the body of a message to majordomo@vger.rutgers.edu
>Please read the FAQ at 
http://www.tux.org/lkml/
--
      "Education is what remains after one has forgotten everything he 
learned in school." - Albert Einstein
--
Anton Altaparmakov  Voice: 01223-333541(lab) / 07712-632205(mobile)
Christ's College    eMail: AntonA@bigfoot.com
Cambridge CB2 3BU    ICQ: 8561279
United Kingdom       WWW: 
http://www-stu.christs.cam.ac.uk/~aia21/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/