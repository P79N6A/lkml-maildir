Date: Mon, 12 Jun 2006 15:23:04 -0700
From: Greg KH <>
Subject: Re: pl2303 ttyUSB0: pl2303_open - failed submitting interrupt urb, error -28
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/12/346

On Mon, Jun 12, 2006 at 06:12:58PM -0400, Mark Lord wrote:
> Greg KH wrote:
> >On Mon, Jun 12, 2006 at 05:54:21PM -0400, Mark Lord wrote:
> >>Okay, with these two patches from -mm, the USB no longer dies
> >>when I plug in my hub/dock device:
> >>
> >>gregkh-usb-improved-tt-scheduling-for-ehci.patch
> >>gregkh-usb-usb-rmmod-pl2303-after-28.patch
> >>
> >>So let's get these pushed upstream sooner than later, please!
> >
> >It will happen after 2.6.17 is out, as they are in the queue to do so.
> 
> 2.6.18 will do, I suppose.
> 
> But has the *real* bug been fixed with these patches,
> or merely "avoided" ?
The tt-scheduling patch should have fixed the "real" bug.
> Eg. If usb_submit_urb() ever fails again (low on memory, etc..)
> inside  pl2303_open(), will we be back with the same bug?
> 
> What's the *real* actual bug here?
There are two of them.
The fact that the urb submission in the pl2303 driver fails, and is now
handled properly is fixed in the pl2303 patch.
The fact that we can (hopefully) handle scheduling TT in the EHCI driver
fixes the real problem with plugging slow or full speed devices into a
USB 2.0 hub (not root hub).  That's fixed by the tt patch.
So we should have finally covered both of them now.
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/