Date: Sat, 6 Nov 1999 23:51:28 -0500 (EST)
From: (Tim Coleman)
Subject: Problems compiling kernel 2.3.25
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/6/51

Hello all,
I just tried downloading and compiling kernel version 2.3.25.
It seems to have a problem with pci.h as included from ide.c.
I do not have PCI on my machine, so I did not include PCI
support in the kernel.  
I found that there was a problem with the definition of pci_simple_probe()
in pci.h.  The prototype lists the first argument as 
"const struct pci_simple_probe_entry *list", while the actual function
definition lists it as "struct pci_simple_probe_entry *list".
The missing "const" caused the compile to fail on my system.
--- pci.h~	Sat Nov  6 23:22:17 1999
+++ pci.h	Sat Nov  6 23:44:07 1999
@@ -530,7 +530,7 @@
 extern inline void pci_set_master(struct pci_dev *dev) { }
 extern inline int pci_enable_device(struct pci_dev *dev) { return 0; }
 
-extern inline int pci_simple_probe (struct pci_simple_probe_entry *list, size_t match_limit,
+extern inline int pci_simple_probe (const struct pci_simple_probe_entry *list, size_t match_limit,
 		      pci_simple_probe_callback cb, void *drvr_data)
 { return 0; }
Thanks
Tim
--
Tim Coleman [tcoleman(@)netcom.ca]
Combinatorics & Optimization / Computer Science * University of Waterloo
Un*x Programming Enthusiast * DB2/Informix/Sybase/Oracle RDBMS Developer
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/