Date: Tue, 31 Aug 1999 01:50:28 GMT
From: (Zygo Blaxell)
Subject: Re: Qs: 1->many Pentium CPU upgrade (kernel 2.2.5)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/30/141

>---------- end disclaimers ---------------------------------------------
>---------- begin content   ---------------------------------------------
Always a good way to start a message.  ;-)
>    I am running an out-of-the box (no kernel rebuilds/upgrades)
>  RedHat6.0 on a Pentium 150 w 96Mb RAM and a 3.2Gb HD.
[...]
>   I plan to buy a motherboard for 2 or 4 processors, a new case and new
>  memory (I've been told that my curr. 96Mb chips may not work well with
>  new boards). I am going to keep the peripherals.
As long as they're Intel, they're probably supported.
>   The questions are
>
>     1. I expect the current [binary] kernel to recognize a new
>        motherboard and at least one new processor immediately after
>        the upgrade. Will that work if the board has 2 or 4 processors
>        installed?
Yes.  For backward compatibility with just about everything, the BIOS
will park the other (three) processor(s) and run with just the one until
a SMP-capable OS is loaded.
Linux compiled for SMP will run on a single-processor machine, and Linux
compiled for UP will run on a multi-processor machine.  
>     2. One of the 2.2 kernel reviews on the Web alluded to
>        the possibility to turn SMP on w/o recompiling the kernel...
>        is this really possible or was that my misunderstanding ?
Some distribution vendors may provide SMP binary kernels; to use these,
consult your distribution vendor.  Last time I checked, Red Hat had some
kernel images optimized for different CPU types; it follows that they
may have SMP kernel images as well.  Debian, on the other hand, gives you
the One True Kernel Image, which basically lets you install enough of
the distribution to recompile a new kernel in SMP mode.
In 2.0, it was necessary to modify the Makefile of the kernel directly
for SMP.  In 2.2, SMP is a configuration option just like all the others.
So it's easier, but someone (not necessarily you) still has to rebuild
the kernel for SMP.
SMP support is still a performance hit for single-processor Linux, so
it's something you don't want to enable unless you really have two or
more CPU's.
>     3. If I need to rebuild the kernel, I would also consider downloading
>        a newer one before rebuilding. Since I do not have problems with 2.2.5
>        running on one processor, I am curious if there are any advantages
>        in getting a new kernel. I do seem to have one of those Ethernet
>        cards that caused sudden death in combination w SMP, but I am not
>        using it since I have no Ethernet connection.
Get the current stable release (last time I checked, it was 2.2.12, but
that was a few hours ago, so it might not be the newest any more ;-).
Each new release for the most part fixes bugs in the previous ones,
although you could go for months without encountering any bugs at all now.
>     4. Any comments on choosing 2-processor vs 4-processor motherboard?
>        (Since I am going to use the processors for faster builds, it seems
>        I should be able to use 4 processors w no problem).
Judging from the benchmarks that have gone by here recently, 4 processors
are almost twice as good as two.  8 or 16 don't work as well.
>   P.S. Please cc: your replies to imarkov@cs.ucla.edu
-- 
I don't speak for Corel, I just work for them.  Use zygob@corel.ca for work, 
zblaxell@furryterror.org for play, and zblaxell@feedme.hungrycats.org for PGP.
PGP fingerprint: 01 94 0F B3 46 B7 71 C3  D4 98 39 99 1B 34 45 A1
PGP public key:  
http://www.hungrycats.org/~zblaxell/pgp-public.txt
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/