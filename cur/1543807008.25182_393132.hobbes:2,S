Date: Fri, 03 Feb 2006 14:25:41 +0100
From: Joerg Schilling <>
Subject: Re: CD writing in future Linux (stirring up a hornets' nest)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/3/97

"Jim Crilly" <jim@why.dont.jablowme.net> wrote:
> I see the same thing with, the only external kernel patch I have
> applied is Suspend2. The ATA scanbus code tries to 
> open("/dev/hda", O_RDWR|O_NONBLOCK|O_EXCL) and that fails, and since
> the scanning code stops once one device fails to open the whole scan
> aborts. Apparently O_EXCL was added by Ubuntu and Debian to stop
> burns being corrupted by hald polling the device while a disc is
> being burned. If you want to read the entire thread it's bug #262678
> in Debian.
This is an excellent example to verify how bad Linux distribution developent
is done.....
Note that the main problem here is an applicaion unfriendly service 
on Linux that disturbes other applications like cdrecord.
As there is a bug in this service, I would expect that this bug should be fixed.
Instead of doing this or at least trying to get help from experienced people 
like me, some people did prefer to change cdrecord in a way that caused more
problems than it pretends to fix.
Note that the "requirement" for O_EXCL is a bad idea and needs fixing.
If you believe that this is impossible, just have a look at the OpenSolaris vold
and volfs subsystem.....
Note that Linux distributors apply other changes to cdrecord that causes 
problems in the same area: patching cdrecord to allow a grace time < 3 seconds
of course disallows a useful solution in this area.
Jörg
-- 
 EMail:joerg@schily.isdn.cs.tu-berlin.de (home) Jörg Schilling D-13353 Berlin
       js@cs.tu-berlin.de                (uni)  
       schilling@fokus.fraunhofer.de     (work) Blog: 
http://schily.blogspot.com/
 URL:  
http://cdrecord.berlios.de/old/private/
 
ftp://ftp.berlios.de/pub/schily
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/