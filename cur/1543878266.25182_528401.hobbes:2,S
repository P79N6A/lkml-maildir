Date: Sat, 07 Apr 2007 12:34:14 -0400
From: Bill Davidsen <>
Subject: Re: [patch] remove artificial software max_loop limit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/7/100

Valdis.Kletnieks@vt.edu wrote:
> On Fri, 06 Apr 2007 16:33:32 EDT, Bill Davidsen said:
> 
>> Jan Engelhardt wrote:
>> 
>
> 
>>> Who cares if the user specifies max_loop=8 but still is able to open up 
>>> /dev/loop8, loop9, etc.? max_loop=X basically meant (at least to me) 
>>> "have at least X" loops ready.
>>>
>>> 
>> You have just come up with a really good reason not to do unlimited 
>> loops.
>> 
>
> That, and I'd expect the intuitive name for "have at least N ready" to
> be 'min_loop=N'.  'max_loop=N' means (to me, at least) "If I ask for N+1,
> something has obviously gone very wrong, so please shoot my process before
> it gets worse".
>
> Maybe what's needed is *both* a max_ and min_ parameter?
> 
I think that max_loop is a sufficient statement of the highest number of 
devices needed, and can reasonably interpreted as both "I may need this 
many" and "I won't legitimately want more."
As I recall memory is allocated as the device is set up, so unless you 
want to use the max memory at boot, "just in case," the minimum won't be 
guaranteed anyway. Something else could eat memory.
In practice I think asking for way too many is more common than not 
being able to get to the max. It may happen but it's a corner case, and 
status is returned.
-- 
bill davidsen <davidsen@tmr.com>
  CTO TMR Associates, Inc
  Doing interesting things with small computers since 1979
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/