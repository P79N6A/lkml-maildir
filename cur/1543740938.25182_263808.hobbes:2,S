Date: Sat, 23 Oct 2004 20:29:28 +1000
From: Nick Piggin <>
Subject: Re: Page Allocation Failures Return With 2.6.9+TSO patch.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/23/100

Justin Piszcz wrote:
> It does not seem like they do, but they cannot be good...
> 
It seems almost inevitable that they'll happen, especially if a module
is loaded after boot (this is actually somewhere that incremental min
will help "echo some number > /proc/sys/vm/lower_zone_protection").
But from the code, the failures really won't hurt at all. It might
double the number of interrupts coming from your soundcard, but I
dare say you would never be able to notice a difference.
> I have applied the following patches
> 
> 1] TSO patch
> 2] rollup.patch
> 
> Rebooting now and will alert the list if/when I receive more page 
> allocation failures.
> 
> FYI - I started getting these with 2.6.9.
> 
> (However, it was always possible on the Dell Optiplex GX1 to create page 
> allocation failure with: ifconfig eth0 mtu 9000), however, on a 
> higher-end machine (2.6GHZ, 2GB ram, etc) ifconfig eth0 mtu 9000 worked 
> fine.
> 
> Is it something with the architecture of the box bus/box?
> 
No, probably just different configurations or memory usage patterns
of the kernel, maybe different drivers, etc.
> Why does it tend to affect one machine and not the other?
> 
Again, luck of the draw mainly. My patch should definitely help the
TSO allocation failures (it probably won't fix the sound buffer alloc
failure though, now that I've looked at it).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/