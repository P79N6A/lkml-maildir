Date: Sun, 24 Feb 2008 22:21:07 -0800
From: "Bill Huey (hui)" <>
Subject: Re: [PATCH [RT] 11/14] optimize the !printk fastpath through the lock acquisition
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/25/22

[repost with all folks CCed]
On Sun, Feb 24, 2008 at 9:20 PM, Gregory Haskins
<gregory.haskins.ml@gmail.com> wrote:
>  Are you saying that the modified logic that I introduced is broken?  Or
>  that the original use of the might_sleep() annotation inside this
>  function is broken?
It's probably safe to use, but it's not what its original purpose was
and you should use another function/macro. This is an annotation issue
and your use of it is inconsistent with how it's used in voluntary
preempt. I mentioned it before in a previous post. Folks will correct
me if I'm wrong but you should use another macro or function.
bill