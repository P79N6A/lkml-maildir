Date: Thu, 12 Feb 2004 11:28:48 -0800 (PST)
From: Konstantin Kudin <>
Subject: Strange boot with multiple identical disks
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/12/149

 Hi everybody,
 Here is the issue. A redhat 9 linux system had 2
drives, /hda and /hdb. Then /hda started developing
bad clusters {UncorrectableError}, so I got an
identical warranty replacement drive.
 Then I hooked up the new drive as /hdc, and did a
sector by sector copy {dd if=/dev/hda of=/dev/hdc
conv=noerror,sync} Overall, I got ~2k of bad 512B
sectors.
 Then I swaped the fresh one to /hda, and put aside
the failing one. I booted, did fsck on all partitions
and also raids, and things came up fine. So far so
good.
 Now I am trying to add the failing one as /hdc, and
boot. Linux starts to display all kinds of weird
messages, and thinks that / partition was shut down
uncleanly. I just hit "reset". Then I disable /hdc via
the boot option hdc=noprobe, and things boot fine. If
I try to disable raid via raid=noautodetect, the bunch
of errors still appears and the boot is no go. Done
this several times, without /hdc things are fine, with
- all kinds of issues.
 What is the problem for linux to boot on /hda when
/hdc is detected and has almost identical setup? 
Where does it read all the garbage that starts to
screw up the boot process when /hdc is detected? I'd
like to hook up /hdc to wipe out the data there. The
drive is huge, so I'd rather wipe it out while working
then under other circumstances.
 
 Thanks!
 Konstantin
__________________________________
Do you Yahoo!?
Yahoo! Finance: Get your refund fast by filing online.
http://taxes.yahoo.com/filing.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/