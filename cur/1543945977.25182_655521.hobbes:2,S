Date: Mon, 18 Feb 2008 12:31:07 +0100
From: Andi Kleen <>
Subject: Re: [PATCH 1/5] x86: validate against acpi motherboard resources
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/18/144

On Fri, Feb 15, 2008 at 11:52:14PM -0600, Robert Hancock wrote:
> Andi Kleen wrote:
> >Yinghai Lu <Yinghai.Lu@Sun.COM> writes:
> >>[akpm@linux-foundation.org: many fixes and cleanups]
> >>Signed-off-by: Robert Hancock <hancockr@shaw.ca>
> >>Signed-off-by: Andi Kleen <ak@suse.de>
> >>Tested-by: Andi Kleen <ak@suse.de>
> >
> >iirc it really was 
> >Tested-and-didnt-pass-test-by: Andi Kleen 
> >unfortunately. I have not rechecked recently, but on the one Intel
> >box the original patch and the other mcfg heuristics removed didn't work.
> 
> With just this patch you will have this problem. You need either the 
> patch to disable decode during BAR sizing,
Isn't that one already merged?
I remember the BAR decoding patch did help with at least one
of the original failures (there were multiple ones iirc0) 
If someone points me to all the patches needed or a tree who 
has them all applied I can give it a quick spin on the boxes I have here.
One of the systems where it originally failed I don't have anymore
though.
> or the patch to use MMCONFIG 
> for extended config space only, if you don't have them already.
That would mean it would boot, but anything that uses extended config
space would fail. While not as catastrophic as before I'm not sure
it's that great either. At least there would be still breakage,
but much more subtle ones.
-Andi