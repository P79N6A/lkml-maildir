Date: 14 Feb 2003 17:55:53 +0000
From: Alan Cox <>
Subject: Re: [PATCH][RFC] Proposal for a new watchdog interface using sysfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/14/169

On Fri, 2003-02-14 at 15:32, Rusty Lynch wrote:
> Since only one driver can register as the /dev/watchdog (ie
> major=10/minor=130 char device), would it be better if:
> 
> * the first watchdog driver to register with the base also gets
> registered as the watchdog misc device, and when that driver unregisters
> then the second watchdog to register now gets registered as the misc
> device, etc.
> * each watchdog driver gets an additional sysfs file named 'misc', where
> writing a '1' to the file causes the driver to become the registered
> misc watchdog device.
> * something else
I had hoped we'd get some kind of sanity and 32bit dev_t by now at which
point watchdogs belong on a major with /dev/watchdog0/1/2/3/... I dont
think you need to care about that for now. Sysfs doesn't help here in
the general case as it lacks persistant file permissions, but where it
is used the user can simply make /dev/watchdog a link into sysfs and
nothing has to be done by the driver
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/