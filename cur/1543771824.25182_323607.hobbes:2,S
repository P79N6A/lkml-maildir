Date: Mon, 06 Jun 2005 23:42:31 -0400
From: Adam Belay <>
Subject: Re: [PATCH] fix tulip suspend/resume
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/6/272

On Tue, 2005-06-07 at 13:32 +1000, Benjamin Herrenschmidt wrote:
> > > It should probably test for message state, it's not worth doing
> > > pci_set_power_state(D3) if PMSG_FREEZE is passed... (just slows down
> > > suspend to disk)
> > 
> > Yeah, I added pci_choose_state in my last email.  This will at least help
> > avoid powering off.  Still, I agree this needs to be handled specifically.
> > Currently, I don't think many drivers support PMSG_FREEZE.
> 
> Nope, but I've been improving swsusp support on macs lately and have
> already a bunch of driver fixes waiting.
> 
> Now I need to get Pavel, Patrick and I to agree about the PM toplevel
> core changes before I can send all that stuff to Andrew :)
> 
> Ben.
What PM toplevel core changes are you referring to?  I've look over the
changes to pm_ops and they seem to make sense.  Still I almost wonder if
we should make the entire thing arch specific code, and then have this
code call things like device_suspend().  If mac hardware required that
many new hooks, then other platforms might require even more.
Thanks,
Adam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/