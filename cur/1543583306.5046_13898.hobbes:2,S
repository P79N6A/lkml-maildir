Date: Wed, 28 Feb 2001 09:42:51 +0000 (GMT)
From: Alan Cox <>
Subject: Re: rx_copybreak value for non-i386 architectures
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/28/1

> for non-i386 architectures.  Once I thought I understood it and it seems
> related to cache line alignment.  However, I am not sure exactly about the
> reason now.  Can someone enlighten me a little bit?
A lot of pci net cards can only start packets on a 4 byte boundary. A lot
of CPU's need 4 byte aligned read/writes for performance. The ethernet header
is howerver 14 bytes long.
For CPU's with poor unaligned performance it turns out better to copy or
copy/checksum the data so the IP/TCP headers are aligned. If the card can
hit 16bit boundaries then you will see card drivers doing
	alloc_skb(blah)
	skb_reserve(skb, 2);
to align the header of he buffer so that the IP data is aligned
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/