Date: Wed, 17 Dec 2003 13:31:24 -0600
From: Nathan Poznick <>
Subject: Re: [PATCH] Handle R_ALPHA_REFLONG relocation on Alpha (2.6.0-test11)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/17/108

Thus spake Richard Henderson:
> Which module?  This relocation should never EVER show up in kernel code.
Well, it was happening on anything I attempted to make a module.
> (It will show up in dwarf2 debug info, so make sure you're not looking at
> objects compiled with -g, but debug sections ought to be ignored by the
> module loading code.)
I think that may have been the root cause of this; I had
CONFIG_DEBUG_INFO enabled from debugging attempts related to a past
problem.  With that enabled, -g is used for the compile, so the
relocations were added, and module loading failed.  After disabling it,
R_ALPHA_REFLONG did not appear in any of the object files.  So I suppose
my next question is if this is a known/intended side effect -- enabling
CONFIG_DEBUG_INFO means that modules cannot be used?
-- 
Nathan Poznick <kraken@drunkmonkey.org>
My school colors were clear. We used to say, "I'm not naked, I'm in the
band." -Stephen Wright
[unhandled content-type:application/pgp-signature]