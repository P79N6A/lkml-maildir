Date: Sat, 5 Nov 2005 20:12:24 +0100
From: Adrian Bunk <>
Subject: Re: [PATCH]: linux-2.6.14-uc0 (MMU-less support)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/5/186

On Sat, Nov 05, 2005 at 12:42:42PM -0600, Milton Miller wrote:
> On Tue Nov 01 2005 - 23:01:02 EST, Greg Ungerer wrote:
>...
> >@@ -1190,7 +1190,7 @@
> >
> > config NET_PCI
> > 	bool "EISA, VLB, PCI and on board controllers"
> >-	depends on NET_ETHERNET && (ISA || EISA || PCI)
> >+	depends on NET_ETHERNET && (ISA || EISA || PCI || EMBEDDED)
> > 	help
> > 	  This is another class of network cards which attach directly to the
> > 	  bus. If you have one of those, say Y and read the Ethernet-HOWTO,
> >
> 
> Lots of people turn on EMBEDDED for lots of reasons, asking about
> a lot more drivers seems burdensome.
> 
> Care to create a single intermediate Kconfig var for those?
> Something like "Controllers attached directly to a cpu?"
It seems the real problem is a misunderstanding regarding the semantics 
of EMBEDDED.
EMBEDDED is _not_ strictly connected to any usage of the kernel.
All EMBEDDED does is to offer additional option for people needing a 
small kernel in space-limited environments.
CC_OPTIMIZE_FOR_SIZE is one example, but it also allows to e.g. deselect 
futex support.
(ISA || EISA || PCI || EMBEDDED) doesn't make any sense since this 
dependency expresses the supported busses. If this was required for any 
purpose, it should be reported to find a proper solution.
>...
> > ifdef CONFIG_CC_OPTIMIZE_FOR_SIZE
> >-CFLAGS		+= -Os
> >+CFLAGS		+= -O
> > else
> > CFLAGS		+= -O2
> > endif
> 
> Sees this undoes part of the benefit, perhaps you should add a
> third option.
Even further, I don't see any reason for using -O - the resulting code 
is expected to be both bigger and slower than with -Os.
Is this a workaround for a gcc bug on some platform?
> milton
cu
Adrian
-- 
       "Is there not promise of rain?" Ling Tan asked suddenly out
        of the darkness. There had been need of rain for many days.
       "Only a promise," Lao Er said.
                                       Pearl S. Buck - Dragon Seed
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/