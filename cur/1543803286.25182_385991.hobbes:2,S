Date: Fri, 13 Jan 2006 20:17:26 -0500
From: Stuffed Crust <>
Subject: Re: wireless: recap of current issues (configuration)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/13/456

On Fri, Jan 13, 2006 at 11:32:02PM +0100, Johannes Berg wrote:
> I'm not sure this is worth it. While putting this into the WiPHY device
> creates more logic there, putting knowledge like 'how many different
> channels can this WiPHY device support' etc. into some representation
> that can be used by the stack to decide is much more trouble than it is
> worth.
Do you mean 'simultaneous' channel operation, or something more mundane 
like simply 'what frequencies can I run on'?
If you're talking about the former.. things get quite complicated, but 
that could be handled by having two WiPHY devices registered.
As for the latter, when you factor in the needs of 802.11d and its
dependents (802.11j, 802.11k, and others) the stack is going to need to
be aware of the available channel sets; both in the sense of hardware
support and also the various regulatory requirements. 
The hardware knows what frequencies it supports.  Unfortunately this has 
to be a somewhat dynamic thing, as this is often not queryable until the 
device firmware is up and running.  
This can be accomplished by passing a static table to the 
register_wiphy_device() call (or perhaps via a struct wiphy_dev 
parameter) or through a more explicit, dynamic interface like:
  wiphy_register_supported_frequency(hw, 2412). 
 - Solomon
-- 
Solomon Peachy        				 ICQ: 1318344
Melbourne, FL 					 
Quidquid latine dictum sit, altum viditur.
[unhandled content-type:application/pgp-signature]