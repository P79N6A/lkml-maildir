Date: Sun, 02 Apr 2006 22:24:43 +0100
From: Alan Cox <>
Subject: Re: [RESEND][2.6.15] New ATA error messages on upgrade to 2.6.15
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/2/127

On Sul, 2006-04-02 at 15:55 -0400, Kyle Moffett wrote:
> (2)  It's extremely unlikely that the card itself is faulty; it  
> exhibits identical symptoms on both drives and has ever since I  
> originally purchased the card and installed 2.4.X on the system.
If it has always shown those symptoms then I'd say its quite likely the
card if the crystals/PLLs on it are out. It looks like the timing is
wrong, which means either the input clocks (eg PCI clock) are wrong (eg
37.5Mhz not 33 due to BIOS overclock settings or just plain out), the
card has a dodgy crystal/PLL or the kernel set it up wrong.
PCI timings won't move between motherboards, PLL faults wont move
between cards.
> (3)  It's not possible that it's the power supply.  As I said before  
> I checked the power supply with an oscilliscope _during_boot_.  The  
I think you can rule that out. Insufficient power generally causes
drives to offline or spontaneously reset. It can cause weird symptoms as
it ends up back in PIO 0 but not ECC change downs except to PIO
> noticing a buggy firmware, then I'm hoping that with some help I can  
> determine where the kernel driver is getting confused and correct the  
> programmed bus timings (or whatever the hell isn't working).  As my  
> practical knowledge of the ATA and IDE protocols is quite limited I'm  
> well out of my depth here and unable to debug without further  
> assistance.
Unless anyone else is seeing the same problem with the same card variant
or you have two cards that do it then there isn't much that can be done
I suspect other than assume the hardware is iffy, rightly or wrongly.
I'd have expected a lot more reports if it were the controller.
(Having said that if you are reading this and your controller is a
Promise and does the same, please say so it might be vital to deducing a
pattern to problems)
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/