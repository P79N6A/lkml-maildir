Date: Mon, 14 Nov 2005 12:56:39 -0700
From: Tom Rini <>
Subject: Re: Linuv 2.6.15-rc1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/14/137

On Sun, Nov 13, 2005 at 09:31:06AM +1100, Benjamin Herrenschmidt wrote:
> 
> > ucSystemType is a variable that is EXPORT_SYMBOL'ed but never used in 
> > any way.
> > 
> > _prep_type is a variable that is needlessly EXPORT_SYMBOL'ed.
> 
> Therse are old PREP stuffs
> 
> > But prep_init points to the real problem:
> > 
> > CONFIG_PPC_PREP requires code from arch/ppc/platforms/, but this 
> > directory is never visited.
> > 
> > What is the correct fix?
> > Migrate the code from arch/ppc/platforms/ to arch/powerpc/platforms/ ?
> 
> Yes, PREP need to be migrated, but that includes adding some minimum
> device-tree support for it among others. And few people still have PREP
> machines, I'm not even sure we have access to one here in ozlabs... I
> think for 2.6.15, we'd better just disable it in .config for
> ARCH=powerpc.
I think we really should just drop _prep_type from being exported.  the
uc* stuff doesn't look to be used, but we can clean that up as its
converted to arch/powerpc.  But I don't think anything out of tree uses
_prep_type (it's used at a very low level, it really couldn't be used at
the modular level).
As an occasional PReP monkey,
Acked-by: Tom Rini <trini@kernel.crashing.org>
-- 
Tom Rini
http://gate.crashing.org/~trini/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/