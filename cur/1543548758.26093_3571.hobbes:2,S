Date: Wed, 13 Sep 2000 10:56:19 +0200 (CEST)
From: willy tarreau <>
Subject: [PATCH] thinko in 2.2.17 task file code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/13/245

Hi Andre,
I remember you were very tired when you wrote this
code. There's a little thinko in it, I believe :
int tasksize = (HDIO_DRIVE_TASK) ?
HDIO_DRIVE_TASK_HDR_SIZE : HDIO_DRIVE_CMD_HDR_SIZE;
should be :
int tasksize = (cmd==HDIO_DRIVE_TASK) ?
HDIO_DRIVE_TASK_HDR_SIZE : HDIO_DRIVE_CMD_HDR_SIZE;
I think this could only cause a 4-bytes overflow when
sending an HDIO_DRIVE_CMD.
anyway, here is the patch attached against
2.2.17-20000904.
Regards,
Willy
___________________________________________________________
Do You Yahoo!?
Achetez, vendez! Ã€ votre prix! Sur 
http://encheres.yahoo.fr
[unhandled content-type:application/x-unknown]