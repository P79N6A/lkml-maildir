Date: Thu, 18 Mar 2004 14:10:35 -0500
From: Chris Mason <>
Subject: Re: 2.6.4-mm2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/18/216

On Thu, 2004-03-18 at 13:48, markw@osdl.org wrote:
> On 18 Mar, Andrew Morton wrote:
> > markw@osdl.org wrote:
> >>
> >> Sorry I'm falling behind...  I see about a 10% decrease in throughput
> >> with our dbt2 workload when comparing 2.6.4-mm2 to 2.6.3.  I'm wondering
> >> if this might be a result of the changes to the pagecache, radix-tree
> >> and writeback code since you mentioned it could affect i/o scheduling in
> >> 2.6.4-mm1.
> > 
> > Could be.  Have you run tests without LVM in the picture?
> 
> No I haven't and I'm hesitant to.  I have 52 single drives in one volume
> and 14 single drives the other.  Because it's PostgreSQL, my options are
> to either run on a single drive (and not be able to drive the system as
> hard) or to reconfigure my drives using hardware raid.  I could do the
> latter if you think it'll help.  It's just a bit time consuming.
> 
It might be more valuable to retest on 2.6.5-rc1-mm2.  I'm assuming
postgres was doing synchronous writes, and 2.6.4-mm2 doesn't really wait
correctly.
-chris
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/