Date: Tue, 10 Apr 2007 11:43:28 +0200
From: Egmont Koblinger <>
Subject: Re: [PATCH] console UTF-8 fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/10/64

On Sat, Apr 07, 2007 at 10:59:19AM -0700, H. Peter Anvin wrote:
> As far as width handling -- in order to make all the text line up under 
> all circumstances you need more than width handling.  [...]
> 
> is is ridiculous.  It's much better to draw a line in the sand and say 
> that this is beyond the scope of the in-kernel Linux console.
Hi,
It seems this is the only detail we don't yet agree on and I'd like to come
to an agreement before I update the patch.
I know that correctly handling all Unicode scripts, including CJK, Hebrew,
Arabic, Indic are a much more complicated story and it's way beyond the
scope of kernel. I don't even know whether there's any graphical user-space
application handling all these issues perfectly. So I really don't want to
address them.
I'd like only one small modification: the cursor to jump two columns for CJK
characters instead of just one. (Either two FFFD's, or rather an FFFD
followed by a space printed.) This would allow you to edit English words
within a mixed CJK-English text file. As my experiences show, such a minor
change in the terminal driver would solve cursor aligning issues in *many*
cases. With this change the console would still be very-very far from being
perfect, it just would be simply better in practice.
(Also note that handling two-column characters is probably amongst the first
things a good text editor implements, while handling RTL and other stuff are
trickier for applications too. I guess there are a plenty of text editors
that handle CJK correctly (provided that the underlying terminal emulator
does so too) but have troubles with combining accents, bidi and other more
complicated stuff.)
Are you still definitely against this change? I see no drawbacks this could
cause, while it would make the console better in some circumstances. I think
this is just a small step towards a better console driver.
-- 
Egmont
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/