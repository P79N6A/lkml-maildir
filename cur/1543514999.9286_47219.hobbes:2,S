Date: Wed, 3 Nov 1999 15:38:53 +0100
From: Jan Echternach <>
Subject: Re: Perform minimal RAM test at boot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/3/93

On Wed, Nov 03, 1999 at 08:31:26AM +0100, Helge Hafting wrote:
> Also note that a non-destructive test is possible.  The commodore 64 had
> that.
> It tested by reading a byte, invert and write it back, test, invert and
> write
> back again.
IIRC it used a slightly different method: Read byte, write 0x55 and test,
write 0xaa and test, write back old byte.
> This preserves data in all cases (except if the test
It destroyed one byte of RAM at address 0xa000, because reading 0xa000
read the 1st byte of the Basic ROM, whereas writing 0xa000 wrote the
40961st byte of RAM.
However, this doesn't matter for the linux kernel because all tested
memory is supposed to be normal RAM, and the test is only a sanity check.
I think the kernel should print a message and halt immediately after the
first address that failed the test, because at that point the kernel
has already made an invalid memory access.
-- 
Jan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/