Date: Tue, 28 Nov 2006 12:14:36 -0800
From: Don Mullis <>
Subject: Re: [PATCH 2/2 -mm] fault-injection: lightweight code-coverage maximizer
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/28/165

On Tue, 2006-11-28 at 18:18 +0900, Akinobu Mita wrote:
> On Mon, Nov 27, 2006 at 11:51:30PM -0800, Don Mullis wrote:
> > Upon keying in
> > 	echo 1 >probability
> > 	echo 3 >verbose
> > 	echo -1 >times
> > a few dozen stacks are printk'ed, then system responsiveness
> > recovers to normal.  Similarly, starting a non-trivial program
> > will print a few stacks before responsiveness recovers.
> 
> What kind of test did you do?
First, waiting a few seconds for the standard FC-6 daemons to wake up.
Then, Xemacs and Firefox.  Not tested on SMP.
> This doesn't maximize code coverage. It makes fault-injector reject
> any failures which have same stacktrace before.
Since the volume of (repeated) dumps is greatly reduced, 
interval/probability can be set more aggressively without crippling
interaction.  This increases the number of error recovery paths covered
per unit of wall clock time.
> Updating array in this way is not safe (SMP or interrupt).
You're right.  Patch forthcoming.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/