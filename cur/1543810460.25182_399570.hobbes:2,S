Date: Tue, 21 Feb 2006 12:48:43 -0500
From: "Mike D. Day" <>
Subject: Re: [ PATCH 2.6.16-rc3-xen 3/3] sysfs: export Xen hypervisor	attributes to sysfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/21/179

Dave Hansen wrote:
> It could be:
> 
> +---sys
>         +---hypervisor
>                 +---type
> 		+---version
>                         +---major
>                         +---minor
>                         +---extra
> 
Yeah, the type file could be useful.
>> +static ssize_t extra_show(struct kobject * kobj,
>> +			  struct attribute * attr,
>> +			  char * page)
>> +{
>> +	char extra_ver[XENVER_EXTRAVERSION_LEN];
> 
> At 1k, this is a wee bit too big to be on the stack.  I'd just kmalloc
> it instead.
This particular constant is 16 bytes so I'll leave it as is. The other 
one (CAPABILTIES_INFO), which is 1k, I did kmalloc as you suggested.
>> +static void xen_compilation_destroy(void)
>> +{
>> +	sysfs_remove_group(c_kobj, &xen_compilation_group);
>> +	kobject_put(c_kobj);
>> +	return;
>> +}
> 
> Yup, this is another excellent function name.
I'll change the others to be as descriptive. Thanks,
Mike Day
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/