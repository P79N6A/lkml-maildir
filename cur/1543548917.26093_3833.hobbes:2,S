Date: Fri, 15 Sep 2000 13:02:46 +0100 (BST)
From: Dominic Sweetman <>
Subject: Re: FPU problems porting 2.4.0 to Algorithmics P4032 MIPS board
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/15/75

Arnold,
> We've got a problem with the foating point support. With either 
> soft or hard FP support, some FP operation generate an exception, 
> e.g. cvt.w.d.
> 
> We tried both with and without support of FPE soft module, 
> compiled for R46xx and R5000 processors (As far as I
> understand there is no difference in FP support in the kernel 
> for these processor types).
> 
> We did not have these problems with the (2.2.12 MIPS Technologies
> based) port we made to this same board.
MIPS CPU floating-point units always give floating point
'unimplemented' exceptions when faced with unpalatable combinations of
operation and operand.  It's their way of telling you to go calculate
it yourself.
The 2.2.12 "MIPS Technologies" port incorporated Algorithmics'
floating point trap handler and FP emulation code to provide correct
IEEE-compatible floating point.  You should either move that on to
2.4.0 or find an equivalent solution.
-- 
Dominic Sweetman
Algorithmics Ltd
The Fruit Farm, Ely Road, Chittering, CAMBS CB5 9PH, ENGLAND
phone: +44 1223 706200 / fax: +44 1223 706250 / 
http://www.algor.co.uk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/