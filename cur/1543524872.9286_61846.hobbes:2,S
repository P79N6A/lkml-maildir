Date: Tue, 8 Feb 2000 02:16:18 +0100 (CET)
From: Andrea Arcangeli <>
Subject: Re: [patch] real fix Re: [patch] fixed lock_super() deadlock (process in D state) (fwd)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/8/7

Minor issue.
A few months ago Linus suggested to do the GFP_IO check inside the dcache
shrink callback. You moved it in the late 2.3.x as I originally
implemented it in early 2.2.x. Since I am looking now into the d/icache
shrinking stuff, should I reverse the change? (or you prefer to skip a
call in the unlikely case that is just sloww since shrink_mmap failed?)
Andrea
---------- Forwarded message ----------
Date: Wed, 24 Feb 1999 16:01:48 -0800 (PST)
From: Linus Torvalds <torvalds@transmeta.com>
To: Andrea Arcangeli <andrea@e-mind.com>
Cc: David Mansfield <david@cobite.com>, David Feuer <david@feuer.his.com>,
     Billy Harvey <RhinoEngineering@thrillseeker.net>,
     Eugene Crosser <crosser@average.org>,
     Dale E. Martin <dmartin@clifton-labs.com>, linux-kernel@vger.rutgers.edu
Subject: Re: [patch] real fix Re: [patch] fixed lock_super() deadlock
    (process in D state)
On Thu, 25 Feb 1999, Andrea Arcangeli wrote:
> 
> Now I know why ;)
Good debugging.
I put the __GFP_IO check inside shrink_dcache_memory() instead (that way
we may eventually decide that we can do _partial_ shrinks even when we
cannot do IO or something if it turns out to be an issue).
But basically it looks obviously correct. Thanks,
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/