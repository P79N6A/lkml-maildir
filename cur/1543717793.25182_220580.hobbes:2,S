Date: Fri, 14 May 2004 18:40:04 +0200
From: Bartlomiej Zolnierkiewicz <>
Subject: arm-lh7a40x IDE support in 2.6.6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/14/125

I was just porting my patches killing <asm/arch/ide.h> for
ARM to 2.6.6 when noticed that more work is needed now. :-(
arch/arm/mach-lh7a40x/ide-lpd7a40x.c
include/asm-arm/arch-lh7a40x/ide.h
Why it couldn't be done in drivers/ide/arm
(as discussed on linux-ide)?
Code from <asm/ide.h> is inlined into IDE core code in far too
many interesting places which greatly increasing complexity/insanity
to anybody trying to understand or change it.
The rule is simple:
	code outside drivers/ide SHOULDN'T need to know about <linux/ide.h>.
WTF everybody wants to be "smart" and abuses it?
[ and then people complain why IDE is so ugly ]
BTW does it even work as IDE polling code is not merged yet?
Bartlomiej
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/