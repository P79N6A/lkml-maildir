Date: Thu, 10 Jul 2003 19:09:18 +0100
From: Christoph Hellwig <>
Subject: Re: [PATCH] add xbox subarchitecture
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/10/209

>  targets		:= vmlinux vmlinux.bin vmlinux.bin.gz head.o misc.o piggy.o
> +ifeq ($(CONFIG_X86_XBOX),y)
> +#XXX Compiling with optimization makes 1.1-xboxen 
> +#    crash while decompressing the kernel
> +CFLAGS_misc.o   := -O0
> +endif
I don't think this should go in until it's clear that it's not a gcc
problem.
> +	if (mach_pci_is_blacklisted(bus,PCI_SLOT(devfn),PCI_FUNC(devfn)))
there's a few space missing..
> +#ifndef __ASM_MACH_PCI_BLACKLIST_H
> +#define __ASM_MACH_PCI_BLACKLIST_H
> +
> +#define mach_pci_is_blacklisted(bus,dev,fn) ( (bus>1) || (bus&&(dev||fn)) || ((bus==0 && dev==0) && ((fn==1)||(fn==2))) )
#define mach_pci_is_blacklisted(bus, dev, fn) \
	((bus > 1) || (bus && (dev || fn)) || \
	((!bus && !dev) && ((fn == 1) || (fn == 2))))
or even better an inline function
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/