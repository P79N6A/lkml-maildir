Date: Tue, 02 Mar 2004 08:18:04 -0700
From: Daniel Robbins <>
Subject: firewire good, USB printing fixed, CD-ROM block device IO errors near end of media
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/2/68

On Tue, 2004-03-02 at 06:09, Paulo Marques wrote:
> Barry K. Nathan wrote:
> 
> > 
> > +		/* We must increment writecount here, and not at the
> > +		 * end of the loop. Otherwise, the final loop iteration may
> > +		 * be skipped, leading to incomplete printer output.
> > +		 */
> 
> I'm affraid this is my fault, for correcting a bug and letting another one take 
> its place :(
> 
> It seems that this patch squashes them both. It should go in ASAP.
Sorry I have been unable to test the fix; Gentoo Linux 2004.0 just got
released and I just became... err... ultra-busy? But it does look like
others who experienced the exact problem I was having now have
functional USB, so I'd expect it to work for me too.
I'm now experiencing kernel problems (apparently this isn't a new thing)
related to how Linux maps a CD-ROM to a block device  -- problems using
dd to verify a burnt CD, where the kernel spits back random IO error
messages as it nears the end of the burned area.
If anyone is interested, you can learn more about the problems in the
following thread (I am experiencing the exact problems of the original
poster.) The posts from Joerg Schilling are probably most helpful in
finding a kernel solution to this problem: 
http://lists.debian.org/cdwrite/2003/cdwrite-200310/threads.html#00009
zisofs makes a filesystem-based verify of a CD quite a time-consuming
and inefficient process (due to seeking,) so it would be nice if a "dd"
or "readcd"-based linear CD verify worked reliably under Linux.
Regards,
Daniel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/