Date: Mon, 26 Feb 2001 21:07:00 +0100
From: "J . A . Magallon" <>
Subject: Re: "io mapaddr 0xXXXXX not valid" in smc-mca in 2.4.x
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/26/50

On 02.26 Stephen Mollett wrote:
> In kernel version 2.4.x (x from 0 to 2-ac3), the
> smc-mca driver gives many errors like the following on
> the console log:
> 
> io mapaddr 0xXXXXX not valid at smc-mca.c:YYY!
> 
> where XXXXX is an address within the shared-memory
> assigned to the adapter card, and YYY is 378, 398 or
> 408.
> 
AFAIK, it is a bug in the driver. That output is generated by
arch/i386/lib/iodebug.c, a routine to catch buggy drivers like that.
Look at 
include/asm-i386/io.h, line 112 or so:
/*
 * Temporary debugging check to catch old code using
 * unmapped ISA addresses. Will be removed in 2.4.
 */
#if CONFIG_DEBUG_IOVIRT
  extern void *__io_virt_debug(unsigned long x, const char *file, int line);
  extern unsigned long __io_phys_debug(unsigned long x, const char *file, int li
ne);
  #define __io_virt(x) __io_virt_debug((unsigned long)(x), __FILE__, __LINE__)
//#define __io_phys(x) __io_phys_debug((unsigned long)(x), __FILE__, __LINE__)
#else
  #define __io_virt(x) ((void *)(x))
//#define __io_phys(x) __pa(x)
#endif
So you should mail driver mantainer, if it is known....
-- 
J.A. Magallon                                                      $> cd pub
mailto:jamagallon@able.es                                          $> more beer
Linux werewolf 2.4.2-ac4 #2 SMP Mon Feb 26 00:21:23 CET 2001 i686
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/