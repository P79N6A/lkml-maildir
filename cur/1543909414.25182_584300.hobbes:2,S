Date: Tue, 14 Aug 2007 08:25:59 -0400
From: James Smart <>
Subject: Re: Linux 2.6.23-rc3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/14/153

fyi....
I've seen these before (and they haven't been specific to the LLDD).
The "-EEXIST" error, was an issue of rescan-while-deleting, and where
refcounts held the old sdevs in place. They were ramant in 2.6.18/2.6.19.
Supposedly, we had patches from Hannes Reinecke. to resolve it, but that
was a while ago.  Additionally, the traps around the attribute containers
are similar. There are still some cases of data structures being freed
(and thus erroneously reused later) in the midlayer and transports
even though the refcounts on child-structures haven't finished.
If you believe these are related to the -rc3 lpfc mods, I recommend
retesting on an -rc2 or 2.6.22 to see how similar they are.
I'll pull in -rc3 and see if I can't see more on my end..
-- james s
Tore Anderson wrote:
>   I gave it a spin, and got quite a few troubles that appears related to
>  the lpfc driver.  I don't know if these problems happened due to the
>  recent update as the latest kernel I ran before was 2.6.20 (where I
>  never saw problems like these).  First I see that something failed when
>  the volumes on the SAN (on a Sun StorageTek 6140 / Engenio 3994) is
>  registered, causing two errors errors such as:
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/