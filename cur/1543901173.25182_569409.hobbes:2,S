Date: Sat, 14 Jul 2007 20:19:47 -0700
From: "H. Peter Anvin" <>
Subject: Re: [PATCH] remove PAGE_SIZE from headers_install
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/14/243

Albert Cahalan wrote:
> 
> A real constant-value PAGE_SIZE is useful and doable.
> 
> It's useful because a getpagesize() can't be used for numerous
> things, such as setting the size of an array.
> 
> It's doable, even on architectures that support multiple page
> sizes, because ABIs specify alignment requirements. There are
> two alignments of interest here:
> 
> a. the smallest that mmap() will ever naturally return on any
>   correct implementation of the architecture's ABI ("naturally"
>   meaning that MAP_FIXED was not used)
> 
> b. the smallest that mprotect() will tolerate on all
>   correct implementations of the architecture
> 
> Pick either to be the Linux definition of PAGE_SIZE.
> 
If you specify it to be one of these, people will mis-use it for the
other.  This is a bad idea.
	-hpa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/