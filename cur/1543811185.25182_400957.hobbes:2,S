Date: Sat, 25 Feb 2006 01:38:35 -0500
From: John Zielinski <>
Subject: VIA Velocity massive memory corruption with jumbo frames
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/25/13

I just bought a stack of Via Velocity network cards to upgrade my 
network.  I also purchased a Netgear GS-108 Gigabit switch which has 
supports for jumbo frames.   When I tried increasing the MTU to 9000 I 
started getting massive memory corruption.   Some of the symptoms were: 
programs failing to load, random oopses, VT freezes, machine freezes, 
filesystem corruption, etc.  It only happened when the machine was 
receiving network traffic.  The RX count would not advance either for 
that interface.
I tried on another machine and got the same thing.  I even set up a 
fresh install of Linux with the latest kernel on a test box and got the 
same.  Dual booting to Windows on that box works perfect with jumbo 
frames as well as the other two Windows machines on the network with the 
same type of card.  I tried three Linux boxes with the same results.  
Each box has different hardware and configurations.   The original 
machine I tried it on is a dual P3-833 machine running 2.6.10 while the 
test box is a Celeron 800 with a clean install of 2.6.15.4.
I also tried an MTU of 3000 instead of 9000 and got the same thing.
Anyone know what I should try next?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/