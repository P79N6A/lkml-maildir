Date: Wed, 14 Feb 2007 10:47:27 +0100
From: "Alessandro Suardi" <>
Subject: Re: Bug in current -git tree causing dbus and gnome to chew up cpu time
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/14/49

On 2/13/07, Greg KH <greg@kroah.com> wrote:
> Hi,
>
> I've used 'git bisect' to track down a change in the latest git tree
> that is causing dbus-daemon to sit and spin at the time GNOME launches,
> preventing nautlius from ever running.
>
> The bad commit is:
> commit eb3dfb0cb1f4a44e2d0553f89514ce9f2a9fcaf1
> Author: Andreas Gruenbacher <agruen@suse.de>
> Date:   Mon Feb 12 00:51:47 2007 -0800
>
>     [PATCH] Fix d_path for lazy unmounts
>
> With that patch out, GNOME startup works just fine.  I have a strace of
> the dbus process running showing the problem, if anyone thinks that will
> help out any.
>
> I'm running pretty new GNOME and dbus here:
>         dbus 1.0.2
>         gnome 2.16.2
>         hal 0.5.7.1
>         nautilus 2.16.3
>
> Any ideas of things I can test?
Just to add a data point, I see the same problem (startx never
 completes, gnome-vfs-daemon keeps getting forked by dbus
 to no end) on 2.6.20-git9 while -git7 is fine, and my pieces are
 from FC6 updates as of two days ago or so:
[asuardi@sandman ~]$ rpm -q dbus gnome-vfs2 hal nautilus
dbus-1.0.1-9.fc6
gnome-vfs2-2.16.2-2.fc6
hal-0.5.8.1-6.fc6
nautilus-2.16.2-7.fc6
Since the patch breaks userspace in a deadly way, I guess
 it should be reverted until an usable version of the fix can
 be found. And yes, I'm up for testing of course.
--alessandro
 "but I thought that I should let you know
  the things that I don't always show
  might not be worth the time it took"
     (Steve Wynn, 'If My Life Was An Open Book')
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/