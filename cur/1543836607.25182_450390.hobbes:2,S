Date: Fri, 04 Aug 2006 16:47:10 -0700
From: "H. Peter Anvin" <>
Subject: Re: [RFC] ELF Relocatable x86 and x86_64 bzImages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/4/360

Dave Jones wrote:
> On Fri, Aug 04, 2006 at 05:14:37PM -0600, Eric W. Biederman wrote:
> 
>  > I guess the practical question is do people see a real performance benefit
>  > when loading the kernel at 4MB?
> 
> Linus claimed lmbench saw some huge wins. Others showed that for eg,
> a kernel compile took the same amount of time, so take from that what you will..
> 
>  > Possibly the right solution is to do like I did on x86_64 and simply remove
>  > CONFIG_PHYSICAL_START, and always place the kernel at 4MB, or something like
>  > that.
>  > 
>  > The practical question is what to do to keep the complexity from spinning
>  > out of control.  Removing CONFIG_PHYSICAL_START would seriously help with
>  > that.
> 
> Given the two primary uses of that option right now are a) the aforementioned
> perf win and b) building kexec kernels, I doubt anyone would miss it once
> we go relocatable ;-)
> 
We DO want the performance gain with a conventional bootloader.  The 
perf win is about the location of the uncompressed kernel, not the 
compressed kernel.
	-hpa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/