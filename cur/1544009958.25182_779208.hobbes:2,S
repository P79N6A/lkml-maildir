Date: Wed, 10 Dec 2008 23:32:49 +0000
From: Daniel Drake <>
Subject: VMI not initializing in certain configurations
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/10/370

Hi Zach,
Thanks for your help on the VMI-related 2.6.27.x regression. I'm hoping
to now pick your mind on a similar but unrelated issue:
Norman has found that with certain kernel configurations, 2.6.27 (plain,
as released by Linus) does not initialize VMI properly, witnessed as
missing initialization messages in the kernel logs. Other configurations
work fine. These are the messages that go missing:
    VMI: Found VMware, Inc. Hypervisor OPROM, API version 3.0, ROM 
version 1.0
    vmi: registering clock event vmi-timer. mult=12582912 shift=22
    Booting paravirtualized kernel on vmi
Do you have any immediate ideas as to what the responsible config 
option(s) might be? It may well be a configuration error, but if that's 
the case then perhaps we could produce a CONFIG_VMI documentation patch 
for that.
Here is the bug report:
https://bugs.gentoo.org/show_bug.cgi?id=250094
Here is the working config:
https://bugs.gentoo.org/attachment.cgi?id=174901&action=view
and here is the broken config:
https://bugs.gentoo.org/attachment.cgi?id=174870&action=view
If you don't have any immediate ideas, say so and hopefully Norman will 
then be able to spend some time "bisecting" the config differences.
cheers
Daniel