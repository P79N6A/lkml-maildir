Date: Wed, 12 Dec 2001 18:49:20 -0800
From: Ryan Cumming <>
Subject: Re: [RFC] Change locking in block_dev.c:do_open()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/12/157

On December 12, 2001 18:40, Torrey Hoffman wrote:
> Ryan Cumming wrote:
> > Why not use a read-write semaphore? The sections that require
> > the module to
> > stay resident use a read lock, and module unloading aquires a
> > write lock. In
> > addition to containing the evil, evil BKL, you might actually
> > get a tangiable
> > scalability gain out of it.
<random sassing snipped>
> With some improvements in this area, massively parallel SMP systems
> could parallelize module loading, and achieve thousands of module
> load/unload operations per second (MLUOPS).
Ha, yes, I can imagine how what I said seemed rather amusing. In case it 
wasn't clear, I mean we should use a read write semaphore to prevent things 
that require the module to be loaded from being -serialized against each 
other-. So, think being able to parellelize the actual -usage- of the 
module's functions. Module unloads would still be serialized, unfortunately ;)
-Ryan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/