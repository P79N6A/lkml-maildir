Date: Tue, 9 Feb 1999 07:50:23 -0500 (EST)
From: "Michael H. Warfield" <>
Subject: Re: Can't compile 2.2.1 - version.h is missing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/9/18

James Stevens enscribed thusly:
> /usr/include/linux/version.h (/usr/src/linux/include/linux/version.h) is
> missing in the distribution of 2.2.1 I got from www.uk.kernel.org and so
> the kernel won't compile - even "make config" won't run.
	No...  This is not right...
	/usr/include/linux/version.h aka [...]/linux/include/linux/version.h
is generated by "make depend" and is not required for "make config".  If
you are getting an error in "make config" it's not because version.h is
missing!  If you are getting an error somewhere else that is complaining
that <linux/version.h> is missing, then you probably moved your kernel
source or unpacked your kernel source and never ran a "make depend" or your
symlink from /usr/include/linux to [...]/linux/include/linux is broken.
] alcove:/usr/src# tar xvzf linux-2.2.1.tar.gz
	:
	:
	:
] alcove:/usr/src# cd linux
] alcove:/usr/src/linux# !fin
] find . -name version.h
] ./arch/i386/math-emu/version.h
] alcove:/usr/src/linux# ls -l /usr/include/linux/version.h
] ls: /usr/include/linux/version.h: No such file or directory
] alcove:/usr/src/linux# make config
	:
	:
	:
] alcove:/usr/src/linux# ls -l /usr/include/linux/version.h
] ls: /usr/include/linux/version.h: No such file or directory
] alcove:/usr/src/linux# make depend
	:
	:
	:
] alcove:/usr/src/linux# ls -l /usr/include/linux/version.h
] -rw-r--r--   1 root     root          125 Feb  9 07:40 /usr/include/linux/version.h
] alcove:/usr/src/linux# 
	Tada!
> The only thing I can see I might be doing wrong is I am running gcc
> v2.7.0 where v2.7.2 is recommended, but I doubt this would fix this
> problem.
	Not sure what your problem is but it isn't what you think it is.
	First principle...  The version.h thing is a red herring.  It is not
distributed with the source distribution tarballs and you do not need it
to run a "make config".  If "make config" is bombing on you, what error
are you getting?
	If you have run a "make config" and "make depend" and STILL get
and error about <linux/version.h> then check your symlink on
/usr/include/linux and make sure it points to /usr/src/linux/include/linux
or where ever your sources REALLY are.
] alcove:/usr/src/linux# ls -l /usr/include/linux
] lrwxrwxrwx   1 root     root           26 Apr 19  1998 /usr/include/linux -> ../src/linux/include/linux
] alcove:/usr/src/linux# 
> James
	Mike
-- 
 Michael H. Warfield    |  (770) 985-6132   |  mhw@WittsEnd.com
  (The Mad Wizard)      |  (770) 925-8248   |  
http://www.wittsend.com/mhw/
  NIC whois:  MHW9      |  An optimist believes we live in the best of all
 PGP Key: 0xDF1DD471    |  possible worlds.  A pessimist is sure of it!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/