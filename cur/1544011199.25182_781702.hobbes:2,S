Date: Wed, 17 Dec 2008 17:33:35 +0000
From: Al Viro <>
Subject: Re: [PATCH] get rid of the last symlink in uml build
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/17/278

On Wed, Dec 17, 2008 at 06:18:00PM +0100, Sam Ravnborg wrote:
> I took a different route here and unified the headers for m68k and m68knommu
> under arch/m68k/include/asm
> It was based on a script originally developed by Arnd Bergmann.
> 
> Geert already acked it, and I expect Greg to apply it in the -rc1 timeframe.
Fine by me...
> > * mn10300 is playing with symlinks - the last one to do that for headers,
> >   AFAICS.
> > 
> > I've thrown together a patch series on top of linux-next doing m68k and
> > mn10300.  *WARNING* - it's completely untested, basically about half an
> > hour diversion from sifting through the mailbox for missed VFS patches.
> > And that half and hour did *not* include anything resembling building
> > the resulting tree.  So take that with a trainload of salt.
> Thanks Al.
> I will take a closer look at the mn10300 bits and send them to David
> in due time.
OK.  FWIW, two more uses of ln I've seen while looking at that stuff
are also fishy:
$(obj)/head.o: $(obj)/$(head-y)
        ln -sf $(head-y) $(obj)/head.o
in arch/m68knommu/platform/683{28,60}/Makefile shouldn't be there at all,
AFAICS - normal kbuild machinery will take care of that just fine (with
ld instead of ln, but who the hell cares?)