Date: 05 Aug 2003 19:00:09 +0200
From: Martin Josefsson <>
Subject: Re: [PATCH] O11int for interactivity
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/5/192

On Tue, 2003-08-05 at 07:55, Andrew Morton wrote:
> Another possibility is that xmms is getting stuck in a read.  The
> anticipatory scheduler is currently rather tuned for throughput.  Judging
> by the vmstat trace which was posted, we have a classic
> read-stream-vs-write-stream going on.  We trade off latency versus
> throughput; perhaps wrongly.  You can decrease latency (at the expense of
> throughput) by decreasing the settings in /sys/block/hda/queue/iosched.
> 
> To a point, it is a nice linear tradeoff, and someone should put the time
> in to tweak and characterise it.
I believe it was my trace wli posted.
No swapping was going on, swappiness set to 30
X was quite jerky and uninteractive during this and sometimes it froze
for up to 5 seconds (the sound usually stopped during the freezing).
Since there wasn't any swapping going on and quite a lot of cpu left we
either have quite some latency when reading back parts of X that
previously got discarded or massive stalls in kernelspace somewhere.
One thing I noticed was that when evolution started checking for new
mail in a lot of folders I get a lot of seeks and the throughput
naturally decreased but X got really responsive again. This points away
from X beeing discarded and read back in from disk since that would take
some time with all those seeks as well.
The machine this was tested on is a pIII 700 with 704MB ram and IDE
disks (everything was against the same disk)
-- 
/Martin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/