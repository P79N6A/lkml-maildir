Date: Mon, 23 Jun 2003 16:04:19 -0400 (EDT)
From: Mike Dresser <>
Subject: Re: xircom card bus with 2.4.20 link trouble
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/23/203

On Sun, 22 Jun 2003, Mike Dresser wrote:
> I will check the exact lspci and hdparm -i when I get to the office
> tomorrow.
# hdparm -i /dev/hda
/dev/hda:
 Model=TOSHIBA MK1301MAV, FwRev=B0.03 A, SerialNo=86O37347
 Config={ HardSect NotMFM HdSw>15uSec Fixed DTR>10Mbs RotSpdTol>.5% }
 RawCHS=2633/16/63, TrkSize=40257, SectSize=639, ECCbytes=21
 BuffType=DualPortCache, BuffSize=128kB, MaxMultSect=16, MultSect=16
 CurCHS=2633/16/63, CurSects=2654064, LBA=yes, LBAsects=2654280
 IORDY=on/off, tPIO={min:120,w/IORDY:120}, tDMA={min:120,rec:120}
 PIO modes: pio0 pio1 pio2 pio3 pio4
 DMA modes: sdma0 sdma1 sdma2 mdma0 mdma1 *mdma2
 AdvancedPM=no
 Drive Supports : Reserved : ATA-1 ATA-2 ATA-3
# lspci -vvv -s 00:14.0
00:14.0 IDE interface: OPTi Inc. 82C621 (rev 12) (prog-if 80 [Master])
        Control: I/O+ Mem- BusMaster+ SpecCycle- MemWINV+ VGASnoop- ParErr+ Stepping- SERR- FastB2B-
        Status: Cap- 66Mhz- UDF- FastB2B+ ParErr- DEVSEL=medium >TAbort- <TAbort- <MAbort- >SERR- <PERR-
        Latency: 0
        Region 4: I/O ports at 3000 [size=16]
and when i hdparm -d 1 /dev/hda
blk: queue c0273700, I/O limit 4095Mb (mask 0xffffffff)
hda: dma_timer_expiry: dma status == 0x21
hda: timeout waiting for DMA
hda: timeout waiting for DMA
hda: (__ide_dma_test_irq) called while not waiting
hda: status error: status=0x58 { DriveReady SeekComplete DataRequest }
It doesn't work with sdma0 or mdma0 either.
/dev/hda:
 Timing buffer-cache reads:   128 MB in  4.38 seconds = 29.22 MB/sec
 Timing buffered disk reads:  64 MB in 20.09 seconds =  3.19 MB/sec
No speed demon there!
Mike
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/