Date: Wed, 24 Apr 2002 01:55:43 -0700
From: Andrew Morton <>
Subject: [patch] remove PG_skip
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/24/37

Remove PG_skip.  Nothing is using it (the change was acked by rmk a
while back)
=====================================
--- 2.5.9/include/linux/page-flags.h~cleanup-050-pg_skip	Wed Apr 24 01:06:14 2002
+++ 2.5.9-akpm/include/linux/page-flags.h	Wed Apr 24 01:06:14 2002
@@ -32,9 +32,6 @@
  * active, inactive_dirty and inactive_clean lists are protected by
  * the pagemap_lru_lock, and *NOT* by the usual PG_locked_dontuse bit!
  *
- * PG_skip is used on sparc/sparc64 architectures to "skip" certain
- * parts of the address space.
- *
  * PG_error is set to indicate that an I/O error occurred on this page.
  *
  * PG_arch_1 is an architecture specific page state bit.  The generic
@@ -62,14 +59,13 @@
 #define PG_active		 7
 
 #define PG_slab			 8	/* slab debug (Suparna wants this) */
-#define PG_skip			10	/* kill me now: obsolete */
-#define PG_highmem		11
-#define PG_checked		12	/* kill me in 2.5.<early>. */
+#define PG_highmem		 9
+#define PG_checked		10	/* kill me in 2.5.<early>. */
+#define PG_arch_1		11
 
-#define PG_arch_1		13
-#define PG_reserved		14
-#define PG_launder		15	/* written out by VM pressure.. */
-#define PG_private		16	/* Has something at ->private */
+#define PG_reserved		12
+#define PG_launder		13	/* written out by VM pressure.. */
+#define PG_private		14	/* Has something at ->private */
 
 /*
  * Per-CPU page acounting.  Inclusion of this file requires
--- 2.5.9/arch/arm/mm/init.c~cleanup-050-pg_skip	Wed Apr 24 01:06:14 2002
+++ 2.5.9-akpm/arch/arm/mm/init.c	Wed Apr 24 01:44:54 2002
@@ -64,18 +64,6 @@ static struct meminfo meminfo __initdata
  */
 struct page *empty_zero_page;
 
-/* This is currently broken
- * PG_skip is used on sparc/sparc64 architectures to "skip" certain
- * parts of the address space.
- *
- * #define PG_skip	10
- * #define PageSkip(page) (machine_is_riscpc() && test_bit(PG_skip, &(page)->flags))
- *			if (PageSkip(page)) {
- *				page = page->next_hash;
- *				if (page == NULL)
- *					break;
- *			}
- */
 void show_mem(void)
 {
 	int free = 0, total = 0, reserved = 0;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/