Date: 10 Dec 2001 11:52:38 +0100
From: Zlatko Calusic <>
Subject: Re: emu10k1 - interrupt storm?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/10/79

Hi! Thanks for the reply!
Rui Sousa <rui.p.m.sousa@clix.pt> writes:
> On 9 Dec 2001, Zlatko Calusic wrote:
> 
> The emu10k1 only generates interrupts when playing pcm sound.
> The interrupt rate depends on the "fragment" size and is usually
> smaller than ~1000interrupts/s (this is 256bytes fragment 48Khz sample 
> rate, 16bit, stereo).
>
OK, if that's so, that means I really have a problem.
> Is it possible there is another device producing these interrupts?
> On-board devices (usb, ...) that you don't use?
> Does this happen with this kernel only?
>
I was into investigating such possibilities, but then I decided to
send an email before I dig deeper. So I'll make some more extensive
checking when I return home, later today (I'm at work now) and report
results.
> Which functions do you see listed? If it's only "emu10k1_interrupt()"
> then the interrupt was not generated by the emu10k1.
I don't have profile output at hand now, but I remember well seeing
emu10k1_waveout_bh() also. I even consulted the source for those two
functions, but audio drivers are, sad to say, not really my area of
expertise. :)
I remind, interrupts are occurring with no music playing at all. In
fact, I'm going to check things again in the single user mode and
report exact profiling data. So as to exclude esd/mixers and other
possible nuisances that could spoil measurements. And also I'm going
to compile kernel without sblive driver to see if interrupts are
present then.
Expect more data soon...
-- 
Zlatko
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/