Date: Tue, 06 Nov 2007 10:04:13 -0700
From: (Eric W. Biederman)
Subject: Re: [GIT PULL] x86 setup: correct booting on 486 (revised)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/6/166

"H. Peter Anvin" <hpa@zytor.com> writes:
> Jeremy Fitzhardinge wrote:
>> H. Peter Anvin wrote:
>>> The ELF note format is sane enough, although it looks like it's not
>>> self-terminating, so we'd either need an offset and a length field, or
>>> adopt the convention that namesz = descsz = type = 0 terminates the
>>> block (I prefer the latter, myself.)
>>
>> Hm, I think offset+length would be better: it's how they're represented
>> in a normal ELF file, so you can just extract the length if you're
>> extracting the notes.  Also, generating a terminating note with the
>> current linker-based notes machinery would be a bit of a pain.
>
> .notes : {
> 	*(.note.*)
> 	. = ALIGN(4);
> 	LONG(0);
> 	LONG(0);
> 	LONG(0);
> }
>
> Am I missing something?
I don't think adding a length any harder.
The all zero note is reserved so using it this way should be ok.
Regardless this sounds like a sane thing to be looking at.
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/