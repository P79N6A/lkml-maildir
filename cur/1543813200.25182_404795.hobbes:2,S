Date: Thu, 9 Mar 2006 08:37:43 +0200
From: Dan Aloni <>
Subject: Re: [PATCH] sata_mv: stabilize for 5081 and other fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/9/18

> Dan> -	MV_MAX_SG_CT		= 176,
> Dan> +	MV_MAX_SG_CT		= 256,
> Dan>  	MV_SG_TBL_SZ		= (16 * MV_MAX_SG_CT),
> Dan> -	MV_PORT_PRIV_DMA_SZ	= (MV_CRQB_Q_SZ + MV_CRPB_Q_SZ + MV_SG_TBL_SZ),
> Dan> +	MV_PORT_PRIV_DMA1_SZ	= (MV_CRQB_Q_SZ + MV_CRPB_Q_SZ),
> Dan> +	MV_PORT_PRIV_DMA2_SZ	= (MV_SG_TBL_SZ),
> 
> I don't like these names for the reagions.  DMA1 and DMA2 mean
> nothing.  Should be be something a little more descriptive?  And a
> comment why you split them up would be good too.
I admit I don't like these names either - however I didn't dedicate
enough time for this patch because I'd like the maintainer(s) to 
give notes about my changes unrelated to coding conventions, but 
thanks anyway.
If this patch is Right (tm) then I'll repost a better-looking version 
of it or let the maintainer(s) implement in the way they see fit.
> Dan> +#pragma pack(1)
>
> I don't see these used anywhere else in the kernel, they should
> probably go.  
It might not affect the packing anyway in this case, but I was 
paranoid when I tried to fix the driver.
> Dan> -/*
> Dan> - * module options
> Dan> - */
> Dan> -static int msi;	      /* Use PCI msi; either zero (off, default) or non-zero */
> Dan> +static int msi;              /* Use PCI msi; either zero (off, default) or non-zero */
Whoops, shouldn't have removed the comment. I guess I'll re-post
anyway.
-- 
Dan Aloni
da-x@monatomic.org, da-x@colinux.org, da-x@gmx.net, dan@xiv.co.il
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/