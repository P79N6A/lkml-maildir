Date: Mon, 10 Dec 2007 17:51:18 -0800
From: "H. Peter Anvin" <>
Subject: Re: RFC: outb 0x80 in inb_p, outb_p harmful on some modern AMD64 with MCP51 laptops
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/10/294

David Newall wrote:
> 
> Exactly.  You think it's 2us, but the documentation doesn't say.  The _p 
> functions are generic inasmuch as they provide an unspecified delay.  
> Drivers which work across platforms, and which use _p, therefore have 
> different delays on different platforms.  Should the length of the delay 
> be unimportant?  I wouldn't have thought so.  If it is important, does 
> that mean that such drivers are buggy on some platforms?
> 
That the _p delay is different across platforms is actually to be 
expected, since it pretty much amounts to a platform delay.  And yes, if 
it is used as a specific walltime delay that has nothing to do with the 
bus architecture of the system then I would classify that as a driver bug.
	-hpa