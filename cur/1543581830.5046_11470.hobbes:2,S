Date: Wed, 14 Feb 2001 11:41:54 +1100
From: Keith Owens <>
Subject: Re: strange bug, alloca suspected
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/13/189

On Tue, 13 Feb 2001 22:10:27 +0100, 
Yann Droneaud <yann.droneaud@iupmime.univ-lemans.fr> wrote:
>Modprobe don't use alloca() correctly, then glibc failed. (stack corruption ?)
>This mail is sent to glibc, gcc and modutils maintainers.
Thanks, modutils bug, not a glibc problem.  Against modutils 2.4.2.
Index: 3.2/insmod/modprobe.c
--- 3.2/insmod/modprobe.c Fri, 19 Jan 2001 17:26:33 +1100 kaos (modutils-2.4/b/10_modprobe.c 1.2 644)
+++ 3.2(w)/insmod/modprobe.c Wed, 14 Feb 2001 11:39:38 +1100 kaos (modutils-2.4/b/10_modprobe.c 1.2 644)
@@ -1503,7 +1503,7 @@ int main(int argc, char *argv[])
 		{"help", 0, 0, 'h'},
 		{0, 0, 0, 0}
 	};
-	int i, l = 0;
+	int i, l = 1;
 	char *command;
 
 	for (i = 0; i < argc; ++i)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/