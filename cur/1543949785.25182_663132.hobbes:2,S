Date: Tue, 4 Mar 2008 00:38:53 -0800
From: Andrew Morton <>
Subject: Re: [patch] x86: phase out forced inlining
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/4/90

On Tue, 4 Mar 2008 09:03:59 +0100 Sam Ravnborg <sam@ravnborg.org> wrote:
> > It would be nice to be able to feed the gcc version into the Kconfig logic,
> > really..
> We can do this using a few environment options.
> 
> Somewhere in a Makefile:
> export CC_MAJOR=`magic`
> export CC_MINOR=`more magic`
> 
> And in a Kconfig file:
> 
> config CC_MAJOR
> 	string
> 	option env=CC_MAJOR
> 
> 
> And then we can do:
> config CC_DEFAULT_INLINE
> 	bool "Force inline of functions annotated inline"
> 	default y if CC_MAJOR = 04
Sounds neat.  I guess we should do HOST_CC too.
> Shall I try to cook up a patch for this?
> [I may get access to my dev box tonight - cannot promise..]
accuracy=1/speed.  There's no rush on this ;)