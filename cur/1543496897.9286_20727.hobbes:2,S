Date: Wed, 26 May 1999 15:38:41 +0200 (CEST)
From: Trond Myklebust <>
Subject: Bad NFS performance with client 2.2.9
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/28/161

>>>>> " " == Thierry Danis <danis@sagem.fr> writes:
     > With 2.2.9 client, the load of the server climbs up to 3 during
     > reading (we have the same with many 2.2.6[-ac?] readers). It
     > used to have a much more reasonnable load with one 2.2.6 client
     > (around 0,5) during reading.
But what is it that is taking time? The fact that the server has a
high load can mean 1 of 2 things: either the client is sending too
many requests, or the server is being too slow in processing requests
and replying. The fact that the reading is bad would tend to favour
the latter.
A tcpdump should be able to determine which of the two is the
problem.
BTW: against our own server with the linux-2.2.9 + the knfsd-1.3.2 +
NFSv3 client patches, I'm now seeing the following results (never been
better):
	IOZONE: Performance Test of Sequential File I/O  --  V2.01 (10/21/94)
		By Bill Norcott
	Operating System: POSIX 1003.1-1990
	Send comments to:	b_norcott@xway.com
	IOZONE writes a 120 Megabyte sequential file consisting of
	15360 records which are each 8192 bytes in length.
	It then reads the file.  It prints the bytes-per-second
	rate at which the computer can read and write files.
Writing the 120 Megabyte file, 'zz'...13.900000 seconds
Reading the file...14.120000 seconds
IOZONE performance measurements:
	9052454 bytes/second for writing the file
	8911410 bytes/second for reading the file
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/