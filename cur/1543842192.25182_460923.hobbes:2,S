Date: Wed, 06 Sep 2006 17:12:20 +0200
From: Christian Schmid <>
Subject: Large Block Devices not supported in 64 bit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/6/169

Hello.
I run kernel 2.6.17.11 vanilla in 64 bit mode with 32 bit emulation.
Unfortunately there is no support for file-systems bigger than 2 TB in 64 bit mode.
erikm in #kernelnewbies told me to report it here:
<Dragony> statfs("/MD2", 0xff8deca4)              = -1 EOVERFLOW (Value too large for defined data type)
<erikm> Dragony: prolly no LBD support
<erikm> Dragony: ah wait, you probably do have support for large block devices, but the 32 bit 
portability syscall forgot to support it
<erikm> Dragony: see block/Kconfig
<Dragony> #XXX - it makes sense to enable this only for 32-bit subarch's, not for x86_64
<Dragony> #for instance.
<Dragony> config LBD
<Dragony>         bool "Support for Large Block Devices"
<Dragony>         depends on X86 || (MIPS && 32BIT) || PPC32 || (S390 && !64BIT) || SUPERH || UML
<Dragony> yes but this option only appears in 32 bit mode not in 64 bit mode
<erikm> Dragony: hence my comment
<Dragony> actually /MD2 is mounted and i can access the files, but not any stats
<erikm> Dragony: it *IS* supported, but not properly backported to the 32 bit compatibility layer
<Dragony> hmm what can i do?
<erikm> Dragony: post to lkml
Can someone help me?
Regards,
Chris
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/