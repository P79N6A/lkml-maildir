Date: Wed, 10 May 2006 21:44:10 -0700
From: Andrew Morton <>
Subject: Re: [PATCH] v9fs: signal handling fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/11/5

Latchesar Ionkov <lucho@ionkov.net> wrote:
>
> +	/* if the request is not sent yet, just remove it from the list */
>  +	list_for_each_entry_safe(rreq, rptr, &m->unsent_req_list, req_list) {
>  +		if (rreq->tag == req->tag) {
>  +			dprintk(DEBUG_MUX, "mux %p req %p request is not sent yet\n", m, req);
>  +			list_del(&rreq->req_list);
>  +			req->flush = Flushed;
>  +			spin_unlock(&m->lock);
>  +			if (req->cb)
>  +				(*req->cb) (req, req->cba);
>  +			return 0;
>  +		}
Actually, list_for_each() would suffice here - the code won't touch the
list again after having modified it.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/