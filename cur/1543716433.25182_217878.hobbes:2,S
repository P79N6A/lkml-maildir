Date: Sun, 2 May 2004 19:01:15 +0100
From: Russell King <>
Subject: Re: strange delays on console logouts (tty != 1)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/2/71

On Sun, May 02, 2004 at 10:53:26AM -0700, Chris Wedgwood wrote:
> On Sun, May 02, 2004 at 11:17:29AM +0100, Russell King wrote:
> 
> > The first one is of particular note, because it is the cause of the
> > GROSS hack in agetty, which according to the comments is also in
> > gdm.
> 
> I've emailed the debian util-linux maintainer about this.
> 
> > I wonder really if the problem was elsewhere, and if Debian wanted
> > to take care of this problem, why they didn't just take the serial
> > line locking solution (really: s/serial line/tty/) and apply it to
> > agetty / gdm.
> 
> It locking really the way to do this?  What's wrong with vhangup?
As I read the original problem, you have gdm running on what it thought
was a free tty at the time.  agetty starts up and takes control of the
tty.
If you vhangup, what does gdm do...  Hopefully it should restart and
find another tty to use, but I'm not convinced this is a really elegant
solution.
Couple that with the way that agetty is supposed to support "dial-in"
lines (according to the man page), and realise that dial-in means modem
and modems can also dial out, so correct locking with (eg) minicom is
probably a good idea _anyway_.
-- 
Russell King
 Linux kernel    2.6 ARM Linux   - 
http://www.arm.linux.org.uk/
 maintainer of:  2.6 PCMCIA      - 
http://pcmcia.arm.linux.org.uk/
                 2.6 Serial core
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/