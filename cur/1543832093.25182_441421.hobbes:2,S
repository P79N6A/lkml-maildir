Date: Thu, 6 Jul 2006 22:10:46 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: Re: Strange Linux behaviour with blocking syscalls and stop signals+SIGCONT
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/7/12

On Fri, 7 Jul 2006, Michael Kerrisk wrote:
> Von: Linus Torvalds <torvalds@osdl.org>
> > On Thu, 6 Jul 2006, Manfred Spraul wrote:
> > > 
> > > Is it necessary that the futex syscall ignores SA_RESTART?
> > 
> > Very possibly. That was definitely the case for "select()" long ago.
> 
> Why was this necesary back then?
I forget the exact details, but certain X applications would stop 
responding, because they would restart their select() system call in their 
main select-loop, rather than go through the loop.
I _think_ it was SIGALARM installed with SA_RESTART (and doing itimers 
every 10 ms), but I didn't really care enough - we had select() return 
ERESTARTSYS for exactly one day back in 199x, and when I figured out what 
broke, it got reverted pronto.
I want to say that the failing app was "oneko" (damn, I should try to find 
if it still exists - brings back memories of an earlier time), but the 
point being that it's enough that one app breaks.
			Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/