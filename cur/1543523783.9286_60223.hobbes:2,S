Date: Thu, 27 Jan 2000 21:26:47 -0800
From: Richard Henderson <>
Subject: Re: arch/i386/kernel/signals.c: recalc_sigpending without spinlock
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/28/39

On Thu, Jan 20, 2000 at 03:05:19PM +0100, Manfred Spraul wrote:
> I think there is an error in do_signal():
> 
>        default:
>             lock_kernel();
>             sigaddset(&current->signal, signr);
>             recalc_sigpending(current);
>             current->flags |= PF_SIGNALED;
>             do_exit(exit_code);
>             /* NOTREACHED */
>       }
> 
> I haven't checked the details of the signal delivery, but it seems that
> the lock_kernel() is superflous...
At least at one time do_exit required the Big Kernel Lock.
r~
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/