Date: Tue, 27 Dec 2005 17:18:00 -0500
From: Dmitry Torokhov <>
Subject: Re: [RFT] Sonypi: convert to the new platform device interface
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/27/135

On 12/27/05, Jan Engelhardt <jengelh@linux01.gwdg.de> wrote:
> >> It does not work here on a SONY VAIO U3. After loading the sonypi module,
> >> neither mev nor showkey return something for the special stuff like
> >> jogwheel, jogbutton or Fn keys respectively.
> >>
> >> Running 2.6.15-rc7, this appeared in the kernel log:
> >> Dec 25 22:06:14 takeshi kernel: sonypi: request_irq failed
> >
> >Just in case I am sending corrected patch.
> >
> Ok now it works. (Just like with the old sonypi :-)
>
The issues enumerated below are existed before my patch, did I
understand this correctly?
> However, there are some things that remain unresolved:
> - the "mousewheel" reports only once every 2 seconds when constantly
>  wheeling (in mev)
> - pressing the jogdial button produces a keyboard event (keycode 158)
>  rather than a mousebutton 3 event
>
158 is KEY_BACK and is generated on type2 models.. If you load the
driver with verbose=1 what does it say when you press jog dial?
> BTW, how can I use the Fn keys on console (keycodes 466-477) for arbitrary
> shell commands?
> Such a feature, among which special combinations like Ctrl+Alt+Del also
> belong, are handled by the kernel which leaves almost no room for
> user-defined userspace action. Any idea?
>
There are daemons that read corersponding /dev/input/eventX and act on
it. The in-kernel keyboard driver ignores keycodes above 255.
--
Dmitry
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/