Date: Mon, 26 Apr 1999 13:35:48 +0200
From: Jan Kara <>
Subject: Re: Bugs in quota code (long) (new)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/26/49

  Hello.
  So I hopefully fixed all bugs I knew about. Now there are only "thing good
to do" about quotas on my todo list. I'm sending gzip of the diff. The changes
are:
    * reset_quota_ptrs() now traverse through inode lists so there should be no
      more unfreed quotas in i-cache.
    * add_inode_ref() restarts after each blocking operation so it should be
      immune against filp list changing under it.
    * added lock so that quota_off() and quota_on() are serialized per device
      (I don't know anyone who would run more than one quota_off() or quota_off()
      and quota_on() at the same time but...). Parallel quota_off() could
      result in nasty things...
    * maybe something else I can't find in my TODO file ;-)
  Test and report ;-).
							Bye Honza.
[unhandled content-type:application/x-gunzip]