Date: Fri, 7 May 2004 14:02:02 +0200
From:  kernel@metro ...
Subject: USB gadgets, small bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/7/58

Hi All,
I don't know where else to report this, but I found a very very very
minor bug in the usb gadgets drivers, specifically the file_storage.c
mass storage driver.
In the function do_request_sense(..) it says:
buf[7] = 18 - 7;                        // Additional sense length
Whereas (according to page 38 of the USB mass storage class, UFI command spec,
http://www.usb.org/developers/devclass_docs#approved
) this clearly neads
to be equal to 10, not 11.
I checked with the 2.6.5 source, it is still there. Hope someone will find this usefull, although most USB hosts seem to ignore length bits alltogether anyway....
Koen Martens
-- 
http://www.sonologic.nl/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/