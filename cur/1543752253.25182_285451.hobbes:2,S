Date: Tue, 11 Jan 2005 22:04:59 +0100
From: Simone Piunno <>
Subject: Re: 2.6.10-mm2: it87 sensor driver stops CPU fan
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/11/222

On Tuesday 11 January 2005 10:26, Jean Delvare wrote:
> What you have here is this default configuration, i.e. all fans are
> supposedly off. Of course it isn't the case, I assume that your fans
> are running at full speed when you turn your computer on. 
Yes, thank you for your analisys.
> Additionally, the first fan control output was turned to manual PWM
> control mode, full speed. The driver supposedly doesn't do that, I
> guess you did it yourself through the sysfs interface?
Of course, sorry.
> > > Do you know what kind of it87 chip you do have? There are three of
> > > them, IT8705F, IT8712F and a SIS950 clone (mostly similar to the
> > > IT8705F).
> See /sys/bus/i2c/devices/0-0290/name. If it says it8712 it's an IT8712F,
> if it says it87 it is a less featured IT8705F or clone. After looking at
pioppo@roentgen ~ $ cat /sys/devices/platform/i2c-0/0-0290/name
it87
> 2* I would then add a check to the it87 driver, which completely disables
> the fan speed control interface if the initial configuration looks weird
> (all fans supposedly stopped and polarity set to "active low"). This
> should protect users of the driver who have a faulty BIOS.
If the driver can perform a similar guess, couldn't it also activate a reverse 
polarity mode as well?  I think all systems boot with with full-speed fan, so 
any value you found at loading time should be the full-speed one, shouln't 
it?
BTW:
  I'm writing a report to giga-byte.
Cheers,
  Simone
-- 
http://thisurlenablesemailtogetthroughoverzealousspamfilters.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/