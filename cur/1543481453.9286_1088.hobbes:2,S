Date: Fri, 22 Jan 1999 17:37:59 +0100 (CET)
From: MOLNAR Ingo <>
Subject: Re: [patch] dynamic buffer cache hash table size
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/22/205

On Fri, 22 Jan 1999, Heinz Mauelshagen wrote:
> The bad performance nearly stays the same, when the buffermem is large 8*(
> Only adding my artificial limitation for the buffermem to limit it
> to for eg. 20M is almost fine.
> 
> The mke2fs of the 12G devices nearly works twice as fast (2:35 minutes
> vs 4:50 minutes) and the command performance only drops from 0.4s real
> to 2.3 real and not to more than 30s real.
> 
> I think that CPU cache trashing with a buffer amount of 200M might
> be the big issue for my performance loss?!
are you using different blocksizes on the same device? If yes then could
you try the latest alpha RAID on pre7-2.2, it fixes a problem with
set_blocksize() that caused a similar slowdown after creating a big
filesystem. (the reason was simply bogus buffers with the wrong size all
around the place) If this is the real reason, then i'll submit this part
of the patch as a bugfix for 2.2. 
-- mingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/