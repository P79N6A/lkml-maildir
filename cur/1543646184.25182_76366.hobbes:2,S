Date: Thu, 3 Oct 2002 22:47:36 -0700
From: "Siddha, Suresh B" <>
Subject: cs4281 driver fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/4/22

Patch below fixes a oops problem (in cs4281 sound driver) during system
reboot.
thanks,
suresh
 diff -Nru linux-2.5.39/sound/oss/cs4281/cs4281m.c~
linux-2.5.39/sound/oss/cs4281/cs4281m.c
--- linux-2.5.39/sound/oss/cs4281/cs4281m.c~    Thu Oct  3 20:56:19 2002
+++ linux-2.5.39/sound/oss/cs4281/cs4281m.c     Thu Oct  3 22:33:16 2002
@@ -4437,7 +4437,7 @@
 // ---------------------------------------------------------------------
-static void __devinit cs4281_remove(struct pci_dev *pci_dev)
+static void __devexit cs4281_remove(struct pci_dev *pci_dev)
 {
        struct cs4281_state *s = pci_get_drvdata(pci_dev);
        // stop DMA controller
@@ -4467,7 +4467,7 @@
        name:"cs4281",
        id_table:cs4281_pci_tbl,
        probe:cs4281_probe,
-       remove:cs4281_remove,
+       remove:__devexit_p(cs4281_remove),
        suspend:CS4281_SUSPEND_TBL,
        resume:CS4281_RESUME_TBL,
 };
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/