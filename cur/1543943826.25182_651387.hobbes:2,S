Date: Sun, 10 Feb 2008 23:57:36 +0100 (CET)
From: Thomas Gleixner <>
Subject: [PATCH] x86: remove over noisy debug printk
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/10/299

pageattr-test.c contains a noisy debug printk that people reported. 
The condition under which it prints (randomly tapping into a mem_map[]
hole and not being able to c_p_a() there) is valid behavior and not
interesting to report.
Remove it.
Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
Acked-by: Ingo Molnar <mingo@elte.hu>
---
 arch/x86/mm/pageattr-test.c |    7 -------
 1 file changed, 7 deletions(-)
Index: linux-2.6/arch/x86/mm/pageattr-test.c
===================================================================
--- linux-2.6.orig/arch/x86/mm/pageattr-test.c
+++ linux-2.6/arch/x86/mm/pageattr-test.c
@@ -40,7 +40,6 @@ struct split_state {
 static int print_split(struct split_state *s)
 {
 	long i, expected, missed = 0;
-	int printed = 0;
 	int err = 0;
 
 	s->lpg = s->gpg = s->spg = s->exec = 0;
@@ -53,12 +52,6 @@ static int print_split(struct split_stat
 
 		pte = lookup_address(addr, &level);
 		if (!pte) {
-			if (!printed) {
-				dump_pagetable(addr);
-				printk(KERN_INFO "CPA %lx no pte level %d\n",
-					addr, level);
-				printed = 1;
-			}
 			missed++;
 			i++;
 			continue;