Date: Sun, 16 Apr 2006 18:19:47 +0400
From: Evgeniy Polyakov <>
Subject: Re: Connector - how to start?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/16/21

On Sun, Apr 16, 2006 at 03:32:02PM +0200, Libor Vanek (libor.vanek@gmail.com) wrote:
> It's really strange... Maybe when I'm trying to send from kernel
> module to user space and kernel moduele is registred with same group
> ID, then it's taken as listener (even when it's not delivered in the
> end...). Maybe I should have one group ID for user => kernel and
> different ID for kernel => user messages?
Message should be received only when it is sent to the same group as
specified at bind(subscribe actually) time, 
I need to investigate this strange issue more
deeply. Current symptom is that netlink messages are delivered  to any
group which process is bound to no matter which one is specified in
netlink header (tested with userspace socket subscribed to group 17, and
kernel sets group number to 1,3,4,5,17 if group number is set to 2 or more
than 5 message is not delivered as expected).
Btw, you need to not only bind to specified group but also to subscribe
to it. This step is described in Documentation/connector/ and requires
one setsockopt call.
> Libor Vanek
-- 
	Evgeniy Polyakov
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/