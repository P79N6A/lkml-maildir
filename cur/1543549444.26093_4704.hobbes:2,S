Date: Fri, 22 Sep 2000 07:39:40 +0200 (CEST)
From: (Arjan van de Ven)
Subject: Re: Question: Using floating point in the kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/22/11

In article <Pine.LNX.3.95.1000920141233.9629A-100000@chaos.analogic.com> you wrote:
> On Wed, 20 Sep 2000, Timur Tabi wrote:
> Well the code does a fnsave. Somebody never looked at the damn book! it
> takes 143 clocks for this, plus at least 3 for fwait.  Then it sets a
> flag to let return code 'know' if the context has to be restored. This
> code `exists` sort of like moss. I don't think it is ever executed and
> if it is, you get to keep both broken pieces.
+--------------------------+-------------+
| non-MMX clear_page       | 2382 cycles | 
| MMX clear_page           |  874 cycles |
+--------------------------+-------------|
| non-MMX copy_page        | 4569 cycles |
| MMX copy_page            | 1748 cycles |
+--------------------------+-------------+
(On a AMD Duron 700Mhz with 2 133Mhz DIMMs)
The numbers above don't include the fnsave. But as you can see the 150
cycles you mention above are still worth it. 
Greetings,
   Arjan van de Ven
< The test program is available at 
http://www.fenrus.demon.nl/athlon.c
 >
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/