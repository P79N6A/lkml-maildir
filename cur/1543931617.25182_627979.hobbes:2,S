Date: Thu, 13 Dec 2007 22:11:22 -0800
From: Darren Hart <>
Subject: Using CONFIG_FUNCTION_TRACE
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/14/10

I was trying to use CONFIG_FUNCTION_TRACE with the example trace-it.c in 
linux/scripts.  On both 2.6.23.9-rt13 and 2.6.24-rc2-rt1 the system 
slower becomes less responsive (measured by typing in ssh and a serial 
console) until after a couple minutes it doesn't respond to anything 
including sysrq, requiring a power cycle.
The trace-it.c program defaults to 10 seconds of tracing, I even tried 
dropping that to 100 us in case it just added so much overhead that 10 
seconds of idle turned into minutes.  But the 100us sleep hung too.
I tested on a 4 way (2x2) opteron.  
I enabled:
CONFIG_EVENT_TRACE
CONFIG_FUNCTION_TRACE
Thanks,
-- 
Darren Hart
IBM Linux Technology Center
Real-Time Linux Team