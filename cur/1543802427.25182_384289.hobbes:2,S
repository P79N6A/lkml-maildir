Date: Tue, 10 Jan 2006 09:28:53 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: 2G memory split
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/10/212

On Tue, 10 Jan 2006, Mark Lord wrote:
>
> So, the patch would now look like this:
Yes, except I think we need to make the "depends on" include !X86_PAE:
> +choice
> +	depends on EXPERIMENTAL
	depends on EXPERIMENTAL && !X86_PAE
since PAE depends on the 3G/1G split (we could make it work for a pure 
2G/2G split, but that's a separate issue, and then we'd need to change the 
CONFIG_PAGE_OFFSET defaults to be something like
	default 0x80000000 if VMSPLIT_2G && X86_PAE
(but that's definitely not appropriate for now - that's a separate issue, 
after somebody has verified that PAE and 2G:2G works)
Also, I think the arch/i386/mm/init.c snippet should just be removed. If 
we make the split configurable, I don't see that we should warn about a 
configuration where you have less memory than the point where the split 
makes sense. A distribution (either something like Fedora _or_ just a 
internal company "standard image") migth decide to use 2G:2G, but not all 
machines might have lots of memory. Warning about it would be silly.
Anyway, this should go into -mm, and I'd rather have it stay there for a 
while. I've got tons of stuff for 2.6.16 already, I'd prefer to not see 
this kind of thing too..
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/