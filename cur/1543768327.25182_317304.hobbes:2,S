Date: Wed, 11 May 2005 11:09:14 +1000
From: Rusty Russell <>
Subject: Re: [ANNOUNCE] hotplug-ng 002 release
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/10/271

On Wed, 2005-05-11 at 02:10 +0200, Marco d'Itri wrote:
> On May 11, Rusty Russell <rusty@rustcorp.com.au> wrote:
> 
> > The other possible solution is for /etc/hotplug.d/blacklist to contain
> > "install xxx /bin/false // install yyy /bin/true //
> > include /etc/modprobe.d" and have hotplug invoke modprobe with
> > --config=/etc/hotplug.d/blacklist.  Substitute names to fit.
> I understand that this modprobe would look for an alias or install
> directive for $MODALIAS, while it's the actual module name which users
> need to blacklist (but I know a few situations in which it would be
> useful to be able to match $MODALIAS on the blacklist too...).
Yes, I'm assuming that the config file/dir used by hotplug would simply
look like:
	# Install commands so hotplug doesn't load some modules.
	# Use /bin/true so modprobe doesn't complain.
	# evbug is a debug tool and should be loaded explicitly
	install evbug /bin/true
To blacklist by aliases, you could use install commands (which, again
undefined, are actually implemented to override alias commands):
	# hotplug thinks that the XYZ driver is great for this card.
	# But that modprobe causes uncomfortable nasal daemons.
	install pci:v1d1dc0sd0bc10sc10i1 /bin/hotplug-warning
If that becomes important, I can document that behaviour and add a test
case for it.
Thanks!
Rusty.
-- 
A bad analogy is like a leaky screwdriver -- Richard Braakman
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/