Date: Tue, 14 Jun 2005 19:36:42 -0400
From: Jon Smirl <>
Subject: Re: Fwd: hpet patches
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/14/218

On 6/14/05, Pallipadi, Venkatesh <venkatesh.pallipadi@intel.com> wrote:
> HPET device itself can be there. But, it can appear in different
> addresses. Most commonly used address is 0xfed00000. But, it can be
> different as well.
Does Intel build different versions of something like an 82801EB with
the HPET at different addresses and still have the same part number?
For a specific part number/PCI ID isn't HPET always in the same place?
If the HPET is going to be in a different place I would expected the
chip would have a different PCI ID.
I would think that the ACPI fixup table would look something like:
ACPI_FIXUP(INTEL, ICH4, hpet_ich4_fixup)
ACPI_FIXUP(INTEL, ICH4M, hpet_ich4m_fixup)
ACPI_FIXUP(INTEL, ICH5, hpet_ich5_fixup)
ACPI_FIXUP(INTEL, ICH6, hpet_ich6_fixup)
hpet_ich4_fixup()
{
     hpet_address = 0xfed00000; or whatever
}
hpet_ich4m_fixup()
{
     hpet_address = 0xfed00000; or whatever
}
hpet_ich5_fixup()
{
     hpet_address = 0xfed00000; or whatever
}
hpet_ich6_fixup()
{
     hpet_address = 0xfed00000; or whatever
}
or something like:
ACPI_FIXUP(INTEL, ICH4, hpet_ich4_fixup)
ACPI_FIXUP(INTEL, ICH4M, hpet_ich4m_fixup)
ACPI_FIXUP(INTEL, ICH5, hpet_standard_fixup)
ACPI_FIXUP(INTEL, ICH6, hpet_standard_fixup)
ACPI_FIXUP(INTEL, ICH6M, hpet_standard_fixup)
with one line for each chip (less than 10?) that Intel has released
containing an HPET.
hpet_standard_fixup()
{
     hpet_address = 0xfed00000;
}
hpet_ich4_fixup()
{
     hpet_address = special case;
}
hpet_ich4m_fixup()
{
     hpet_address = special case;
}
-- 
Jon Smirl
jonsmirl@gmail.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/