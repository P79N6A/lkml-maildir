Date: Tue, 11 Sep 2007 17:48:04 +0900
From: Yoichi Yuasa <>
Subject: Re: [PATCH] leds: add #include <linux/spinlock_types.h> to include/linux/leds.h for rwlock_t
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/11/109

On Mon, 10 Sep 2007 22:04:23 -0700
Andrew Morton <akpm@linux-foundation.org> wrote:
> On Tue, 4 Sep 2007 16:23:45 +0900 Yoichi Yuasa <yoichi_yuasa@tripeaks.co.jp> wrote:
> 
> > 
> > This patch has added #include <linux/spinlock_types.h> to include/linux/leds.h for rwlock_t.
> > 
> > Signed-off-by: Yoichi Yuasa <yoichi_yuasa@tripeaks.co.jp>
> > 
> > diff -pruN -X generic/Documentation/dontdiff generic-orig/include/linux/leds.h generic/include/linux/leds.h
> > --- generic-orig/include/linux/leds.h	2007-09-04 14:59:51.334686250 +0900
> > +++ generic/include/linux/leds.h	2007-09-04 14:56:10.676896000 +0900
> > @@ -13,6 +13,7 @@
> >  #define __LINUX_LEDS_H_INCLUDED
> > 
> >  #include <linux/list.h>
> > +#include <linux/spinlock_types.h>
> > 
> >  struct device;
> >  /*
> 
> I think spinlock_types.h is more an internal implementation detail, and
> that leds.h should be including plain old <linux/spinlock.h>.  Does that
> change also fix whatever build error you were seeing?
Yes it does.
Yoichi
---
This patch has added #include <linux/spinlock.h> to include/linux/leds.h for rwlock_t.
Signed-off-by: Yoichi Yuasa <yoichi_yuasa@tripeaks.co.jp>
diff -pruN -X generic/Documentation/dontdiff generic-orig/include/linux/leds.h generic/include/linux/leds.h
--- generic-orig/include/linux/leds.h	2007-09-11 15:32:22.723667750 +0900
+++ generic/include/linux/leds.h	2007-09-11 15:28:20.696542000 +0900
@@ -13,6 +13,7 @@
 #define __LINUX_LEDS_H_INCLUDED
 
 #include <linux/list.h>
+#include <linux/spinlock.h>
 
 struct device;
 /*
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/