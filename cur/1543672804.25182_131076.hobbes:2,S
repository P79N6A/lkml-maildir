Date: Thu, 8 May 2003 14:00:38 -0700
From: Jonathan Lundell <>
Subject: Re: top stack (l)users for 2.5.69
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/8/214

At 3:05pm -0400 5/8/03, Timothy Miller wrote:
>My suggestion would be that if we do manage to get typical stack 
>usage down to the point where we can go to a 4K stack, then 
>interrupt handlers would have to be rewritten to recognize whether 
>or not the interrupt arrived on a user process kernel stack and then 
>move the context over to the "interrupt stack".  The overhead would 
>be low enough that it's worth doing so that we could reduce process 
>kernel stack size.  Whenever an interrupt service routine is itself 
>interrupted, the interrupt stack check code would realize that it is 
>already using the interrupt stack and not move the context.  Here, 
>then, we would need only one single interrupt stack which we would 
>size for worst case; so if we made it 8 or 12K, that's 8 or 12K once 
>for each CPU which is allowed to receive interrupts, not once per 
>process.
>
>You like?  :)
It makes sense to me. But this thread has gone in a circle, I think.
At 9:20am -0700 5/7/03, Martin J. Bligh wrote:
>There are patches to make i386 do this (and use 4K stacks as a config option)
>from Dave Hansen and Ben LaHaise in 2.5-mjb tree.
(the message context was a separate interrupt stack)
-- 
/Jonathan Lundell.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/