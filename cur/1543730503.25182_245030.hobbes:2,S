Date: Tue, 24 Aug 2004 14:37:23 -0700
From: William Lee Irwin III <>
Subject: Re: 2.6.8.1-mm4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/24/255

On Tue, Aug 24, 2004 at 02:23:45PM -0700, William Lee Irwin III wrote:
> fs/reiser4/plugin/pseudo/pseudo.c: In function `get_rwx':
> fs/reiser4/plugin/pseudo/pseudo.c:603: warning: comparison is always false due to limited range of data type
This one is a real bug.
Index: mm4-2.6.8.1/fs/reiser4/plugin/pseudo/pseudo.c
===================================================================
--- mm4-2.6.8.1.orig/fs/reiser4/plugin/pseudo/pseudo.c	2004-08-23 16:11:19.000000000 -0700
+++ mm4-2.6.8.1/fs/reiser4/plugin/pseudo/pseudo.c	2004-08-24 14:33:40.794688832 -0700
@@ -600,7 +600,7 @@
 			struct iattr newattrs;
 
 			down(&host->i_sem);
-			if (rwx == (mode_t) -1)
+			if (rwx == (umode_t)~0)
 				rwx = host->i_mode;
 			newattrs.ia_mode =
 				(rwx & S_IALLUGO) | (host->i_mode & ~S_IALLUGO);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/