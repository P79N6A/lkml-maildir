Date: Sun, 28 Feb 1999 21:42:17 +0000
From: Sid Boyce <>
Subject: RE: Linux 2.2.2ac5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/28/119

> When compiling 3c509 support as a module and attempting to load it (or
> running depmod -ae), I receive a
>
> unresolved symbol mca_mark_as_unused
>
> I'm putting a EXPORT_SYMBOL(mca_mark_as_unused) into ksyms.c and
> recompiling to see if that is the correct fix.
>
>
> G'day!
	I have had the same problem with the module, the symbol was already in
ksyms.c, somehow it's not recognized.
	Compiling 3c509.c into the kernel, it works.
	There is something strange with modutils-2.1.121 and recent snapshots
here. modules.dep shows the directories, but no modules, it's possible
that something has changed and /etc/modules.conf needs to have them
specified there, I've messed about with a few lines in modules.conf to
no effect, mind you, the documentation about what needs to be in there
is as clear as mud. I can't figure it out as I have all the pre-reqs at
or above those recommended in the Changes file. I've been forced to use
the patched version of modutils-2.1.85 which but for 3c509.o works fine.
[barrabas:~]# lsmod
Module                  Size  Used by
sb                     32788   0 
uart401                 5968   0  [sb]
sound                  57356   0  [sb uart401]
soundcore               2372   5  [sb sound]
ip_masq_portfw          2256   0  (unused)
ip_masq_ftp             2352   0  (unused)
ip_masq_autofw          2208   0  (unused)
dummy                    684   0  (unused)
bsd_comp                3632   0  (unused)
ppp                    18316   0  [bsd_comp]
slip                    5780   0  (unused)
slhc                    4392   0  [ppp slip]
eexpress               11680   1   ** the 3c509 in in the other machine
**
----------------------------------------------------------------------------
Module                  Size  Used by
sb                     32788   0 
uart401                 5968   0  [sb]
sound                  57356   0  [sb uart401]
soundcore               2372   5  [sb sound]
hisax                  95664   1 
isdn                   85868   1  [hisax]
ip_masq_ftp             2352   0 
dummy                    684   0  (unused)
bsd_comp                3632   0 
ppp                    18316   2  [bsd_comp]
slhc                    4392   1  [isdn ppp]
Regards
-- 
... Sid Boyce...Amdahl(Europe)...44-121 422 0375 
Any opinions expressed above are mine and do not necessarily represent
 the opinions or policies of Amdahl Corporation.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/