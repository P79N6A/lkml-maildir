Date: Tue, 16 Nov 1999 10:11:24 +0100 (MET)
From: David Monniaux <>
Subject: 2.2.5 + APM => bad bad bad / ext2fs bug?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/16/27

Hi all,
Here's something that happens sometimes on my laptop:
* the laptop, for some reason, goes into "suspend to RAM";
  this reason can be the insertion of a PCMCIA modem (?)
* it wakes up;
* the hard drive doesn't start, even though the IDE bus gets reset;
* I have to power-cycle it.
Result, half of the times it happens: / is screwed up, most of the times
files from glibc (/lib/libm.so.6 for instance).
I once had fsck tell me there was an internal fsck bug on checking such a
damaged filesystem.
Questions, for APM and ext2fs gurus:
1. Why on earth would a laptop go into suspend to RAM when a modem gets
inserted?
2. Why can't the kernel start the IDE drives sometimes (but not every time
this happens)?
3. Why does the filesystem get so corrupted it triggers internal error
messages and screws up essential files that are never written to?
This didn't happen before I changed the hard drive and upgraded to kernel
2.2.
Please don't tell me to run experiments: this is a machine I do real work
with, so I can't afford to spend my time reinstalling it and fsck'ing. :-)
---
David Monniaux     Tel: +33 1 44 32 20 66    Fax: +33 1 44 32 20 80 
Laboratoire d'informatique de l'École Normale Supérieure,
45 rue d'Ulm - 75230 PARIS cedex 5 - FRANCE
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/