Date: Tue, 26 Jan 1999 15:46:32 -0500 (EST)
From: "Richard B. Johnson" <>
Subject: Re: kernel-2.2.0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/26/172

On Tue, 26 Jan 1999, H. Jia wrote:
> Hello, Sir/Madam:
> 
> I downloded and compiled the new linux kernel v2.2.0 successfully. But
> when I reboot my machine with the new kenel (on a flopy disk, generated by
> make zdisk command), the booting process stops at the following message:
> 
> kernel panic: VFS: Could nor mount root fs...
> 
> I don't know what wrong with it. Can any one help me?
> 
> Thanks!
> 
> Jia
> 
Use rdev to set the root file-system. Here is a shell-script that
I use to make a boot floppy . This assumes that you do a `make bzImage`
first from the /usr/src/linux distribution tree.
#
# This puts a bootable image on the floppy disk using the presently
# mounted root fils-system as the root filesystem.
# Created 21-JAN-1995  Richard B. Johnson
#
cp /usr/src/linux/System.map /
cp /usr/src/linux/arch/i386/boot/bzImage /tmp/vmlinux
ROOTDEV=`df / | cut -d ' ' -f1 | sed -e1d`
echo -n 'Setting root device as ' ; echo ${ROOTDEV}
rdev -R /tmp/vmlinux 1
rdev /tmp/vmlinux ${ROOTDEV}
cp /tmp/vmlinux /dev/fd0 
psupdate
Cheers,
Dick Johnson
                 ***** FILE SYSTEM WAS MODIFIED *****
Penguin : Linux version 2.1.131 on an i686 machine (400.59 BogoMips).
Warning : It's hard to remain at the trailing edge of technology.
Wisdom  : It's not a Y2K problem. It's a Y2Day problem.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/