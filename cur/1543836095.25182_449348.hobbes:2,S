Date: Wed, 02 Aug 2006 17:17:51 +1000
From: Grant Coady <>
Subject: Iomega ATAPI Zip100 problem: 2.4 & 2.6 lilo complains after eject
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/2/57

Hi there,
This might not be kernel issue as it is lilo that complains:
  "Fatal: open /dev/hdc: Input/output error"
After the zip drive has been used.  Issue is present on both 2.6.18-rc3 
and 2.4.33-rc3.  Box is dual SATA with Zip drive alone on secondary IDE.
configs and dmesgs on: 
	<
http://bugsplatter.mine.nu/test/boxen/sempro/>
	<
http://bugsplatter.mine.nu/test/boxen/sempro/2.4.xx/>
AMD SktA Sempron with VIA chipset, slackware-10.2
Steps to reproduce:
root@sempro:~# mount /dev/hdc4 /mnt/hd/
root@sempro:~# ls -l /mnt/hd/
total 29238
-rwxr-xr-x  1 root root    22295 2003-12-08 23:42 config-2.4.23*
-rwxr-xr-x  1 root root 29915976 2003-12-08 23:40 vanilla-2.4.23.tar.bz2*
root@sempro:~# eject /mnt/hd/
Zip100 media pops out
root@sempro:~# vim /etc/lilo.conf		# changing reboot default
root@sempro:~# lilo
Warning: COMPACT may conflict with LBA32 on some systems
Fatal: open /dev/hdc: Input/output error
Push Zip100 media back into drive, ZipDrive light flashes...
root@sempro:~# lilo
Warning: COMPACT may conflict with LBA32 on some systems
Added 2.6.18-rc3a
Added 2.6.17.7a *
Added 2.6.16.27a
Added 2.4.33-rc3
Added 2.4.32-hf32.7
Added 2.4.31-hf32.7
Added 2.4.30-hf32.7
Added Slack-2.4.31
root@sempro:~# lilo -V
LILO version 22.5.9
Is this 'normal' for removable media, a kernel problem or a lilo problem?  
Thanks,
Grant
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/