Date: Mon, 26 Apr 1999 23:51:43 +0300
From: Mikko Hyvarinen <>
Subject: BUG: 2.2.5 /proc/net/dev transmit byte count is bogus
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/26/144

A simple series of commands:
while true; do
sleep 1s
date
cat /proc/net/dev
done > log
The contents of log, after running for a while:
Mon Apr 26 23:42:01 EEST 1999
Inter-|   Receive                                                | 
Transmit
 face |bytes    packets errs drop fifo frame compressed
multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:95663803  346471    0    0    0     0          0         0
95663803  346471    0    0    0     0       0          0
 ippp0:  179848     692    0    0    0     0          0         0
2850506817     952    0    0    0     0       0          0
Mon Apr 26 23:42:02 EEST 1999
Inter-|   Receive                                                | 
Transmit
 face |bytes    packets errs drop fifo frame compressed
multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:95667772  346492    0    0    0     0          0         0
95667772  346492    0    0    0     0       0          0
 ippp0:  183421     703    0    0    0     0          0         0
3063761528     961    0    0    0     0       0          0
Mon Apr 26 23:42:03 EEST 1999
Inter-|   Receive                                                | 
Transmit
 face |bytes    packets errs drop fifo frame compressed
multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:95679545  346555    0    0    0     0          0         0
95679545  346555    0    0    0     0       0          0
 ippp0:  192081     719    0    0    0     0          0         0
3277016239     970    0    0    0     0       0          0
Mon Apr 26 23:42:04 EEST 1999
Inter-|   Receive                                                | 
Transmit
 face |bytes    packets errs drop fifo frame compressed
multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:95679545  346555    0    0    0     0          0         0
95679545  346555    0    0    0     0       0          0
 ippp0:  192796     722    0    0    0     0          0         0
1415531821     972    0    0    0     0       0          0
Mon Apr 26 23:42:05 EEST 1999
Inter-|   Receive                                                | 
Transmit
 face |bytes    packets errs drop fifo frame compressed
multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:95679644  346556    0    0    0     0          0         0
95679644  346556    0    0    0     0       0          0
 ippp0:  193458     724    0    0    0     0          0         0
3849014699     974    0    0    0     0       0          0
Mon Apr 26 23:42:06 EEST 1999
Inter-|   Receive                                                | 
Transmit
 face |bytes    packets errs drop fifo frame compressed
multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:95690290  346607    0    0    0     0          0         0
95690290  346607    0    0    0     0       0          0
 ippp0:  201118     739    0    0    0     0          0         0
2772783452     989    0    0    0     0       0          0
Mon Apr 26 23:42:07 EEST 1999
Inter-|   Receive                                                | 
Transmit
 face |bytes    packets errs drop fifo frame compressed
multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:95691006  346611    0    0    0     0          0         0
95691006  346611    0    0    0     0       0          0
 ippp0:  201829     742    0    0    0     0          0         0
911299034     991    0    0    0     0       0          0
Notice the transmitted byte count of ippp0. All other statistics seem
fine to me. I reloaded the ISDN modules before running the script, which
explains the low statistics for ippp0.
Linux version 2.2.5 (root@morphy.zoo-gate.fi) (gcc version 2.7.2.3) #1
Wed Apr 7 16:58:02 EEST 1999
 11:47pm  up 15 days, 23:43,  0 users,  load average: 0.02, 0.13, 0.11
Please tell me if this has been fixed in later kernels or the ISDN
patches. If not, someone in good terms with the /proc filesystem code
might want to take action.
-Mikko
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/