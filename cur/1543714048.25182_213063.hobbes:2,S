Date: Fri, 09 Apr 2004 18:24:03 -0400
From: Anthony DiSante <>
Subject: 2.6.5 kernel: Unable to mount root fs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/9/103

Hello,
I had been running kernel 2.4.22 on a Slackware 8 system (x86).  I just 
compiled and installed the 2.6.5 kernel from kernel.org.  Now at boot, I get 
a kernel panic:
...
ACPI: (supports S0 S1 S4 S5)
UDF-fs: no partition found (1)
Kernel panic: VFS: Unable to mount root fs on hda1
My IDE disk (/dev/hda) has 3 partitions, all of which are ext3, and I do 
have ext2 and ext3 enabled in the kernel.  Here's all the IDE stuff that 
I've enabled in the kernel config; anything missing?:
CONFIG_IDE=y
CONFIG_BLK_DEV_IDE=y
CONFIG_BLK_DEV_IDEDISK=y
CONFIG_IDEDISK_MULTI_MODE=y
CONFIG_BLK_DEV_IDECD=y
CONFIG_IDE_TASKFILE_IO=y
CONFIG_IDE_GENERIC=y
CONFIG_BLK_DEV_IDEPCI=y
CONFIG_BLK_DEV_IDEDMA_PCI=y
CONFIG_IDEDMA_PCI_AUTO=y
CONFIG_BLK_DEV_IDEDMA=y
CONFIG_IDEDMA_AUTO=y
Here's my lilo.conf:
boot = /dev/hda
vga = 0xf01
image=/boot/bzImage.20031026
   label=2.4.22
   root=/dev/hda1
   read-only
   ramdisk=30000
image=/boot/bzImage.2.6.5
   label=2.6.5
   root=/dev/hda1
   read-only
   ramdisk=30000
The 2.4.22 kernel works fine; the 2.6.5 kernel panics at boot.
I did some searching and found 3 solutions, but none of them worked for me:
- enabled "PC BIOS" support in Partition Types -> Advanced
- added "acpi=no pci=noacpi" on the boot line
- enabled Pseudo filesystems -> /dev file system support (OBSOLETE)
Any ideas?
Thanks,
Anthony
http://nodivisions.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/