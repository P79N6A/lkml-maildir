Date: Wed, 7 Jun 2006 12:33:34 -0600
From: Andreas Dilger <>
Subject: Re: Question regarding ext3 extents+mballoc+delalloc
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/7/154

On Jun 07, 2006  06:50 +0000, Holger Kiehl wrote:
> On Tue, 6 Jun 2006, Andreas Dilger wrote:
> >One of the main reasons this isn't in the kernel yet is that the extents
> >on-disk format is incompatible with the current ext3 on-disk format.
> >That is OK for Lustre because the storage servers are essentially
> >"appliances" that are used in well-controlled environments, but this
> >isn't so good when random users get involved.  The patches couldn't be
> >merged until there was some consensus reached about the extents on-disk
> >format.
>
> Just to ensure that I understand this correctly. The on-disk format is not
> final and it will still change. This means if I use it now I will have
> to reformat the disk when ever the format is changed.
Actually, in the end the format of the current extents is the one that will
be supported by kernel.org kernels.  It may be that there will be another
extents format at some time in the future, but the current format was deemed
good enough for now.
There are still a couple of minor changes that are being worked on, but
a filesystem with the current extents format will be usable in the future.
> As you mention e2fsprogs also needs to be updated:
> 
>    # dumpe2fs -h /dev/md7
>    dumpe2fs 1.38 (30-Jun-2005)
>    dumpe2fs: Filesystem has unsupported feature(s) while trying to open 
>    /dev/md7
>    Couldn't find valid filesystem superblock.
> 
> Are there any patches down loadable, that add support to the e2fsprogs?
Yes, these were posted as part of a whole patch series by Bull to ext2-devel.
You can also download the CFS e2fsprogs-1.38-cfs2 RPMs from
ftp://ftp.lustre.org/pub/lustre/other/e2fsprogs/
Cheers, Andreas
--
Andreas Dilger
Principal Software Engineer
Cluster File Systems, Inc.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/