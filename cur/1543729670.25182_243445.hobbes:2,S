Date: Thu, 19 Aug 2004 14:12:23 -0400
From: Jeff Garzik <>
Subject: Re: new tool:  blktool
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/19/214

Mark Lord wrote:
>  >* I don't mind HDIO_DRIVE_TASK nearly as much as HDIO_DRIVE_CMD,
>  >* since the command protocol is available.
> 
> That's not HDIO_DRIVE_TASKFILE, by the way..  a different beast there.
> 
> HDIO_DRIVE_TASK is just a slightly different form of HDIO_DRIVE_CMD
> for non-data commands (specifically, some SMART commands),
> with a more complete register set being exchanged.
Oops, indeed I meant HDIO_DRIVE_TASKFILE.
Anyway, once the infrastructure for the ATA Pass-thru CDB is implemented 
in libata, it is trivial to implement any of these three HDIO_DRIVE_xxx 
ioctls, using the ioctl data to build a scsi command internally.  A bit 
strange at first glance, but it maximizes the leverage of existing 
kernel infrastructure to send commands, time them out, etc.
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/