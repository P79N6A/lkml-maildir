Date: Sat, 17 Jul 1999 13:19:20 +0200 (CEST)
From: Ingo Molnar <>
Subject: Re: gdb strangness Under 2.3.11-pre1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/17/30

On Tue, 13 Jul 1999, Jeremy Katz wrote:
> Doing some development and using gdb to try to debug seems to be causing
> some sort of kernel problem under 2.3.11-pre1.  When tracing a running
> process, I get to the point where attempting to execute any command yields
> the following.
> 	Trace/breakpoint trap (core dumped)
yes this bug was introduced by the 'many threads' changes in pre-2.3.11. 
The changes are a rather massive rewrite all across x86-land [we got rid
of the one-TSS-one-thread limitation] - i tried to fix all bugs, but i
think this gdb thing remained unfixed. My best guess right now is that
%db7 is being handled incorrectly somehow - although i cannot see how. 
other things that might pop up:
	- possible LDT related bugs - Wine people please watch out.
	- ptrace/strace related bugs
	- possible vm86 related bugs - i tested this rather extensively
	  though. 
[there is another x86 change that went in as well recently with
pre-2.3.11, the 'lazy TLB flush feature' which was planned for quite some
time already - bug the gdb bug predates the lazy-TLB-flush changes. The
lazy-TLB feature lets us cut down on the number of TLB flushes rather
heavily, in a typical x86 Linux box about 80-90% of TLB flushes are now
gone.]
-- mingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/