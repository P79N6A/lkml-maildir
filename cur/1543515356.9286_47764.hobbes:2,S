Date: Mon, 8 Nov 1999 11:19:55 -0700
From: Richard Gooch <>
Subject: Re: devfs v136, ZIP disks and glibc-2.1.2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/8/98

Andreas Jaeger writes:
> >>>>> Richard Gooch writes:
> Richard> You're assuming that a devfs-system will still mount devpts on
> Richard> /dev/pts, which is not necessarily the case (and is actually
> Richard> undesirable). Devfs has a "live" implementation of /dev/pts. In fact,
> Richard> devfs fully implemented a dynamic /dev/pts before devpts even existed.
> 
> Thanks for the clarification.
> 
> Does it always implement /dev/pts?  Can I assume that /dev/pts is
> available and working correctly if devfs is available?
Yes, provided Unix98 ptys are configured into the kernel. There is one
trap, though. Until a week or so ago, devfs patches did not create
/dev/pts until the first slave pty is created. So the robust test with
devfs is:
- statfs ("/dev") and check devfs super magic
- access ("/dev/ptmx")
which will also work for older patches (specifically, those for 2.2.x
kernels).
If both of these are true, Unix98 ptys are fully operational, and
ready to destroy unarmed planets.
				Regards,
					Richard....
Permanent: rgooch@atnf.csiro.au
Current:   rgooch@ras.ucalgary.ca
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/