Date: Tue, 11 Nov 2003 06:14:13 -0800
From: walt <>
Subject: Re: kernel.bkbits.net off the air
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/11/57

Davide Libenzi wrote:
> On Tue, 11 Nov 2003, Nick Piggin wrote:
> 
> 
 >> What happens if the the tree is updated while the client is fetching 
 >> it [using a single LOCKfile method]?
 > Surprise, it breaks :-) Yes, the double file approach is needed
 > (excluding changes to rsync).
Sorry to be so dumb, but it seems to me that the two methods are exactly
equivalent in every way:
A test for file1 != file2 is exactly eqivalent to testing LOCK != NULL.
It's a simple binary TRUE/FALSE test.
What am I missing?  (BTW I'm not arguing against the two-file method.
I just don't understand why it's different.)
Now, if multiple people are updating the tree at the same time then a
simple TRUE/FALSE test provides insufficient information:  you would
then need enough 'bits' of information to count the number of people
updating at the same time.
But this problem is certainly not unique to this group.  Anyone using
a source repository has the same problem to deal with.  Or am I not
with the program here at all?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/