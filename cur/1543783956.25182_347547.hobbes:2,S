Date: Mon, 5 Sep 2005 19:06:58 -0400
From: Kyle Moffett <>
Subject: Re: RFC: i386: kill !4KSTACKS
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/5/256

On Sep 5, 2005, at 18:32:32, Thorild Selen wrote:
> Adrian Bunk <bunk@stusta.de> writes:
>> Please name situations where 8K stacks may be preferred that do not
>> involve binary-only modules.
>
> How about NFS-exporting a filesystem on LVM atop md?  I believe it has
> been mentioned before in discussions that 8k stacks are strongly
> recommended in this case.  Are those issues solved?
I think the worst overflow case anyone found was  
nfs=>xfs=>lvm=>dm=>scsi, if
someone has such a configuration, please retest with current -mm or  
similar.
I think there are several patches in there to resolve the excessive  
stack
usage and a few to do some sort of bio chaining (Instead of recursive  
calls).
I don't remember what underlying hardware was behind the SCSI, but I  
suspect
something like iSCSI or USB would push some extra stack in there for  
stress
testing.
Cheers,
Kyle Moffett
--
I have yet to see any problem, however complicated, which, when you  
looked at
it in the right way, did not become still more complicated.
   -- Poul Anderson
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/