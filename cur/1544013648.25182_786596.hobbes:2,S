Date: Sun, 04 Jan 2009 20:52:49 +0100
From: Mike Galbraith <>
Subject: Re: [PATCH v7 0/8] Tunable sched_mc_power_savings=n
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/4/210

On Sun, 2009-01-04 at 23:49 +0530, Vaidyanathan Srinivasan wrote:
> I am new to sysbench.  I just started few OLTP runs with pgsql. In
> your graph you are plotting and comparing read/write-per-sec and not
> transactions-per-sec.  Both the parameter vary in a similar manner.
> Can you please let me know some background on using the
> read/write-per-sec result for comparison.
It means nothing.  One result is the same as any other.  I prefer low
level read/write but someone else may prefer higher level transactions.
> I assume you have run the above tests on Q6600 box that has single
> quad core package that consist of two dual core CPUs.
Yes.  I can go down from there, but not up.  Oh darn.
>   Can you please
> let me know the sched_domain tree that was build by hacking
> mc_capable().  The effect of sched_mc={1,2} depends on the
> sched groups that was build and their flags.
Hm.  I don't know what you're asking.  I hacked mc_capable only so I
could have the tweakable handy in case there was something I didn't know
about yet (having _just_ jumped in with both feet;)
> As you have mentioned in your data, sched_mc=2 helps recover some
> performance mainly because of NEWIDLE balance.
Yes, odd.
> You have mentioned clients in the x-axis of the graph, what is their
> relation to the number of threads?
I have 4 cores, and 2 caches.  Any relationship is all about cache.
Please feel free to point me to any previous discussion on sysbench
> where the above questions have been discussed.
I haven't seen such.
> Thanks,
> Vaidy
	Cheers,
	-Mike