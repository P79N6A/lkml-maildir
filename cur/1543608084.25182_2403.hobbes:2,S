Date: Wed, 31 Oct 2001 10:32:41 -0800 (PST)
From: "David S. Miller" <>
Subject: Re: [sparc] Weird ioctl() bug in 2.2.19 (fwd)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/31/129

   From: Alex Buell <alex.buell@tahallah.demon.co.uk>
   Date: Wed, 31 Oct 2001 18:28:28 +0000 (GMT)
   On Wed, 31 Oct 2001, David S. Miller wrote:
   
   >   cp src/linux/include/linux/soundcard.h /usr/include/linux/soundcard.h
   
   Unfortunately, these files are identical, which is why it is so strange!
I'm pretty sure the ioctl numbers are wrong, and that is what
is causing the problem.
Print out from your app the ioctl number it uses (you've done
this already) and have the kernel do similar.  If they are different
you know that at least I was on the right track.
It's easy to figure out some value in the kernel without even
rebooting, just add to like some source file:
int foo = IOCTL_VALUE_I_WANT;
Then do "make drivers/sbus/audio/whatever.s"
and look at the assembler file for the value it
ended up using :-)
Franks a lot,
David S. Miller
davem@redhat.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/