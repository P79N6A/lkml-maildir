Date: Thu, 19 Apr 2007 06:53:55 -0700
From: Roland Dreier <>
Subject: Re: dio_get_page() lockdep complaints
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/19/196

 > As I mentioned, the rootfs is on reiser. So something in the boot up
 > scripts may trigger something that gets reiser to run through that path
 > with the wrong locking order. After the box is done booting, the dmesg
 > is clean. I then mount the ext3 fs and run the fio test, the lockdep
 > trace shows up immediately.
Maybe you could add some hack really early on (say at the beginning of
the reiserfs mount code) that took instances of the locks in the
correct order, so you would get a lockdep trace of where the ordering
is violated when it first happens?
 - R.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/