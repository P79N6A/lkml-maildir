Date: Tue, 15 May 2001 14:04:10 -0400
From: Jeff Garzik <>
Subject: Re: LANANA: To Pending Device Number Registrants
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/15/232

Linus Torvalds wrote:
> And my opinion is that the "hot-plugged" approach works for devices even
> if they are soldered down
agreed, as you probably know :)
> Now, if we just fundamentally try to think about any device as being
> hot-pluggable, you realize that things like "which PCI slot is this device
> in" are completely _worthless_ as device identification, because they
> fundamentally take the wrong approach, and they don't fit the generic
> approach at all.
Should I interpret this as you disagreeing with
exporting-bus-info-to-userspace type additions?  ie. some random
get-info ioctl spits out pci_dev->slot_name to userspace.
I believe there are rare cases where this is useful.  When one already
has the /dev node (via an open fd used for ioctl, usually), additionally
you need the bus info to make an association between an active device on
the hardware bus, and an active driver in the kernel.  X could use this
info to figure out which fbdev devices to avoid.  SCSI is already using
similar info, as of 2.4.4, as are net devs.  Userspace apps that diddle
hardware are a definite minority case, but for that case the PCI slot
info is useful.
> This is true to the point that I would not actually think that it is a bad
> idea to call /sbin/hotplug when we enumerate the motherboard devices.
Don't ask for it or you might actually get it.... ;-)  I think having a
pci_driver for northbridge and southbridge devices would make ACPI-free
PM easy and achieveable.
	Jeff
-- 
Jeff Garzik      | Game called on account of naked chick
Building 1024    |
MandrakeSoft     |
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/