Date: Wed, 20 Sep 2006 13:15:54 -0400
From: Mathieu Desnoyers <>
Subject: Re: [PATCH] Linux Kernel Markers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/20/150

* Karim Yaghmour (karim@opersys.com) wrote:
> 
> Masami Hiramatsu wrote:
> > This method is very similar to the djprobe.
> > And I had gotten the same idea to support preemptive kernel.
> ...
> > This means the below code, doesn't this?
> > ---
> > 	jmp 1f /* short jump consumes 2 bytes */
> > 	nop
> > 	nop
> > 	nop
> > 1:
> 
> Actually this is slightly different (and requires more support
> on behalf of the underlying mechanism then what I was suggesting.)
> Basically, as was discussed elsewhere, there is some complex
> mechanisms required for taking care of the case where you got
> an interrupt at, say, the second or third nop. With the
> mechanism I'm suggesting (replacing a 5 byte jmp with a 5 byte
> jmp), the underlying mechanics do not require having to take
> care of the above-mentioned case.
> 
Karim, the jmp already there targets the end of the region : no possible
executioni of the three following nops. Clever :)
Mathieu
OpenPGP public key:              
http://krystal.dyndns.org:8080/key/compudj.gpg
Key fingerprint:     8CD5 52C3 8E3C 4140 715F  BA06 3F25 A8FE 3BAE 9A68 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/