Date: Fri, 12 Feb 1999 12:29:48 +0000 (Local time zone must be set--see zic manual page)
From: Walt Bigelow <>
Subject: HELP: odd happenings with 2.2.1 SMP
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/12/128

Hello all,
I have been geting some odd problems in relation to file access.
Basically a process that opens / removes / or creates files randomly get
stuck in the R state with no WCHAN entry with a ps auxl.  I try to do a
strace -p on the offending process, and strace gets stuck in the T state
with WCHAN = do_signal.
The load avg goes way up, since both cpus are at 100% sys and the TIME
that ps reports for those offending processes are quite high:
R   p0 32:13 rm -R 02.10.99.walt.test 
R   ? 1389:21 afpd -c 20
I also try to kill the process -9 and no luck..  Though I do see that sig
as waiting in /proc for that process.
My question is: how can I tell what func the kernel is in that is causing
this to happen? 
I have 2 scsi controllers.  1 adaptec aha-2940UW and 1 adaptec
aha-2950W.  The second is connected to a 36GB hw raid box and is the
filesystem these processes were using.
This is the 4th or 5th time this has happened with various processes
including rpc.nfsd, afpd, rm, etc, etc.. and the only way around is to
reboot and suffer through 1 or 2 fsck which take 40-60minutes each.
I am running vanilla 2.2.1 SMP on a dual PII/400 256MB Intel mainboard.
Any info is greatly appreciated!
Walt
walt@stimpy.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/