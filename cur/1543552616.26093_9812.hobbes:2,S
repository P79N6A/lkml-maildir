Date: Thu, 26 Oct 2000 14:50:59 +0200 (CEST)
From: Igmar Palsenberg <>
Subject: Re: syslog() blocks on glibc 2.1.3 with kernel 2.2.x
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/26/3

> Perhaps syslogd is not giving higher priority to local messages; if it
> did, maybe it could recover from the deadlock.  But this would not be
> a reliable solution; the only reliable solution is for syslogd to be
> independent of any processes which need to talk to it.
In that case, don't do lookups at all. Let a script do resolving in a
crontab or so.
analog uses a nice solution for this : store hostnames in a file. When it
doesn't know a hostname, look it up. That saves tons of querys.
> > Per chance are you running the name service caching daemon (nscd)?
> 
> No.
> 
> > I'd also guess you aren't disabling fsync() for your sysylog files
> > (it's part of the syslog.conf format) -- this is a conciderable
> > drain on syslogd.
> 
> I see no documentation for such an option in the syslog.conf man page.
> This is with the current Red Hat 6.2 syslogd (package
> sysklogd-1.3.31-17).
There is. see man syslogd(8).
You need to prefix files that don't need to be synced() with a -
>  - Pat
	Igmar
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/