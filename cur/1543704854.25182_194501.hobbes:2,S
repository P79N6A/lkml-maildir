Date: Wed, 28 Jan 2004 23:37:51 +0800 (WST)
From:  raven@themaw ...
Subject: [PATCH 0/8] autofs4-2.6 - to support autofs 4.1.x
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/28/94

In a thread between Mike Waychison, Maneesh Soni and Al Viro the question 
of why the autofs4 expire patch I wrote had not been posted to LKML.
This patch is part of a patch set to support functionality in autofs 
4.1.x user space daemon. They have been in operation in 2.4 for some time 
and I have ported them to 2.6.
Locking requirements are different in 2.6 and so I'm seeking comments and 
suggestions. I have taken a rather heavy handed approach to this in the 
port. For example, the VFS operations that directly change the filesystem, 
such as autofs4_mkdir etc,  hold the inode semaphore on entry so the BKL 
has been removed. I can't see why two locking mechanisms are needed. 
Rather than add locking all over the place, I'm looking for justification 
it's needed, as I don't see it myself.
The patches that follow are also available at:
http://www.kernel.org/pub/linux/kernel/people/raven/autofs4-2.6
Regards
Ian
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/