Date: Mon, 1 Nov 2004 15:07:17 +0100
From: Vojtech Pavlik <>
Subject: Re: Map extra keys on compaq evo
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/1/80

On Mon, Nov 01, 2004 at 02:32:14PM +0100, Pavel Machek wrote:
> Hi!
> 
> > > > > Compaq Evo notebooks seem to use non-standard keycodes for their extra
> > > > > keys. I workaround that quirk with dmi hook.
> > > > > 
> > > > 
> > > > Why don't you just call "setkeycodes" from your init script?
> > > 
> > > In such case I'd need to configure keys at two different places, and
> > > that's ugly. I have to configure these extra keys with "hotkeys"
> > > anyway (input layer does not provide list of keys available, so
> > 
> > It does.
> 
> Really? I know input has ability to say that, but at least on arima
> notebook, evtest definitely prints keys that are not there...
It depends on whether you configure it exactly for your keyboard. In the
default config it's configured for a default keyboard, which includes
all at least a bit standardized keys.
>     Event code 128 (Stop)
>     Event code 140 (Calc)
>     Event code 142 (Sleep)
>     Event code 143 (WakeUp)
>     Event code 150 (WWW)
>     Event code 155 (Mail)
>     Event code 156 (Bookmarks)
>     Event code 157 (Computer)
>     Event code 158 (Back)
>     Event code 159 (Forward)
>     Event code 163 (NextSong)
>     Event code 164 (PlayPause)
>     Event code 165 (PreviousSong)
>     Event code 166 (StopCD)
>     Event code 173 (Refresh)
> ...
> 
> With accurate list "hotkeys" could run with no configuration, but I am
> afraid maintaining accurate list of keys for each keyboard is way too
> much work.
The lists need to be kept _somewhere_, so why not have a userspace
database with a program that loads the description into the kernel at
boot, possibly using DMI as a hint to what keyboard is connected?
-- 
Vojtech Pavlik
SuSE Labs, SuSE CR
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/