Date: Thu, 6 May 1999 17:52:10 -0700
From: (Jim Gettys)
Subject: Re: Overscheduling DOES happen with high web server load.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/6/261

> From: Andrea Arcangeli <andrea@e-mind.com>
> Date: Fri, 7 May 1999 00:06:41 +0200 (CEST)
> To: Phillip Ezolt <ezolt@perf.zko.dec.com>
> Cc: linux-kernel@vger.rutgers.edu, jg@pa.dec.com, greg.tarsa@digital.com
> Subject: Re: Overscheduling DOES happen with high web server load.
> -----
> On Thu, 6 May 1999, Phillip Ezolt wrote:
> 
> >On Thu, 6 May 1999, Andrea Arcangeli wrote:
> >
> >> On Wed, 5 May 1999, Phillip Ezolt wrote:
> >>
> >> Alt. Alpha uses HZ at 1024 so you get a scheduling rate by default 10
> >> times higher than in all other archs.
> >
> >This is interesting.  Is there any reason why alpha is at 1024?
> 
I have a theory: (only Linus, Jay Estebrook, or Jim Paradis may know if 
this theory is good...)
In short: historical (hysterical) reasons...  I have memories, when Ultrix 
was ported to MIPS, and when ports to Alpha were done, that we performed 
experiments to determine at what point running at a higher HZ rate cost 
significant overhead; we turned it up until overhead was no more than 
1% of the CPU (on the slowest system we had of the new type).  This allows 
for better response times and performance measurements in various parts 
of the system (e.g. tasking systems relying on select timeouts, etc.), 
and if there were any performance problems which resulted, they certainly 
got fixed as Ultrix and/or Digital UNIX were shipped.  Given some of the
newer performance registers on recent processors, some of the reason for
liking higher clock tick rates may have gone away.
So theory is therefore that the HZ rate was taken from what Digital
UNIX was using and applied without further thought.
In the days of 1 MIP vaxen, HZ was 60, if I remember: this means that 
the HZ rate is still lower relative to processor speed than it once was 
on old UNIX systems, even at HZ == 1024.
				- Jim
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/