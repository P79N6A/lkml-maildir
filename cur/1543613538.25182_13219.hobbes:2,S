Date: 16 Dec 2001 17:30:47 -0500
From: Robert Love <>
Subject: Re: Is /dev/shm needed?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/16/81

On Sun, 2001-12-16 at 17:02, RaúlNúñez de Arenas Coronado wrote:
>     I don't know if /dev/shm (mounted with shmfs or the newer tmpfs)
> is needed for proper SYSV IPC operation with newer (2.4.16 and newer)
> kernel. Anyone can help?
It is not needed.  /dev/shm mounted with tmpfs is only needed for POSIX
shared memory, which is still fairly rare.  SysV IPC will work fine.
>     Moreover: I want to move my /tmp from disk to tmpfs for speed (I
> make a lot of compiling, so I think it would help). Is this a good
> idea? If so, what size can be appropriate for a small system that is
> not permanently running?
Some say it helps, others don't.  Solaris has a similar feature, and it
seems to work for them.  However, Linux is light and our page-cache
works well.  Not so sure it is ideal.
In other words, if you have memory to spare and the data ought to be
cached, Linux probably will cache it anyhow.  On the other hand, if you
have lots of memory to spare, give it a try.  Mount /tmp or all of /var
in tmpfs.
It is dynamic, so you don't need to specify a size.  If you want to give
a maximum size (probably a good idea), give one.  Depends on what your
tmp usages are and how much free memory you have.
	Robert Love
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/