Date: Wed, 19 Sep 2007 14:23:27 +0100
From: Anton Altaparmakov <>
Subject: Re: [03/17] is_vmalloc_addr(): Check if an address is within the vmalloc boundaries
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/19/116

On 19 Sep 2007, at 10:19, David Rientjes wrote:
> On Wed, 19 Sep 2007, Anton Altaparmakov wrote:
>> Although it may cause a problem as highmem.h also includes mm.h so  
>> a bit of
>> trickery may be needed to get it to compile...
>>
>> I suspect that is_vmalloc_addr() should not be in linux/mm.h at  
>> all and should
>> be in linux/vmalloc.h instead and vmalloc.h should include linux/ 
>> highmem.h.
>> That would be more sensible than sticking a vmalloc related  
>> function into
>> linux/mm.h where it does not belong...
>
> That is why I suggested include/linux/vmalloc.h as its home in the  
> first
> place.  And no, adding an include for linux/highmem.h (and asm/ 
> pgtable.h)
> to linux/vmalloc.h does not work.
I am sure Christoph can figure out somewhere that it will work.   
After all, the code in that function already exists both as another  
function and open coded in several places and compiles fine there...
Best regards,
	Anton
-- 
Anton Altaparmakov <aia21 at cam.ac.uk> (replace at with @)
Unix Support, Computing Service, University of Cambridge, CB2 3QH, UK
Linux NTFS maintainer, 
http://www.linux-ntfs.org/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/