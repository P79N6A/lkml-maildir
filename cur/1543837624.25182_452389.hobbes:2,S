Date: Thu, 10 Aug 2006 11:05:22 -0600
From: (Eric W. Biederman)
Subject: Re: [Fastboot] [CFT] ELF Relocatable x86 and x86_64 bzImages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/10/291

Vivek Goyal <vgoyal@in.ibm.com> writes:
> Apart from this I think something is still off on x86_64. I have not
> been able to make kdump work on x86_64. Second kernel simply hangs.
> Two different machines are showing different results.
>
> - On one machine, it seems to be stuck somewhere in decompress_kernel().
>   Serial console is not behaving properly even with earlyprintk(). Somehow
>   I feel it is some bss corruption even after my changes.
>
> - Other machines seems to be going till start_kernel() and even after
>   that (No messages on the console, all serial debugging) and then
>   either it hangs or jumps back to BIOS.
>
> Will look more into it.
Thanks.
I'm a little disappointed but at this point it isn't a great surprise,
the code is early yet and hasn't had much testing or attention.
I wonder if I have missed something else silly.
As for testing, can you use plain kexec to load the kernel at a
different address?  I'm curious to know if it is something related
to the kexec on panic path or if it is just running at a different
location that is the problem.
I'm back on the namespace stuff this week so it will be a while before
I get back to this.  It doesn't look like I have time to work the whole
patchset at once.  So my current plan is to take as many pieces that
make sense by themselves and push them upstream.  Until we get down to
just the relocatable kernel patches that are outstanding.
Everything was fairly well received on the round of reviews with some
minor nits that needed to be picked.  So I think this is doable.
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/