Date: Sun, 17 Oct 1999 15:31:47 -0400
From: "Joseph Gooch" <>
Subject: RE: IP Masq weirdness
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/17/66

Why does it have to be outside of the ip_masq code?  From what i'm seeing it
seems to be in the masq code itself.  That's the only way i would be able to
telnet and use lynx from the linux machine with the proper ip, and yet any
masq'd machines use the wrong ip.  Or am i wrong?  It seems like the routing
code and such would have to be correct, but that masq is choosing the wrong
external ip, or overriding what the routing code is saying, setting the
masq'd ip to the device ip instead of what the route table says, or i don't
know.
Joseph Gooch
> -----Original Message-----
> From: kuznet@ms2.inr.ac.ru [mailto:kuznet@ms2.inr.ac.ru]
> Sent: Sunday, October 17, 1999 2:43 PM
> To: Juanjo Ciarlante
> Cc: mrwizard@psu.edu; linux-kernel@vger.rutgers.edu
> Subject: Re: IP Masq weirdness
>
>
> Hello!
>
> > 2.2.11 adds a sysctl for route cache flushing:         [Alexey?]
>
> No, it was always present, so that it will not help.
>
> Actually, the only change outside of ip_masq made in 2.2.11 was
> made in ipv4/devinet.c. Try to backout this change and look what
> will occur. If it will help, then it is big puzzle. In this case
> you have to describe your configuration in more details.
>
> Alexey
>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/