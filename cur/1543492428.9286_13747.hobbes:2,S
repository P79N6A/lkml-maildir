Date: Fri, 09 Apr 1999 14:17:17 -0700
From: Thomas Davis <>
Subject: Re: NFSv3 client for Linux-2.2.5 ready for alpha testing...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/9/134

Andrew Schretter wrote:
> 
> FINALLY, I can write from a linux machine via nfs to a Solaris server
> at right around 2 megabytes per second (100MB Lan).  This is acceptable
> since before vers 3 support writing was around 500k/s at best.
> 
Huh?
I don't get this..  Everyone but me appears to have problems writing to
Solaris NFS server!
I get:
              -------Sequential Output-------- ---Sequential Input--
--Random--
              -Per Char- --Block--- -Rewrite-- -Per Char- --Block---
--Seeks---
Client    MB K/sec %CPU K/sec %CPU K/sec %CPU K/sec %CPU K/sec %CPU 
/sec %CPU
2.2.5(1) 1024  1733 31.8  1963  7.1  1563 14.2  2396 45.9  6205 40.1
151.5 11.2
2.2.5(2) 1024  1749 25.3  1478  3.0  1635  6.7  4151 55.6  8404 17.4
137.7  2.3
2.0.36(3)1024   776 10.7   769  1.2   822  3.5  3999 54.9  6149 13.7
360.6 12.5
(1) is a 333/MHZ PII/SMP
(2) is a 400/MHZ PII
(3) is a 400/MHZ PII
Also, the fs that it is writing to is a raid0 array spread across 18
drives..
Now, the one thing I did on the solaris box, was to edit
/etc/init.d/nfs.server, and change the number of NFS server threads to
64.  The default (4) is way, way too low..
I'm planning on trying the v3 patches, but not for at least a week..
-- 
------------------------+--------------------------------------------------
Thomas Davis		| PDSF Project Leader
tadavis@lbl.gov		| 
(510) 486-4524		| "Only a petabyte of data this year?"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/