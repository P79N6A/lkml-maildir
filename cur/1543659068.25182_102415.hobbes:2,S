Date: 12 Jan 2003 00:12:07 +0100
From: Benjamin Herrenschmidt <>
Subject: Re: [PATCH] sl82c105 driver update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/11/197

On Sat, 2003-01-11 at 23:48, Vojtech Pavlik wrote:
> > Note that I think sl82c105 and ide-pmac are the only ones to redo the
> > DMA config on ide_dma_on. Most chipsets only do it on ide_dma_check, but
> > I chosed to do it in ide_dma_on too mostly because I found no way to
> > re-trigger ide_dma_check from hdparm (well, this might have changed
> > since, I have to dbl check).
> 
> Correct, and it seems that if you have automatic DMA disabled in the
> kernel and then use hdparm -d1, this leads to a lot of trouble.
Which is why I did that in the first place on pmac, so that hdparm -d1
gave proper timings in the first place (my firmware does nothing useful
and I hard reset the drives & controller on boot anyway).
-- 
Benjamin Herrenschmidt <benh@kernel.crashing.org>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/