Date: Thu, 23 Feb 2006 21:13:24 +0100
From: Rene Herman <>
Subject: Re: Patch to reorder functions in the vmlinux to a defined order
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/23/275

Linus Torvalds wrote:
> If you want to boot a 4MB machine with the suggested patch, you'd 
> have to enable CONFIG_EMBEDDED (something you'd likely want to do 
> anyway, for 4M machine), and turn the physical start address back
> down to 1MB.
Okay. I suppose the only other option is to make "physical_start" a 
variable passed in by the bootloader so that it could make a runtime 
decision? Ie, place us at min(top_of_mem, 4G) if it cared to. I just 
grepped for PHYSICAL_START and this didn't look _too_ bad.
I'm out of my league here though -- if I remember correctly from some 
reading of the early bootcode I once did, the kernel set up some 
temporary tables first to only cover the first few MB? If so, then I 
guess it would be a significant change.
Seems a bit cleaner though than just hardcoding the address.
> That's one reason I didn't make it 16MB. A 4MB machine is pretty damn
> embedded these days (you'd want to enable EMBEDDED just to turn off
> some other things that make the kernel bigger), but I can imagine
> that real people run Linux/x86 in 16MB as long as they don't run X.
My 386 is happy with its current 16M (it can't cache all of the 32M I 
can physically put in), used to be happy with 8M, and used to boot with 
4M... ofcourse, although it's not very embedded (you should see it) it's 
also not very "real" in that sense ;-)
Love the machine to death, though...
Rene.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/