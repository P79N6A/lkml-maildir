Date: Mon, 23 Apr 2007 06:16:16 -0700 (PDT)
From: Alex Dubov <>
Subject: Re: [mmc] alternative TI FM MMC/SD driver for 2.6.21-rc7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/23/139

--- Sergey Yanovich <ynvich@gmail.com> wrote:
> > > For a typical, non-linux-geek user there are just two states of the device -
> > > available and not available. Ububtu is famous for its end-user support.
> > > They ship your driver since linux-2.6.17. But they pack it in one module.
> > > And that is _much_ easier, then a hotplug script.
> >
> > No, we ship a udev script.
> 
> OK, me bad for using the present tense. But you had a single module
> in Oct 2006, didn't you? And maybe, you would like to post the script.
Here's a simple udev rule that will do what you want:
SUBSYSTEM=="tifm", ACTION=="add", TIFM_CARD_TYPE=="SD", RUN+="/sbin/modprobe tifm_sd"
(just stick it somewhere in the udev rules).
You shall take into consideration that mmc currently lacks uevent support, so mmc_block must be
loaded manually (this is a long pending todo thingy; supposedly it waits for the first sdio
driver). There's no direct dependency of tifm_sd on mmc_block (only on mmc_core).
May be I'll add a modalias entry later so the explicit rule will not be needed.
As a side note: I have some very good reasons for the current driver architecture. You may want to
look them up in the mail archive (I outlined them during the initial driver submission).
__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/