Date: Wed, 20 Nov 2002 19:08:49 -0500 (EST)
From: "Alan Willis" <>
Subject: Strange recurring vm behavior ( I think)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/20/322

  I began a large compile (glibc 2.3.1 + nptl 0.5), on 2.5.48-mm1, and
went about my normal tasks.  After about 3-4 minutes of compilation, my
system noticeably slowed down, mouse jerked around, generally unusably
slow behavior, not as bad as before (didn't last as long), but still
ususable.  I remembered what you said about the scheduler possibly
causing problems.  When I regained control of my system, albeit it was
still slow, after about 60-90 seconds of the 'unusably slow' state, I
reniced the make process I had going from 0 to -19.  System load at this
time was about 10.00 and falling slightly.
   Shortly after (<20 seconds? A bit of guesswork here, my apologies) my
system became slow again and I started a 'vmstat 1', the output of
which is attached.  I waited a while, switched to another console, and
did a 'pkill -9 make', after which my system became just as fast as it
was before I began compiling in the first place. Vmstat output,
slabinfo and meminfo are attached.  I have more memory than I had last
I reported similar slowdown, had 256M, presently have 384M.  I had huge
page support built in last time, I don't have it compiled in now.  I
was running fewer tasks now than I was last I experienced this sort of
slowdown (was using kde 3.0.3 at the time, switched back to
enlightenment 0.16.5, running fewer console sessions as well).
These are the only sysctl changes I make from the defaults of 2.5.48-mm1:
net.ipv4.ip_forward = 0
net.ipv4.conf.default.rp_filter = 1
kernel.core_uses_pid = 1
vm.swappiness = 30
   I don't expect that a compile would slow down my machine so dramatically.
I'd built enlightenment earlier today, it is also a fairly large compile,
and I didn't even notice it.
-alan
[unhandled content-type:application/octet-stream][unhandled content-type:application/octet-stream][unhandled content-type:application/octet-stream][unhandled content-type:application/octet-stream][unhandled content-type:application/octet-stream]