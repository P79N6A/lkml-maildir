Date: Tue, 25 Sep 2001 14:54:33 -0700
From: Tom Rini <>
Subject: Re: question from linuxppc group
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/25/179

On Tue, Sep 25, 2001 at 11:35:57PM +0200, Benjamin Herrenschmidt wrote:
> >We have  a host bridge (plus PIC, mem ctlr, etc.) that is essentially
> >identical
> >for ppc and mips.  Where is the best place to put the code since we
> >don't want to
> >duplicate it for both architectures?
> 
> Well, most of the PCI & interrupt frameworks are mostly arch specific.
> I can't tell for MIPS, but the way you setup a PCI host bridge on PPC
> was written by me and Paulus without looking at MIPS. 
Well, MIPS has been looking at us a bit I know.  Also, the patch that
Mark/Matt did uses the pci_auto stuff for setting up the bridges (iirc
thats what that code is for anyhow :)) and MIPS has been using that
as well of late, tho their gt64120 bits don't look like they use it
right now.
> I don't think there is real need to have common code here. Maybe some
> common definitions (register defs for example) could go into a linux/*.h
> file.
If nothing else, yeah.  And all of the drivers into drivers/.
-- 
Tom Rini (TR1265)
http://gate.crashing.org/~trini/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/