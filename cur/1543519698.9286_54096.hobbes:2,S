Date: Fri, 17 Dec 1999 19:46:45 +0100
From: Bartosz Waszak <>
Subject: 2.3.31: Oops!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/17/127

-- Versions installed: (if some fields are empty or look
-- unusual then possibly you have very old versions)
Linux voyager 2.3.30 #1 Å›ro gru 8 11:13:11 CET 1999 i686 pld
Kernel modules         2.3.7
Gnu C                  2.95.2
Binutils               2.9.5.0.21
Linux C Library        2.1.2
Dynamic linker         ldd (GNU libc) 2.1.2
Linux C++ Library      /../
Procps                 2.0.6
Mount                  2.10c
Net-tools              1.53
Console-tools          0.3.3
Sh-utils               2.0
Sh-utils               Parker.
Sh-utils               
Sh-utils               Inc.
Sh-utils               NO
Sh-utils               PURPOSE.
Modules Loaded         floppy ide-cd cdrom isofs ne2k-pci 8390 ipv6 nls_iso8859-2 nls_cp852 vfat fat
ksymoops 0.7c on i686 2.3.31.  Options used
     -V (specified)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -O (specified)
     -M (specified)
DEBUG (main): level 2
DEBUG (read_env): default KSYMOOPS_NM=/usr/bin/nm
DEBUG (read_env): default KSYMOOPS_FIND=/usr/bin/find
DEBUG (read_env): default KSYMOOPS_OBJDUMP=/usr/bin/objdump
DEBUG (re_compile): '^([0-9a-fA-F]{4,}) +([^ ]) +([^ ]+)$' 3 sub expression(s)
DEBUG (re_compile): '^ *\[*<([0-9a-fA-F]{4,})>\]* *' 1 sub expression(s)
DEBUG (re_compile): '^ *<\[([0-9a-fA-F]{4,})\]> *' 1 sub expression(s)
DEBUG (re_compile): '^ *([0-9a-fA-F]{4,}) *' 1 sub expression(s)
DEBUG (read_ksyms): /proc/ksyms
DEBUG (re_compile): '^([0-9a-fA-F]{4,}) +([^ ]+)( +\[([^ ]+)\])?$' 4 sub expression(s)
DEBUG (re_compile): '^(.*)_R(smp_)?[0-9a-fA-F]{8,}$' 2 sub expression(s)
DEBUG (re_compile): '^(__insmod_.*)(_O(.*)_M([0-9a-fA-F]+)_V(-?[0-9]+)|_S(.*)_L([0-9]+))' 7 sub expression(s)
DEBUG (add_Version): ne2k-pci 131871 2.3.31
DEBUG (add_Version): 8390 131871 2.3.31
DEBUG (add_Version): nls_iso8859-2 131871 2.3.31
DEBUG (add_Version): nls_cp852 131871 2.3.31
DEBUG (add_Version): vfat 131871 2.3.31
DEBUG (add_Version): fat 131871 2.3.31
DEBUG (ss_sort_na): ne2k-pci
DEBUG (ss_compress): table ne2k-pci, before 11
DEBUG (ss_compress): table ne2k-pci, after 11
DEBUG (ss_compress): table ne2k-pci, before 11
DEBUG (ss_compress): table ne2k-pci, after 11
DEBUG (ss_sort_na): 8390
DEBUG (ss_compress): table 8390, before 15
DEBUG (ss_compress): table 8390, after 15
DEBUG (ss_compress): table 8390, before 15
DEBUG (ss_compress): table 8390, after 15
DEBUG (ss_sort_na): nls_iso8859-2
DEBUG (ss_compress): table nls_iso8859-2, before 11
DEBUG (ss_compress): table nls_iso8859-2, after 11
DEBUG (ss_compress): table nls_iso8859-2, before 11
DEBUG (ss_compress): table nls_iso8859-2, after 11
DEBUG (ss_sort_na): nls_cp852
DEBUG (ss_compress): table nls_cp852, before 11
DEBUG (ss_compress): table nls_cp852, after 11
DEBUG (ss_compress): table nls_cp852, before 11
DEBUG (ss_compress): table nls_cp852, after 11
DEBUG (ss_sort_na): vfat
DEBUG (ss_compress): table vfat, before 17
DEBUG (ss_compress): table vfat, after 17
DEBUG (ss_compress): table vfat, before 17
DEBUG (ss_compress): table vfat, after 17
DEBUG (ss_sort_na): fat
DEBUG (ss_compress): table fat, before 51
DEBUG (ss_compress): table fat, after 51
DEBUG (ss_compress): table fat, before 51
DEBUG (ss_compress): table fat, after 51
DEBUG (ss_sort_na): ksyms_base
DEBUG (ss_compress): table ksyms_base, before 910
DEBUG (ss_compress): table ksyms_base, after 910
DEBUG (ss_compress): table ksyms_base, before 910
DEBUG (ss_compress): table ksyms_base, after 910
DEBUG (read_ksyms): ne2k-pci used 11 out of 20 entries
DEBUG (read_ksyms): 8390 used 15 out of 20 entries
DEBUG (read_ksyms): nls_iso8859-2 used 11 out of 20 entries
DEBUG (read_ksyms): nls_cp852 used 11 out of 20 entries
DEBUG (read_ksyms): vfat used 17 out of 20 entries
DEBUG (read_ksyms): fat used 51 out of 60 entries
DEBUG (read_ksyms): ksyms_base used 910 out of 1081 entries
DEBUG (expand_objects): using /lib/modules/2.3.31/misc/ne2k-pci.o for ne2k-pci
DEBUG (expand_objects): using /lib/modules/2.3.31/misc/8390.o for 8390
DEBUG (expand_objects): using /lib/modules/2.3.31/fs/nls_iso8859-2.o for nls_iso8859-2
DEBUG (expand_objects): using /lib/modules/2.3.31/fs/nls_cp852.o for nls_cp852
DEBUG (expand_objects): using /lib/modules/2.3.31/fs/vfat.o for vfat
DEBUG (expand_objects): using /lib/modules/2.3.31/fs/fat.o for fat
DEBUG (expand_objects): all ksyms modules map to specific object files
DEBUG (read_nm_symbols): command '/usr/bin/nm /lib/modules/2.3.31/misc/ne2k-pci.o'
DEBUG (read_nm_symbols): /lib/modules/2.3.31/misc/ne2k-pci.o used 16 out of 20 entries
DEBUG (ss_sort_na): /lib/modules/2.3.31/misc/ne2k-pci.o
DEBUG (ss_compress): table /lib/modules/2.3.31/misc/ne2k-pci.o, before 16
DEBUG (ss_compress): table /lib/modules/2.3.31/misc/ne2k-pci.o, after 16
DEBUG (ss_compress): table /lib/modules/2.3.31/misc/ne2k-pci.o, before 16
DEBUG (ss_compress): table /lib/modules/2.3.31/misc/ne2k-pci.o, after 16
DEBUG (read_nm_symbols): command '/usr/bin/nm /lib/modules/2.3.31/misc/8390.o'
DEBUG (read_nm_symbols): /lib/modules/2.3.31/misc/8390.o used 30 out of 30 entries
DEBUG (ss_sort_na): /lib/modules/2.3.31/misc/8390.o
DEBUG (ss_compress): table /lib/modules/2.3.31/misc/8390.o, before 30
DEBUG (ss_compress): table /lib/modules/2.3.31/misc/8390.o, after 30
DEBUG (ss_compress): table /lib/modules/2.3.31/misc/8390.o, before 30
DEBUG (ss_compress): table /lib/modules/2.3.31/misc/8390.o, after 30
DEBUG (read_nm_symbols): command '/usr/bin/nm /lib/modules/2.3.31/fs/nls_iso8859-2.o'
DEBUG (read_nm_symbols): /lib/modules/2.3.31/fs/nls_iso8859-2.o used 15 out of 20 entries
DEBUG (ss_sort_na): /lib/modules/2.3.31/fs/nls_iso8859-2.o
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/nls_iso8859-2.o, before 15
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/nls_iso8859-2.o, after 15
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/nls_iso8859-2.o, before 15
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/nls_iso8859-2.o, after 15
DEBUG (read_nm_symbols): command '/usr/bin/nm /lib/modules/2.3.31/fs/nls_cp852.o'
DEBUG (read_nm_symbols): /lib/modules/2.3.31/fs/nls_cp852.o used 16 out of 20 entries
DEBUG (ss_sort_na): /lib/modules/2.3.31/fs/nls_cp852.o
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/nls_cp852.o, before 16
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/nls_cp852.o, after 16
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/nls_cp852.o, before 16
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/nls_cp852.o, after 16
DEBUG (read_nm_symbols): command '/usr/bin/nm /lib/modules/2.3.31/fs/vfat.o'
DEBUG (read_nm_symbols): /lib/modules/2.3.31/fs/vfat.o used 55 out of 60 entries
DEBUG (ss_sort_na): /lib/modules/2.3.31/fs/vfat.o
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/vfat.o, before 55
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/vfat.o, after 55
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/vfat.o, before 55
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/vfat.o, after 55
DEBUG (read_nm_symbols): command '/usr/bin/nm /lib/modules/2.3.31/fs/fat.o'
DEBUG (read_nm_symbols): /lib/modules/2.3.31/fs/fat.o used 195 out of 211 entries
DEBUG (ss_sort_na): /lib/modules/2.3.31/fs/fat.o
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/fat.o, before 195
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/fat.o, after 195
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/fat.o, before 195
DEBUG (ss_compress): table /lib/modules/2.3.31/fs/fat.o, after 195
DEBUG (read_lsmod): /proc/modules
DEBUG (re_compile): '^ *([^ ]+) *([^ ]+) *([^ ]+) *(.*)$' 4 sub expression(s)
DEBUG (ss_sort_na): lsmod
DEBUG (ss_compress): table lsmod, before 6
DEBUG (ss_compress): table lsmod, after 6
DEBUG (ss_compress): table lsmod, before 6
DEBUG (ss_compress): table lsmod, after 6
DEBUG (read_lsmod): lsmod used 6 out of 10 entries
DEBUG (merge_maps): 
DEBUG (ss_sort_na): Version_
DEBUG (ss_compress): table Version_, before 6
DEBUG (ss_compress): table Version_, after 6
DEBUG (ss_compress): table Version_, before 6
DEBUG (ss_compress): table Version_, after 6
DEBUG (compare_Version): Version 2.3.31
DEBUG (map_ksyms_to_modules): ksyms ne2k-pci matches to /lib/modules/2.3.31/misc/ne2k-pci.o based on modutils assist
DEBUG (adjust_object_offsets): ne2k-pci c9024050 c9024fe4 c9024900
DEBUG (compare_maps): ne2k-pci vs /lib/modules/2.3.31/misc/ne2k-pci.o, ne2k-pci takes precedence
DEBUG (map_ksyms_to_modules): ksyms 8390 matches to /lib/modules/2.3.31/misc/8390.o based on modutils assist
DEBUG (adjust_object_offsets): 8390 c9021050 c90228d0 c9021fc0
DEBUG (compare_maps): 8390 vs /lib/modules/2.3.31/misc/8390.o, 8390 takes precedence
DEBUG (map_ksyms_to_modules): ksyms nls_iso8859-2 matches to /lib/modules/2.3.31/fs/nls_iso8859-2.o based on modutils assist
DEBUG (adjust_object_offsets): nls_iso8859-2 c901f04c c901f0a0 c901f092
DEBUG (compare_maps): nls_iso8859-2 vs /lib/modules/2.3.31/fs/nls_iso8859-2.o, nls_iso8859-2 takes precedence
DEBUG (map_ksyms_to_modules): ksyms nls_cp852 matches to /lib/modules/2.3.31/fs/nls_cp852.o based on modutils assist
DEBUG (adjust_object_offsets): nls_cp852 c901d04c c901d0a0 c901d092
DEBUG (compare_maps): nls_cp852 vs /lib/modules/2.3.31/fs/nls_cp852.o, nls_cp852 takes precedence
DEBUG (map_ksyms_to_modules): ksyms vfat matches to /lib/modules/2.3.31/fs/vfat.o based on modutils assist
DEBUG (adjust_object_offsets): vfat c9019050 c901b360 c901ae80
DEBUG (compare_maps): vfat vs /lib/modules/2.3.31/fs/vfat.o, vfat takes precedence
DEBUG (map_ksyms_to_modules): ksyms fat matches to /lib/modules/2.3.31/fs/fat.o based on modutils assist
DEBUG (adjust_object_offsets): fat c9010050 c9016a40 c9015140
DEBUG (compare_maps): fat vs /lib/modules/2.3.31/fs/fat.o, fat takes precedence
DEBUG (append_map): ksyms_base to merged
DEBUG (append_map): /lib/modules/2.3.31/misc/ne2k-pci.o to merged [ne2k-pci]
DEBUG (append_map): /lib/modules/2.3.31/misc/8390.o to merged [8390]
DEBUG (append_map): /lib/modules/2.3.31/fs/nls_iso8859-2.o to merged [nls_iso8859-2]
DEBUG (append_map): /lib/modules/2.3.31/fs/nls_cp852.o to merged [nls_cp852]
DEBUG (append_map): /lib/modules/2.3.31/fs/vfat.o to merged [vfat]
DEBUG (append_map): /lib/modules/2.3.31/fs/fat.o to merged [fat]
DEBUG (ss_sort_atn): merged
DEBUG (ss_compress): table merged, before 1300
DEBUG (ss_compress): table merged, after 1300
DEBUG (ss_sort_atn): merged
DEBUG (ss_compress): table merged, before 1300
DEBUG (ss_compress): table merged, after 1260
DEBUG (find_fullpath): /usr/sbin/ksymoops
DEBUG (re_compile): '^( +|[^ ]{3} [ 0-9][0-9] [0-9]{2}:[0-9]{2}:[0-9]{2} [^ ]+ kernel: +|<[0-9]+>)' 1 sub expression(s)
DEBUG (re_compile): '^((Stack: )|(Stack from )|([0-9a-fA-F]{4,})|(Call Trace: )|(\[*<([0-9a-fA-F]{4,})>\]* *)|(Version_[0-9]+)|(Trace: )|(Call backtrace:)|(bh:)|<\[([0-9a-fA-F]{4,})\]> *|Process .*stackpage=|Code *: |Kernel panic|In swapper task|Corrupted stack page|invalid operand: |Oops: |Cpu: +[0-9]|current->tss|\*pde +=|EIP: |EFLAGS: |eax: |esi: |ds: |CR0: |wait_on_|irq: |pc[:=]|68060 access|Exception at |d[04]: |Frame format=|wb [0-9] stat|push data: |baddr=|Arithmetic fault|Instruction fault|Bad unaligned kernel|Forwarding unaligned exception|: unhandled unaligned exception|pc *=|r[0-9]+ *=|gp *=|spinlock stuck|tsk->|PSR: |[goli]0: |Instruction DUMP: |TSTATE: |[goli]4: |Caller\[|CPU\[|MSR: |TASK = |last math |GPR[0-9]+: |\$[0-9 ]+:|epc |Status:|Cause :|Backtrace:|Function entered at|\*pgd =|Internal error|pc :|sp :|r[0-9][0-9 ]:|Flags:|Control:)' 12 sub expression(s)
DEBUG (re_compile): 'Unable to handle kernel|Aiee|die_if_kernel|\([0-9]\): Oops |: memory violation|: Exception at|: Arithmetic fault|: Instruction fault|: arithmetic trap|: unaligned trap|\([0-9]+\): (Whee|Oops|Kernel|.*Penguin|BOGUS)|kernel pc |trap at PC: |bad area pc |NIP: | ra *=' 1 sub expression(s)
DEBUG (re_compile): '^(i[04]: |Instruction DUMP: |Caller\[)' 1 sub expression(s)
invalid operand: 0000
DEBUG (re_compile): '^PSR: [0-9a-fA-F]+ PC: ([0-9a-fA-F]{4,}) *' 1 sub expression(s)
DEBUG (re_compile): '^TSTATE: [0-9a-fA-F]{16} TPC: ([0-9a-fA-F]{4,}) *' 1 sub expression(s)
DEBUG (re_compile): '(kernel pc |trap at PC: |bad area pc |NIP: )([0-9a-fA-F]{4,}) *' 2 sub expression(s)
DEBUG (re_compile): '^epc *:+ *([0-9a-fA-F]{4,}) *' 1 sub expression(s)
DEBUG (re_compile): '^(EIP: +.*|PC *= *|pc *: *)\[*<([0-9a-fA-F]{4,})>\]* *' 2 sub expression(s)
DEBUG (re_compile): '^spinlock stuck at ([0-9a-fA-F]{4,}) *.*owner.*at ([0-9a-fA-F]{4,}) *' 2 sub expression(s)
DEBUG (re_compile): 'ra *=+ *([0-9a-fA-F]{4,}) *' 1 sub expression(s)
DEBUG (re_compile): '^[io][04]: [0-9a-fA-F iosp:]+ ([io]7|ret_pc): ([0-9a-fA-F]{4,}) *' 2 sub expression(s)
DEBUG (re_compile): '^((Call Trace: )|(Trace: )|(\[*<([0-9a-fA-F]{4,})>\]* *)|(Call backtrace:)|([0-9a-fA-F]{4,}) *|Function entered at (\[*<([0-9a-fA-F]{4,})>\]* *)|Caller\[([0-9a-fA-F]{4,}) *\]|(<\[([0-9a-fA-F]{4,})\]> *))' 12 sub expression(s)
DEBUG (re_compile): '^((Instruction DUMP)|(Code *)): +((general protection.*)|(<[0-9]+>)|(([<(]?[0-9a-fA-F]+[>)]? +)+[<(]?[0-9a-fA-F]+[>)]?))(.*)$' 9 sub expression(s)
CPU:    0
EIP:    0010:[<c90120cb>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010286
eax: 0000001a   ebx: 00000000   ecx: 00000018   edx: 00000023
esi: 00000001   edi: c45e87c0   ebp: c45c0420   esp: c4645e30
ds: 0018   es: 0018   ss: 0018
Process smbd (pid: 2601, stackpage=c4645000)
Stack: 00000066 c4645e90 00000200 00000400 00000200 c012c766 c45e87c0 00000001
       c45c0420 00000001 00000000 00000200 00000000 c45e87c0 c45bc000 c45c0480
       00000200 00000000 00000000 00000000 00000001 00000000 c45e87c0 c45c0420
Call Trace: [<c012c766>] [<c012cb03>] [<c0122a7b>] [<c012a15a>] [<c010acc0>]
Code: 0f 0b 83 c4 0c 0f b7 47 20 80 4d 18 30 66 89 45 0c 89 5d 04
DEBUG (Oops_decode): 
DEBUG (re_compile): '^([<(]?)([0-9a-fA-F]+)[)>]? *' 2 sub expression(s)
DEBUG (Oops_objdump): command '/usr/bin/objdump -dhf /tmp/filePsHTbb'
DEBUG (Oops_decode): 
DEBUG (re_compile): '^ *([0-9a-fA-F]+)( <_XXX[^>]*>)?:(.* +<_XXX\+0?x?([0-9a-fA-F]+)> *$)?.*' 4 sub expression(s)
DEBUG (Oops_decode): /tmp/filePsHTbb:     file format elf32-i386
DEBUG (Oops_decode): architecture: i386, flags 0x00000010:
DEBUG (Oops_decode): HAS_SYMS
DEBUG (Oops_decode): start address 0x00000000
DEBUG (Oops_decode): 
DEBUG (Oops_decode): Sections:
DEBUG (Oops_decode): Idx Name          Size      VMA       LMA       File off  Algn
DEBUG (Oops_decode):   0 .text         00000040  00000000  00000000  00000040  2**4
DEBUG (Oops_decode):                   CONTENTS, ALLOC, LOAD, READONLY, CODE
DEBUG (Oops_decode): Disassembly of section .text:
DEBUG (Oops_decode): 
DEBUG (Oops_decode): 00000000 <_XXX>:
DEBUG (Oops_decode):    0:   0f 0b                     ud2a   
DEBUG (Oops_decode):    2:   83 c4 0c                  add    $0xc,%esp
DEBUG (Oops_decode):    5:   0f b7 47 20               movzwl 0x20(%edi),%eax
DEBUG (Oops_decode):    9:   80 4d 18 30               orb    $0x30,0x18(%ebp)
DEBUG (Oops_decode):    d:   66 89 45 0c               mov    %ax,0xc(%ebp)
DEBUG (Oops_decode):   11:   89 5d 04                  mov    %ebx,0x4(%ebp)
DEBUG (Oops_decode):         ...
DEBUG (Oops_format): 
>>EIP; c90120cb <[fat]fat_get_block+bb/d8>   <=====
Trace; c012c766 <block_write_full_page+222/468>
Trace; c012cb03 <block_write_cont_page+b7/264>
Trace; c0122a7b <generic_file_write+2b3/1c70>
Trace; c012a15a <sys_close+452/a14>
Trace; c010acc0 <__up_wakeup+16e4/2518>
Code;  c90120cb <[fat]fat_get_block+bb/d8>
00000000 <_EIP>:
Code;  c90120cb <[fat]fat_get_block+bb/d8>   <=====
   0:   0f 0b                     ud2a      <=====
Code;  c90120cd <[fat]fat_get_block+bd/d8>
   2:   83 c4 0c                  add    $0xc,%esp
Code;  c90120d0 <[fat]fat_get_block+c0/d8>
   5:   0f b7 47 20               movzwl 0x20(%edi),%eax
Code;  c90120d4 <[fat]fat_get_block+c4/d8>
   9:   80 4d 18 30               orb    $0x30,0x18(%ebp)
Code;  c90120d8 <[fat]fat_get_block+c8/d8>
   d:   66 89 45 0c               mov    %ax,0xc(%ebp)
Code;  c90120dc <[fat]fat_get_block+cc/d8>
  11:   89 5d 04                  mov    %ebx,0x4(%ebp)
-- 
 -=[   Bartosz Waszak   ]--[                                              ]=-
-==[  waszi@pld.org.pl  ]==[               Star Trek Lives!               ]==-
 -=[ Linux User #153066 ]--[                                              ]=-
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/