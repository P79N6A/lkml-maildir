Date: Mon, 11 Mar 2002 10:01:50 +0200 (SAST)
From: Zwane Mwaikambo <>
Subject: Few questions about 2.5.6-pre3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/11/46

Has anyone come across the following bootime bugs?
2.5.6-pre3 UP:
  init_idle(current, smp_processor_id());
        /*
         *      We count on the initial thread going ok
         *      Like idlers init is an unlocked kernel thread, which will
         *      make syscalls (and thus be locked).
         */
        smp_init();
			<=== [1]
        /* Do the rest non-__init'ed, we're now alive */
        rest_init();
[1] If i don't put a busy loop or a printk there the machine pukes in 
do_page_fault when we try and down_read(&mm->mmap_sem); The dump shows 
that current is an invalid pointer and has crazy PID and other fields.
2.5.6-pre3 SMP:
This one is a funny one, it dies *right* after mtrr_init, and even if i 
put a BUG() after mtrr_init, it never gets executed. This one happens to 
die in the scheduler when we try and release_kernel_lock(prev, 
smp_processor_id()) It already is released so we trigger an Oops in 
spinlock.h:107
Thanks,
	Zwane Mwaikambo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/