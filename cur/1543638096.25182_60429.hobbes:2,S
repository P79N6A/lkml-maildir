Date: Wed, 31 Jul 2002 13:30:08 -0700
From: Aaron Lehmann <>
Subject: ATAPI CD-R lags system to hell burning in DAO mode; but not in TAO
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/31/14

I've got a Teac CD-W524E 24x CD-R writer, and ever since I got it
several months ago I have had the somewhat annoying issue that burning
a cd Disc-At-Once makes the system unusable during the burn. The X
cursor jerks, repaints take forever, etc. This problem doesn't occur
when burning Track-At-Once - I'm unable to notice any significant
increase in system latency when using that mode.
The burner is the only IDE device in the system, and it is the primary
master on the primary IDE controller, which is a SiS 5513. It's in
UDMA2 mode. I'm using ide-scsi emulation, of course. All 2.4 kernels
that I have tried exhibit this problem, including 2.4.17 and
2.4.18-ac3. It does not matter whether I burn with cdrdao or with
cdrecord -dao - both lag the system like crazy. I noticed that turning
on 32-bit I/O with hdparm helps immensely. This reduces the lag
significantly. Setting unmaskirq seems to help a lot too. However, I'm
still not satisfied. In particular, burning over NFS in DAO mode is
not practical (the data rate simply can't be sustained), even though I
can burn TAO CDs fine over NFS.
My friend has a Plextor PX-W2410A burner with similar specifications,
and it has the same symptoms as I do. I believe he has a VIA IDE
chipset.
I'd like to know if there's a workaround for the problem, and if not,
what tools and/or methods I can use to track down the source of the
noninteractivity so that a kernel hacker can fix it. The machine has
half a gigabyte of RAM, never swaps, and reports 2916.35 bogomips. I
think it should be able to burn CDs without too much sweat.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/