Date: Tue, 05 Feb 2008 12:58:56 -0800
From: "Kok, Auke" <>
Subject: Re: PCIE ASPM support hangs my laptop pretty often
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/5/404

Greg KH wrote:
> On Tue, Feb 05, 2008 at 10:46:23AM -0800, Arjan van de Ven wrote:
>> On Tue, 5 Feb 2008 18:40:04 +0100
>> ???????????? ??????????????????????  <penguinista@mail.net.mk> wrote:
>>
>>> I've patched my kernel with the PCIe ASPM and after setting
>>> echo powersave > /sys/module/pcie_aspm/parameters/policy
>>>
>>> I started to experience random hangs of my laptop.
>>> Hardware info:
>>> Thinkpad x60s 1704-5UG
>> the x60's chipset doesn't support ASPM properly afaik... bad idea.
> 
> Well, the code shouldn't then cause a crash of the machine :)
The user enabled it specifically (where it is disabled by default)
ASPM has been crashing e1000(e), which is why I've recently merged a patch to
disable L1 ASPM for the onboard 82573 nic on those platforms.
this new infrastructure should work in the default configuration - enabling ASPM
where this system leaves it disabled is expected to give problems unless you know
what you are doing.
Auke