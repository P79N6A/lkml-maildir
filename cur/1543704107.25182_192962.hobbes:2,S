Date: Thu, 22 Jan 2004 10:29:48 +0100
From: Oliver Kiddle <>
Subject: Re: page allocation failure
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/22/46

Mike Fedyk wrote:
> On Tue, Jan 20, 2004 at 06:08:34PM +0100, Oliver Kiddle wrote:
> > the message about the tape device. As suggested by Mike Fedyk, I had
> > the nmi_watchdog stuff enabled. Didn't see any output from it though.
> > Would that have displayed its output to the console?
> 
> It should have.  Run cat /proc/interrupts and again afew seconds later, does
> the NMI: number change?
Yes, the number changes. Still haven't seen any output from it though.
> There should be some lines above this in your log...
Only the trace for other processes. Any initial part was lost, probably
because the task list overflowed the dmesg buffer. I didn't see anything
on the console though.
I got a few page allocation errors yesterday. As they now include
dump_stack() output, I have attached them below. This time, the system
kept going for a few minutes after these error messages. Again, when it
locked up, killing all processes with the sysrq key got things temporarily
back. I have the full dmesg output if anyone wants.
Oliver
st0: Block limits 1 - 16777215 bytes.
xfsdump: page allocation failure. order:9, mode:0xd0
Call Trace:
 [<c0132d18>] __alloc_pages+0x2db/0x319
 [<c02a5dc9>] enlarge_buffer+0xcf/0x182
 [<c02a6cd9>] st_map_user_pages+0x37/0x88
 [<c02a2909>] setup_buffering+0xf3/0x127
 [<c02a3690>] st_read+0xe0/0x3d1
 [<c0147625>] vfs_read+0xb0/0x119
 [<c01478a0>] sys_read+0x42/0x63
 [<c0108ab7>] syscall_call+0x7/0xb
xfsdump: page allocation failure. order:8, mode:0xd0
Call Trace:
 [<c0132d18>] __alloc_pages+0x2db/0x319
 [<c02a5dc9>] enlarge_buffer+0xcf/0x182
 [<c02a6cd9>] st_map_user_pages+0x37/0x88
 [<c02a2909>] setup_buffering+0xf3/0x127
 [<c02a3690>] st_read+0xe0/0x3d1
 [<c0147625>] vfs_read+0xb0/0x119
 [<c01478a0>] sys_read+0x42/0x63
 [<c0108ab7>] syscall_call+0x7/0xb
xfsdump: page allocation failure. order:7, mode:0xd0
Call Trace:
 [<c0132d18>] __alloc_pages+0x2db/0x319
 [<c02a5dc9>] enlarge_buffer+0xcf/0x182
 [<c02a6cd9>] st_map_user_pages+0x37/0x88
 [<c02a2909>] setup_buffering+0xf3/0x127
 [<c02a3690>] st_read+0xe0/0x3d1
 [<c0147625>] vfs_read+0xb0/0x119
 [<c01478a0>] sys_read+0x42/0x63
 [<c0108ab7>] syscall_call+0x7/0xb
st0: Incorrect block size.
xfsdump: page allocation failure. order:9, mode:0xd0
Call Trace:
 [<c0132d18>] __alloc_pages+0x2db/0x319
 [<c02a5dc9>] enlarge_buffer+0xcf/0x182
 [<c02a6cd9>] st_map_user_pages+0x37/0x88
 [<c02a2909>] setup_buffering+0xf3/0x127
 [<c02a2b86>] st_write+0x20c/0x7e7
 [<c0115ecb>] do_page_fault+0x120/0x501
 [<c02a297a>] st_write+0x0/0x7e7
 [<c01477f5>] vfs_write+0xb0/0x119
 [<c0147903>] sys_write+0x42/0x63
 [<c0108ab7>] syscall_call+0x7/0xb
xfsdump: page allocation failure. order:8, mode:0xd0
Call Trace:
 [<c0132d18>] __alloc_pages+0x2db/0x319
 [<c02a5dc9>] enlarge_buffer+0xcf/0x182
 [<c02a6cd9>] st_map_user_pages+0x37/0x88
 [<c02a2909>] setup_buffering+0xf3/0x127
 [<c02a2b86>] st_write+0x20c/0x7e7
 [<c0115ecb>] do_page_fault+0x120/0x501
 [<c02a297a>] st_write+0x0/0x7e7
 [<c01477f5>] vfs_write+0xb0/0x119
 [<c0147903>] sys_write+0x42/0x63
 [<c0108ab7>] syscall_call+0x7/0xb
xfsdump: page allocation failure. order:7, mode:0xd0
Call Trace:
 [<c0132d18>] __alloc_pages+0x2db/0x319
 [<c02a5dc9>] enlarge_buffer+0xcf/0x182
 [<c02a6cd9>] st_map_user_pages+0x37/0x88
 [<c02a2909>] setup_buffering+0xf3/0x127
 [<c02a2b86>] st_write+0x20c/0x7e7
 [<c0115ecb>] do_page_fault+0x120/0x501
 [<c02a297a>] st_write+0x0/0x7e7
 [<c01477f5>] vfs_write+0xb0/0x119
 [<c0147903>] sys_write+0x42/0x63
 [<c0108ab7>] syscall_call+0x7/0xb
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/