Date: Sat, 29 Jan 2000 00:10:26 +0100
From: Jens Axboe <>
Subject: Re: missing include in drivers/cdrom/cdrom.c (kernel 2.3.40)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/29/47

On Sat, Jan 29 2000, Jesper Juhl wrote:
> Hi,
> 
> I noticed that "drivers/cdrom/cdrom.c" complains about an implicit
> declaration of register_disk() - which makes sense as it does not
> #include <linux/blkdev.h> . The patch below fix this tiny problem (it's
> against 2.3.40).
> 
> 
> --- linux-2.3.40/drivers/cdrom/cdrom.c Wed Jan 19 03:54:21 2000
> +++ linux-2.3.40jj/drivers/cdrom/cdrom.c Sat Jan 29 00:19:05 2000
> @@ -227,6 +227,7 @@
>  #include <linux/sysctl.h>
>  #include <linux/proc_fs.h>
>  #include <linux/init.h>
> +#include <linux/blkdev.h>
>  #include <asm/fcntl.h>
>  #include <asm/segment.h>
>  #include <asm/uaccess.h>
Real fix is in 2.3.41-4 - don't include blkdev, since register_disk()
does not belong there.
-- 
*  Jens Axboe <axboe@suse.de>
*  Linux CD-ROM Maintainer
*  
http://www.kernel.dk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/