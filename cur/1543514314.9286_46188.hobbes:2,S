Date: Wed, 27 Oct 1999 18:14:26 -0400
From: "Theodore Y. Ts'o" <>
Subject: Re: /proc/pci unknown devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/27/133

   Date: Wed, 27 Oct 1999 14:46:51 -0700 (PDT)
   From: Jeremy Fitzhardinge <jeremy@goop.org>
   On 26-Oct-99 Theodore Y. Ts'o wrote:
   > it's __initdata, which means the space
   > is released back to the system after the kernel boots.
   Huh?  How can it be initdata?  It's used after boot time (say, when you cat
   /proc/pci).
If you look at the source, you'll see that at boot time, when the PCI
bus is queried and the PCI device structures are created, that the
string for each PCI card's name is copied into the PCI structure, and it
is this information which is used to construct /proc/pci.
You'll also see that it's a pretty trivial patch to make the table be
null-length, in which case, the name initialized at boot time is
something like "unknown PCI device 1234:3456".
						- Ted
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/