Date: Thu, 13 Mar 2008 15:36:31 +0100
From: Lukas Hejtmanek <>
Subject: Re: Oops in NFSv4 server in 2.6.23.17
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/13/193

Hello,
On Wed, Mar 12, 2008 at 12:00:07PM -0400, J. Bruce Fields wrote:
> In this case it looks like something in the gss context cache is bad.
> 
> I'm not sure what's going on.
I discovered what triggers this bug. If I have default export with secure
option and I try to connect from insecure port, it produces the oops.
If I add insecure option to the export, no oops at all and mount succeeds.
Also, the bug is not triggered by the first attempt but by the second one.
So I guess that from the first attempt there is something inserted into gss
context cache - error occurs (insecure attempt with the secure option), gss
context is removed from the cache as invalid but not completely. And the
second attempt does oops. Sounds reasonable for me. 
Hope this helps to find the bug.
-- 
Lukáš Hejtmánek
--
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/