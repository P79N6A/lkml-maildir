Date: Tue, 18 Sep 2007 12:30:20 -0700 (PDT)
From: Christoph Lameter <>
Subject: Re: [PATCH]  2.6.23-rc6:  Fix NUMA Memory Policy Reference Counting
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/18/292

On Tue, 18 Sep 2007, Andi Kleen wrote:
> > The patch does require concurrent increments and decrements in the main 
> > fault patch. The potential is to create another bouncing cacheline for 
> > concurrent faults. This looks like it would cause a performance issue.
> 
> While may be true correctness is always more important than performance.
> So I think this is the right thing for .23. Any performance improvements
> if needed can come later.
Is there any real issue as a result of the refcounting issues? It seems 
that performance improvements are not possible unless one would modify how 
memory policies work using RCU or so.
Ok the effect is limited. get_vma_policy() only increments refcounts 
for foreign or shared policies. So it seems that it is fine if one stays 
away from shmem.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/