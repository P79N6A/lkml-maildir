Date: Tue, 12 Sep 2000 16:38:22 +0100 (BST)
From: Chris Evans <>
Subject: Re: (reiserfs) Re: More on 2.2.18pre2aa2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/12/76

On Tue, 12 Sep 2000, Rik van Riel wrote:
> On Tue, 12 Sep 2000, Andrea Arcangeli wrote:
> > On Tue, 12 Sep 2000, Rik van Riel wrote:
> > 
> > >Uhmmm, isn't the elevator about request /latency/ ?
> > 
> > Yes, but definitely not absolute "time" latency.
> > 
> > How do you get a 1msec latency for a read request out of a
> > blockdevice that writes 1 request in 2 seconds? See?
> 
> Of course, if you set a rediculous latency figure you'll
> get rediculously bad performance. However, that doesn't
> say /anything/ about if the idea is a good one or not...
People,
Remember why the elevator algorithm was changed in the first place? It was
introduced to solve a very specific problem.
That problem: the original elevator code did not schedule I/O particularly
fairly under certain I/O usage patterns. So it got fixed.
Now, I see people trying to introduce the concept of elapsed time into
that fix, which smells strongly of hack. How will this hack be cobbled
into the elevator code so that it copes with block devices from fast RAID
arrays to slow floppies to network block device!
So I have to agree with Andrea that the concept of time does not belong in
the elevator code. Keep it to a queue management system, and suddenly it
scales to slow or fast devices without any gross device-type specific
tuning.
Cheers
Chris
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/