Date: Fri, 22 Oct 1999 00:26:45 -0400 (EDT)
From: Matt Davis <>
Subject: 2.2.* freezes w/oops
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/21/200

I'm not sure what of this crap you need.  But to me its crap.  All i know
is sometimes I have panic's that freeze my system.  Other times I have
panic's that only take down a process like below.  It took down
enlightenment.
And these only happen when I have fairly high load..  usually close to 1.0
or greater.
Any help would be greately appreciated.  I have been having these oops and
logging each one of them.  So i'm getting a nice little collection.  All
reproduceable by going in X and putting it under some load.  And different
processes crash (sometimes X).
Good luck!
-- Versions installed: (if some fields are empty or looks
-- unusual then possibly you have very old versions)
Linux dogpound.vnet.net 2.2.13 #4 Thu Oct 21 10:50:11 EDT 1999 i586
unknown
Kernel modules         2.1.121
Gnu C                  egcs-2.91.66
Binutils               2.9.1.0.23
Linux C Library        2.1.2
Dynamic linker         ldd (GNU libc) 2.1.2
Procps                 2.0.2
Mount                  2.9o
Net-tools              1.51
Console-tools          1999.03.02
Sh-utils               1.16
Modules Loaded         ip_masq_raudio ip_masq_irc ip_masq_ftp
ksymoops 0.7c on i586 2.2.13.  Options used
     -V (specified)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -O (specified)
     -M (specified)
DEBUG (main): level 2
DEBUG (read_env): default KSYMOOPS_NM=/usr/bin/nm
DEBUG (read_env): default KSYMOOPS_FIND=/usr/bin/find
DEBUG (read_env): default KSYMOOPS_OBJDUMP=/usr/bin/objdump
DEBUG (re_compile): '^([0-9a-fA-F]{4,}) +([^ ]) +([^ ]+)$' 3 sub
expression(s)
DEBUG (re_compile): '^ *\[*<([0-9a-fA-F]{4,})>\]* *' 1 sub expression(s)
DEBUG (re_compile): '^ *<\[([0-9a-fA-F]{4,})\]> *' 1 sub expression(s)
DEBUG (re_compile): '^ *([0-9a-fA-F]{4,}) *' 1 sub expression(s)
DEBUG (read_ksyms): /proc/ksyms
DEBUG (re_compile): '^([0-9a-fA-F]{4,}) +([^ ]+)( +\[([^ ]+)\])?$' 4 sub
expression(s)
DEBUG (re_compile): '^(.*)_R(smp_)?[0-9a-fA-F]{8,}$' 2 sub expression(s)
DEBUG (ss_sort_na): ksyms_base
DEBUG (ss_compress): table ksyms_base, before 792
DEBUG (ss_compress): table ksyms_base, after 792
DEBUG (ss_compress): table ksyms_base, before 792
DEBUG (ss_compress): table ksyms_base, after 792
DEBUG (read_ksyms): ksyms_base used 792 out of 901 entries
DEBUG (read_lsmod): /proc/modules
DEBUG (re_compile): '^ *([^ ]+) *([^ ]+) *([^ ]+) *(.*)$' 4 sub
expression(s)
DEBUG (ss_sort_na): lsmod
DEBUG (ss_compress): table lsmod, before 3
DEBUG (ss_compress): table lsmod, after 3
DEBUG (ss_compress): table lsmod, before 3
DEBUG (ss_compress): table lsmod, after 3
DEBUG (read_lsmod): lsmod used 3 out of 10 entries
DEBUG (merge_maps):
DEBUG (append_map): ksyms_base to merged
DEBUG (ss_sort_atn): merged
DEBUG (ss_compress): table merged, before 792
DEBUG (ss_compress): table merged, after 792
DEBUG (ss_sort_atn): merged
DEBUG (ss_compress): table merged, before 792
DEBUG (ss_compress): table merged, after 792
DEBUG (find_fullpath): ./ksymoops
DEBUG (Oops_next_file): reading Oops report from /var/log/test/messages.5
DEBUG (re_compile): '^( +|[^ ]{3} [ 0-9][0-9] [0-9]{2}:[0-9]{2}:[0-9]{2}
[^ ]+ kernel: +|<[0-9]+>)' 1 sub expression(s)
DEBUG (re_compile): '^((Stack: )|(Stack from )|([0-9a-fA-F]{4,})|(Call
Trace: )|(\[*<([0-9a-fA-F]{4,})>\]* *)|(Version_[0-9]+)|(Trace: )|(Call
backtrace:)|(bh:)|<\[([0-9a-fA-F]{4,})\]> *|Process .*stackpage=|Code *:
|Kernel panic|In swapper task|Corrupted stack page|invalid operand: |Oops:
|Cpu: +[0-9]|current->tss|\*pde +=|EIP: |EFLAGS: |eax: |esi: |ds: |CR0:
|wait_on_|irq: |pc[:=]|68060 access|Exception at |d[04]: |Frame format=|wb
[0-9] stat|push data: |baddr=|Arithmetic fault|Instruction fault|Bad
unaligned kernel|Forwarding unaligned exception|: unhandled unaligned
exception|pc *=|r[0-9]+ *=|gp *=|spinlock stuck|tsk->|PSR: |[goli]0:
|Instruction DUMP: |TSTATE: |[goli]4: |Caller\[|CPU\[|MSR: |TASK = |last
math |GPR[0-9]+: |\$[0-9 ]+:|epc |Status:|Cause :|Backtrace:|Function
entered at|\*pgd =|Internal error|pc :|sp :|r[0-9][0-9
]:|Flags:|Control:)' 12 sub expression(s)
DEBUG (re_compile): 'Unable to handle kernel|Aiee|die_if_kernel|\([0-9]\):
Oops
|: memory violation|: Exception at|: Arithmetic fault|: Instruction
fault|: arithmetic trap|: unaligned trap|\([0-9]+\):
(Whee|Oops|Kernel|.*Penguin|BOGUS)|kernel pc |trap at PC: |bad area pc
|NIP: | ra *=' 1 sub expression(s)
DEBUG (re_compile): '^(i[04]: |Instruction DUMP: |Caller\[)' 1 sub
expression(s)Oct 22 00:12:10 dogpound kernel: current->tss.cr3 = 02f76000,
%cr3 = 02f76000
DEBUG (re_compile): '^PSR: [0-9a-fA-F]+ PC: ([0-9a-fA-F]{4,}) *' 1 sub
expression(s)
DEBUG (re_compile): '^TSTATE: [0-9a-fA-F]{16} TPC: ([0-9a-fA-F]{4,}) *' 1
sub expression(s)
DEBUG (re_compile): '(kernel pc |trap at PC: |bad area pc |NIP:
)([0-9a-fA-F]{4,}) *' 2 sub expression(s)
DEBUG (re_compile): '^epc *:+ *([0-9a-fA-F]{4,}) *' 1 sub expression(s)
DEBUG (re_compile): '^(EIP: +.*|PC *= *|pc *: *)\[*<([0-9a-fA-F]{4,})>\]*
*' 2 sub expression(s)
DEBUG (re_compile): '^spinlock stuck at ([0-9a-fA-F]{4,}) *.*owner.*at
([0-9a-fA-F]{4,}) *' 2 sub expression(s)
DEBUG (re_compile): 'ra *=+ *([0-9a-fA-F]{4,}) *' 1 sub expression(s)
DEBUG (re_compile): '^[io][04]: [0-9a-fA-F iosp:]+ ([io]7|ret_pc):
([0-9a-fA-F]{4,}) *' 2 sub expression(s)
DEBUG (re_compile): '^((Call Trace: )|(Trace: )|(\[*<([0-9a-fA-F]{4,})>\]*
*)|(Call backtrace:)|([0-9a-fA-F]{4,}) *|Function entered at
(\[*<([0-9a-fA-F]{4,})>\]* *)|Caller\[([0-9a-fA-F]{4,})
*\]|(<\[([0-9a-fA-F]{4,})\]> *))' 12 sub expression(s)
DEBUG (re_compile): '^((Instruction DUMP)|(Code *)): +((general
protection.*)|(<[0-9]+>)|(([<(]?[0-9a-fA-F]+[>)]?
+)+[<(]?[0-9a-fA-F]+[>)]?))(.*)$' 9 sub expression(s)
Oct 22 00:12:10 dogpound kernel: *pde = 00000000
Oct 22 00:12:10 dogpound kernel: Oops: 0002
Oct 22 00:12:10 dogpound kernel: CPU:    0
Oct 22 00:12:10 dogpound kernel: EIP:    0010:[sys_write+224/256]
Oct 22 00:12:10 dogpound kernel: EFLAGS: 00010282
Oct 22 00:12:10 dogpound kernel: eax: 00000008   ebx: c0720d40   ecx:
00000008 edx: c294b5dc
Oct 22 00:12:10 dogpound kernel: esi: 00000008   edi: c294b7ac   ebp:
00000008 esp: c091bfac
Oct 22 00:12:10 dogpound kernel: ds: 0018   es: 0018   ss: 0018
Oct 22 00:12:10 dogpound kernel: Process enlightenment (pid: 1984, process
nr: 79, stackpage=c091b000)
Oct 22 00:12:10 dogpound kernel: Stack: 080e9188 bfffe7d4 c0155898
00000000 00000000 c0108f10 00000003 080e97a8
Oct 22 00:12:10 dogpound kernel:        00000008 080e97a8 080e9188
bfffe7d4 00000004 0000002b 0000002b 00000004
Oct 22 00:12:10 dogpound kernel:        4028cdf4 00000023 00000202
bfffe7bc 0000002b
Oct 22 00:12:10 dogpound kernel: Call Trace: [sock_write+0/156]
[system_call+52/56]
Oct 22 00:12:10 dogpound kernel: Code: 26 00 00 00 f1 1a 80 00 45 07 13 fe
df 02 00 00 7a 02 00 00
Using defaults from ksymoops -t elf32-i386 -a i386
DEBUG (Oops_decode):
DEBUG (re_compile): '^([<(]?)([0-9a-fA-F]+)[)>]? *' 2 sub expression(s)
DEBUG (Oops_objdump): command '/usr/bin/objdump -dhf /tmp/fileyLNQZX'
DEBUG (Oops_decode):
DEBUG (re_compile): '^ *([0-9a-fA-F]+)( <_XXX[^>]*>)?:(.*
+<_XXX\+0?x?([0-9a-fA-F]+)> *$)?.*' 4 sub expression(s)
DEBUG (Oops_decode): /tmp/fileyLNQZX:     file format elf32-i386
DEBUG (Oops_decode): architecture: i386, flags 0x00000010:
DEBUG (Oops_decode): HAS_SYMS
DEBUG (Oops_decode): start address 0x00000000
DEBUG (Oops_decode):
DEBUG (Oops_decode): Sections:
DEBUG (Oops_decode): Idx Name          Size      VMA       LMA       File
off  Algn
DEBUG (Oops_decode):   0 .text         00000040  00000000  00000000
00000040  2**4
DEBUG (Oops_decode):                   CONTENTS, ALLOC, LOAD, READONLY,
CODE
DEBUG (Oops_decode): Disassembly of section .text:
DEBUG (Oops_decode):
DEBUG (Oops_decode): 00000000 <_XXX>:
DEBUG (Oops_decode):    0:   26 00 00                  addb
%al,%es:(%eax)
DEBUG (Oops_decode):    3:   00 f1                     addb   %dh,%cl
DEBUG (Oops_decode):    5:   1a 80 00 45 07 13         sbbb
0x13074500(%eax),%al
DEBUG (Oops_decode):    b:   fe                        (bad)
DEBUG (Oops_decode):    c:   df 02                     fild   (%edx)
DEBUG (Oops_decode):    e:   00 00                     addb   %al,(%eax)
DEBUG (Oops_decode):   10:   7a 02                     jp     14
<_XXX+0x14>
DEBUG (Oops_decode):         ...
DEBUG (Oops_format):
Code;  00000000 Before first symbol
00000000 <_EIP>:
Code;  00000000 Before first symbol
   0:   26 00 00                  addb   %al,%es:(%eax)
Code;  00000003 Before first symbol
   3:   00 f1                     addb   %dh,%cl
Code;  00000005 Before first symbol
   5:   1a 80 00 45 07 13         sbbb   0x13074500(%eax),%al
Code;  0000000b Before first symbol
   b:   fe                        (bad)
Code;  0000000c Before first symbol
   c:   df 02                     fild   (%edx)
Code;  0000000e Before first symbol
   e:   00 00                     addb   %al,(%eax)
Code;  00000010 Before first symbol
  10:   7a 02                     jp     14 <_EIP+0x14> 00000014 Before
first symbol
---
Matt Davis - ICQ# 934680
http://dogpound.vnet.net/~bigdog/
A computer program does what you tell it to do, not what you want it to do.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/