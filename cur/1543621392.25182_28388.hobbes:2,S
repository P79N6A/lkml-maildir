Date: Fri, 15 Feb 2002 11:11:35 -0500
From: "Holzrichter, Bruce" <>
Subject: MAX_RT_PRIO in 2.5.5pre1 (Was:  build problem on Sparc64)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/15/130

I see that the #define for MAX_RT_PRIO was moved from:
/include/linux/sched.h
To:
/kernel/sched.c
This caused the build to fail on Sparc64, and maybe others, because of what
looks to be an unfinished function define in /asm/mmu_context.h.  I am not
sure what the function is supposed to be defined at all, as it looks to be
unfinished.  To get the build further along, I commented the unfinished one
out.  Not sure if this is the correct way to go, but I don't see it as doing
anything effective with it in.  I included a diff for you against 2.5.4, if
you want it. 
Thanks,
Bruce H.
diff -Nru ../linux-2.5.4/include/asm-sparc64/mmu_context.h
./include/asm-sparc64/mmu_context.h                        
--- ../linux-2.5.4/include/asm-sparc64/mmu_context.h    Thu Feb 14 14:28:10
2002
 
+++ ./include/asm-sparc64/mmu_context.h Fri Feb 15 10:59:45 2002
@@ -28,14 +28,18 @@
 #include <asm/spitfire.h>
 
 /*
+ * ??? Does This Belong Here?  Build failed after Define for MAX_RT_PRIO
+ * was moved from /kernel/sched.h to /kernel/sched.c
+ *
  * Every architecture must define this function. It's the fastest
  * way of searching a 168-bit bitmap where the first 128 bits are
  * unlikely to be set. It's guaranteed that at least one of the 168
  * bits is cleared.
+ *
+ * #if MAX_RT_PRIO != 128 || MAX_PRIO != 168
+ * # error update this function.
+ * #endif
  */
-#if MAX_RT_PRIO != 128 || MAX_PRIO != 168
-# error update this function.
-#endif
 static inline int sched_find_first_bit(unsigned long *b)
 {
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/