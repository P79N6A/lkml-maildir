Date: 02 Nov 1999 21:53:33 +0100
From: Trond Myklebust <>
Subject: Re: NFS_ROOT bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/2/168

>>>>> " " == braam  <braam@cs.cmu.edu> writes:
     > --- fs/nfs/mount_clnt.c.orig Tue Nov 2 12:05:36 1999
     > +++ fs/nfs/mount_clnt.c Tue Nov 2 12:15:00 1999
     > @@ -23,6 +23,11 @@
     >  # define NFSDBG_FACILITY NFSDBG_ROOT
     >  #endif
 
     > +#ifndef MAX +# define MAX(a, b) (((a) > (b))? (a) : (b))
     > +#endif + +
     >  /*
     >  #define MOUNT_PROGRAM 100005 define MOUNT_VERSION 1
     > @@ -119,7 +124,7 @@
     >  	{ "mnt_mount",
     >  		(kxdrproc_t) xdr_encode_dirpath, (kxdrproc_t)
     >  		xdr_decode_fhstatus,
     > - MNT_dirpath_sz, MNT_fhstatus_sz },
     > + MAX(MNT_dirpath_sz, MNT_fhstatus_sz), 0},
     >  };
     >  static struct rpc_version mnt_version1 = {
Well spotted, but that should be 
   'MAX(MNT_dirpath_sz, MNT_fhstatus_sz) << 2'
in order to be correct.
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/