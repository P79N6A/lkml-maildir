Date: Wed, 3 Dec 2008 12:47:48 +0100
From: Ingo Molnar <>
Subject: Re: v2.6.28-rc7: Fail compile arch/x86/kernel/cpu/common.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/3/102

* Jianjun Kong <jianjun@zeuux.org> wrote:
> On Wed, Dec 03, 2008 at 08:35:04AM +0100, Ingo Molnar wrote:
> >* Jianjun Kong <jianjun@zeuux.org> wrote:
> >> arch/x86/kernel/cpu/common.c: In function ‘early_identify_cpu’:
> >> arch/x86/kernel/cpu/common.c:555: error: ‘boot_cpu_id’ undeclared (first
> >> use in this function)
the error message is not consistent with what the code does:
$ cat arch/x86/kernel/cpu/common.c
[...]
#include <asm/smp.h>
combined with:
> $ cat arch/x86/include/asm/smp.h
> 
> #ifndef _ASM_X86_SMP_H
> #define _ASM_X86_SMP_H
> #ifdef CONFIG_X86_HAS_BOOT_CPU_ID
> extern unsigned char boot_cpu_id;
> #else
> #define boot_cpu_id	0
> #endif
> 
> #endif /* __ASSEMBLY__ */
> #endif /* _ASM_X86_SMP_H */
how can this not build? Do you have __ASSEMBLY__ defined in your CFLAGS 
perhaps?
	Ingo
--
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/