Date: Wed, 13 Nov 2002 16:36:09 +0100
From: Andries Brouwer <>
Subject: Re: VFAT mount (bug or feature?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/13/99

On Wed, Nov 13, 2002 at 01:47:04AM +0100, Udo A. Steinberg wrote:
> In my /etc/fstab I have the following entry:
> 
> /dev/hda1  /win   vfat   defaults,umask=022  1 1
> 
> Why does 2.5.47 have user/group restricted permissions on the mount
> point and all its subdirectories, despite the umask setting?
Yes. This is due to a somewhat buggy change in 2.5.43.
(In the good old days umask had a well-defined meaning;
today on recent 2.5 and with vfat, but not with ntfs,
it means something else.)
The correct change would have been to add both dmask and fmask,
just like ntfs did, and leave the meaning of umask alone.
(I made a patch a few days ago, but have not yet found
the time to submit it to Linus. Maybe tomorrow,
if nobody else does it first.)
Andries
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/