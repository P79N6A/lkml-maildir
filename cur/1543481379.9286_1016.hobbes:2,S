Date: Fri, 22 Jan 1999 12:37:19 +0100 (MET)
From: Andrzej Krzysztofowicz <>
Subject: Re: Are WDC AC33100H & AC31600H DMA-safe?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/22/133

> Greetings fellow astronomer,
> 
> There are firmware releases that do not handle UDMA correctly.
As far as I know, AC31600H does not support UDMA at all.
Only regular multi-word DMA mode 0/1/2...
Are there any problems with mword DMA mode 2 the reason of blacklisting
this disk ? 
> Until a better test can be composed that tests against model and firmware,
> safety first is the rules of the game.
> 
> If your drive functions okay, then edit the ./drivers/block/ide-dma.c
> file.
> 
> On Thu, 21 Jan 1999, David Whysong wrote:
> 
> > On Thu, 21 Jan 1999, Koby Kahane wrote:
> > 
> > >I have recently upgraded from 2.0.36 to 2.2.0-pre9
> > >
> > >I've noticed that my boot messages say that DMA is disabled for my
> > >2nd and 3rd hard disks. Is it safe for me to enable DMA (via hdparm)
> > >for these drive models or should I stick to none-DMA mode?
> > 
> > I don't know about the AC33100H, but my AC31600H has worked perfectly with
> > DMA for about 3 years. I don't know why it has been blacklisted... 
> > 
> >  Model=WDC AC31600H, FwRev=23.16U73, SerialNo=WD-WT289
> >  Config={ HardSect NotMFM HdSw>15uSec SpinMotCtl Fixed DTR>5Mbs FmtGapReq }
> >  RawCHS=3148/16/63, TrkSize=57600, SectSize=600, ECCbytes=22
> >  BuffType=3(DualPortCache), BuffSize=128kB, MaxMultSect=16, MultSect=16
> >  DblWordIO=no, maxPIO=2(fast), DMA=yes, maxDMA=0(slow)
> >  (maybe): CurCHS=787/64/63, CurSects=3173184, LBA=yes, LBAsects=3173184
> >  tDMA={min:120,rec:120}, DMA modes: mword0 mword1 *mword2 
> >  IORDY=on/off, tPIO={min:160,w/IORDY:120}, PIO modes: mode3 mode4 
Andrzej 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/