Date: Thu, 12 Aug 1999 19:22:02 +0300
From: Petri Kaukasoina <>
Subject: Re: Linux 2.2.11 Hang
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/14/35

On Thu, Aug 12, 1999 at 10:31:24AM -0400, Mark G. Adams wrote:
> After updating my machine to Linux 2.2.11 (from 2.2.10), it hung solid after
> being up 2 days.  There was no response to keyboard/mouse, and couldn't connect
> to the machine over the network (connection refused). My desktop was still
> visible on the screen, but that was the only sign of life. The lockup occured
> while I was away from the machine for 10 minutes, so I wasn't running anything
> special.
My problem is similar. I sent a report to Alan before.
2.2.11pre7 and the 2.2.11 proper hung after 7.5 hours, 3.5 hours, 33.5
hours. It didn't matter whether it was compiled with gcc 2.95 or 2.7.2.3
(with the default compiler options). Kernel-2.2.10 was rock solid (up for 7
weeks), and I think 2.2.11pre4 is also ok but I only ran it once for 3.5
days and then once again for 24 hours. I'm now stepping backwards one
pre-version at a time so I can see when it starts to behave, unless there
are better ideas.
It always hangs when I use it from home via ssh, never when I use it
locally. Large TCP traffic (via 3c509) is also connected to those situations
when it has crashed.
When it did it again half an hour ago I now noticed that the session seemed
a little sluggish for a couple of seconds before the session was
disconnected. It is possible that it's also an out-of-memory situation as
some others have reported here. But I can't see any error messages on the
console because the X screen is totally black. I have a memory limit set so
if it's out of memory, it's not the fault of the programs I run...
100 MHz pentium, 32 M memory.
No bridging, multicast routing, masquerade, nor isdn4linux
but yes I use firewalling.
Uncommented lines from config:
CONFIG_M586TSC=y
CONFIG_X86_WP_WORKS_OK=y
CONFIG_X86_INVLPG=y
CONFIG_X86_BSWAP=y
CONFIG_X86_POPAD_OK=y
CONFIG_X86_TSC=y
CONFIG_1GB=y
CONFIG_NET=y
CONFIG_PCI=y
CONFIG_PCI_GOANY=y
CONFIG_PCI_BIOS=y
CONFIG_PCI_DIRECT=y
CONFIG_SYSVIPC=y
CONFIG_SYSCTL=y
CONFIG_BINFMT_ELF=y
CONFIG_BLK_DEV_FD=y
CONFIG_BLK_DEV_IDE=y
CONFIG_BLK_DEV_IDEDISK=y
CONFIG_BLK_DEV_IDEPCI=y
CONFIG_PARIDE_PARPORT=y
CONFIG_PACKET=y
CONFIG_FIREWALL=y
CONFIG_UNIX=y
CONFIG_INET=y
CONFIG_IP_FIREWALL=y
CONFIG_IP_ALWAYS_DEFRAG=y
CONFIG_SYN_COOKIES=y
CONFIG_SKB_LARGE=y
CONFIG_NETDEVICES=y
CONFIG_NET_ETHERNET=y
CONFIG_NET_VENDOR_3COM=y
CONFIG_EL3=y
CONFIG_VT=y
CONFIG_VT_CONSOLE=y
CONFIG_SERIAL=y
CONFIG_PROC_FS=y
CONFIG_EXT2_FS=y
CONFIG_VGA_CONSOLE=y
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/