Date: Thu, 3 Aug 2000 19:52:38 +0200 (CEST)
From: Ingo Molnar <>
Subject: Re: [patch] lowlatency patch for 2.4, lowlatency-2.4.0-test6-B5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/3/71

On Thu, 3 Aug 2000, Jamie Lokier wrote:
> I notice you didn't include the ret_from_syscall race fix which shows
> up, rarely but it does.  I think it was the last glitch seen in
> William Montgomery's tests with 2.2+lowlatency.
ok, i'll add that one too to the next version. 
> Nice.  That may be small enough to add into __get_user and __put_user.
i'm not sure. While they are legitimate scheduling points, but they are
too small i think to add a conditional schedule.
> As tweak you could use a short branch in libcalls.
what libcalls?
> Excessive.  You don't need anything more than "pushl $1b; jmpl
> __cond_schedule" in the offline section, and let __cond_schedule do
> the register save/restore.  That's 10 bytes, =3.1k.
you are right, i'll fix it for the next version, thanks for the
suggestion.
> (Now if only there was a way to convince the linker to use short jumps
> to long jumps per group of 256 bytes, it would be 7 bytes :-) But
> there isn't...)
10 bytes are good enough i think :-)
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/