Date: Sun, 30 Nov 2008 15:30:51 +0900 (JST)
From: KOSAKI Motohiro <>
Subject: Re: [PATCH] vmscan: bail out of page reclaim after swap_cluster_max pages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/11/30/7

> Reclaiming is very easy when the workload is just page cache,
> because the application will be throttled when too many page
> cache pages are dirty.
> 
> When using mmap or memory hogs writing to swap, applications
> will not be throttled by the "too many dirty pages" logic,
> but may instead end up being throttled in the direct reclaim
> path instead.
> 
> At that point direct reclaim may become a lot more common,
> making the imbalance more significant.
fair enough.
> I'll run a few tests.
Great.
I'm looking for your mail :)
> > Andrew, I hope add this mesurement result to rvr bailing out patch description too.
> 
> So far the performance numbers you have measured are very
> encouraging and do indeed suggest that the priority==DEF_PRIORITY
> thing does not make a difference.
thank you.
I believe reclaim latency reducing doesn't only improve hpc, but also
improve several multimedia and desktop application.