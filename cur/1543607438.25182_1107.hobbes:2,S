Date: Thu, 25 Oct 2001 15:56:27 GMT
From: (bill davidsen)
Subject: Re: fdisk: "File size limit exceeded on fdisk" 2.4.10 to 2.4.13-pre6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/25/81

In article <Pine.LNX.4.33.0110242100070.14064-100000@viper.haque.net>,
Mohammad A. Haque <mhaque@haque.net> wrote:
| On Thu, 25 Oct 2001, Tim Tassonis wrote:
| 
| > I'm quite suprised, but this actually worked for me. Rebooted without
| > using hdparm, created the partintion (3GB) and everything seems ok. Looks
| > as if hdparm is doing something wrong here (v3.6).
| >
| 
| More than likely it's just triggering something that causes the problem.
I haven't seen any problem, either. Certainly not with fdisk, this is
what I see:
================================================================
bilbo:root> hdparm -V
hdparm v3.9
bilbo:root> df
Filesystem           1k-blocks      Used Available Use% Mounted on
/dev/hda3               995896    849248     95240  90% /
/dev/hda4              4597818   2727382   1639502  62% /extra
/extra/u_local          193687     74214    109473  40% /usr/local
/dev/hde1              4079656   3611952    262908  93% /extra2
bilbo:root> fdisk /dev/hde
The number of cylinders for this disk is set to 39770.
There is nothing wrong with that, but this is larger than 1024,
and could in certain setups cause problems with:
1) software that runs at boot time (e.g., old versions of LILO)
2) booting and partitioning software from other OSs
   (e.g., DOS FDISK, OS/2 FDISK)
Command (m for help): p
Disk /dev/hde: 16 heads, 63 sectors, 39770 cylinders
Units = cylinders of 1008 * 512 bytes
   Device Boot    Start       End    Blocks   Id  System
/dev/hde1             1      8127   4095976+  83  Linux native
/dev/hde2          8128     28445  10240272   83  Linux native
Command (m for help): q
================================================================
I certainly have used hdparm on that drive, my controller comes up in
ATA33 by default, and I run 
  # enable the ATA/66 hard drive(s)
  #   experiment with -u1 after backup
  hdparm -d1 -X66 /dev/hde
out of rc.local to get it going. BP6 m/b, dual Celeron500, 
  Linux bilbo 2.4.10-ac7-2 #5 SMP Sun Oct 7 08:03:37 EDT 2001 i686 unknown
from the uname. This is NOT a preempt kernel, the patch against this one
blew up on SMP, although it booted "nosmp" just fine. I have trying
again with 2.4.13-pre6 this weekend.
Don't know if this sheds light on the topic, I certainly do run fdisk on
"drives" my RAID controller creates which have 600GB or so broken into
little 100GB files.
-- 
bill davidsen <davidsen@tmr.com>
  His first management concern is not solving the problem, but covering
his ass. If he lived in the middle ages he'd wear his codpiece backward.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/