Date: Wed, 29 Dec 1999 22:10:02 -0600
From: "George R. Kasica" <>
Subject: Kernel OOPS running under 2.2.13 Caldera Open Linux
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/29/100

Hello:
Per advice from Doug Ledford I'm posting this here, as he doesn't feel
its a SCSI issue.
Recently on the LInux box I'm running I'm seeing oops for no good
reason with Caldera Open Linux 2.3 running kernel 2.2.13. 
System Specifics:
Linux 2.2.13
256MB RAM
Celeron 333 Processor
Adaptec 2910B Controller
Disk Drives:
hda: SAMSUNG SV0844A, ATA DISK drive
hdb: FX240S, ATAPI CDROM drive
hdc: WDC AC32500H, ATA DISK drive
SCSI DISK ID #1 sda: SEAGATE   Model: ST32550N   Rev: 0021
Tape Auto Changer ID#3 HP        Model: C1553A  Rev:NS01
Included below are syslog, dmesg output and the results from running
through ksymoops.
Any suggestions or thoughts appreciated, this used to be a rock solid
system.
SYSLOG MESSAGES:
Dec 29 21:46:24 eagle kernel: Unable to handle kernel paging request
at virtual
address 78c4403c
Dec 29 21:46:24 eagle kernel: current->tss.cr3 = 00101000, %cr3 =
00101000
Dec 29 21:46:24 eagle kernel: *pde = 00000000
Dec 29 21:46:24 eagle kernel: Oops: 0002
Dec 29 21:46:24 eagle kernel: CPU:    0
Dec 29 21:46:24 eagle kernel: EIP:
0010:[remove_from_queues+256/336]
Dec 29 21:46:24 eagle kernel: EFLAGS: 00010213
Dec 29 21:46:24 eagle kernel: eax: cf78c560   ebx: cf78c5c0   ecx:
cf78c5c0   ed
x: 78c44020
Dec 29 21:46:24 eagle kernel: esi: cf78c560   edi: cf78c5c0   ebp:
c04ced68   es
p: cffd3f1c
Dec 29 21:46:24 eagle kernel: ds: 0018   es: 0018   ss: 0018
Dec 29 21:46:24 eagle kernel: Process kswapd (pid: 5, process nr: 5,
stackpage=c
ffd3000)
Dec 29 21:46:24 eagle kernel: Stack: 00000000 00000202 cf78c620
cf78c740 cf78c74
0 c0125660 cf78c5c0 cffef260
Dec 29 21:46:24 eagle kernel:        c04ced40 c0125697 c04ced68
000003fe 0000003
0 cffd2000 cffef260 cffe1ca0
Dec 29 21:46:24 eagle kernel:        00000030 c011a991 c04ced68
c01eba8e 0000003
0 cffd2000 0000000b 00000006
Dec 29 21:46:24 eagle kernel: Call Trace: [try_to_free_buffers+76/144]
[try_to_f
ree_buffers+131/144] [shrink_mmap+225/312] [tvecs+6958/12928]
[do_try_to_free_pa
ges+49/144] [tvecs+6958/12928] [kswapd+99/204]
Dec 29 21:46:24 eagle kernel:        [process_timeout+0/20]
[kswapd+201/204] [ke
rnel_thread+31/56] [kernel_thread+40/56]
Dec 29 21:46:24 eagle kernel: Code: 89 42 1c 8b 51 1c 8b 41 38 89 42
38 8b 51 28
 c1 e2 02 39 8a
-----------------------------
DMESG OUTPUT:
Linux version 2.2.13 (root@eagle.netwrx1.com) (gcc version 2.95.2
19991024 (rele
ase)) #1 Thu Dec 23 22:45:59 CST 1999
Detected 334093622 Hz processor.
Console: colour VGA+ 80x25
Calibrating delay loop... 333.41 BogoMIPS
Memory: 257668k/262080k available (1136k kernel code, 412k reserved,
2824k data,
 40k init)
VFS: Diskquotas version dquot_6.4.0 initialized
CPU: Intel Celeron (Mendocino) stepping 00
Checking 386/387 coupling... OK, FPU using exception 16 error
reporting.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
PCI: PCI BIOS revision 2.10 entry at 0xf08b0
PCI: Using configuration type 1
PCI: Probing PCI hardware
Linux NET4.0 for Linux 2.2
Based upon Swansea University Computer Society NET3.039
NET4: Unix domain sockets 1.0 for Linux NET4.0.
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP
Starting kswapd v 1.5
Detected PS/2 Mouse Port.
Serial driver version 4.27 with no serial options enabled
ttyS00 at 0x03f8 (irq = 4) is a 16550A
ttyS01 at 0x02f8 (irq = 3) is a 16550A
ttyS02 at 0x03e8 (irq = 4) is a 16550A
pty: 256 Unix98 ptys configured
Linux video capture interface: v1.00
Connectix Colour Quickcam driver v0.02
request_module[parport_lowlevel]: Root fs not mounted
request_module[parport_lowlevel]: Root fs not mounted
PIIX4: IDE controller on PCI bus 00 dev 21
PIIX4: not 100% native mode: will probe irqs later
    ide0: BM-DMA at 0xd800-0xd807, BIOS settings: hda:DMA, hdb:DMA
    ide1: BM-DMA at 0xd808-0xd80f, BIOS settings: hdc:DMA, hdd:pio
hda: SAMSUNG SV0844A, ATA DISK drive
hdb: FX240S, ATAPI CDROM drive
hdc: WDC AC32500H, ATA DISK drive
ide2: ports already in use, skipping probe
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
ide1 at 0x170-0x177,0x376 on irq 15
hda: SAMSUNG SV0844A, 8063MB w/220kB Cache, CHS=1027/255/63, UDMA
hdc: Disabling (U)DMA for WDC AC32500H
hdc: DMA disabled
hdc: WDC AC32500H, 2441MB w/128kB Cache, CHS=4960/16/63
hdb: ATAPI 24X CD-ROM drive, 256kB Cache
Uniform CDROM driver Revision: 2.56
Floppy drive(s): fd0 is 1.44M
FDC 0 is a post-1991 82077
(scsi0) <Adaptec AIC-7850 SCSI host adapter> found at PCI 9/0
(scsi0) Narrow Channel, SCSI ID=7, 3/255 SCBs
(scsi0) Warning - detected auto-termination
(scsi0) Please verify driver detected settings are correct.
(scsi0) If not, then please properly set the device termination
(scsi0) in the Adaptec SCSI BIOS by hitting CTRL-A when prompted
(scsi0) during machine bootup.
(scsi0) Cables present (Int-50 YES, Ext-50 YES)
(scsi0) Downloading sequencer code... 406 instructions downloaded
scsi0 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI)
5.1.20/3.2.4
       <Adaptec AIC-7850 SCSI host adapter>
scsi : 1 host.
  Vendor: SEAGATE   Model: ST32550N          Rev: 0021
  Type:   Direct-Access                      ANSI SCSI revision: 02
Detected scsi disk sda at scsi0, channel 0, id 1, lun 0
(scsi0:0:1:0) Using asynchronous transfers.
  Vendor: HP        Model: C1553A            Rev: NS01
  Type:   Sequential-Access                  ANSI SCSI revision: 02
Detected scsi tape st0 at scsi0, channel 0, id 3, lun 0
(scsi0:0:3:0) Using asynchronous transfers.
  Vendor: HP        Model: C1553A            Rev: NS01
  Type:   Medium Changer                     ANSI SCSI revision: 02
scsi : detected 1 SCSI tape 1 SCSI disk total.
SCSI device sda: hdwr sector= 512 bytes. Sectors= 4194058 [2047 MB]
[2.0 GB]
PPP: version 2.3.7 (demand dialling)
TCP compression code copyright 1989 Regents of the University of
California
PPP line discipline registered.
3c59x.c:v0.99H 11/17/98 Donald Becker
http://cesdis.gsfc.nasa.gov/linux/drivers/
vortex.html
eth0: 3Com 3c905B Cyclone 100baseTx at 0xb800,  00:50:04:9b:1e:81, IRQ
11
  8K byte-wide RAM 5:3 Rx:Tx split, autoselect/Autonegotiate
interface.
  MII transceiver found at address 24, status 786d.
  MII transceiver found at address 0, status 786d.
  Enabling bus-master transmits and whole-frame receives.
Partition check:
 sda: sda1 sda2
 hda: hda1 hda2 hda3
 hdc: [PTBL] [620/128/63] hdc1
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 40k freed
3c59x.c:v0.99H 11/17/98 Donald Becker
http://cesdis.gsfc.nasa.gov/linux/drivers/
vortex.html
parport0: PC-style at 0x378 [SPP,ECP,ECPEPP,ECPPS2]
parport0: detected irq 7; use procfs to enable interrupt-driven
operation.
lp0: using parport0 (polling).
3c59x.c:v0.99H 11/17/98 Donald Becker
http://cesdis.gsfc.nasa.gov/linux/drivers/
vortex.html
Unable to handle kernel paging request at virtual address 78c4403c
current->tss.cr3 = 00101000, %cr3 = 00101000
*pde = 00000000
Oops: 0002
CPU:    0
EIP:    0010:[<c0124350>]
EFLAGS: 00010213
eax: cf78c560   ebx: cf78c5c0   ecx: cf78c5c0   edx: 78c44020
esi: cf78c560   edi: cf78c5c0   ebp: c04ced68   esp: cffd3f1c
ds: 0018   es: 0018   ss: 0018
Process kswapd (pid: 5, process nr: 5, stackpage=cffd3000)
Stack: 00000000 00000202 cf78c620 cf78c740 cf78c740 c0125660 cf78c5c0
cffef260
       c04ced40 c0125697 c04ced68 000003fe 00000030 cffd2000 cffef260
cffe1ca0
       00000030 c011a991 c04ced68 c01eba8e 00000030 cffd2000 0000000b
00000006
Call Trace: [<c0125660>] [<c0125697>] [<c011a991>] [<c01eba8e>]
[<c011f5e9>] [<c
01eba8e>] [<c011f6ab>]
       [<c010eb38>] [<c011f711>] [<c0106543>] [<c010654c>]
Code: 89 42 1c 8b 51 1c 8b 41 38 89 42 38 8b 51 28 c1 e2 02 39 8a
-------------------------------
KSYMOOPS OUTPUT:
ksymoops 0.7c on i686 2.2.13.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.2.13/ (default)
     -m /boot/System.map (specified)
Unable to handle kernel paging request at virtual address 78c4403c
current->tss.cr3 = 00101000, %cr3 = 00101000
*pde = 00000000
Oops: 0002
CPU:    0
EIP:    0010:[<c0124350>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010213
eax: cf78c560   ebx: cf78c5c0   ecx: cf78c5c0   edx: 78c44020
esi: cf78c560   edi: cf78c5c0   ebp: c04ced68   esp: cffd3f1c
ds: 0018   es: 0018   ss: 0018
Process kswapd (pid: 5, process nr: 5, stackpage=cffd3000)
Stack: 00000000 00000202 cf78c620 cf78c740 cf78c740 c0125660 cf78c5c0
cffef260
       c04ced40 c0125697 c04ced68 000003fe 00000030 cffd2000 cffef260
cffe1ca0
       00000030 c011a991 c04ced68 c01eba8e 00000030 cffd2000 0000000b
00000006
Call Trace: [<c0125660>] [<c0125697>] [<c011a991>] [<c01eba8e>]
[<c011f5e9>] [<c
01eba8e>] [<c011f6ab>]
       [<c010eb38>] [<c011f711>] [<c0106543>] [<c010654c>]
Code: 89 42 1c 8b 51 1c 8b 41 38 89 42 38 8b 51 28 c1 e2 02 39 8a
>>EIP; c0124350 <remove_from_queues+100/150>   <=====
Trace; c0125660 <try_to_free_buffers+4c/90>
Trace; c0125697 <try_to_free_buffers+83/90>
Trace; c011a991 <shrink_mmap+e1/138>
Trace; c01eba8e <tvecs+1b2e/3280>
Trace; c011f5e9 <do_try_to_free_pages+31/90>
Trace; c01eba8e <tvecs+1b2e/3280>
Trace; c011f6ab <kswapd+63/cc>
Trace; c010eb38 <process_timeout+0/14>
Trace; c011f711 <kswapd+c9/cc>
Trace; c0106543 <kernel_thread+1f/38>
Trace; c010654c <kernel_thread+28/38>
Code;  c0124350 <remove_from_queues+100/150>
00000000 <_EIP>:
Code;  c0124350 <remove_from_queues+100/150>   <=====
   0:   89 42 1c          movl   %eax,0x1c(%edx)   <=====
Code;  c0124353 <remove_from_queues+103/150>
   3:   8b 51 1c          movl   0x1c(%ecx),%edx
Code;  c0124356 <remove_from_queues+106/150>
   6:   8b 41 38          movl   0x38(%ecx),%eax
Code;  c0124359 <remove_from_queues+109/150>
   9:   89 42 38          movl   %eax,0x38(%edx)
Code;  c012435c <remove_from_queues+10c/150>
   c:   8b 51 28          movl   0x28(%ecx),%edx
Code;  c012435f <remove_from_queues+10f/150>
   f:   c1 e2 02          shll   $0x2,%edx
Code;  c0124362 <remove_from_queues+112/150>
  12:   39 8a 00 00 00    cmpl   %ecx,0x0(%edx)
Code;  c0124367 <remove_from_queues+117/150>
  17:   00
George
===[George R. Kasica]===        +1 262 513 8503
President                       +1 206 374 6482 FAX 
Netwrx Consulting Inc.          Waukesha, WI USA 
http://www.netwrx1.com
georgek@netwrx1.com
ICQ #12862186
George, MR. Tibbs & The Beast Kasica
Waukesha, WI USA
georgek@netwrx1.com
http://www.netwrx1.com
ICQ #12862186
      Zz
       zZ
    |\ z    _,,,---,,_
    /,`.-'`'    _   ;-;;,_
   |,4-  ) )-,_..;\ (  `'_'
  '---''(_/--'  `-'\_)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/