Date: Tue, 8 Jun 1999 15:23:30 +0100
From: Matt Aubury <>
Subject: Re: Migrating to larger numbers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/8/99

On Tue, Jun 08, 1999 at 03:46:50PM +0200, Jamie Lokier wrote:
> Matt Aubury wrote:
> >   -- Do dynamic major allocation in the usual way.
> 
> Can you do reliable dynamic major allocation?
> I didn't see any majors reserved for this.
Sadly it appears that there aren't (although I got a different
impression from Rubini's book). The major numbers are allocated
backwards from (MAX_CHRDEV-1).
> The major you pick might be one that is statically allocated by
> a device to be loaded later.
Possibly, but in that case it shouldn't be my driver at fault: the
allocations are done from a range marked "LOCAL/EXPERIMENTAL" in
devices.txt. Unfortunately, as it stands the dynamic allocation code
has major 0 as its lower bound :-/
A sensible policy, IMHO, would be to mark this upper range as
dedicated to dynamic allocation. It's only a documentation issue then.
Cheers,
Matt
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/