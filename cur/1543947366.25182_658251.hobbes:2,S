Date: Fri, 22 Feb 2008 21:09:35 +0100
From: Jiri Slaby <>
Subject: [PATCH 21/21] Char: moxa, add firmware loading fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/22/367

Be more verbose on fw load fail as noted by Oyvind.
Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
Cc: Oyvind Aabling <Oyvind.Aabling@uni-c.dk>
---
 drivers/char/moxa.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)
diff --git a/drivers/char/moxa.c b/drivers/char/moxa.c
index 3c248bb..57616c1 100644
--- a/drivers/char/moxa.c
+++ b/drivers/char/moxa.c
@@ -846,7 +846,10 @@ static int moxa_init_board(struct moxa_board_conf *brd, struct device *dev)
 
 	ret = request_firmware(&fw, file, dev);
 	if (ret) {
-		printk(KERN_ERR "request_firmware failed\n");
+		printk(KERN_ERR "MOXA: request_firmware failed. Make sure "
+				"you've placed '%s' file into your firmware "
+				"loader directory (e.g. /lib/firmware)\n",
+				file);
 		goto err_free;
 	}
 
-- 
1.5.4.1