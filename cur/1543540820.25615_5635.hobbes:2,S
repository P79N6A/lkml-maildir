Date: Fri, 4 Aug 2000 23:22:36 -0700 (PDT)
From: "Mr. James W. Laferriere" <>
Subject: eepro100.c 1.20.2.10 $ 2000/05/31 , Intermitant offline without log .
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/5/5

	Hello Andrey ,  I have been getting intermitant offlines of the
	eth0 (eepro100) .  This happens with or without load on the 
	system though I do notice it more under load than not .  The card
	(or driver) will quit receiving & transmitting for periods of
	~ 5 minutes to 15 minutes ,  But if the stall goes longer than
	that it will not on its own return .  I can unplug the rj45 cable
	from the card & plug it back in & it will (well has so far)
	returned from lala land .  Pertinent info is below .sig .
	Also the card is plugged into a Netgear 10/100 ds-108 8 port hub .
	But there are no logs of any failure of any subsystem . So I am
	at a loss as to even figure out where to go from here .
		Tia ,  JimL
       +----------------------------------------------------------------+
       | James   W.   Laferriere | System  Techniques | Give me VMS     |
       | Network        Engineer | 25416      22nd So |  Give me Linux  |
       | babydr@baby-dragons.com | DesMoines WA 98198 |   only  on  AXP |
       +----------------------------------------------------------------+
-- Versions installed: (if some fields are empty or looks
-- unusual then possibly you have very old versions)
Slackware v. 7.0.0
Linux cp1500r 2.2.17pre13 #1 SMP Fri Jul 28 16:05:25 PDT 2000 i586 unknown
Kernel modules         2.1.121
Gnu C                  egcs-2.91.66
Binutils               2.9.1.0.25
Linux C Library 6 -    libc-2.1.2
Dynamic Linker (ld.so) 1.9.9
Linux C++ Library      Notfound
Procps                 2.0.2
Mount                  2.9v
Net-tools              1.52
Kbd                    0.99
Sh-utils               1.16
Flex                   2.5.4
E2fsprogs              1.15
Linux version 2.2.17pre13 (root@cp1500r) (gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)) #1 SMP Fri Jul 28 16:05:25 PDT 2000
Intel MultiProcessor Specification v1.1
    Virtual Wire compatibility mode.
I/O APIC at 0xFEC00000.
Bus #0 is EISA
Bus #1 is PCI
Processors: 2
mapped APIC to ffffe000 (fee00000)
mapped IOAPIC to ffffd000 (fec00000)
Detected 133616 kHz processor.
Console: colour VGA+ 80x25
Calibrating delay loop... 266.24 BogoMIPS
Memory: 256432k/261120k available (1332k kernel code, 420k reserved, 2856k data, 80k init)
Dentry hash table entries: 32768 (order 6, 256k)
Buffer cache hash table entries: 262144 (order 8, 1024k)
Page cache hash table entries: 65536 (order 6, 256k)
Checking 386/387 coupling... OK, FPU using exception 16 error reporting.
Checking 'hlt' instruction... OK.
Intel Pentium with F0 0F bug - workaround enabled.
POSIX conformance testing by UNIFIX
per-CPU timeslice cutoff: 1.56 usecs.
CPU0: Intel Pentium 75 - 200 stepping 0b
calibrating APIC timer ... 
..... CPU clock speed is 133.6182 MHz.
..... system bus clock speed is 66.8088 MHz.
Booting processor 1 eip 2000
Calibrating delay loop... 267.06 BogoMIPS
OK.
CPU1: Intel Pentium 75 - 200 stepping 0c
Total of 2 processors activated (533.30 BogoMIPS).
enabling symmetric IO mode... ...done.
ENABLING IO-APIC IRQs
no explicit IRQ entries, using default mptable
...changing IO-APIC physical APIC ID to 2...
...changing IO-APIC physical APIC ID to 0
init IO_APIC IRQs
 IO-APIC (apicid-pin) 0-0, 0-13 not connected.
number of MP IRQ sources: 14.
number of IO-APIC #0 registers: 16.
testing the IO APIC.......................
IO APIC #0......
.... register #00: 00000000
.......    : physical APIC id: 00
.... register #01: 000F0011
.......     : max redirection entries: 000F
.......     : IO APIC version: 0011
.... register #02: 00000000
.......     : arbitration: 00
.... IRQ redirection table:
 NR Log Phy Mask Trig IRR Pol Stat Dest Deli Vect:   
 00 000 00  1    0    0   0   0    0    0    00
 01 000 00  0    0    0   0   0    1    1    59
 02 0FF 0F  0    0    0   0   0    1    1    51
 03 000 00  0    0    0   0   0    1    1    61
 04 000 00  0    0    0   0   0    1    1    69
 05 0FF 0F  1    1    0   0   0    1    1    71
 06 000 00  0    0    0   0   0    1    1    79
 07 000 00  0    0    0   0   0    1    1    81
 08 000 00  0    0    0   0   0    1    1    89
 09 0FF 0F  1    1    0   0   0    1    1    91
 0a 0FF 0F  1    1    0   0   0    1    1    99
 0b 0FF 0F  1    1    0   0   0    1    1    A1
 0c 000 00  0    0    0   0   0    1    1    A9
 0d 000 00  1    0    0   0   0    0    0    00
 0e 0FF 0F  1    1    0   0   0    1    1    B1
 0f 0FF 0F  1    1    0   0   0    1    1    B9
IRQ to pin mappings:
IRQ0 -> 2
IRQ1 -> 1
IRQ3 -> 3
IRQ4 -> 4
IRQ5 -> 5
IRQ6 -> 6
IRQ7 -> 7
IRQ8 -> 8
IRQ9 -> 9
IRQ10 -> 10
IRQ11 -> 11
IRQ12 -> 12
IRQ14 -> 14
IRQ15 -> 15
.................................... done.
checking TSC synchronization across CPUs: passed.
PCI: PCI BIOS revision 2.10 entry at 0xf005e
PCI: Using configuration type 1
PCI: Probing PCI hardware
PCI: 00:00 [0e11/4000/000600] has unknown header type ff, ignoring.
PCI: 00:01 [0e11/4000/000600] has unknown header type ff, ignoring.
PCI: 00:02 [0e11/4000/000600] has unknown header type ff, ignoring.
PCI: 00:03 [0e11/4000/000600] has unknown header type ff, ignoring.
PCI: 00:04 [0e11/4000/000600] has unknown header type ff, ignoring.
PCI: 00:05 [0e11/4000/000600] has unknown header type ff, ignoring.
PCI: 00:06 [0e11/4000/000600] has unknown header type ff, ignoring.
PCI: 00:07 [0e11/4000/000600] has unknown header type ff, ignoring.
PCI: Device 00:78 not found by BIOS
Linux NET4.0 for Linux 2.2
Based upon Swansea University Computer Society NET3.039
NET4: Unix domain sockets 1.0 for Linux NET4.0.
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP
TCP: Hash tables configured (ehash 262144 bhash 65536)
IPv4 over IPv4 tunneling driver
early initialization of device tunl0 is deferred
GRE over IPv4 tunneling driver
early initialization of device gre0 is deferred
Initializing RT netlink socket
Starting kswapd v 1.5 
Serial driver version 4.27 with no serial options enabled
ttyS00 at 0x03f8 (irq = 4) is a 16550A
ttyS01 at 0x02f8 (irq = 3) is a 16550A
pty: 256 Unix98 ptys configured
Real Time Clock Driver v1.09
RAM disk driver initialized:  16 RAM disks of 8192K size
loop: registered device at major 7
Floppy drive(s): fd0 is 1.44M
FDC 0 is a National Semiconductor PC87306
DAC960: ***** DAC960 RAID Driver Version 2.2.5 of 23 January 2000 *****
DAC960: Copyright 1998-2000 by Leonard N. Zubkoff <lnz@dandelion.com>
DAC960#0: Configuring Mylex DAC960PD PCI RAID Controller
DAC960#0:   Firmware Version: 3.51-0-04, Channels: 3, Memory Size: 32MB
DAC960#0:   PCI Bus: 0, Device: 12, Function: 0, I/O Address: 0x7400
DAC960#0:   PCI Address: 0x40000000 mapped at 0xD0002000, IRQ Channel: 14
DAC960#0:   Controller Queue Depth: 64, Maximum Blocks per Command: 1024
DAC960#0:   Driver Queue Depth: 63, Maximum Scatter/Gather Segments: 17
DAC960#0:   Stripe Size: 64KB, Segment Size: 64KB, BIOS Geometry: 255/63
DAC960#0:   Physical Devices:
DAC960#0:     0:0  Vendor: COMPAQ    Model: ST15150W          Revision: 6215
DAC960#0:          Serial Number: 01326145
DAC960#0:          Disk Status: Online, 8384512 blocks
DAC960#0:     0:1  Vendor: COMPAQ    Model: ST15150W          Revision: 6215
DAC960#0:          Serial Number: 01245287
DAC960#0:          Disk Status: Online, 8384512 blocks
DAC960#0:     0:2  Vendor: COMPAQ    Model: ST15150W          Revision: 6215
DAC960#0:          Serial Number: 01339111
DAC960#0:          Disk Status: Online, 8384512 blocks
DAC960#0:     0:3  Vendor: COMPAQ    Model: ST15150W          Revision: 6215
DAC960#0:          Serial Number: 02306614
DAC960#0:          Disk Status: Online, 8384512 blocks
DAC960#0:     0:4  Vendor: COMPAQ    Model: ST15150W          Revision: 6215
DAC960#0:          Serial Number: 00813340
DAC960#0:          Disk Status: Online, 8384512 blocks
DAC960#0:   Logical Drives:
DAC960#0:     /dev/rd/c0d0: RAID-5, Online, 33538048 blocks, Write Thru
ncr53c8xx: at PCI bus 0, device 10, function 0
ncr53c8xx: 53c825 detected 
ncr53c825-0: rev=0x02, base=0x10300000, io_port=0x7100, irq=14
ncr53c825-0: ID 7, Fast-10, Parity Checking
ncr53c825-0: restart (scsi reset).
scsi0 : ncr53c8xx - version 3.2a-2
scsi : 1 host.
  Vendor: COMPAQ    Model: ST15150W          Rev: 6215
  Type:   Direct-Access                      ANSI SCSI revision: 02
Detected scsi disk sda at scsi0, channel 0, id 0, lun 0
  Vendor: COMPAQ    Model: CD-ROM CR-503BCQ  Rev: 1.1i
  Type:   CD-ROM                             ANSI SCSI revision: 02
Detected scsi CD-ROM sr0 at scsi0, channel 0, id 6, lun 0
ncr53c825-0-<0,0>: tagged command queue depth set to 4
scsi : detected 2 SCSI generics 1 SCSI cdrom 1 SCSI disk total.
ncr53c825-0-<6,*>: device did not report SYNC.
Uniform CD-ROM driver Revision: 3.11
ncr53c825-0-<0,*>: FAST-10 WIDE SCSI 20.0 MB/s (100 ns, offset 8)
SCSI device sda: hdwr sector= 512 bytes. Sectors= 8386000 [4094 MB] [4.1 GB]
defxx.c:v1.04 09/16/96  Lawrence V. Stefani (stefani@lkg.dec.com)
fddi0: DEFEA at I/O addr = 0x2000, IRQ = 10, Hardware addr = 08-00-2B-B7-27-A5
PPP: version 2.3.7 (demand dialling)
TCP compression code copyright 1989 Regents of the University of California
PPP line discipline registered.
PPP BSD Compression module registered
PPP Deflate Compression module registered
eepro100.c:v1.09j-t 9/29/99 Donald Becker 
http://cesdis.gsfc.nasa.gov/linux/drivers/eepro100.html
eepro100.c: $Revision: 1.20.2.10 $ 2000/05/31 Modified by Andrey V. Savochkin <saw@saw.sw.com.sg> and others
eth0: Intel PCI EtherExpress Pro100 82557, 00:A0:C9:2B:F0:FD, IRQ 11.
  Board assembly 352509-003, Physical connectors present: RJ45
  Primary interface chip DP83840 PHY #1.
  DP83840 specific setup, setting register 23 to 8462.
  General self-test: passed.
  Serial sub-system self-test: passed.
  Internal registers self-test: passed.
  ROM checksum self-test: passed (0x49caa8d6).
  Receiver lock-up workaround activated.
eepro100.c:v1.09j-t 9/29/99 Donald Becker 
http://cesdis.gsfc.nasa.gov/linux/drivers/eepro100.html
eepro100.c: $Revision: 1.20.2.10 $ 2000/05/31 Modified by Andrey V. Savochkin <saw@saw.sw.com.sg> and others
TLAN 1.3b: eth1 irq= 9 io=7000, Compaq NetFlex-3/P, Rev. 16
Partition check:
 sda: sda1 sda2 sda3
 rd/c0d0: rd/c0d0p1
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 80k freed
Adding Swap: 136544k swap-space (priority -1)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/