Date: Thu, 03 Oct 2002 10:11:37 -0700 (PDT)
From: "David S. Miller" <>
Subject: Re: virt_to_page(pci_alloc_consistent())
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/3/261

   From: Pete Zaitcev <zaitcev@redhat.com>
   Date: Thu, 3 Oct 2002 12:25:10 -0400
   > Date: Thu, 03 Oct 2002 01:03:44 -0700 (PDT)
   > From: "David S. Miller" <davem@redhat.com>
   
   > I think we MUST allow architectures to do what SPARC and ARM
   > do, there is simply no other way to change the page protections
   > easily for these kinds of systems.
   
   I can fix sparc, dunno about others. Do you have a problem
   on sparc64? Are you using a huge page to map the kernel?
ARM I believe does not have luxury you have.
See, some processors are like MIPS and something sort of
KSEG0 is used for PAGE_OFFSET mapping of physical pages.
So pages with page protections changes must live in some other
area of the kernel address space just like vmalloc() to get
the different protection bits.
I really would like sun4m to use big pages for the PAGE_OFFSET
mappings when possible Peter.  So I even don't think fixing Sparc
the way I know you are likely to is wise.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/