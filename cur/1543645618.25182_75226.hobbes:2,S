Date: Tue, 1 Oct 2002 12:18:26 +0100
From: Dave Jones <>
Subject: Re: CPU/cache detection wrong
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/1/66

On Mon, Sep 30, 2002 at 09:06:10PM -0400, David L. DeGeorge wrote:
 > I too have incorrect CPU/cache detection using  2.4.20-pre7-ac3. I seem to 
 > recall it working correctly on 2.4.19-ac1 (this was the version in which the 
 > ac did not get added by the patch). Anyway I have a tualatin PIII with a 512K 
 > L2 cache.
Some of the tualatins have an errata which makes L2 cache sizing
impossible. They actually report they have 0K L2 cache. By checking
the CPU model, we can guess we have at least 256K (which is where Linux
got that number from in your case). But this however means the 512K
models will report as 256K too.
To work around it, boot with cachesize=512 and all will be good.
		Dave
-- 
| Dave Jones.        
http://www.codemonkey.org.uk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/