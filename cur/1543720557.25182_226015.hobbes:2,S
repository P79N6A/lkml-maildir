Date: Tue, 8 Jun 2004 14:36:56 +0200
From: Nigel Kukard <>
Subject: SMBFS crash
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/8/79

Hi Guys,
I get the following error trying to access a mounted smb filesystem.
100% reproducable on my sytem.
Please let me know if you require anymore info.
Regards
Nigel Kukard
smb_lookup: find //.Trash-nkukard failed, error=-5
Unable to handle kernel NULL pointer dereference at virtual address
00000000
 printing eip:
00000000
*pde = 00000000
Oops: 0000 [#1]
PREEMPT SMP
CPU:    0
EIP:    0060:[<00000000>]    Tainted: P
EFLAGS: 00210246   (2.6.6)
EIP is at 0x0
eax: c4b94e80   ebx: c9d71b90   ecx: c016e430   edx: d00e3fa0
esi: 00000000   edi: c4b94e80   ebp: c93f0cf8   esp: d00e3f18
ds: 007b   es: 007b   ss: 0068
Process nautilus (pid: 4131, threadinfo=d00e2000 task=defa5670)
Stack: e0ac90b2 d00e3f40 c0dccebc 00000000 c101b160 c0d8b000 c0d81c54
c0dcce18
       c016e430 d00e3fa0 00000000 00462953 00000000 00000000 00000000
c0d8b000
       00000002 00000000 00000000 00000001 00000004 ffffffe0 e0ad1d80
c4b94e80
Call Trace:
 [<e0ac90b2>] smb_readdir+0x162/0x4e0 [smbfs]
 [<c016e430>] filldir64+0x0/0xf0
 [<c016e1ab>] vfs_readdir+0x8b/0xa0
 [<c016e430>] filldir64+0x0/0xf0
 [<c016e585>] sys_getdents64+0x65/0xa1
 [<c0105f57>] syscall_call+0x7/0xb
Code:  Bad EIP value.
[unhandled content-type:application/pgp-signature]