Date: Thu, 20 Mar 2008 15:58:17 +0100
From: Johannes Berg <>
Subject: Re: [PATCH/RFC] introduce ARCH_CAN_UNALIGNED_ACCESS Kconfig symbol
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/20/114

On Thu, 2008-03-20 at 14:39 +0000, Will Newton wrote:
> On Thu, Mar 20, 2008 at 2:34 PM, Johannes Berg
> <johannes@sipsolutions.net> wrote:
> 
> >  +For some ethernet hardware that cannot DMA to unaligned addresses like
> >  +4*n+2 or non-ethernet hardware, this can be a problem, and it is then
> >  +required to copy the incoming frame into an aligned buffer. Because this is
> >  +unnecessary on architectures that can do unaligned accesses, the code can be
> >  +made depend on CONFIG_ARCH_CAN_UNALIGNED_ACCESS like so:
> >  +
> >  +#ifdef CONFIG_ARCH_CAN_UNALIGNED_ACCESS
> >  +       skb = copy skb
> >  +#else
> >  +       skb = original skb
> >  +#endif
> 
> Is this logic reversed?
Euh, indeed, thanks. Will repost after having more comments.
johannes
[unhandled content-type:application/pgp-signature]