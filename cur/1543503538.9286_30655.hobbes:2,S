Date: Wed, 21 Jul 1999 14:21:05 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: [2.3.11=pre6]: No OOPS, but mount segfaults remounting "/"?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/21/120

On Wed, 21 Jul 1999, Alexander Viro wrote:
> 
> Aha. They are mostly equivalent, except that I missed low-level stuff on
> x86 and you left release_segments() in the blocking part (why?).
I think "release_segments()" is a user-mode thing. And who knows, on some
architectures it could block.
But hey, that was not really much of a decision, it just happened.
> Non-obvious difference: destroy_context() is gone in your version. Methink
> we'ld better leave it around... Probably it's a question to DaveM - all
> non-trivial context stuff sits in sun4c.c and srmmu.c.
I didn't want to leave it there: we still continue to use the context,
it's just lazy now. So I suspect destroy_context should go into the
__mmdrop() part, but without any deeper knowledge of any architecture that
needs it I didn't want to make the decision.
Good that you pointed it out, though. There are likely to be other
architecture issues that may need tweaking.
> Another thing: checks in binfmt_{elf,aout,whatnot}.c (is it dumpable?)
> should go into the top-level code. Otherwise we'll spend the eternity
> trying to resync all copies. I'll do it if you have no objections.
Sure.
>								 And it
> starts to smell like we would be better off with a kernel/mm.c instead of
> all having the context-related stuff scattered over the tree. Comments?
What kind of stuff?
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/