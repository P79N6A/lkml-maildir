Date: Tue, 23 Mar 2004 09:12:36 +0100
From: Arjan van de Ven <>
Subject: Re: [PATCH][RELEASE] megaraid 2.10.2 Driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/23/22

On Tue, 2004-03-23 at 00:07, Jeff Garzik wrote:
> Bagalkote, Sreenivas wrote:
> > Hello,
> > @@ -45,6 +46,10 @@
> > 
> >  #include "megaraid2.h"
> > 
> > +#ifdef LSI_CONFIG_COMPAT
> > +#include <asm/ioctl32.h>
> > +#endif
> > +
> 
> For upstream, this should just be CONFIG_COMPAT I presume.
well we should fix all arch's to provide a dummy header I guess so that
we don't need fugly ifdefs.
> > 
> > +#ifdef LSI_CONFIG_COMPAT
> > +		/*
> > +		 * Register the 32-bit ioctl conversion
> > +		 */
> > +		register_ioctl32_conversion(MEGAIOCCMD,
> > megadev_compat_ioctl);
> > +#endif
> > +
> 
> ditto
ditto about providing a stub register_ioctl32_conversion().
[unhandled content-type:application/pgp-signature]