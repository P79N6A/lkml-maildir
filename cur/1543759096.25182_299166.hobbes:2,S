Date: Thu, 03 Mar 2005 14:21:25 -0800
From: Trond Myklebust <>
Subject: Re: x86_64: 32bit emulation problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/3/365

to den 03.03.2005 Klokka 22:46 (+0100) skreiv Andi Kleen:
> > As far as the kernel is concerned, asm/posix_types defines
> > __kernel_ino_t as "unsigned long" on most platforms (except a few which
> > define is as "unsigned int). We don't care what size type glibc itself
> > uses.
> 
> That could easily be changed and even pass out 64bit inodes
> on 32bit systems.  The stat64 syscall ABI allows this.
> 
> Perhaps that should be done and then you could drop the truncation
> code. 
That would be the ideal solution. I don't see that the current system of
truncating is helping anyone.
> Of couse this would expose the glibc Bug Bernd ran into on 32bit
> too, but at some point they have to fix that bogosity anyways.
Right.
Cheers,
  Trond
-- 
Trond Myklebust <trond.myklebust@fys.uio.no>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/