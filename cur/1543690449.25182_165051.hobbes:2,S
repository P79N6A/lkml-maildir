Date: Thu, 11 Sep 2003 12:10:22 +1000
From: Rusty Russell <>
Subject: Re: [RFC] add kobject to struct module
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/10/415

In message <20030911000429.GF1461@matchmail.com> you write:
> On Wed, Sep 10, 2003 at 04:45:38PM -0700, Greg KH wrote:
> > To quote from include/linux/moduleparam.h:
> > /* This is the fundamental function for registering boot/module
> >    parameters.  perm sets the visibility in driverfs: 000 means it's
> >    not there, read bits mean it's readable, write bits mean it's
> >    writable. */
> 
> Any chance to make it always visible and read-only by default with the
> option of making it writable?
Nope.  The author specifies exactly what they want, no default.  It's
just safer this way: see RMK's concerns about what would happen if we
did it to unsuspecting module authors... 
See include/linux/moduleparam.h, especially the module_param() macro.
> Any chance the parameter defaults (if they're not hard coded...) could be
> exposed even if they're not given to the module on the command line?  (wish
> list...)
They should be there.  It would be nice to have some way of telling
which ones were modified, so that a userspace util could save just
those ones on shutdown, for example.  I can't think of an obvious way
of doing this though (mtime > epoch maybe?).
Cheers,
Rusty.
--
  Anyone who quotes me in their sig is an idiot. -- Rusty Russell.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/