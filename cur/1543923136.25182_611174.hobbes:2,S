Date: Sun, 28 Oct 2007 09:51:42 -0700
From: Greg KH <>
Subject: Re: [PATCH] Align PCI memory regions to page size (4K)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/28/91

On Sun, Oct 28, 2007 at 11:00:38AM -0400, Barak Fargoun wrote:
> Add a boot parameter ('pci-mem-align') which forces PCI memory regions
> to be aligned to 4K. 
> 
> 
> 
> This is very useful when developing an hypervisor, since in case we want
> to let native domains direct access to specific hardware, we don't want
> PCI devices to share their memory region page with other devices. In Xen
> for example, PCI devices mmio resources are mapped by remapping complete
> pages (by Intel VT-d & the Neocleus pass-through patch for Xen).
> 
> 
> 
> Signed-off-by: Barak Fargoun     (barak@neocleus.com)
> 
> ---
> 
> Kernel version: 2.6.18
Patches against year old kernel versions usually do not work :)
> 
> ---
> 
> diff -r 840b9df48b6a drivers/pci/bus.c
> 
> --- a/drivers/pci/bus.c   Tue Aug 07 09:37:41 2007 +0100
> 
> +++ b/drivers/pci/bus.c                Sun Oct 28 08:40:52 2007 -0400
> 
> @@ -16,6 +16,8 @@
> 
>  #include <linux/init.h>
> 
> 
> 
>  #include "pci.h"
> 
> +
Your patch is majorly corrupted by your email client.  Can you please
fix this and try again?
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/