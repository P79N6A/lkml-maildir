Date: Fri, 22 Jan 1999 15:51:00 +0000
From: Steve Dodd <>
Subject: Re: Are WDC AC33100H & AC31600H DMA-safe?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/22/318

Hi,
On Thu, Jan 21, 1999 at 07:06:08PM +0200, Koby Kahane wrote:
> I've noticed that my boot messages say that DMA is disabled for my
> 2nd and 3rd hard disks. Is it safe for me to enable DMA (via hdparm)
> for these drive models or should I stick to none-DMA mode?
Drives generally get blacklisted for DMA because, say, 5% of users of those
drives report problems with DMA. DMA problems are serious and can cause fs
corruption. It was (IMO sensibly) that it was better for 95% of people to
have to use hdparm than for 5% of people to lose data.
You don't lose anything over 2.0 as that didn't enable DMA on boot for any
drivers. If OTOH you used hdparm to switch on DMA mode under 2.0, there's no
reason I can see why you should have problems under 2.2.
If you haven't used DMA on the drive under Linux before (e.g. in 2.0 w/
hdparm), proceed with caution. Back up your data. Test it extensively with
your partitions mounted read-only to start with. Chances are you'll be OK,
but there's always about a 1-5% risk, I imagine, that you have a dodgy drive.
I believe there maybe a firmware upgrade available for some Western Digital
drives - if so I've no idea you'd upgrade the firmware on an IDE controller!
S.
-- 
We are Linux. Resistance is an indication that you missed the point.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/