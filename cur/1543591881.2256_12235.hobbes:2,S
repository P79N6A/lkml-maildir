Date: Mon, 21 May 2001 14:19:07 -0600
From: Michal Jaegermann <>
Subject: Re: Compile fails an Alpha: include/asm/pci.h included from arch/alpha/kernel/setup.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/21/151

On Mon, May 21, 2001 at 05:18:55PM +0200, Jan-Benedict Glaw wrote:
> 
> Kernel 2.4.5-pre[34] don't compile on Alpha:
> 
....
>     152         struct pci_controller *hose = pdev->sysdata;
                                                 ^^^
This is the problem (a type for 'pdev' is not defined).
And this is a possible fix:
--- linux-2.4.4ac/include/asm-alpha/pci.h~	Sat May 19 16:43:11 2001
+++ linux-2.4.4ac/include/asm-alpha/pci.h	Sat May 19 17:23:56 2001
@@ -6,6 +6,7 @@
 #include <linux/spinlock.h>
 #include <asm/scatterlist.h>
 #include <asm/machvec.h>
+#include <linux/pci.h>
 
 /*
  * The following structure is used to manage multiple PCI busses.
The patch is for 2.4.4-ac11, so offsets are possibly slightly different,
but probably not. :-)
  Michal
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/