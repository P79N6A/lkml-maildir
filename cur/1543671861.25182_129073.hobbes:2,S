Date: Thu, 1 May 2003 15:33:25 +0100
From: Christoph Hellwig <>
Subject: Re: must-fix list for 2.6.0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/1/78

drivers/scsi/
 - large parts of the locking are hosed or not existant
      o shost->my_devices isn't locked down at all
      o the host list ist locked but not refcounted, mess can
         happen when the spinlock is dropped
      o there are lots of members of struct Scsi_Host/scsi_device/scsi_cmnd
        with very unclear locking, many of them probably want to become
	atomic_t's or bitmaps (for the 1bit bitfields).
      o there's lots of volatile abuse in the scsi code that needs to
        be thought about.
      o there's some global variables incremented without any locks
fs/devfs/
 - there's a fundamental lookup vs devfsd race that's only fixable
   by introducing a lookup vs devfs deadlock.  I can't see how this
   is fixable without getting rid of the current devfsd design.
   Mandrake seems to have a workaround for this so this is at least
   not triggered so easily, but that's not what I'd considere a fix..
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/