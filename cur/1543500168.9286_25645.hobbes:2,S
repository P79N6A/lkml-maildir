Date: Wed, 23 Jun 1999 09:20:45 +0200
From: Helge Hafting <>
Subject: 2.3.8 kernel BUG at buffer.c:1218 (killed bonnie)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/23/52

A bonnie test was killed by a bug in buffer.c
The test that failed:
	if (page->owner != -1)
		PAGE_BUG(page);   //Line 1218
This is a uniprocessor kernel, compiled with gcc 2.7.2.3, no extra
patches.
Bonnie tried to use a 100M file, the machine has 32M ram and 96M swap.
Please tell if there is anything more I can do to help with this.
Helge Hafting
From /var/log/messages
Jun 23 08:46:25 hh kernel: attempt to access beyond end of device 
Jun 23 08:46:25 hh kernel: 03:03: rw=0, want=50462977, limit=2048760 
Jun 23 08:46:25 hh kernel: attempt to access beyond end of device 
Jun 23 08:46:25 hh kernel: 03:03: rw=0, want=50462977, limit=2048760 
.
. huge amounts of this...
.
Jun 23 08:46:36 hh kernel: attempt to access beyond end of device 
Jun 23 08:46:36 hh kernel: 03:03: rw=0, want=1465275733, limit=2048760 
Jun 23 08:46:36 hh kernel: kernel BUG at buffer.c:1218! 
Jun 23 08:46:36 hh kernel: invalid operand: 0000 
Jun 23 08:46:36 hh kernel: CPU:    0 
Jun 23 08:46:36 hh kernel: EIP:    0010:[end_buffer_io_async+234/320] 
Jun 23 08:46:36 hh kernel: EFLAGS: 00010292 
Jun 23 08:46:36 hh kernel: eax: 0000001d   ebx: 00000000   ecx:
c01c49c8   edx: c002a000 
Jun 23 08:46:36 hh kernel: esi: c02afdd8   edi: c16d8de0   ebp:
00000400   esp: c123be4c 
Jun 23 08:46:36 hh kernel: ds: 0018   es: 0018   ss: 0018 
Jun 23 08:46:36 hh kernel: Process bonnie (pid: 3260, process nr: 33,
stackpage=c123b000) 
Jun 23 08:46:36 hh kernel: Stack: 000004c2 00000002 c16d8de0 00000000
c0175dbd c16d8de0 00000000 00000001  
Jun 23 08:46:36 hh kernel:        c123bee8 00000004 00000400 00000002
c1f44708 c012b3d2 5f5e5d5c aeacaaa8  
Jun 23 08:46:36 hh kernel:        c0175f0f 00000003 00000000 c16d8de0
c16d8e40 00000004 c02afdd8 c1f44708  
Jun 23 08:46:36 hh kernel: Call Trace: [make_request+1645/1664]
[__brelse+66/96] [ll_rw_block+319/432] [block_read_full_page+
385/480] [do_generic_file_read+1270/2208] [generic_file_write+614/736]
[generic_file_read+100/128]  
Jun 23 08:46:36 hh kernel:        [file_read_actor+0/80]
[sys_read+198/240] [system_call+52/56] [startup_32+43/286]  
Jun 23 08:46:36 hh kernel: Code: 0f 0b 83 c4 0c c7 46 38 00 00 00 00 0f
b3 5e 18 19 c0 85 c0
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/