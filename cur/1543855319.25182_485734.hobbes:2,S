Date: Sun, 26 Nov 2006 04:09:06 -0800
From: Howard Chu <>
Subject: re: skge error; hangs w/ hardware memory hole (was re: X86_64 + VIA + 4g problems)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/26/28

References: <20060703205238.GA10851@deprecation.cyrius.com> 
<p73bqyufo97.fsf@verdi.suse.de>
Just to tie up a loose end... I tested Andi Kleen's new patch for this 
issue on 2.6.18.3. While the patch didn't automatically detect the VIA 
chipset in my Asus A8V Deluxe, it allowed me to manually set a boot 
option that fixes the problem (by disabling DMA to addresses over 4GB). 
The fix is essentially the same as Andi posted here
http://groups.google.com/group/linux.kernel/msg/b1e820ef0212ee5e
although you have to patch pci-dma.c now, not pci-gart.c.
As another note - with my AGP aperture set to only 64MB, 3904MB are 
visible. With the aperture set to 256MB, the full 4096MB are visible.
-- 
  -- Howard Chu
  Chief Architect, Symas Corp.  
http://www.symas.com
  Director, Highland Sun        
http://highlandsun.com/hyc
  OpenLDAP Core Team            
http://www.openldap.org/project/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/