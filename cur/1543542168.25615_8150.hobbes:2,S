Date: Wed, 23 Aug 2000 22:10:50 +0100 (BST)
From: Tigran Aivazian <>
Subject: Re: SCO: "thread creation is about a thousand times faster than
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/23/204

On Thu, 24 Aug 2000, Chris Wedgwood wrote:
>     If my benching is right he has rather few instructions to make a
>     clone 1000x faster ;)
> 
> Nobody has defined faster... what if he is talking about metrics
> other than thread/lwp creation? How does an application that makes
> heavy use of threads scale under linux compared to SCO?
Have you read the original claim? Here it is:
                SCO's Juergen Kienhoefer tells us that by
                mapping clone processes directly onto
                UnixWare's native threads, huge performance
                gains can be realised. "Basically thread creation
                is about a thousand times faster than on native
                Linux," he said. 
so, we are talking about thread creation only. Nobody would dare to even
suggest that actually "running" those threads is "faster" - that would be
a scheduler issue and not a clone(2) efficiency issue. So, he is mapping
clone(2) onto _lwp_create(2) (well, actually not exactly, I can't remember
exactly what he does) so the above claim would suggest that
_lwp_create(2) (with some default/reasonable flags) is 1000x faster than
clone(2) (e.g. do_fork(CLONE_VM|SIGCHLD, regs)). This I believe to be a
lie.
I haven't verified this specific fact but I've done a lot of "UW7 vs
Linux" micro-benchmarking (i.e. individual system calls) and found that
UW7 is generally a lot slower than Linux. The only case to the contrary
was the wait(2) system call (but that is a scheduling issue and we even
briefly discussed with someone
 ages ago).
A good example to see how slow is UW7 - try opening million instances of
the same file in a loop. And compare that to Linux - you will see (can't
remember exactly, but approximately Linux being several thousands times
faster (because it finds unused fd in hardware whilst UW7 in a plain
software loop).
Regards.
Tigran
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/