Date: Thu, 15 Jun 2006 09:06:55 -0700 (PDT)
From: Christoph Lameter <>
Subject: Re: light weight counters: race free through local_t?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/15/146

Hmm... What about side effects such as pipeline stalls? fetchadd is 
semaphore operation. Typically we use acquire semantics for volatiles. 
Here the fetchadd has release semantics.
If we would use release semantics then the fetchadd would require all 
prior accesses to be complete.
Acquire semantics may be easier. But the best would be a fetchadd without 
any serialization that would be like the inc/dec memory on i386, which 
does not exist in the IA64 instruction set.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/