Date: Thu, 15 Apr 2004 23:13:40 +0200
From: Florian Weimer <>
Subject: Re: Overlay ramdisk on filesystem?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/15/220

Timothy Miller <miller@techsource.com> writes:
> I have a feeling that this may be a bit too off-topic, but I'm doing
> some Linux and hardware performance tests, and some of the tests will
> put the hardware into an unstable state which could get memory errors
> which could cause filesystem corruption.
In the presence of memory errors, all bets are off anyway.
> I would like to know how I could overlay a RAM disk over a read-only
> filesystem so that all new files and modified files end up in the RAM
> disk, but old files are read from the disk.  This way, when I reboot,
> the disk reverts back.
You might have to tweak the underlying file system, too.  IIRC, ext2
avoids to reallocate freshly deallocated blocks, to prevent
fragmentation.  This will waste a lot of RAM on the long run.
-- 
Current mail filters: many dial-up/DSL/cable modem hosts, and the
following domains: bigpond.com, postino.it, tiscali.co.uk, tiscali.cz,
tiscali.it, voila.fr.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/