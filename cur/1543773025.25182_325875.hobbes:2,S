Date: Thu, 16 Jun 2005 01:34:13 +0200
From: Lukasz Stelmach <>
Subject: Re: A Great Idea (tm) about reimplementing NLS.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/15/233

Lennart Sorensen napisał(a):
>>And it is good in a way, however, i think kernel level translation
>>should be also possible. Either done by a code in each filsystem or by
>>some layer above it.
> 
> What do you do if the underlying filesystem can not store some unicode
> characters that are allowed on others?
That's why UTF-8 is suggested. UTF-8 has been developed to "fool" the
software that need not to be aware of unicodeness of the text it manages
to handle it without any hickups *and* to store in the text information
about multibyte characters.What characters exactly you do mean? NULL?
There is no NULL byte in any UTF-8 string except the one which
terminates it.
> VFAT uses unicode?  I thought it used the same codepage silyness as FAT
> did, since after all ti was just supposed to be a long filename
> extension to FAT.  Do they use unicode in the long filenames only?
Yes, it uses unicode. And dos codepages in short ones. To prove this
take a vfat floppy and mount it. touch(1) a file on it that has some
non latin1 characters. Unmount the floppy then do dd if=/dev/fd0
of=/tmp/floppy bs=1024 count=512. While it's done take some hex
editor/viewer and seek the latin1-complaint part of the filename
in the floppy file (search for uppercase string). Righ above the short
filename you'll find multibyte long one.
> I think UDF is a better filesystem for many types of media since it is
> able to me more gently to the sectors storing the meta data than VFAT
> ever will be.
I've tried cd packet writing with UDF and it gives insane overhead of
about 20%. What metadata you'd like to store for example on your
flashdrive or a floppy disk?
-- 
Było mi bardzo miło.                    Trzecia pospolita klęska, [...]
>Łukasz<                      Już nie katolicka lecz złodziejska.  (c)PP
[unhandled content-type:application/pgp-signature]