Date: Wed, 7 Apr 1999 10:07:01 -0400 (EDT)
From: Andrew Schretter <>
Subject: Need larger NFSD_MAXFH
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/7/76

I am currently running a 2.2.3 kernel patched with 
the patches distributed with the knfsd-1.2 package and
using knfsd.  For the most part, it has been a pretty
stable server in a environment of Solaris and Linux
clients.  However, recently, the number of mounts
(as given by showmount -a | wc -l) has been inching up
around 251+.  
At the same time, I've noticed that some clients haven't
been mounting filesystems from the server getting a
>> mount: RPC: Timed out
error message in the logs.  Could this be related to
the number of available filehandles (from the kernel bootup :
nfsd_init: initialized fhcache, entries=256
)
If so, is it possible/safe to up this value in the linux/fs/nfsd/nfsfs.c
file?
Second question, have the patches included in the knfsd-1.2 package
already been applied to later kernels (2.2.5+)?
Thanks.
Andrew Schretter
Systems Programmer, Duke University
Dept. of Mathematics (919) 660-2866
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/