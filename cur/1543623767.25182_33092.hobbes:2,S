Date: Thu, 7 Mar 2002 16:09:34 +0000
From: Matt <>
Subject: sunhme.o+SMP, the fourth QFE port interrupt mystery
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/7/124

After plugging in a Sun QFE card into an HP LH6000r, with the kernel
compiled for SMP support, the fourth port can't get an interrupt. I can
get all four ports to come up if I don't compile SMP support in, but my
interrupt allocation ends up looking like this:
root@spud:~# cat /proc/interrupts 
           CPU0       
  0:      63234          XT-PIC  timer
  1:        521          XT-PIC  keyboard
  2:          0          XT-PIC  cascade
  5:       2395          XT-PIC  megaraid
  8:          1          XT-PIC  rtc
  9:       2029          XT-PIC  aacraid, aic7xxx, eth0, HAPPY MEAL, HAPPY MEAL, HAPPY MEAL, HAPPY MEAL
 12:          0          XT-PIC  PS/2 Mouse
 14:          3          XT-PIC  ide0
NMI:          0 
ERR:          8
...which I don't believe is conducive to an efficient system :-).
I've also tried enabling Local APIC support but that causes problems
elsewhere on this particular box, so I've left that alone. 2.4.16 is
the current kernel version on here.
Anyone have a fix for this?
Cheers
Matt
PS. Being a Sun card, all of the ports have a MAC of 00:00:00:00:00:00, I
can see four unique codes on the card that must be the last six digits of
each MAC, but what is the first six for a Sun QFE? I don't have another
plugged into a Sun box to see...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/