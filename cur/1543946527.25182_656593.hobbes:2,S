Date: Tue, 19 Feb 2008 19:32:34 -0700
From: (Eric W. Biederman)
Subject: Re: [PATCH] do_signal_stop: use signal_group_exit()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/19/604

Oleg Nesterov <oleg@tv-sign.ru> writes:
>
>>From 2.6.25-rc2-mm1.bz2 patch:
>>
>> -       .ioctl          = tty_ioctl,
>> +       .unlocked_ioctl = tty_ioctl,
>
> and this is why this didn't happen before, I guess.
Right.  Does anyone know what kind of audit was made of the tty code
to ensure everything would be fine?
It it was pretty thorough and it was just this little corner case
it makes sense to get the struct tty locking for pids correct.
Otherwise since the tty layer is historically not especially good
with it's locking. We should just revert the change above, and save
attacking this until someone has time to do a thorough review.
Eric