Date: Fri, 1 Sep 2000 00:16:38 +0300
From: Matti Aarnio <>
Subject: Re: Large File support and blocks.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/31/76

On Thu, Aug 31, 2000 at 01:46:36PM -0700, Linda Walsh wrote:
> > 	It is propably from reasoning of:
> > 
> > 		"there is really no point in it, as at 32bit systems
> > 		 int  and  long  are same size, thus same limit comes
> > 		 with both types."
> > 
> > 	At 64-bit machines there is, of course, definite difference.
> ---
> 	There ya go again -- confusing the issue with facts.  Compare
> and contrast the appropriate 32 and 64 bit values.  Using a 'long long'
> on ia32 for comparison vs. an int.
	No, I don't confuse those details, I am just leaving couple of
	fundamental environmental assumptions unstated. (this is long..)
	Linus seem to have (rightly) abhorrence of allowing 'long long'
	in fastpath core operations, because i386 is register poor, and
	thus handling such variables is tedious.
	Also (I recall) because GCC's 'long long' related operations
	and optimizations have been buggy in past, and there is no
	sufficient experience to convince him that they work now better
	with the recommended kernel compiling GCC version (egcs-1.1.2).
	On the other hand, I think FreeBSD kernel is littered with
	'long long' typed variables (loff_t), and thus the gcc/egcs
	versions compiling it at i386 can't be all bad...
	So, most people seem to be happy to take a bit of breath as
	filesizes at 32 bit machines got jumped up by 3-4 orders of
	magnitude.  Punching thru 1TB isn't far away ( this week we
	have talked at the office of constructing some 1TB+ filesystems
	at Linux just because it is a) cool, b) reasonably cheap :) )
	Propably I have to (nee..  "can") spend couple of weeks at
	abolishing these limit barriers when those guys want some help.
	(That is roughly how the LFS changes for 2.4 came to be.
	 Same internal group wanted to process data masses exceeding
	 2G at intel boxes -- I was happy camper with my Alpha ...)
	.. and who knows, maybe newest GCC can be proven to be smarter
	with 'long long', and foremost: produce correct code.
> -l
/Matti Aarnio	<matti.aarnio@zmailer.org>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/