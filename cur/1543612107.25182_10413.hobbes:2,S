Date: Wed, 5 Dec 2001 00:58:07 -0500 (EST)
From: John Clemens <>
Subject: Re: IRQ Routing Problem on ALi Chipset Laptop (HP Pavilion N5425)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/5/9

On 4 Dec 2001, Cory Bell wrote:
> 11. Using the patch below (shamelessly stolen from John Clemens and
> modified slightly -
> 
http://www.uwsg.indiana.edu/hypermail/linux/kernel/0111.2/0005.html
),
someone noticed! ;) Glad to see you also noticed my minor oversight in
using INTERRUPT_PIN instead of the correct INTERRUPT_LINE.  Glad someone
found the work useful... A few people have asked me separately for my
patch and are using it successfully on thier laptops with no failure
reports.
> What I'm wondering is - what's broken?
> Is it:
> 1) Bad BIOS? (changing the date is as configurable as it gets - and I
> have updated to the latest available version)
Most probably.. that in combination with number 3.. And, to top it all
off, ACPI is thrown in there too as a non-PCI device on IRQ9.  All in all,
quite a quirky laptop (for reference, I own an N5430, an earlier version
of your notebook).
> 2) Bad Linux interperetation of ALi IRQ router? (comments in
> linux/arch/i386/kernel/pci-irq.c seem to suggest it's possible)
Doubtful, as I have an Ali Aladdin7 board in my desktop (don't get much
more obscure than that one), and the Router works fine, as well as in a
Magik1 based motherboard I've used.
> Is there a "correct" way to fix this? Info follows. If anyone would like
> additional info (full dmesg output, etc) I'd be happy to email it
> seperately.
I've been wondering this one myself... one thing these laptops do
implement is a complete DMI table.. maybe we can do some sort of fixup
through there... does anyone know of any way to use the "DMI workarounds"
to effect PCI IRQ mapping -without- modifying the generic pci code?
And I like you patch, it's a slightly cleaner for of ugly than mine :).
john.c
-- 
John Clemens          
http://www.deater.net/john
john@deater.net     ICQ: 7175925, IM: PianoManO8
      "I Hate Quotes" -- Samuel L. Clemens
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/