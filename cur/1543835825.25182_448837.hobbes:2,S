Date: Tue, 01 Aug 2006 00:16:25 -0700
From: Piet Delaney <>
Subject: udev taking a long time during startup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/1/44

Hey Gang:
We were wondering why there is a 60 second delay on our systems
from the time that the kernel releases memory and the file system 
is checked.
I dropped into kgdb during this period and found that an init
script, S10udev in our case, was sleeping in sys_nanosleep()
or sys_wait4(). Looks like thread/process S10udev forks udevstart
which forks udev which appears to be sleeping or waiting every time
I check in on it; Seems terribly wasteful.
udev seems to be a utility for hotplug and configured
with /etc/udev/udev.conf. Since we have no hot plug devices
I wonder if it really has to be called on every startup. On
solaris the device nodes are only re-established if you boot
with a -r option.
I never see any children of udev, so I wonder why it's
calling wait4() and nanosleep() so often.
Any thoughts or suggestions?
-piet
-- 
Piet Delaney
BlueLane Teck
W: (408) 200-5256; piet@bluelane.com
H: (408) 243-8872; piet@piet.net
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/