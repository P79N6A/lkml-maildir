Date: 17 Feb 2006 10:25:39 -0500
From: Jes Sorensen <>
Subject: Re: [2.6 patch] show "SN Devices" menu only if CONFIG_SGI_SN
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/17/139

>>>>> "Adrian" == Adrian Bunk <bunk@stusta.de> writes:
Adrian> On architectures like i386, the "Multimedia Capabilities Port
Adrian> drivers" menu is visible, but it can't be visited since it
Adrian> contains nothing usable for CONFIG_SGI_SN=n.
Thats only a third of the patch, if you want to do that, you should
remove the redundant SGI_SN checks below.
Like this.
Jes
 drivers/sn/Kconfig |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)
Index: linux-2.6/drivers/sn/Kconfig
===================================================================
--- linux-2.6.orig/drivers/sn/Kconfig
+++ linux-2.6/drivers/sn/Kconfig
@@ -3,10 +3,11 @@
 #
 
 menu "SN Devices"
+	depends on SGI_SN
 
 config SGI_IOC4
 	tristate "SGI IOC4 Base IO support"
-	depends on (IA64_GENERIC || IA64_SGI_SN2) && MMTIMER
+	depends on MMTIMER
 	default m
 	---help---
 	This option enables basic support for the SGI IOC4-based Base IO
@@ -19,7 +20,6 @@
 
 config SGI_IOC3
 	tristate "SGI IOC3 Base IO support"
-	depends on (IA64_GENERIC || IA64_SGI_SN2)
 	default m
 	---help---
 	This option enables basic support for the SGI IOC3-based Base IO
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/