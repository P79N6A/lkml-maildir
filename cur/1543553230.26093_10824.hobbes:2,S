Date: Wed, 1 Nov 2000 10:29:42 +0100
From: "Simen Timian Thoresen" <>
Subject: Re: SMP freeze in <= 2.2.17 when toggling consoles
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/11/1/72

> Recently while trying to pin down SCSI errors with a Dual PII machine with
> onboard SCSI I discovered a nasty and easily repeatable way to cause a
> total system freeze.
> 
> Tyan Thunder 100 M/B
> 256MB ram
> 2x PII-233 (klamath core)
> Onboard dual channel AIC-7895 (aic7xxx driver built into the kernel)
> Onboard eepro100 compatible ethernet.
> 2x Seagate ST34501W, 4GB, 10,000rpm drives
Ok, our system is  
Epox KP6-BS, (Also a dual 440BX)
256MB ram
2x PIII-750MHz Coppermine
Adaptec AHA-294X Ultra SCSI host adapter (Ultra Wide)
2x Kingston K110TX (Lite on tulip) nics
1x 20MB/s raid unit.
> The symptom is basically this - under heavy disk activity, rapidly
> switching virtual consoles will trigger a system freeze. Nothing will
> revive the machine, the Magic Sysreq key is also inoperable. Generally I
> can get it to freeze within a couple of seconds. If I just switch consoles
> slowly it doesnt seem to freeze, but holding down ALT and tapping
> F1-F2-F1-F2 as quick as possible will freeze it in a few seconds. Quite
> often it will even freeze right in the middle of redrawing the new console
> - The top half of the screen will show part of the console you were
> switching to, while the bottom is still showing the previous console
> because it froze before it finished drawing the screen.
I've tried this a few times, but was unable to get the system to crash.
I tried varying block-sizes and against both the ata-controller and the raid-box.
You might want to try to reproduce your problems with another scsi-
controller, cable and disk comination, and also against an ide disk.
Good luck.
-Simen
--
Simen Thoresen, Beowulf-cleaner and random artist.
Er det ikke rart?
The gnu RART-project on 
http://valinor.dolphinics.no:1080/~simentt/rart
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/