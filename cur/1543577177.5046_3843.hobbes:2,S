Date: Wed, 03 Jan 2001 11:37:46 -0500
From: Chris Mason <>
Subject: Re: [PATCH] filemap_fdatasync & related changes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/3/46

Hi guys,
Just noticed the filemap_fdatasync code doesn't check the return value from
writepage.  Linus, would you take a patch that redirtied the page, puts it
back onto the dirty list (at the tail), and unlocks the page when writepage
returns 1?
That would loop forever if the writepage func kept returning 1 though...I
think that's what we want, unless someone like ramfs made a writepage func
that always returned 1.
For the reiserfs code, I'd like to be able to tell page_launder and
filemap_fdatasync to try the page again later.  reiserfs would clean and
unlock the page if no io needs to be done at all.
-chris
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/