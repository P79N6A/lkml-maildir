Date: Thu, 25 Feb 1999 01:24:22 +0000 (GMT)
From: (Alan Cox)
Subject: Re: PROBLEM: with ext2 on MO-removable disk after upgrade 2.2.1->2.2.2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/24/113

> now no more. The file-system was created with
> "mke2fs -b 2048 -m 0 -i 16384 /dev/sdc1"
> and now "e2fsck /dev/sdc1" gives the following error-text:
> e2fsck 1.12, 9-Jul-98 for EXT2 FS 0.5b, 95/08/09
> Couldn't find ext2 superblock, trying backup blocks...
> e2fsck: Bad magic number in super-block while trying to open /dev/sdc1
> The superblock could not be read or does not describe a correct ext2
> filesystem.  If the device is valid and it really contains an ext2
> filesystem (and not swap or ufs or something else), then the superblock
> is corrupt, and you might try running e2fsck with an alternate superblock:
>     e2fsck -b 8193 <device>
> 
> What changed in the ext2-fs-code?
Linux now handles the partition tables correctly, in units of 2048 bytes
as per spec and DOS/Windows/NT/etc.
This means the values in the partition table will be off by a factor of
2. I've not yet figured a good way to autodetect this.
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/