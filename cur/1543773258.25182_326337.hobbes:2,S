Date: Sat, 18 Jun 2005 16:18:42 +0200
From: "Daniele Gaffuri" <>
Subject: RE: [PATCH] Hidden SMBus bridge on Toshiba Tecra M2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/18/31

Greg KH wrote:
> On Sat, Jun 18, 2005 at 12:36:18AM +0200, Daniele Gaffuri wrote:
>> Here's a trivial patch, against 2.6.12-rc6, to unhide SMBus on
>> Toshiba Centrino laptops using Intel 82855PM chipset.
> 
> Your patch is linewrapped, and missing a Signed-off-by: line.  Care to
> redo it?
> 
> thanks,
> 
> greg k-h
Please, excuse me if you can, the second one was exactly like the first.
This should be OK, in the meanwhile I've redone with 2.6.12.
Patch against 2.6.12 to unhide SMBus on Toshiba Centrino laptops using Intel 82855PM chipset.
Tested on Toshiba Tecra M2.
Signed-off-by: Daniele Gaffuri <d.gaffuri@reply.it>
--- linux-2.6.12/drivers/pci/quirks.c.orig	2005-06-17 21:48:29.000000000 +0200
+++ linux-2.6.12/drivers/pci/quirks.c	2005-06-18 15:03:49.000000000 +0200
@@ -819,6 +819,11 @@ static void __init asus_hides_smbus_host
 			case 0x0001: /* Toshiba Satellite A40 */
 				asus_hides_smbus = 1;
 			}
+		if (dev->device == PCI_DEVICE_ID_INTEL_82855PM_HB)
+			switch(dev->subsystem_device) {
+			case 0x0001: /* Toshiba Tecra M2 */
+				asus_hides_smbus = 1;
+			}
        } else if (unlikely(dev->subsystem_vendor == PCI_VENDOR_ID_SAMSUNG)) {
                if (dev->device ==  PCI_DEVICE_ID_INTEL_82855PM_HB)
                        switch(dev->subsystem_device) {
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/