Date: Wed, 04 Aug 1999 11:24:21 -0700
From: Dave Campbell <>
Subject: kernel issue
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/4/113

We are running Redhat linux 6.0 kernel 2.2.5-15 on a dual-processor
pentium machine.   We have encountered performance problems while
running a large Solid database.  There is a well-documented
problem with fsync, especially on machines with lots of memory (500
Meg), and we therefore recently applied  a kernel patch and rebuilt the
kernel.
We were able to build and install the kernel, and the system has been
running for 24 hrs with the new kernel, and there are several
indications
that the performance has indeed been enhanced.  However, the
klogd daemon, which logs kernel errors has been consistantly using
about 50% of one of our processors.
Running dmesg to see the 'kernel-ring' errors gave the following
output, which implicates the SCSI controller on our machine.
Over and over and over and .....
ncr53c810a-0:1: ERROR (0:18) (1-21-31) (8/13) @ (script 7ac:19000000).
ncr53c810a-0: script cmd = 89030000
ncr53c810a-0: regdump: da 10 80 13 47 08 01 1f 0e 01 81 21 80 00 91 00.
ncr53c810a-0: have to clear fifos.
ncr53c810a-0: restart (scsi reset).
ncr53c810a-0-<1,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0-<3,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0-<2,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0-<4,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0:1: ERROR (0:18) (1-21-81) (8/13) @ (script 6ac:19000000).
ncr53c810a-0: script cmd = 89030000
ncr53c810a-0: regdump: da 10 80 13 47 08 01 1f 32 01 81 21 80 01 91 00.
ncr53c810a-0: have to clear fifos.
ncr53c810a-0: restart (scsi reset).
ncr53c810a-0-<1,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0-<3,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0:1: ERROR (0:18) (1-21-b6) (8/13) @ (script 90c:19000000).
ncr53c810a-0: script cmd = 89030000
ncr53c810a-0: regdump: da 10 80 13 47 08 01 1f 16 01 81 21 80 00 91 00.
ncr53c810a-0: have to clear fifos.
ncr53c810a-0: restart (scsi reset).
ncr53c810a-0-<1,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0-<2,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0-<3,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0-<4,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0:1: ERROR (0:18) (1-21-6) (8/13) @ (script 96c:19000000).
ncr53c810a-0: script cmd = 89030000
ncr53c810a-0: regdump: da 10 80 13 47 08 01 1f 2a 01 81 21 80 01 91 00.
ncr53c810a-0: have to clear fifos.
ncr53c810a-0: restart (scsi reset).
ncr53c810a-0-<1,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0-<3,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0-<2,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
ncr53c810a-0-<4,*>: FAST-10 SCSI 10.0 MB/s (100 ns, offset 8)
I was unable to find info regarding this on various FAQs, and we
believe we have specified the appropriate
hardware.  Does anyone understand this output or have any suggestions
as to what we might try?
Thanks very much,
-dave campbell
--
David Campbell          H: (425)747-4633
campbell@geospiza.com   W: (206)633-4403
Geospiza, Inc.
www.geospiza.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/