Date: Wed, 2 May 2001 00:41:52 +0200
From: Daniel Elstner <>
Subject: Re: reiserfs+lndir problem [was: 2.4.4 SMP: spurious EOVERFLOW "Value too large for defined data type"]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/1/134

Hi,
On Mon, 30 Apr 2001 21:03:47 -0400 Chris Mason <mason@suse.com> wrote:
> > Apparently it's a reiserfs/symlink problem.
> > I tried doing the lndir on an ext2 partition, sources still
> > on reiserfs. And it worked just fine!
> 
> Neat, thanks for the extra details.  Does that mean you can consistently
> repeat on reiserfs now?  What happens when you do the lndir on reiserfs and
> diff the directories?
I just played around a bit with the following results:
sources on reiserfs, lndir on reiserfs -> make fails, diff ok
sources on reiserfs, lndir on ext2     -> make ok
sources on ext2, lndir on reiserfs     -> make fails, diff ok
Doing the diff against a second copy of the tree shows no errors, too.
Always the same behaviour: You have to run lndir at least twice to
get the error. If the link tree was already set up after a boot, the
error occurs only after rm + lndir + rm + lndir.
There's a strange way to get things working just like after a reboot.
After diff'ing the link tree with the 2nd copy (both on reiserfs),
make World won't fail - at least once.
I also tried in the link tree:
    find ! -type d -exec cat '{}' \; >/dev/null
And it seems to have the same effect as the diff.
> Any useful messages in /var/log/messages?
Nope, not any single message (except the usual ones).
The error on shutdown (when umounting /proc) appeared once again,
with the the same error message. Though I have no clue how that
could be related to reiserfs.
Two missed details: the reiserfs partion exists on a software
raid0 device. I configured glibc-2.2.3 with --enable-kernel=2.4.1.
Shall I try moving back to glibc-2.2.2 / configuring for lower kernel?
-- Daniel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/