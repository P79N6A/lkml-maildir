Date: Sun, 4 Jul 2004 10:29:38 +0200
From: Christoph Hellwig <>
Subject: Re: current BK compilation failure on ppc32
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/4/16

> Don't do it like that.
> 
> Instead, do something like
> 
> 	smp-power-$(CONFIG_SMP)	+= smp.o
> 	obj-$(CONFIG_SOFTWARE_SUSPEND) += $(smp-power-y)
> 
> which not only is shorter, but gets a _lot_ more readable after a while.
New patch below:
--- 1.10/kernel/power/Makefile	2004-07-02 07:23:47 +02:00
+++ edited/kernel/power/Makefile	2004-07-04 12:21:57 +02:00
@@ -1,6 +1,8 @@
+
+swsusp-smp-$(CONFIG_SMP)	+= smp.o
+
 obj-y				:= main.o process.o console.o pm.o
-obj-$(CONFIG_SMP)		+= smp.o
-obj-$(CONFIG_SOFTWARE_SUSPEND)	+= swsusp.o
+obj-$(CONFIG_SOFTWARE_SUSPEND)	+= swsusp.o $(swsusp-smp-y)
 obj-$(CONFIG_PM_DISK)		+= disk.o pmdisk.o
 
 obj-$(CONFIG_MAGIC_SYSRQ)	+= poweroff.o
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/