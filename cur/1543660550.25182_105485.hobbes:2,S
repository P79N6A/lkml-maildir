Date: Fri, 24 Jan 2003 13:49:18 +0100
From: Roman Dementiev <>
Subject: buffer leakage in kernel?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/24/59

Hello everyone,
I've met with following problem (kernel 2.4.20-pre4 ):
I write and read sequentially from/to 8 files each of 64 Gbytes (not a
mistake, 64 Gbyte),
each on different disk. The files are opened with flag O_DIRECT. I have
1 Gbyte RAM, no swap.
While this scanning is running, number of "buffers" reported by ''free"
and in /proc/meminfo
is continuously increasing up to ~ 500 MB !! When the program exits
normally or I break it, number
of "buffers" does not decrease and even increases if I do operations on
other files.
This is not nice at all when I have another applications running
with memory consumption > 500 MB: when my "scanner" approaches 50G
border on
each disk, I've got numerous  "Out of memory" murders :(. Even 'ssh' to
this machine
is killed :(
Could anyone explain why it happens? I suppose that it is a memory
leakage in
file system buffer management.
Is it fixed already in any patch?
Bye,
Roman
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/