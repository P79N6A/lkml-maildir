Date: Sat, 18 Mar 2000 17:47:00 +0100 (CET)
From: Gérard Roudier <>
Subject: Re: 2.3.00p1/2.3.49: more problems concerning devfs & generic scsi
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/18/200

On Sat, 18 Mar 2000, Alan Cox wrote:
> > Neither it is line 5 of pci.h nor the 13795 lines of the sym53c8xx
> > driver, in my opinion. ;)
> > 
> > It is the layer that deals with user requests that shall prepare correct
> > SCSI requests to pass to low-level drivers and reject bogus user
> > requests.
> 
> I don't think thats a realistic solution for 2.4. I agree entirely that
> it isnt the drivers problem, but for 2.4 the driver needs to spot and handle
> that paticular issue itself.
What's the realistic solution for 2.4 you are thinking about ?
When use_sg > 0 and direction = NONE,
1) the driver may toss a coin to decide between:
       User donnot want data transfer
       User didn't know of data direction
2) Or the driver may assume no data transfer.
3) Or the driver may assume direction is unknown and trust the device
   instead for the direction provided by user.
4) Or the driver may reject the request.
5) Or upper drivers could check user input and be fixed for not generating 
   bogus commands.
Let me know.
Gérard.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/