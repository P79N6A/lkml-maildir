Date: Wed, 17 Feb 1999 17:14:48 -0500 (EST)
From: "Theodore Y. Ts'o" <>
Subject: Re: fsync on large files
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/17/144

   Date: Wed, 17 Feb 1999 19:13:41 +0100 (CET)
   From: Ingo Molnar <mingo@chiara.csoma.elte.hu>
   sorry, my comment was misleading, my point was not that at this stage
   there are 90% differences, but rather this: it's easier to develop an
   independent ext3fs.
Actually, all I've been doing for my ext2 btree directory hacking is I
made a very simple change in the mainline ext2 code:
 static struct file_system_type ext2_fs_type = {
+#ifdef EXT2_DEV_FS
+	"ext2dev",
+#else
 	"ext2", 
+#endif
That plus some minor Makefile hacking allowed me to build ext2 outside
of the kernel, as a loadable module.  I could then load the test module
and mount test filesystems using "mount -t ext2dev ...".    Easy!  And I
didn't have to develop a separate ext3fs!!
I explicitly didn't do the global change of "ext2" to something else
because I wanted to make it easy to track changes and patches to the
mainline ext2 filesystem code.  That's sort of the cosmetic change which
you can make later.
The interesting thing about being able to build ext2 as a module is that
it allows us to think about distributing the ext2dev (or ext3, or
whatever the hell you want to call it for marketing reasons) filesystem
separately from the 2.2 kernel.  That way, folks who are desperate for
faster directory processing (i.e., for News servers, etc.) could elect
to use the enhanced filesystem without being forced to use a development
2.3 kernel.  It also means that we don't have to put new features into a
stable kernel series, something which I at least believe is a bad idea.
						- Ted
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/