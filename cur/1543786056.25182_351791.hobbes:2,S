Date: Mon, 19 Sep 2005 12:14:54 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: 2.6.14-rc1 wait()/SIG_CHILD bevahiour
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/19/171

On Mon, 19 Sep 2005, Badari Pulavarty wrote:
> 
> I can easily reproduce the problem on my AMD64 machine. 
> Any thoughts on why this is happening ? Any known issues/fixes ?
Interesting.
I don't think it is SIGCHLD, because you can "strace" the waiter in one 
window, and send it a SIGCHLD _by_hand_ in the other window, and it will 
do a new "wait4()", but still not pick up its zombie children.
So it looks like wait() itself is broken, and doesn't pick up the children 
for some reason. It just returns 0.
Ingo, Roland - Badari included a test-program in his post on lkml, and I
can trigger the behaviour on ppc64, even if I can't see what's wrong yet.  
Mind taking a look?
			Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/