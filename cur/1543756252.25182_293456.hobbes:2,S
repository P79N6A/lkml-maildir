Date: Mon, 07 Feb 2005 14:27:16 +0000
From: Paulo Marques <>
Subject: Re: [RFC] Reliable video POSTing on resume
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/2/7/71

Adam Sulmicki wrote:
> 
> hi all,
>     I would like point to work done by Li-Ta Lo.
> 
>     It allows you to completely initalize the VGA BIOS w/out using
>     PC BIOS at all.
> 
>     
http://www.clustermatic.org/pipermail/linuxbios/2005-January/010236.html
 
> 
>     unforunatelly the information the web is somewhat sparse, but
>     you can get more info by following the archive of the
>     thread (which head I listed above) and perhaps by posting to
>     linuxbios mailing list (Ollie, is somewhat buy those days with his
>     new baby).
I did some work on reducing the core x86 emulation code (and have my 
name mentioned in that thread for it). The code size went from 59kB to 
38kB. This does not include emulation of BIOS functions or hardware 
(like the standard PC timer).
It seems to me that x86 emulation in the kernel is the way to go because:
1 - it's portable. Can run on any architecture.
2 - runs in a controled environment. Every memory / io access is 
controlled by the emulator. We don't just "jump" into obscure BIOS code 
and hope everything goes well.
3 - it's always there and can be executed at *any* time: booting, 
returning from suspend, etc. Also it would allow the VESA framebuffer 
driver to change graphics mode at any time (for instance).
I still don't have hard numbers from the work Li-Ta Lo is doing (I'm 
CC'ing him on this thread to see if he can shed some light here), but I 
guess that you could have the complete emulator for about 50kB of code.
-- 
Paulo Marques - www.grupopie.com
All that is necessary for the triumph of evil is that good men do nothing.
Edmund Burke (1729 - 1797)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/