Date: Thu, 27 Oct 2005 17:25:12 +0900
From: Magnus Damm <>
Subject: Re: [discuss] [rfc] x86_64: Kconfig changes for NUMA
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/27/24

On 10/27/05, Andi Kleen <ak@suse.de> wrote:
> On Thursday 27 October 2005 08:25, Magnus Damm wrote:
>
> > > While at it, could you please consider to remove the SMP dependency
> > > from NUMA_EMU? 2.6.14-rc5-git5 builds and works with !SMP and
>
> No.
That was quick.
> > > NUMA_EMU.
> > >
> > > Why?
> > > 1. No need to force SMP when not needed.
> > > 2. qemu-system-x86_64 does not currently work with SMP kernels.
>
> qemu needs to be fixed then.
Yep. Any day soon now (tm).
> > Update:
> >
> > Both CONFIG_NUMA_EMU and CONFIG_K8_NUMA build and run just fine
> > without CONFIG_SMP. Not sure about CONFIG_ACPI_NUMA though.
>
> I don't want too many weird combinations which no normal person uses like
> this. Undoubtedly there will be compile breakage for such stuff in the future
> (even if it happens to work by chance now) and best is to not open this can
> of worms in the first place. The number of variants has to be kept under
> control.
Yes, I understand that keeping the combinations low is a good thing.
But if the same logic is applied to the NUMA code, why then is there
both k8topology.c and srat.c? Does non-ACPI systems exist in x86_64
land?
Thanks,
/ magnus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/