Date: Tue, 26 Aug 2003 23:41:09 +0900
From: Yoshinori Sato <>
Subject: Re: [2.6 patch] add a config option for -Os
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/26/129

At Tue, 26 Aug 2003 00:47:17 +0200,
Adrian Bunk wrote:
> 
> The patch below adds a config option for compiling the kernel with -Os.
> 
> Compared to the last patch, the option moved to the embedded to the 
> General Setup menu and depends on EXPERIMENTAL instead of EMBEDDED 
> (retionale: it might even produce a faster kernel but it's less tested).
> 
> I removed the special cases in the arm, arm26 and h8300 Makefiles, users 
> on these architectures can now use OPTIMIZE_FOR_SIZE.
> 
> Compiling with this option enabled produced a working kernel for me on 
> i386.
> 
An idea do not change -O2, and to add specification of -Os to with "OPTIMIZE_SIZE" ?
If there are a few the ones, degradation of speed means.
vmlinux  size of h8300
        -O2     -Os   -O2&-Os
.text  561200  554368  555088
.data   59148   58612   58868
.bss    45244   45260   45244
total  665592  658240  659200
-- 
Yoshinori Sato
<ysato@users.sourceforge.jp>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/