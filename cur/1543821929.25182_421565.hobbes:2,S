Date: Fri, 5 May 2006 23:39:44 -0400
From: "Jon Smirl" <>
Subject: Re: Add a "enable" sysfs attribute to the pci devices to allow userspace (Xorg) to enable devices without doing foul direct access
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/5/211

On 5/5/06, Dave Airlie <airlied@gmail.com> wrote:
> > It has everything to do with the 'enable' file. The 'enable' file lets
> > you change the state of the hardware without an ownership mechanism.
> > Other device users will not be notified of the state change. Since the
> > other users can't be sure of the state of the hardware when they are
> > activated, they will have to reload their state into the hardware on
> > every activation.
>
> Jon
>
> you seem to miss the fact that this can be done now without the enable
> flag, setpci can be used to disable the BARs, again the enable flag
> doesn't change that....
Existence of a problem API doesn't justify creating more of them.
The minimal vga driver combined with new_id scheme is very simple, it
works on older kernels, it does not create a new API and it tracks
ownership of the hardware state. But instead everyone seems to want
the 'enable' file despite it's obvious problems.
--
Jon Smirl
jonsmirl@gmail.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/