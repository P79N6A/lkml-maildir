Date: Mon, 13 Nov 2006 19:42:56 +0100
From: Ingo Molnar <>
Subject: Re: [patch] genapic: optimize & fix APIC mode setup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/13/227

* Siddha, Suresh B <suresh.b.siddha@intel.com> wrote:
> > for that i'd have to know the bug, and this is the third time i'm 
> > asking about specifics :-) (The URL that was given in the thread was 
> > about a chipset bug regarding incompatibility with clustered-APIC 
> > mode - my patch in fact - because it switches small systems to use 
> > logical flat mode always - solves that kind of regression too.)
> 
> Not really. That chipset belongs to a MP platform and with your 
> proposed patch, we will endup using clustered APIC mode and will hit 
> the issue(in the presence of cpu hotplug) mentioned in that URL.
hm, why does it end up in clustered mode? Cluster mode should only 
trigger if the APIC IDs go beyond 16.
but i'd be fine with never going into cluster mode, instead always using 
physical flat mode when having more than 8 APICs (independent of the 
presence of CPU hotplug). On small systems, logical flat mode is what is 
the best-tested variant (it's also slightly faster).
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/