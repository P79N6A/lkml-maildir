Date: Tue, 19 Sep 2000 12:22:41 +0200
From: Andreas Schwab <>
Subject: Re: __ucmpdi2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/19/46

Matti Aarnio <matti.aarnio@zmailer.org> writes:
|> On Tue, Sep 19, 2000 at 02:58:01AM -0700, Jeremy Higdon wrote:
|> > Hello,
|> > 
|> > I'm using a 64 bit variable in a switch statement.  Gcc is generating code
|> > which make calls to __ucmpdi2, a function defined in libgcc.  I figured
|> > out that it was the switch statement from examining the generated code.
|> > 
|> > The question is whether I should change C code to avoid constructions
|> > which make calls to this routine (a little hard to determine a priori)
|> > or if there is an appropriate way to add this to the kernel.
|> 
|> 	Yes do change it.
|> 
|> 	Is the value-space for the case's a LONG LONG, or
|> 	mere set of INTs or LONGs ?
IMHO it's a bug in gcc that it does not inline the comparison inside the
switch expression, since it already does it in all other places.  Perhaps
some problem with the patterns in the machine description.
Andreas.
-- 
Andreas Schwab                                  "And now for something
SuSE Labs                                        completely different."
Andreas.Schwab@suse.de
SuSE GmbH, Schanzäckerstr. 10, D-90443 Nürnberg
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/