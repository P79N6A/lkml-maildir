Date: Fri, 6 Dec 2002 13:12:37 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH] compatibility syscall layer (lets try again)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/12/6/223

On Fri, 6 Dec 2002, george anzinger wrote:
> 
> I have not looked at your code yet, but I am concerned that
> the restart may not be able to get to the original
> parameters.
The way the new system call restarting is done, it never looks at the old
parameters. They don't even _exist_ for the restarted call (well, they do,
but the restart function can't actually get at them). So it is up to the
original interrupted call to save off anything it needs saving off (and it
get sthe "restart_block" structure to do that saving in. Right now that's
just three words, but we can expand it if necessary).
Anyway, it sounds like the new nanosleep behaviour is acceptable (and
certainly closer to SuS than the old one), and that the "time remaining"
part is simply undefined for a successful sleep. I'd like to clean it up 
(either always clearing the time on success, or just never updating it at 
all), but at least standards lawyers aren't going to complain.
			Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/