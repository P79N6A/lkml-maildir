Date: Wed, 22 Jan 2003 20:41:47 +0100
From: Roman Zippel <>
Subject: Re: kernel param and KBUILD_MODNAME name-munging mess
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/22/132

Hi,
Kai Germaschewski wrote:
> KBUILD_BASENAME needs to be an un-stringified symbol following
> certain conventions to make it possible to use it e.g. in
> include/linux/spinlock.h, that's why '-' and ',' are escaped to '_'.
> 
> However, for all I can tell, this is not true for KBUILD_MODNAME, since
> that seems to be only used for constructing an actual string, which of
> course can contain all kinds of characters. So I think using the first
> approach would be somewhat nicer, as it gets rid of the unintuitive
> "ide-cd" -> "ide_cd" munging on the kernel command line.
It might be useful later to build a list of builtin modules. Currently
we do nothing if a builtin module fails to initialize, but we should
disable dependent modules and remove the exported symbols.
Maybe it's better to provide the module name both as label and string.
bye, Roman
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/