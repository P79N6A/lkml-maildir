Date: Sun, 11 Jan 2009 20:58:02 +0100
From: "Zdenek Kabelac" <>
Subject: Re: [PATCH] libata: use WARN_ON_ONCE on hot paths
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/11/298

Hi
I've booted  2.6.29-rc1 (c59765042f53a79a7a65585042ff463b69cb248c)
This time I've got only this warning:
input: ThinkPad Extra Buttons as /devices/virtual/input/input5
Driver 'sr' needs updating - please use bus_type methods
------------[ cut here ]------------
WARNING: at drivers/ata/libata-sff.c:1017 ata_sff_hsm_move+0x6b0/0x7f0()
Hardware name: 6464CTO
Modules linked in: sr_mod(+) cdrom thinkpad_acpi rfkill backlight
nvram button led_class battery intel_agp ac uhci_hcd ohci_hcd ehci_hcd
usbcore [last unloaded: scsi_wait_scan]
Pid: 1150, comm: udevd Not tainted 2.6.29-rc1 #6
Call Trace:
 <IRQ>  [<ffffffff80244d8f>] warn_slowpath+0xaf/0x110
 [<ffffffff8026fdc9>] ? __lock_acquire+0x5e9/0x1db0
 [<ffffffff80472316>] ? ata_sff_data_xfer32+0xa6/0xe0
 [<ffffffff80471b90>] ata_sff_hsm_move+0x6b0/0x7f0
 [<ffffffff80472029>] ata_sff_interrupt+0x1a9/0x2b0
 [<ffffffff80294ee5>] handle_IRQ_event+0x35/0x70
 [<ffffffff8029675c>] handle_edge_irq+0xbc/0x160
 [<ffffffff8020ec55>] do_IRQ+0xb5/0x1b0
 [<ffffffff8020cf53>] ret_from_intr+0x0/0xf
 <EOI> <4>---[ end trace 701c93e34e726fd9 ]---
sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw xa/form2 cdda tray
Uniform CD-ROM driver Revision: 3.20
PM: Adding info for No Bus:sr0
PM: Adding info for No Bus:11:0
sr 3:0:0:0: Attached scsi CD-ROM sr0
Zdenek