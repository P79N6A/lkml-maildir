Date: Sun, 01 Oct 2006 13:15:49 -0700
From: "Steven J. Hathaway" <>
Subject: Add "SAMSUNG CD-ROM SC-140" to ide-dma blacklist
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/1/195

MS-Windows sees the CD-ROM ok.
Linux V 2.4.21 and earlier see the CD-ROM ok.
Linux V 2.4.24 and later fail to find a CD-ROM file system.
The major ide code changed since 2.4.21.  I have since
required the following patch in order for the kernel to
see the CDROM.   Enclosed is a context diff patch file.
The problem appeared when I was trying to install a Slackware
distribution.
The bootstrap would load the kernel and initrd structure, but the
kernel,
once gaining control, would register file system errors when accessing
the disk drive.  Seeing other related SAMSUNG CD-ROM drivers in the
ide-dma.c blacklist, and adding my SAMSUNG CD-ROM device to the
same blacklist, and rebuilding a kernel, the problem has been overcome.
Sincerely,
Steven J. Hathaway
KERNEL Version 2.4.32
The "SAMSUNG CD-ROM SC-140" needs to be added to the dma blacklist.
I have had to make this patch since about Version 2.4.23 to accommodate
a major code change in ide-dma structure.  Here is the context diff.
Sincerely:  Steven J.Hathaway, <shathawa@e-z.net>
*** drivers/ide/ide-dma.c-org	2006-10-01 12:31:17.000000000 -0700
--- drivers/ide/ide-dma.c	2006-10-01 12:33:20.000000000 -0700
***************
*** 137,142 ****
--- 137,143 ----
  	{ "CD-ROM Drive/F5A",	"ALL"		},
  	{ "RICOH CD-R/RW MP7083A",	"ALL"		},
  	{ "WPI CDD-820",		"ALL"		},
+ 	{ "SAMSUNG CD-ROM SC-140",	"ALL"		},
  	{ "SAMSUNG CD-ROM SC-148C",	"ALL"		},
  	{ "SAMSUNG CD-ROM SC-148F",	"ALL"		},
  	{ "SAMSUNG CD-ROM SC",	"ALL"		},