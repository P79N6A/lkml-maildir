Date: Wed, 20 Feb 2008 19:18:23 +0300
From: Oleg Nesterov <>
Subject: tty && pid problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/20/323

(Change the subject, cc Alan)
On 02/19, Valdis.Kletnieks@vt.edu wrote:
>
> On Sun, 17 Feb 2008 21:11:14 MST, Eric W. Biederman said:
> > Oleg Nesterov <oleg@tv-sign.ru> writes:
> > > On 02/16, Oleg Nesterov wrote:
> > >> On 02/15, Andrew Morton wrote:
> > >> > : BUG: unable to handle kernel paging request at 0000000000200200
> 
> > >> > : Call Trace:
> > >> > :  [<ffffffff80237727>] ? release_task+0x152/0x2e5
> > >> > :  [<ffffffff80237f81>] ? do_wait+0x6c7/0xa1c
> > >> > :  [<ffffffff8022f4cc>] ? default_wake_function+0x0/0xe
> > >> > :  [<ffffffff8023e670>] ? sys_rt_sigaction+0x7a/0x98
> > >> > :  [<ffffffff80238360>] ? sys_wait4+0x8a/0xa1
> > >> > :  [<ffffffff8020be4b>] ? system_call_after_swapgs+0x7b/0x80
> 
> > Thanks.  Looks like we need to grab a lock there.
> > At a quick skim I think we need the tty lock.
> 
> *ping* - Any further activity on this one?  I got bit by it as well on
> the very first attempted boot of 25-rc2-mm1, the instant it tried to leave
> single-user and go multi-user.
Valdis, any chance you can try the
	"[PATCH] (for -mm only) put_pid: make sure we don't free the live pid"
I sent? just to make sure we don't have other problems here.
Oleg.