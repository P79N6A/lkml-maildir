Date: Wed, 09 Jan 2008 15:47:50 -0800
From: Zach Brown <>
Subject: Re: [PATCH 5/6] syslets: add generic syslets infrastructure
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/9/371

Linus Torvalds wrote:
> 
> On Thu, 10 Jan 2008, Rusty Russell wrote:
>> I'd have to read his original statement, but eventfd doesn't build up state, 
>> so I think it qualifies.
> 
> How about you guys battle it out by giving an example program usign the 
> interface?
> 
> Here's a favourite really simple load of mine:
> 
>  - do the equivalent of "ls -lR" or "find /usr" as quickly as possible, 
>    without playing "sort by the inode numbers" games (that don't work in 
>    general, but are great for some filesystems)
> 
>    Do this on a directory that isn't newly created, but has had files 
>    added and removed over time (so that the return order of "readdir()" 
>    isn't dense and sorted in the inode tables already). The classic 
>    example is "ls -l /usr/bin" or similar.
Sure, that's straight forward enough.  We've all written little test
apps for variants of this load in the past, anyway.  (It was one of the
first things I did for fibrils, Ingo had a variant for syslets which
read small file data too, Chris has a syslet mode in his 'acp' util, etc.)
I was going to send out a patch series pretty soon which includes
cleanups (I think) of the sys_indirect() infrastructure.  I can throw
together this little test app along with that.
- z