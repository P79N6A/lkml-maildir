Date: Tue, 31 Dec 2002 11:22:28 -0500 (EST)
From: Kevin Corry <>
Subject: Re: [PATCH] dm.c : Check memory allocations
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/12/31/87

> 
> On Fri, Dec 27, 2002 at 04:55:31PM -0500, Kevin Corry wrote:
> > Check memory allocations when cloning bio's.
> 
> Rejected, clone_bio() cannot fail since it's allocating from a mempool
> with __GFP_WAIT set.
> 
> - Joe
Hmm. Yep. I must have mistaken GFP_NOIO for GFP_ATOMIC.
But based on that reasoning, shouldn't the bio_alloc() call
in split_bvec() always return a valid bio, and hence make the
checks in split_bvec() and __clone_and_map() unnecessary?
Kevin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/