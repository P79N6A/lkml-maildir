Date: Mon, 31 Dec 2007 21:06:14 +1100
From: "Jack Andrews" <>
Subject: wanting to use mmap
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/31/17

hi all,
i read the O_DIRECT january thread:
  
http://kerneltrap.org/mailarchive/linux-kernel/2007/1/11/44365
i am interested in using mmap as a quick way of getting data
to and from disk.  i also want to handle errors (like bad blocks)
as well as is possible using usual read/write calls.
would i be right in saying that
  a) mmap+madvise+msync
provides almost the same function as
  b) read/write(2)+posix_fadvise+fsync
i have read that fault-tolerance or error-handling is 'better'
using (b). what does this mean exactly?  i note that write(2)
may return EIO - what happens if the same underlying error
occurs when accessing a mmap'ed file?  i notice that in the
implementation of msync, fsync is called so errno might be
set to EIO...
ta, jack
(please cc: me)