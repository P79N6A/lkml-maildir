Date: Thu, 20 Dec 2001 12:22:33 -0000
From: "" <>
Subject: raw devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/20/153

I have been performing some tests on raw devices, the results of 
which I do not understand. I have 4 FC busses, each with one  
SCSI disk, connect to a Linux system running 2.4.16. I use the raw 
command to bind /dev/raw1 - /dev/raw4 to each of the devices. 
With one process per raw device, running large sequential reads, I 
got a total throughput  of 340 Megabytes per second. I also 
observed 85% CPU idle. Following this I performed some more 
tests and then returned to this one. This time the total had gone 
down to 180 and there was no free CPU. I realized that the first 
time I ran the tests, each of the disks that the raw devices were 
mapped to were mounted. I then verified that this data was being 
transferred along the FC bus using an analyzer while the devices 
were mounted. Can anyone explain this to me ? I find it hard to 
believe that the disk should be permitted to be mounted when 
using raw device mappings. If the disks should not be mounted 
why is there such a great performance difference ?
Many Thanks
Simon.
__________________________
Simon Haynes - Baydel 
Phone : 44 (0) 1372 378811
Email : simon@baydel.com
__________________________
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/