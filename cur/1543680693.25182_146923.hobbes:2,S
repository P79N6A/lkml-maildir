Date: Fri, 11 Jul 2003 03:12:14 +0200 (MEST)
From: Mikael Pettersson <>
Subject: [PATCH] fix x86-64 FIOQSIZE compile error in 2.4.22-pre4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/10/338

2.4.22-pre4 added a FIOQSIZE ioctl but the x86-64 ioctls.h
wasn't updated: the result is a compile error is fs/ somewhere
(sorry I forgot exactly where). Fix below.
/Mikael
--- linux-2.4.22-pre4/include/asm-x86_64/ioctls.h.~1~   2002-11-30 17:12:31.000000000 +0100
+++ linux-2.4.22-pre4/include/asm-x86_64/ioctls.h       2003-07-11 02:04:05.159562760 +0200
@@ -67,6 +67,7 @@
 #define TIOCGICOUNT    0x545D  /* read serial port inline interrupt counts */
 #define TIOCGHAYESESP   0x545E  /* Get Hayes ESP configuration */
 #define TIOCSHAYESESP   0x545F  /* Set Hayes ESP configuration */
+#define FIOQSIZE       0x5460
 
 /* Used for packet mode */
 #define TIOCPKT_DATA            0
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/