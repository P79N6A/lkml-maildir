Date: Sun, 9 Apr 2006 08:00:57 +0200
From: Andi Kleen <>
Subject: Re: [RFC][PATCH 1/5] uts namespaces: Implement utsname namespaces
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/9/5

On Saturday 08 April 2006 22:28, Serge E. Hallyn wrote:
> This is something we've been discussing - whether to use a single
> "container" structure pointing to all the namespaces, or put everything
> into the task_struct.  Using container structs means more cache misses
> and refcounting issues, but keeps task_struct smaller as you point out.
The more cache misses argument seems bogus to me. If you consider 
the case of a lot of processes with lots of shared name spaces
the overall foot print should be in fact considerable less.
> The consensus so far has been to start putting things into task_struct
> and move if needed.  At least the performance numbers show that so far
> there is no impact.
Performance is not the only consider consideration here. Overall 
memory consumption is important too.
Sure for a single namespace like utsname it won't make much difference,
but it likely will if you have 10-20 of these things.
> 
> iirc container patches have been sent before.  Should those be resent,
> then, and perhaps this patchset rebased on those?
I think so.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/