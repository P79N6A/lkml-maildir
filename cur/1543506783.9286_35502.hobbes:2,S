Date: Tue, 24 Aug 1999 05:28:18 -0400 (EDT)
From: "Mike A. Harris" <>
Subject: NFS in 2.2.11 (possibly 2.2.x) sucks BIGTIME.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/24/32

Not to complain, but rather as constructive criticism, I think
the current state of NFS in the kernel or otherwise is completely
horrible.  Granted, I am no NFS expert by far, however I can't
get any decent performance out of the thing at all.
I've got a 3 machine LAN here, 2 RedHat 6.0 boxes, and 1 Win95
box.  I've got some dirs exported via nfs, as well as via samba.
If I transfer a 100M file from one Linux box to the other via NFS
mount, I get around 250k-290k per second.  If I copy the exact
same file via Samba instead, on the same two machines exactly, I
get 800k/s or higher.  If I transfer in the other direction, the
results are the same as well.  If I copy the files from the linux
box to the win95 box via samba, I also get around 800k/s.
One might be quick to say "your samba transfer was cached in
memory from the nfs transfer", however I have transferred files
with SMB first too, and then NFS, and there is NO difference, so
caching does NOT play any part.  Even if it did, why would SMB
file transfers that were not cached to start with go through at
800k/s?
Anyways...  I am using NFS between the Linux boxes as it is more
transparent and preserves permissions, etc...  I can then
administer the shares and whatnot from nfs, which are then
visible to W95 boxes on the LAN read-only.  This was my goal
anyways, but with NFS topping in at 1/4 the speed of SMB, I must
say that I am very disappointed.
That said, it COULD be that I am a ningcompoop with things not
configured right...  Any NFS tuning hints/suggestions?
I am using a homebrewed official 2.2.11 kernel on RH6.0 with NO
patches applied.  Do I need to upgrade any NFS packages as well?
Any help would be greatly appreciated.  Thanks.
TTYL
--
Mike A. Harris                                     Linux advocate     
Computer Consultant                                  GNU advocate  
Capslock Consulting                          Open Source advocate
Senior Programmer/Sysadmin - Rooms Plus Travel Guide
Need accomodations for your next trip?   
http://www.roomsplus.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/