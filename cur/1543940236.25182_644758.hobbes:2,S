Date: Mon, 28 Jan 2008 15:20:03 -0800
From: "H. Peter Anvin" <>
Subject: Re: PATCH/RFC: bzImage payload as compressed ELF file.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/28/524

Ian Campbell wrote:
> 
> What would be the preferred way of allowing bootloaders/domain builders
> to find the compressed payload? Tacking the offset from the end onto the
> end as I have done for the moment seems pretty skanky...
> 
As Jeremy already mentioned, putting a pointer to the compressed ELF 
image in the bzImage header (and bumping the version number to 2.08) is 
the right way to go about it.  The compression format (for now, always 
gzip) can then be identified in the usual way via compression format 
magic number.
As I've previously expressed, I'm much happier with this approach than 
having the compressor portion itself be an ELF image, so I'm happy to 
see this patch.  However, I think it needs to ride a cycle in -mm, so 
although I didn't see any problems from a cursory look I might not get a 
chance to do a detailed review until the merge window is over.
	-hpa