Date: Sun, 14 Jan 2001 05:21:33 -0800 (PST)
From: "David S. Miller" <>
Subject: Re: 2.4.0-pre3+zerocopy: weird messages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/14/75

Petru Paler writes:
 > Got more "udp v4 hw csum failure" messages but still no "UDP packet
 > with bad csum was fragmented".
OK, last experiment :-)  Add this patch, and watch to see if
the UDP "InErrors" field in /proc/net/snmp has a non-zero value after
letting it run for a while.  Thanks.
--- drivers/net/sunhme.c.~1~	Wed Dec 13 10:31:46 2000
+++ drivers/net/sunhme.c	Sun Jan 14 05:19:09 2001
@@ -2109,11 +2109,11 @@
 
 			skb = copy_skb;
 		}
-
+#if 0
 		/* This card is _fucking_ hot... */
 		skb->csum = (csum ^ 0xffff);
 		skb->ip_summed = CHECKSUM_HW;
-
+#endif
 		RXD(("len=%d csum=%4x]", len, csum));
 		skb->protocol = eth_type_trans(skb, dev);
 		netif_rx(skb);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/