Date: Mon, 8 Nov 1999 09:31:21 +0000 (GMT)
From: Tigran Aivazian <>
Subject: Re: Race in buffer code (Was Re: move block #A to block #B on a given device.)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/8/19

On Fri, 5 Nov 1999, Mikulas Patocka wrote:
> There is another - more severe - destruction case: breada. On filesystems
> that use breada it can smash buffers randomly!
The whole point of having buffer cache (apart from some performance
benefit of caching) is to serialize io, i.e. getblk() returns a locked
buffer and until the caller is done with it nothing can do io on that
block. So there are (hopefully) no races of the kind you described in
current or future implementation of buffer cache (as long as it does not
deviate from old good SVR3 thing described in Bach's book).
Regards,
Tigran.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/