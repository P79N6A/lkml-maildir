Date: Wed, 7 Mar 2007 09:16:03 +0100
From: Alessandro Zummo <>
Subject: Re: 2.6.21-rc2 : Oops in rtc_cmos...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/7/78

On Wed, 7 Mar 2007 05:42:13 +0100
"Paul Rolland" <rol@as2917.net> wrote:
> Hello,
> 
> > > Yes, it does, so it's a Good One (tm),
> > 
> > And points out that $SUBJECT is misleading; the root cause of
> > the oops isn't rtc_cmos.  Workaround, don't enable the legacy
> > driver for this hardware.
> 
> Well, sorry for that, but my point was that without enabling
> CONFIG_DRV_RTC_CMOS and only using CONFIG_RTC, my dmesg says :
> 
> drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
 yep. the layer the copies the hw clock to the system clock
 is saying that it cannot find any driver to work on. so
 you made the correct move in searching a driver. :)
> > > drivers/rtc/hctosys.c: unable to open rtc device (rtc0) 
> > Because probing 00:03 failed, was never fully usable.
> > So then rtc0 couldn't be found.  You'd get the same
> > message if, say, the RTC was loaded as a module.
> 
> It seems to me that the DRV_RTC_CMOS and the "standard" CONFIG_RTC
> shouldn't be used at the same time... Am I correct on that ? 
> Wouldn't it be better to have this dependancy enforced ?
 I will try to push a patch asap.
-- 
 Best regards,
 Alessandro Zummo,
  Tower Technologies - Torino, Italy
  
http://www.towertech.it
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/