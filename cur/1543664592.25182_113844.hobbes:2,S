Date: Sun, 2 Mar 2003 19:25:43 +0100 (CET)
From: Roman Zippel <>
Subject: Re: [PATCH] Multiple & vs. && and | vs. || bugs in 2.4.20
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/2/83

Hi,
On Sun, 2 Mar 2003, Ulrich Drepper wrote:
> > -	if (!urb->status & !acm->throttle)  {
> > +	if (!urb->status && !acm->throttle)  {
> 
> [...]
> 
> Observe the extra 'jne' and the fact that the value of 'throttle'
> element cannot be loaded until after the conditional jump.   Not even
> out of order execution can arrange that.
But speculative execution can arrange that (providing the cpu predicted 
the jump target correctly).
> To summarize, I'd probably not be amused if you would change any of my
> code which takes advantage of such programming finess.
If that was really intentional, I would assume to see something like this:
	if (!(urb->status | acm->throttle)) {
bye, Roman
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/