Date: Mon, 29 Mar 1999 00:33:09 +0200
From: Kurt Garloff <>
Subject: Re: swapon crashes computer
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/28/83

On Sat, Mar 27, 1999 at 06:21:20PM +0100, Manfred Spraul wrote:
> I remember that there was a thread a while ago that set_blocksize()
> clears the contents of a ramdisk, and I'm sure that get/set_blocksize()
> will cause problem if the computer is not idle.
I was the one who spotted the problem with mounting a MSDOS fs on a ramdisk
destroying its contents.
After SCT pointed me to the reason, I implemented a workaround and posted it
here.
The problem with curing this problem on the one side is that a lot of
functions like set_blocksize() don't return anything telling the caller what
happened, so you can't handle problems in upper levels ...
I didn't even think of synchronization problem in MP environments.
I think, Steven is the right persons to discuss this with.
-- 
Dipl.Phys. Kurt Garloff <kurt@garloff.de>                [Dortmund, FRG]
Plasma physics, high perf. computing              [Linux-ix86,-axp, DUX]
PGP key: see mailheader / key servers         [Linux SCSI driver: DC390]
[unhandled content-type:application/pgp-signature]