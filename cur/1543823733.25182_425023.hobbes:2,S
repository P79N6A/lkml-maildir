Date: Thu, 18 May 2006 00:42:36 -0700
From: Chris Wright <>
Subject: Re: [RFC PATCH 08/35] Add Xen-specific memory management definitions
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/5/18/48

* Pete Zaitcev (zaitcev@redhat.com) wrote:
> On Tue, 09 May 2006 00:00:08 -0700, Chris Wright <chrisw@sous-sol.org> wrote:
> 
> > +static inline unsigned long pfn_to_mfn(unsigned long pfn)
> > +{
> > +#ifndef CONFIG_XEN_SHADOW_MODE
> > +	if (xen_feature(XENFEAT_auto_translated_physmap))
> > +		return pfn;
> > +	return phys_to_machine_mapping[(unsigned int)(pfn)] &
> > +		~FOREIGN_FRAME_BIT;
> > +#else
> > +	return pfn;
> > +#endif
> > +}
> 
> Why do we need several modes in Linux guests?
This patchset only supports shadow translated mode, so the extra CONFIG is
just an artifact of this simplied patchset.  Ultimately, this is not the
preferred mode (performance wise), but shadow mode is simpler to port to.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/