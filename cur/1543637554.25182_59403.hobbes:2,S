Date: Fri, 26 Jul 2002 01:18:26 -0400
From: "jeff millar" <>
Subject: Linux-2.5.27-28 "undefined reference to local symbols in discarded section .text.exit"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/26/12

I need some ideas here.
I fixed the one mentioned below by changing md.c to a module.  Then I2C had
the same problem and fixed it by changing to a module.  Now parport(?) has
the problem and it's already a module.  The current linker error is...
make[1]: Entering directory `/usr/src/v2.5.28/init'
  Generating /usr/src/v2.5.28/include/linux/compile.h (updated)
gcc -Wp,-MD,./.version.o.d -D__KERNEL__ -I/usr/src/v2.5.28/include -Wall -Ws
trict-prototypes -
Wno-trigraphs -O2 -g -fomit-frame-pointer -fno-strict-aliasing -fno-common -
pipe -mpreferred-sta
ck-boundary=2 -march=athlon  -nostdinc -iwithprefix
lude    -DKBUILD_BASENAME=version   -c -o
 version.o version.c
   ld -m elf_i386  -r -o init.o main.o version.o do_mounts.o
make[1]: Leaving directory `/usr/src/v2.5.28/init'
  ld -m elf_i386 -T arch/i386/vmlinux.lds -e stext arch/i386/kernel/head.o
arch/i386/kernel/init
_task.o init/init.o --start-group arch/i386/kernel/kernel.o
arch/i386/mm/mm.o kernel/kernel.o mm
/mm.o fs/fs.o ipc/ipc.o security/built-in.o
/usr/src/v2.5.28/arch/i386/lib/lib.a lib/lib.a /usr/
src/v2.5.28/arch/i386/lib/lib.a drivers/built-in.o sound/sound.o
arch/i386/pci/pci.o net/network
.o --end-group -o vmlinux
drivers/built-in.o: In function `parport_ieee1284_epp_write_data':
/usr/src/v2.5.28/include/asm/io.h:400: undefined reference to `local symbols
in discarded sectio
n .text.exit'
make: *** [vmlinux] Error 1
----- Original Message -----
From: "jeff millar" <wa1hco@adelphia.net>
To: "Kernel Mailing List" <linux-kernel@vger.kernel.org>
Sent: Wednesday, July 24, 2002 11:34 PM
Subject: Linux-2.5.28 link problem
> ...need help getting a compile to complete.  This problem exists with
> 2.5.27-28.
> Here's the last lines from make...
>
>   ld -m elf_i386 -T arch/i386/vmlinux.lds -e stext arch/i386/kernel/head.o
> arch/i386/kernel/init
> _task.o init/init.o --start-group arch/i386/kernel/kernel.o
> arch/i386/mm/mm.o kernel/kernel.o mm
> /mm.o fs/fs.o ipc/ipc.o security/built-in.o
> /usr/src/v2.5.28/arch/i386/lib/lib.a lib/lib.a /usr/
> src/v2.5.28/arch/i386/lib/lib.a drivers/built-in.o sound/sound.o
> arch/i386/pci/pci.o net/network
> .o --end-group -o vmlinux
> drivers/built-in.o: In function `md_run_setup':
> /usr/src/v2.5.28/drivers/md/md.c(.data+0xee34): undefined reference to
> `local symbols in discard
> ed section .text.exit'
> make: *** [vmlinux] Error 1
>
> All the programs are better than specified in "Changes"...
>     Gcc = 2.96-110 (RH7.3)
>     binutils: ld = 2.11
>
> thanks in advance, jeff
>
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  
http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  
http://www.tux.org/lkml/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/