Date: Mon, 26 Jul 2004 00:18:48 +0300 (EEST)
From: Pasi Sjoholm <>
Subject: Re: ksoftirqd uses 99% CPU triggered by network traffic (maybe RLT-8139 related)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/25/67

On Sun, 25 Jul 2004, Will S. wrote:
> >I would say more like this is a pain in the ass. =) and I'm having a 
> >feeling that we will have to switch off from the rtl-8139 cards if nobody 
> >is willing to help us.
> I have an RTL-8139 on 100MBit/full-duplex and was by concidence copying 
> 110GB of data in roughly 300,000 files, some as big as 1GB, last night. 
> Three systems at once were pumping data into a single P4 1.4GHz with the 
> RTL-8139. The line was floored at 10MB/sec, and it ran for about 3.5 
> hours. I had no problems at all, and was using the P4 box (which triple 
> heads at high resolution) at the same time. Nothing broke, although it 
> felt quite a bit slower than usual :-)
=) I'm also using rtl-8139 cards at work and I haven't seen this kind of 
problems but I'm not using 2.6-series kernel in those machines. Good for 
you that you didn't have any problems.
> Kernel 2.6.8-rc1, ACPI and APIC fully enabled, NVidia accelerated 
> drivers loaded and in use by one of the three displays. Now that's what 
> I call a stress test :-) If there's anything outstanding with the 
> RTL-8139 driver, you'd think it would pop out under that kind of load. 
> One interesting thing is you both have AMD processors, and I have an 
> Intel CPU, but that might be unrelated.
> If it matters, this is on an ECS P4VXMS board - the RTL8139 is built-in.
Yeah, it might be some sort of a bug which is related to 
VIA Technologies, Inc. VT8366/A/7 [Apollo KT266/A/333]-chipset and 
RTL-8139? Hard to say at this point. I'll get some other network cards 
tomorrow from the office and we will see if there is a difference. 
I hope that it's not the mobo (chipset). =)
--
Pasi Sj√∂holm 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/