Date: Sat, 2 Feb 2002 21:49:17 +0100 (CET)
From: Adrian Bunk <>
Subject: Problem building the kernel with CONFIG_AIC7XXX_BUILD_FIRMWARE
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/2/13

Hi,
building kernel 2.5.3-dj1 fails with CONFIG_AIC7XXX_BUILD_FIRMWARE enabled
with the following error (but it seems that this problem also exists in
the 2.4 kernels):
<--  snip  -->
...
make[5]: Entering directory
`/home/bunk/linux/kernel-2.5/linux/drivers/scsi/aic7xxx/aicasm'
yacc -d aicasm_gram.y
mv y.tab.c aicasm_gram.c
lex  -t aicasm_scan.l > aicasm_scan.c
gcc -I/usr/include -I. -ldb aicasm_gram.c aicasm_scan.c aicasm.c
aicasm_symbol.c
 -o aicasm
aicasm_gram.y:1485: warning: type mismatch with previous implicit declaration
/usr/share/bison/bison.simple:946: warning: previous implicit declaration
of `yyerror'
aicasm_gram.y:1485: warning: `yyerror' was previously implicitly declared
to return `int'
In file included from aicasm_symbol.c:47:
aicdb.h:1: db3/db_185.h: No such file or directory
make[5]: *** [aicasm] Error 1
<--  snip  -->
The problem is that the -dj1 patch ships with a
drivers/scsi/aic7xxx/aicasm/aicdb.h file although this is a generated
file.
The real problem is that there's a "clean" target in the Makefile in this
directory that removed this file - unfortunately this "clean" target never
gets executed because in the Linux kernel the "clean" target in one
directory doesn't execute call the "clean" target in the Makefiles in the
subdirectories.
cu
Adrian
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/