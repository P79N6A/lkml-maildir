Date: Wed, 17 Nov 2004 16:25:04 -0800
From: Dave Hansen <>
Subject: Re: [patch 4/4] Xen core patch : /dev/mem calls io_remap_page_range
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/17/348

On Wed, 2004-11-17 at 15:56, Ian Pratt wrote:
> +#if defined(CONFIG_XEN)
> +       if (io_remap_page_range(vma, vma->vm_start, offset, 
> +                               vma->vm_end-vma->vm_start, vma->vm_page_prot))
> +               return -EAGAIN;
> +#else
>         if (remap_page_range(vma, vma->vm_start, offset, vma->vm_end-vma->vm_start,
>                              vma->vm_page_prot))
>                 return -EAGAIN;
> +#endif
>         return 0;
>  }
Do *all* calls to remap_page_range() under your arch need to be
converted like this, or is this the only one?  Seems like something that
should be done with header magic instead.  
-- Dave
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/