Date: Thu, 24 Jan 2008 17:32:51 +0100
From: "Miguel Ojeda" <>
Subject: Re: [WARNING -rc8] at fs/sysfs/dir.c:424 sysfs_add_one(), related with processor (ACPI)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/24/168

On Jan 24, 2008 2:44 AM, Dave Young <hidave.darkstar@gmail.com> wrote:
>
> On Wed, Jan 23, 2008 at 02:06:43PM -0800, Andrew Morton wrote:
> > > On Mon, 21 Jan 2008 18:53:18 +0100 "Miguel Ojeda" <maxextreme@gmail.com> wrote:
> > > Booting 2.6.24-rc8 I get this:
> > >
> > >
> > > sysfs: duplicate filename 'fan' can not be created
> > > WARNING: at fs/sysfs/dir.c:424 sysfs_add_one()
> > > Pid: 819, comm: modprobe Not tainted 2.6.24-rc8 #2
> > >  [<c01b18ff>] sysfs_add_one+0x9f/0xe0
> > >  [<c01b1e38>] create_dir+0x48/0x90
> > >  [<c01b1ea9>] sysfs_create_dir+0x29/0x50
> > >  [<c024873f>] kobject_get+0xf/0x20
> > >  [<c0248bff>] kobject_add+0x8f/0x1b0
> > >  [<c0248db1>] kobject_register+0x21/0x50
> > >  [<c02dc6f1>] bus_add_driver+0x71/0x1e0
> > >  [<f886402f>] acpi_fan_init+0x2f/0x4d [fan]
> > >  [<c0148986>] sys_init_module+0x126/0x19b0
> > >  [<c024af87>] rb_insert_color+0xb7/0xe0
> > >  [<c029dc8d>] acpi_bus_register_driver+0x0/0x38
> > >  [<c0104286>] syscall_call+0x7/0xb
> > >  =======================
> > > kobject_add failed for fan with -EEXIST, don't try to register things
> > > with the same name in the same directory.
> > > Pid: 819, comm: modprobe Not tainted 2.6.24-rc8 #2
> > >  [<c0248c81>] kobject_add+0x111/0x1b0
> > >  [<c0248db1>] kobject_register+0x21/0x50
> > >  [<c02dc6f1>] bus_add_driver+0x71/0x1e0
> > >  [<f886402f>] acpi_fan_init+0x2f/0x4d [fan]
> > >  [<c0148986>] sys_init_module+0x126/0x19b0
> > >  [<c024af87>] rb_insert_color+0xb7/0xe0
> > >  [<c029dc8d>] acpi_bus_register_driver+0x0/0x38
> > >  [<c0104286>] syscall_call+0x7/0xb
> > >  =======================
> > > processor: exports duplicate symbol acpi_processor_set_thermal_limit
> > > (owned by kernel)
> > >
>
> Could apply following debug patch and see the result?
>
>
> diff -upr linux/fs/sysfs/dir.c linux.new/fs/sysfs/dir.c
> --- linux/fs/sysfs/dir.c        2008-01-23 09:56:24.000000000 +0800
> +++ linux.new/fs/sysfs/dir.c    2008-01-23 09:59:12.000000000 +0800
> @@ -418,6 +418,8 @@ void sysfs_addrm_start(struct sysfs_addr
>   */
>  int sysfs_add_one(struct sysfs_addrm_cxt *acxt, struct sysfs_dirent *sd)
>  {
> +       if (!strcmp(sd->s_name, "fan"))
> +               dump_stack();
>         if (sysfs_find_dirent(acxt->parent_sd, sd->s_name)) {
>                 printk(KERN_WARNING "sysfs: duplicate filename '%s' "
>                        "can not be created\n", sd->s_name);
>
>
Done. The following appears in the new dmesg output.
ACPI: Power Button (CM) [PBTN]
input: Sleep Button (CM) as /class/input/input2
ACPI: Sleep Button (CM) [SBTN]
Pid: 1, comm: swapper Not tainted 2.6.24-rc8 #3
 [<c01b18d5>] sysfs_add_one+0x75/0x100
 [<c01b199f>] sysfs_addrm_start+0x3f/0xb0
 [<c01b1e58>] create_dir+0x48/0x90
 [<c01b1ec9>] sysfs_create_dir+0x29/0x50
 [<c024875f>] kobject_get+0xf/0x20
 [<c0248c1f>] kobject_add+0x8f/0x1b0
 [<c0248dd1>] kobject_register+0x21/0x50
 [<c02dc711>] bus_add_driver+0x71/0x1e0
 [<c05c7663>] acpi_fan_init+0x2f/0x4d
 [<c05ad551>] kernel_init+0x121/0x300
 [<c010416a>] ret_from_fork+0x6/0x1c
 [<c05ad430>] kernel_init+0x0/0x300
 [<c05ad430>] kernel_init+0x0/0x300
 [<c0104e6f>] kernel_thread_helper+0x7/0x18
 =======================
ACPI: SSDT 3FE93134, 0244 (r1  PmRef  Cpu0Ist     3000 INTL 20050624)
ACPI: SSDT 3FE92ACA, 05E5 (r1  PmRef  Cpu0Cst     3001 INTL 20050624)
Monitor-Mwait will be used to enter C-1 state
Monitor-Mwait will be used to enter C-2 state
Attached dmesg.txt
-- 
Miguel Ojeda
http://maxextreme.googlepages.com/index.htm
Linux version 2.6.24-rc8 (max@debian) (gcc version 4.2.3 20071123 (prerelease) (Debian 4.2.2-4)) #3 SMP Thu Jan 24 17:13:51 CET 2008
BIOS-provided physical RAM map:
 BIOS-e820: 0000000000000000 - 000000000009f000 (usable)
 BIOS-e820: 000000000009f000 - 00000000000a0000 (reserved)
 BIOS-e820: 0000000000100000 - 000000003fe92400 (usable)
 BIOS-e820: 000000003fe92400 - 0000000040000000 (reserved)
 BIOS-e820: 00000000f4000000 - 00000000f8000000 (reserved)
 BIOS-e820: 00000000fec00000 - 00000000fec10000 (reserved)
 BIOS-e820: 00000000fed18000 - 00000000fed1c000 (reserved)
 BIOS-e820: 00000000fed20000 - 00000000fed90000 (reserved)
 BIOS-e820: 00000000feda0000 - 00000000feda6000 (reserved)
 BIOS-e820: 00000000fee00000 - 00000000fee10000 (reserved)
 BIOS-e820: 00000000fff00000 - 0000000100000000 (reserved)
126MB HIGHMEM available.
896MB LOWMEM available.
Entering add_active_range(0, 0, 261778) 0 entries of 256 used
Zone PFN ranges:
  DMA             0 ->     4096
  Normal       4096 ->   229376
  HighMem    229376 ->   261778
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0:        0 ->   261778
On node 0 totalpages: 261778
  DMA zone: 32 pages used for memmap
  DMA zone: 0 pages reserved
  DMA zone: 4064 pages, LIFO batch:0
  Normal zone: 1760 pages used for memmap
  Normal zone: 223520 pages, LIFO batch:31
  HighMem zone: 253 pages used for memmap
  HighMem zone: 32149 pages, LIFO batch:7
  Movable zone: 0 pages used for memmap
DMI 2.4 present.
ACPI: RSDP 000FBBF0, 0024 (r2 DELL  )
ACPI: XSDT 3FE93E00, 005C (r1 DELL    M08     27D70802 ASL        61)
ACPI: FACP 3FE93C9C, 00F4 (r4 DELL    M08     27D70802 ASL        61)
ACPI: DSDT 3FE94400, 565E (r2 INT430 SYSFexxx     1001 INTL 20050624)
ACPI: FACS 3FEA2C00, 0040
ACPI: HPET 3FE93F00, 0038 (r1 DELL    M08            1 ASL        61)
ACPI: APIC 3FE94000, 0068 (r1 DELL    M08     27D70802 ASL        47)
ACPI: MCFG 3FE93FC0, 003E (r16 DELL    M08     27D70802 ASL        61)
ACPI: SLIC 3FE9409C, 0176 (r1 DELL    M08     27D70802 ASL        61)
ACPI: BOOT 3FE93BC0, 0028 (r1 DELL    M08     27D70802 ASL        61)
ACPI: SSDT 3FE925FE, 04CC (r1  PmRef    CpuPm     3000 INTL 20050624)
ACPI: PM-Timer IO Port: 0x1008
ACPI: Local APIC address 0xfee00000
ACPI: LAPIC (acpi_id[0x00] lapic_id[0x00] enabled)
Processor #0 6:15 APIC version 20
ACPI: LAPIC (acpi_id[0x01] lapic_id[0x01] enabled)
Processor #1 6:15 APIC version 20
ACPI: LAPIC_NMI (acpi_id[0x00] high edge lint[0x1])
ACPI: LAPIC_NMI (acpi_id[0x01] high edge lint[0x1])
ACPI: IOAPIC (id[0x02] address[0xfec00000] gsi_base[0])
IOAPIC[0]: apic_id 2, version 32, address 0xfec00000, GSI 0-23
ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
ACPI: IRQ0 used by override.
ACPI: IRQ2 used by override.
ACPI: IRQ9 used by override.
Enabling APIC mode:  Flat.  Using 1 I/O APICs
ACPI: HPET id: 0x8086a201 base: 0xfed00000
Using ACPI (MADT) for SMP configuration information
Allocating PCI resources starting at 50000000 (gap: 40000000:b4000000)
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 259733
Kernel command line: root=/dev/sda5 ro 
mapped APIC to ffffb000 (fee00000)
mapped IOAPIC to ffffa000 (fec00000)
Enabling fast FPU save and restore... done.
Enabling unmasked SIMD FPU exception support... done.
Initializing CPU#0
PID hash table entries: 4096 (order: 12, 16384 bytes)
Detected 1596.050 MHz processor.
Console: colour VGA+ 80x25
console [tty0] enabled
Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)
Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)
Memory: 1029164k/1047112k available (3534k kernel code, 17256k reserved, 1222k data, 288k init, 129608k highmem)
virtual kernel memory layout:
    fixmap  : 0xfff9b000 - 0xfffff000   ( 400 kB)
    pkmap   : 0xff800000 - 0xffc00000   (4096 kB)
    vmalloc : 0xf8800000 - 0xff7fe000   ( 111 MB)
    lowmem  : 0xc0000000 - 0xf8000000   ( 896 MB)
      .init : 0xc05ad000 - 0xc05f5000   ( 288 kB)
      .data : 0xc0473b72 - 0xc05a54bc   (1222 kB)
      .text : 0xc0100000 - 0xc0473b72   (3534 kB)
Checking if this processor honours the WP bit even in supervisor mode... Ok.
hpet clockevent registered
Calibrating delay using timer specific routine.. 3196.14 BogoMIPS (lpj=5325032)
Security Framework initialized
Capability LSM initialized
Mount-cache hash table entries: 512
CPU: After generic identify, caps: bfebfbff 20100000 00000000 00000000 0000e39d 00000000 00000001 00000001
monitor/mwait feature present.
using mwait in idle threads.
CPU: L1 I cache: 32K, L1 D cache: 32K
CPU: L2 cache: 2048K
CPU: Physical Processor ID: 0
CPU: Processor Core ID: 0
CPU: After all inits, caps: bfebfbff 20100000 00000000 00003940 0000e39d 00000000 00000001 00000001
Intel machine check architecture supported.
Intel machine check reporting enabled on CPU#0.
Compat vDSO mapped to ffffe000.
Checking 'hlt' instruction... OK.
SMP alternatives: switching to UP code
ACPI: Core revision 20070126
CPU0: Intel(R) Core(TM)2 Duo CPU     T5470  @ 1.60GHz stepping 0d
SMP alternatives: switching to SMP code
Booting processor 1/1 eip 2000
Initializing CPU#1
Calibrating delay using timer specific routine.. 3193.03 BogoMIPS (lpj=5320053)
CPU: After generic identify, caps: bfebfbff 20100000 00000000 00000000 0000e39d 00000000 00000001 00000001
monitor/mwait feature present.
CPU: L1 I cache: 32K, L1 D cache: 32K
CPU: L2 cache: 2048K
CPU: Physical Processor ID: 0
CPU: Processor Core ID: 1
CPU: After all inits, caps: bfebfbff 20100000 00000000 00003940 0000e39d 00000000 00000001 00000001
Intel machine check architecture supported.
Intel machine check reporting enabled on CPU#1.
CPU1: Intel(R) Core(TM)2 Duo CPU     T5470  @ 1.60GHz stepping 0d
Total of 2 processors activated (6389.17 BogoMIPS).
ENABLING IO-APIC IRQs
..TIMER: vector=0x31 apic1=0 pin1=2 apic2=-1 pin2=-1
checking TSC synchronization [CPU#0 -> CPU#1]: passed.
Brought up 2 CPUs
net_namespace: 64 bytes
NET: Registered protocol family 16
No dock devices found.
ACPI: bus type pci registered
PCI: Using MMCONFIG
Setting up standard PCI resources
ACPI: EC: Look up EC in DSDT
ACPI: Interpreter enabled
ACPI: (supports S0 S5)
ACPI: Using IOAPIC for interrupt routing
ACPI: PCI Root Bridge [PCI0] (0000:00)
PCI quirk: region 1000-107f claimed by ICH6 ACPI/GPIO/TCO
PCI quirk: region 1080-10bf claimed by ICH6 GPIO
PCI: Transparent bridge - 0000:00:1e.0
ACPI: PCI Interrupt Routing Table [\_SB_.PCI0._PRT]
ACPI: PCI Interrupt Routing Table [\_SB_.PCI0.PCIE._PRT]
ACPI: PCI Interrupt Routing Table [\_SB_.PCI0.AGP_._PRT]
ACPI: PCI Interrupt Routing Table [\_SB_.PCI0.RP01._PRT]
ACPI: PCI Interrupt Routing Table [\_SB_.PCI0.RP02._PRT]
ACPI: PCI Interrupt Routing Table [\_SB_.PCI0.RP04._PRT]
ACPI: PCI Interrupt Link [LNKA] (IRQs 9 10 11) *7
ACPI: PCI Interrupt Link [LNKB] (IRQs 5 7) *10
ACPI: PCI Interrupt Link [LNKC] (IRQs 9 10 11) *0, disabled.
ACPI: PCI Interrupt Link [LNKD] (IRQs 5 7 9 10 11) *0, disabled.
ACPI: PCI Interrupt Link [LNKE] (IRQs 3 4 5 6 7 9 10 *11 12 14 15)
ACPI: PCI Interrupt Link [LNKF] (IRQs 3 4 5 6 7 9 *10 11 12 14 15)
ACPI: PCI Interrupt Link [LNKG] (IRQs 3 4 5 6 7 *9 10 11 12 14 15)
ACPI: PCI Interrupt Link [LNKH] (IRQs 3 4 5 6 7 9 10 11 12 14 15) *0, disabled.
Linux Plug and Play Support v0.97 (c) Adam Belay
pnp: PnP ACPI init
ACPI: bus type pnp registered
pnpacpi: exceeded the max number of mem resources: 12
pnpacpi: exceeded the max number of mem resources: 12
pnpacpi: exceeded the max number of mem resources: 12
pnpacpi: exceeded the max number of mem resources: 12
pnpacpi: exceeded the max number of mem resources: 12
pnpacpi: exceeded the max number of mem resources: 12
pnpacpi: exceeded the max number of mem resources: 12
pnp: PnP ACPI: found 12 devices
ACPI: ACPI bus type pnp unregistered
SCSI subsystem initialized
libata version 3.00 loaded.
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
PCI: Using ACPI for IRQ routing
PCI: If a device doesn't work, try "pci=routeirq".  If it helps, post a report
hpet0: at MMIO 0xfed00000, IRQs 2, 8, 0
hpet0: 3 64-bit timers, 14318180 Hz
ACPI: RTC can wake from S4
Time: tsc clocksource has been installed.
system 00:05: ioport range 0xc80-0xcff could not be reserved
system 00:08: iomem range 0xfed00000-0xfed003ff has been reserved
system 00:09: ioport range 0x900-0x97f has been reserved
system 00:09: ioport range 0x4d0-0x4d1 has been reserved
system 00:09: ioport range 0x1000-0x1005 has been reserved
system 00:09: ioport range 0x1008-0x100f has been reserved
system 00:0a: ioport range 0xf400-0xf4fe has been reserved
system 00:0a: ioport range 0x1006-0x1007 has been reserved
system 00:0a: ioport range 0x100a-0x1059 could not be reserved
system 00:0a: ioport range 0x1060-0x107f has been reserved
system 00:0a: ioport range 0x1080-0x10bf has been reserved
system 00:0a: ioport range 0x10c0-0x10df has been reserved
system 00:0a: ioport range 0x1010-0x102f has been reserved
system 00:0a: ioport range 0x809-0x809 has been reserved
system 00:0b: iomem range 0x0-0x9efff could not be reserved
system 00:0b: iomem range 0x9f000-0x9ffff could not be reserved
system 00:0b: iomem range 0xc0000-0xcffff could not be reserved
system 00:0b: iomem range 0xe0000-0xfffff could not be reserved
system 00:0b: iomem range 0x100000-0x3fe923ff could not be reserved
system 00:0b: iomem range 0x3fe92400-0x3fefffff could not be reserved
system 00:0b: iomem range 0x3ff00000-0x3fffffff could not be reserved
system 00:0b: iomem range 0x3ff00000-0x406fffff could not be reserved
system 00:0b: iomem range 0xfff00000-0xffffffff could not be reserved
system 00:0b: iomem range 0xffa00000-0xffafffff has been reserved
system 00:0b: iomem range 0xfec00000-0xfec0ffff could not be reserved
system 00:0b: iomem range 0xfee00000-0xfee0ffff could not be reserved
PCI: Bridge: 0000:00:01.0
  IO window: e000-efff
  MEM window: fa000000-feafffff
  PREFETCH window: e0000000-efffffff
PCI: Bridge: 0000:00:1c.0
  IO window: disabled.
  MEM window: disabled.
  PREFETCH window: disabled.
PCI: Bridge: 0000:00:1c.1
  IO window: disabled.
  MEM window: f9f00000-f9ffffff
  PREFETCH window: disabled.
PCI: Bridge: 0000:00:1c.3
  IO window: d000-dfff
  MEM window: f9c00000-f9efffff
  PREFETCH window: f0000000-f01fffff
PCI: Bridge: 0000:00:1e.0
  IO window: disabled.
  MEM window: f9b00000-f9bfffff
  PREFETCH window: disabled.
ACPI: PCI Interrupt 0000:00:01.0[A] -> GSI 16 (level, low) -> IRQ 16
PCI: Setting latency timer of device 0000:00:01.0 to 64
ACPI: PCI Interrupt 0000:00:1c.0[A] -> GSI 16 (level, low) -> IRQ 16
PCI: Setting latency timer of device 0000:00:1c.0 to 64
ACPI: PCI Interrupt 0000:00:1c.1[B] -> GSI 17 (level, low) -> IRQ 17
PCI: Setting latency timer of device 0000:00:1c.1 to 64
ACPI: PCI Interrupt 0000:00:1c.3[D] -> GSI 19 (level, low) -> IRQ 18
PCI: Setting latency timer of device 0000:00:1c.3 to 64
PCI: Setting latency timer of device 0000:00:1e.0 to 64
NET: Registered protocol family 2
IP route cache hash table entries: 32768 (order: 5, 131072 bytes)
TCP established hash table entries: 131072 (order: 8, 1048576 bytes)
TCP bind hash table entries: 65536 (order: 7, 524288 bytes)
TCP: Hash tables configured (established 131072 bind 65536)
TCP reno registered
checking if image is initramfs...<7>Switched to high resolution mode on CPU 1
Switched to high resolution mode on CPU 0
 it is
Freeing initrd memory: 2827k freed
Simple Boot Flag at 0x79 set to 0x1
Machine check exception polling timer started.
IA-32 Microcode Update Driver: v1.14a <tigran@aivazian.fsnet.co.uk>
highmem bounce pool size: 64 pages
VFS: Disk quotas dquot_6.5.1
Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
NTFS driver 2.1.29 [Flags: R/W].
fuse init (API version 7.9)
io scheduler noop registered
io scheduler cfq registered (default)
Boot video device is 0000:01:00.0
PCI: Setting latency timer of device 0000:00:01.0 to 64
assign_interrupt_mode Found MSI capability
Allocate Port Service[0000:00:01.0:pcie00]
Allocate Port Service[0000:00:01.0:pcie02]
Allocate Port Service[0000:00:01.0:pcie03]
PCI: Setting latency timer of device 0000:00:1c.0 to 64
assign_interrupt_mode Found MSI capability
Allocate Port Service[0000:00:1c.0:pcie00]
Allocate Port Service[0000:00:1c.0:pcie02]
Allocate Port Service[0000:00:1c.0:pcie03]
PCI: Setting latency timer of device 0000:00:1c.1 to 64
assign_interrupt_mode Found MSI capability
Allocate Port Service[0000:00:1c.1:pcie00]
Allocate Port Service[0000:00:1c.1:pcie02]
Allocate Port Service[0000:00:1c.1:pcie03]
PCI: Setting latency timer of device 0000:00:1c.3 to 64
assign_interrupt_mode Found MSI capability
Allocate Port Service[0000:00:1c.3:pcie00]
Allocate Port Service[0000:00:1c.3:pcie02]
Allocate Port Service[0000:00:1c.3:pcie03]
ACPI: PCI Interrupt 0000:01:00.0[A] -> GSI 16 (level, low) -> IRQ 16
nvidiafb: Device ID: 10de0407 
nvidiafb: unknown NV_ARCH
vga16fb: initializing
vga16fb: mapped to 0xc00a0000
Console: switching to colour frame buffer device 80x30
fb0: VGA16 VGA frame buffer device
ACPI: AC Adapter [AC] (on-line)
ACPI: Battery Slot [BAT0] (battery present)
input: Lid Switch as /class/input/input0
ACPI: Lid Switch [LID]
input: Power Button (CM) as /class/input/input1
ACPI: Power Button (CM) [PBTN]
input: Sleep Button (CM) as /class/input/input2
ACPI: Sleep Button (CM) [SBTN]
Pid: 1, comm: swapper Not tainted 2.6.24-rc8 #3
 [<c01b18d5>] sysfs_add_one+0x75/0x100
 [<c01b199f>] sysfs_addrm_start+0x3f/0xb0
 [<c01b1e58>] create_dir+0x48/0x90
 [<c01b1ec9>] sysfs_create_dir+0x29/0x50
 [<c024875f>] kobject_get+0xf/0x20
 [<c0248c1f>] kobject_add+0x8f/0x1b0
 [<c0248dd1>] kobject_register+0x21/0x50
 [<c02dc711>] bus_add_driver+0x71/0x1e0
 [<c05c7663>] acpi_fan_init+0x2f/0x4d
 [<c05ad551>] kernel_init+0x121/0x300
 [<c010416a>] ret_from_fork+0x6/0x1c
 [<c05ad430>] kernel_init+0x0/0x300
 [<c05ad430>] kernel_init+0x0/0x300
 [<c0104e6f>] kernel_thread_helper+0x7/0x18
 =======================
ACPI: SSDT 3FE93134, 0244 (r1  PmRef  Cpu0Ist     3000 INTL 20050624)
ACPI: SSDT 3FE92ACA, 05E5 (r1  PmRef  Cpu0Cst     3001 INTL 20050624)
Monitor-Mwait will be used to enter C-1 state
Monitor-Mwait will be used to enter C-2 state
Monitor-Mwait will be used to enter C-3 state
ACPI: CPU0 (power states: C1[C1] C2[C2] C3[C3])
ACPI: Processor [CPU0] (supports 8 throttling states)
ACPI: SSDT 3FE93378, 00C4 (r1  PmRef  Cpu1Ist     3000 INTL 20050624)
ACPI: SSDT 3FE930AF, 0085 (r1  PmRef  Cpu1Cst     3000 INTL 20050624)
ACPI: CPU1 (power states: C1[C1] C2[C2] C3[C3])
ACPI: Processor [CPU1] (supports 8 throttling states)
ACPI: Thermal Zone [THM] (59 C)
Real Time Clock Driver v1.12ac
hpet_resources: 0xfed00000 is busy
Linux agpgart interface v0.102
[drm] Initialized drm 1.1.0 20060810
Serial: 8250/16550 driver $Revision: 1.90 $ 4 ports, IRQ sharing enabled
Floppy drive(s): fd0 is 1.44M
floppy0: no floppy controllers found
RAMDISK driver initialized: 16 RAM disks of 8192K size 1024 blocksize
loop: module loaded
nbd: registered device at major 43
Ethernet Channel Bonding Driver: v3.2.3 (December 6, 2007)
bonding: Warning: either miimon or arp_interval and arp_ip_target module parameters must be specified, otherwise bonding will not detect link failures! see bonding.txt for details.
ACPI: PCI Interrupt 0000:03:00.0[A] -> GSI 17 (level, low) -> IRQ 17
ssb: Sonics Silicon Backplane found on PCI device 0000:03:00.0
b44.c:v2.0
eth0: Broadcom 44xx/47xx 10/100BaseT Ethernet 00:1c:23:8e:bd:9f
Equalizer2002: Simon Janes (simon@ncm.com) and David S. Miller (davem@redhat.com)
tun: Universal TUN/TAP device driver, 1.6
tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>
Uniform Multi-Platform E-IDE driver Revision: 7.00alpha2
ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
ICH8M: IDE controller (0x8086:0x2850 rev 0x02) at  PCI slot 0000:00:1f.1
ACPI: PCI Interrupt 0000:00:1f.1[A] -> GSI 16 (level, low) -> IRQ 16
ICH8M: not 100% native mode: will probe irqs later
    ide0: BM-DMA at 0x6fa0-0x6fa7, BIOS settings: hda:DMA, hdb:pio
ICH8M: IDE port disabled
Probing IDE interface ide0...
hda: HL-DT-ST DVD+/-RW GSA-T11N, ATAPI CD/DVD-ROM drive
hda: host max PIO4 wanted PIO255(auto-tune) selected PIO4
hda: UDMA/33 mode selected
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
Probing IDE interface ide1...
hda: ATAPI 24X DVD-ROM DVD-R CD-R/RW drive, 2048kB Cache
Uniform CD-ROM driver Revision: 3.20
Loading iSCSI transport class v2.0-724.
Driver 'sd' needs updating - please use bus_type methods
Driver 'sr' needs updating - please use bus_type methods
SCSI Media Changer driver v0.25 
Driver 'ch' needs updating - please use bus_type methods
ahci 0000:00:1f.2: version 3.0
ACPI: PCI Interrupt 0000:00:1f.2[B] -> GSI 17 (level, low) -> IRQ 17
ahci 0000:00:1f.2: nr_ports (3) and implemented port map (0x5) don't match, using nr_ports
ahci 0000:00:1f.2: forcing PORTS_IMPL to 0x7
ahci 0000:00:1f.2: AHCI 0001.0100 32 slots 3 ports 3 Gbps 0x7 impl SATA mode
ahci 0000:00:1f.2: flags: 64bit ncq sntf pm led clo pio slum part 
PCI: Setting latency timer of device 0000:00:1f.2 to 64
scsi0 : ahci
scsi1 : ahci
scsi2 : ahci
ata1: SATA max UDMA/133 abar m2048@0xfebfb800 port 0xfebfb900 irq 219
ata2: SATA max UDMA/133 abar m2048@0xfebfb800 port 0xfebfb980 irq 219
ata3: SATA max UDMA/133 abar m2048@0xfebfb800 port 0xfebfba00 irq 219
ata1: SATA link up 1.5 Gbps (SStatus 113 SControl 300)
ata1.00: ATA-7: ST9120822AS, 3.CDD, max UDMA/133
ata1.00: 234441648 sectors, multi 8: LBA48 NCQ (depth 31/32)
ata1.00: configured for UDMA/133
ata2: SATA link down (SStatus 0 SControl 0)
ata3: SATA link down (SStatus 0 SControl 300)
scsi 0:0:0:0: Direct-Access     ATA      ST9120822AS      3.CD PQ: 0 ANSI: 5
sd 0:0:0:0: [sda] 234441648 512-byte hardware sectors (120034 MB)
sd 0:0:0:0: [sda] Write Protect is off
sd 0:0:0:0: [sda] Mode Sense: 00 3a 00 00
sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
sd 0:0:0:0: [sda] 234441648 512-byte hardware sectors (120034 MB)
sd 0:0:0:0: [sda] Write Protect is off
sd 0:0:0:0: [sda] Mode Sense: 00 3a 00 00
sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
 sda: sda1 sda2 sda3 sda4 < sda5 sda6 >
sd 0:0:0:0: [sda] Attached SCSI disk
sd 0:0:0:0: Attached scsi generic sg0 type 0
ACPI: PCI Interrupt 0000:00:1a.7[C] -> GSI 22 (level, low) -> IRQ 19
PCI: Setting latency timer of device 0000:00:1a.7 to 64
ehci_hcd 0000:00:1a.7: EHCI Host Controller
ehci_hcd 0000:00:1a.7: new USB bus registered, assigned bus number 1
ehci_hcd 0000:00:1a.7: debug port 1
PCI: cache line size of 32 is not supported by device 0000:00:1a.7
ehci_hcd 0000:00:1a.7: irq 19, io mem 0xfed1c400
ehci_hcd 0000:00:1a.7: USB 2.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 4 ports detected
ACPI: PCI Interrupt 0000:00:1d.7[A] -> GSI 20 (level, low) -> IRQ 20
PCI: Setting latency timer of device 0000:00:1d.7 to 64
ehci_hcd 0000:00:1d.7: EHCI Host Controller
ehci_hcd 0000:00:1d.7: new USB bus registered, assigned bus number 2
ehci_hcd 0000:00:1d.7: debug port 1
PCI: cache line size of 32 is not supported by device 0000:00:1d.7
ehci_hcd 0000:00:1d.7: irq 20, io mem 0xfed1c000
ehci_hcd 0000:00:1d.7: USB 2.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 6 ports detected
116x: driver isp116x-hcd, 03 Nov 2005
ohci_hcd: 2006 August 04 USB 1.1 'Open' Host Controller (OHCI) Driver
USB Universal Host Controller Interface driver v3.0
ACPI: PCI Interrupt 0000:00:1a.0[A] -> GSI 20 (level, low) -> IRQ 20
PCI: Setting latency timer of device 0000:00:1a.0 to 64
uhci_hcd 0000:00:1a.0: UHCI Host Controller
uhci_hcd 0000:00:1a.0: new USB bus registered, assigned bus number 3
uhci_hcd 0000:00:1a.0: irq 20, io base 0x00006f20
usb usb3: configuration #1 chosen from 1 choice
hub 3-0:1.0: USB hub found
hub 3-0:1.0: 2 ports detected
ACPI: PCI Interrupt 0000:00:1a.1[B] -> GSI 21 (level, low) -> IRQ 21
PCI: Setting latency timer of device 0000:00:1a.1 to 64
uhci_hcd 0000:00:1a.1: UHCI Host Controller
uhci_hcd 0000:00:1a.1: new USB bus registered, assigned bus number 4
uhci_hcd 0000:00:1a.1: irq 21, io base 0x00006f00
usb usb4: configuration #1 chosen from 1 choice
hub 4-0:1.0: USB hub found
hub 4-0:1.0: 2 ports detected
ACPI: PCI Interrupt 0000:00:1d.0[A] -> GSI 20 (level, low) -> IRQ 20
PCI: Setting latency timer of device 0000:00:1d.0 to 64
uhci_hcd 0000:00:1d.0: UHCI Host Controller
uhci_hcd 0000:00:1d.0: new USB bus registered, assigned bus number 5
uhci_hcd 0000:00:1d.0: irq 20, io base 0x00006f80
usb usb5: configuration #1 chosen from 1 choice
hub 5-0:1.0: USB hub found
hub 5-0:1.0: 2 ports detected
usb 2-6: new high speed USB device using ehci_hcd and address 3
ACPI: PCI Interrupt 0000:00:1d.1[B] -> GSI 21 (level, low) -> IRQ 21
PCI: Setting latency timer of device 0000:00:1d.1 to 64
uhci_hcd 0000:00:1d.1: UHCI Host Controller
usb 2-6: configuration #1 chosen from 1 choice
uhci_hcd 0000:00:1d.1: new USB bus registered, assigned bus number 6
uhci_hcd 0000:00:1d.1: irq 21, io base 0x00006f60
usb usb6: configuration #1 chosen from 1 choice
hub 6-0:1.0: USB hub found
hub 6-0:1.0: 2 ports detected
ACPI: PCI Interrupt 0000:00:1d.2[C] -> GSI 22 (level, low) -> IRQ 19
PCI: Setting latency timer of device 0000:00:1d.2 to 64
uhci_hcd 0000:00:1d.2: UHCI Host Controller
uhci_hcd 0000:00:1d.2: new USB bus registered, assigned bus number 7
uhci_hcd 0000:00:1d.2: irq 19, io base 0x00006f40
usb usb7: configuration #1 chosen from 1 choice
hub 7-0:1.0: USB hub found
hub 7-0:1.0: 2 ports detected
sl811: driver sl811-hcd, 19 May 2005
drivers/usb/host/r8a66597-hcd.c: driver r8a66597_hcd, 29 May 2007
usb 6-1: new low speed USB device using uhci_hcd and address 2
usb 6-1: configuration #1 chosen from 1 choice
usbcore: registered new interface driver usblp
PNP: PS/2 Controller [PNP0303:KBC,PNP0f13:PS2M] at 0x60,0x64 irq 1,12
serio: i8042 KBD port at 0x60,0x64 irq 1
serio: i8042 AUX port at 0x60,0x64 irq 12
mice: PS/2 mouse device common for all mice
input: AT Translated Set 2 keyboard as /class/input/input3
Synaptics Touchpad, model: 1, fw: 6.3, id: 0x1a0b1, caps: 0xa04793/0x300000
serio: Synaptics pass-through port at isa0060/serio1/input0
input: SynPS/2 Synaptics TouchPad as /class/input/input4
mk712: device not present
input: PC Speaker as /class/input/input5
I2O subsystem v1.325
i2o: max drivers = 8
I2O Configuration OSM v1.323
I2O Bus Adapter OSM v1.317
I2O Block Device OSM v1.325
I2O ProcFS OSM v1.316
rtc_cmos: probe of 00:03 failed with error -16
i2c /dev entries driver
ACPI: PCI Interrupt 0000:00:1f.3[B] -> GSI 17 (level, low) -> IRQ 17
device-mapper: ioctl: 4.12.0-ioctl (2007-10-02) initialised: dm-devel@redhat.com
cpuidle: using governor ladder
Marking TSC unstable due to: TSC halts in idle.
Time: hpet clocksource has been installed.
usbcore: registered new interface driver hiddev
input: Microsoft Microsoft 3-Button Mouse with IntelliEye(TM) as /class/input/input6
input: USB HID v1.10 Mouse [Microsoft Microsoft 3-Button Mouse with IntelliEye(TM)] on usb-0000:00:1d.1-1
usbcore: registered new interface driver usbhid
drivers/hid/usbhid/hid-core.c: v2.6:USB HID core driver
NET: Registered protocol family 26
Netfilter messages via NETLINK v0.30.
nf_conntrack version 0.5.0 (16384 buckets, 65536 max)
IPv4 over IPv4 tunneling driver
GRE over IPv4 tunneling driver
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP bic registered
Initializing XFRM netlink socket
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
Bridge firewalling registered
NET: Registered protocol family 4
NET4: DECnet for Linux: V.2.5.68s (C) 1995-2003 Linux DECnet Project Team
DECnet: Routing cache hash table of 1024 buckets, 8Kbytes
NET: Registered protocol family 12
802.1Q VLAN Support v1.8 Ben Greear <greearb@candelatech.com>
All bugs added by David S. Miller <davem@redhat.com>
Starting balanced_irq
Using IPI No-Shortcut mode
drivers/rtc/hctosys.c: unable to open rtc device (rtc0)
Freeing unused kernel memory: 288k freed
Pid: 818, comm: modprobe Not tainted 2.6.24-rc8 #3
 [<c01b18d5>] sysfs_add_one+0x75/0x100
 [<c01b199f>] sysfs_addrm_start+0x3f/0xb0
 [<c01b1e58>] create_dir+0x48/0x90
 [<c01b1ec9>] sysfs_create_dir+0x29/0x50
 [<c024875f>] kobject_get+0xf/0x20
 [<c0248c1f>] kobject_add+0x8f/0x1b0
 [<c011a34a>] module_finalize+0xaa/0x140
 [<c0148614>] mod_sysfs_setup+0x24/0xb0
 [<c0149b9f>] sys_init_module+0x133f/0x19b0
 [<c024afa7>] rb_insert_color+0xb7/0xe0
 [<c029dcad>] acpi_bus_register_driver+0x0/0x38
 [<c0108b3b>] sys_mmap2+0xcb/0xd0
 [<c0104286>] syscall_call+0x7/0xb
 =======================
Pid: 818, comm: modprobe Not tainted 2.6.24-rc8 #3
 [<c01b18d5>] sysfs_add_one+0x75/0x100
 [<c01b199f>] sysfs_addrm_start+0x3f/0xb0
 [<c01b1e58>] create_dir+0x48/0x90
 [<c01b1ec9>] sysfs_create_dir+0x29/0x50
 [<c024875f>] kobject_get+0xf/0x20
 [<c0248c1f>] kobject_add+0x8f/0x1b0
 [<c0248dd1>] kobject_register+0x21/0x50
 [<c02dc711>] bus_add_driver+0x71/0x1e0
 [<f886402f>] acpi_fan_init+0x2f/0x4d [fan]
 [<c0148986>] sys_init_module+0x126/0x19b0
 [<c024afa7>] rb_insert_color+0xb7/0xe0
 [<c029dcad>] acpi_bus_register_driver+0x0/0x38
 [<c0104286>] syscall_call+0x7/0xb
 =======================
sysfs: duplicate filename 'fan' can not be created
WARNING: at fs/sysfs/dir.c:427 sysfs_add_one()
Pid: 818, comm: modprobe Not tainted 2.6.24-rc8 #3
 [<c01b1924>] sysfs_add_one+0xc4/0x100
 [<c01b1e58>] create_dir+0x48/0x90
 [<c01b1ec9>] sysfs_create_dir+0x29/0x50
 [<c024875f>] kobject_get+0xf/0x20
 [<c0248c1f>] kobject_add+0x8f/0x1b0
 [<c0248dd1>] kobject_register+0x21/0x50
 [<c02dc711>] bus_add_driver+0x71/0x1e0
 [<f886402f>] acpi_fan_init+0x2f/0x4d [fan]
 [<c0148986>] sys_init_module+0x126/0x19b0
 [<c024afa7>] rb_insert_color+0xb7/0xe0
 [<c029dcad>] acpi_bus_register_driver+0x0/0x38
 [<c0104286>] syscall_call+0x7/0xb
 =======================
kobject_add failed for fan with -EEXIST, don't try to register things with the same name in the same directory.
Pid: 818, comm: modprobe Not tainted 2.6.24-rc8 #3
 [<c0248ca1>] kobject_add+0x111/0x1b0
 [<c0248dd1>] kobject_register+0x21/0x50
 [<c02dc711>] bus_add_driver+0x71/0x1e0
 [<f886402f>] acpi_fan_init+0x2f/0x4d [fan]
 [<c0148986>] sys_init_module+0x126/0x19b0
 [<c024afa7>] rb_insert_color+0xb7/0xe0
 [<c029dcad>] acpi_bus_register_driver+0x0/0x38
 [<c0104286>] syscall_call+0x7/0xb
 =======================
processor: exports duplicate symbol acpi_processor_set_thermal_limit (owned by kernel)
sysfs: duplicate filename 'thermal' can not be created
WARNING: at fs/sysfs/dir.c:427 sysfs_add_one()
Pid: 825, comm: modprobe Not tainted 2.6.24-rc8 #3
 [<c01b1924>] sysfs_add_one+0xc4/0x100
 [<c01b1e58>] create_dir+0x48/0x90
 [<c01b1ec9>] sysfs_create_dir+0x29/0x50
 [<c024875f>] kobject_get+0xf/0x20
 [<c0248c1f>] kobject_add+0x8f/0x1b0
 [<c011a34a>] module_finalize+0xaa/0x140
 [<c0148614>] mod_sysfs_setup+0x24/0xb0
 [<c0149b9f>] sys_init_module+0x133f/0x19b0
 [<c024afa7>] rb_insert_color+0xb7/0xe0
 [<c029dcad>] acpi_bus_register_driver+0x0/0x38
 [<c0108b3b>] sys_mmap2+0xcb/0xd0
 [<c0104286>] syscall_call+0x7/0xb
 [<c0470000>] vlan_validate+0x60/0xf0
 =======================
kobject_add failed for thermal with -EEXIST, don't try to register things with the same name in the same directory.
Pid: 825, comm: modprobe Not tainted 2.6.24-rc8 #3
 [<c0248ca1>] kobject_add+0x111/0x1b0
 [<c011a34a>] module_finalize+0xaa/0x140
 [<c0148614>] mod_sysfs_setup+0x24/0xb0
 [<c0149b9f>] sys_init_module+0x133f/0x19b0
 [<c024afa7>] rb_insert_color+0xb7/0xe0
 [<c029dcad>] acpi_bus_register_driver+0x0/0x38
 [<c0108b3b>] sys_mmap2+0xcb/0xd0
 [<c0104286>] syscall_call+0x7/0xb
 [<c0470000>] vlan_validate+0x60/0xf0
 =======================
processor: exports duplicate symbol acpi_processor_set_thermal_limit (owned by kernel)
sysfs: duplicate filename 'thermal' can not be created
WARNING: at fs/sysfs/dir.c:427 sysfs_add_one()
Pid: 1476, comm: modprobe Not tainted 2.6.24-rc8 #3
 [<c01b1924>] sysfs_add_one+0xc4/0x100
 [<c01b1e58>] create_dir+0x48/0x90
 [<c01b1ec9>] sysfs_create_dir+0x29/0x50
 [<c024875f>] kobject_get+0xf/0x20
 [<c0248c1f>] kobject_add+0x8f/0x1b0
 [<c011a34a>] module_finalize+0xaa/0x140
 [<c0148614>] mod_sysfs_setup+0x24/0xb0
 [<c0149b9f>] sys_init_module+0x133f/0x19b0
 [<c024afa7>] rb_insert_color+0xb7/0xe0
 [<c029dcad>] acpi_bus_register_driver+0x0/0x38
 [<c0108b3b>] sys_mmap2+0xcb/0xd0
 [<c0104286>] syscall_call+0x7/0xb
 [<c0470000>] vlan_validate+0x60/0xf0
 =======================
kobject_add failed for thermal with -EEXIST, don't try to register things with the same name in the same directory.
Pid: 1476, comm: modprobe Not tainted 2.6.24-rc8 #3
 [<c0248ca1>] kobject_add+0x111/0x1b0
 [<c011a34a>] module_finalize+0xaa/0x140
 [<c0148614>] mod_sysfs_setup+0x24/0xb0
 [<c0149b9f>] sys_init_module+0x133f/0x19b0
 [<c024afa7>] rb_insert_color+0xb7/0xe0
 [<c029dcad>] acpi_bus_register_driver+0x0/0x38
 [<c0108b3b>] sys_mmap2+0xcb/0xd0
 [<c0104286>] syscall_call+0x7/0xb
 [<c0470000>] vlan_validate+0x60/0xf0
 =======================
kjournald starting.  Commit interval 5 seconds
EXT3-fs: mounted filesystem with ordered data mode.
ACPI: PCI Interrupt 0000:00:1b.0[A] -> GSI 21 (level, low) -> IRQ 21
PCI: Setting latency timer of device 0000:00:1b.0 to 64
Clocksource tsc unstable (delta = -309405461 ns)
Adding 1004020k swap on /dev/sda6.  Priority:-1 extents:1 across:1004020k
EXT3 FS on sda5, internal journal
hda_intel: azx_get_response timeout, switching to polling mode: last cmd=0x001f0012
rtc: lost 1 interrupts
kjournald starting.  Commit interval 5 seconds
EXT3 FS on sda3, internal journal
EXT3-fs: mounted filesystem with ordered data mode.
kjournald starting.  Commit interval 5 seconds
EXT3 FS on sda2, internal journal
EXT3-fs: mounted filesystem with ordered data mode.
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
hda: drive_cmd: status=0x51 { DriveReady SeekComplete Error }
hda: drive_cmd: error=0x04 { AbortedCommand }
ide: failed opcode was: 0xef