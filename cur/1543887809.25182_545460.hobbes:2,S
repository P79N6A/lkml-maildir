Date: Wed, 16 May 2007 18:39:21 -0400
From: Ed Sweetman <>
Subject: Re: [PATCH] Kconfig powernow-k8 driver should depend on ACPI P-States driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/16/459

Joshua Hoblitt wrote:
> On Wed, May 16, 2007 at 04:04:40PM -0400, Daniel Drake wrote:
> 
>> Duane Griffin wrote:
>> 
>>> On 16/05/07, Prakash Punnoor <prakash@punnoor.de> wrote:
>>> 
>>>> Maybe you want to give a hint in the p states driver help text?
>>>> 
>>> I think a hint is the right thing to do, but in the PowerNow! driver
>>> rather than the p states one. How about adding something like this to
>>> the X86_POWERNOW_K8 (and X86_POWERNOW_K7?) help text:
>>> 
>> Please hold off this patch until we've gained a more complete 
>> understanding of the issues and workarounds (which will probably lead to 
>> us writing a better patch anyway)
>> 
>
> I agree - the issue is more complicated that I had thought.  I received
> an off list message saying that this dependency isn't required on a
> single-socket Athlon X2 system.  So it sounds like isn't an SMP setup
> issue as much as it is a multi-socket or perhaps just an issue with my
> vendor (Tyan).
>
> -J
>
> --
> 
Like i mentioned off list, the problem here is that cpu freq modules 
dont depend (Kconfig) on CONFIG_ACPI_PROCESSOR, yet they do.  Even the 
help text of CONFIG_ACPI_PROCESSOR says this.  I'm unsure as to why the 
drivers that do, dont make the dependency known to Kconfig, since 
obviously the writer of acpi_processor knew the dependency existed.
Simple fix would be to just include the depends line for 
CONFIG_ACPI_PROCESSOR for the powernow driver, and any others people 
wonna test.   I suspect most people just compile in the acpi_processor 
driver, never seeing this problem occur.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/