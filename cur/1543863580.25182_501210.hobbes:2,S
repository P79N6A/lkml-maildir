Date: Tue, 23 Jan 2007 22:47:42 -0800
From: Andrew Morton <>
Subject: Re: [PATCH 2.6.20-rc5] Gigaset ISDN driver error handling fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/1/24/15

On Wed, 17 Jan 2007 18:42:13 +0100 (CET)
Tilman Schmidt <tilman@imap.cc> wrote:
> +	mutex_init(&cs->mutex);
> +	mutex_lock(&cs->mutex);
I have vague memories of making rude comments about this a few months ago.
It is very weird to lock a mutex just after intialising it.  I mean, if any other
thread can lock this mutex then there's a race.  If no other thread can
lock it, then this thread doesn't need to either.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/