Date: Mon, 16 Sep 2002 14:24:14 -0700
From: James Cleverdon <>
Subject: Re: [PATCH] Summit patch for 2.5.34
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/16/18

On Monday 16 September 2002 08:55 am, Dave Jones wrote:
> On Thu, Sep 12, 2002 at 08:35:14PM -0700, James Cleverdon wrote:
>  > Patch that allows IBM x440 boxes to on-line all CPUs and interrupt
>  > routing for x360s.   Fixed x360 ID bug.
>
> Couple questions/comments.
>
> - Is this the same summit code as is in 2.4-ac ?
>   (Ie, the one that boots on non summit systems too)
Yes, save for the dynamic TPR enhancement.  (Already addressed by Alan, etc, 
in other postings.)
> - I believe the way forward here is to work with James Bottomley,
>   who has a nice abstraction of the areas your patch touches for
>   his Voyager sub-architecture.
>   Linus has however been completley silent on the x86-subarch idea
>   despite heavyweights like Alan and Ingo adding their support...
>   If you go this route, James' base needs to go in first
>   (converting just the in-kernel visws support). After which, adding
>   support for Voyager, Summit and any other wacky x86esque hardware
>   is a simple non-intrusive patch that touches subarch specific areas.
> - Some of the code you've added looks along the lines of..
>
>    if (numaq)
>       foo();
>    else if (summit)
>       foo2();
>    else
>       foo3();
>
>   Would it be over-abstracting to have some form of APIC struct,
>   defining pointers to various routines instead of lots of ugly
>   if's/switches/fall-through's.
>
> However, the last point may be completley pointless after adapting to
> use what James B has come up with..
>
>         Dave
All the if/else chains are in init code, where a few more microseconds for 
some extra branches isn't important.  However, a nice sub-arch abstraction 
would be welcome.
Thanks!
-- 
James Cleverdon
IBM xSeries Linux Solutions
{jamesclv(Unix, preferred), cleverdj(Notes)} at us dot ibm dot com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/