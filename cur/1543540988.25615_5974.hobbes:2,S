Date: Mon, 7 Aug 2000 15:00:46 -0700
From: Linus Torvalds <>
Subject: Re: [BUG] PCMCIA CardBus problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/7/129

In article <20000719154955.U21194@valinux.com> you write:
>I think the problem is that the CardBus bridge setup code in 2.4 only
>allocates 256 bytes of IO space, total, per socket, and this card
>requires two 256-byte IO windows, one for each device.  So the
>allocation for resource 0 for the second device (the modem) fails.
Hmm.. I've looked some more at this, and the only way to fix it seems to
be to just make the PCI resource setup code be aware of the fact that
the bridge can have multiple acceptable resource regions. Especially as
expanding the IO region past 256 seems to cause trouble on some laptops.
So we're better off with two 256-byte IO regions and just being better
at allocating resources from them.
Richard, can you try out test6-pre7 on your laptop with the card that
wants more than 256 bytes of IO memory? I think I've fixed it, but I
don't have any setup that could actually trigger the new cases (the
code, yes, but only in ways that are similar to what it has always
done). 
	Thanks,
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/