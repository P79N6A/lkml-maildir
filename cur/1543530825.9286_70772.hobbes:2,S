Date: Sun, 19 Mar 2000 21:53:44 -0500 (EST)
From: James Simmons <>
Subject: Re: [linux-fbdev] fbdev 2.4.0 cleanups
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/19/267

> There are some other servers that _could_ easily support runtime
> color depth changing - like Microwindows.  What's missing is that
> there's no signal to tell an opened process that the fb parms have changed.
> (When VT switches occur, you get a signal, it seems that when framebuffer
> parms change, you might want a signal)  This functionality could be
> added to fbset.
Their is SIGWINCH which is meant to let you know when a window has changed
size. It's used by the tty layer to send a signal to let you know when the
VT window size has changed. X windows in some UNIX systems use it for this
reason as well. As for having a master program like X windows, kernel
driver, and client apps using the video card resources would require a
Rendering Resource Manager. This is quite complex. 
> Also, on the single-open subject, it is still very desirable to have multiple
> procs on multiple consoles open /dev/fb0 simultaneously.  If a server
> uses hardware extensions, then it could use O_EXCL to keep others
> out.  Otherwise, graphics programs that just read (or write without using
> hardware
> registers) could be run on more than one VC simultaneously.  If even
> this is undesired, then change the permissions on the file system.  Tasks
> with setuserid root have to be coded with some assumptions.
Still as along as one app can alter the state of the hardware it could
invalid the data collected about the video hardware by other apps. See my
other post. It's a much better design to aloow multiple opens where each
app appears to have complete control of the video card. True virtualization. 
This is of course very complex. 
"Look it's a text editor, no it's a OS, no it's Emacs"
James Simmons                                           ____/| 
fbdev/gfx developer                                     \ o.O| 
http://www.linux-fbdev.org
                               =(_)= 
http://linuxgfx.sourceforge.net
                            U
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/