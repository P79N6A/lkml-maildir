Date: Sun, 19 Mar 2000 10:22:07 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: Unfreed kernel buffers (fsck and 2.3.99-pre*)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/19/144

On Sun, 19 Mar 2000, Mike Galbraith wrote:
> 
> I notice in pre2-4 that it is hard to keep enough text pages in ram
> (speculation) for a program to exit.. it can take several minutes for
> netscape to exit during/after a serious swap storm.
Ugh.
> How to generate a truely magnificent swap storm:
> I booted my p3-500 with 32 mb ram enabled, fired up X3.9.17 and started
> netscape 4.7.  That put me about 16 mb into swap, but box is working
> fine.  Click on an 11mb diff on my little test server, and (netscape is
> kinda gross) client box is instantly at ~260 mb swap and churning madly.
That is kind of gross..
At the same time I have to admit that if you're ~260MB into swap on a 32MB
box, I won't consider it a huge bug if that doesn't cause very nice
interactive behaviour.
Has this ever been much better?
That said, the VM balancing definitely needs some tweaking. This has
historically always been true before a new stable release: the development
gets done on high-end machines, and then before a new release everybody
scampers around madly to get it to be nicer on the low-end boxes that are
often ignored during development..
At least the current pre-series seems to have gotten past the "obviously
buggy" stage wrt balancing, and is now apparently back in the "ugh, it
could certainly be better" kind of stage.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/