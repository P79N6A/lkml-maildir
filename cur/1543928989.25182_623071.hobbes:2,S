Date: Fri, 30 Nov 2007 21:43:34 +0300
From: Michael Tokarev <>
Subject: Re: 2.6.23: does it supposed to work on an i486?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/30/211

H. Peter Anvin wrote:
> Michael Tokarev wrote:
[2.6.23 on an i486 machine]
>> The result is immediately machine reboot right
>> after bootloader (etherboot) passes control to
>> the kernel -- BEFORE "Uncompressing linux"
>> message.
>>
>> 2.6.22 worked just fine.
[]
> It looks like 2.6.23.9 is missing checkin
> 7ed192906a2144ebc8ca2925a85d27b9c5355668 from Linus' tree (attached),
> which is necessary to work on 386 and 486.
Well, I applied the patch (in 2.6.23 it's
 arch/i386/boot/pmjump.S,
not
 arch/x86/boot/pmjump.S,
but that's minor) - still the same behavior, it still reboots
instantly right when bootloader gave control to the kernel.
So it must be something else.. ;)
I'll try other kernels tomorrow, given some time (I already
spent almost the whole day today with this "machine").  This
whole story prompted me to just throw those machines away and
replace them with tiny devices (a small print server in this
case).  There are still several 486-class machines out there...
By the way, this very machine I'm experimenting with is a
strange beast by itself.  For example, etherboot does not
work on it properly, anything since version 5.1.0 just
freezes right after displaying the "greeting" message.
5.0.11 works.  However till now, linux worked on it just
fine, -- unlike etherboot.
Thanks!
/mjt
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/