Date: Tue, 6 Apr 2004 14:55:19 +0200
From: Robert Olsson <>
Subject: Re: route cache DoS testing and softirqs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/6/100

Dipankar Sarma writes:
 > Looks better atleast. Can you apply the following patch (rs-throttle-rcu)
 > on top of rcu-softirq.patch in your tree and see if helps a little bit more ?
 > Please make sure to set the kernel paramenters rcupdate.maxbatch to 4
 > and rcupdate.plugticks to 0. You can make sure of those parameters
 > by looking at dmesg (rcu prints them out during boot). I just merged
 > it, but have not tested this patch yet.
OK!
Well not tested yet but I don't think we will get rid overflow totally in my 
setup. I've done a little experimental patch so *all* softirq's are run via 
ksoftirqd. 
 total    droppped tsquz    throttl  bh_enbl  ksoftird irqexit  other  
009bee0c 00000000 00004aa7 00000000 00000000 0336a637 00000078 00000000
0054d381 00000000 00004ca0 00000000 00000000 032f8e48 00000000 00000000
I still see dst overflows. But the priority of the ksoftird's can now control 
the user apps behavior even during softirq DoS.
[unhandled content-type:application/octet-stream]
Cheers.
					--ro