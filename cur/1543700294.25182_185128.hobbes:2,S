Date: Fri, 19 Dec 2003 17:58:38 +0100
From: Adrian Bunk <>
Subject: [patch] 2.6.0-test11-mm1: isdn/eicon/eicon_mod.c doesn't compile
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/19/117

Hi Andrew,
I got the following compile error in 2.6.0-test11-mm1:
<--  snip  -->
...
  CC [M]  drivers/isdn/eicon/eicon_mod.o
drivers/isdn/eicon/eicon_mod.c: In function `eicon_exit':
drivers/isdn/eicon/eicon_mod.c:1362: warning: implicit declaration of 
function `mca_mark_as_unused'
drivers/isdn/eicon/eicon_mod.c: In function `eicon_mca_find_card':
drivers/isdn/eicon/eicon_mod.c:1500: warning: implicit declaration of 
function `mca_find_unused_adapter'
drivers/isdn/eicon/eicon_mod.c:1502: `MCA_NOTFOUND' undeclared (first 
use in this function)
drivers/isdn/eicon/eicon_mod.c:1502: (Each undeclared identifier is 
reported only once
drivers/isdn/eicon/eicon_mod.c:1502: for each function it appears in.)
drivers/isdn/eicon/eicon_mod.c: In function `eicon_mca_probe':
drivers/isdn/eicon/eicon_mod.c:1558: warning: implicit declaration of 
function `mca_read_stored_pos'
drivers/isdn/eicon/eicon_mod.c:1619: warning: implicit declaration of 
function `mca_set_adapter_name'
drivers/isdn/eicon/eicon_mod.c:1622: warning: implicit declaration of 
function `mca_mark_as_used'
make[3]: *** [drivers/isdn/eicon/eicon_mod.o] Error 1
<--  snip  -->
The fix is simple:
--- linux-2.6.0-test11-mm1-modular-no-smp/drivers/isdn/eicon/eicon_mod.c.old	2003-12-19 17:26:56.000000000 +0100
+++ linux-2.6.0-test11-mm1-modular-no-smp/drivers/isdn/eicon/eicon_mod.c	2003-12-19 17:28:29.000000000 +0100
@@ -29,6 +29,7 @@
 #include <linux/init.h>
 #ifdef CONFIG_MCA
 #include <linux/mca.h>
+#include <linux/mca-legacy.h>
 #endif /* CONFIG_MCA */
 
 #include "eicon.h"
Please apply
Adrian
-- 
       "Is there not promise of rain?" Ling Tan asked suddenly out
        of the darkness. There had been need of rain for many days.
       "Only a promise," Lao Er said.
                                       Pearl S. Buck - Dragon Seed
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/