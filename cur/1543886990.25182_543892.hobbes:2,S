Date: Sun, 13 May 2007 14:44:54 +0200 (CEST)
From: "Indan Zupancic" <>
Subject: Re: Linux 2.6.22-rc1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/13/61

Hello,
When compiling 2.6.22-rc1 I get the following (new and interesting) warnings:
GEN     /home/indan/src/git/obj/Makefile
scripts/kconfig/conf -s arch/i386/Kconfig
drivers/macintosh/Kconfig:116:warning:
'select' used by config symbol 'PMAC_APM_EMU'
refers to undefined symbol 'SYS_SUPPORTS_APM_EMULATION'
drivers/net/Kconfig:2283:warning:
'select' used by config symbol 'UCC_GETH'
refers to undefined symbol 'UCC_FAST'
drivers/input/keyboard/Kconfig:170:warning:
'select' used by config symbol 'KEYBOARD_ATARI'
refers to undefined symbol 'ATARI_KBD_CORE'
drivers/input/mouse/Kconfig:181:warning:
'select' used by config symbol 'MOUSE_ATARI'
refers to undefined symbol 'ATARI_KBD_CORE'
And:
/home/indan/src/git/linux-2.6/drivers/base/dd.c:211:
warning: 'device_probe_drivers' defined but not used
No idea how the first warnings can show up at all when I've selected nothing
related to them, nor who to CC for it.
Added Greg to the CC list for the second warning. device_probe_drivers() is
a static function, so it seems safe to remove.
diff --git a/drivers/base/dd.c b/drivers/base/dd.c
index 92428e5..b0088b0 100644
--- a/drivers/base/dd.c
+++ b/drivers/base/dd.c
@@ -207,19 +207,6 @@ static int __device_attach(struct device_driver * drv, void * data)
 	return driver_probe_device(drv, dev);
 }
-static int device_probe_drivers(void *data)
-{
-	struct device *dev = data;
-	int ret = 0;
-
-	if (dev->bus) {
-		down(&dev->sem);
-		ret = bus_for_each_drv(dev->bus, NULL, dev, __device_attach);
-		up(&dev->sem);
-	}
-	return ret;
-}
-
 /**
  *	device_attach - try to attach device to a driver.
  *	@dev:	device.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/