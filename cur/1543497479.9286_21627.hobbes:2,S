Date: Wed, 2 Jun 1999 09:47:34 -0700 (PDT)
From: David Dyck <>
Subject: new kernel 2.3.3, 2.3.4, and 2.3.3ac3 breaks simple program (ok in 2.2.9) -- breaks perl compiles
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/2/83

The following program no longer compiles with the latest
kernels.  I discovered this when trying to re-compile perl.
I didn't apply the Clemens Huebner <clemens.huebner@att.net>
patch Message-ID: <37523C0E.CEAD1C57@att.net>
machines are using libc5 style includes.
pong:dcd$ uname -a
Linux pong 2.3.3ac3 #1 Thu May 27 14:53:32 PDT 1999 i686
pong:dcd$ cat qq.c
#include <sys/msg.h>
long infosize = sizeof(struct msqid_ds);
pong:dcd$ gcc -c qq.c
In file included from /usr/include/sys/msg.h:7,
                 from qq.c:1:
/usr/include/linux/msg.h:22: parse error before `wait_queue_head_t'
/usr/include/linux/msg.h:22: warning: no semicolon at end of struct or union
/usr/include/linux/msg.h:23: warning: data definition has no type or storage class
/usr/include/linux/msg.h:29: parse error before `}'
qq.c:2: sizeof applied to an incomplete type
This same program compiles with no errors on 2.2.9
Linux dd 2.2.9 #2 Tue Jun 1 13:42:13 PDT 1999 i686
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/