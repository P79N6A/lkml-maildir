Date: Sat, 21 Apr 2007 16:57:36 -0600
From: Robert Hancock <>
Subject: Re: problem with <asm/semaphore.h>
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/21/192

liangbowen wrote:
> maybe you've misunderstood my meaning.  I mean the whole <asm/
> semaphore.h> header file has only  4 lines of code in total:
> #ifndef I386_SEMAPHORE_H
> #define I386_SEMAPHORE_H
> #include <linux/linkage.h>
> #endif
> 
> it's supposed to have more codes than that. like
> struct semaphore {
> 	int count;
> 	int waking;
> 	int lock ;			/* to make waking testing atomic */
> 	struct wait_queue * wait;
> };
> and the down(), up() functions.
> 
> but I can't see any of those codes, not even the #ifdef __KERNEL__
> macro.
> 
It does in the kernel version of that header. The userspace version of 
that header has everything inside #ifdef __KERNEL__ stripped out.
-- 
Robert Hancock      Saskatoon, SK, Canada
To email, remove "nospam" from hancockr@nospamshaw.ca
Home Page: 
http://www.roberthancock.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/