Date: Sat, 03 Jul 1999 15:04:33 +0100
From: Sid Boyce <>
Subject: Re: UDMA and VIA APOLLO CHIPSET
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/5/26

I have some problems seen below, when I installed the new Maxstor drive
and tried installing Caldera 2.2 on it, I got a repeated hang with the
HD and CDROM (EIDE both) having their access lights solidly on.
	I had to take the Maxstor drive to a friend's house and install Caldera
on it using his machine.
	Soon after I read somewhere in this mailing list that there are known
problems with UDMA HD's and CDROM's associated with the Via Apollo
chipset.
[barrabas:~]# lspci
00:00.0 Host bridge: VIA Technologies, Inc. VT82C597 [Apollo VP3] (rev
04)
00:01.0 PCI bridge: VIA Technologies, Inc. VT82C598 [Apollo MVP3 AGP]
00:07.0 ISA bridge: VIA Technologies, Inc. VT82C586 ISA [Apollo VP] (rev
41)
00:07.1 IDE interface: VIA Technologies, Inc. VT82C586 IDE [Apollo] (rev
06)
00:09.0 SCSI storage controller: Adaptec AIC-7871 (rev 03)
01:00.0 VGA compatible controller: Intel Corporation i740 (rev 21)
	I'm seeing problems with the TYAN AT100 using a 10Gig .....
[barrabas:~]# hdparm /dev/hda
/dev/hda:
 multcount    =  0 (off)
 I/O support  =  0 (default 16-bit)
 unmaskirq    =  0 (off)
 using_dma    =  0 (off)
 keepsettings =  0 (off)
 nowerr       =  0 (off)
 readonly     =  0 (off)
 readahead    =  8 (on)
 geometry     = 1313/255/63, sectors = 21095424, start = 0
[barrabas:~]# hdparm -i /dev/hda
/dev/hda:
 Model=Maxtor 91080D5, FwRev=GAS54112, SerialNo=A50CGVVC
 Config={ Fixed }
 RawCHS=20928/16/63, TrkSize=0, SectSize=0, ECCbytes=29
 BuffType=3(DualPortCache), BuffSize=512kB, MaxMultSect=16, MultSect=off
 DblWordIO=no, maxPIO=2(fast), DMA=yes, maxDMA=2(fast)
 CurCHS=1313/255/63, CurSects=21095424, LBA=yes
 LBA CHS=656/510/63 Remapping, LBA=yes, LBAsects=21095424
 tDMA={min:120,rec:120}, DMA modes: mword0 mword1 mword2 
 IORDY=on/off, tPIO={min:120,w/IORDY:120}, PIO modes: mode3 mode4 
 UDMA modes: mode0 mode1 *mode2
	On boot-up I get this ..........
hda: dma_intr: status=0x51 { DriveReady SeekComplete Error }
hda: dma_intr: error=0x84 { DriveStatusError BadCRC }
hda: dma_intr: status=0x51 { DriveReady SeekComplete Error }
hda: dma_intr: error=0x84 { DriveStatusError BadCRC }
hda: dma_intr: status=0x51 { DriveReady SeekComplete Error }
hda: dma_intr: error=0x84 { DriveStatusError BadCRC }
hda: dma_intr: status=0x51 { DriveReady SeekComplete Error }
hda: dma_intr: error=0x84 { DriveStatusError BadCRC }
hda: dma_intr: status=0x51 { DriveReady SeekComplete Error }
hda: dma_intr: error=0x84 { DriveStatusError BadCRC }
hda: dma_intr: status=0x51 { DriveReady SeekComplete Error }
hda: dma_intr: error=0x84 { DriveStatusError BadCRC }
hda: DMA disabled
ide0: reset: success
Regards
Sid.
-- 
... Sid Boyce...Amdahl(Europe)...44-121 422 0375 
Any opinions expressed above are mine and do not necessarily represent
 the opinions or policies of Amdahl Corporation.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/