Date: Mon, 9 Oct 2006 11:02:45 -0500
From: "Protasevich, Natalie" <>
Subject: RE: 2.6.19-rc1 genirq causes either boot hang or "do_IRQ: cannothandle IRQ -1"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/9/195

> On Mon, 2006-10-09 at 10:28 -0500, Protasevich, Natalie wrote:
> 
> > I'd like also to question current policies of user space 
> irqbalanced. 
> > It seems to just go round-robin without much heuristics involved.
> 
> only for the timer interrupt and only because "people" didn't 
> want to see it bound to a specific CPU. For all others 
> there's quite some heuristics actually
Ah, this explains a lot. I was planning to try binding the timer to a
CPU or a node (as soon as get a system for testing).
> 
> >  We are
> > seeing loss of timer interrupts on our systems - and the more 
> > processors the more noticeable it is, but it starts even on 8x 
> > partitions; on 48x system I see about 50% loss, on both ia32 and 
> > x86_64 (haven't checked on
> > ia64 yet). With say 16 threads it is unsettling to see 70% overall 
> > idle time, and still only 40-50% of interrupts go through. System's 
> > time is not affected, so the problem is on the back burner 
> for now :) 
> > It's not clear yet whether this is software or hardware fault,
> 
> I'd call it a hardware fault. But them I'm biased.
It is the main suspect for now, yes (I tend to be biased this way too :)
Those are NUMA machines that run as non-NUMA sometimes, and I still need
to sort out if it happens in both cases, or either and all the aspects
that may have come into play.  
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/