Date: 23 Aug 2002 12:52:20 -0400
From: Robert Love <>
Subject: Re: interrupt handler
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/23/150

On Fri, 2002-08-23 at 12:45, Richard B. Johnson wrote:
> On 23 Aug 2002, Robert Love wrote:
> > Only the current interrupt handler is disabled... interrupts are
> > normally ON.
> 
> No. Check out irq.c, line 446. The interrupts are turned back on
> only if the flag did not have SA_INTERRUPT set. Certainly most
> requests for interrupt services within drivers have SA_INTERRUPT
> set.
Sigh... SA_INTERRUPT is used only for fast interrupts.  Certainly most
drivers do not have it (and most that do are probably from the way old
days when we went through great pains to distinguish between fast and
slow interrupt handlers).
Today, very few things should run with all interrupts disabled.  That is
just dumb.  In fact, on this system, it seems only the timer interrupt
sets SA_INTERRUPT...
	Robert Love
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/