Date: Sun,  9 Jan 2000 23:08:59 +0300 (MSK)
From: "Khimenko Victor" <>
Subject: Re: Data corruption reading IDE CD-ROM in 2.2.x
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/9/117

In <E127MBM-00020W-00@the-village.bc.nu> Alan Cox (alan@lxorguk.ukuu.org.uk) wrote:
>> I do see a lot of WD drives om the DMA blacklist, but not yours.
>> Perhaps Andre can expand on this?
> The WD blacklist is taken from WD's own list of drives that could fail in
> some cases and had firmware updates. We've found no way to see if the firmware
> was updated so we block them all
My CD-ROM (SONY CDU4011) will not corrupt anything when used with DMA enabled.
It'll just froze the whole system. As it does this in both all versions of
Linux I've tried and in Windows98 I suspect hardware problem ...
Since I am used few different hard disks with DMA for more the year here I
think it's CD-ROM problem and not MB problem.
>> > And, certainly, I still wonder why it silently corrupted the data... Do I
>> > have bad hardware or something weird in the kernel?
>>
>> Judging by WD's track record I wouldn't rule out bad hardware.
> The DMA problem was a specific range of drives.
P.S. BTW is it possible to turn off DMA usage when there are no CD in drive ?
hdparm -d 0 giving 'No medium found' and when I forget to disable DMA before
first try to mount CD I'm getting total system freeze :-(( Really annoying ...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/