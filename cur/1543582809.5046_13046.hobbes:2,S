Date: Thu, 22 Feb 2001 23:14:44 -0500
From: Doug Ledford <>
Subject: Re: PROBLEM: __buggy_fxsr_alignment error 2.4.1 and 2.4.2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/22/145

"Kurt V. Hindenburg" wrote:
> 
> asm-i386:
> init/main.o(.text.init+0x63): undefined reference to `__buggy_fxsr_alignment'
> 
> I don't recall this error in 2.4.0, but it is present in 2.4.1 and was not
> fixed in 2.4.2.
> 
>  >sh scripts/ver_linux
> -- Versions installed: (if some fields are empty or look
> -- unusual then possibly you have very old versions)
> Linux amdk7 2.4.1 #3 Sat Feb 3 18:50:44 EST 2001 i686 unknown
> Kernel modules         2.4.1
> Gnu C                  pgcc-2.95.2.1
> Gnu Make               3.79.1
> Binutils               2.10.1
> Linux C Library        2.1.3
> Dynamic linker         ldd: version 1.9.9
> Procps                 2.0.7
> Mount                  2.10q
> Net-tools              1.57
> Console-tools          0.2.3
> Sh-utils               2.0
> Modules Loaded         ppp_deflate bsd_comp ppp_async
> 
> Fix: Comment out line 217 in include/asm-i386/bugs.h
> /*    __buggy_fxsr_alignment(); */
> 
> It compiles after this change.
That "bug" is there for a reason.  Get a real compiler, then it will work OK. 
Compile that kernel with your compiler, your fix in place, and then try to run
it on a PIII or later CPU and it will Oops all over the place.  Run it on any
CPU that supports FXSAVE and it will likely blow chunks (all the Intel CPUs
will, but I don't know for sure about the AMD CPUs that support FXSAVE).
-- 
 Doug Ledford <dledford@redhat.com>  
http://people.redhat.com/dledford
      Please check my web site for aic7xxx updates/answers before
                      e-mailing me about problems
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/