Date: Sun, 3 Sep 2000 00:02:27 +0200
From: "Andi Kleen" <>
Subject: Re: zero-copy TCP
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/2/78

On Sat, Sep 02, 2000 at 10:35:11PM +0100, Alan Cox wrote:
> > to MANOS, and what a mess indeed. In NetWare, the only time data ever
> > gets copied from incoming packets is:
> > 
> > 1.  A copy to userspace at a stream head.
> > 2.  An incoming write that gets copied into the file cache.
> 
> Sounds like Linux - one DMA and one copy to user space.
Given for NFS over UDP it is usually more, because of the defragmentation
pass. That will be fixed in 2.5 and the code is already writen, just wants
to be ported to kiobufs. 2.4 NFSD at least receives directly into the
page cache unlike 2.2 (so it'll do two copies, three usually on alpha) 
Samba probably does more copies though, I don't think it receives directly
into a mmap'ed buffer (so there are at least two copies to write something
to disk).
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/