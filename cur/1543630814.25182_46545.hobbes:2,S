Date: Fri, 17 May 2002 21:44:33 +0530
From: Dipankar Sarma <>
Subject: Re: 16-CPU #s for lockfree rtcache (rt_rcu)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/17/144

On Fri, May 17, 2002 at 06:49:21AM -0700, David S. Miller wrote:
>    From: Dipankar Sarma <dipankar@in.ibm.com>
>    Date: Fri, 17 May 2002 19:21:16 +0530
> 
>    2.5.3 : ip_route_output_key [c01bab8c]: 12166
>    2.5.3+rt_rcu : ip_route_output_key [c01bb084]: 6027
> 
> Thanks for doing the testing.  Are you able to do this
> test on some 4 or 8 processor non-NUMA system?
Yes, but may not have been the same test. We have been doing various 
configurations for this test. One fallout of using large number of 
dest addresses is that we have frequent neighbor table garbage collection 
which results in a lot of lock contentions. By slowing down
the packet rate and/or increasing the gc threshold, we can
avoid this. How realistic is this ? If we avoid frequent
gc, we see better gains in route lookup. With frequent gc,
the speedup was of about 22% for an 8 cpu SMP, IIRC. I will rerun
the tests tomorrow or monday to get both sets of numbers for 8-cpu
SMP.
Thanks
-- 
Dipankar Sarma  <dipankar@in.ibm.com> 
http://lse.sourceforge.net
Linux Technology Center, IBM Software Lab, Bangalore, India.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/