Date: Fri, 23 Jan 2004 21:00:23 -0800 (PST)
From: "David S. Miller" <>
Subject: Re: [PATCH] 2.6.1 tg3 DMA engine test failure
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/24/3

   From: Grant Grundler <grundler@parisc-linux.org>
   Date: Fri, 23 Jan 2004 18:36:14 -0700
   3) Broadcom engineer noted the meaning of DMA_RWCTRL_ASSERT_ALL_BE
      has changed for bcm570[34] and also advised against setting
      it on BCM570[01] chips. I'm just implementing his advice.
      Comment below spells out more details.
Setting this bit is absolutely required on many RISC PCI boxes, where
streaming mappings must have cacheline sized DMA transactions done
on them with all byte enables on.
In fact, since the later chips don't allow controlling this, some of
them cause streaming byte hole errors on sparc64 and other RISC
systems when they do cacheline sized DMA to streaming DMA mappings
with not all the byte enables on.
So I'm not going to add this part of your changes.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/