Date: Tue, 1 Jul 2003 00:36:27 +0200
From: Adrian Bunk <>
Subject: Re: What did I miss?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/30/203

On Mon, Jun 30, 2003 at 02:54:13PM -0400, Robert L. Harris wrote:
> 
> Attaching, and thanks for taking the time to poke this.
Thanks, a fix is below.
The problem is in the BCM4400 driver -ac adds. bcm4400_remove_one is 
__devexit but the pointer to it didn't use __devexit_p resulting in a
.text.exit error if CONFIG_HOTPLUG is disabled.
cu
Adrian
--- drivers/net/bcm4400/b44um.c.old	2003-07-01 00:23:01.000000000 +0200
+++ drivers/net/bcm4400/b44um.c	2003-07-01 00:26:07.000000000 +0200
@@ -1019,7 +1019,7 @@
 	name:		bcm4400_driver,
 	id_table:	bcm4400_pci_tbl,
 	probe:		bcm4400_init_one,
-	remove:		bcm4400_remove_one,
+	remove:		__devexit_p(bcm4400_remove_one),
 	suspend:	bcm4400_suspend,
 	resume:		bcm4400_resume,
 };
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/