Date: Tue, 13 Jan 2004 12:10:29 +0200
From: Oleg Drokin <>
Subject: Re: 2.6.x breaks some Berkeley/Sleepycat DB functionality
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/13/27

Hello!
On Tue, Jan 13, 2004 at 12:53:16PM +0300, Nikita Danilov wrote:
>  > I run a PGP Public key server on this machine and under 2.4.x it's
>  > "smooth as silk". But if I boot under 2.6.x, it's gaurenteed failure. If
>  > I try to build a database using the build command (this is an sks
>  > server, so it's sks build or sks fastbuild) I IMMEDIATELY get  Bdb
>  > error. But the exact same command with the exact same libraries and
>  > input files under 2.4.20 works without a hitch.
>  > Anyone got any ideas? Anything else I can provide to assist in debugging?
> On top of what file system berkdb is created? I have a reminiscence that
> Sleepy Cat used to have a problem with reiserfs, due to large
> stat->st_blksize value. Oleg do you remember this?
No, that problem was different. And it was believed that BErkeley DB might just
be performing a bit slower on reiserfs, though I never was able to reproduce and
Sleepycat's code contains it own limit on maximal block size (it uses 16k
blocksize if on suggested by FS is bigger that 16k).
Definitely there were no crashes.
Bye,
    Oleg
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/