Date: Tue, 19 Feb 2008 11:27:00 +0100
From: Ingo Molnar <>
Subject: Re: Linux 2.6.25-rc2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/19/107

* Pekka Enberg <penberg@cs.helsinki.fi> wrote:
> Mathieu, Christoph is on vacation and I'm not at all that familiar 
> with this cmpxchg_local() optimization, so if you could take a peek at 
> this bug report to see if you can spot something obviously wrong with 
> it, I would much appreciate that.
hm, it's bad for at least one other reason as well (which is probably 
unrelated to this crash):
 /*
  * Currently fastpath is not supported if preemption is enabled.
  */
 #if defined(CONFIG_FAST_CMPXCHG_LOCAL) && !defined(CONFIG_PREEMPT)
 #define SLUB_FASTPATH
 #endif
such !PREEMPT exceptions tend to show "i didnt want to think too hard 
about the preemptible case so just turn it off" thinking.
Also, why isnt this "SLUB_FASTPATH" flag done in the Kconfig space?
	Ingo