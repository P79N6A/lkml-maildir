Date: Fri, 16 Jul 1999 22:46:07 +0200 (MET DST)
From: Bjorn Wesen <>
Subject: 2.0.x networking breaks with SADISTIC_KMALLOC
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/16/123

I stumbled over a most weird thing with the 2.0 kernels (tested on 2.0.33
and 2.0.37). When enabling SADISTIC_KMALLOC in mm/kmalloc.c, packets are
delayed (or lost) inside the network stack somewhere. Tested on different
architectures and computers with different NIC's, and no weirdo config
options.
For example, telnetting to such a machine and typing chars, you get a one
packet delay - you see the char you pressed _last_ keystroke. Same thing
in ftp for example, typing ls gives you the first half of the listing and
then it halts.
30 seconds later the stack tries again and then it seems to get through.
tcp_sendmsg is called, but the packet never reaches the NIC for
transmission.
Does anyone know if there is any official reason why sadistic_kmalloc
would break stuff, if this is not a real bug ? 
-Bjorn
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/