Date: Tue, 3 Aug 2004 15:08:21 -0300
From: Marcelo Tosatti <>
Subject: Re: dma problems with Serverworks CSB5 chipset
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/3/127

On Wed, Jul 28, 2004 at 12:38:59PM -0500, Richard Wohlstadter wrote:
> Hello,
> 
> I have 200 servers in a cluster running vanilla kernel 2.4.26(not 
> tainted).  Under heavy I/O activity I have various servers completely 
> lose access to their IDE bus.  Logs show the same error every time:
> 
> hda: dma_timer_expiry: dma status == 0x61
> 
> The kernel resets the IDE bus at this point.  Sometimes things start 
> working again but mostly all ide access is lost and I have to reboot the 
> server.  The chipset is:
> 
>  00:0f.1 IDE interface: ServerWorks CSB5 IDE Controller (rev 93)
> 
> I have searched archives for problems with this chipset and I have seen 
> other users with this same issue, but no resolution to the problem.  Is 
> there a known problem with this chipset version or could there be some 
> issues still with the serverworks driver?  Any help would be much 
> appreciated.  Thanks.
Richard,
ServerWorks OSB4/5 chipsets are known to not work reliably with the Linux
IDE code. AFAIK its a hardware problem which we dont correctly work around.
Have you tried disabling DMA?
Bart and Alan are IDE experts, they can probably give you more useful
information.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/