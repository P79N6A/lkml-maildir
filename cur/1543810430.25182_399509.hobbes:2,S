Date: Tue, 21 Feb 2006 16:21:59 +0200
From: Oleg Drokin <>
Subject: Re: FMODE_EXEC or alike?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/21/117

Hello!
On Tue, Feb 21, 2006 at 03:15:53PM +0100, Antonio Vargas wrote:
> > > We would need to understand whether this is needed by other distributed
> > > filesystems and if so, whether the proposed implementation is suitable and
> > > sufficient.
> > Hmm.... We might possibly want to use that for NFSv4 at some point in
> > order to deny write access to the file to other clients while it is in
> > use.
> When done with regards to failing a write if anyone has mapped the
> file for executing it, or failing the execute if it's open/mmaped for
> write, I can't really see the difference between local, remote and
> clustered filesystems...
Currently this is only possible locally, when both execution and opening
for writing is performed on the same node. Then VFS enforces ETXTBSY.
But if you do exec on one node and open for writing on another,
VFSes on those nodes have no idea on what happens on all other nodes.
Bye,
    Oleg
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/