Date: Tue, 29 Jun 1999 13:43:33 -0700 (PDT)
From:  dave@thor ...
Subject: Re: Socket stuck in LAST_ACK for days (2.2.10)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/29/104

On Tue, 29 Jun 1999, Brian Ristuccia wrote:
> On Tue, Jun 29, 1999 at 12:50:15PM -0700, dave@thor.sbay.org wrote:
> > On Tue, 29 Jun 1999, Brian Ristuccia wrote:
> > 
> > > tcp        1  38681 osiris.978.org:https    c-b.com:2777            LAST_ACK
> > > -                   off (0.00/0/0)
> > > 
> > > This socket stays stuck in LAST_ACK. It's been that way for like 2 days now.
> > > It's blocking that port. Is there any way I can make it go away so I can
> > > restart that daemon without rebooting?
> > 
> > I've seen this too on several occasions since the 2.1.x days (At least
> > since the 2.1.9x time frame). I have been unable to reproduce it reliably,
> > or frequently, so I haven't done anything about it yet. I am fair
> > confident that this is due to severe packet loss.
I don't remember whether there was data in my receive queue, but I do
remember that on each occasion, there was a good size chunk of data in the
send queue. Your situation looks very similar to mine.
> > I can promise you that this never went away on my systems. It stayed there
> > until the next reboot.
> 
> Hmm... Perhaps I could invite someone to muck around with GDB on my running
> kernel :)
I thought that using gdb on the kernel required kernel support? In any
case, can you provide the output of /proc/net/tcp to the list. Somebody
might be able to point you or myself in the right direction to finding
this bug.
> Hope this gets fixed.
Me too.
davez
-- 
Dave Zarzycki
http://thor.sbay.org/~dave/
http://www.sbay.net/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/