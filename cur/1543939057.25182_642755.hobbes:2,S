Date: Thu, 24 Jan 2008 20:33:54 +0100
From: Miklos Szeredi <>
Subject: [patch 13/26] mount options: fix fat
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/24/260

From: Miklos Szeredi <mszeredi@suse.cz>
Add flush option to /proc/mounts for msdos and vfat filesystems.
Signed-off-by: Miklos Szeredi <mszeredi@suse.cz>
---
Index: linux/fs/fat/inode.c
===================================================================
--- linux.orig/fs/fat/inode.c	2008-01-17 19:00:55.000000000 +0100
+++ linux/fs/fat/inode.c	2008-01-21 19:00:40.000000000 +0100
@@ -837,6 +837,8 @@ static int fat_show_options(struct seq_f
 		if (!opts->numtail)
 			seq_puts(m, ",nonumtail");
 	}
+	if (sbi->options.flush)
+		seq_puts(m, ",flush");
 
 	return 0;
 }
--