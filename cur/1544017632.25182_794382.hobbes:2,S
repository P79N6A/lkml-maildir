Date: Mon, 19 Jan 2009 14:25:29 +0100
From: "Frédéric Weisbecker" <>
Subject: Re: [PATCH] ftrace based hard lockup detector
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/19/147

2009/1/19 Steven Rostedt <rostedt@goodmis.org>:
> Ah, OK, the check is in the function tracer. Hmm, my logdev code had an
> option to enable tracing at early bootup. Instead of using the normal
> memory alloction for the ring buffer, it needed to use alloc_bootmem. I
> wonder if it would be worth it to allow for a tracer to do the same if it
> needs to be allocated early on (before memory is initialized)?
>
> --Steve
Hi Steve,
Yeah I think that would be a good idea.
BTW, tote that for the moment, this hard lockup detector is basic, but
I could even make it relying
to the function graph tracer and then dump the whole stack of
functions called. I think that could
give a more precise backtrace.... (and more human readable).