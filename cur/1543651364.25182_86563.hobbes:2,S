Date: Sun, 03 Nov 2002 19:47:37 -0500
From: Chris Friesen <>
Subject: IDE BUG REPORT: 2.5.45 killed my / partition
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/3/273

duron, kt133 motherboard, ide disks, new clean mandrake 9 install with 
ext3, running fine over several boots
Yesterday I compiled 2.5.45 after working around some build glitches, 
booted fine and ran it for several hours.  I just turned on your basic 
generic IDE stuff and the VIA ide controllers, nothing fancy or (at 
least so I thought) dangerous.
Today I booted but it wouldn't let me log in as normal user (error 
message flashed too quickly for me to be able to read it, looked like it 
began with "critical") but I could log in as root so I did.  I poked 
around and didn't see anything odd, so I went to reboot onto the 
mandrake kernel.
I boot up, and it gets to the point where it checks the root filesystem 
and it halts with an error:
Checking root filesystem
fsck.ext3/dev/hdb9:
The superblock could not be read or does not describe a correct ext2 
filesystem. If the device is valid and it really contains an ext2 
filesystem (and not swap or ufs or something else), then the superblock 
is corrupt, and you might try running e2fsck with an alternate superblock:
      e2fsck -b 8193 <device>
: No such file or directory while trying to open /dev/hdb9
Failed to check filesystem.  Do you want to repair the errors? (Y/N)
(beware, you can lose data)
A bit worried, I rebooted with the rescue disk and ran fsck.ext3, which 
found a bunch of errors that I told it to clean.  Still on my rescue 
kernel/ramdisk I mounted the filesystem and tried listing a few files 
and everything was fine.  I then rebooted and the boot-time fsck gave me 
the same error as above.
I thought that 2.5.45 wasn't supposed to have ide problems like this 
anymore...
Anyways, the only thing left that I can see is to re-install--anyone 
else have a better idea?  I'll hold off on doing that for a few days in 
case someone wants more information on the system.
Any ideas why the rescue fsck passes but boot-time fails?
Thanks,
Chris
-- 
Chris Friesen                    | MailStop: 043/33/F10
Nortel Networks                  | work: (613) 765-0557
3500 Carling Avenue              | fax:  (613) 765-2986
Nepean, ON K2H 8E9 Canada        | email: cfriesen@nortelnetworks.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/