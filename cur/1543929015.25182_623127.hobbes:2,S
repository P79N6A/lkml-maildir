Date: Fri, 30 Nov 2007 22:58:23 +0100
From: "Alessandro Suardi" <>
Subject: Re: ata4294967295: failed to start port (errno=-19)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/30/267

On Nov 30, 2007 1:34 PM, Meelis Roos <mroos@linux.ee> wrote:
> > Can you stick a stack trace in at that point ? That would help diagnose
> > it a great deal quicker.
>
> Finally done - found out hard way that BUG() is too bad and
> dump_st5ack() suits me better.
>
> libata version 3.00 loaded.
> Pid: 661, comm: modprobe Not tainted 2.6.24-rc3 #3
>  [<d48cac80>] ata_host_start+0xf0/0x140 [libata]
>  [<d48d5f2e>] ata_pci_init_one+0xee/0x2a0 [libata]
>  [<c01a6077>] sysfs_create_link+0x77/0x100
>  [<d4825037>] pacpi_init_one+0x17/0x20 [pata_acpi]
>  [<c01d64e6>] pci_device_probe+0x56/0x80
>  [<c022dfd7>] driver_probe_device+0x87/0x190
>  [<c02b2191>] klist_next+0x51/0xb0
>  [<c022e216>] __driver_attach+0x76/0x80
>  [<c022d3ea>] bus_for_each_dev+0x3a/0x60
>  [<c022de56>] driver_attach+0x16/0x20
>  [<c022e1a0>] __driver_attach+0x0/0x80
>  [<c022d7ab>] bus_add_driver+0x8b/0x1e0
>  [<c01d667c>] __pci_register_driver+0x4c/0x90
>  [<c0139231>] sys_init_module+0x121/0x1550
>  [<c014eabf>] vma_prio_tree_insert+0x1f/0x50
>  [<d48d12f0>] ata_std_prereset+0x0/0x160 [libata]
>  [<c0155648>] do_mmap_pgoff+0x298/0x320
>  [<c0104086>] syscall_call+0x7/0xb
>  [<c02b0000>] packet_setsockopt+0xf0/0x3b0
>  =======================
> ata4294967295: failed to start port (errno=-19)
Mine is slightly different - I just put dump_stack();
 before the ata_port_printk in libata-core.c:
PCI: Setting latency timer of device 0000:00:1f.2 to 64
Pid: 364, comm: insmod Not tainted 2.6.24-rc3-git5 #5
 [<c010448a>] show_trace_log_lvl+0x1a/0x2f
 [<c0104df7>] show_trace+0x12/0x14
 [<c010568a>] dump_stack+0x6a/0x70
 [<c027c36b>] ata_host_start+0xb0/0x122
 [<c028649f>] ata_pci_init_one+0xd3/0x252
 [<f882103a>] pacpi_init_one+0x1c/0x1e [pata_acpi]
 [<c01f298d>] pci_device_probe+0x39/0x5b
 [<c0254a87>] driver_probe_device+0xe8/0x168
 [<c0254c2c>] __driver_attach+0x74/0xab
 [<c0253f7f>] bus_for_each_dev+0x36/0x5b
 [<c02548d3>] driver_attach+0x19/0x1b
 [<c025429e>] bus_add_driver+0x73/0x1aa
 [<c0254e19>] driver_register+0x67/0x6c
 [<c01f2aef>] __pci_register_driver+0x56/0x83
 [<f8826017>] pacpi_init+0x17/0x19 [pata_acpi]
 [<c01390e5>] sys_init_module+0x1278/0x1391
 [<c0103df2>] sysenter_past_esp+0x5f/0xa5
 =======================
ata4294967295: failed to start port (errno=-19)
--alessandro
 "Damaged people are dangerous. They know they can survive."
   (Anna Barton/Juliette Binoche, 'Damage')
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/