Date: Thu, 7 Aug 2003 11:26:54 -0400 (EDT)
From: Jason Baron <>
Subject: Re: pivot_root solved by patch to 2.4.22-pre7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/7/178

On 7 Aug 2003, Alan Cox wrote:
> On Mer, 2003-08-06 at 07:27, Rene Mayrhofer wrote:
> > Hi all,
> > 
> > The problem with pivot_root that appeared in 2.4.21-ac4 and the 
> > 2.4.22-pre kernels is now solved (at least for my case) by applying the 
> > trvial patch sent by Jason Baron.
> 
> The patch shouldnt be needed or make any difference. I have to
> understand why its fixing the problem and fix it properly yet (or
> someone does)
> 
> 
it clearly makes a difference.
the unshare_files change causes init to no longer share the same fd table
with the other kernel threads. thus, when init closes or opens fds it does
not affect the other kernel threads. this patch allows init to continue to
share the same fd table with the other kernel threads as before the
unshare_files change. it does not compromise the intention of the
unshare_files change afaik. 
-Jason
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/