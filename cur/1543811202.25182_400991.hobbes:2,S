Date: Sat, 25 Feb 2006 06:03:41 -0500
From: Chuck Ebbert <>
Subject: Re: [-mm patch] x86: start early_printk at sensible screen  row
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/25/47

In-Reply-To: <20060225001533.3b06bbe0.akpm@osdl.org>
On Sat, 25 Feb 2006 at 00:15:33 -0800, Andrew Morton wrote:
> >
> > Use boot info to start early_printk() at the proper row on VGA console.
> > 
> 
> Define "proper".
> 
> > 
> > -           current_ypos = max_ypos;
> > +           current_ypos = SCREEN_INFO.orig_y;
> 
> Is that the place at which the boot loader left the cursor?
Yes, that's what I should have said instead of "proper".
So far I can't break it; after booting with "vga=ask" and doing some
things at the prompt, the kernel output still starts at the right place.
But the emergency fallback early_printk still starts at a fixed place
and the x86_64 'direct mapping' message will screw things up when there's
no earlyprintk boot parameter.
-- 
Chuck
"Equations are the Devil's sentences."  --Stephen Colbert
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/