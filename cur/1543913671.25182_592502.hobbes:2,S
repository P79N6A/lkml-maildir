Date: Sun, 9 Sep 2007 12:02:53 -0700 (PDT)
From: Matti Linnanvuori <>
Subject: [PATCH] [Bug 8998] Mutex documentation is unclear about software interrupts, tasklets and timers in Linux 2.6.23-rc
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/9/97

diff -uprN linux-2.6.23/Documentation/mutex-design.txt linux-2.6.23-patched/Documentation/mutex-design.txt
--- linux-2.6.23/Documentation/mutex-design.txt    2007-09-09 21:47:10.545275000 +0300
+++ linux-2.6.23-patched/Documentation/mutex-design.txt    2007-09-09 21:48:17.935493000 +0300
@@ -90,7 +90,8 @@ of advantages of mutexes:
    * - task may not exit with mutex held
    * - memory areas where held locks reside must not be freed
    * - held mutexes must not be reinitialized
-   * - mutexes may not be used in irq contexts
+   * - mutexes may not be used in hardware or software interrupt
+   *   contexts such as tasklets and timers
 
    furthermore, there are also convenience features in the debugging
    code:
diff -uprN linux-2.6.23/include/linux/mutex.h linux-2.6.23-patched/include/linux/mutex.h
--- linux-2.6.23/include/linux/mutex.h    2007-09-09 21:49:04.531143500 +0300
+++ linux-2.6.23-patched/include/linux/mutex.h    2007-09-09 21:49:44.946525500 +0300
@@ -29,7 +29,8 @@
  * - task may not exit with mutex held
  * - memory areas where held locks reside must not be freed
  * - held mutexes must not be reinitialized
- * - mutexes may not be used in irq contexts
+ * - mutexes may not be used in hardware or software interrupt
+ *   contexts such as tasklets and timers
  *
  * These semantics are fully enforced when DEBUG_MUTEXES is
  * enabled. Furthermore, besides enforcing the above rules, the mutex
Signed-off-by: Matti Linnanvuori <mattilinnanvuori@yahoo.com>
      __________________________________  
Kennt man wirklich jeden Ã¼ber 3 Ecken? Die Antworten gibt's bei Yahoo! Clever. www.yahoo.de/clever
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/