Date: Wed, 10 Dec 2003 17:29:06 -0800
From: Greg KH <>
Subject: Re: [PATCH] USB Fixes for 2.6.0-test11
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/10/242

ChangeSet 1.1521, 2003/12/09 10:00:49-08:00, oliver@neukum.org
[PATCH] USB: fix sleping in interrupt bug in auerswald driver
this fixes two instances of GFP_KERNEL from completion handlers.
 drivers/usb/misc/auerswald.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)
diff -Nru a/drivers/usb/misc/auerswald.c b/drivers/usb/misc/auerswald.c
--- a/drivers/usb/misc/auerswald.c	Wed Dec 10 16:47:26 2003
+++ b/drivers/usb/misc/auerswald.c	Wed Dec 10 16:47:26 2003
@@ -324,7 +324,7 @@
                 urb    = acep->urbp;
                 dbg ("auerchain_complete: submitting next urb from chain");
 		urb->status = 0;	/* needed! */
-		result = usb_submit_urb(urb, GFP_KERNEL);
+		result = usb_submit_urb(urb, GFP_ATOMIC);
 
                 /* check for submit errors */
                 if (result) {
@@ -402,7 +402,7 @@
         if (acep) {
                 dbg("submitting urb immediate");
 		urb->status = 0;	/* needed! */
-                result = usb_submit_urb(urb, GFP_KERNEL);
+                result = usb_submit_urb(urb, GFP_ATOMIC);
                 /* check for submit errors */
                 if (result) {
                         urb->status = result;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/