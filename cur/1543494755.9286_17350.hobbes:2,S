Date: Wed, 5 May 1999 14:20:08 -0600 (MDT)
From: Cameron Heide <>
Subject: Re: sed not working on /proc files
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/5/214

On Wed, 5 May 1999, Rogier Wolff wrote:
> ] unsigned long do_mmap(struct file * file, unsigned long addr, unsigned long len,
> ]	unsigned long prot, unsigned long flags, unsigned long off)
> ] {
> ]	struct mm_struct * mm = current->mm;
> ]	struct vm_area_struct * vma;
> ]	int error;
> ]
> ]	if ((len = PAGE_ALIGN(len)) == 0)
> ]		return addr;
> 
> And "here" is where this happens. 
> 
> Wouldn't it be better to just do "return NULL"?
Dunno if this is POSIX or not, but in this case (len <= 0) Solaris returns
MAP_FAILED and sets errno to EINVAL.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/