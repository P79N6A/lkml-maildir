Date: Sun, 18 Dec 2005 11:54:32 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH 1/12]: MUTEX: Implement mutexes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/18/87

On Sun, 18 Dec 2005, James Bottomley wrote:
> 
> Actually, I don't think you want might_sleep(): there are a few cases
> where we do an up() from under a spinlock, which will spuriously trigger
> this.  I'd suggest WARN_ON(in_interrupt()) instead.
Ahh, good point. Yes.
However, if even the arm people aren't all that interested in this, maybe 
it simply doesn't matter. A lot of other architectures either have 
"decrement in memory" or can already use ll/sc for it.
(of course, on some architectures, ll/sc is really really slow, so they 
might well prefer using a normal load and store instead).
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/