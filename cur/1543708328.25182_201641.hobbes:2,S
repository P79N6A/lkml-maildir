Date: Wed, 25 Feb 2004 12:29:52 +1100
From: Benjamin Herrenschmidt <>
Subject: Re: [Linux-fbdev-devel] fbdv/fbcon pending problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/24/324

On Wed, 2004-02-25 at 12:21, James Simmons wrote:
> > Sure, hopefully fbdev drivers became more 'intelligent', with just a
> > 
> > echo "1024x768x16-75" > /sys/class/fbdev/0/geometry
> > 
> > they will compute internally the timings or get it from EDID and
> > glad the user with something correct for the hardware.
> > 
> > cat /sys/class/fbdev/0/modes
> > 
> > will give you the modes supported by the card.
> 
> Yes.
Note that "the modes supported by the card" means nothing.
They depend on something fundamentally dynamic, which is what is
connected to what output, mixed with some card-spcific limitations
(like bandwidth limitations when using 2 very big monitors, vram
limitations, etc...)
You can not really know a-priori what modes will be available for
sure. You can provide a list of modes that are considered as valid
for a given output, but the whole mode setting scheme cannot be
anything else but non-deterministic. You setup a global configuration,
send it down the driver, and obtain a new configuration which may or
may not be what you asked for.
I'm trying to address the API issues as part of the userland library
I'm talking about in the other email. The actual interface to the
kernel driver should ultimately be hidden, and eventually private
between card-specific kernel driver and card-specific module in
the userland API.
Ben.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/