Date: Thu, 1 Jan 2004 12:48:24 +0100
From: Vid Strpic <>
Subject: Re: Removable USB device contents cached after removal?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/1/24

On Wed, Dec 31, 2003 at 05:12:16PM -0700, Matthew Mastracci wrote:
[...]
> 1.  Insert card into reader.
> 2.  Mount card as directory somewhere in root filesystem, list contents 
> of card
> 3.  dd if=/dev/sdd1 count=1024 bs=1024 | hexdump
> 	- results in correct filesystem dump
> 4.  Remove card from reader.
> 5.  dd if=/dev/sdd1 count=1024 bs=1024 | hexdump
> 	- same filesystem dump as before!
> 6.  cd to mountpoint, contents are still available
> 7.  dd if=/dev/sdd1 of=/dev/null
>          - approx 3MB of card data still available
> 8.  umount the mountpoint from before
Did you try `eject sdd` after this, and if not, try, and see how it
works.
> 9.  dd if=/dev/sdd1 of=/dev/null results in "No medium found"
usb-storage behaves differently in 2.6 than in 2.4, maybe this is the
problem for you now.
-- 
           vms@bofhlet.net, IRC:*@Martin, /bin/zsh. C|N>K
Linux moria 2.6.0-mm2 #1 Tue Dec 30 10:21:33 CET 2003 i686
 12:46:44 up 1 day, 23:08, 11 users,  load average: 0.94, 0.68, 0.69
UNIX programmers DO IT with forks.
[unhandled content-type:application/pgp-signature]