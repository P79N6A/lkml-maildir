Date: Mon, 3 Jan 2005 15:24:08 +0100
From: Heiko Carstens <>
Subject: [PATCH] s390: fix pgd_index() compile warnings
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/3/64

Hi Andrew,
the patch below fixes a few compile warnings due to missing parenthesizes.
Please apply. Thanks,
Heiko
Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
diff -urN linux-2.6/include/asm-s390/pgtable.h linux-2.6-patched/include/asm-s390/pgtable.h
--- linux-2.6/include/asm-s390/pgtable.h	2005-01-03 14:56:02.000000000 +0100
+++ linux-2.6-patched/include/asm-s390/pgtable.h	2005-01-03 15:05:38.000000000 +0100
@@ -681,7 +681,7 @@
 #define pgd_page_kernel(pgd) (pgd_val(pgd) & PAGE_MASK)
 
 /* to find an entry in a page-table-directory */
-#define pgd_index(address) ((address >> PGDIR_SHIFT) & (PTRS_PER_PGD-1))
+#define pgd_index(address) (((address) >> PGDIR_SHIFT) & (PTRS_PER_PGD-1))
 #define pgd_offset(mm, address) ((mm)->pgd+pgd_index(address))
 
 /* to find an entry in a kernel page-table-directory */
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/