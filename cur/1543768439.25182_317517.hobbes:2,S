Date: Wed, 11 May 2005 23:34:31 +0200
From: Miklos Szeredi <>
Subject: Re: [RCF] [PATCH] unprivileged mount/umount
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/11/198

> Still easy.
> 
> To keep persistent named namespaces in /var/namespaces, thus:
> 
>      # Just once please!
>      mount -t tmpfs none /var/namespaces
> 
>      # Make a named namespace.
>      NSNAME='fred'
>      mkdir /var/namespaces/$NSNAME
>      run_in_new_namespace mount -t bind / /var/namespaces/$NSNAME
That's not going to work, since the mount will only affect the new
namespace.  You'd need clone(), and then in the original namespace
   mount --bind /proc/CHILDPID/root /var/namespace/$NSNAME
and then child process can safely exit.
Miklos
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/