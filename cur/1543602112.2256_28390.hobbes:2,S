Date: Sun, 23 Sep 2001 23:25:11 +0200
From: Andrea Arcangeli <>
Subject: 2.4.10aa1 (00_vm-tweaks-1)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/23/85

If you are interested about the VM behaviour under swap (and non) please
test the 00_vm-tweaks-1 (can be applied to plain 2.4.10), here the swap
behaviour seems improved with it. Thanks!
URL:
	
ftp://ftp.us.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.4/2.4.10aa1/00_vm-tweaks-1
	
ftp://ftp.us.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.4/2.4.10aa1/
	
ftp://ftp.us.kernel.org/pub/linux/kernel/people/andrea/kernels/v2.4/2.4.10aa1.bz2
Only in 2.4.10pre14aa1: 00_blkdev-part-1
Only in 2.4.10pre14aa1: 00_blkdev-part-2
Only in 2.4.10pre14aa1: 00_blkdev-part-3
Only in 2.4.10pre14aa1: 00_blkdev-part-4
Only in 2.4.10pre14aa1: 00_blkdev-part-5
Only in 2.4.10pre14aa1: 00_blkdev-part-6
Only in 2.4.10pre14aa1: 00_tty_register_ldisc-1
Only in 2.4.10pre14aa1: 00_write-aging-1
	In mainline.
Only in 2.4.10pre14aa1: 00_bufcache-aging-1
	Now part of the following vm-tweaks-1.
Only in 2.4.10aa1: 00_enable-apic-1
	Enable UP ioapic on demand via boot param.
Only in 2.4.10pre14aa1: 00_swapin-race-1
	Obsoleted by another patch in mainline (relying on the swap_list_lock
	in try_to_swap_out and read_swap_cache_async).
Only in 2.4.10pre14aa1: 00_vm-swap-1
	Obsoleted by vm-tewaks-1.
Only in 2.4.10aa1: 00_vm-tweaks-1
	VM tuning mainly for smooth swap beahviour and for dynamic decay of the
	active cache. It does one thing Linus doesn't like (refiling mapped pages
	in the active list unconditionally) but swap behaviour is so much
	better this way, and also it should increase performance in the normal
	non-swap load beause we'll reduce the amount of cpu wasted walking on
	mapped pages. It does a few other minor tweaks.
	So I recommend people to test this patch on the lowmem scenario and to feedback
	how it goes compared to vanilla 2.4.10.
	NOTE: this patch is self contained so you can apply it to the official
	2.4.10 without need of any other patch in -aa.
Only in 2.4.10aa1: 00_vmalloc-tlb-flush-1
	UML happens to care about pagetable contents only during the tlb flushing,
	not like a normal cpu that walks the pagetable at tlb miss time. So if you
	just set the pagetable content and you don't flush it because you know
	there cannot be anything cached in such a virtual address in the tlb,
	uml will just panic, reintroducing the flush_tlb_all fixes this. I also
	reintrouced it for anything non x86 and non alpha, since if we need to
	flush the virtually indexed caches, we'd better flush also the tlb as well.
	noop for x86 and alpha.
Only in 2.4.10aa1: 00_xtime-lock-1
	Fix from Rolf Fokkens: remeber the xtime_lock in the do_normal_gettime
	(so the read is coherent).
	btw, with the x86-64 port inclusion the xtime_lock will eventually
	become a spinlock_t and all readers can be converted to the write-less
	two-sequence number + rmb/wmb locking.
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/