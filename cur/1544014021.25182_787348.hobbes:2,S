Date: Tue, 6 Jan 2009 03:48:45 +0000
From: Alasdair G Kergon <>
Subject: Re: [dm-devel] Re: [git pull] device-mapper patches for 2.6.29
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/5/591

On Tue, Jan 06, 2009 at 11:32:51AM +0800, Cheng Renquan (程任全) wrote:
> On Tue, Jan 6, 2009 at 11:21 AM, Alasdair G Kergon <agk@redhat.com> wrote:
> > On Tue, Jan 06, 2009 at 11:15:58AM +0800, Cheng Renquan (程任全) wrote:
> >> So now maybe we can add a null macro to module_refcount if
> >> CONFIG_MODULE_UNLOAD undefined?
> > Do we even need the test at all?
> So you mean add "#ifdef CONFIG_MODULE_UNLOAD ..." to dm-target.c? I
> can do that, but I really don't know a better solution without
> conditional compiling?
I mean under what set of circumstances could the test of the module refcount
here fail, and if the test was simply removed are there any cases where that
would matter?
Alasdair
-- 
agk@redhat.com
--
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/