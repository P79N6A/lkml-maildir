Date: Sun, 12 Nov 2006 12:09:28 +0100
From: Fabio Coatti <>
Subject: Re: SATA ICH5 not detected at boot, mm-kernels
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/12/20

It seems that my message hasn't yet shown up on lkml, so I suppose to have 
some mail problem :(
To see if this helps, I've removed attachments, replacing it with urls.
Alle 13:43, lunedÃ¬ 6 novembre 2006, Tejun Heo ha scritto:
> Hello,
>
> Andrew Morton wrote:
> > On Sun, 5 Nov 2006 15:36:33 +0100
> >
> > Fabio Coatti <cova@ferrara.linux.it> wrote:
> >> Hi all; It seems that problems like this has been already reported, but
> >> not exactly the same, so maybe thsi can add some infos. Otherwise, sorry
> >> for the noise.
> >>
> >> Starting from 2.6.19-rc1-mm1 and up to rc4-mm2, at boot the kernel is
> >> unable to detect two sata disks, connected to a ICH5 controller. Latest
> >> mm working kernel seems to be 2.6.18-mm3; 2.6.19-rc4 works just fine.
> >>
I've collected more data; Here you can find .config for all three cases:
2.6.18-mm3 (working) 
http://members.ferrara.linux.it/cova/config-2.6.18-mm3
2.6.19-rc5 (working) 
http://members.ferrara.linux.it/cova/config-2.6.19-rc5
2.6.19-rc5-mm1 (not working) 
http://members.ferrara.linux.it/cova/config-2.6.19-rc5-mm1
and dmesg for 2.6.18-mm3 and 2.6.19-rc5. I've seen that I've saved the dmesg 
with nvidia driver inserted; I can't, right now, recreate the files without 
nvidia driver loaded, but as the issue happens before the driver is loaded 
maybe the information can be useful anyway. I'll made a non tainted dmesg as 
soon as possible, if needed.
http://members.ferrara.linux.it/cova/dmesg-2.6.18-mm3
http://members.ferrara.linux.it/cova/dmesg-2.6.19-rc5
I'm trying to get the dmesg for 2.6.19-rc-mm1 (the non-working one), but I've 
to find a serial cable :)
Anyway, I've seen this message on dmesg, that seems interesting (copied by 
hand, please forgive any mistake):
PCI: Unable to reserve I/O region #1:8@1f0 for device 0000:00:1f.2
ata_piix: probe of 0000:00:1f.2 failed with error -16
Of course, lspci for that device gives:
00:1f.2 IDE interface: Intel Corporation 82801EB (ICH5) SATA Controller (rev 
02) (prog-if 8a [Master SecP PriP])
        Subsystem: ABIT Computer Corp. Unknown device 1014
        Flags: bus master, 66MHz, medium devsel, latency 0, IRQ 17
        I/O ports at <unassigned>
        I/O ports at <unassigned>
        I/O ports at <unassigned>
        I/O ports at <unassigned>
        I/O ports at f000 [size=16]
HTH
-- 
Fabio Coatti       
http://members.ferrara.linux.it/cova
     
Ferrara Linux Users Group           
http://ferrara.linux.it
GnuPG fp:9765 A5B6 6843 17BC A646  BE8C FA56 373A 5374 C703
Old SysOps never die... they simply forget their password.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/