Date: Fri, 02 Mar 2001 20:32:05 -0500
From: Jeremy Jackson <>
Subject: Re: IRQ advice (2.4.2-ac7)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/3/2/189

Favre Gregoire wrote:
> Hello,
>
> as I boot some times under windows, i have to change my IRQ for my PCI
> devices to (all) 9... and all the times I tried to boot that way under linux,
> it doesn't boot...
>
> So I haven't tested it that way for ages... and now with 2.4.2-ac7 i booted
> without any problem that way:
> cat /proc/interrupts                                                     03.03 1:52
>            CPU0
>   0:    3051534          XT-PIC  timer
>   1:      37390          XT-PIC  keyboard
>   2:          0          XT-PIC  cascade
>   8:          1          XT-PIC  rtc
>   9:    6193814          XT-PIC  HiSax, aic7xxx, EMU10K1, usb-uhci, saa7146(1), bttv
>  12:     314048          XT-PIC  PS/2 Mouse
>  14:      11820          XT-PIC  ide0
>  15:      42041          XT-PIC  ide1
> NMI:      27599
> LOC:    3051630
> ERR:          0
> MIS:          0
>
> Is it safe to do it that way?
I personally don't like sharing interrupts unles absolutely necessary.
Can you tell me why you need to do this?  I would recommend
disabling any devices you aren't using in the BIOS,
to free up interrupts.  (IE 2nd serial port, USB, 1st serial if you
only use PS/2 mouse)
If you don't use the floppy you might be able to disable it in BIOS.
I have one board that will use irq 6 for something more useful in this
case.
Also, changing PCI slot assignment of some cards (if you have spare
slots) can prevent sharing as well.
The BIOS on many boards will show PCI interrupt assignment
on the bootup screen.  Otherwise check in windows
device manager - double click on Computer node.
according to the above usage, you could use 4 (com1) (if not mouse or modem)
3 com2
5 unused
9,10,11
for devices.
Good luck!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/