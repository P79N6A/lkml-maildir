Date: Thu, 1 Jul 1999 09:59:32 +0200
From: Frank van Maarseveen <>
Subject: RPC: task already queued!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/1/21

Excerpt from /var/log/messages on a linux-2.2.10-ac5:
Jul  1 08:29:51 area51 kernel: nfs: server napoli not responding, timed out
Jul  1 08:29:51 area51 kernel: RPC: task already queued!
Jul  1 08:31:13 area51 kernel: nfs: server napoli not responding, still trying
Jul  1 08:31:15 area51 kernel: nfs: server napoli not responding, timed out
Jul  1 08:31:15 area51 kernel: RPC: task already queued!
A similar sequence of messages is produced by linux-2.2.6-ac3.
net/sunrpc/sched.c:
int
__rpc_add_wait_queue(struct rpc_wait_queue *queue, struct rpc_task *task)
{
	if (task->tk_rpcwait) {
		printk(KERN_WARNING "RPC: task already queued!\n");
		dprintk("task already on %s, to be added to %s\n",
			rpc_qname(task->tk_rpcwait), rpc_qname(queue));
		return 0;
	}
It doesn't look dangerous to me. It might be interesting for someone though.
I'm particularly interested in NFSFS because I'm working on a fix for the
limited secondary grouplist support in the RPC layer. My first impression
is that it can be fixed without changing the hard limit of 16 groups in
the protocol.
-- 
Frank
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/