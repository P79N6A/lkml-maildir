Date: Wed, 21 Jan 2009 10:57:25 -0500
From: "linux-os (Dick Johnson)" <>
Subject: Getting out-of-kernel modules compiled
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/21/224

Back in 2004, we make the following to compile
out-of-kernel modules. It worked.
Now, the kernel build doesn't "know" how to handle "asm.S"
files and always thinks a "name.o" file is the result of
a "name.c" file, so I can't buld them no  matter how hard
I try!
What do I need to do????
#
#	Project Makefile for kernel versions over 6 
#	Created 05-OCT-2004	Richard B. Johnson
#
VER	:=	$(shell uname -r)
PWD	:=	$(shell pwd)
all:		driver
driver:
 		make V=1 -C /usr/src/linux-$(VER) SUBDIRS=$(PWD) modules
rtc_hwr.o:	rtc_hwr.S
 		as -o $@ $<
obj-m		= 	rtc.o
obj-m		+= 	rtc_hwr.o
clean:
 		rm -rf *.o *.ko *.mod.c \.*.cmd
make[2]: *** No rule to make target `/root/BCS/rtc/rtc_hwr.c', needed by `/root/BCS/rtc/rtc_hwr.o'.  Stop.
make[1]: *** [_module_/root/BCS/rtc] Error 2
make: *** [driver] Error 2
Cheers,
Dick Johnson
Penguin : Linux version 2.6.25.17 on an i686 machine (4784.32 BogoMips).
My book : 
http://www.AbominableFirebug.com/
.
****************************************************************
The information transmitted in this message is confidential and may be privileged. Any review, retransmission, dissemination, or other use of this information by persons or entities other than the intended recipient is prohibited. If you are not the intended recipient, please notify Analogic Corporation immediately - by replying to this message or by sending an email to DeliveryErrors@analogic.com - and destroy all copies of this information, including any attachments, without reading or disclosing them.
Thank you.