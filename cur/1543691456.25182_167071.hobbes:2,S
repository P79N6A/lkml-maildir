Date: Fri, 19 Sep 2003 10:41:01 +0200
From: Bas Mevissen <>
Subject: Re: Make modules_install doesn't create /lib/modules/$version
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/19/40

Rob Landley wrote:
> I've installed -test3, -test4, and now -test5, and each time make 
> modules_install died with the following error:
> 
> Kernel: arch/i386/boot/bzImage is ready
> sh arch/i386/boot/install.sh 2.6.0-test5 arch/i386/boot/bzImage System.map ""
> /lib/modules/2.6.0-test5 is not a directory.
> mkinitrd failed
> make[1]: *** [install] Error 1
> make: *** [install] Error 2
> 
> I had to create the directory in question by hand, and then run it again, at 
> which point it worked.
> 
> Am I the only person this is happening for?  (Bog standard Red Hat 9 system 
> otherwise.  With Rusty's modutils...)
> 
I didn't see that here with Red Hat 9 system and 2.6.0-test3.
Maybe you can greb the used scripts to see which one does make (or test 
the existence of) the directory.
I now use the modutils package from rawhide. It also handles the 
creation of the new /etc/modprobe.conf file.
Bas.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/