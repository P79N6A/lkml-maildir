Date: Mon, 7 Oct 2002 21:26:27 -0400
From: "Brian J. Murrell" <>
Subject: [PATCH] drivers/net/appletalk/Config.in, kernel 2.4.19
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/7/438

Please find below a small patch that makes the two AppleTalk PC NICs
(LTPC and COPS) in the kernel configurable only if there is an [E]ISA
bus configured.
--- linux-2.4.19-16mdk/drivers/net/appletalk/Config.in	2002-08-02 20:39:44.000000000 -0400
+++ linux-2.4.19-16mdk-uml/drivers/net/appletalk/Config.in.new	2002-10-07 13:19:14.000000000 -0400
@@ -6,8 +6,10 @@
 comment 'Appletalk devices'
 dep_mbool 'Appletalk interfaces support' CONFIG_DEV_APPLETALK $CONFIG_ATALK
 if [ "$CONFIG_DEV_APPLETALK" = "y" ]; then
-   tristate '  Apple/Farallon LocalTalk PC support' CONFIG_LTPC
-   tristate '  COPS LocalTalk PC support' CONFIG_COPS
+   if [ "$CONFIG_ISA" = "y" -o "$CONFIG_EISA" = "y" ]; then
+      tristate '  Apple/Farallon LocalTalk PC support' CONFIG_LTPC
+      tristate '  COPS LocalTalk PC support' CONFIG_COPS
+   fi
    if [ "$CONFIG_COPS" != "n" ]; then
       bool '    Dayna firmware support' CONFIG_COPS_DAYNA
       bool '    Tangent firmware support' CONFIG_COPS_TANGENT
b.
-- 
Brian J. Murrell
[unhandled content-type:application/pgp-signature]