Date: Mon, 13 Mar 2006 15:00:26 -0500
From: Marr <>
Subject: Re: Readahead value 128K? (was Re: Drastic Slowdown of 'fseek()' Calls From 2.4 to 2.6 -- VMM Change?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/13/230

On Monday 13 March 2006 9:41am, Mark Lord wrote:
> Marr wrote:
> > Anyway, not that it really matters, but I re-did the testing with '-a0'
> > and it didn't help one iota. The 2.6.13 kernel on ReiserFS (without using
> > 'nolargeio=1' as a mount option) still takes about 4m35s to fseek 200,000
> > times on that 4MB file, even with 'hdparm -a0 /dev/hda' in effect.
>
> Does it make a difference when done on the filesystem *partition*
> rather than the base drive?  At one time, this mattered, and it may
> still work that way today.
>
> Eg.  hdparm -a0 /dev/hda3   rather than   hdparm -a0 /dev/hda
>
> ??
Unfortunately, it makes no difference. That is, after successfully setting 
'-a0' on the partition in question (instead of the whole HDD device itself), 
the 200,000 random 'fseek()' calls still take about 4m35s on ReiserFS 
(without using 'nolargeio=1' as a mount option) under kernel 2.6.13.
P.S. I've CC:ed you and the others on my reply to Al Boldi's request for the 
'hdparm -I /dev/hda' information, in case it helps at all.
Thanks for your inputs, Mark -- much appreciated!
*** Please CC: me on replies -- I'm not subscribed.
Regards,
Bill Marr
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/