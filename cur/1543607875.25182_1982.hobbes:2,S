Date: Tue, 30 Oct 2001 13:23:52 +0000
From: vda <>
Subject: Re: [BUG] Smbfs + preempt on 2.4.10
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/30/30

On Monday 29 October 2001 20:53, you wrote:
> > > I narrowed down Samba weirdness I observe on 2.4.10 to preempt patch.
> > > Plain 2.4.10 works fine, 2.4.10+preempt (with latency measurement
> > > turned on) is sometimes oopses, and sometimes reports 'file already
> > > exists' when I attempt to copy a file from WinNT box to Linux.
> > > Sometimes it works ok (50% or so...)
> >
> > Why not try a recent kernel + preempt?
>
> Yes, would you mind retesting on a recent kernel and a recent patch?
Will try 2.4.13 and report.
BTW:
I'd like to reduce latency in one specific place which bites me most
(latencies up to 400000usec) coz I use VESA fb:
a BKL in tty_io.c:712 (in do_tty_write()).
It looks like we need to move BKL into write()
and/or replace it with spinlock.
I can't find where that write() func ptr is coming
(tracked it to tty->ldisc.write, but failed to find out
where that field is assigned to).
Somebody enlighten me...
BTW #2:
You're doing excellent work, Robert. Thank you.
--
vda
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/