Date: Sat, 4 Sep 2004 22:43:01 -0400
From: Jon Smirl <>
Subject: Intel ICH - sound/pci/intel8x0.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/4/235

The joystick PCI ID table in intel8x0.c is not correct. Joysticks and
MIDI ports are ISA devices and need be located by manual probing. This
ID table needs to be removed. Joystick and MIDI ports do not have PCI
IDs.
The PCI IDs in this table are for the ISA bridge chips, not the
joystick port.  These PC IDs should belong to the PCI bus driver. If I
fix the PCI bus driver to claim these like it should, joystick support
won't work any more.
static struct pci_device_id snd_intel8x0_joystick_ids[] = {
        { 0x8086, 0x2410, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 },    /* 82801AA */
        { 0x8086, 0x2420, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 },    /* 82901AB */
        { 0x8086, 0x2440, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 }, /* ICH2 */
        { 0x8086, 0x244c, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 }, /* ICH2M */
        { 0x8086, 0x248c, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 },    /* ICH3 */
        // { 0x8086, 0x7195, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 }, /* 440MX */
        // { 0x1039, 0x7012, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 }, /* SI7012 */
        { 0x10de, 0x01b2, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 },    /* NFORCE */
        { 0x10de, 0x006b, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 },    /* NFORCE2 */
        { 0x10de, 0x00db, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 },    /* NFORCE3 */
        { 0, }
};
2410	82801AA ISA Bridge (LPC)
2420	82801AB ISA Bridge (LPC)
2440	82801BA ISA Bridge (LPC)
244c	82801BAM ISA Bridge (LPC)
248c	82801CAM ISA Bridge (LPC)
01b2	nForce ISA Bridge
-- 
Jon Smirl
jonsmirl@gmail.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/