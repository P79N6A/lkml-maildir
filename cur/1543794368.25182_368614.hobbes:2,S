Date: Sat, 19 Nov 2005 11:54:27 -0500
From: Dmitry Torokhov <>
Subject: Re: 2.6.15-rc1-mm1 Oops
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/19/62

On Saturday 19 November 2005 09:20, Stas Sergeev wrote:
> Hi.
> 
> Andrew Morton wrote:
> > 
ftp://ftp.kernel.org/pub/linux/kernel/people/akpm/patches/2.6/2.6.15-rc1/2.6.15-rc1-mm1
> Everything works fine on plain 2.6.14.
> Since 2.6.14-mm1 I am getting the attached Oops
> (grabbed via netconsole, from 2.6.15-rc1-mm1).
> After that Oops, the PC is completely dead.
> The Oops happens when the saa7134 module is being
> modprobed. Any ideas?
> 
> 
Ok, that was me ;) Please try the patch below.
-- 
Dmitry
Fix an OOPS when initializing IR remote on saa7134
Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
---
 drivers/media/video/saa7134/saa7134-input.c |    2 ++
 1 files changed, 2 insertions(+)
Index: work/drivers/media/video/saa7134/saa7134-input.c
===================================================================
--- work.orig/drivers/media/video/saa7134/saa7134-input.c
+++ work/drivers/media/video/saa7134/saa7134-input.c
@@ -713,6 +713,8 @@ int saa7134_input_init1(struct saa7134_d
 		return -ENOMEM;
 	}
 
+	ir->dev = input_dev;
+
 	/* init hardware-specific stuff */
 	ir->mask_keycode = mask_keycode;
 	ir->mask_keydown = mask_keydown;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/