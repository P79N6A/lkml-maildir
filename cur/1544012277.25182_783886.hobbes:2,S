Date: Thu, 25 Dec 2008 11:57:57 +0100
From: Takashi Iwai <>
Subject: [GIT PULL] ALSA updates for 2.6.29
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/25/35

Linus,
please pull ALSA updates for 2.6.29 from:
  git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound-2.6.git for-linus
Major changes are (as usual) against HD-audio and ASoC drivers.
Some highlights:
 - Modularization of HD-audio drivers
 - Dynamic re-configuration of HD-audio codec parsers
 - Some integration work toward ASoC v2
 - New ASoC codec drivers: twl4030, wm8350, wm8728, etc.
   PXA ssp, atmel driver merges
 - CS5535 audio patches for OLPC
 - PCXHR updates for new Digigram boards
Note that this update contains the ALSA HR-timer backend, which may
introduce a build error with the upcoming Peter's hrtimer cleanup
patch.  The fix patch is already included in linux-next tree, so you
can pull it if this happens from the branch below:
  git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound-2.6.git topic/hrtimer-fix
or the whole updates from:
  git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound-2.6.git for-next
The short log is like the following.
Thanks!
Takashi
===
Alexander Beregalov (1):
      ASoC: switch davinci DPRINTK to pr_debug()
Andres Salomon (13):
      ALSA: cs5535audio: stick AD1888 bitshift values into a header file
      ALSA: cs5535audio: suspend/resume callbacks are only defined with CONFIG_PM
      ALSA: cs5535audio: invert EAPD for OLPC (newer than B3)
      ALSA: cs5535audio: drop ec_analog_input flag for OLPC stuff
      ALSA: cs5535audio: decouple HPF from V_REFOUT in OLPC code
      ALSA: cs5535audio: create function for setting OLPC's Analog Input mode
      ALSA: cs5535audio: rename OLPC's analog input control && drop AD1888's HPF
      ALSA: cs5535audio: check OLPC's Analog Input status vis GPIO
      ALSA: cs5535audio: rename V_REFOUT control to MIC Bias
      ALSA: cs5535audio: for OLPC, default to Analog Input being off
      ALSA: cs5535audio: turn off mic bias on OLPCs by default
      ALSA: cs5535audio: clean up OLPC code
      ALSA: cs5535audio: ensure MIC Bias/Analog Input bail if not on an OLPC machine
Arun KS (2):
      ASoC: Add support for omap2evm board
      ASoC: Fix TWL4030 Kconfig dependency
Ben Stanley (2):
      ALSA: ca0106 Add comments to snd_ca0106_details struct
      ALSA: ca0106 MSI K8N Diamond MB spi_dac 2->1
Bryan Wu (1):
      ASoC: Blackfin: Simplify the MMAP_SUPPORT macros protected code
Chris Ball (1):
      ALSA: cs5535audio: enable OLPC's V_REFOUT bias when recording
Christian Pellegrin (3):
      ASoC: s3c24xx 8 bit sound fix
      ASoC: UDA134x codec driver
      ASoC: Machine driver for for s3c24xx with uda134x
Clemens Ladisch (1):
      ALSA: oxygen: add Claro halo support
Cliff Cai (3):
      ASoC: AD1980 codec: add multi-channel function support
      ASoC: Blackfin: add multi-channel function support
      ASoC: Blackfin: Fix AD1980/1 build with MMAP support disabled
Daniel Mack (4):
      ASoC: Allow more routing features for tlv320aic3x
      ALSA: snd-usb-caiaq: clean up the control adding code
      ASoC: tlv320aic3x: headset/button press support
      ASoC: tlv320aic3x: control additions and cleanups
David Anders (1):
      ASoC: Add new parameter to s3c24xx_pcm_enqueue
Dmitry Baryshkov (1):
      ASoC: tosa: move gpio probing to machine callbacks
Grazvydas Ignotas (3):
      ALSA: ASoC: TWL4030 codec - fix 256*Fs clock
      ASoC: TWL4030: Add input selection and gain controls
      ASoC: Add support for OMAP3 Pandora
Hannes Eder (2):
      sound: Fix warnings relating to ignored return value in snd_card_register
      ALSA: hda - fix sparse warning
Huang Weiyi (1):
      ALSA: ASoC codec: remove unused #include <version.h>
Hugo Villeneuve (3):
      ASoC: Add Right-Justified mode and Codec clock master to davinci-i2s
      ASoC: Add PCM3008 ALSA SoC driver
      ASoC: Add driver for the Lyrtech SFFSDR board
Jarkko Nikula (7):
      ASoC: Fix supported sample rates of TWL4030 audio codec
      ASoC: OMAP: Add more supported sample rates into McBSP DAI driver
      ASoC: OMAP: Fix preprocessor filled DAI name in McBSP DAI
      ASoC: OMAP: Apply channel constrains to N810 machine driver
      ASoC: OMAP: Add support for mono audio links in McBSP DAI
      ASoC: Fix incorrect DSP format in OMAP McBSP DAI and affected drivers
      ASoC: Fix DSP formats in SSM2602 audio codec
Jaroslav Kysela (6):
      ALSA: Release v1.0.18
      ALSA: Release v1.0.18a
      ALSA: add /sys/class/sound/card#/id (r/w) and card#/number (r/o) files
      ALSA: when card identification is changed, change also /proc/asound symlink
      ALSA: hdsp/hdspm: remove card->id from rawmidi device name
      ALSA: include/sound/info.h - coding style changed
Jaya Kumar (2):
      ALSA: cs5535audio: turn off PCM properly if closing the audio device
      ALSA: cs5535audio: OLPC analog input support
Jean Delvare (2):
      ALSA: ASoC: Convert wm8580 to a new-style i2c driver
      ALSA: ASoC: Convert wm8900 to a new-style i2c driver
Johannes Berg (1):
      ALSA: aoa: clean up file names
Jordan Crouse (1):
      ALSA: cs5535audio: Use OLPC/Geode basic infrastructure
Julia Lawall (1):
      ALSA: sound/pci/mixart/mixart.c: Add missing snd_card_free
Karl Beldan (2):
      ASoC: ssm2602: Fix priv substreams refs
      ASoC: ssm2602: Update supported stream formats
Marek Vasut (1):
      ASoC: Add Palm/PXA27x unified ASoC audio driver
Mark Brown (65):
      ALSA: ASoC: Remove snd_soc_dapm_connect_input()
      ASoC: Fix handling of DAPM suspend work
      ASoC: Convert core to use standard debug print macros
      ASoC: Remove DAPM restriction on mixer control name lengths
      ASoC: Add PXA SSP support
      ASoC: Do a warm reset after cold when resetting the WM9713
      ASoC: Use finer grained dependencies in SND_SOC_ALL_CODECS
      ASoC: Remove core version number
      ASoC: Revert "ASoC: Add new parameter to s3c24xx_pcm_enqueue"
      ASoC: Add WM8728 codec driver
      ASoC: Allow writes to uncached registers in WM8990
      ASoC: Enable WM8990 ADC clocking workaround
      ASoC: Manage VMID mode for WM8990
      ASoC: Build tlv320aic23 cleanly
      ASoC: Move uda134x_codec.h to uda134x.h
      ASoC: Remove unused snd_soc_machine_config declaration
      ASoC: s3c24xx_uda134x DAI accessor functions and static cleanup
      ASoC: Convert blackfin machines to use DAI accessor functions
      ASoC: Rename snd_soc_card to snd_soc_machine
      ASoC: Add abbreviation to maintainers for searchability
      ASoC: Move DAI structure definitions into new soc-dai.h
      ASoC: Merge snd_soc_ops into snd_soc_dai_ops
      ASoC: Add Marvell Zylonite machine support
      ASoC: Staticise pxa2xx_pcm_ops
      ASoC: Improve error reporting for AC97 reset failures
      ALSA: ASoC: Fix typo in snd_soc_card update documentation
      ASoC: Use supplied DAI for WM9713 rather than substream
      ASoC: Remove DAI type information
      ASoC: Flag AD1980 as an AC97 interface
      ASoC: Lower priority of resume work logging
      ASoC: Fix word wrapping in OMAP Kconfig
      ALSA: ac97 - Add WM9715 to AC97 IDs
      ASoC: Rename snd_soc_register_card() to snd_soc_init_card()
      ASoC: Annotate core removal function
      ASoC: Remove in-code changelog from AD73311 driver
      ASoC: Don't free static data in WM9713
      ASoC: Push workqueue data into snd_soc_card
      ALSA: ac97 - Include ac97_codec.h for ac97_bus_type declaration
      ASoC: Push platform registration down into the card
      ASoC: Fix WM8903 right mixer bypass path
      ASoC: Push debugfs files out of the snd_soc_device structure
      ASoC: Remove device from platform suspend and resume operations
      ASoC: Remove platform device from DAI suspend and resume operations
      ASoC: Remove obsolete declaration of struct snd_soc_clock_info
      ASoC: Add card registration API
      ASoC: Add DAI registration API
      ASoC: Register platform DAIs
      ASoC: Add platform registration API
      ASoC: Register platform drivers
      ASoC: Register non-AC97 codec DAIs
      ASoC: Initial framework for dynamic card instantiation
      ASoC: Wait for non-AC97 codec DAIs before instantiating
      ASoC: Convert WM8900 to allow registration by machine code
      ASoC: Fix typos in Atmel module registration
      ASoC: Work around warnings from some build environments
      ALSA: Add support for mechanical jack insertion
      ASoC: Add codec registration API
      ASoC: Convert WM8900 to do more work at I2C probe time
      ASoC: Convert WM8903 driver to register at I2C probe time
      ASoC: Stop WM8903 SYSCLK when suspending
      ASoC: Fix variable name for Blackfin I2S DAI
      ALSA: Fix declaration of sound_class
      ASoC: Ease merge difficulties from new architectures
      ASoC: Complain if we fail to create DAPM controls
      ASoC: Add WM8350 AudioPlus codec driver
Markus Bollinger (5):
      ALSA: pcxhr - add support for pcxhr stereo sound cards
      ALSA: pcxhr - add support for pcxhr stereo sound cards (core change)
      ALSA: pcxhr - add support for pcxhr stereo sound cards (firmware support)
      ALSA: pcxhr - add support for pcxhr stereo sound cards (mixer part)
      ALSA: pcxhr - change firmware filenames
Matthew Ranostay (9):
      ALSA: hda: add support for jack detection on IDT/Sigmatel
      ALSA: hda: dynamic jack id
      ALSA: jack: lineout support to jack abstraction layer
      ALSA: hda: add snd_hda_get_jack* functions
      ALSA: hda: add support for jack detection on IDT codecs.
      ALSA: hda: STAC_DELL_M6 EAPD
      ALSA: hda: EAPD mute on suspend
      ALSA: hda: dinput_mux check
      ALSA: hda: fix incorrect mixer index values for 92hd83xx
Michael Hennerich (1):
      ASoC: Fix Blackfin AC97 DAI probe function return code
Mike Frysinger (3):
      ASoC: Blackfin: updates Kconfig for SPORT
      ASoC: Blackfin: do not force TWI bus for ssm2602 codec
      ASoC: Blackfin: always set a default value for that GPIO range
Misael Lopez Cruz (1):
      ASoC: Add support for TI SDP3430
Naresh Medisetty (2):
      ASoC: DaVinci: Audio: Fix swapping of channels at start of stereo playback
      ASoC: DaVinci: Fix audio stall when doing full duplex
Peter Gruber (1):
      ALSA: Reduce stall detection timeout in riptide.c
Peter Ujfalusi (20):
      ASoC: Fix for master playback/capture volume range for TWL4030 codec
      ASoC: TWL4030: Disable soft-volume
      ASoC: TWL4030: Change the Master volume control to TLV
      ASoC: TWL4030: Add CGAIN volume control
      ASoC: TWL4030: Add helper function for output gain controls
      ASoC: TWL4030: Change the capture volume control to TLV
      ASoC: TWL4030: Change the common playback volume controls
      ASoC: TWL4030: Add volume controls for outputs
      ASoC: TWL4030: Correct DAPM_DAC with power control
      ASoC: TWL4030: Add Analog PGA control switch to DAPM
      ASoC: TWL4030: Add DAPM event handler for output MUX selection
      ASoC: TWL4030: DAPM mapping of the Earpiece output
      ASoC: TWL4030: DAPM mapping of the PreDriv outputs
      ASoC: TWL4030: DAPM mapping of the Headset outputs
      ASoC: TWL4030: DAPM mapping of the Carkit outputs
      ASoC: TWL4030: DAPM mapping of the Handsfree outputs
      ASoC: TWL4030: Do not alter the Headset output volume on power-up/down
      ASoC: TWL4030: Add missing Carkit output
      ASoC: TWL4030: Small cleanup
      ASoC: TWL4030: Change the name for the DACs
Qinghuang Feng (2):
      ASoC: Clean up kernel-doc for snd_soc_dai_set_fmt
      ALSA: sound/pci/hda/hda_codec.c: cleanup kernel-doc
Rafael J. Wysocki (1):
      Sound: hda - Restore PCI configuration space with interrupts off
Risto Suominen (1):
      ALSA: snd-powermac: enable mic on iMac G4
Roel Kluin (2):
      ALSA: sound: Make static
      ALSA: ASoC: fix a typo in omp-pcm.c
Scott Waye (1):
      ALSA: hda - Add MCP67 HDMI support
Sedji Gaouaou (2):
      ASoC: Merge AT91 and AVR32 support into a single atmel architecture
      ASoC: Add audio support for the Atmel AT91SAM9G20ek board(uing wolfson 8731).
Stanley.Miao (1):
      ASoC: TWL4030: hands-free start-up sequence.
Stephen Rothwell (1):
      ALSA: ASoC - restore removed variable declaration
Steve Sakoman (3):
      ASoC: Add support for TWL4030 audio codec
      ASoC: Add support for Gumstix Overo
      ASoC: Add support for Beagleboard
Takashi Iwai (134):
      ALSA: hda - Add infrastructure for dynamic stream allocation
      ALSA: hda - Add generic arrays
      ALSA: hda - Use generic array helpers
      ALSA: hda - Allocate name string of each codec
      ALSA: hda - Manage kcontrol lists
      ALSA: hda - Add codec reconfiguration feature
      ALSA: hda - Add sysfs entries to hwdep devices
      ALSA: hda - Add init_verbs entries
      ALSA: hda - Add hints for reconfig
      ALSA: Print function symbol in the error messages
      ALSA: hda - Release jack instance for dynamic reconfigure
      ALSA: pcsp - Fix locking messes in snd-pcsp
      ALSA: Enable SPDIF output on ALC655
      ALSA: ice1724 - Fix TX IRQ lockup
      ALSA: Add hrtimer backend for ALSA timer interface
      ALSA: hda - Remove old codec-probe limitation
      ALSA: hda - Fix indentation in hda_local.h
      ALSA: Fix a typo in Kconfig
      ALSA: ASoC - Fix a typo in Kconfig
      ALSA: hda - Use macros to check array overflow
      ALSA: hda - Unify capture callbacks in realtek codes
      ALSA: hda - Unify capture mixer creation in realtek codes
      ALSA: hda - Re-add input-source control for Realtek
      ALSA: ice1724 - Fix IRQ register initialization
      ALSA: hda - Add ALC299 fujitsu preset model
      ALSA: hda - Fix missing ADC list in ALC260 auto-probe mode
      ALSA: hda - Fix possible NULL dereference
      ALSA: hda - Don't create empty PCM streams
      ALSA: ASoC - Remove unnecessary inclusion of linux/version.h
      ALSA: hda - Fix unused function in patch_intelhdmi.c
      ALSA: hda - Add ASUS V1Sn support
      ALSA: hda - Split ALC268 acer model
      ALSA: ice1724 - Re-fix IRQ mask initialization
      ALSA: hda - simplify hda_bus ops callbacks
      ALSA: hda - Make codec-probing more robust
      ALSA: hda - Add missing NULL check in amp hash allocation
      ALSA: hda - Add max allocation check in array allocator
      ALSA: hda - Fix broken hash chain allocation
      ALSA: Evaluate condition in snd_BUG_ON() in non-debugging case
      ALSA: Document debug macros
      ALSA: hda - Fix ALC260 hp3013 master switch
      ALSA: hda - Fix probe errors on Dell Studio Desktop
      ALSA: hda - Fix another cache list management
      ALSA: powermac - Rename mic-analog loopback mixer element
      ALSA: pcsp - Use HRTIMER_CB_IRQSAFE_UNLOCKED
      ALSA: hda - Support Headphone and Speaker volumes control on VAIO
      ALSA: hda - Create jack detection elements in build_controls
      ALSA: hda - Use init callback in stac92xx_resume()
      ALSA: hda - Fix restore of pin configs at resume for STAC/IDT codecs
      ALSA: hda - Allow multiple imux for matrix-type mixers of ALC codecs
      ALSA: hda - Show missing GPIO unsol bits
      ALSA: hda - make laptop-eapd model back for AD1986A
      ALSA: hda - Add missing static for snd_hda_eld_proc_new() inline funciton
      ALSA: hda - Fix double free of jack instances
      ALSA: hda - Release ELD proc file
      ALSA: hda - Make CONFIG_SND_HDA_RECONFIG for codec reconfiguration
      ALSA: hda - Move HD-audio Kconfig items to sound/pci/hda/Kconfig
      ALSA: hda - mark Dell studio 1535 quirk
      ALSA: hda - Fix build without CONFIG_PROC_FS
      ALSA: hda - No 'Headphone as Line-out' swich without line-outs
      ALSA: hda - Add probe_mask quirk for Medion MD96630
      ALSA: hda - Fix proc pcm rate bits
      ALSA: hda - Assign unsol tags dynamically in patch_sigmatel.c
      ALSA: hda - Add quirk for MSI 7260 mobo
      ALSA: hda - Really fix bits value in proc output
      ALSA: pcsp - Fix starting the stream with HRTIMER_CB_IRQSAFE_UNLOCK
      ALSA: hda - make some functions static
      ALSA: hda - Move power_save option to hda_intel.c
      ALSA: hda - Fix PCM reconfigure
      ALSA: hda - Fix creation of automatic capture mixers
      ALSA: hda - Modularize HD-audio driver
      ALSA: hda - Fix build error with CONFIG_SND_HDA_POWER_SAVE
      ALSA: hda - Add codec-specific proc hook
      ALSA: hda - Remove unused proc entry in hda_bus struct
      ALSA: hda - Add IDT/STAC-specific proc output
      ALSA: hda - Clear codec->proc_widget_hook at reset
      ALSA: hda - Add quirk for Sony VAIO VGN-SR19XN
      ALSA: hda - Check MODULE instead of CONFIG_SND_HDA_INTEL_MODULE
      ALSA: hda - Don't export symbols when built-in kernel
      ALSA: hda - Remove EXPERIMENTAL from CONFIG_SND_HDA_POWER_SAVE
      ALSA: ac97 - Remove EXPERIMENTAL from CONFIG_SND_AC97_POWER_SAVE
      ALSA: hda - Use amp cache for SPDIF mute controls in patch_sigmatel.c
      ALSA: hda - Remove unnecessary caches for power states in patch_sigmatel.c
      ALSA: Fix a compile warning in cs46xx_lib.c
      ALSA: soc - Fix compile warnings in wm8903.c
      ALSA: soc - Remove obsoleted sound/driver.h inclusion
      ALSA: ASoC: Remove superfluous dependency on SND_SOC
      Revert "ALSA: soc - Fix compile warnings in wm8903.c"
      ALSA: ASoC: Fix compile warnings on corgi.c
      ALSA: ASoC: Fix old-style trigger callback in s3c2443-ac97.c
      ALSA: emu10k1 - Add capture boost mixer switch for Audigy
      ALSA: Add more documentation about HD-audio driver
      ALSA: hda - Add forgotten module alias for Nvidia MCP67 HDMI
      ALSA: hda - Add reference to HD-Audio.txt in ALSA-Configuration.txt
      ALSA: ca0106 - Add power-management support
      ALSA: hda - Fix pin-detection in patch_sigmatel.c
      ALSA: hda - Proper power-map toggling for input pins
      ALSA: timer - Add comments and use ns_to_ktime()
      ALSA: hrtimer - Use hard-irq callback
      ALSA: Updates about bug-reporting in ALSA-Configuration.txt
      ALSA: ASoC - Fix module init entry for twl4030.c
      ALSA: ASoC - Fix wrong section types
      ALSA: ASoC - Fix symbol conflicts in omac-mcbsp.c
      ALSA: ca0106 - Check return value of pci_enable_device() in resume
      ALSA: hda - Update documentation
      ALSA: hda - Add quirk for HP6730B laptop
      ALSA: cs5535 - Make OLPC-stuff depending on MGEODE_LX
      ALSA: hda - Update HD-Audio.txt
      ALSA: ASoC - Fix DAI registration in s3c2443-ac97.c
      ALSA: hda - Fix a compile warning when CONFIG_PM=n
      ALSA: sb8 - Fix a return code in the error path
      ALSA: hda - Fix another typo in HD-Audio.txt
      ALSA: hda - Add development tree URLs in HD-audio.txt
      ALSA: hda - Add Nvidia vendor id string
      ALSA: hda - Add Intel vendor id string
      ALSA: hda - Remove duplicated strings from codec name
      ALSA: hda - Convert from takslet_hi_schedule() to tasklet_schedule()
      ALSA: split HD-audio model list to HD-Audio-Models.txt
      ALSA: hda - Add missing initializations of amp and verb caches
      ALSA: hda - Use snd_hda_ctl_add() in patch_sigmatel.c
      ALSA: ca0106 - Don't override the values at resume
      ALSA: ca0106 - Add IEC958 PCM Stream controls
      ALSA: hda - Fix HD-Audio.txt reference of model list
      ALSA: ca0106 - Fix typo in resume code
      ALSA: hda - Rework on STAC/IDT auto-configuration code
      ALSA: hda - Use more distinct name for a unique volume in STAC/IDT
      ALSA: hda - Add probe_only option
      ALSA: hda - Fix unused variable warnings in patch_sigmatel.c
      ALSA: hda - Power up always when no jack detection is available
      ALSA: ca0106 - Check ac97 availability at PM
      ALSA: ca0106 - Add missing card->private_data initialization
      ALSA: ca0106 - disable 44.1kHz capture
      ALSA: ASoC - Add missing __devexit annotation to wm8350.c
      ALSA: hda - Add quirk for another HP dv7
Timur Tabi (1):
      ASoC: Disable automatic volume control in the CS4270 sound driver
Tony Vroon (1):
      ALSA: hda - Add lifebook model for Realtek ALC269
Troy Kisky (11):
      ASoC: Allow setting codec register with debugfs filesystem
      ALSA: SOC: Fix setting codec register with debugfs filesystem merge error
      ASoC: TLV320AIC23B Support more sample rates
      ALSA: ASoC: DaVinci: davinvi-evm, make requests explicit
      ALSA: ASoC: DaVinci: davinci-i2s add comments to explain polarity
      ALSA: ASoC: DaVinci: davinci-i2s clean up
      ALSA: ASoC: DaVinci: davinci-i2s clean up
      ALSA: ASoC: DaVinci: document I2S limitations
      ALSA: ASoC: tlv320aic3x add dsp_a
      ALSA: ASoC: DaVinci: i2s, evm, pass same value to codec and cpu_dai
      ALSA: ASoc: DaVinci: davinci-evm use dsp_b mode
Vedran Miletic (3):
      ALSA: emu10k1: fix device names for Live!/Audigy1/2/4/E-mu
      ALSA: emu10k1: fix faulty commit 18c71092
      ALSA: emu10k1: fix coding style for emu10k1_main.c
Vincent Petry (2):
      ALSA: hda: Added Realtek ALC888 model entry for Acer Aspire 4930G laptop
      ALSA: hda: Added an ALC888 model entry for Fujitsu-Siemens Amilo Xa3530
Wu Fengguang (27):
      ALSA: handle SiI1392 HDMI codec in patch_intelhdmi.c
      ALSA: hda: alc883 model for ASUS P5Q-EM boards
      ALSA: hda-intel: reorder HDMI audio enabling sequence
      ALSA: hda: remove redundant get_amp_nid()
      ALSA: introduce snd_print_pcm_rates()
      ALSA: create hda_eld.c for ELD routines and proc interface
      ALSA: ELD proc interface for HDMI sinks
      ALSA: hda: make standalone hdmi_fill_audio_infoframe()
      ALSA: hda: make global snd_print_channel_allocation()
      ALSA: hda: HDMI channel allocations for audio infoframe
      ALSA: hda: HDMI channel mapping cleanups
      ALSA: hda: minor code cleanups
      ALSA: hda: rename sink_eld to hdmi_eld
      ALSA: hda: minor output message cleanups
      ALSA: hda: make global snd_print_pcm_bits()
      ALSA: hda: compact ELD output messages
      ALSA: azx_probe() cleanup
      ALSA: hda - properly print ELD sample bits
      ALSA: hda: modify monitor name to be consistent with other ELD proc items
      ALSA: hda - support writing to the ELD proc file
      ALSA: hda - minor HDMI code cleanups
      ALSA: hda - report selected CA index for Audio InfoFrame
      ALSA: hda - make HDMI messages more user friendly
      ALSA: hda - ELD proc interface write updates
      ALSA: hda - document the ELD proc interface
      ALSA: hda - fix DisplayPort naming
      ALSA: hda - fix build warning when CONFIG_PROC_FS=n
Wu, Fengguang (1):
      ALSA: hda - Intel HDMI audio support
Yang, Libin (1):
      ALSA: hda - support detecting HD Audio devices with PCI class code
---
 Documentation/sound/alsa/ALSA-Configuration.txt    |  330 +----
 Documentation/sound/alsa/HD-Audio-Models.txt       |  348 ++++
 Documentation/sound/alsa/HD-Audio.txt              |  577 +++++++
 Documentation/sound/alsa/Procfile.txt              |   10 +
 Documentation/sound/alsa/soc/machine.txt           |    8 +-
 MAINTAINERS                                        |    2 +-
 arch/arm/mach-pxa/include/mach/palmasoc.h          |   13 +
 include/linux/input.h                              |    2 +
 include/linux/mfd/wm8350/audio.h                   |   38 +-
 include/sound/ac97_codec.h                         |    2 +
 include/sound/asound.h                             |    1 +
 include/sound/core.h                               |   28 +-
 include/sound/info.h                               |  106 +-
 include/sound/jack.h                               |    2 +
 include/sound/l3.h                                 |   18 +
 include/sound/s3c24xx_uda134x.h                    |   14 +
 include/sound/soc-dai.h                            |  231 +++
 include/sound/soc-dapm.h                           |    2 -
 include/sound/soc.h                                |  206 +--
 include/sound/uda134x.h                            |   26 +
 include/sound/version.h                            |    2 +-
 sound/ac97_bus.c                                   |    1 +
 sound/aoa/codecs/Makefile                          |    4 +
 sound/aoa/codecs/{snd-aoa-codec-onyx.c => onyx.c}  |   12 +-
 sound/aoa/codecs/{snd-aoa-codec-onyx.h => onyx.h}  |    0
 ...aoa-codec-tas-basstreble.h => tas-basstreble.h} |    0
 ...aoa-codec-tas-gain-table.h => tas-gain-table.h} |    0
 sound/aoa/codecs/{snd-aoa-codec-tas.c => tas.c}    |    8 +-
 sound/aoa/codecs/{snd-aoa-codec-tas.h => tas.h}    |    0
 .../codecs/{snd-aoa-codec-toonie.c => toonie.c}    |    2 +-
 sound/aoa/core/Makefile                            |    8 +-
 sound/aoa/core/{snd-aoa-alsa.c => alsa.c}          |    4 +-
 sound/aoa/core/{snd-aoa-alsa.h => alsa.h}          |    0
 sound/aoa/core/{snd-aoa-core.c => core.c}          |    2 +-
 .../{snd-aoa-gpio-feature.c => gpio-feature.c}     |    2 +-
 sound/aoa/core/{snd-aoa-gpio-pmf.c => gpio-pmf.c}  |    0
 sound/aoa/fabrics/Makefile                         |    2 +
 .../fabrics/{snd-aoa-fabric-layout.c => layout.c}  |    2 +-
 sound/aoa/soundbus/i2sbus/Makefile                 |    2 +-
 .../i2sbus/{i2sbus-control.c => control.c}         |    0
 .../aoa/soundbus/i2sbus/{i2sbus-core.c => core.c}  |    4 +-
 sound/aoa/soundbus/i2sbus/i2sbus.h                 |    2 +-
 .../i2sbus/{i2sbus-interface.h => interface.h}     |    0
 sound/aoa/soundbus/i2sbus/{i2sbus-pcm.c => pcm.c}  |    0
 sound/core/Kconfig                                 |   21 +
 sound/core/Makefile                                |    2 +
 sound/core/device.c                                |    4 +-
 sound/core/hrtimer.c                               |  155 ++
 sound/core/info.c                                  |   17 +
 sound/core/init.c                                  |   71 +-
 sound/core/jack.c                                  |   15 +-
 sound/core/rawmidi.c                               |    4 +-
 sound/core/rtctimer.c                              |    2 +-
 sound/core/seq/seq.c                               |    4 +-
 sound/core/timer.c                                 |    2 +-
 sound/drivers/Kconfig                              |    2 +-
 sound/drivers/pcsp/pcsp.c                          |    8 +-
 sound/drivers/pcsp/pcsp.h                          |    3 +
 sound/drivers/pcsp/pcsp_lib.c                      |  168 ++-
 sound/drivers/vx/vx_core.c                         |    2 +-
 sound/drivers/vx/vx_pcm.c                          |    2 +-
 sound/isa/sb/sb8.c                                 |    4 +-
 sound/pci/Kconfig                                  |  127 +--
 sound/pci/ac97/ac97_codec.c                        |    2 +-
 sound/pci/ac97/ac97_patch.c                        |    7 +-
 sound/pci/ca0106/ca0106.h                          |   30 +-
 sound/pci/ca0106/ca0106_main.c                     |  550 ++++---
 sound/pci/ca0106/ca0106_mixer.c                    |  263 +++-
 sound/pci/cs46xx/cs46xx_lib.c                      |    5 +-
 sound/pci/cs5535audio/Makefile                     |    3 +
 sound/pci/cs5535audio/cs5535audio.c                |   12 +-
 sound/pci/cs5535audio/cs5535audio.h                |   39 +
 sound/pci/cs5535audio/cs5535audio_olpc.c           |  179 +++
 sound/pci/cs5535audio/cs5535audio_pcm.c            |   15 +
 sound/pci/emu10k1/emu10k1_main.c                   |  494 +++---
 sound/pci/emu10k1/emumixer.c                       |   46 +
 sound/pci/es1968.c                                 |    2 +-
 sound/pci/hda/Kconfig                              |  188 +++
 sound/pci/hda/Makefile                             |   75 +-
 sound/pci/hda/hda_beep.c                           |    2 +
 sound/pci/hda/hda_codec.c                          |  781 +++++++---
 sound/pci/hda/hda_codec.h                          |  107 ++-
 sound/pci/hda/hda_eld.c                            |  590 +++++++
 sound/pci/hda/hda_generic.c                        |   21 +-
 sound/pci/hda/hda_hwdep.c                          |  234 +++-
 sound/pci/hda/hda_intel.c                          |  348 +++--
 sound/pci/hda/hda_local.h                          |  100 ++-
 sound/pci/hda/hda_patch.h                          |   22 -
 sound/pci/hda/hda_proc.c                           |   91 +-
 sound/pci/hda/patch_analog.c                       |  132 ++-
 sound/pci/hda/patch_atihdmi.c                      |   40 +-
 sound/pci/hda/patch_cmedia.c                       |   27 +-
 sound/pci/hda/patch_conexant.c                     |   39 +-
 sound/pci/hda/patch_intelhdmi.c                    |  711 +++++++++
 sound/pci/hda/patch_nvhdmi.c                       |   32 +-
 sound/pci/hda/patch_realtek.c                      | 1663 +++++++++++---------
 sound/pci/hda/patch_si3054.c                       |   35 +-
 sound/pci/hda/patch_sigmatel.c                     | 1318 +++++++++-------
 sound/pci/hda/patch_via.c                          |  171 ++-
 sound/pci/ice1712/ice1724.c                        |   23 +-
 sound/pci/maestro3.c                               |    2 +-
 sound/pci/mixart/mixart.c                          |    4 +-
 sound/pci/mixart/mixart_core.c                     |    2 +-
 sound/pci/oxygen/oxygen.c                          |    4 +
 sound/pci/pcxhr/Makefile                           |    2 +-
 sound/pci/pcxhr/pcxhr.c                            |  558 +++++--
 sound/pci/pcxhr/pcxhr.h                            |   76 +-
 sound/pci/pcxhr/pcxhr_core.c                       |  293 +++--
 sound/pci/pcxhr/pcxhr_core.h                       |    5 +-
 sound/pci/pcxhr/pcxhr_hwdep.c                      |  158 ++-
 sound/pci/pcxhr/pcxhr_mix22.c                      |  820 ++++++++++
 sound/pci/pcxhr/pcxhr_mix22.h                      |   56 +
 sound/pci/pcxhr/pcxhr_mixer.c                      |  556 +++++--
 sound/pci/riptide/riptide.c                        |    4 +-
 sound/pci/rme9652/hdsp.c                           |    4 +-
 sound/pci/rme9652/hdspm.c                          |    4 +-
 sound/pcmcia/pdaudiocf/pdaudiocf_irq.c             |    2 +-
 sound/ppc/pmac.c                                   |    2 +-
 sound/ppc/tumbler.c                                |    3 +-
 sound/soc/Kconfig                                  |   13 +-
 sound/soc/Makefile                                 |   12 +-
 sound/soc/at32/Kconfig                             |   34 -
 sound/soc/at32/Makefile                            |   11 -
 sound/soc/at32/at32-pcm.c                          |  492 ------
 sound/soc/at32/at32-pcm.h                          |   79 -
 sound/soc/at32/at32-ssc.c                          |  849 ----------
 sound/soc/at32/at32-ssc.h                          |   59 -
 sound/soc/at91/Kconfig                             |   10 -
 sound/soc/at91/Makefile                            |    6 -
 sound/soc/at91/at91-pcm.c                          |  434 -----
 sound/soc/at91/at91-pcm.h                          |   72 -
 sound/soc/at91/at91-ssc.c                          |  791 ----------
 sound/soc/at91/at91-ssc.h                          |   27 -
 sound/soc/atmel/Kconfig                            |   43 +
 sound/soc/atmel/Makefile                           |   15 +
 sound/soc/atmel/atmel-pcm.c                        |  494 ++++++
 sound/soc/atmel/atmel-pcm.h                        |   86 +
 sound/soc/atmel/atmel_ssc_dai.c                    |  790 ++++++++++
 sound/soc/atmel/atmel_ssc_dai.h                    |  121 ++
 sound/soc/{at32 => atmel}/playpaq_wm8510.c         |   11 +-
 sound/soc/atmel/sam9g20_wm8731.c                   |  328 ++++
 sound/soc/au1x/dbdma2.c                            |    3 +-
 sound/soc/au1x/psc-ac97.c                          |   16 +-
 sound/soc/au1x/psc-i2s.c                           |   18 +-
 sound/soc/au1x/sample-ac97.c                       |    4 +-
 sound/soc/blackfin/Kconfig                         |   22 +-
 sound/soc/blackfin/bf5xx-ac97-pcm.c                |  113 +-
 sound/soc/blackfin/bf5xx-ac97.c                    |  178 ++-
 sound/soc/blackfin/bf5xx-ac97.h                    |   35 +-
 sound/soc/blackfin/bf5xx-ad1980.c                  |    8 +-
 sound/soc/blackfin/bf5xx-ad73311.c                 |   10 +-
 sound/soc/blackfin/bf5xx-i2s-pcm.c                 |   12 +
 sound/soc/blackfin/bf5xx-i2s.c                     |   31 +-
 sound/soc/blackfin/bf5xx-sport.h                   |    2 +-
 sound/soc/blackfin/bf5xx-ssm2602.c                 |   14 +-
 sound/soc/codecs/Kconfig                           |   69 +-
 sound/soc/codecs/Makefile                          |   12 +
 sound/soc/codecs/ac97.c                            |    7 +-
 sound/soc/codecs/ad1980.c                          |   24 +-
 sound/soc/codecs/ad73311.c                         |   18 +-
 sound/soc/codecs/ak4535.c                          |   19 +-
 sound/soc/codecs/cs4270.c                          |   38 +-
 sound/soc/codecs/l3.c                              |   91 ++
 sound/soc/codecs/pcm3008.c                         |  212 +++
 sound/soc/codecs/pcm3008.h                         |   25 +
 sound/soc/codecs/ssm2602.c                         |   57 +-
 sound/soc/codecs/tlv320aic23.c                     |  262 +++-
 sound/soc/codecs/tlv320aic26.c                     |   22 +-
 sound/soc/codecs/tlv320aic3x.c                     |  166 ++-
 sound/soc/codecs/tlv320aic3x.h                     |   60 +-
 sound/soc/codecs/twl4030.c                         | 1317 ++++++++++++++++
 sound/soc/codecs/twl4030.h                         |  219 +++
 sound/soc/codecs/uda134x.c                         |  668 ++++++++
 sound/soc/codecs/uda134x.h                         |   36 +
 sound/soc/codecs/uda1380.c                         |   29 +-
 sound/soc/codecs/wm8350.c                          | 1583 +++++++++++++++++++
 sound/soc/codecs/wm8350.h                          |   20 +
 sound/soc/codecs/wm8510.c                          |   19 +-
 sound/soc/codecs/wm8580.c                          |  134 +-
 sound/soc/codecs/wm8580.h                          |    1 +
 sound/soc/codecs/wm8728.c                          |  585 +++++++
 sound/soc/codecs/wm8728.h                          |   30 +
 sound/soc/codecs/wm8731.c                          |   25 +-
 sound/soc/codecs/wm8750.c                          |   19 +-
 sound/soc/codecs/wm8753.c                          |   39 +-
 sound/soc/codecs/wm8900.c                          |  262 ++--
 sound/soc/codecs/wm8900.h                          |    6 -
 sound/soc/codecs/wm8903.c                          |  268 ++--
 sound/soc/codecs/wm8903.h                          |    5 -
 sound/soc/codecs/wm8971.c                          |   19 +-
 sound/soc/codecs/wm8990.c                          |   43 +-
 sound/soc/codecs/wm8990.h                          |    4 +-
 sound/soc/codecs/wm9712.c                          |   12 +-
 sound/soc/codecs/wm9713.c                          |   46 +-
 sound/soc/davinci/Kconfig                          |   10 +
 sound/soc/davinci/Makefile                         |    2 +
 sound/soc/davinci/davinci-evm.c                    |   14 +-
 sound/soc/davinci/davinci-i2s.c                    |  257 +++-
 sound/soc/davinci/davinci-pcm.c                    |   30 +-
 sound/soc/davinci/davinci-sffsdr.c                 |  157 ++
 sound/soc/fsl/Kconfig                              |    2 +-
 sound/soc/fsl/fsl_dma.c                            |   14 +-
 sound/soc/fsl/fsl_ssi.c                            |   24 +-
 sound/soc/fsl/mpc5200_psc_i2s.c                    |   22 +-
 sound/soc/fsl/mpc8610_hpcd.c                       |    8 +-
 sound/soc/fsl/soc-of-simple.c                      |   12 +-
 sound/soc/omap/Kconfig                             |   35 +-
 sound/soc/omap/Makefile                            |    8 +
 sound/soc/omap/n810.c                              |   10 +-
 sound/soc/omap/omap-mcbsp.c                        |   61 +-
 sound/soc/omap/omap-pcm.c                          |   14 +-
 sound/soc/omap/omap2evm.c                          |  151 ++
 sound/soc/omap/omap3beagle.c                       |  149 ++
 sound/soc/omap/omap3pandora.c                      |  311 ++++
 sound/soc/omap/osk5912.c                           |   10 +-
 sound/soc/omap/overo.c                             |  148 ++
 sound/soc/omap/sdp3430.c                           |  152 ++
 sound/soc/pxa/Kconfig                              |   22 +
 sound/soc/pxa/Makefile                             |    6 +
 sound/soc/pxa/corgi.c                              |   12 +-
 sound/soc/pxa/e800_wm9712.c                        |    8 +-
 sound/soc/pxa/em-x270.c                            |    7 +-
 sound/soc/pxa/palm27x.c                            |  269 ++++
 sound/soc/pxa/poodle.c                             |    6 +-
 sound/soc/pxa/pxa-ssp.c                            |  931 +++++++++++
 sound/soc/pxa/pxa-ssp.h                            |   47 +
 sound/soc/pxa/pxa2xx-ac97.c                        |   33 +-
 sound/soc/pxa/pxa2xx-i2s.c                         |   35 +-
 sound/soc/pxa/pxa2xx-pcm.c                         |   14 +-
 sound/soc/pxa/spitz.c                              |    6 +-
 sound/soc/pxa/tosa.c                               |   38 +-
 sound/soc/pxa/zylonite.c                           |  219 +++
 sound/soc/s3c24xx/Kconfig                          |    5 +
 sound/soc/s3c24xx/Makefile                         |    2 +
 sound/soc/s3c24xx/ln2440sbc_alc650.c               |    8 +-
 sound/soc/s3c24xx/neo1973_wm8753.c                 |    9 +-
 sound/soc/s3c24xx/s3c2412-i2s.c                    |   38 +-
 sound/soc/s3c24xx/s3c2443-ac97.c                   |   30 +-
 sound/soc/s3c24xx/s3c24xx-i2s.c                    |   35 +-
 sound/soc/s3c24xx/s3c24xx-pcm.c                    |   12 +
 sound/soc/s3c24xx/s3c24xx_uda134x.c                |  373 +++++
 sound/soc/s3c24xx/smdk2443_wm9710.c                |    8 +-
 sound/soc/sh/dma-sh7760.c                          |   12 +
 sound/soc/sh/hac.c                                 |   19 +-
 sound/soc/sh/sh7760-ac97.c                         |    6 +-
 sound/soc/sh/ssi.c                                 |   30 +-
 sound/soc/soc-core.c                               |  840 ++++++++---
 sound/soc/soc-dapm.c                               |   82 +-
 sound/sound_core.c                                 |    1 +
 sound/usb/caiaq/caiaq-control.c                    |   73 +-
 sound/usb/caiaq/caiaq-device.c                     |    2 +-
 sound/usb/usbmidi.c                                |    2 +-
 sound/usb/usx2y/usb_stream.c                       |    3 +-
 253 files changed, 22114 insertions(+), 8030 deletions(-)
 create mode 100644 Documentation/sound/alsa/HD-Audio-Models.txt
 create mode 100644 Documentation/sound/alsa/HD-Audio.txt
 create mode 100644 arch/arm/mach-pxa/include/mach/palmasoc.h
 create mode 100644 include/sound/l3.h
 create mode 100644 include/sound/s3c24xx_uda134x.h
 create mode 100644 include/sound/soc-dai.h
 create mode 100644 include/sound/uda134x.h
 rename sound/aoa/codecs/{snd-aoa-codec-onyx.c => onyx.c} (99%)
 rename sound/aoa/codecs/{snd-aoa-codec-onyx.h => onyx.h} (100%)
 rename sound/aoa/codecs/{snd-aoa-codec-tas-basstreble.h => tas-basstreble.h} (100%)
 rename sound/aoa/codecs/{snd-aoa-codec-tas-gain-table.h => tas-gain-table.h} (100%)
 rename sound/aoa/codecs/{snd-aoa-codec-tas.c => tas.c} (99%)
 rename sound/aoa/codecs/{snd-aoa-codec-tas.h => tas.h} (100%)
 rename sound/aoa/codecs/{snd-aoa-codec-toonie.c => toonie.c} (98%)
 rename sound/aoa/core/{snd-aoa-alsa.c => alsa.c} (98%)
 rename sound/aoa/core/{snd-aoa-alsa.h => alsa.h} (100%)
 rename sound/aoa/core/{snd-aoa-core.c => core.c} (99%)
 rename sound/aoa/core/{snd-aoa-gpio-feature.c => gpio-feature.c} (99%)
 rename sound/aoa/core/{snd-aoa-gpio-pmf.c => gpio-pmf.c} (100%)
 rename sound/aoa/fabrics/{snd-aoa-fabric-layout.c => layout.c} (99%)
 rename sound/aoa/soundbus/i2sbus/{i2sbus-control.c => control.c} (100%)
 rename sound/aoa/soundbus/i2sbus/{i2sbus-core.c => core.c} (99%)
 rename sound/aoa/soundbus/i2sbus/{i2sbus-interface.h => interface.h} (100%)
 rename sound/aoa/soundbus/i2sbus/{i2sbus-pcm.c => pcm.c} (100%)
 create mode 100644 sound/core/hrtimer.c
 create mode 100644 sound/pci/cs5535audio/cs5535audio_olpc.c
 create mode 100644 sound/pci/hda/Kconfig
 create mode 100644 sound/pci/hda/hda_eld.c
 delete mode 100644 sound/pci/hda/hda_patch.h
 create mode 100644 sound/pci/hda/patch_intelhdmi.c
 create mode 100644 sound/pci/pcxhr/pcxhr_mix22.c
 create mode 100644 sound/pci/pcxhr/pcxhr_mix22.h
 delete mode 100644 sound/soc/at32/Kconfig
 delete mode 100644 sound/soc/at32/Makefile
 delete mode 100644 sound/soc/at32/at32-pcm.c
 delete mode 100644 sound/soc/at32/at32-pcm.h
 delete mode 100644 sound/soc/at32/at32-ssc.c
 delete mode 100644 sound/soc/at32/at32-ssc.h
 delete mode 100644 sound/soc/at91/Kconfig
 delete mode 100644 sound/soc/at91/Makefile
 delete mode 100644 sound/soc/at91/at91-pcm.c
 delete mode 100644 sound/soc/at91/at91-pcm.h
 delete mode 100644 sound/soc/at91/at91-ssc.c
 delete mode 100644 sound/soc/at91/at91-ssc.h
 create mode 100644 sound/soc/atmel/Kconfig
 create mode 100644 sound/soc/atmel/Makefile
 create mode 100644 sound/soc/atmel/atmel-pcm.c
 create mode 100644 sound/soc/atmel/atmel-pcm.h
 create mode 100644 sound/soc/atmel/atmel_ssc_dai.c
 create mode 100644 sound/soc/atmel/atmel_ssc_dai.h
 rename sound/soc/{at32 => atmel}/playpaq_wm8510.c (98%)
 create mode 100644 sound/soc/atmel/sam9g20_wm8731.c
 create mode 100644 sound/soc/codecs/l3.c
 create mode 100644 sound/soc/codecs/pcm3008.c
 create mode 100644 sound/soc/codecs/pcm3008.h
 create mode 100644 sound/soc/codecs/twl4030.c
 create mode 100644 sound/soc/codecs/twl4030.h
 create mode 100644 sound/soc/codecs/uda134x.c
 create mode 100644 sound/soc/codecs/uda134x.h
 create mode 100644 sound/soc/codecs/wm8350.c
 create mode 100644 sound/soc/codecs/wm8350.h
 create mode 100644 sound/soc/codecs/wm8728.c
 create mode 100644 sound/soc/codecs/wm8728.h
 create mode 100644 sound/soc/davinci/davinci-sffsdr.c
 create mode 100644 sound/soc/omap/omap2evm.c
 create mode 100644 sound/soc/omap/omap3beagle.c
 create mode 100644 sound/soc/omap/omap3pandora.c
 create mode 100644 sound/soc/omap/overo.c
 create mode 100644 sound/soc/omap/sdp3430.c
 create mode 100644 sound/soc/pxa/palm27x.c
 create mode 100644 sound/soc/pxa/pxa-ssp.c
 create mode 100644 sound/soc/pxa/pxa-ssp.h
 create mode 100644 sound/soc/pxa/zylonite.c
 create mode 100644 sound/soc/s3c24xx/s3c24xx_uda134x.c