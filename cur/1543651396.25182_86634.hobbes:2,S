Date: Mon, 04 Nov 2002 11:17:31 +0100
From: Takashi Iwai <>
Subject: Re: [PATCHSET 22/25] add support for PC-9800 architecture (sound alsa)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/4/38

At Sat, 02 Nov 2002 11:44:08 +0900,
Osamu Tomita wrote:
> 
> Takashi Iwai wrote:
> > 
> > At Fri, 1 Nov 2002 22:02:18 +0900,
> > Osamu Tomita wrote:
> > > Now, PCM OPL3 and MPU401 all works fine.
> > > Would you please add option "pc98ii" into snd-mpu401?
> > > This is for Box that has MPU-PC98II only, with no other sound card.
> > 
> > well, then i misunderstood the hardware configuration on PC98.
> > 
> > doesn't MPU-PC98II need any specific hardware init code like in
> > pc98_mpu401_init()?
> MPU-PC98II doesn't need those init codes. Apologize for not enough
> explanations.
> On-board sound and sound cards made by NEC need those init codes.
> Perhaps, for backward compatibility, PC-9800's BIOS masks newer
>  features like WSS PCM, OPL3 FM synth and MPU-401 compatible IF.
> After cold booting, they works as oldest sound card of NEC (PC-
> 9801-26). So I added some init codes to enable those features.
> Most sound cards made by third parties (MPU-98, Sound blaster16
> for PC9800...etc) don't need these init codes.
OK.  thanks for clarification.
> > if yes, then we should create another module for PC98II rather than
> > including a magical init code into a generic mpu401 module.
> Init code for MPU-401 detects wheter NEC or not. If MPU-401 is
>  not NEC's, skip magical initialization. So I think it's beter,
>  your patch and adding option to mpu401.c
Agreed.
Now i put the patch into ALSA cvs tree.
I hope Jaroslav will submit the patchset soon.
-- 
Takashi Iwai <tiwai@suse.de>		SuSE Linux AG - www.suse.de
ALSA Developer				ALSA Project - www.alsa-project.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/