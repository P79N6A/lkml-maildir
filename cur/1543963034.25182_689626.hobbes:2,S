Date: Wed, 7 May 2008 09:43:30 -0300
From: Henrique de Moraes Holschuh <>
Subject: Re: [PATCH] bay: Exit if notify handler cannot be installed
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/7/41

Forgot one detail:
On Wed, 07 May 2008, Henrique de Moraes Holschuh wrote:
> 2. Even if a bay can take different types of devices, the same bay may
> appear as a number of different EJ0 handlers.  In that case, the
> firmware is to know which handler to use based on which type of device
> is inside the bay.  Thinkpads do this.
But calling EJ0 on any of the devices that might fit the bay will eject
whatever is in the bay, regardless of it being the "active device" in
the bay or not.
This is why bay can be used in a thinkpad to eject BAT1 (a battery),
their EJ0 handlers do exactly the same thing.  You don't get the bay
request eject and bay ejected events since bay.c doesn't tie itself to
the battery ACPI node, but you can eject it.
-- 
  "One disk to rule them all, One disk to find them. One disk to bring
  them all and in the darkness grind them. In the Land of Redmond
  where the shadows lie." -- The Silicon Valley Tarot
  Henrique Holschuh