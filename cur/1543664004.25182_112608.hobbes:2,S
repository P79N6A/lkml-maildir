Date: Tue, 25 Feb 2003 18:08:30 +0100
From: Andrea Arcangeli <>
Subject: Re: vm issues (2)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/25/116

On Tue, Feb 25, 2003 at 05:15:40PM +0100, Dejan Muhamedagic wrote:
> Andrea:
> 
> On Tue, Feb 25, 2003 at 04:32:13PM +0100, Andrea Arcangeli wrote:
> > On Tue, Feb 25, 2003 at 01:13:28PM +0100, Dejan Muhamedagic wrote:
> > > 
> > > The aa kernel keeps ~200MB out of 6GB of memory unused.  I'm not
> > > sure, but if we could reduce it perhaps there would be much less
> > > swapping.  Is there a way to achieve this?
> > 
> > that is a feature, it guarantees highmem unfreeable allocations like
> > pagetables can't eat all your normal zone. You can reduce the 200MB with
> > this boot command:
> > 
> > 	lower_zone_reserve=256,256
> 
> But isn't 200MB too much?  Where would the new setting put the
no, on a 6GB it isn't too much compared to risk wasting several giga of
highmem.
> reserve mark?
the new reserve mark will turn it to around 25mbyte, of course your risk
to run in normal zone shortages increases that way.
> > As to decrease the swapping I just told you how to do that tweaking
> > vm_mapped_ratio.
> 
> Well, it has been set to 500, but it didn't make any difference
> (at least no obvious difference).  Is there anything more one
> could do about that?  The current level of swapping hurts
> performance quite a bit.  This is what the meminfo looks
> like:
you can try 10000.
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/