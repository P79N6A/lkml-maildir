Date: Sat, 09 Apr 2005 00:39:38 -0400
From: Lee Revell <>
Subject: Re: HELP:porting linux PXA audio driver to RTLinux(RTLinux core driver)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/9/5

On Fri, 2005-04-08 at 21:03 -0700, nobin matthew wrote:
> Dear Friends,
> 
>               I am trying to port Linux PXA audio
> driver to RTLinux. I am using pxa-ac7.c and
> pxa-audio.c
>  and eliminated sound_core.c, and i will register two
> device /dev/mixer and /dev/dsp to RTLinux kernel.
> 
>            The real need is, i wants to generate a sin
> wave using audio codec. With in 600us DMA controller
> should fill the codec FIFO, if that is not met
> distortion will happen. I think normal linux
> interrupts and Process scheduling may cause some
> problems.
> 
> In porting it seems difficult to port kernel
> scheduling , dynamic memory allocation(for DMA) and
> synchronization.
This is the exact same question you posted to linux-audio-dev.  And
you'll get the same answer here:
Don't waste your time with RTLinux.  Use a recent 2.6 kernel with Ingo's
realtime-preempt patches.  Configure with PREEMPT_RT.  This will provide
deterministic, hard realtime performance for any RT constraint down to
about 50 usecs.
RTLinux can meet a ~15 usec RT constraint, the RT preempt kernel will be
able to do this once the timer ISR is made preemptible again.
RTLinux is an obsolescent product that had its place in the 2.4 era but
is being superseded by a solution that's both technically superior and
100% free software.  Real time preemption is the future of hard realtime
on Linux.  All the major real time Linux players have recognized this,
even the ones who had competing solutions for 2.4 are porting their work
to the 2.6 RT-preempt framework.
Besides, RTLinux is a commercial product anyway.  If this project
requires use of RTLinux for political reasons, call your support rep.
Lee
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/