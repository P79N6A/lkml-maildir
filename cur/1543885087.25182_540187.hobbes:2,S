Date: Fri, 04 May 2007 13:31:47 -0600
From: (Eric W. Biederman)
Subject: Re: [RFC PATCH 1/3] Replace paravirt_probe with "platform type" boot header field
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/4/446

"H. Peter Anvin" <hpa@zytor.com> writes:
> Indeed.  I think, yes, what has been there up to now has pretty much
> been at least in part experimental, and I fear there will be unavoidable
> breakage as part of sanitizing it.  C'est la vie, I guess.
The one significant one I left out I think is the VISWS.  I'm not certain
what we do there, but I know it never went through setup.S
Yes.  At the same time we have been sufficiently disciplined (baring
paravirt) that the changes should be quite small, and we have a big
enough sample size now that we can pretty clearly see ways in which
the code will vary.
>>>> And 4K seems to be our maximum size for backwards compatibility.  Although
>>>> we use it in a fairly sparse way, so we should be ok.
>>> Sort of.  It's pretty full.
>> 
>> True.  For small little extensions we have room.  For big things probably
>> not.
>
> For big extensions we'll probably have to go the pointer route already
> done with the command line.
Likely.  It is tricky because if we actually have to do a normal BIOS
query to get it things a little sticky, because we can't allocate
memory.  Hmm.  It looks like we need a way to export the size of
our parameter area to the bootloader.  We have setup_sects for 16bit
real mode bootloaders and that should be good enough, but we need
something equivalent for the 32bit entry point.
Requirements analysis here we come.
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/