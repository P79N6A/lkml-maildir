Date: Tue, 20 Apr 2004 21:17:35 -0500
From: Dmitry Torokhov <>
Subject: Re: [PATCH] psmouse fixes for 2.6.5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/20/195

On Tuesday 20 April 2004 03:38 pm, Kim Holviala wrote:
> On Tuesday 20 April 2004 15:59, Dmitry Torokhov wrote:
> > On Tuesday 20 April 2004 02:38 am, Kim Holviala wrote:
> > > Some fixes for PS/2 mice:
> > >
> > > - fixed hotplugging (real reset of device instead of softreset)
> > > - support for Targus Scroller mice (from my last weeks patch)
> > > - extended protocol probing fixed
> >
> > Why do you have Tragus as a config option - just set the protocol mask
> > correctly by default...
> 
> Targus mice misuse the normal PS/2 protocol so that they can sneak through 
> command-filtering PS/2 ports (like on my Digital HiNote 2000). Basically they 
> output very strange but valid traffic when the wheel is moved. Anyway, this 
> is Linux, and I'd rather force people to turn it on explicitly rather than 
> take the risk of breaking some valid PS/2 device which might theoretically 
> output the same stuff.
>
And I think you will achieve the desired result by just doing:
-static unsigned int psmouse_max_proto = -1U;
+static unsigned int psmouse_probe_proto = PSMOUSE_ANY & ~PSMOUSE_TARGUS;
Think about distributions, they will just have turn this option on anyway.
-- 
Dmitry
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/