Date: Sat, 20 Nov 1999 23:05:36 +0100
From: Benno Senoner <>
Subject: Re: Low Latency Patch Questions...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/20/77

>On Wed, 10 Nov 1999, Robert Dinse wrote:
>
>>      I am wondering if you have re-worked the low latency patch for 2.2.13?
>> The version for 2.2.10 will not apply.
>
>yes, you can download it from:
>
>        
http://www.redhat.com/~mingo/lowlatency-2.2.13-A1
>
>-- mingo
Good to know,
actually I'm experimenting with a low-latency client/server system
( the purpose will be a realtime multimedia comunication system,
initially for audio ala "esd" but applicable to video too, but without
introducing noticeable latencies). 
exchanging data via shared mem and protecting the shared mem data segments
via SVSV semaphores.
clients:
while(1)
{
  do_processing
  exchange_data_with_server_using_shared_mem
  wakeup_server
  wait_for server
}
server:
while(1)
{
  wait_for_clients
  exchange_data_with_clients (via shmem)
  wakeup_clients
}
wakeup and wait functions are implemented using 2 semaphores.
I have no benchmarks numbers yet, but apart the fact that the latencies are
high ( unfortunately bigger than 2-5ms ) , when using more than one client,
after a while the semaphores deadlock
= client waiting for the server while server is waiting for the clients.
 
( Perhaps I made a programming mistake because I missed some aspect of the
SYS V semaphores ?)
I will soon come up with testcode and benchmark results.
perhaps the high latencies during semop() might be caused because
the kernel is waiting for the next scheduling tick ( = 10ms when HZ=100).
Any thoughts meanwhile ?
Benno.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/