Date: Wed, 13 Jul 2005 12:38:39 -0400
From: Robert Love <>
Subject: [patch 2/3] inotify: event ordering
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/13/125

Linus,
Attached patch rearranges the event ordering for "open" to be consistent
with the ordering of the other events.
Patch is against current git tree.  Please, apply.
	Robert Love
Signed-off-by: Robert Love <rml@novell.com>
 include/linux/fsnotify.h |    2 +-
 1 files changed, 1 insertion(+), 1 deletion(-)
diff -urN linux-inotify/include/linux/fsnotify.h linux/include/linux/fsnotify.h
--- linux-inotify/include/linux/fsnotify.h	2005-07-13 11:25:31.000000000 -0400
+++ linux/include/linux/fsnotify.h	2005-07-13 11:24:27.000000000 -0400
@@ -125,8 +125,8 @@
 	if (S_ISDIR(inode->i_mode))
 		mask |= IN_ISDIR;
 
-	inotify_inode_queue_event(inode, mask, 0, NULL);
 	inotify_dentry_parent_queue_event(dentry, mask, 0, dentry->d_name.name);
+	inotify_inode_queue_event(inode, mask, 0, NULL);	
 }
 
 /*
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/