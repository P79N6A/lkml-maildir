Date: Mon, 19 Jan 2004 16:04:21 +1300
From: Nigel Cunningham <>
Subject: Re: Help port swsusp to ppc.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/18/132

Hi.
I'd love to be able to help, but unfortunately the old assembly I know
is good old 6502 :> Hopefully someone else will pipe up and get you
going.
Once you do get it going, I'll be happy to help keep the other parts
updated, so far as I'm able.
Regards,
Nigel
On Mon, 2004-01-19 at 15:52, Hugang wrote:
> Hello guys:
> 
> I'm try to porting Software Suspend to PowerPC. But I'm not family with
> PowerPC assemble languae. So need someone to help me write the save
> process state function in assemble language.
> 
> 1: Download i386 suspend patch for 2.6.1 from swsusp.sf.net
>  you need two patch 
>  software-suspend-core-2.0-rc4-whole.bz2
>  software-suspend-linux-2.6.1-rev1-whole.bz2
> 2: first you need apply linux-2.6.1 to 2.6.1 clean kernel
>    then apply core-2.0-rc4 to current patched kernel
> 3: then apply ppc-swsusp.patch to patched kernel
> 4: do make menuconfig
>  CONFIG_SOFTWARE_SUSPEND2=y
>  CONFIG_SOFTWARE_SUSPEND_DEBUG=y
>  CONFIG_SOFTWARE_SUSPEND_GZIP_COMPRESSION=y
>  CONFIG_SOFTWARE_SUSPEND_KEEP_IMAGE=y
>  CONFIG_SOFTWARE_SUSPEND_LZF_COMPRESSION=y
>  CONFIG_SOFTWARE_SUSPEND_SWAPWRITER=y
> 5: test with swsusp enable kernel.
>  in yaboot prompt:
>  /vmlinux.swsusp root=/dev/hda13 resume2=swap:/dev/hda10 init=/bin/sh
> 
>  /dev/hda13 is the root device name
>  /dev/hda10 is swap device name
> 
> 6: run suspend script to do software suspend, now the machine will power
>  off.
> 
> 7: power on machin, in yaboot prompt:
>   /vmlinux.swsusp root=/dev/hda13 resume2=swap:/dev/hda10 init=/bin/sh
> 
> But for now the save and restore processor state is not finish, the
> resume will oops.
-- 
My work on Software Suspend is graciously brought to you by
LinuxFund.org.
[unhandled content-type:application/pgp-signature]