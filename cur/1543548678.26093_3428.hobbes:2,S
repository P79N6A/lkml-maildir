Date: Wed, 13 Sep 2000 15:26:15 +0200
From: Miquel van Smoorenburg <>
Subject: Re: Booting into /bin/bash
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/13/97

According to Richard B. Johnson:
> Without patching the kernel, I think I can show that there is something
> basically wrong. The patch may just hide the problem.
No.
> Something seems to be wrong, even with using the first virtual
> terminal, which is a 'tty' and should (must) be able to become a
> a controlling terminal.
Only if you're the process group leader.. read drivers/char/tty_io.c
function tiocsctty()
> This is a stock kernel version 2.2.15. The stuff necessary to make
> 'strace' run ends up with the 'init' PID of 6. FYI, it is a real
> bear to 'strace' init's startup.
And that is the cause of you not being process group leader.
Stick a setsid() before the tty stuff.
Mike.
-- 
Deadlock, n.:
	Deceased rastaman.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/