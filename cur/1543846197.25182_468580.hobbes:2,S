Date: Mon, 02 Oct 2006 11:20:24 +0100
From: David Woodhouse <>
Subject: Re: CONFIG_PARPORT_PC_SUPERIO
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/2/63

On Mon, 2006-10-02 at 11:49 +0200, Olaf Hering wrote:
> Does aynone know if the hardware that is enabled with
> CONFIG_PARPORT_PC_SUPERIO is available on PCI devices? The functions
> detect_and_report_winbond() and detect_and_report_smsc() poke at random
> legacy IO ports. I just wonder if they may also find the hardware if
> they come from a PCI device.
> If they are i386 only, the config option should probably be i386 (or
> whatever) only. 
They're not i386 only. There's plenty of non-i386 machines with SuperIO
chips in. They're the easiest way to bolt floppy/parallel/IrDA/serial
support onto a board.
But we really shouldn't have individual drivers poking at the magic
configuration addresses to find SuperIO chips. There should be support
for those _separately_ -- and then the parport/irda/serial drivers can
all consult it as appropriate, rather than poking directly at the
hardware.
I did make a start on drivers/pnp/superio once, but didn't get very far
before I got distracted. Start with lssuperio.
-- 
dwmw2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/