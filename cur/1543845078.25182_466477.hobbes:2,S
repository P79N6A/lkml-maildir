Date: Mon, 25 Sep 2006 14:22:13 -0700
From: Jeremy Fitzhardinge <>
Subject: Re: [PATCH] Linux Kernel Markers 0.11 for 2.6.17
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/25/251

Mathieu Desnoyers wrote:
> Better idea : we could put a read/write dependency on a memory location.
> 
Yes, that works well.  And it needn't even exist:
	extern int __marker_sequencer;		/* doesn't exist, never referenced */
	asm volatile("first asm" : "+m" (__marker_sequencer));
	asm volatile("second asm" : "+m" (__marker_sequencer));
This keeps the asms ordered with respect to each other (and prevents to 
independent markers from being intermingled), but it doesn't prevent 
them from being re-ordered with respect to other code.
    J
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/