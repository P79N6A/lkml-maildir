Date: Wed, 26 Mar 2003 00:53:42 +0100
From: Juan Quintela <>
Subject: Re: [PATCH] add checkstack Makefile target
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/25/265

>>>>> "jörn" == Jörn Engel <joern@wohnheim.fh-wedel.de> writes:
jörn> On Sun, 23 March 2003 20:08:45 +0100, Sam Ravnborg wrote:
>> 
>> checkstack needs a configured and build kernel, hence the
>> prerequisite vmlinux.
>> So it is located at the right spot and shall not be listed in
>> noconfig_targets.
>> 
>> Only tiny issue is that you miss:
>> .PHONY: checkstack
jörn> True. Ok, hopefully this is the last missing bit. Can I bother Linus
jörn> with it?
Once there, please just add:
	} elsif ($arch =~ /^mips64$/) {
		#8800402c:       67bdfff0        daddiu  sp,sp,-16
		$re = qr/.*(daddiu.*sp,sp,-(([0-9]{2}|[3-9])[0-9]{2}))/o;
	} elsif ($arch =~ /^mips$/) {
		#88003254:       27bdffe0        addiu   sp,sp,-32
		$re = qr/.*(addiu.*sp,sp,-(([0-9]{2}|[3-9])[0-9]{2}))/o;
and it should also works on mips/mips64.
I think that the lines should also work for mipsel and mipsel64, but
don't have a crosscompiler handy.
Thanks, Juan.
-- 
In theory, practice and theory are the same, but in practice they 
are different -- Larry McVoy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/