Date: Wed, 5 Mar 2003 00:03:34 +0000
From: Jamie Lokier <>
Subject: Re: About /etc/mtab and /proc/mounts
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/4/197

Kasper Dupont wrote:
> > For KDE 3.1 I've written a mount watcher, which checks the modification
> > time of the /etc/mtab to recognize mount/unmount activity, which broke
> > for linux from scratch( for now, they have updated there install
> > instructions), because they linked to /proc/mounts, which doesn't seem
> > to support mtime.
> 
> It seems the mtime of anything under /proc simply gives the current time.
> Would that be hard to change? And would anything break if /proc/mounts
> gave the time of the last change? It shouldn't be a major problem to
> record the time of the last sucessfull mount, remount, or unmount.
It would be much better if it were possible to use
fcntl(?,F_NOTIFY,...) to monitor the contents of /proc/mounts.  (It
would have to be in a subdirectory of its own for this).
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/