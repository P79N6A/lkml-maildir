Date: Sat, 31 May 2003 15:37:54 -0400
From: Chris Heath <>
Subject: Re: [PATCH][2.5] UTF-8 support in console
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/31/186

Here's the patch again, with suggested changes.
> +	if (!p) return;
> 
> Please split this into two lines. Can p ever be null_
p could never be null, as it turns out. So I removed this line. :-)
> +		q = p->inverse_trans_unicode = (u16 *) 
> +			kmalloc(MAX_GLYPH * sizeof(u16), GFP_KERNEL);
> 
> The cast is not needed.  And btw, where is q freed?
It is freed. Grep for kfree.*inverse_trans_unicode.
Chris
[unhandled content-type:application/octet-stream]