Date: Sun, 3 Jan 1999 14:31:01 +0100
From: Thomas Pornin <>
Subject: [2.2.0-pre4][alpha] problems and patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/3/118

Hello,
I had a few problems with 2.2.0-pre4 on my alpha station:
-- "make xconfig" does not work; here is the error message:
wish -f scripts/kconfig.tk
Error in startup script: can't read "CONFIG_EXPERIMENTAL": no such variable
    while executing
"if {($CONFIG_NET == 1) && ($CONFIG_EXPERIMENTAL == 1)} then { .f0.x7 configure -state normal } else { .f0.x7 configure -state disabled }"
    (procedure "update_mainmenu" line 4)
    invoked from within
"update_mainmenu .rdupd"
    (procedure "read_config" line 26)
    invoked from within
"read_config .config"
    (file "scripts/kconfig.tk" line 9237)
make: *** [xconfig] Error 1
-- there is no include/asm-alpha/ipc.h. Actually, it seems that none is
   needed, which would explain this. However, this upsets ipc/utils.c.
   See patch below.
-- fs/ntfs/ntfstypes.h and include/linux/ntfs_fs_i.h both contain some
   definitions for the ntfs integral types; the second one is not
   complete (it lacks ntfs_s16 and ntfs_s32). See the patch below for
   a crude hack.
With the following patch, it compiles; haven't tried to boot it yet:
--- include/linux/ntfs_fs_i.h.old	Sun Jan  3 14:05:22 1999
+++ include/linux/ntfs_fs_i.h	Sun Jan  3 14:06:14 1999
@@ -12,6 +12,8 @@
 typedef unsigned short     ntfs_u16;
 typedef unsigned int       ntfs_u32;
 typedef unsigned long long ntfs_u64;
+typedef short ntfs_s16;
+typedef int   ntfs_s32;
 #endif
 
 #ifndef NTMODE_T
--- ipc/util.c.old	Sun Jan  3 14:08:00 1999
+++ ipc/util.c	Sun Jan  3 14:00:43 1999
@@ -13,7 +13,9 @@
 #include <linux/shm.h>
 #include <linux/init.h>
 #include <linux/msg.h>
+#ifndef __alpha
 #include <asm/ipc.h>
+#endif
 #include <asm/uaccess.h>
 
 #if defined(CONFIG_SYSVIPC)
May somebody tell me what CONFIG_MATHEMU really does ?
	--Thomas Pornin
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/