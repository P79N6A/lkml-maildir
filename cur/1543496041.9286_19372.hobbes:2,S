Date: Mon, 17 May 1999 13:48:41 +0200
From: Jan Kara <>
Subject: Quota file format proposal
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/17/147

  Hello.
  So 2.3 is out and so we can start implementing new quota file format. My proposal is following:
struct quota_file_header {
  u32 qfh_Magic;
  u32 qfh_Version;
};
qfh_Magic would identify quota file so we can be sure it is really ours... Currently we will use 2 magics
- for user and for group quota file.
qfh_Version is I think clear.
struct quota_time_limits {
  u64 qfd_btime;
  u64 qfd_itime;
};
  This entry will specify time limits after which soft-quota becomes hard-quota. Currently this times are
stored in root's structure but as we are going to have capabilities I think it's better to have nonexeptional
structure for UID 0.
struct quota_block {
  u32 qb_curblocks, qb_bhardlimit, qb_bsoftlimit;
  same for inodes
  u64 qb_btime, qb_time;
};
  This is same as it was before except the thing we have 64-bits for time.
  I would propose to have also special structure for inmemory copy of quota_block which would be same as is know -
ie. time_t for times... Maybe uint for limits?
  Any suggestions are welcome?
									Honza.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/