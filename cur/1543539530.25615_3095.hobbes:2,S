Date: Fri, 21 Jul 2000 21:45:56 +0000
From: Mario Vanoni <>
Subject: RE: Linux SMP performance vs. UP: not a laurel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/21/274

WU's are, with (few) exceptions I agree, very constant!
          -----------------------------
UP PII450 512MB RAM, last 40 WU's between 7:32 and 8:11.
And this is a production machine with max 13 users.
UP PIII550 512MB RAM, last 40 WU's between 6:48 and 6:55.
No load machine.
SMP 2xPIII550 1024MB RAM, times between 9:15 and 10:45,
depending on kernel and/or load before. Badest are 2.4.0test!
Rebooting the SMP, starting seti gives the longest times.
Rebooting the SMP, e.g. memtest (Doug Ledford) before
starting any seti, then start seti, times go <=8:45.
But not always reproducible, I ignore why.
This on kernel 2.2.17pre6aa2, same as both UP's.
Other loads do the same effect, it seems when the used
memory is at the upper level _AND_ there was swap (>1000K),
the performance of the seti's is _MUCH_ _MUCH_ better.
My questions:
=============
a) Why an SMP takes >2h more time than an UP with same CPU/RAM?
b) Why starting an SMP the times are so dependent of the
   hypothetical load before running the setis?
c) Why after a _NOT_ _OBVIOUS_, not planned load,
   the next 24h seti are faster, SMP running 24/7.
   Then with another load, e.g. mmap002, they slow down?
I register the values of cputime=??? in state.sah when
a WU is finished, via crontab each minute, on all machines.
Regards
Mario
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/