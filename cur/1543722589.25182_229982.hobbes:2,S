Date: Thu, 24 Jun 2004 12:10:18 -0700
From: "Chen, Kenneth W" <>
Subject: RE: 2.6.7-mm2 build failure
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/24/168

> Begin forwarded message:
>
> Date: Thu, 24 Jun 2004 07:43:58 -0700
> From: "Martin J. Bligh" <mbligh@aracnet.com>
> To: Andrew Morton <akpm@osdl.org>
> Cc: linux-kernel <linux-kernel@vger.kernel.org>
> Subject: 2.6.7-mm2 build failure
>
>
> drivers/base/node.c: In function `node_read_meminfo':
> drivers/base/node.c:56: warning: implicit declaration of function
> `hugetlb_report_node_meminfo'
> drivers/built-in.o(.text+0x1f615): In function `node_read_meminfo':
> : undefined reference to `hugetlb_report_node_meminfo'
> make: *** [.tmp_vmlinux1] Error 1
>
> Hmmm. I wonder if anyone tested that patch ;-)
>
Sorry, missing a #include.  Tested with/without hugetlb config'ed.  Previous
patch was tested with hugetlb page configured.
diff -Nur linux-2.6.7.orig/drivers/base/node.c linux-2.6.7/drivers/base/node.c
--- linux-2.6.7.orig/drivers/base/node.c	2004-06-15 22:18:59.000000000 -0700
+++ linux-2.6.7/drivers/base/node.c	2004-06-24 12:01:48.000000000 -0700
@@ -7,6 +7,7 @@
 #include <linux/init.h>
 #include <linux/mm.h>
 #include <linux/node.h>
+#include <linux/hugetlb.h>
 #include <linux/cpumask.h>
 #include <linux/topology.h>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/