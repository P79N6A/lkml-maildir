Date: Sun, 23 Jun 2002 15:59:03 +0200
From: Rudmer van Dijk <>
Subject: Re: build failure for 2.5.24-dj1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/23/26

On Sunday 23 June 2002 14:37, Andries Brouwer wrote:
> On Sun, Jun 23, 2002 at 01:43:32PM +0200, Rudmer van Dijk wrote:
> > upon inspection I found that with 'make mrproper'
> > drivers/char/defkeymap.c is removed which it did not do in earlier
> > kernels.
> > on my system 'loadkeys' is not installed because i did not have the kdb
> > package installed (I did not need it). looking in Documentation/Changes
> > of 2.5.24-dj1 I could not find any reference to kdb so I think it should
> > be added in the list of neccesary software since it is now!
> >
> > 	Rudmer
> >
> > +o  kdb                    1.06                    # loadkeys --version
>
> (i) It is a bug to regard drivers/char/defkeymap.c as a generated file.
> Every now and then something is changed (sticky keys were added, etc)
> and a new table can only be generated by a new loadkeys.
>
> So, the person who makes the change changes the kernel headers in his
> own tree, recompiles loadkeys against these new headers, generates
> the new defkeymap.c. This new defkeymap.c is distributed as part of
> the kernel source.
>
> It will take a long time before the whole world has a new loadkeys,
> so it is unreasonable to expect that everybody can generate defkeymap.c
> when there have been changes.
then it is a bug that defkeymap.c is removed and must be (re)generated to get 
the kernel compiled.
the removal of defkeymap.c is added in 2.5.24
in toplevel Makefile to CLEAN_FILES and the file itself is also removed by 
applying the patch.
	Rudmer
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/