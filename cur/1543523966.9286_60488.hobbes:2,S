Date: Sat, 29 Jan 2000 14:36:11 +0530 (IST)
From: Koushik Chakraborty <>
Subject: System Call
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/29/116

Hi,
  I am trying to build a new system call which needs to perform a 'read'
on a TCP socket. Now when we call read , the system call goes through
sock_read,sock_recvmsg etc .. through to tcp_recvmsg where the data is
actually copied in another function called by tcp_recvmsg ..
memcpy_toiovec. However, in this special case I need the "memcpy_toiovec"
to perform in a slightly different manner. However, all along these calls
no actor is taken as argument so tcp_recvmsg will always call
memcpy_toiovec. I tried to pass a negative "count" paramter during calling
read .. however, this gets mapped to 0 in sock_read and the call returns
0. 
I would like to if there is anyway I can detect when memcpy_iovec is
called that it is coming as a consequence of my system call so that I can
process the data in a different manner ? I don't want to change the
prototype of all the function in between as that would be extremely messy.
Thanks in Advance,
Koushik.
***********************************************************************
 Koushik Chakraborty                                
 Senior Undergraduate,                          
 Dept. of Computer Science and Engineering.   
 Indian Institute of Technology,Kanpur        
 India.    
 ------------------------------------------------------------------
 Contact Address :-                              E-mail :
  Room no. A111, Hall - 1                         kchak@iitk.ac.in.     
  IIT Kanpur,                                     kchak@mailcity.com  
  Pin 208016.
  India.   
***********************************************************************
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/