Date: Sat, 04 Dec 2004 16:47:45 -0500
From: Giridhar Pemmasani <>
Subject: Re: Linux 2.6.10-rc3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/4/68

Alex Romosan wrote:
> Ari Pollak <aripollak@gmail.com> writes:
> 
> i saw there were some changes to alsa cvs having to do with the new
> pci device handling. i'll reconfigure the kernel with alsa as modules
> and try alsa cvs to see if that makes any difference. thanks.
> 
I have been using the following patch for a while with no problems:
--- linux/sound/pci/intel8x0.c 2004-12-04 16:37:11.000000000 -0500
+++ linux/sound/pci/intel8x0.c 2004-12-04 04:47:14.000000000 -0500
@@ -2279,6 +2279,8 @@
  for (i = 0; i < 3; i++)
   if (chip->ac97[i])
    snd_ac97_suspend(chip->ac97[i]);
+ pci_save_state(chip->pci);
+ pci_disable_device(chip->pci);
  snd_power_change_state(card, SNDRV_CTL_POWER_D3hot);
  return 0;
 }
@@ -2289,6 +2291,7 @@
  int i;
 
  pci_enable_device(chip->pci);
+ pci_restore_state(chip->pci);
  pci_set_master(chip->pci);
  snd_intel8x0_chip_init(chip, 0);
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/