Date: Tue, 8 Aug 2006 10:07:08 +0200
From: "Koeller, T." <>
Subject: RE: 2.6.18-rc4 jffs2 problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/8/49

> From: linux-mtd-bounces@lists.infradead.org 
> [mailto:linux-mtd-bounces@lists.infradead.org] On Behalf Of 
> Artem B. Bityutskiy
> Sent: Tuesday, August 08, 2006 9:15 AM
> To: Richard Purdie
> Cc: linux-mtd; LKML
> Subject: Re: 2.6.18-rc4 jffs2 problems
> 
> Richard Purdie wrote:
> > JFFS2 error: (472) jffs2_get_inode_nodes: short read at 
> 0x074e84: 68 instead of 380.
> > JFFS2 error: (472) jffs2_do_read_inode_internal: cannot 
> read nodes for ino 153, returned error is -5
> > 
> This looks like an MTD problem, not JFFS2.
> 
> Try to reproduce this on the mtdram flash emulator. Also, 
> please, check 
> if mtd->writesize is correct at your setup (I suppose your 
> flash is NOR 
> and it has to be 1).
> 
> -- 
> Best Regards,
> Artem B. Bityutskiy,
> St.-Petersburg, Russia.
> 
> ______________________________________________________
> Linux MTD discussion mailing list
> 
http://lists.infradead.org/mailman/listinfo/linux-mtd/
> 
I am currently updating a nand flash driver that used to work
with kernel 2.6.16-rc4 to current git. Doing so, I encountered
exactly this problem, but suspected a problem with my driver,
of course. However, so far I have not been able to find out
what's wrong. Another symptom I observed is that when doing
'ls -l /dev/mtdblock0', the size displayed is zero.
tk
----------------------------------------------- 
Thomas Koeller, Software Development 
Basler Vision Technologies 
An der Strusbek 60-62 
22926 Ahrensburg 
Germany 
Tel +49 (4102) 463-390 
Fax +49 (4102) 463-46390
mailto:Thomas.Koeller@baslerweb.com 
http://www.baslerweb.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/