Date: Wed, 27 Jul 2005 10:22:58 +1000
From: Nick Piggin <>
Subject: Re: [patch 0/6] remove PageReserved
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/26/329

Kumar Gala wrote:
>>
>> Most of the arch code is just reserved memory reporting, which
>> isn't very interesting and could easily be removed. Some arch users
>> are a bit more subtle, however they *should not* break, because all
>> the places that set and clear PageReserved are basically intact.
>
>
> What is the desired fix look like for arch users?
>
It really depends on how it is used.
Firstly, we want to retain all the places that do SetPageReserved and
ClearPageReserved to ensure that remaining places that test PageReserved
will continue to work.
So users of PageReserved need to be removed. For example, on i386 this
is simply reserved memory accounting - which isn't very meaningful and
can probably be simply deleted. i386 ioremap also tests PageReserved to
ensure it isn't remapping usable RAM, which is a similar need to swsusp's,
so one solution would likely cover that ioremap and swsusp.
For now, the main thing to keep in mind is to not add a new user of
PageReserved. We can start looking at how to cut down existing users when
the core patch gets into -mm or further upstream.
Nick
Send instant messages to your online friends 
http://au.messenger.yahoo.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/