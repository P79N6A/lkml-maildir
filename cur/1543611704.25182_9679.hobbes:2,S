Date: Sun, 02 Dec 2001 22:54:34 +1100
From: Keith Owens <>
Subject: Re: PATCH 2.4.17.2: make ext2 smaller
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/2/51

On Sun, 02 Dec 2001 06:31:17 -0500, 
Jeff Garzik <jgarzik@mandrakesoft.com> wrote:
>Simply, all ext2 files are #include'd into a single file, ext2_all.c,
>and all functions and data structures are declared static.
I like it.  With kbuild 2.5 the generation of ext2_all.c (I prefer
ext2_static.c) can be automated.
objlink(ext2.o balloc.o bitmap.o dir.o file.o fsync.o ialloc.o inode.o ioctl.o
        namei.o super.o symlink.o)
select(CONFIG_EXT2_FS ext2.o)
make_static(ext2)
make_static(xxxx), which does not exist yet -
* Checks if CONFIG_MAKE_STATIC is set.
* Takes the objlink information from the kbuild 2.5 database.
* Automatically creates xxxx_static.c as a series of #include
  statements for the source files derived from objlink.
* Replaces the objlink data with objlink(xxxx.o xxxx_static.o).
* Compiles xxxx_static.c with -DXXXX_STATIC=static.
The code that is normally linked into xxxx.o has to be manually changed
to add XXXX_STATIC before a make_static(xxxx) command can be added.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/