Date: Sun, 16 Sep 2001 22:01:41 -0400
From: Frank Davis <>
Subject: [PATCH] 2.4.9-ac11: fs/jffs/inode-v23.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/16/75

Hello,
     The following patch fixes the following compile error with 
2.4.9-ac11 . Please test. Thanks.
depmod: *** Unresolved symbols in 
/lib/modules/2.4.9-ac11/kernel/fs/jffs/jffs.o
depmod: jffs_min
Regards,
Frank
--- fs/jffs/inode-v23.c.old	Sun Sep 16 17:50:01 2001
+++ fs/jffs/inode-v23.c	Sun Sep 16 21:20:58 2001
@@ -1375,7 +1375,7 @@
 	 * -- prumpf
 	 */
 	
-	thiscount = jffs_min(c->fmc->max_chunk_size - sizeof(struct jffs_raw_inode), count);
+	thiscount = min(c->fmc->max_chunk_size - sizeof(struct jffs_raw_inode), count);
 
 	D3(printk (KERN_NOTICE "file_write(): down biglock\n"));
 	down(&c->fmc->biglock);
@@ -1466,7 +1466,7 @@
 
 		D3(printk("jffs_file_write(): new f_pos %ld.\n", (long)pos));
 
-		thiscount = jffs_min(c->fmc->max_chunk_size - sizeof(struct jffs_raw_inode), count);
+		thiscount = min(c->fmc->max_chunk_size - sizeof(struct jffs_raw_inode), count);
 	}
  out:
 	D3(printk (KERN_NOTICE "file_write(): up biglock\n"));