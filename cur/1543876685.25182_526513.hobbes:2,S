Date: Tue, 3 Apr 2007 09:35:20 +0530
From: Vivek Goyal <>
Subject: Re: 2.6.21-rc5-mm3 - no boot, "address not 2M aligned"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/3/2

On Mon, Apr 02, 2007 at 04:59:26PM +0200, thunder7@xs4all.nl wrote:
> From: thunder7@xs4all.nl <thunder7@xs4all.nl>
> Date: Mon, Apr 02, 2007 at 04:49:14PM +0200
> > 
> > I used a working 2.6.21-rc3-mm2 tree, patched it up to 2.6.21-rc5-mm3
> > and applied your patch. I ended up with the .config later in this email,
> > and got this error:
> > 
> >   CC      arch/x86_64/kernel/head64.o
> > arch/x86_64/kernel/head64.c: In function 'x86_64_start_kernel':
> > arch/x86_64/kernel/head64.c:70: error: size of array 'type name' is negative
> > make[1]: *** [arch/x86_64/kernel/head64.o] Error 1
> > make: *** [arch/x86_64/kernel] Error 2
> > 
> > After reverting your patch, the build didn't fail, but of course the
> > kernel won't build.
> > 
> That should, of course, read 'kernel won't boot'.
> 
I agree that error message is not very clear. It is just an indication that
there is a problem on line 70 in head64.c. That's why I have put a
commet there so that anybody can make out that CONFIG_PHYSICAL_START
is not 2MB aligned hence the failure.
Unfortunately, Kconfig infrastrucutre does not allow to place alignment
restrictions on the values. Otherwise that would have been the best
solution.
So we still have detected the problem at compilation time in a little
indirect manner though.
Thanks
Vivek
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/