Date: Tue, 1 Jun 1999 15:21:31 -0700 (PDT)
From: (Scott Lurndal)
Subject: RH6 and lilo - kernel too big  [mail.linux-kernel]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/1/152

> ------ Forwarded Article <7is5lt$hm9rf@fido.engr.sgi.com>
>  ----- From Dave Helton <root@goliath.kd0yu.com>
> Alan,  Have tried bzImage and come up with a kernel size of 471K. Made the
> necessary entries in lilo.conf and it still says 'kernel to big'.
> Have pared down the kernel to just the basics, most everything is compiled
> as modules.  Using ram disk/initrd for scsi stuff and ext2 in the
> kernel itself, thats it!
> This is just weird.  I had this problem with 5.2 some time back and don't
> remember what the fix was.  
> I see that the stock 2.2.5-15 kernel is 617K and lilo doesn't complain
> about it.  Would a previous version of lilo fix this or is that pointless.
-- Dave
------ End of Forwarded Article
This error happens when the amount of heap allowed to the 
unzip code in the boot loader is exceeded.   To work around
this problem (which I had to do for the kernel debugger) you
must bump the HEAP_SIZE macro in boot/compressed/misc.c by 
4096 bytes.
(e.g. change to:
#define HEAP_SIZE             0x3000
from:
 
#define HEAP_SIZE             0x2000
scott
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/