Date: Thu, 1 Jul 1999 17:44:28 -0700
From: "David S. Miller" <>
Subject: Re: Linux 2.2.10ac6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/1/201

The drivers/char/Makefile change breaks Sparc builds.
The original code wished to add in defkeymap/keyboard if Sparc && PCI,
Ralf did not think at all and broke that.  So the keyboard.o rules
should instead read (I fixed this when he merged his MIPS stuff into
VGER 2.3.x btw, and now I'm fixing it a second time, and in fact as
soon as I saw "mips merge" I knew this bug was going to be there):
ifndef CONFIG_DECSTATION
ifndef CONFIG_BAGET_MIPS
ifndef CONFIG_SUN_KEYBOARD
ifdef CONFIG_VT
LX_OBJS += keyboard.o
endif
 ifneq ($(ARCH),m68k)
   L_OBJS += pc_keyb.o defkeymap.o
 endif
else
ifdef CONFIG_PCI
L_OBJS += defkeymap.o
LX_OBJS += keyboard.o
endif
endif
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/