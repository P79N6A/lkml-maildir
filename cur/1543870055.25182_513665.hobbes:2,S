Date: Wed, 28 Feb 2007 00:36:52 +0100
From: Johannes Berg <>
Subject: Re: Problem with freezable workqueues
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/27/318

On Wed, 2007-02-28 at 02:28 +0300, Oleg Nesterov wrote:
> Ugh. I know nothing, nothing, nothing about suspend. I'll try to guess.
> 
>    Commit: ed746e3b18f4df18afa3763155972c5835f284c5
> Yes? with the patch above, _cpu_down() called _after_ freeze_processes() ???
perfect :)
See also my original mail and the thread:
http://thread.gmane.org/gmane.linux.power-management.general/4314
> How about other kthread_stop()s ? For example, kernel/softirq.c:cpu_callback() ?
I'd they should be affected as well. For me, I guess I haven't run into
them because xfs is enough to freeze the box ;) As for Rafael, I don't
know why he isn't seeing that... I haven't been able to test this patch
on my quad powermac so far unfortunately, been sick and away from the
machine. I'll probably be able to test tomorrow.
> I think we need a general "cpu_down() after freeze" implementation,
Yeah, I'd think so.
>  this is what
> Gautham and Srivatsa are working on, right?
That I don't know.
johannes
[unhandled content-type:application/pgp-signature]