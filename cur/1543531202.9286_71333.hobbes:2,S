Date: Tue, 21 Mar 2000 16:26:04 -0500 (EST)
From: Jason Sodergren <>
Subject: [patch] AMD SC400 support, kernel 2.3.99
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/21/283

Hi, everyone.
This is a trivial patch against 2.3.99 that adds optional timer correction
for the AMD SC400/SC410 processors.
These processors use a 1.892MHz clock as the input to the 8253 PIT
instead of the usual 1.9318MHz clock.  The 8253 and clock generation PLLs
are internal to the CPU, thus not system dependant.  This patch results in
correct timekeeping on these processors.
======== begin sc400.diff =================
diff -r linux/arch/i386/config.in linux-2.3.99/arch/i386/config.in
35a36,39
> if [ "$CONFIG_M486" = "y" ]; then
>    bool 'AMD SC400/SC410 support' CONFIG_AMD_SC400
> fi
> 
diff -r linux/include/asm-i386/timex.h linux-2.3.99/include/asm-i386/timex.h
12c12,17
< #define CLOCK_TICK_RATE	1193180 /* Underlying HZ */
---
> #ifdef CONFIG_AMD_SC400
> #define CLOCK_TICK_RATE	1189200 /* Underlying HZ on AMD SC400/SC410 */
> #else
> #define CLOCK_TICK_RATE 1193180 /* Underlying HZ */
> #endif
> 
======== end sc400.diff =================
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/