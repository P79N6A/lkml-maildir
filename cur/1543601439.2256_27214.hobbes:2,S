Date: Tue, 18 Sep 2001 10:50:49 -0500
From: Bob McElrath <>
Subject: Re: /proc/partitions hosed in 2.4.9-ac10
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/18/92

Hubert Mantel [mantel@suse.de] wrote:
> Hi,
> 
> On Mon, Sep 17, Colonel wrote:
> 
> > >$ cat /proc/partitions
> 
> [...]
> 
> > Works fine here:
> 
> [...]
> 
> > SCSI subsystem driver Revision: 1.00
> > sym53c8xx: at PCI bus 0, device 9, function 0
> > sym53c8xx: setting PCI_COMMAND_PARITY...(fix-up)
> > sym53c8xx: 53c875 detected with Symbios NVRAM
> > sym53c8xx: at PCI bus 0, device 9, function 1
> > 
> > 
> > Perhaps it is a driver effect?
> 
> You only have one single SCSI adapter?
> 
> I tried several things so far, and it seems you need the following to 
> trigger the problem: You need at least two SCSI adapters that require 
> different drivers (so two AHA2940s are not sufficient) and the drivers 
> need to be loaded as modules.
I have a BusLogic BT-958 (compiled in), pas16 (module), and usb-storage
(module).
The problem shows up with only the BusLogic scsi device, and the other
modules not loaded.  (And it also shows up with 2 or more scsi drivers
loaded)  Note that on this machine the pas16 and usb-storage modules
*were* installed, I removed them, and /proc/partitions still looped.  (I
can't readily reboot ATM)
Hope this helps,
-- Bob
Bob McElrath (rsmcelrath@students.wisc.edu) 
Univ. of Wisconsin at Madison, Department of Physics
[unhandled content-type:application/pgp-signature]