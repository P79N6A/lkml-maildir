Date: Fri, 22 Feb 2008 15:46:46 +0100
From: Jiri Slaby <>
Subject: [PATCH 19/19] Char: moxa, notify about board readiness
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/22/193

Drop a message to dmesg about card being ready.
Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
Tested-by: Oyvind Aabling <Oyvind.Aabling@uni-c.dk>
---
 drivers/char/moxa.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)
diff --git a/drivers/char/moxa.c b/drivers/char/moxa.c
index ee8b821..4d595db 100644
--- a/drivers/char/moxa.c
+++ b/drivers/char/moxa.c
@@ -961,6 +961,9 @@ static int __devinit moxa_pci_probe(struct pci_dev *pdev,
 
 	pci_set_drvdata(pdev, board);
 
+	dev_info(&pdev->dev, "board '%s' ready (%u ports, firmware loaded)\n",
+			moxa_brdname[board_type - 1], board->numPorts);
+
 	return 0;
 err_base:
 	iounmap(board->basemem);
@@ -1046,6 +1049,10 @@ static int __init moxa_init(void)
 				continue;
 			}
 
+			printk(KERN_INFO "MOXA isa board found at 0x%.8lu and "
+					"ready (%u ports, firmware loaded)\n",
+					baseaddr[i], brd->numPorts);
+
 			brd++;
 			isabrds++;
 		}
-- 
1.5.4.1