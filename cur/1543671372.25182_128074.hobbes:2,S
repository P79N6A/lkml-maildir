Date: Sat, 26 Apr 2003 12:33:56 +0200
From: Tobias Brox <>
Subject: Re: PROBLEM: nfsroot.c + ipconfig.c (2.4.20)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/26/22

[Trond Myklebust - Wed at 06:33:39PM +0200]
> 
ftp://ftp.uninett.no/pub/linux/docs/HOWTO/mini/NFS-Root
I'm pretty sure my problems stems from something fishy in the kernel
code, not simply because I don't know what I'm doing.
The FAQ above is not much up-to-date, either.  I have a creeping
feeling that the nfsroot feature is not much used together with the
more recent kernel versions, as most modern computers are equipped
with harddisks.  I'd like to hear success-stories from people that
have managed to do a diskless boot with a kernel of version 2.4.20 or
more recent.
According to a an earlier mail to this list (available at
http://www.geocrawler.com/archives/3/35/2001/6/0/6079479/
 ) ipconfig
should be called from init/main.c:checksetup() - I can say for sure
that this does not take place, regardless of what options I feed the
kernel with.
In the 2.5.66-version of the kernel, the function above has been
renamed to obsolete_checksetup.
When booting up with 2.5.66, it also fails to load the network driver
in time.  I know I have compiled the right driver into the kernel (and
not as a module).
-- 
Check our new Mobster game at 
http://hstudd.cs.uit.no/mobster/
(web game, updates every 4th hour, no payment, no commercials)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/