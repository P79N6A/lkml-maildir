Date: Wed, 07 May 2008 12:24:17 -0700
From: Harvey Harrison <>
Subject: Re: [PATCH 2/2] lib: vsprintf.c remove macros defining strict string functions
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/7/240

On Wed, 2008-05-07 at 12:20 -0700, Harvey Harrison wrote:
> On Thu, 2008-05-08 at 00:09 +0400, Alexey Dobriyan wrote:
> > On Wed, May 07, 2008 at 11:25:29AM -0700, Harvey Harrison wrote:
> > > Directly code the strict string conversion functions rather than using
> > > defining macros.  Pull out a small helper to check the strict conditions
> > > required at the end of a string (nul-terminated or newline).
> > 
> > > Add additional checks in strict_strtol and strict_strtoll for numeric
> > > overflow of the signed types.
> > 
> > C interer ranges are asymmetric.
> 
> Yes, and LLONG_MAX = -LLONG_MIN + 1...so it will reject string values
> of LLONG_MIN...easily fixed if we want it I guess.
Missed the braces above obviously....but the point stands.
Harvey