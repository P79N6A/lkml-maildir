Date: Sat, 26 Oct 2002 11:37:18 +0100
From: robert w hall <>
Subject: Re: loadlin with 2.5.?? kernels
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/26/53

In article <m1vg3plfi7.fsf@frodo.biederman.org>, Eric W. Biederman
<ebiederm@xmission.com> writes
>Mike Galbraith <efault@gmx.de> writes:
>
>> At 11:20 PM 10/25/2002 -0600, Eric W. Biederman wrote:
>> >Mike Galbraith <efault@gmx.de> writes:
>> >
>> > > I went back and double-checked my loadlin version, and it turned out I was
>> > > actually using 1.6a due to a fat finger.  Version 1.6c booted fine (only 
>one
>> 
>> > > kernel tested) without Eric's help.  1.6a definitely needs Eric's help to
>> > boot.
>> >
>> >Darn.  I guess the arguments for my patch may not be quite as good,
>> >but I still think it may be worth while.
>> 
>> Well, cleanup is always a pretty fine argument.  Since there only seem to be 
>two
>> 
>> of us loadlin users, you probably didn't loose much argument wise ;-) The 
>other
>> 
>> loadlin user reported failure at .38, so maybe your patch is needed sometimes
>> even with loadlin-1.6c.  (other loadlin user listening?)
>
>Robert thanks for your reply.
(oops this thread is a bit messy now - sorry, I originally intended to
post  off-list, [so as not to parade my ignorance in this august forum
:-) ], and made a cockup of withdrawing a post to LK)
>
>I just looked at what the loadlin 1.6c code does, and it's heuristic
>is just slightly more reliable.  It assumes %ds is %cs+8.... 
well that relationship has held for about 9 years, so it was a fairly
safe bet when Hans was trying to fix 1.6a for win4lin :-)
> That
>happens to work but there is nothing in the kernel keeping that from
>being broken.  So in practice it looks to be worthwhile to stabilize 
>this interface.
agreed - 
/ignorant query/
but if you aim for too much generality are you not eventually going to
need Hans Lermen to revisit his loadlin version of the startup code
(which is based in part on old code from head.S & misc.c of course)?
//
>  So loadlin, and other bootloaders can work by design
>and not by chance.
might also be worth checking out linlod (which still is only a beta I
think) needs to run
>
>Eric
Bob
-- 
robert w hall
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/