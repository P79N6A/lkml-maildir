Date: Thu, 11 Dec 2003 15:39:36 +0000 (GMT)
From: Hugh Dickins <>
Subject: Re: 2.4.23 + tmpfs: where's my mem?!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/11/152

On Thu, 11 Dec 2003, Mario 'BitKoenig' Holbe wrote:
> > Hugh Dickins <hugh@veritas.com> writes:
> >> But the strange thing is that df's Used does not match du: they should
> >> be identical, though arrived at from different directions.  I've not
> 
> No, they are not identical and should not be.
> 
> Unlike df, which reads the used counter from the filesystem
> meta information, du iterates over files within directories.
> 
> If you have a file without a name (created, still open, all
> links removed), it does not exist in any directory but it
> does exist in the filesystem. So df should show the space
> used for it, while du should not.
Yes, of course, you and Willy are right, and the only mystery is
how I could make a mystery of it while already knowing what you've
explained well here.  Thanks!
Hugh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/