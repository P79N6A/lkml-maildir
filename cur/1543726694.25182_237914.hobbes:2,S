Date: Sun, 1 Aug 2004 15:22:17 +0200 (MEST)
From: Geert Uytterhoeven <>
Subject: Re: [PATCH] Fix up return value from dio_find() (fixing a FIXME)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/1/50

On Sat, 31 Jul 2004, Jesper Juhl wrote:
> Here's a patch to fix up this FIXME in drivers/dio/dio.c:dio_find() :
>
> * Aargh: we use 0 for an error return code, but select code 0 exists!
> * FIXME (trivial, use -1, but requires changes to all the drivers :-< )
> */
>
> I've changed the return value to -1 as suggested by the comment, and then
> went looking for the drivers that needed to be changed (as the comment
> mentions). I only found two users of dio_find() and I've fixed those up to
> not treat 0 as an error, but only values <0.
> The FIXME implies (to me at least) that there are many drivers that would
> need to be changed, but I could only find two - did I miss anything?
> Also, I don't have the hardware to test the drivers I've changed, so I've
> done compile testing only - could someone please review my changes and
> confirm if they are correct?
I guess most of these are already covered by Kars' patch at the URL below?
    
http://linux-m68k-cvs.ubb.ca/~geert/linux-m68k-2.6.x-merging/474-dio.diff
Gr{oetje,eeting}s,
						Geert
--
Geert Uytterhoeven -- There's lots of Linux beyond ia32 -- geert@linux-m68k.org
In personal conversations with technical people, I call myself a hacker. But
when I'm talking to journalists I just say "programmer" or something like that.
							    -- Linus Torvalds
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/