Date: Mon, 21 Jun 2004 16:56:50 -0300
From: Marcelo Tosatti <>
Subject: Re: kswapd problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/21/163

On Sat, Jun 12, 2004 at 03:32:47PM +0000, Ramy M. Hassan wrote:
> 
> kswapd and kupdated are causing our production server to
> completely freezeup for few seconds every now and then.
> The server is running kernel 2.4.26SMP on a Dual Xeon 2.20GHz
> with 4GB RAM, 900GB FC RAID Qlogic HBA using driver qla2300.o
> and reiserfs.
> The RAID filesystem contains millions of files in thousands of
> directories.
> The system is under fair load. Normally the load avarage is
> about 3 and everything works properly, but suddenly the system
> stops responding except to ping, and stay freezed for about 20
> seconds, during that time I can not even type anything, then the
> system becomes responsive again and I see the load avarge over
> 250 and starts to decrease till it is back to 3 , then few
> minutes later that same thing is repeated.
> I noticed that at the time of the freezups both kswapd and
> kupdated are the most active processes each consuming over 30%
> of the CPU ( kswapd is usually more than kupdated )
Hi Ramy,
Can you get us some more data when this happens?
What are the size's of the page lists (/proc/meminfo) when the freeze happens, 
can you capture that?
Also leave vmstat running in the background.
If you are willing to debug I'm sure we will be able to find the 
reason for the problem.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/