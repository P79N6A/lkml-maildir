Date: Thu, 10 Jun 2004 15:07:12 -0400 (EDT)
From: Ricky Beam <>
Subject: Re: Serial ATA (SATA) on Linux status report (2.6.x mainstream plan for AHCI and iswraid??)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/10/131

On Thu, 10 Jun 2004, Jeff Garzik wrote:
>Have you tried Carl-Daniel's raiddetect?  2.6 does not include
>ataraid-based drivers, preferred a Device Mapper (DM) approach instead.
Have you looked at it lately?  It's a nice start but far from finished.
It will not build an array or tell you how to build one yourself.  (Yet)
And it's completely userland (part of udev) so it's a complicated
initrd-required path.
If you can read code (lkml... I'll assume everyone can), the header files
provide the on-disk metadata, so you can figure out the appropriate dm table
and/or mdadm config to get the job done.  For example:
  mdadm --build /dev/md/d0 --chunk=16 --level=0 --raid-devices=4 /dev/sd[abcd]
or a dm-table:
  0 1250327228 striped 4 32 /dev/sda 0 /dev/sdb 0 /dev/sdc 0 /dev/sdd 0
works for me (4x160G SATA drives on a SI3114 in raid0 mode.)  The same
md setup can be done via the kernel cmdline to boot into the array.
However, there aren't any code pieces in the kernel for reading any of
the various ataraid metadata formats and setting things up. (again, /yet/)
--Ricky
PS: Only the "dm" version is 100% safe.  /dev/md/d0 exposes the entire
    disk, metadata sectors included.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/