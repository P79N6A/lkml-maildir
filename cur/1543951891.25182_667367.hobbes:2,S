Date: Thu, 13 Mar 2008 22:04:11 +0100
From: Pavel Machek <>
Subject: Re: pm_register() and pm_send_all()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/13/354

On Thu 2008-03-13 21:54:58, Rafael J. Wysocki wrote:
> On Thursday, 13 of March 2008, Pavel Machek wrote:
> > On Wed 2008-03-12 15:00:42, Andrew Morton wrote:
> > > 
> > > This:
> > > 
> > > kernel/power/pm.c:203: warning: 'pm_register' is deprecated (declared at kernel/power/pm.c:62)
> > > kernel/power/pm.c:203: warning: 'pm_register' is deprecated (declared at kernel/power/pm.c:62)
> > > kernel/power/pm.c:204: warning: 'pm_send_all' is deprecated (declared at kernel/power/pm.c:178)
> > > kernel/power/pm.c:204: warning: 'pm_send_all' is deprecated (declared at kernel/power/pm.c:178)
> > > 
> > > is getting a bit boring.  These were marked deprecated at least three years
> > > ago.
> > > 
> > > 
> > > pm_register() no longer has any callers and afacit can be removed
> > > immediately.
> > > 
> > > pm_send_all() has just a handful of callers:
> > > 
> > > arch/x86/kernel/apm_32.c
> > > arch/mips/au1000/common/power.c
> > > arch/frv/kernel/pm.c
> > 
> > AFAICT pm_send_all is a nop when noone uses pm_register...
> 
> Apparently on 2.6.24 it's not used anywehere, at least according to LXR.
> 
> > Hmm.. can we just force CONFIG_PM_LEGACY=n, and see what happens?
> 
> Do you want me to push this patch and the following one from Ralf to
> Len?
Yes... I think we can kill pm_send_all etc...
-- 
(english) 
http://www.livejournal.com/~pavelmachek
(cesky, pictures) 
http://atrey.karlin.mff.cuni.cz/~pavel/picture/horses/blog.html
pomozte zachranit klanovicky les:  
http://www.ujezdskystrom.info/