Date: Wed, 13 Jun 2007 12:15:13 -0400
From: Dave Jones <>
Subject: Re: I815 suddenly unkown to agpgart?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/13/163

On Wed, Jun 13, 2007 at 12:01:52PM -0400, Dave Jones wrote:
 > On Wed, Jun 13, 2007 at 06:07:42PM +0300, Meelis Roos wrote:
 >  > agpgart: Unsupported Intel chipset(device id: 1130)
 > 
 > This is likely due to 9614ece14f23f2ce54a076c471aec9c91e51e79c
 > 
 >     [AGPGART] intel_agp: use table for device probe
 > 
 >     Fixed issues noted by Christoph Hellwig, and I changed device table
 >     scan a bit to allow the case that some models of graphics chips may
 >     have same host bridge type. This type of chip will be added in the future.
 > 
 >     This patch cleans up device probe function. Eric Anholt was the original author.
 > 
 > Eric ?
Oh, we have this check in find_gmch ..
        if (gmch_device && PCI_FUNC(gmch_device->devfn) != 0) {
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Which isn't going to work, as Meelis has a gmch on device0, slot0, devfn1.
Meelis, does it start working again if you change that to just
	if (gmch_Device) {
?
	Dave
-- 
http://www.codemonkey.org.uk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/