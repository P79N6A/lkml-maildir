Date: Sun, 25 Sep 2005 21:37:22 +0200
From: Pierre Ossman <>
Subject: Re: [PATCH] [MMC] wbsd: use dma_alloc insted of kmalloc
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/25/95

Christoph Hellwig wrote:
> On Sun, Sep 25, 2005 at 09:16:23PM +0200, Pierre Ossman wrote:
> 
>>x86_64 doesn't seem to like being passed pointers allocated using
>>kmalloc to the DMA mapping API.
> 
> 
> How so?  There's not much else that could be passed to dma_map_single.
It kept oopsing on dma_map_single(). I'm guessing it expects som
structures to be present for its IOMMU.
http://list.drzeus.cx/pipermail/wbsd-devel/2005-September/000335.html
> 
> Please try to fix x86_64 instead.
I'm not familiar with the x86_64 IOMMU, I don't even have access to the
hardware. So I figured I'd side-step the problem since there was an API
avaiable that works more reliably.
Andi might be more up to the task?
Rgds
Pierre
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/