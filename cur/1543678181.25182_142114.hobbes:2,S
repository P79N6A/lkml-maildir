Date: Fri, 20 Jun 2003 22:05:54 +0200
From: Jörn Engel <>
Subject: Re: [RFC] Breaking data compatibility with userspace bzlib
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/20/180

On Fri, 20 June 2003 12:48:51 -0700, David Lang wrote:
> 
> he is saying that the memory and CPU requirements to do the bzip
> uncompression are so much larger then what is nessasary to do the gzip
> uncompression that the small amount of space saved is almost never worth
> the cost.
Which is why kernel images usually come as .bz2 today. ;)
Read my first posting, read the source (grep for BZMALLOC, there are
just a few).  It is impossible in it's current state to use less than
roughly 1MB of memory, even though the algorithm doesn't give that
restriction at all.  Drop that down to 280k, the current zlib value
and you won't see a difference in compression ratios for jffs2 at
least.
This might boil down to bzlib merge 100% (minus testing and sending
patches) done and <nifty_name>, which is based on bzlib, just started.
Comments?
Jörn
-- 
Beware of bugs in the above code; I have only proved it correct, but
not tried it.
-- Donald Knuth
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/