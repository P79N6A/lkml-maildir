Date: Fri, 12 Aug 2005 11:11:43 -0600
From: Jim Ramsay <>
Subject: Atyfb questions and issues
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/12/143

I have the following issue.  I am trying to get an ATI Rage XL chip
working on a MIPS-based processor, with a 2.6.11-based kernel from
linux-mips.org.  Now, I know that this was working with a 2.4.25-based
kernel previously.
I seem to get intermittent strange issues, such as the machine
freezing from time to time, but in general I get the following in my
dmesg when I load the atyfb module:
atyfb: using auxiliary register aperture
atyfb: 3D RAGE XL (Mach64 GR, PCI-33MHz) [0x4752 rev 0x27]
atyfb(aty_valid_pll_ct): pllvclk=50 MHz, vclk=25 MHz
atyfb(aty_dsp_gt): dsp_config 0x307c0001, dsp_on_off 0x14fffff0
< Sometimes it will hang here >
atyfb: 512K RESV, 29.498928 MHz XTAL, 230 MHz PLL, 83 Mhz MCLK, 63 MHz XCLK
atyfb: Unsupported xclk source:  7.
< Followed by a number of >
atyfb: vclk out of range
< and >
atyfb: not enough video RAM
< Finally I get >
atyfb: can't set default video mode                                             
atyfb(aty_set_pll_ct): about to program:                                        
pll_ext_cntl=0x0f pll_gen_cntl=0xff pll_vclk_cntl=0xad                          
atyfb(aty_set_pll_ct): setting clock 3 for FeedBackDivider 255, ReferenceDivider
 255, PostDivider 3(0)
< Other times it will hang here >
And that's all I get.
I'm assuming that most of my issues are due to the "Unsupported xclk
source" message.  Any ideas what I can do about this, or where I can
go to learn more about how to make this thing work?
-- 
Jim Ramsay
"Me fail English?  That's unpossible!"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/