Date: Sun, 20 Dec 1998 17:06:07 +0100
From: Alessandro Suardi <>
Subject: Re: NFS ...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/20/56

Pavel Machek wrote:
> 
> Hi!
> 
> > * Performance could be better. A few hundred kB/s should be possible on a
> >   not to busy 10MBit network, should it? I often only saw 40kB/s, but the
> >   server machine was slow (486-100), too. Now with P-150, I see 100kB/s
> >   between two Linux systems, which is still a little low, isn't it?
> 
> Performance definitely should be _much_ better. 486DX4/100 is fast
> enough machine for such tricks. Link is 100Mbit ethernet, everything
> is loaded.
> 
> Tests are done with various big files (>1.5Meg). Speeds are in K/sec
> 
> Server 2.0.X, client 2.0.X
> 
> FTP:
> server pentium/100, client pentium/100: 3700 (cache-cold), 5400
> (cache-hot), 4100 (cache-cold), 4400 (cache-hot)
> 
> NFS:
> server pentium/100, client pentium/100: 1186 [bogus because already in
> clients cache?], 320 (cache-cold)
> 
> Oops, oops, nfs performance is really bad.
> 
Well, laptop P166MMX with 3Com PCMCIA client to my desktop AMD K6-200
 with a cheap ne2k-pci on a RG58 cable copies the binary tarball of my
 test Oracle installation in
[root@dilbert /mnt]# time cp 805bin.tar.gz /tmp
0.08user 14.83system 1:54.38elapsed 13%CPU (0avgtext+0avgdata 0maxresident)k
0inputs+0outputs (80major+10minor)pagefaults 0swaps
so it means
[asuardi@dilbert /tmp]$ ls -l 805bin.tar.gz 
-rw-r--r--   1 root     root     73484970 Dec 20 16:50 805bin.tar.gz
[asuardi@dilbert /tmp]$ bc -ql
73484970/114.38
642463.45514950166112956810
A second attempt finishes in 114.91 seconds. 627KB/s looks nice on a
 cheap home network :) of course there is only me ;)
Client + server are RH5.2 systems with HJ's knfsd-981204.
--alessandro   <asuardi@uninetcom.it> <asuardi@it.oracle.com>
Linux 2.0.36/2.1.131  glibc-2.0.7-29  gcc-2.8.1  binutils-2.9.1.0.15
 "I hate bugs which disappear just as soon as you start trying to
   narrow things down."                  -- Stephen Tweedie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/