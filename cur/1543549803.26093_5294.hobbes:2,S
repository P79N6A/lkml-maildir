Date: Tue, 26 Sep 2000 02:09:04 +0300 (EEST)
From: Jussi Hamalainen <>
Subject: ide-disk: set_multmode?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/25/224

 hdc:hdc: set_multmode: status=0x51 { DriveReady SeekComplete Error }
hdc: set_multmode: error=0x04 { DriveStatusError }
 [PTBL] [523/255/63] hdc1 hdc2
This has been happening at least since 2.2.10. It's probably just
something cosmetic, but shouldn't it still be fixed? Running
vanilla-2.2.16 SMP on i686,
hdc: ST34321A, 4103MB w/128kB Cache, CHS=8894/15/63, (U)DMA
Here's a fix someone on this list suggested some time ago. It seems
to make the symptoms disappear, but I'm not sure wether it fixes the
actual problem. From vanilla-2.2.16:
--- ide-disk.c.orig     Tue Sep 26 01:58:58 2000
+++ ide-disk.c  Tue Sep 26 02:00:36 2000
@@ -856,7 +856,7 @@
                drive->mult_req = INITIAL_MULT_COUNT;
                if (drive->mult_req > id->max_multsect)
                        drive->mult_req = id->max_multsect;
-               if (drive->mult_req || ((id->multsect_valid & 1) &&
id->multsect))
+               if (drive->mult_req && ((id->multsect_valid & 1) &&
id->multsect))
                        drive->special.b.set_multmode = 1;
 #else
                id->multsect = ((id->max_multsect/2) >
1) ? id->max_multsect : 0;
-- 
-=[ Count Zero / TBH - Jussi Hämäläinen - email count@theblah.org ]=-
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/