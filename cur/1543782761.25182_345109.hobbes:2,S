Date: Sun, 28 Aug 2005 10:03:42 -0400
From: Bob Picco <>
Subject: Re: HPET drift question
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/28/23

Pallipadi, Venkatesh wrote:	[Fri Aug 26 2005, 08:53:35PM EDT]
> 
> Yes. Looks like "ti->drift = HPET_DRIFT;" is right here. However, I
> would 
> like to double check this with Bob.
> 
> Thanks,
> Venki
> 
> >-----Original Message-----
> >From: Alex Williamson [mailto:alex.williamson@hp.com] 
> >Sent: Thursday, August 25, 2005 8:17 AM
> >To: Pallipadi, Venkatesh
> >Cc: robert.picco@hp.com; linux-kernel@vger.kernel.org
> >Subject: HPET drift question
> >
> >Hi Venki,
> >
> >   I'm confused by the calculation of the drift value in the hpet
> >driver.  The specs defines the recommended minimum hardware
> >implementation is a frequency drift of 0.05% or 500ppm.  However, the
> >drift passed in when registering with the time interpolator is:
> >
> >ti->drift = ti->frequency * HPET_DRIFT / 1000000;
> >
> >Isn't that absolute number of ticks per second drift?  The time
> >interpolator defines the drift in parts per million.  Shouldn't this
> >simply be:
> >
> >ti->drift = HPET_DRIFT;
> >
> >The current code seems to greatly penalize any hpet timer with greater
> >than a 1MHz frequency.  Thanks,
> >
> >	Alex
> >
> >-- 
> >Alex Williamson                             HP Linux & Open Source Lab
> >
> >
Hi Venki:
Alex and I had an earlier IRC discussion where we agreed that HPET_DRIFT
should be the value.  We were just verifying with you.
thanks,
bob
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/