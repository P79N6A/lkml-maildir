Date: Mon, 19 Apr 1999 20:09:12 +0200
From: Jamie Lokier <>
Subject: Re: Possible security hole? [was: verify_area(...) possible problem]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/19/72

Ralf Baechle wrote:
> This is a known problem, it is pretty much similar to what happened
> under 2.0 for all all architectures, not just the i386 and one of
> reasons for the new user space access stuff introduced from 2.1.4 on.
> Now that only the 386 is still affected just nobody bothered because
> on the 386 there are other funnies left which may make running a
> system used by possibly hostile users a bad idea.
I haven't seen any security warnings against using a 386 for multiple
users.  Should there be one?
Perhaps it would be possible to construct a patch which does this on a 386:
  - Implement read-write semaphores.
  - access_ok() grabs the mm semaphore, read-only, and sets a flag.
  - On exit from system call, if the flag is set it is cleared,
    and the mm read-only semaphore is released.
  - The page fault handler uses the read-only semaphore, otherwise
    deadlock.
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/