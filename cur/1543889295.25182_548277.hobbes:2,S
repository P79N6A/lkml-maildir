Date: Wed, 23 May 2007 10:44:16 -0700
From: "Luck, Tony" <>
Subject: RE: BUG: sleeping function called from invalid context at kernel/fork.c:385
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/23/268

> > Saw this when running strace -f on a script on 2.6.21 on ia64:
> > 
> > BUG: sleeping function called from invalid context at kernel/fork.c:385
> > in_atomic():1, irqs_disabled():0
    ... snip ...
> > I could reproduce it via 'strace -f sleep 1'
> > 
>
> I'd say this is specific to ia64.   Someone would have spotted it on
> x86 by now.
I tried the "strace -f sleep 1" on 2.6.22-rc2, and I didn't see this "BUG"
there.  Can you try your other test cases on the latest kernel.  If it has
already been fixed we can see about identifying the patch for possible backport
to 2.6.21.stable
-Tony
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/