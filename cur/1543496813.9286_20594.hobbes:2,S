Date: Wed, 26 May 1999 14:14:05 +0200
From: Pavel Machek <>
Subject: Re: TTY_FLIPBUF_SIZE too low causing dataloss on too fast serial lines?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/28/27

Hi!
>    I tried implementing 1Mbit irda driver as a tty (same as serials
>    are). I _think_ I've hit the limit of TTY_FLIPBUF_SIZE. Is it
>    possible? I assume flipbufs are flushed every 10ms or so (am I right?);
>    in such case situation is pretty bad: that means 50K/sec max and
>    modern serial ports can do up-to twice as much. From reading sources I
>    _think_ that TTY_FLIPBUF_SIZE can not be easily increased....
> 
> Nope, it can't be easily increased without making some relatively major
> changes to the tty driver.  I've been meaning to do this so that the you
> can use a bigger flip buffer size, where it's necesasry, though.
> 
> One question though is how is your irda driver grabbing the characters?
> Is it grabbing them all at interrupt time, or is it polling like
All at interrupt time. I wonder how do you solve this problem with
serial ports: these days serials can be easily driven at speeds close
to 1Mbit... (I'm talking about dumb on-board serials like NS PC87108).
								Pavel
-- 
The best software in life is free (not shareware)!		Pavel
GCM d? s-: !g p?:+ au- a--@ w+ v- C++@ UL+++ L++ N++ E++ W--- M- Y- R+
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/