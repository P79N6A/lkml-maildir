Date: Fri, 11 Aug 2006 20:29:38 +0200
From: Christian Guggenberger  <>
Subject: Re: Directory corruption
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/11/181

On Fri, Aug 11, 2006 at 08:00:08PM +0200, Jan Engelhardt wrote:
> Hello,
> 
> 
> I was about to (finally!) fix my on-disk corruptions using a new xfsprogs, 
> and this is what I got:
> 
> # xfs_check /dev/hda2
> bad free block nused 1 should be 40 for dir ino 17332222 block 16777216
> bad nblocks 907 for inode 109663513, counted 922
> bad nblocks 849 for inode 109663521, counted 859
> sb_ifree 26084, counted 26080
> sb_fdblocks 1712799, counted 1712761
> user quota id 0, have/exp bc 796381/796369
> group quota id 0, have/exp bc 794376/794364 ic 88214/88212
> group quota id 5, have/exp ic 651/653
> 
> But before I wanted to fix that, I checked which objects were affected
> 
> # find /mnt/hda2ro -inum 109663513 -o -inum 109663521
> /mnt/hda2ro/var/log/kernel
> /mnt/hda2ro/var/log/messages
> Ok so far, but
> 
> # find /mnt/hda2ro -inum 17332222
> 
> Did not turn up anything. Is it an object that is invisible?
>
what does 'xfs_ncheck -i 17332222 /dev/hda2' tell ?
cheers.
 - Christian
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/