Date: Tue, 6 Jan 2009 10:04:22 +0100
From: Sascha Hauer <>
Subject: Re: [PATCH 0/4 v6] i.MX31: dmaengine and framebuffer drivers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/6/56

Hi Guennadi,
On Fri, Dec 26, 2008 at 06:11:13PM +0100, Guennadi Liakhovetski wrote:
> Hi,
> 
> This is version 6 of dmaengine and framebuffer drivers for i.MX31.
> 
> Changes since version 5: as requested by Sascha Hauer switched to dynamic 
> IPU IRQ mapping.
I tried to express that it's really odd that you demux your _internal_
interrupts as chained handlers. Consider a network driver which has a
rx, tx and an error status bit, all of them can trigger an interrupt. A
you aware of a single driver that uses chained interrupts for this
case?
No, they don't have to, because all this happens inside one driver
and this can easily be dispatched in one interrupt handler. IMHO chained
interrupts only make sense when you have an interrupt source which
leaves your driver code and you don't know who might be interested in,
like the assorted non channel interrupts the IPU also provides.
I bet you'd never have the idea for such a code design without the
Freescale code as a sample.
Note that arch/arm/plat-mxc/include/mach/mx31.h does not apply anymore
due to upstream changes.
Sascha
-- 
Pengutronix e.K.                           |                             |
Industrial Linux Solutions                 | 
http://www.pengutronix.de/
  |
Peiner Str. 6-8, 31137 Hildesheim, Germany | Phone: +49-5121-206917-0    |
Amtsgericht Hildesheim, HRA 2686           | Fax:   +49-5121-206917-5555 |