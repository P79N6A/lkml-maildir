Date: Mon, 07 Jan 2008 19:03:46 -0600
From: Robert Hancock <>
Subject: Re: MCFG ACPI patch in git-x86 causes boot regression
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/7/367

Andi Kleen wrote:
> On Mon, Jan 07, 2008 at 05:31:58PM -0600, Robert Hancock wrote:
>> Jesse Barnes wrote:
> 
> Hmm -- I didn't see Jesse's mail? 
> 
>> I believe that such a change is in Greg KH's tree. So -mm (with both 
>> trees) would probably work.
> 
> Yes 2.6.24-rc6-mm1 works, but plain git-x86 does not:
> 
> PCI: MCFG configuration 0: base 4026531840 segment 0 buses 0 - 127
> PCI: MCFG area at f0000000 reserved in ACPI motherboard resources
> PCI: Using MMCONFIG at f0000000 - f7ffffff
At least, I thought it was in Greg's tree, not sure now.. This is the 
patch in -mm:
http://www.kernel.org/pub/linux/kernel/people/akpm/patches/2.6/2.6.24-rc6/2.6.24-rc6-mm1/broken-out/pci-disable-decoding-during-sizing-of-bars.patch
Without this change a bunch of machines fail to boot even without the 
MCFG change (since their MCFG was E820 reserved and so the old 
validation check passed).