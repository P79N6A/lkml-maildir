Date: Wed, 21 Jan 2009 16:17:43 +0100
From: Nick Piggin <>
Subject: Re: [patch] SLQB slab allocator
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/21/207

On Wed, Jan 21, 2009 at 03:59:18PM +0100, Ingo Molnar wrote:
> 
> * Nick Piggin <npiggin@suse.de> wrote:
> 
> > +/*
> > + * Management object for a slab cache.
> > + */
> > +struct kmem_cache {
> > +	unsigned long flags;
> > +	int hiwater;		/* LIFO list high watermark */
> > +	int freebatch;		/* LIFO freelist batch flush size */
> > +	int objsize;		/* The size of an object without meta data */
> > +	int offset;		/* Free pointer offset. */
> > +	int objects;		/* Number of objects in slab */
> > +
> > +	int size;		/* The size of an object including meta data */
> > +	int order;		/* Allocation order */
> > +	gfp_t allocflags;	/* gfp flags to use on allocation */
> > +	unsigned int colour_range;	/* range of colour counter */
> > +	unsigned int colour_off;		/* offset per colour */
> > +	void (*ctor)(void *);
> > +
> 
> Mind if i nitpick a bit about minor style issues? Since this is going to 
> be the next Linux SLAB allocator we might as well do it perfectly :-)
Well, let's not get ahead of ourselves :) But it's very appreciated.
I think most if not all of your suggestions are good ones, although
I probably won't convert to ftrace just for the moment.
I'll come up with an incremental patch....
Thanks,
Nick