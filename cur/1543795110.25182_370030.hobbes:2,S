Date: Wed, 23 Nov 2005 19:26:09 +0100
From: Sam Ravnborg <>
Subject: Re: Linux 2.6.15-rc2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/23/242

On Wed, Nov 23, 2005 at 06:42:37PM +0100, Adrian Bunk wrote:
>  EXTRA_CFLAGS += -I$(src)/..
Wonder if this compiles with O=...
> -ifneq ($(CONFIG_VIDEO_BUF_DVB),n)
> +ifneq ($(CONFIG_VIDEO_BUF_DVB),)
>   EXTRA_CFLAGS += -DHAVE_VIDEO_BUF_DVB=1
>  endif
> -ifneq ($(CONFIG_DVB_CX22702),n)
> +ifneq ($(CONFIG_DVB_CX22702),)
>   EXTRA_CFLAGS += -DHAVE_CX22702=1
>  endif
> -ifneq ($(CONFIG_DVB_OR51132),n)
> +ifneq ($(CONFIG_DVB_OR51132),)
>   EXTRA_CFLAGS += -DHAVE_OR51132=1
>  endif
> -ifneq ($(CONFIG_DVB_LGDT330X),n)
> +ifneq ($(CONFIG_DVB_LGDT330X),)
>   EXTRA_CFLAGS += -DHAVE_LGDT330X=1
>  endif
> -ifneq ($(CONFIG_DVB_MT352),n)
> +ifneq ($(CONFIG_DVB_MT352),)
>   EXTRA_CFLAGS += -DHAVE_MT352=1
>  endif
> -ifneq ($(CONFIG_DVB_NXT200X),n)
> +ifneq ($(CONFIG_DVB_NXT200X),)
>   EXTRA_CFLAGS += -DHAVE_NXT200X=1
>  endif
> -
If we stick with HAVE_XXX then please use following style:
extra-cflags-$(CONFIG_VIDEO_BUF_DVB) += -DHAVE_VIDEO_BUF_DVB=1
extra-cflags-$(CONFIG_DVB_CX22702)   += -DHAVE_CX22702=1
extra-cflags-$(CONFIG_DVB_OR51132)   += -DHAVE_OR51132=1
extra-cflags-$(CONFIG_DVB_LGDT330X)  += -DHAVE_LGDT330X=1
extra-cflags-$(CONFIG_DVB_MT352)     += -DHAVE_MT352=1
extra-cflags-$(CONFIG_DVB_NXT200X)   += -DHAVE_NXT200X=1
EXTRA_CFLAGS += $(extra-cflags-y) $(extra-cflags-m)
	Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/