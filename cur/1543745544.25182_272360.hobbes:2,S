Date: Thu, 18 Nov 2004 17:15:46 -0700
From: Andreas Dilger <>
Subject: Re: [PATCH] Remove OOM killer from try_to_free_pages / all_unreclaimable braindamage
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/18/326

On Nov 18, 2004  21:48 +0100, Bodo Eggert wrote:
> You'll have some precompiled binaries causing trouble, while other
> precompiled binaries will be killed while you want them to stay alife.
> Sometimes you'll have the same binary (e.g. perl or java) running a
> "notme"-task like watching the log for intrusion while at the same time
> processing a very large image.
> 
> The best solution I can think of is attaching a kill priority (similar to
> the nice value). Before killing, this value would be added to lg_2(memsize),
> and the least desirable process would "win", even if it's sshd running wild.
> 
> For the trashing problem: I like the idea of sending a signal to stop the
> process, but it should rather be a request to stop that can be caught by
> the process. A SETI-like task could save its workset and free the memory
> instead, a browser would discard it's memory cache and pause loading
> Images for the sites etc.
Sounds familiar.  AIX has had this for years.  "SIGDANGER" can be
caught by applications which care to register a handler, but is
otherwise fatal.  Usage scenarios are exactly as proposed above.
Cheers, Andreas
--
Andreas Dilger
http://sourceforge.net/projects/ext2resize/
http://members.shaw.ca/adilger/
             
http://members.shaw.ca/golinux/
[unhandled content-type:application/pgp-signature]