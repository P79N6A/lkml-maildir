Date: Wed, 20 Dec 2006 07:00:11 -0700
From: (Eric W. Biederman)
Subject: Re: Patch "i386: Relocatable kernel support" causes instant reboot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/20/114

Jean Delvare <khali@linux-fr.org> writes:
> Hi Eric, Vivek, Andi,
>
> One of my test machines (i586, Asus P4P800-X) reboots instantly when I
> try to boot a 2.6.20-rc1 kernel. 2.6.19 and 2.6.19.1 boot OK. I ran a
> git bisect and it pointed me to this patch:
I don't think this is a know issue.
The most straight forward way to debug this is to put infinite
loops in arch/i386/boot/compressed/head.S moving progressively farther
in until you find where the line in head.S that the machine reboots
on you is.
Although it is possible the problem falls in misc.c as well.
If you have a serial console setup we can probably make this
process a little easier.
One hunch is that we did something stupid, and have an instruction
that only executes on an i686 in there somewhere.
> After that the machine boots OK again. Note that I did _not_ enable
> RELOCATABLE. This is admitedly an old system with an old boot loader
> (lilo 22.5.7.2), so if that's a known issue, I'll be happy to install
> something newer. If not, I am willing to provide all the information
> needed to fix the bug.
Thanks.
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/