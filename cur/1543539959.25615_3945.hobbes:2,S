Date: Wed, 26 Jul 2000 20:09:15 +0100 (BST)
From: Tigran Aivazian <>
Subject: Re: Reading a file inside the device driver.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/26/95

On Wed, 26 Jul 2000, Theodore Y. Ts'o wrote:
> There are games you can play to get around this, but such approaches are
> fragile and complicated, and not what I'd recommend.
ok, then I'd recommend it instead :)
Vinay, have a look at how fs/exec.c:sys_uselib() (uselib(2) system
call) works by using name lookup and then dentry_open() and
file->f_op->read().
Note that sys_uselib() used to use sys_open/close along the lines that
Jeff described but recently it was changed (my gut feeling it was
Alexander Viro who enhanced this because it was simultaneous with
conversion to new architecture namei which he designed) to not mess with
descriptors and do things more "directly".
Regards,
Tigran
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/