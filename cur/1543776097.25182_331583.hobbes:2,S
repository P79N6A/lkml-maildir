Date: Wed, 6 Jul 2005 23:29:25 +0200
From: Francois Romieu <>
Subject: Re: sis190
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/6/236

Pascal CHAPPERON <pascal.chapperon@wanadoo.fr> :
[...]
> That one works perfectly; i tried it in the same conditions as
> the previous patch, and i don't notice a regression.
Nice.
[...]
> sis190-010.patch does not compile properly :
Point taken. Thanks.
[...]
> But i get those traces in syslog, when the driver is
> loaded and every time i use ethtool :
> 
> [...]
> scheduling while atomic: mii-tool/0x00000001/4699
spinlock + msleep in __mdio_cmd()... Completely stupid.
The patchkit of the day should fix these issues:
http://www.zoreil.com/~romieu/sis190/20050706-2.6.13-rc1/patches
Tarball:
http://www.zoreil.com/~romieu/sis190/20050706-2.6.13-rc1.tar.bz2
Please shake it. You should be able to modify the set of displayed
messages with ethtool.
I'd appreciate if you could check the allowed frame size range, say
ping -s 1468 ... ping -s 1473 to compare with Lars's results.
You can add something like a ping -q -l 48 -s 64 -f to your tests and
increase the 48 and NUM_{RX/TX}_DESC but I am not sure that the remote
8139 will be able to go terribly far. If it performs well, pktgen
could be useful too.
Lars, can you describe the second host that you have used so far for
the tests:
- which nic ?
- which kernel ?
(on an unrelated note, something enabled the "send mail as html" checkbox
in your mail user agent: you may consider removing it).
--
Ueimor
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/