Date: Mon, 07 Aug 2000 16:41:36 -0400
From: Jeff Garzik <>
Subject: Re: /proc & procfs changes since 2.2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/7/114

Damon LoCascio wrote:
>         I am trying to port a 2.2 driver over to 2.4 and cannot find any
> clear documentation about what has changed or why. And yes I have scanned
> this list but it never seems to have made it to a topic of great debate.
In 2.4.x kernels, you build a virtual directory hierarchy using
create*entry() helper functions, and remove entries after you are done
with remove_proc_entry.  2.4.x drivers should also build directories
under "/proc/driver" if possible.
Look in drivers/* in the kernel source tree, for examples of code using
proc_mkdir, proc_symlink, proc_mknod, create_proc_read_entry,
create_proc_info_entry, create_proc_entry, and remove_proc_entry.  Also
look at include/linux/proc_fs.h for the interface definition.
2.4.x proc interface did change somewhat from 2.2.x, but I think the
changes brought necessary cleanup and simplification.
	Jeff
-- 
Jeff Garzik              |
Building 1024            | Yossarian lives.
MandrakeSoft, Inc.       |
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/