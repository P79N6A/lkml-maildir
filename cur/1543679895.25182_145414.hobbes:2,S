Date: Sat, 05 Jul 2003 01:09:02 +0200
From: Marc Zyngier <>
Subject: [PATCH 2.5] [5/6] EISA support updates
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/4/157

PCI-EISA bridge :
- Use parent bridge device dma_mask as default for each discovered
device.
	M.
diff -ruN linux-latest/drivers/eisa/pci_eisa.c linux-eisa/drivers/eisa/pci_eisa.c
--- linux-latest/drivers/eisa/pci_eisa.c	2003-07-04 09:39:31.000000000 +0200
+++ linux-eisa/drivers/eisa/pci_eisa.c	2003-07-04 09:40:43.000000000 +0200
@@ -20,7 +20,7 @@
 static struct eisa_root_device pci_eisa_root;
 
 static int __devinit pci_eisa_init (struct pci_dev *pdev,
-				  const struct pci_device_id *ent)
+				    const struct pci_device_id *ent)
 {
 	int rc;
 
@@ -35,6 +35,7 @@
 	pci_eisa_root.res	       = pdev->bus->resource[0];
 	pci_eisa_root.bus_base_addr    = pdev->bus->resource[0]->start;
 	pci_eisa_root.slots	       = EISA_MAX_SLOTS;
+	pci_eisa_root.dma_mask         = pdev->dma_mask;
 
 	if (eisa_root_register (&pci_eisa_root)) {
 		printk (KERN_ERR "pci_eisa : Could not register EISA root\n");
-- 
Places change, faces change. Life is so very strange.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/