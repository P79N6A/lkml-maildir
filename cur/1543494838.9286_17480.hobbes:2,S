Date: Thu, 6 May 1999 12:00:35 +0200
From: Florent Villard <>
Subject: incoherence in tcp_input.c#tcp_fast_retrans
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/6/91

It seems to me that there is a little mistake after 3 dup Ack received, the
slow start treshold is set to :
  tp->snd_ssthresh = max(min(tp->snd_wnd, tp->snd_cwnd) >> 1, 2);
But snd_wnd is expressed in bytes and snd_cwnd in segments (the RFC prones cwnd
implemented in bytes, but linux implementation is different).
So the min is not correct, the right way to to this would be to divide the
snd_cnd by the MSS or something like that, but a bit difficult. 
So as the tp->snd_wnd value is not in the right unit, maybe
max(tp->snd_cwnd >> 1, 2)
would be sufficient, waiting for a better solution.
Regards,
-- 
Warly -- mailto:warly@bigfoot.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/