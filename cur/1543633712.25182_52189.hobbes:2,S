Date: Thu, 13 Jun 2002 00:00:39 -0700 (PDT)
From: Francois Gouget <>
Subject: Re: vfat patch for shortcut display as symlinks for 2.4.18
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/13/63

On Thu, 13 Jun 2002, Alexander Viro wrote:
>
>
> On Thu, 13 Jun 2002, Stevie O wrote:
>
> > At 12:09 AM 6/13/2002 -0400, Alexander Viro wrote:
> > >Vetoed.  Consider what happens if you rename such file, for one thing.
> >
> > I don't understand
> > What do you mean, if I rename such a file?
>
> rename("foo.lnk", "foo");
Let's not use .lnk as the extension, ok? It's an area that is still
quite sensitive <g>
So let's say that we use .!nk as the extension of our brand new symlink
implementation (assuming using '!' is ok).
Then here is how it would work:
 * if the user creates a symlink called "foo", we create a file called
"foo.!nk" on the underlying filesystem.
 * opendir+readdir does not return "foo.!nk" but instead returns "foo"
 * open("foo") opens the symlink, i.e. the VFS reads "foo.!nk"  and open
the filename contained therein
 * create("bar.!nk") is not allowed: on such a filesystem, you are not
allowed to create any file ending with ".!nk"
 * symlink(...,"...very long name") fails if the filename is too long
for VFS to append ".!nk"
 * etc.
So there are definitely limitations but I believe it could work. I am
not going to argue that it should be done though as I am happy enough
with the current situation (and it's not like I have the time to work on
it either).
--
Francois Gouget         fgouget@free.fr        
http://fgouget.free.fr/
                           La terre est une bÃªta...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/