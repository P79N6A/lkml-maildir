Date: Tue, 3 Jul 2001 08:50:32 +0200 (CEST)
From: Erik Meusel <>
Subject: include/asm-i386/checksum.h
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/7/3/5

Hi,
compiling the new 2.4.5 kernel with GCC 3.0 came with several errors and
warnings. One of the most ugly warnings was:
include/asm/checksum.h: warning: multi-line string literals are deprecated
The diff to version 2.4.5 of it is attached.
Regards,
Erik Meusel
P.S.: would it be possible to patch the menuconfig in that way, that it
does look in the whole include-path for the <ncurses.h> and relating
files? they aren't in /usr/include/ in my system and I'm tired of patching
linux/scripts/lxdialog/Makefile all the time. :)
--- include/asm-i386/checksum.h	Tue Feb  1 08:41:14 2000
+++ /scratch/backup/src/linux/include/asm/checksum.h	Tue Jul  3 08:35:27 2001
@@ -72,18 +72,18 @@
-	__asm__ __volatile__("
-	    movl (%1), %0
-	    subl $4, %2
-	    jbe 2f
-	    addl 4(%1), %0
-	    adcl 8(%1), %0
-	    adcl 12(%1), %0
-1:	    adcl 16(%1), %0
-	    lea 4(%1), %1
-	    decl %2
-	    jne	1b
-	    adcl $0, %0
-	    movl %0, %2
-	    shrl $16, %0
-	    addw %w2, %w0
-	    adcl $0, %0
-	    notl %0
-2:
+	__asm__ __volatile__("\
+	    movl (%1), %0 \
+	    subl $4, %2 \
+	    jbe 2f \
+	    addl 4(%1), %0 \
+	    adcl 8(%1), %0 \
+	    adcl 12(%1), %0 \
+1:	    adcl 16(%1), %0 \
+	    lea 4(%1), %1 \
+	    decl %2 \
+	    jne	1b \
+	    adcl $0, %0 \
+	    movl %0, %2 \
+	    shrl $16, %0 \
+	    addw %w2, %w0 \
+	    adcl $0, %0 \
+	    notl %0 \
+2: \
@@ -105,3 +105,3 @@
-	__asm__("
-		addl %1, %0
-		adcl $0xffff, %0
+	__asm__("\
+		addl %1, %0 \
+		adcl $0xffff, %0 \
@@ -121,5 +121,5 @@
-    __asm__("
-	addl %1, %0
-	adcl %2, %0
-	adcl %3, %0
-	adcl $0, %0
+    __asm__("\
+	addl %1, %0 \
+	adcl %2, %0 \
+	adcl %3, %0 \
+	adcl $0, %0 \
@@ -161,12 +161,12 @@
-	__asm__("
-		addl 0(%1), %0
-		adcl 4(%1), %0
-		adcl 8(%1), %0
-		adcl 12(%1), %0
-		adcl 0(%2), %0
-		adcl 4(%2), %0
-		adcl 8(%2), %0
-		adcl 12(%2), %0
-		adcl %3, %0
-		adcl %4, %0
-		adcl $0, %0
+	__asm__("\
+		addl 0(%1), %0 \
+		adcl 4(%1), %0 \
+		adcl 8(%1), %0 \
+		adcl 12(%1), %0 \
+		adcl 0(%2), %0 \
+		adcl 4(%2), %0 \
+		adcl 8(%2), %0 \
+		adcl 12(%2), %0 \
+		adcl %3, %0 \
+		adcl %4, %0 \
+		adcl $0, %0 \