Date: Fri, 5 Oct 2007 07:41:18 +0200
From: Ingo Molnar <>
Subject: Re: Linux 2.6.23-rc9 and a heads-up for the 2.6.24 series..
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/5/13

* Glauber de Oliveira Costa <glommer@gmail.com> wrote:
> On 10/2/07, Alistair John Strachan <alistair@devzero.co.uk> wrote:
> > This is certainly a tool issue, but if I use Debian's kernel-image "make-kpkg"
> > wrapper around the kernel build system, it fails with:
> >
> > cp: cannot stat `arch/x86_64/boot/bzImage': No such file or directory
> >
> > Obviously, this file has moved to arch/x86/boot, but it seems like possibly
> > unnecessary breakage. I've been copying bzImage for years from
> > arch/x86_64/boot, and I'm sure there's a handful of scripts (other than
> > Debian's kernel-image) doing this too.
> 
> I believe most sane tools would be using the output of uname -m, so a 
> possible way to fix this would be fixing the data passed to userspace 
> from uname. However, that might be the case that it creates a new set 
> of problems too, with tools relying on the output of uname -m to 
> determine wheter the machine is 32 or 64 bit, and so on.
there are two problems with the use of uname -m:
- the build machine architecture is not necessarily the same as the
  target architecture. (for example i cross-compile all my 32-bit
  kernels on a 64-bit box.)
- we kept uname -m compatile. multilib depends on it, and other pieces
  of userspace as well. So uname -m still outputs 'i386' on 32-bit and
  'x86_64' on 64-bit - not 'x86'.
a symlink looks like the best solution to me.
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/