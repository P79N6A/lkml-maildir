Date: Thu, 28 Feb 2008 19:09:47 +0100
From: Cedric Le Goater <>
Subject: [PATCH] try to fix false positives reports of checkpatch.pl
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/28/235

From: Cedric Le Goater <clg@fr.ibm.com>
This is an humble attempt to fix these reports that seem to be false positives. 
aren't they ? If so, you should triple check the fix because I got lost in the 
'elsif' and I took the first shortcut I found :)
Thanks for maintaining checkpatch.pl. it's a great tool.
C.
ERROR: need consistent spacing around '*' (ctx:WxV)
#139: FILE: ipc/mq_sysctl.c:17:
+static void *get_mq(ctl_table *table)
                               ^
ERROR: need consistent spacing around '*' (ctx:WxV)
#148: FILE: ipc/mq_sysctl.c:26:
+static int proc_mq_dointvec(ctl_table *table, int write, struct file *filp,
                                       ^
ERROR: need consistent spacing around '*' (ctx:WxV)
#158: FILE: ipc/mq_sysctl.c:36:
+static int proc_mq_dointvec_minmax(ctl_table *table, int write,
                                              ^
ERROR: need consistent spacing around '*' (ctx:WxV)
#169: FILE: ipc/mq_sysctl.c:47:
+static int proc_mq_dointvec(ctl_table *table, int write, struct file *filp,
                                       ^
ERROR: need consistent spacing around '*' (ctx:WxV)
#175: FILE: ipc/mq_sysctl.c:53:
+static int proc_mq_dointvec_minmax(ctl_table *table, int write,
                                              ^
total: 5 errors, 0 warnings, 216 lines checked
Signed-off-by: Cedric Le Goater <clg@fr.ibm.com>
---
 scripts/checkpatch.pl |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
Index: 2.6.25-rc2-mm1/scripts/checkpatch.pl
===================================================================
--- 2.6.25-rc2-mm1.orig/scripts/checkpatch.pl
+++ 2.6.25-rc2-mm1/scripts/checkpatch.pl
@@ -1387,7 +1387,7 @@ sub process {
 					 $op eq '*' or $op eq '/' or
 					 $op eq '%')
 				{
-					if ($ctx !~ /VxV|WxW|VxE|WxE|VxO/) {
+					if ($ctx !~ /VxV|WxW|VxE|WxE|VxO|WxV/) {
 						ERROR("need consistent spacing around '$op' $at\n" .
 							$hereptr);
 					}