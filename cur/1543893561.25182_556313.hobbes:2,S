Date: Tue, 12 Jun 2007 19:39:27 +1200
From: "Tobias Gerschner" <>
Subject: Re: call for more SD versus CFS comparisons (was: Re: [ck] Mainline plans)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/12/73

2007/6/12, Miguel Figueiredo <elmig@debianpt.org>:
> Hi all,
>
> some results based on massing_intr.c by Satoru, can be found on
> 
http://people.redhat.com/mingo/cfs-scheduler/tools/massive_intr.c
>
2007/6/12, Miguel Figueiredo <elmig@debianpt.org>:
> Hi all,
>
> some results based on massing_intr.c by Satoru, can be found on
> 
http://people.redhat.com/mingo/cfs-scheduler/tools/massive_intr.c
Hi,
Thanks for this reminder. I am gonna provide similar results if wanted
and useful for any dev.
However I took massiv_intr.c for a slightly different approach of
testing. The sole focus was responsiveness / (usable responsiveness
)of the desktop from the pov of an user.
I used massive_intr.c to bring the system to a state of lacking
usability ( overloaded system ) .
The setup was as follow:
mergedfb 2 monitors
Left desktop was displaying a music video playback using kaffeine /
xine at 100 % size. Right
Desktop had Firefox with 4 Tabs open 2 were text, 2 were graphical .
I did run massive_intr.c for 60 secs with increasing nproc (
10,20,30,40,50,60) waiting for effects.
Below a small table of the results
2.6.21.1-cfs-v16
nproc ,  usability result
10 , serious frame drops , Firefox  hardly recognizes clicked links,
but still usable
20 - 30, usability loss ( somehow under cfs firefox never finished
user requests like displaying web pages or opening new pages , no
feedback anymore, sudden changes on the desktop )
40 , sound skipping
2.6.21.1-ck2
nproc ,  usability result
10 - 20 , fine
30 - 50 , video frame drops , stair effect in playback
60 , unusable delay for responding to user actions ( clicking links ,
switching tabs )
70 , sound skipping
I know that this is still highly subjective but I tried to describe
the test procedure to make it as repeatable and simple as possible.
Furthermore tried to scale the user experience into numbers. I won't
even attempt to interpret those results but from an user point of view
the answer is crystal clear. It still remains -ck
. I performed this test 3 times and results are clearly the same.
As a sidenote . CK / SD seemed to be far more scalable in general. I
started designing a bit more complicated test scenario involving more
applications and opening new applications in a 2 minute timeframe. I
did this using -ck .
Once I booted into -cfs-v16 I realized that this test case was useless
because that test could simply not be performed because -cfs-v16 did
not even closely scale that well as -ck did.
I'll keep testing both schedulers ... .
Input, questions and feedback regarding the testing method are highly
appreciated.
The output of massive_intr can be found here :
http://www.yoper.com/scheduler-test/
kind regards
-- 
Tobias Gerschner
Member of Board of Yoper Linux Ltd. NZ
Knowing is not enough; we must apply. Willing is not enough; we must do.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/