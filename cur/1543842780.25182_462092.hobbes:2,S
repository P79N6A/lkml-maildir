Date: Mon, 11 Sep 2006 01:31:29 +0100
From: Matthew Garrett <>
Subject: io-apic - no timer ticks after resume on IXP200
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/10/170

(Cc:ing Andi because I seem to remember him reworking the code for this 
chipset)
Got it. After a suspend/resume cycle, I no longer have any timer ticks. 
Unsurprisingly, this breaks things. This is even true if I stub out the 
actual suspend code - that is, simply calling the device suspend and 
resume methods fails to set up the timer again properly.
So the situation is the following: without acpi_skip_timer_override, 
the system works fine until suspend/resume. At that point, I no longer 
get any timer ticks. With acpi_skip_timer_override, the timer works fine 
before and after suspend. I suspect that something in the apic 
suspend/resume code isn't setting things correctly? Is there any useful 
debug output I can provide?
-- 
Matthew Garrett | mjg59@srcf.ucam.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/