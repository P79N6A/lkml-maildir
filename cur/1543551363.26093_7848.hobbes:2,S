Date: Thu, 12 Oct 2000 00:47:39 +0200
From: Krzysztof Sierota <>
Subject: Re: VM: do_try_to_free_memory failed for XXXX, 2.2.17, 2.2.18pre3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/12/85

On Thu, 12 Oct 2000, Roy C. Bixler wrote:
> I just had our mail server running 2.2.18pre15 (compiled with GCC 2.7.2.3)
> go unresponcive yesterday. The console was flooded with
> 'do_try_to_free_pages failed' messages for various processes and had to be
> hard booted to the last stable kernel, which for us is 2.2.16.  I noticed
> a few minutes before the crash that both 'kupdate' and 'kswapd' were stuck
> in the D state and WCHAN for each was 'wait_on_buffer'.  I got advice from
> Marcelo Tosatti to try out the following Andrea Arcangeli patch:
> 
> 
ftp://ftp.linux.org/pub/linux/kernel/people/andrea/patches/v2.2/2.2.18pre9/VM-g
$ 
> I feel I can't do that since it's a production machine, but I would be
> very interested if your crash sounds anything like ours and if you found a
> way to make 2.2.18pre* work on your machine.
> 
Our 3 machines went unresponsive, just the way you describe it. The error
was the same. We had this on 2.2.17 and on 2.2.18pre3 , didn't try 2.2.18pre15.
Marcelo Tosati assembled a kernel for us that had Andrea Arcangeli patches
applied and some other stuff that we needed, and the machines are stable 
since then. All our machines run under very _heavy_ disk IO operations. 
Loads between 15-30 most of the time.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/