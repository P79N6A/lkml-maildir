Date: Fri, 25 May 2007 00:39:59 +0200
From: Pavel Machek <>
Subject: Re: pcmcia resume 60 second hang. Re: [patch 00/69] -stable review
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/24/421

On Thu 2007-05-24 15:23:56, Linus Torvalds wrote:
> 
> 
> On Thu, 24 May 2007, Linus Torvalds wrote:
> > 
> > Then, what you do is:
> >  - stop user space
> >  - suspend
> >  - resume
> >  - start user space
> 
> Btw, this is where things like "udevd" can be really problematic. That 
> whole "uevent over netlink" stuff is really nasty for things like this.
> 
> It's quite possible that even for user-level threads, we simply MUST NOT 
> freeze them the way we do. Exactly because of deadlocks.
Killing freezer will not help you in any way. udevd may need access to
arbitrary devices. You will still have the deadlocks, only this time
userland will be involved, too.
Just load the firmware before starting suspend.
									Pavel
-- 
(english) 
http://www.livejournal.com/~pavelmachek
(cesky, pictures) 
http://atrey.karlin.mff.cuni.cz/~pavel/picture/horses/blog.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/