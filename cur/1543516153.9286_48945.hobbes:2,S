Date: Sun, 14 Nov 1999 23:04:53 -0500
From: Rob Landley <>
Subject: info-zip fs (was re:CBMFS)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/15/17

David Weinehall wrote:
> 
> On Fri, 12 Nov 1999, Rob Landley wrote:
> 
> [snip]
> 
> > (Personally, I think the fact there's a patch to get Linux to read a
> > commodore 64 disk image is cool.  I'm still trying to figure out how to
> > loopback mount a *.zip file (read only would be fine)...  Doesn't have
> > the linear seek problems of a *.tgz file, you know (not between files,
> > anyway.  Within a file, maybe...))
> 
> That'd require double loopback, as the 64-disk image itself requires
> loopback mounting... Don't even think of asking me how to do it. But I bet
> it'd be easier if you had it .gz instead of .zip...
No, seperate topic.  Zip file, as in info-zip.  Pkzip compatible
compressed multi-file archives?
The problem with tgz files is you can't seek into the middle of them and
start reading, the archiving is inside the compression.  (That's the
trade-off for higher compression: you don't have to keep restarting your
deflate dictionaries and huffman trees and such.)
With a zip file, you have a bunch of concatenated, seperately compressed
files designed to be extracted individually.  The archiver can read the
directory entries in the file's header and then seek to the appropriate
location and decompress just the one file.  Due to this, a normal
loopback mount of the file should be able to populate a complete
directory tree out of it without actually having to decompress any of
the files.
I've heard there are multi-file gzips too (not a gzipped tar file but
more like a zip file), but have never actually encountered one in the
wild.
Mounting a zip file strikes me as a quick and dirty way of getting a
portable compressed filesystem using existing tools.  Write might be too
inefficient to be tenable, but I don't see what's wrong with reading
from one.
Rob
(Yes, I AM two days behind reading the kernel digest, but I'm trying
very hard to catch up...)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/