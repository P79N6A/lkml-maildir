Date: Thu, 8 Nov 2007 05:13:14 +0100
From: Adrian Bunk <>
Subject: Re: [PATCH 0/2] MN10300: Add the MN10300 architecture to Linux kernel [try #3]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/7/399

On Wed, Nov 07, 2007 at 05:43:23PM +0000, David Howells wrote:
> 
> 
> These patches add the MEI/Panasonic MN10300/AM33 architecture to the Linux
> kernel.
> 
> The first patch suppresses AOUT support in the kernel if CONFIG_BINFMT_AOUT=n
> and CONFIG_IA32_AOUT=n.  MN10300 does not support the AOUT binfmt, so the ELF
> binfmt should not be permitted to go looking for AOUT libraries to load, nor
> should random bits of the kernel depend on asm/a.out.h.
> 
> The second patch adds the architecture itself, to be selected by ARCH=mn10300
> on the make command line.
> 
> The patches can also be downloaded from:
> 
> 	
http://people.redhat.com/~dhowells/mn10300/mn10300-arch.tar.bz2
The patch to include/asm-generic/Kbuild.asm doesn't seem to be required.
+#elif defined(__mn10300__)
Please use a CONFIG_ variable in such cases.
The parts outside arch/mn10300/ and include/asm-mn10300/ (except for the 
trivial "&& {,!}MN10300" Kconfig changes) should go separately through 
the maintainers or get ACKs from the maintainers, even more since they 
also contain cleanups like
-               .regions = {ERASEINFO(0x01000,64),
+               .regions        = {
+                       ERASEINFO(0x01000,64),
                }
--- a/include/linux/kprobes.h
+++ b/include/linux/kprobes.h
...
+extern void __kprobes arch_remove_kprobe(struct kprobe *p);
This looks as if it will break compilation on avr32 and sparc64.
> A suitable toolchain can be downloaded from:
> 
> 	
ftp://ftp.redhat.com/pub/redhat/gnupro/AM33/
>...
What is the status of support in upstream GNU binutils and GNU gcc?
> David
cu
Adrian
-- 
       "Is there not promise of rain?" Ling Tan asked suddenly out
        of the darkness. There had been need of rain for many days.
       "Only a promise," Lao Er said.
                                       Pearl S. Buck - Dragon Seed
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/