Date: Fri, 29 Jun 2001 22:40:18 +0200 (MET DST)
From:  Andries.Brouwer@cwi ...
Subject: Re: Patch(2.4.5): Fix PCMCIA ATA/IDE freeze (w/ PCI add-in cards)V3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/6/29/192

    Andre Hedrick wrote:
    > That is a legacy bit from ATA-2 but it is one of those things you cannot
    > get rid of :-(
    in ANSI X3.279-1996, "AT Attachment Interface with Extensions (ATA-2)",
    Approved September 11, 1996 , control register bit 3-7 are reserved.
    However ANSI X3.221-1994, "AT Attachment Interface for Disk Drives",
    Approved May 12, 1994, bit3 is "1" and bits 4-7 are "x".
    No further explanation.
    How far back must we go, to get the sense ?
    >   struct {
    >           unsigned bit0           : 1;
    >           unsigned nIEN           : 1;    /* device INTRQ to host */
    >           unsigned SRST           : 1;    /* host soft reset bit */
    >           unsigned bit3           : 1;    /* ATA-2 thingy */
    >           unsigned reserved456    : 3;
    >           unsigned HOB            : 1;    /* 48-bit address ordering */
    >   } control_t;
    > 
    > once I add-in the real def of bit3 then I will not
    > need to look it up again.
bit3: 0: drive has 1-8 heads
      1: drive has more than 8 heads
(From old MFM/RLL times. In ATA-1 bit3 is set to 1.
See also
	
http://www.win.tue.nl/~aeb/linux/hdtypes/hdtypes-2.html
.)
Andries
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/