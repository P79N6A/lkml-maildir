Date: Tue, 24 Jan 2006 09:51:09 -0500
From: Jeff Garzik <>
Subject: Re: 2.6.16-rc1-mm2 pata driver confusion
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/24/98

On Tue, Jan 24, 2006 at 01:43:20AM -0500, Ed Sweetman wrote:
> I have an nforce4 based motherboard.  Currently i'm using the amd/nvidia 
> driver under the normal ide,ata driver section (2.6.14). 
> 
> It appears that the new ata code is hiding under scsi/sata drivers, 
> including apparently pata code.  This alone reads confusing, pata 
libata PATA support is under development.  Use only if you feel lucky.
Really lucky.  I mean, really really lucky.
> 1.  Atapi is most definitely not supported by libata, right now.
Not true.
> 2. whether libata sets the controller up better or not, ide cdroms MUST 
> be loaded before libata is or the ide controller will be detected as 
> "already in use" and the cdrom drivers wont have any device to attach 
> to, since unlike scsi drivers, ide drivers dont probe the hardware on 
> controllers to see if any driver has claimed them.
Either use drivers/ide or libata for PATA, not both.
> 3. For hdd's alone, the pata libata + sata drivers are a "complete" 
> replacement for the ide drivers and thus, if you dont have atapi 
> devices, you dont need to compile in ide support.
Again, ATAPI works just fine.
> 4.  moving to pata libata drivers _will_ change the enumeration of your 
> sata devices, it seems that pata is initialized first, so when setting 
> up your fstab entries and grub, you'll have to take into account how 
> many pata devices you have and offset your current sata device names by 
> that amount.
Enumeration of devices depends on which driver is loaded first.
Check your /etc/modprobe.conf.
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/