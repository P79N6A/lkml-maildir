Date: Sat, 26 Jun 2004 19:05:22 +0200
From: BlaisorBlade <>
Subject: Inclusion of UML in 2.6.8
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/26/49

Andrew, what are the requisite for stable inclusion of the UML update inside 
2.6-mm (or directly 2.6.8)? Currently (splitting out a little piece, which 
should not be included) we have almost all the stuff inside arch/um and 
include/asm-um, the addition of <linux/ghash.h> and of two filesystems for 
UML use only, and this little hunk (plus 2 uses of it inside 
mm/page_alloc.c).
+#ifndef HAVE_ARCH_FREE_PAGE
+static inline void arch_free_page(struct page *page, int order) { }
+#endif
Could it go in as-is? I'm especially worried about having it included soon in 
2.6.8, since last time it entered -mm and stayed there just for one release.
The patch correctly applies to 2.6.7 and works; the current code, instead, 
does not even compile at all, so there is no reason for not applying it 
(unless you want to remove UML support / but since you never said this, we 
need this patch applied). However, if you don't want some parts of the code, 
just tell me; I'm waiting for this before preparing the UML patch to send you
Also, I have some patches managed with your patch-scripts, which I'll send you 
after you include the UML patch.
About the STATE of the code:
Of the two filesystems, one (hostfs) now should work perfectly with 2.6 (I've 
just fixed one porting bug to 2.6, related to the force_delete() -> 
.drop_inode change documented in Documentation/filesystems/vfs.txt); the 
other maybe has some problems, but I can remove it from the patch (it also 
will probably be replaced soon by a more generic one, i.e. externfs).
Bye!
-- 
Paolo Giarrusso, aka Blaisorblade
Linux registered user n. 292729
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/