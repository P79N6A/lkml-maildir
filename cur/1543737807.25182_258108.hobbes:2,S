Date: Wed, 6 Oct 2004 14:35:03 +0200
From: Pavel Machek <>
Subject: Re: [PATCH] RadeonFB ACPI S3 patch fixed to not break S4. 2.6.8.1, 2.6.7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/6/84

Hi!
> This applies to the patch written by Ole Rohne, ole.rohne_AT_cern.ch
> This applies to Radeon Mobility cards (mine is M9000 but it could work
> for others) on certain laptops that don't reinitialize the video BIOS
> upon resume (Mine is a Dell Insipron 600m but there are others).
> 
> This patch reinitializes the Radeon BIOS upon resume from an ACPI sleep
> state other than S4.
> 
> The original patch reinitialized the video bios from any ACPI resume,
> but this broke suspending to S4. The machine would begin to suspend,
> then the display would go dark and the system would become unresponsive.
> 
> I added an if statement to the part that patches radeon_pm.c so that it
> would NOT try to reinitialize the video BIOS if the machine is entering
> S4. This worked.
Ok.
> Given how much aggrivation this has given me, I figure submitting the
> new patch would be nice.
It needs to follow kernel coding style (see acpi sleep.c). On what
machine did you test it? I have machine (Arima) with radeon but ole's
patches did not work for me, I'll probably test this one too.
								Pavel 
-- 
People were complaining that M$ turns users into beta-testers...
...jr ghea gurz vagb qrirybcref, naq gurl frrz gb yvxr vg gung jnl!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/