Date: Tue, 01 Feb 2000 18:00:21 +0100
From: Manfred Spraul <>
Subject: Re: IDE weird behavior in 2.3.41 w/ synchronous FTP reception
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/1/115

Linux Lists wrote:
> 
> If I do FTP _receptions_ , at high speeds (e.g. 4Mbps) and using big files
> (e.g. 10MB) the system crashes hard, with an oops report that's evidently
> corrupted:
> 
That's a known corruption: either a function pointer or the return
address got corrupted, thus EIP is invalid and then show_registers()
crashes. I've written a patch, but it seems that Linus doesn't like it.
> Unable to handle kernel paging request at virtual address 0d 84 18 01
0d 84 18 01: neither a string, nor a module address.
> Stack: d4ae2b59 c90e0f7d 1bde679c 27c3302c eaf3f1b9 9fcc90be 21aa8c63
> 238d6b20
>        87823b9e 5742b078 8f534e42 2252c054 67c34420 a0ad1633 9e6388da
> f285c016
>        04c120da e1f2d7c2 88cbed94 14fdf40f e9d9dacd 2fee179e 4f91e7b0
> a4174c2a
looks wrong: not a single pointer.
> Call Trace:
> 
> Can anybody give some suggestions on where I should look at in order to
> try and solve this problem??
Check for stack corruptions:
* perhaps an internal recursion? the kernel stack is limited to ~ 7 kB.
* writing data on the stack without checking limits? [can be very
subtile, e.g. a superflous ";" after "for(;;)"]
I would add checkpoint calls to my driver [e.g. store a number in a
special memory location] and then modify show_registers().
--
	Manfred
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/