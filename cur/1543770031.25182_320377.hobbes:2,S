Date: Tue, 24 May 2005 18:53:39 +0200
From: "Oskar Liljeblad" <>
Subject: clock drift with 2x Promise Ultra133 TX2 (PDC 20269) (again)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/24/224

Problem:
I have two Promise Ultra133 TX2 (PDC 20269) cards, each with two
Maxtor UDMA133 hard drives connected. The system also has another
hard drive connected to the motherboard. A total of five drives.
When I concurrently read from two hard drives connected to
different Promise cards, there is heavy software clock drift.
The software clock runs too fast - approx. a few seconds per
minute during this i/o. To reproduce:
  hwclock --hctosys
  hwclock --show
  date
  dd if=/dev/hde of=/dev/null bs=1M count=7200 &
  dd if=/dev/hdi of=/dev/null bs=1M count=7200 &
  wait
  wait
  hwclock --show
  date
This doesn't happen if I read from two drives connected to the
same card, or one drive connected to the motherboard and one
connected to a Promise card.
I've removed all other PCI devices in the system - problem remains.
I tried different motherboards:
  Asus A7V266-C with AMD AthlonXP 2000+ (i686) - problem occurs
  Asus A7V600-X with AMD Sempron 2600+  (i686) - problem occurs
  Abit KV8 Pro  with AMD Athlon64 3000+ (i686) - problem does not occur!
So what makes the Abit motherboard different?
Regards,
Oskar Liljeblad (oskar@osk.mine.nu)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/