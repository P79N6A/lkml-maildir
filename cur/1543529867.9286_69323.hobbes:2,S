Date: 13 Mar 2000 23:41:34 -0800
From: (H. Peter Anvin)
Subject: Re: 2.3.51-52.pre1, shm and mounting somewhere else than /var/shm...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/14/91

Followup to:  <20000313104008.N19404@morpheus.linuxpower.org>
By author:    Jeremy Katz <katzj@linuxpower.org>
In newsgroup: linux.dev.kernel
>
> 
> --GD+uNaHYxbVPHaQt
> Content-Type: text/plain; charset=us-ascii
> Content-Disposition: inline
> 
> [ Monday, March 13 2000 ] had Petr Vandrovec saying:
> 
> >   is there any reason why SHM must be mounted on /var/shm? If I have
> > mounted it in /shmfs, it does following (with xawtv):
> [snip strace, etc]
> >   When I mounted it in /var/shm, it works. Could not shm code start
> > walking tree in shmfs root instead of in real root on path /var/shm?
> > Have I different SHM namespace if I mount shm in chrooted environment?
> >   Unfortunately, I do not have address of author of shm changes, so
> > I'm asking here.
> 
> Allow me to quote from Documentation/Changes:
> "To use System V shared memory, you have to mount the shm filesystem
> somewhere and put the mountpoint into /proc/sys/kernel/shmpath.
> Default is /var/shm."
> 
> Also, use in chroot'd environments is being worked on -- see Alan's
> latest post on the subject.
> 
This is a good question, though.  Since the kernel knows where shmfs
is mounted, why not just use that knowledge rather than having to
worry about yet another sysctl?
	-hpa
-- 
<hpa@transmeta.com> at work, <hpa@zytor.com> in private!
"Unix gives you enough rope to shoot yourself in the foot."
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/