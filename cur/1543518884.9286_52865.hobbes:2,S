Date: Sat, 11 Dec 1999 18:47:42 -0800
From: Thomas Zimmerman <>
Subject: 2.3.29 opps with "mem=64" in 128mg box
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/11/106

I have been losing random bytes on my ide drives when running any of
the 2.3.X kernels. I don't loose any bytes when running RH 6.1
2.2.12-20. I used this to test for changes in files during file IO:
[qubes@Darklands qubes]$ while true; do tar cf test.tar .netscape;
md5sum test.tar; done;
37dcf949b1285f21ef1fa54612fb69b3  test.tar
643983ce42ba7da463c14afd2591aa80  test.tar
77d1e7fac33b4c5073fa1a12d2a04952  test.tar
313d3090eaf7756cf91e8ac450e2531e  test.tar
8d7ebc70322c5b0b9338826f356a3d81  test.tar
8d7ebc70322c5b0b9338826f356a3d81  test.tar
b36994a9823a3dc0cf3f933bdcbafba0  test.tar
6318b0a5deb00bb6717ebd561e69ad25  test.tar
c80af2a9bb1d9a869180828e0968b998  test.tar
c80af2a9bb1d9a869180828e0968b998  test.tar
4a8a272cdadfc548b5fd8635c2e22ad6  test.tar
4a8a272cdadfc548b5fd8635c2e22ad6  test.tar
32e02c0f535a07b04e877b9ac182a259  test.tar
79ec4001b17af945a01629963e092df0  test.tar
6c3053b3e38870aa91a183badeb6ee7c  test.tar
f5fd1a4248f6be8d3b49e20208679809  test.tar
5bca19cbf74a1d1d1cc6132dfada0007  test.tar
3949abc457d502f36e487f6db3d0511e  test.tar
3949abc457d502f36e487f6db3d0511e  test.tar
3949abc457d502f36e487f6db3d0511e  test.tar
-----
I don't like that above....so I rebooted and tried to test the lower
half of my memory by using "mem=64" to isolate. Box didn't boot and
gave me an oops (attached)ksymoops 0.7c on i586 2.3.28.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.3.28/ (default)
     -m /usr/src/linux/System.map (default)
Warning: You did not tell me where to find symbol information.  I will
assume that the log matches the kernel and modules that are running
right now and I'll use the default options above for symbol resolution.
If the current kernel and/or modules do not match the log, you can get
more accurate output by telling me the kernel version and where to find
map, modules, ksyms etc.  ksymoops -h explains the options.
Unable to handle Kernel NULL pointer dereference at vertiual address
00000007 printing eip: c01212347                                    
Oops: 0000
CPU: 0
EIP: 0010: [<c01212347>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010286
eax: ffffffff ebx: c1f93668 ecx: 00000012 edx: f7f966e4
ds: 0018 es: 0018 ss: 0018
Stack: 00000000 c1ef9d98 c1f93668 00001000 f7f966ef 00000001 00000000
00000000 c1f935e0 c012176b c1ef9d98 c1ef9db4 c1ef9d60 c012167c c1ef8000
ffffffff fffffff8 00000000 00000080 c1ef9e58 00000000 c0130e17 c1ef9d98
c1ef9e58
Call Trace: [<c012176b>] [<c012167c>] [<c0130e17>] [<c0131576>] [<c01318be>] 
[<c01318be>] [<c0109218>] [<c0105000>] [<c010a6d4>] [<c01d4ecd>]
[<c0105000>] [<c010714a>] [<c0108dc7>]                          
Code: 39 68 08 75 f4 8b 5c 24 24 39 58 0c 75 eb 0f ba 68 18 02 89
>>EIP; c01212347 <END_OF_CODE+b389defb7/????>   <=====
Trace; c012176b <generic_file_write+1a7/374>
Trace; c012167c <generic_file_write+b8/374>
Trace; c0130e17 <pipe_write+29b/470>
Trace; c0131576 <do_pipe+3e/1a8>
Trace; c01318be <reserved_lookup+1a/48>
Trace; c01318be <reserved_lookup+1a/48>
Trace; c0109218 <sys_execve+30/5c>
Trace; c0105000 <empty_bad_page+0/1000>
Trace; c010a6d4 <restore_all+b/f>
Trace; c01d4ecd <cb_alloc+155/2dc>
Trace; c0105000 <empty_bad_page+0/1000>
Trace; c010714a <init+ba/150>
Trace; c0108dc7 <kernel_thread+23/30>
Code;  01212347 Before first symbol
00000000 <_EIP>:
Code;  01212347 Before first symbol
   0:   39 68 08                  cmpl   %ebp,0x8(%eax)
Code;  0121234a Before first symbol
   3:   75 f4                     jne    fffffff9 <_EIP+0xfffffff9> 01212340 Before first symbol
Code;  0121234c Before first symbol
   5:   8b 5c 24 24               movl   0x24(%esp,1),%ebx
Code;  01212350 Before first symbol
   9:   39 58 0c                  cmpl   %ebx,0xc(%eax)
Code;  01212353 Before first symbol
   c:   75 eb                     jne    fffffff9 <_EIP+0xfffffff9> 01212340 Before first symbol
Code;  01212355 Before first symbol
   e:   0f ba 68 18 02            btsl   $0x2,0x18(%eax)
Code;  0121235a Before first symbol
  13:   89 00                     movl   %eax,(%eax)
1 warning issued.  Results may not be reliable.