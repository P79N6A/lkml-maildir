Date: Tue, 10 Aug 1999 00:53:06 -0700 (PDT)
From: Richard Ketchersid <>
Subject: Problem with scsi.c when compiling as module.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/12/1

First there needs to be some "#ifndef MODULE"'s ( Search for <<< )
#ifndef MODULE <<<
static int __init scsi_logging_setup (char *str)
{
        int tmp;
        if (get_option(&str, &tmp)==1) {
                scsi_logging_level = (tmp ? ~0 : 0);
                return 1;
        } else {
                printk("scsi_logging_setup : usage scsi_logging_level=n "
               "(n should be 0 or non-zero)\n");
                return 0;
    }
}
__setup("scsi_logging=", scsi_logging_setup);
#endif
#ifdef CONFIG_SCSI_MULTI_LUN
static int max_scsi_luns = 8;
#else
static int max_scsi_luns = 1;
#endif <<<
#ifndef MODULE <<<
static int __init scsi_luns_setup (char *str)
{
        int tmp;
        if (get_option(&str, &tmp)==1) {
                max_scsi_luns = tmp;
                return 1;
        } else {
                printk("scsi_luns_setup : usage max_scsi_luns=n "
                           "(n should be between 1 and 8)\n");
                return 0;
    }
}
__setup("max_scsi_luns=", scsi_luns_setup);
#endif <<<
Second I have to add the following to ksym.c ( for the last several
versions of 2.3.?? ) 
EXPORT_SYMBOL(init_task_union);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/