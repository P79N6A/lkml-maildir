Date: Sat, 5 May 2001 16:29:37 -0700 (PDT)
From: "David S. Miller" <>
Subject: Re: ipv6 activity causing system hang in kernel 2.4.4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/5/80

Try this patch, posted the other day.  I bet if you inspected,
you'd find OOPSes in your logs:
--- ../vanilla/linux/net/ipv6/ndisc.c	Thu Apr 26 22:17:26 2001
+++ net/ipv6/ndisc.c	Fri May  4 18:44:54 2001
@@ -394,7 +382,7 @@
 	int send_llinfo;
 
 	len = sizeof(struct icmp6hdr) + sizeof(struct in6_addr);
-	send_llinfo = dev->addr_len && ipv6_addr_type(saddr) != IPV6_ADDR_ANY;
+	send_llinfo = dev->addr_len && saddr && ipv6_addr_type(saddr) != IPV6_ADDR_ANY;
 	if (send_llinfo)
 		len += NDISC_OPT_SPACE(dev->addr_len);
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/