Date: Wed, 5 May 1999 21:57:56 -0400 (EDT)
From: Al Lipscomb <>
Subject: Re: Oops assist...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/6/28

> 
> On Wed, 5 May 1999, Horst von Brand wrote:
> > > What about the swap file?
> > 
> > I don't trust the kernel enough to fiddle around with disks when it has
> > just crashed...
Since most systems have some way to dump memory I thing that it should at
least be a compile time option. But here are some other thoughts:
Mark an known location in memory after the kernel loads with a special
pattern and some kernel environmental information. Set aside some space
for problems. In a normal reboot clear this area on the way down. In a
panic try and add some information to the reserved area.
In the event of a panic or other problem the area will have the pattern 
set. When the pattern is found by the boot loader (i.e. LILO) then a
small handler could be loaded into a portion of the reserved area created
above. This could go poking around based on the information found it has
and copy things out to a swap file or maybe a floppy disk.
This would require a small section of physical ram to be set aside but
with a 32mb system that should not be too much of a problem. Maybe set
aside the top 128KB? 
How about fixing RAM disks so they survive reboots (not resets) and dump
to them?
Just some thoughts.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/