Date: Fri, 17 Dec 1999 12:09:41 +0300
From: Michael Barabanov <>
Subject: Re: [PATCH] asm*/resource.h fix for glibc
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/17/25

Raul Miller (moth@magenta.com) wrote:
> Alan Cox <alan@lxorguk.ukuu.org.uk> wrote:
> > Your glibc headers are dependant on a suitable set of kernel headers. Thats
> > /usr/src/linux-2.2.12-20/... from memory - ie tied to a version. You don't
> > want to remove those when you change your kernel version. Thats one reason
> > they arent in /usr/src/linux/..
> 
> Try telling that to Ted T'so.  [He insists that /usr/src/linux/ and
> /usr/src/asm/ must match the currently running kernel.  While I disagree
> with him -- rather strongly -- I do have to admit that there's no simpler
> standard to support novices who need to build kernel modules.]
BTW, there's a lot more than include files to compiling third-party kernel modules: 
absense or presense of -D__SMP__, -IPATH_TO_THE_KERNEL_SOURCES/include,
other compiler flags like -m486, etc.
PCMCIA and ALSA, for example, have to use complex scripts that parse .config etc
to get this information.
It would be very nice if there was some standard way to get all of the needed CFLAGS
and paths for a specific kernel.
Michael.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/