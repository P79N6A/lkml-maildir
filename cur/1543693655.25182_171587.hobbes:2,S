Date: Thu, 09 Oct 2003 16:19:29 -0700
From: Ulrich Drepper <>
Subject: Re: statfs() / statvfs() syscall ballsup...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/9/237

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Linus Torvalds wrote:
> User space shouldn't know or care about frsize, and it doesn't even 
> necessarily make any sense on a lot of filesystems, so make it easy for 
> the user. It's not as if the rounding errors really matter.
There have been numerous requests to add a statvfs syscall, at least
made to me.  The problem is that the emulation through statfs cannot be
optimal.  The emulation has to get all kinds of additional information
(like mount flags) which in some cases lead to hangs or delays.
- From what I see statvfs is much more frequently used than statfs so such
an extension would be justified.  And then the kernel would be able to
determine all the right values and guide the user with them as it pleases.
- -- 
- --------------.                        ,-.            444 Castro Street
Ulrich Drepper \    ,-----------------'   \ Mountain View, CA 94041 USA
Red Hat         `--' drepper at redhat.com `---------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)
iD8DBQE/he0B2ijCOnn/RHQRAg+GAKC48tj7myC+lITvghxPK/ZEWcLTnQCgpUh4
5whszj+14fucakVcsZ4sOIQ=
=EVjn
-----END PGP SIGNATURE-----
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/