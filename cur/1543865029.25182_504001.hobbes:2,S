Date: Thu, 01 Feb 2007 11:18:04 +0100
From: John <>
Subject: Re: One-shot high-resolution POSIX timer periodically late
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/1/74

[ Same player shoot again. Fix address. ]
Ingo Molnar wrote:
> John wrote:
> 
>> John Stultz wrote:
>>
>>> Also do check the -rt tree as Ingo suggested. I mis-read your earlier
>>> email and thought you were running it.
>>
>> I've been pulling my hair over a related issue for the past two days.
>>
>> (I think I may be tickling a -hrt bug...)
>>
>> I'm working with 2.6.18.6 + patch-2.6.18-rt7
> 
> 2.6.18-rt7 is pretty old, do you see the problem in 2.6.20-rc6-rt5 too?
Ingo, Thomas,
I cannot reproduce in 2.6.20-rc6-rt6, but it is not strictly an
apples-to-apples comparison because I get a tsc clocksource in
2.6.20-rc6-rt6, and an acpi_pm clocksource in 2.6.18.6-rt7.
Here are the relevant parts of my boot messages:
Linux version 2.6.18.6-rt7
ACPI: PM-Timer IO Port: 0x4008
Clock event device pit configured with caps set: 07
Time: acpi_pm clocksource has been installed.
Clock event device pit configured with caps set: 08
Switched to high resolution mode on CPU 0
Linux version 2.6.20-rc6-rt6
ACPI: PM-Timer IO Port: 0x4008
Time: tsc clocksource has been installed.
(pit and acpi_pm have disappeared from 2.6.20-rc6-rt6)
The -rt patch set looks great, but I am somewhat hesitant to use it. It
seems it is only updated for the latest kernel version available. Or am
I mistaken? In other words, once 2.6.20 is released, and work starts on
2.6.21, if a bug is discovered in -rt, the fix will not be back-ported
to the 2.6.20.x (and 2.6.19.x, and 2.6.18.x, etc) patch set?
NB: I do need high-resolution timers, but, at the same time, I'm not
very comfortable living on the bleeding edge, where new bugs and
regressions might not get caught in release candidates. (I work on an
industrial project where continuous operation is a requirement.)
Regards.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/