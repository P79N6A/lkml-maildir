Date: Thu, 7 Mar 2002 00:26:24 +0100
From: Daniel Phillips <>
Subject: Re: [RFC] Arch option to touch newly allocated pages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/6/232

On March 7, 2002 12:20 am, Benjamin LaHaise wrote:
> On Thu, Mar 07, 2002 at 12:14:15AM +0100, Daniel Phillips wrote:
> > On March 6, 2002 05:36 pm, Benjamin LaHaise wrote:
> > > On Wed, Mar 06, 2002 at 04:24:17PM +0100, Daniel Phillips wrote:
> > > > On March 6, 2002 04:24 pm, Benjamin LaHaise wrote:
> > > > > On Wed, Mar 06, 2002 at 03:59:22PM +0100, Daniel Phillips wrote:
> > > > > > Suppose you have 512 MB memory and an equal amount of swap.  You start 8
> > > > > > umls with 64 MB each.  With your and Peter's suggestion, the system always
> > > > > > goes into swap.  Whereas if the memory is only allocated on demand it
> > > > > > probably doesn't.
> > > > > 
> > > > > As I said previously, going into swap is preferable over randomly killing 
> > > > > new tasks under heavy load.
> > > > 
> > > > Huh?  In the example I gave, you will never oom but with your suggestion, you
> > > > will always go needlessly go into swap.  I'm suprised that you and Peter are
> > > > aguing in favor of wasting resources.
> > > 
> > > I'm arguing in favour of predictable behaviour.  Stability and reliability 
> > > are more important than a bit of swap space.
> > 
> > That's the same argument that says memory overcommit should not be allowed.
> 
> Go back in the thread: I suggested making it an option that the user has to 
> turn on to allow his foot to be shot.  Remember: the common case in the kernel 
> is to be using all memory.
OK, now suppose the user has turned on that option (I think it should be on by
default, like memory overcommit).  How is Jeff going to support it?  That's his
whole point as I understand it.
Instead of providing constructive suggestions on how to solve the problem so that
memory overcommit works properly in this case, I see people telling Jeff there is
no problem.  I think Jeff has a little more of a clue than that.
-- 
Daniel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/