Date: Wed, 03 Nov 1999 13:46:57 +0000
From: Adrian Cox <>
Subject: Re: Specifying properly the PCI driver model on all linux architectur   es, (ioremap(), bus_to_virt() ...)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/3/71

Peter Desnoyers wrote:
> Jes Sorensen wrote:
> > >>>>> "Adrian" == Adrian Cox <apc@agelectronics.co.uk> writes:
> > Adrian> 1) Using the contents of base_address[] as an offset when
> > Adrian> mmapping /dev/mem from userspace?
> > I would probably go for using virt_to_bus(ioremap(base_address[]))
> > here.
> For mmaping in the kernel, fbmem seems to be definitive - you use
> io_remap_page_range, and pass in the *input* to ioremap, not the
> output.
/dev/mem also uses remap_page_range, so the only difference is that
fb_mmap contains a frightening number of #ifdefs on machine type.  Maybe
I should take this as evidence that I'm safe here.
- Adrian Cox, AG Electronics
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/