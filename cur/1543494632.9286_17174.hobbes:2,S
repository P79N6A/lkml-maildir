Date: Wed, 5 May 1999 01:27:02 -0400 (EDT)
From: Bradley M Keryan <>
Subject: Re: [linux-usb] Linux generic inputdevice layer, first release for testing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/5/38

Here is some more info:
I tried booting the kernel with the generic inputdevice layer with the USB
keyboard and AT keyboard plugged in, but no USB mouse. I was able to use
the AT keyboard fine, so I made copies of /proc/ksyms and /proc/modules.
When I pressed a key on the USB keyboard, I got almost exactly the same
oops as before, and the original oops did turn out to be decoded
correctly.
The kernel was compiled with egcs 1.1.2. I haven't tried gcc 2.7.2.3 yet.
The new driver (sort of) detects a PS/2 aux port but the pc_keyb.c driver
doesn't seem to detect one. There is not even a header connector for one
on the motherboard...
Here are the input/USB-related lines from the syslog, with a line of
context (which usually turns out to scsi stuff since my aic7xxx gets
initialized at the same time):
May  4 23:34:25 fatale kernel: fb0: MATROX VGA frame buffer device 
May  4 23:34:25 fatale kernel: serio0: i8042 KBD port at 0x60,0x64 irq 1 
May  4 23:34:25 fatale kernel: i8042.c: AUX interface selftest returned
error code 255 
May  4 23:34:25 fatale kernel: serio1: i8042 AUX port at 0x60,0x64 irq 12 
May  4 23:34:25 fatale kernel: input0: AT Set 3 keyboard
[base+ext+arrows+prsc+rctrl] on serio0 
May  4 23:34:25 fatale kernel: keyboard.c: Adding keyboard: input0 
May  4 23:34:25 fatale kernel: Serial driver version 4.27 with no serial
options enabled 
...
May  4 23:34:25 fatale kernel: Floppy drive(s): fd0 is 1.44M 
May  4 23:34:25 fatale kernel: uhci_control_thread at c01bd564 
May  4 23:34:25 fatale kernel: usb_hub_thread at c01bf044 
May  4 23:34:25 fatale kernel: uhci_connect_change: called for 0 
May  4 23:34:25 fatale kernel: FDC 0 is an 8272A
...
May  4 23:34:25 fatale kernel: (scsi0:0:0:0) Synchronous at 10.0
Mbyte/sec, offset 15. 
May  4 23:34:25 fatale kernel: USB new device connect, assigned device
number 1 May  4 23:34:25 fatale kernel: Found 02:09 
May  4 23:34:25 fatale kernel: Found 04:09 
May  4 23:34:25 fatale kernel: Found 05:07 
May  4 23:34:25 fatale kernel: Short descriptor. 
May  4 23:34:25 fatale kernel: USB hub found 
May  4 23:34:25 fatale kernel: hub: 3-ports detected 
May  4 23:34:25 fatale kernel: hub: ganged power switching 
May  4 23:34:25 fatale kernel: hub: part of a compound device 
May  4 23:34:25 fatale kernel: hub: no over current protection 
May  4 23:34:25 fatale kernel: hub: power on to power good time: 44ms 
May  4 23:34:25 fatale kernel: hub: hub controller current requirement:
100mA
May  4 23:34:25 fatale kernel: hub:  port 1 is not removable 
May  4 23:34:25 fatale kernel: hub:  port 2 is removable 
May  4 23:34:25 fatale kernel: hub:  port 3 is removable 
May  4 23:34:25 fatale kernel: hub: local power source is good 
May  4 23:34:25 fatale kernel: hub: no over current condition exists 
May  4 23:34:25 fatale kernel: enabling power on all ports 
May  4 23:34:25 fatale kernel: hub: port 1 connection change 
May  4 23:34:25 fatale kernel:   Vendor: WangDAT   Model: Model 1300
Rev: 02.5
...
May  4 23:34:25 fatale kernel: (scsi0:0:2:0) Synchronous at 5.0 Mbyte/sec,
offset 15. 
May  4 23:34:26 fatale kernel: USB new device connect, assigned device
number 2 May  4 23:34:26 fatale kernel:   Vendor: PLEXTOR   Model: CD-ROM
PX-8XCS    Rev: 1.07 
May  4 23:34:26 fatale kernel:   Type:   CD-ROM
ANSI SCSI revision: 02 
May  4 23:34:26 fatale kernel: (scsi0:0:3:0) Synchronous at 10.0
Mbyte/sec, offset 15. 
May  4 23:34:26 fatale kernel: Found 02:09 
May  4 23:34:26 fatale kernel: Found 04:09 
May  4 23:34:26 fatale kernel: Expected descriptor 05/07, got 21/09 -
skipping 
May  4 23:34:26 fatale kernel:    0 09 
May  4 23:34:26 fatale kernel:    1 21 
May  4 23:34:26 fatale kernel:    2 00 
May  4 23:34:26 fatale kernel:    3 01 
May  4 23:34:26 fatale kernel:    4 01 
May  4 23:34:26 fatale kernel:    5 01 
May  4 23:34:26 fatale kernel:    6 22 
May  4 23:34:26 fatale kernel:    7 3f 
May  4 23:34:26 fatale kernel:    8 00 
May  4 23:34:26 fatale kernel: Found 05:07 
May  4 23:34:26 fatale kernel: Short descriptor. 
May  4 23:34:26 fatale kernel: keyboard.c: Adding keyboard: input1 
May  4 23:34:26 fatale kernel: input1: USB HIDBP keyboard 
May  4 23:34:26 fatale kernel:   Vendor: SONY      Model: CD-R   CDU948S
Rev: 1.0h 
May  4 23:34:26 fatale kernel: (scsi0:0:4:0) Synchronous at 10.0
Mbyte/sec, offset 15. 
May  4 23:34:26 fatale kernel: hub: port 1 reset change 
May  4 23:34:26 fatale kernel: scsi : detected 1 SCSI disk total. 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/