Date: Mon, 29 Mar 2004 17:26:30 -0800
From: Rick Lindsley <>
Subject: Re: [Lse-tech] [patch] sched-domain cleanups, sched-2.6.5-rc2-mm2-A3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/29/303

    This looks very cool. Very comprehensive. Have you got any
    plans to intergrate it with sched_domains (so for example,
    you can see stats for each domain)?
Yes -- ideally we can add some stats to domains too, so we can tell
(for example) how often it is adjusting rebalance intervals, or how many
processes are moved as a result of each domain's policy, etc.  Every time
I add another counter I cringe a bit, because we don't want to impose
overhead in the scheduler.  But so far,  using per-cpu data, utilizing
runqueue locking when it's in use, and accepting minor inaccuracies that
may result from the remaining cases, seems to be yielding a pretty good
picture of things without imposing a measurable load.
If you want to start using it yourself, I'm open to feedback.  I have patches
for major releases at
    
http://oss.software.ibm.com/linux/patches/?patch_id=730
and a host of smaller releases (like rc2-mm5) at eaglet:
    
http://eaglet.rain.com/rick/linux/schedstat/
If you're feeling *really* lucky I have a handful of useful but often
ungeneralized tools I can share,  like the the ones that made that web
page.
Rick
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/