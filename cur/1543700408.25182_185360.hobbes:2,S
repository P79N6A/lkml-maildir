Date: Sun, 21 Dec 2003 12:29:34 +0100
From: Martin Loschwitz <>
Subject: Re: 3ware driver broken with 2.4.22/23 ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/21/22

On Sun, Dec 21, 2003 at 12:21:13PM +0100, Lukas Hejtmanek wrote:
> Hello,
> 
> I have 3ware Escalade 8500-8 card with 8 SATA WD 250GB drives. I set up HW RAID5
> configuration over all drives.
> I'm using kernel 2.4.23 vanilla with XFS patch. RAID5 partition is formated to
> XFS.
> System is single hyper threaded P4 Xeon 2.8GHz with 1GB of RAM. There is Intel
> 1000/PRO ethernet card. Motherboard is MSI E7501 Master-LS.
> 
> If I do:
> iozone -Ra -g 20G -e -n 10485760 
> on the XFS partition then it freezes after certain time (but always the same
> amount if I run it again few times).
> 
> Server responds only to ping and sysrq. No process can be run and already
> running process top freezes as well. After about 8 hours it is still freezed.
> If I connect monitor to the server when it freezes then monitor indicates - no
> signal.
> 
> I use configuration with SMP without HIGHMEM. However it happens without SMP as
> well. (Driver: 1.02.00.036)
> 
> With kernel 2.6.0 it seems to be ok. (Driver: 1.02.00.037)
> 
> Can firmware upgrade help? Or there is an issue with something other not related
> to 3ware card?
> 
Well, it happens from time to time that the card refuses to work with an
actual driver as actual drivers sometimes make use of functions introduced
in firmware upgrades. Upgrading the firmware should be the first thing to
try. Chances are it works well even with 2.4 afterwards.
> -- 
> Luká? Hejtmánek
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  
http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  
http://www.tux.org/lkml/
-- 
  .''`.   Martin Loschwitz           Debian GNU/Linux developer
 : :'  :  madkiss@madkiss.org        madkiss@debian.org
 `. `'`   
http://www.madkiss.org/
    people.debian.org/~madkiss/
   `-     Use Debian GNU/Linux 3.0!  See 
http://www.debian.org/
[unhandled content-type:application/pgp-signature]