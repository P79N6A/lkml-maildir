Date: Fri, 3 Sep 1999 20:02:51 +0200
From:  laslo@wodip ...
Subject: 2.3.16, UMSDOS - still no go
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/4/28

Hi,
as I wrote in letter from 23 Aug 1999,
I'm experiencing kernel oops with 2.3
kernels. I switched to 2.3 at 2.3.14
so I don't know at which time it has been broken.
The thing is that any acces to UMSDOS fs
ends with kernel oops.
Please help me, and not just ignore like the last time... 8(
Here is ksymooped report:
ksymoops 0.7c on i586 2.3.16.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.3.16/ (default)
     -m /boot/System.map-2.3.16 (default)
[...]
Warning (compare_ksyms_lsmod): module umsdos is in lsmod but not in ksyms, probably no symbols exported
Unable to handle kernel NULL pointer dereference at virtual address 00000000
c0111351
*pde = 00000000
Oops: 0002
CPU:    0
EIP:    0010:[<c0111351>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010082
eax: 00000016   ebx: 00000286   ecx: c01b4d5c   edx: c0f80000
esi: c0337e6c   edi: c066fd5c   ebp: c066fd64   esp: c066fd44
ds: 0018   es: 0018   ss: 0018
Process bash (pid: 89, stackpage=c066f000)
Stack: c0337db0 00000000 c017cd10 c066e000 00000001 c01e9ad4 c066fd5c 00000010
       c04ea980 c182432d c182442e c0337db0 c04ea980 c18227e0 c0337db0 c04ea980
       c0337db0 fffffff4 c0374840 c04e1560 464c457f c01c2000 c066e000 c0259b80
Call Trace: [<c017cd10>] [<c182432d>] [<c182442e>] [<c18227e0>] [<c0110ddd>] [<c01761bd>] [<c017d28e>]
       [<c017cd10>] [<c010a4dd>] [<c01774af>] [<c0110ddd>] [<c0137ef8>] [<c1822a32>] [<c013232c>] [<c0132590>]
       [<c0147dc5>] [<c013232c>] [<c013243c>] [<c01325bc>] [<c0132659>] [<c012fac3>] [<c01094b4>]
Code: c7 05 00 00 00 00 00 00 00 00 83 c4 04 8d 45 f8 8b 55 f8 39
>>EIP; c0111351 <sleep_on+81/150>   <=====
Trace; c017cd10 <read_intr+0/110>
Trace; c182432d <[msdos]cleanup_module+422d/9f50>
Trace; c182442e <[msdos]cleanup_module+432e/9f50>
Trace; c18227e0 <[msdos]cleanup_module+26e0/9f50>
Trace; c0110ddd <schedule+2ad/410>
Trace; c01761bd <ide_set_handler+2d/40>
Trace; c017d28e <do_rw_disk+ee/280>
Trace; c017cd10 <read_intr+0/110>
Trace; c010a4dd <enable_irq+4d/80>
Trace; c01774af <ide_do_request+55f/580>
Trace; c0110ddd <schedule+2ad/410>
Trace; c0137ef8 <d_alloc+18/160>
Trace; c1822a32 <[msdos]cleanup_module+2932/9f50>
Trace; c013232c <real_lookup+8c/150>
Trace; c0132590 <lookup_dentry+110/1b0>
Trace; c0147dc5 <ext2_follow_link+65/90>
Trace; c013232c <real_lookup+8c/150>
Trace; c013243c <do_follow_link+4c/90>
Trace; c01325bc <lookup_dentry+13c/1b0>
Trace; c0132659 <__namei+29/60>
Trace; c012fac3 <sys_newstat+13/70>
Trace; c01094b4 <system_call+34/40>
Code;  c0111351 <sleep_on+81/150>
00000000 <_EIP>:
Code;  c0111351 <sleep_on+81/150>   <=====
   0:   c7 05 00 00 00    movl   $0x0,0x0   <=====
Code;  c0111356 <sleep_on+86/150>
   5:   00 00 00 00 00
Code;  c011135b <sleep_on+8b/150>
   a:   83 c4 04          addl   $0x4,%esp
Code;  c011135e <sleep_on+8e/150>
   d:   8d 45 f8          leal   0xfffffff8(%ebp),%eax
Code;  c0111361 <sleep_on+91/150>
  10:   8b 55 f8          movl   0xfffffff8(%ebp),%edx
Code;  c0111364 <sleep_on+94/150>
  13:   39 00             cmpl   %eax,(%eax)
2 warnings issued.  Results may not be reliable.
--------------------
My .config:
CONFIG_X86=y
CONFIG_EXPERIMENTAL=y
CONFIG_M586TSC=y
CONFIG_X86_WP_WORKS_OK=y
CONFIG_X86_INVLPG=y
CONFIG_X86_BSWAP=y
CONFIG_X86_POPAD_OK=y
CONFIG_X86_TSC=y
CONFIG_1GB=y
CONFIG_MODULES=y
CONFIG_KMOD=y
CONFIG_NET=y
CONFIG_PCI=y
CONFIG_PCI_GODIRECT=y
CONFIG_PCI_DIRECT=y
CONFIG_SYSVIPC=y
CONFIG_SYSCTL=y
CONFIG_BINFMT_AOUT=m
CONFIG_BINFMT_ELF=y
CONFIG_BINFMT_MISC=m
CONFIG_PARPORT=m
CONFIG_PARPORT_PC=m
CONFIG_PARPORT_PC_FIFO=y
CONFIG_PARPORT_1284=y
CONFIG_APM=y
CONFIG_APM_CPU_IDLE=y
CONFIG_APM_POWER_OFF=y
CONFIG_APM_IGNORE_MULTIPLE_SUSPEND=y
CONFIG_APM_RTC_IS_GMT=y
CONFIG_BLK_DEV_FD=m
CONFIG_BLK_DEV_IDE=y
CONFIG_BLK_DEV_IDEDISK=y
CONFIG_BLK_DEV_IDECD=m
CONFIG_BLK_DEV_IDEPCI=y
CONFIG_BLK_DEV_LOOP=m
CONFIG_BLK_DEV_RAM=m
CONFIG_PARIDE_PARPORT=m
CONFIG_PACKET=m
CONFIG_UNIX=m
CONFIG_INET=y
CONFIG_NET_IPIP=m
CONFIG_SYN_COOKIES=y
CONFIG_SKB_LARGE=y
CONFIG_NETDEVICES=y
CONFIG_DUMMY=m
CONFIG_PLIP=m
CONFIG_PPP=m
CONFIG_PPP_ASYNC=m
CONFIG_PPP_DEFLATE=m
CONFIG_PPP_BSDCOMP=m
CONFIG_VT=y
CONFIG_VT_CONSOLE=y
CONFIG_SERIAL=m
CONFIG_PRINTER=m
CONFIG_MOUSE=m
CONFIG_PSMOUSE=y
CONFIG_NVRAM=m
CONFIG_FAT_FS=m
CONFIG_MSDOS_FS=m
CONFIG_UMSDOS_FS=m
CONFIG_VFAT_FS=m
CONFIG_ISO9660_FS=m
CONFIG_JOLIET=y
CONFIG_MINIX_FS=m
CONFIG_PROC_FS=y
CONFIG_EXT2_FS=y
CONFIG_MSDOS_PARTITION=y
CONFIG_NLS=y
CONFIG_NLS_CODEPAGE_437=m
CONFIG_NLS_CODEPAGE_850=m
CONFIG_NLS_CODEPAGE_852=m
CONFIG_NLS_ISO8859_1=m
CONFIG_NLS_ISO8859_2=m
CONFIG_VGA_CONSOLE=y
CONFIG_SOUND=m
CONFIG_SOUND_OSS=m
CONFIG_SOUND_SB=m
CONFIG_SOUND_YM3812=m
CONFIG_SOUND_VMIDI=m
CONFIG_MAGIC_SYSRQ=y
System info:
Kernel modules         2.1.121
Gnu C                  2.7.2.3
Binutils               2.9.1.0.19
Linux C Library        5.4.46
Dynamic linker         ldd: version 1.9.9
Linux C++ Library      2.9.0
Procps                 2.0.2
Mount                  2.9i
Net-tools              1.52
Kbd                    0.94
Sh-utils               1.16
Thanks in advance for any help/info/comment (or just RTFM and which),
-- laslo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/