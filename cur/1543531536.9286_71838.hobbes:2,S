Date: Fri, 24 Mar 2000 10:21:03 +0100 (CET)
From: Rick van Rein <>
Subject: Patch: BadRAM put to use
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/24/26

Hello!
My computer currently runs smoothly with two DIMMs that were considered dead,
just because they suffered from static discharge. A RAM checker told me what
sections of the RAMs were indeed dead, and all the rest could be exploited.
I can use 61 MB out of 64 MB, which is a great result, and good for trees.
My main concern regarding trees is not reuse of RAM that suffered from static
electricity, but to be able to use RAM in spite of manufacturing errors; a very
large portion of RAMs (95% of the production?) must now be discarded of due to
such errors. Trees don't like that. Neither do I.
The patch (for Linux kernel 2.2.14) to make this all possible can be found at
	
http://home.zonnet.nl/vanrein/badram/
and is a rather minimalistic solution. It's my first kernal patch, so I value
your feedback (please send it Cc. to vanrein@zonnet.nl).
There are some issues on which I would like to hear your comments:
 * Can anybody test on non-i386? I cannot, so I didn't attempt to write
   the arch-specific code yet. However, it seems straightforward to do,
   so let me know if you can test (with broken RAM) and I'll send you code.
 * Is it worth the extra kernel code to exploit even more RAM by, say,
   allocating slabs around the bugs? For 32-bytes slabs [i386], that would
   mean that 63.976563MB out of 64MB can be used! This additional code would
   have to be a kernel compilation option ("Optimize for BadRAM"), only
   compiled-in for people that run on BadRAMs.
 * If this patch is considered useful, how do I submit it to the kernel?
   Should there [also] be a 2.3.x patch?
 * Would "BulletRAM" (RAM with bullet holes) be a nicer name? It'd mean that
   Linux becomes bullet-proof with this patch ;-)
   It's also more of a marketing term for hardware manufacturers...
Let me hear your thoughts!
Enjoy,
 -Rick van Rein.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/