Date: Wed, 11 Aug 2004 16:07:37 +0100
From: Eamonn Hamilton <>
Subject: slow Gigabit over sk98lin - interrupt handling?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/11/112

Hi,
I'm having an ongoing issue getting decent throughput over a gigabit lan
using a 3c2000 gigabit adapter under 2.6.7
Basically, when I attempt to read from the box using ftp, samba,
whatever the bandwidth starts reasonable ( ~12-15 MB/sec using a 1500
MTU ), but quickly drops back to ~3MB/s. While it's transferring,
however, if I open another connection to the server using any host and
initiate another transfer, the bandwidth shoots back up to ~12-15 MB/sec
again for the duration of the multiple connections.
This smacks of interrupt handling, however the box isn't overloaded and
I've tried both enabling interrupt moderation and booting with the lapic
disabled, so only the original XT-PIC is used.
Has anybody got any suggestions for debugging this, as it's rather
frustrating ...
Cheers,
Eamonn
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/