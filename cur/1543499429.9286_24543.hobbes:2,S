Date: Thu, 17 Jun 1999 18:51:49 -0400 (EDT)
From: "Steven N. Hirsch" <>
Subject: Re: Massive e2fs corruption with 2.2.9/10?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/17/168

On Thu, 17 Jun 1999, Larry McVoy wrote:
> If you pick up 
> 
> 	
ftp://ftp.bitmover.com/pub/lmdd.tar.gz
> 
> you will get a Linux binary and the source code (the only docs that are current,
> I'm afraid) for a tool which was designed to deal with this problem.  You
> can do this
> 
> 	lmdd of=XXX bs=10m move=120m opat=1
> 
> To read it back and make sure the pattern is there
> 
> 	lmdd if=XXX bs=10m move=120m ipat=1
> 
> You can also read it back using random offsets within the file, something
> which sometimes catches an error or two:
> 
> 	lmdd if=XXX bs=512 rand=120m count=1000 ipat=1
I grabbed a copy of lmdd and tried it on:
- dual-PII SMP, 128MB Mem, 2 x 333Mhz.
    w/
  on-board Adaptec two-ch. AIC7895 UW controller
  RedHat 5.2 Install
  2.2.10-ac1 kernel
(hirsch@pii) /tmp : lmdd of=test1.file bs=10m move=500m opat=1
524.2880 MB in 34.1190 secs, 15.3665 MB/sec
(hirsch@pii) /tmp : lmdd if=test1.file bs=10m move=500m ipat=1
524.2880 MB in 30.9426 secs, 16.9439 MB/sec
(hirsch@pii) /tmp : lmdd if=test1.file bs=10m rand=500m ipat=1
..
(hang on, it's still churning away while I type this on the same box).
..
(still going?  I'll web-surf a bit..)
..
( ok, the heck with it..)
^C
10825.4986 MB in 735.9394 secs, 14.7098 MB/sec
Hey, Larry, I though it was supposed to stop on its own after 500MB? <g>
Anyway, as you'll see, I was unable to trip anything up.  Maybe the
corruption is some sort of IDE thing?
Steve
p.s. - Larry, thanks for slinging this out there!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/