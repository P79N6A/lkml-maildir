Date: Wed, 29 Jun 2005 11:48:40 +1000
From: Peter Chubb <>
Subject: Re: accessing loopback filesystem+partitions on a file
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/28/453

>>>>> "Luke" == Luke Kenneth Casson Leighton <lkcl@lkcl.net> writes:
Luke> xen guest OSes manage it fine - the xen layer provides a means
Luke> to present any block device as a "disk".
You can do this witht he loop device, but you need to get the
partition info out first.
Use parted or fdisk to get the partition info.
Then use losetup with the appropriate offset.
Luke> that loopback filesystems cannot be presented as block devices
Luke> by the linux kernel (with no involvement of xen) seems to be a
Luke> curious omission.
But they can!  But a loopback device can't be partitioned.  So do it
one partition at a time.
You'll probably only have a few real filesystems on the disk image
anyway.
-- 
Dr Peter Chubb  
http://www.gelato.unsw.edu.au
  peterc AT gelato.unsw.edu.au
The technical we do immediately,  the political takes *forever*
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/