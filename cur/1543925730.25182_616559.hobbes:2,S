Date: Mon, 12 Nov 2007 18:26:35 -0800
From: Linda Walsh <>
Subject: Re: reboot -df "broken" in 2.6.23.1 (from 2.6.22.12)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/12/301

More info, the last program executed to reboot was:
"reboot -df" (in the "reboot" system script").
That should reboot w/no disk sync and no-wtmp entry (they
are done earlier in the program, explicitly).
I looked at the reboot code in the kernel for the i386
(arch/i386/kernel/reboot.c).
A new "special case" was added in 2.6.23.1 (vs. working
2.6.22.12) for a "Dell Inc.","Optiplex 745". Was that a new
machine, or was it included because of some new reboot
problem affecting the machine in 2.6.23?  If it is the latter,
maybe the problem is affecting my platform as well (Dell
Precision-690).  There is nothing looking like a Precision
workstation on the special Dell list in the reboot code.
If I include "reboot=b" on the kernel command line, reboot "works".
However, this was not needed in the previous kernel(s).
It's an easy workaround for me, but worrisome to have it
break for an unknown reason.
Anyone have any ideas?
Meanwhile, guess I'll go add reboot=b in my boot menu file. ;^/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/