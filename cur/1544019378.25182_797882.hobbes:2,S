Date: Wed, 28 Jan 2009 08:56:29 -0800 (PST)
From: Davide Libenzi <>
Subject: Re: [patch 016/104] epoll: introduce resource usage limits
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/28/209

On Wed, 28 Jan 2009, Bron Gondwana wrote:
> > -       if (unlikely(atomic_read(&user->epoll_devs) >=
> > -                       max_user_instances))
> > +       if (atomic_read(&user->epoll_devs) >= max_user_instances)
> >  		goto free_uid;
> 
> Any reason this has become _less_ unlikely()?
GCC seems to make that choice anyway, according to quite a few tests I ran 
yesterday.
- Davide