Date: Wed, 12 Dec 2007 09:10:31 -0500
From: "Dmitry Torokhov" <>
Subject: Re: [PATCH] Fujitsu application panel driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/12/144

Hi Stephen,
On Oct 23, 2007 2:55 PM, Stephen Hemminger
<shemminger@linux-foundation.org> wrote:
> +static void mail_led_set(struct led_classdev *led,
> +                        enum led_brightness value)
> +{
> +       struct apanel *ap = container_of(led, struct apanel, mail_led);
> +       if (value)
> +               ap->led_bits |= 0x8000;
> +       else
> +               ap->led_bits &= ~0x8000;
> +       ap->led_bits = value;
> +       schedule_work(&ap->led_work);
> +}
I was just about to apply the driver (and I folded in the other 4
patches you sent to me) but then I noticed the code above. It looks
like the conditional does not have any effect, ap->led_bits will be
overwritten with the raw value anyway. Please advise.
Thank you.
-- 
Dmitry