Date: Sun, 04 Jan 2009 08:53:15 -0500
From: 	Valdis.Kletnieks@vt ...
Subject: Re: document ext3 requirements
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/4/114

On Sun, 04 Jan 2009 18:35:41 +0500, "Alexander E. Patrakov" said:
> Ext3 means either hardware that supports barriers (not sure how to 
> check, and anyway I have to use encryption on the work laptop due to the 
> corporate policy) or disabling write cache (but, as Alan Cox said, this 
> shortens the lifespan of the disk).
False dichotomy.  This isn't an "either/or", as there's a *third* case:
"understand the issues and risks involved if you have a write cache and
no barrier support, and learn to deal with it".
As you point out, if it's a laptop with a battery, the risk may be *very* low.
Let's say there's a 1 in 10,000 chance that you'll trash a file system and
need to restore from backups.
That may be totally acceptable if you've already estimated a 1 in 500 chance
of the whole damned laptop going walkies while you're not looking, and then
you *still* need to be able to restore from backups onto a replacement machine.
Yes, for some systems, the whole barriers/write cache thing is in fact very
important.  But for others, data loss due to spilled coffee is a bigger worry...
[unhandled content-type:application/pgp-signature]