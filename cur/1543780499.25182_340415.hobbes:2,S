Date: Tue, 09 Aug 2005 07:52:02 +0000
From: "vinay" <>
Subject: Kernels Out Of Memoy(OOM) killer Problem ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/9/44

Hi all.
I have a problem with linux kernel's Out Of Memory (OOM) killer.
I wanted to know, is there any way that we can force OOM killer to send a signal other than SIGKILL to kill a process when ever OOM detects a system memory crunch. 
Actually I have an application that is getting killed by OOM killer when the 
system runs out of memory. It seems like OOM killer is sending SIGKILL to the 
process. As SIGKILL cannot be caught by a process, my application is exiting 
without doing proper cleanup. 
    Is there any way that we can force OOM killer to send a signal other than
SIGKILL ? So that my application can call the signal handler and do proper cleanup before exiting. 
I searched through Google and came acorss some solution -
Like setting the capability of a process to CAP_SYS_RAWIO will force the OOM killer to send SIGTERM. I tried to set the capability of my application to CAP_SYS_RAWIO using capset() system call, but still then OOM killer is sending SIGKILL. 
Could anybody please help me out with this problem ?
Any pointers are welcomed.
Thanks in advance.
Vinay.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/