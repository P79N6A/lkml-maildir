Date: Wed, 27 Jul 2005 16:28:04 -0400
From: Nick Sillik <>
Subject: Re: drivers/char/speakup/synthlist.h fix -Wundef errors
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/27/228

Nick Sillik wrote:
> This patch should fix a slew of -Wundef errors in the synthlist.h file 
> used by the speakup driver.
> 
> Nick Sillik
> n.sillik@temple.edu
Or maybe we could just eliminate the CFG_TEST from the file all 
together.... This patch follows that avenue.
diff -urN a/drivers/char/speakup/synthlist.h b/drivers/char/speakup/synthlist.h
--- a/drivers/char/speakup/synthlist.h	2005-07-27 16:10:04.000000000 -0400
+++ b/drivers/char/speakup/synthlist.h	2005-07-27 16:24:02.000000000 -0400
@@ -7,46 +7,45 @@
 /* declare extern built in synths */
 #define SYNTH_DECL(who) extern struct spk_synth synth_##who;
 #define PASS2
-#define  CFG_TEST(name) (name)
 #endif
 
-#if CFG_TEST(CONFIG_SPEAKUP_ACNTPC)
+#ifdef CONFIG_SPEAKUP_ACNTPC
 SYNTH_DECL(acntpc)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_ACNTSA)
+#ifdef CONFIG_SPEAKUP_ACNTSA
 SYNTH_DECL(acntsa)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_APOLLO)
+#ifdef CONFIG_SPEAKUP_APOLLO
 SYNTH_DECL(apollo)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_AUDPTR)
+#ifdef CONFIG_SPEAKUP_AUDPTR
 SYNTH_DECL(audptr)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_BNS)
+#ifdef CONFIG_SPEAKUP_BNS
 SYNTH_DECL(bns)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_DECEXT)
+#ifdef CONFIG_SPEAKUP_DECEXT
 SYNTH_DECL(decext)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_DECTLK)
+#ifdef CONFIG_SPEAKUP_DECTLK
 SYNTH_DECL(dectlk)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_DTLK)
+#ifdef CONFIG_SPEAKUP_DTLK
 SYNTH_DECL(dtlk)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_KEYPC)
+#ifdef CONFIG_SPEAKUP_KEYPC
 SYNTH_DECL(keypc)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_LTLK)
+#ifdef CONFIG_SPEAKUP_LTLK
 SYNTH_DECL(ltlk)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_SFTSYN)
+#ifdef CONFIG_SPEAKUP_SFTSYN
 SYNTH_DECL(sftsyn)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_SPKOUT)
+#ifdef CONFIG_SPEAKUP_SPKOUT
 SYNTH_DECL(spkout)
 #endif
-#if CFG_TEST(CONFIG_SPEAKUP_TXPRT)
+#ifdef CONFIG_SPEAKUP_TXPRT
 SYNTH_DECL(txprt)
 #endif
 