Date: Mon, 23 Oct 2000 23:44:09 +0100 (BST)
From: Chris Evans <>
Subject: Re: LMbench 2.4.0-test10pre-SMP vs. 2.2.18pre-SMP
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/23/105

On Mon, 23 Oct 2000, Jeff Garzik wrote:
> First test was with 2.4.0-test10-pre3.
> Next four tests were with 2.4.0-test10-pre4.
> Final four tests were with 2.2.18-pre17.
> 
> All are 'virgin' kernels, without any patches.
[...]
I'll take the liberty of highlighting some big changes, v2.2 vs v2.4
*Local* Communication latencies in microseconds - smaller is better
-------------------------------------------------------------------
Host                 OS 2p/0K  Pipe AF     UDP  RPC/   TCP  RPC/ TCP
                        ctxsw       UNIX         UDP         TCP conn
--------- ------------- ----- ----- ---- ----- ----- ----- ----- ----
rum.normn Linux 2.4.0-t     6    20   45    63   106    81   157  146
rum.normn Linux 2.2.18p     2    12   18    56   123   106   159  237
- So we broke pipe/AF UNIX latencies
File & VM system latencies in microseconds - smaller is better
--------------------------------------------------------------
Host                 OS   0K File      10K File      Mmap    Prot    Page       
                        Create Delete Create Delete  Latency Fault   Fault 
--------- ------------- ------ ------ ------ ------  ------- -----   ----- 
rum.normn Linux 2.4.0-t     15      1     28      3     1016     1    0.0K
rum.normn Linux 2.2.18p     16      1     29      2     7658     2    0.6K
- But gave steroids to mmap latencies
*Local* Communication bandwidths in MB/s - bigger is better
-----------------------------------------------------------
Host                OS  Pipe AF    TCP  File   Mmap  Bcopy  Bcopy  Mem Mem
                             UNIX      reread reread (libc) (hand) read write
--------- ------------- ---- ---- ---- ------ ------ ------ ------ ---- -----
rum.normn Linux 2.4.0-t  152  105   98    151    326    138    144  326 171
rum.normn Linux 2.2.18p  264  106   55    152    326    137    142  326 180
- Mixed fortunes here. A serious boost to TCP bandwidth but pipe bandwidth
dies a bit
Cheers
Chris
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/