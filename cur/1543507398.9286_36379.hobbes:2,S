Date: Sun, 29 Aug 1999 11:09:09 -0700
From: Brian Swetland <>
Subject: Re: [alsa-devel] Re: [rtl] Low-latency patches working GREAT (<2.9ms audio latency), see testresults ,but ISDN troubles
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/29/68

[yodaiken@chelm.cs.nmt.edu]
> On Sun, Aug 29, 1999 at 10:40:02AM -0700, Brian Swetland wrote:
> > [yodaiken@chelm.cs.nmt.edu]
> > Well, as you point out, BeOS is not a hard realtime system, however
> > the fact that the filesystem, block cache, drivers, etc are all
> > preemptable means you can get some pretty decent response.  Interrupt
> > response from timers or IO interrupts in the 30-60us range is certainly
> > doable.  It'd be neat to actually put together some benchmarks to 
> > compare this sort of thing.
> 
> It would be quite interesting. My prediction is that the fully premptable
> nature of the system makes high bandwidth i/o unlikely. I'd really like
> some data though.
Well, if you have a bunch of realtime / high priority threads running,
they quite possibly can cut into your IO performance.  If you're doing
large reads/writes that bypass the cache (>64KB or on request via ioctl)
the driver (provided the device is fairly modern) should be able to do dma 
into/outof userspace which can be a nice win.
I'm actually working on rewriting an old interrupt latency benchmark 
(predating the programmable timers in R4.x) to see if I can get some
real numbers here.  Technically interrupts should be fieldable in the 5-10us
range provided there's not a misbehaving driver disabling IRQs for extended
periods of time. 
> > Networking on BeOS is not stellar, but it's servicable and performance
> > issues are being worked on.  Raw disk IO is actually pretty good, to my 
> > knowledge, though obviously real numbers are what you want here and
> 
> Raw disk and FS performance are really different. DOS gets decent raw
> disk performance, but our experience is that app ports to RTLinux get
> an enormous benefit from ext2.  
I believe Dominic found that BFS tends to see about 5% worse performance 
for raw streaming IO than reading/writing the raw device.  File creation/
deletion/etc suffers some due to journaling and indices (though indices can 
be turned off).  Not much seems to beat ext2 for pure speed.
Brian
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/