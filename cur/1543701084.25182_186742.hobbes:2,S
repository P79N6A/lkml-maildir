Date: Mon, 29 Dec 2003 15:32:54 +0000 (GMT)
From: Ged Haywood <>
Subject: Re: All filesystems hang under long periods of heavy load (read and write) on a filesystem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/29/69

Hello again all,
On Tue, 23 Dec 2003, Ged Haywood wrote:
[snip,snip]
> On Tue, 04 Nov 2003 Randy Dunlap wrote:
> > 
> > Can you try a recent kernel, like 2.4.23-pre8 or -pre9?
> 
> Copying large files from the smaller IDE drive to the larger trashed
> the filesystem on the partition being written to.
It seems that this boils down to using PIO mode, after enabling DMA I am
able to write 1.7G files with no trouble - of course it's early days yet,
the fault might not be fixed, it might just be less obvious...
Enabling DMA hadn't been top priority until I spoke to the 'hdparm'
maintainer at Debian.  The driver for the CMD Technology Inc CMD680 is
cunningly hidden under "Silicon Image chipset support" in the 2.4.23
config menus but was fairly easy to find once I started digging.  :)
Apparently the problem might still be present in 2.6.0 - see for example
ftp://ftp.kernel.org/pub/linux/kernel/people/akpm/must-fix/should-fix-7.txt
Anyway I'm thinking I'll put together an identical machine in the next
few weeks so I'll be able to reproduce the fault at will.  Would anyone
be interested in playing with it?
73,
Ged.
PS: Not subscribed, please CC me if you're interested.
PPS: Keeping the same subject line, but maybe this deserves a new one?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/