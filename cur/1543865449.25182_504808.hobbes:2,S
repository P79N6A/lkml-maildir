Date: Sun, 04 Feb 2007 01:26:48 +0100
From: Tilman Schmidt <>
Subject: Re: [PATCH] drivers/isdn/gigaset: new M101 driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/3/154

Am 03.02.2007 17:09 schrieb Greg KH:
> On Thu, Feb 01, 2007 at 05:13:45PM -0800, Andrew Morton wrote:
>>> +/* dummy to shut up framework warning */
>>> +static void gigaset_device_release(struct device *dev)
>>> +{
>>> +	//FIXME anything to do? cf. platform_device_release()
>>> +}
>> Ask Greg ;)
> 
> Oh come on people.  Don't provide an empty function because the kernel
> is complaining that you don't provide a release function.  Yes it will
> shut the kernel up but did you ever think _why_ the kernel was
> complaining?
Actually, I did. Just guess how that FIXME came to be.
Hint: the kernel shuts up just as well without it.
>  Did you think it did it just for fun?
No, that was not among the explanations I considered. Although,
come to think of it ... nah, that would really be too weird.
> Think people, think...
Ahem.
> You need to free your memory here, don't just provide an empty function,
> that shows the driver is broken.
Call me silly and incapable of thinking, but to me it's far from
clear _what_ memory I am supposed to free there. Certainly neither
memory I will still be needing after platform_device_unregister()
nor memory that's being taken care of elsewhere. Between the two,
in my case there's nothing left, so the release function is empty.
If that shows my driver is broken, please explain in what way.
Thanks,
Tilman
-- 
Tilman Schmidt                          E-Mail: tilman@imap.cc
Bonn, Germany
Diese Nachricht besteht zu 100% aus wiederverwerteten Bits.
Ungeöffnet mindestens haltbar bis: (siehe Rückseite)
[unhandled content-type:application/pgp-signature]