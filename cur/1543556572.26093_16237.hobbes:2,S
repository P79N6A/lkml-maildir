Date: Tue, 05 Dec 2000 16:48:10 +0100
From: Daniel Phillips <>
Subject: Re: test12-pre5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/12/5/116

Linus Torvalds wrote:
> NOTE! There's another change to "writepage()" semantics than just dropping
> the "struct file": the new writepage() is supposed to mirror the logic of
> readpage(), and unlock the page when it is done with it. This allows the
> VM system more visibility into what IO is pending (which the VM doesn't
> take advantage of yet, but now it can _truly_ use the same logic for both
> swapout and for dirty file writeback).
Or maybe readpage should *not* unlock the page.  What if we wanted to
follow the writepage immediately by traversing the page's buffers?  We'd
have to lock the page again, and we wouldn't know what happened in the
interim.
Thanks for fixing the (struct file *)'s!  (major wart gone)
--
Daniel
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/