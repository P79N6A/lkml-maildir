Date: Tue, 14 Mar 2000 15:13:09 -0500
From: Dilip Daya <>
Subject: Oops from kmem_cache_free on Red-Hat 6.0 release 2.2.5-15
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/14/224

Hi,
Red Hat 2.2.5-15 kernel Oops "Unable to handle kernel NULL pointer
dereference at virtual address 00000000" in kmem_cache_free, running SMP
kernel version 2.2.5-15. The problem has also occured on a UP version of
same 2.2.5 kernel.
(We've already run two separate types of memory tests, one that comes
with the hp-netservers, and one untar-and-recursive-diff script. 
Neither
one pointed out any memory errors.) 
ksymoops output from ksymoops 2.3.3:
ksymoops 2.3.3 on i686 2.2.10.  Options used
     -V (specified)
     -k proc.ksyms (specified)
     -l proc.modules (specified)
     -o 2.2.5-15smp/ (specified)
     -m System.map-2.2.5-15smp (specified)
     -S
Unable to handle kernel NULL pointer dereference at virtual address
00000000
current->tss.cr3 = 00101000, %cr3 = 00101000
*pde = 00000000
Oops: 0002
CPU:    1
EIP:    0010:[<c012308f>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010286
eax: 00000040   ebx: cb71ccc0   ecx: c68ea000   edx: c79ba000
esi: c058f680   edi: 00000286   ebp: cce2efe0   esp: c68ebf54 ds: 0018  
es: 0018   ss: 0018
Process cucipop (pid: 1051, process nr: 31, stackpage=c68eb000)
Stack: d022ef20 00003000 cb71ccfc c011e5b6 c011e5d5 c058f680 cb71ccc0
d022ef20
       00101000 c68ea000 c68ebfb4 00000000 c011439c d022ef20 d022ef20
d022ef20
       c0118f2d d022ef20 c68ea000 4013cf04 00000000 c810c540 c8619740
c68ea000
Call Trace: [<c011e5b6>] [<c011e5d5>] [<c011439c>] [<c0118f2d>]
[<c011911f>] [<c0108b6c>]
Code: c7 05 00 00 00 00 00 00 00 00 eb 10 90 56 53 68 3e c5 1d c0
>>EIP; c012308f <kmem_cache_free+173/198>   <=====
Trace; c011e5b6 <exit_mmap+ae/108>
Trace; c011e5d5 <exit_mmap+cd/108>
Trace; c011439c <mmput+1c/34>
Trace; c0118f2d <do_exit+f1/2d4>
Trace; c011911f <sys_exit+f/10>
Trace; c0108b6c <system_call+34/38>
Code;  c012308f <kmem_cache_free+173/198>      00000000 <_EIP>:
Code;  c012308f <kmem_cache_free+173/198>         0:   c7 05 00 00 00 00
00      movl   $0x0,0x0   <=====
Code;  c0123096 <kmem_cache_free+17a/198>         7:   00 00 00 
Code;  c0123099 <kmem_cache_free+17d/198>         a:   eb
10                     jmp    1c <_EIP+0x1c> c01230ab
<kmem_cache_free+18f/198>
Code;  c012309b <kmem_cache_free+17f/198>         c:  
90                        nop    
Code;  c012309c <kmem_cache_free+180/198>         d:  
56                        pushl  %esi
Code;  c012309d <kmem_cache_free+181/198>         e:  
53                        pushl  %ebx
Code;  c012309e <kmem_cache_free+182/198>         f:   68 3e c5 1d
c0            pushl  $0xc01dc53e
---------- The original oops message is listed below --------
martin # kmem_free: Bad obj addr (objp=cb71ccc0, name=vm_area_struct)
Unable to handle kernel NULL pointer dereference at virtual address
00000000
current->tss.cr3 = 00101000, %cr3 = 00101000
*pde = 00000000
Oops: 0002
CPU:    1
EIP:    0010:[<c012308f>]
EFLAGS: 00010286
eax: 00000040   ebx: cb71ccc0   ecx: c68ea000   edx: c79ba000
esi: c058f680   edi: 00000286   ebp: cce2efe0   esp: c68ebf54
ds: 0018   es: 0018   ss: 0018
Process cucipop (pid: 1051, process nr: 31, stackpage=c68eb000)
Stack: d022ef20 00003000 cb71ccfc c011e5b6 c011e5d5 c058f680 cb71ccc0
d022ef20
       00101000 c68ea000 c68ebfb4 00000000 c011439c d022ef20 d022ef20
d022ef20
       c0118f2d d022ef20 c68ea000 4013cf04 00000000 c810c540 c8619740
c68ea000
Call Trace: [<c011e5b6>] [<c011e5d5>] [<c011439c>] [<c0118f2d>]
[<c011911f>] [<c0108b6c>]
Code: c7 05 00 00 00 00 00 00 00 00 eb 10 90 56 53 68 3e c5 1d c0
ICMP: 212.72.199.165: Source Route Failed.
ICMP: 212.72.199.165: Source Route Failed.
ICMP: 212.72.199.134: Source Route Failed.
ICMP: 212.72.199.165: Source Route Failed.
ICMP: 212.72.199.165: Source Route Failed.
--------------------------------------------------------------------
I would appreciate any assistance if possible.
Any ideas if the above is fixed ?
Sincerely,
Dilip Daya.begin:vcard 
n:Daya;Dilip
tel;fax:(770) 587-4196
tel;work:(404)  TN 648-2738
x-mozilla-html:TRUE
url:
http://wtec.cup.hp.com/~dist_comp
org:Hewlett Packard Company;Worldwide Technology Expert Center
adr:;;20 Perimeter Summit Blvd.;Atlanta, Georgia, 30319;U.S.A.;;
version:2.1
email;internet:dnd@atl.hp.com
title:WTEC Distributed Computing
fn:Dilip Daya
end:vcard