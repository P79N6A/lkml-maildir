Date: Fri, 14 May 2004 15:56:43 -0700
From: Chris Wright <>
Subject: Re: [4KSTACK][2.6.6] Stack overflow in radeonfb
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/14/223

* Andrew Morton (akpm@osdl.org) wrote:
> JÃ¶rn Engel <joern@wohnheim.fh-wedel.de> wrote:
> >
> > On Fri, 14 May 2004 11:49:23 +0200, Arjan van de Ven wrote:
> > > On Fri, May 14, 2004 at 11:47:39AM +0200, Andrew Morton wrote:
> > > > There's a `make buildcheck' target in -mm (from Arjan) into which we could
> > > > integrate such a tool.  Although probably it should be a different make
> > > > target.
> > > 
> > > I added it to buildcheck for now, based on Keith Owens' check-stack.sh
> > > script. I added a tiny bit of perl (shudder) to it to 
> > > 1) Make it print in decimal not hex
> > > 2) Filter the stack users to users of 400 bytes and higher
> > > 
> > > I arbitrarily used 400; that surely is debatable.
> > 
> > Keith' script has the major disadvantage of not working on anything
> > but i386.  Here is my old script that works on a few more.
> 
> That's nice and simple.  All due respect to Keith, this is something
> which humans have a chance of understanding too ;)
> 
> I removed the `vmlinux FORCE' targets from the makefile - that was forcing
> a full rebuild after I'd just done one.  Just let it check ./vmlinux and if
> it's not there, it errors out...
> 
> It doesn't do modules, and hence requires a prior allyesconfig.  I think it
> would be better to do:
> 
> find . -name '*.o' | xargs objdump -d | perl scripts/checkstack.pl i386
> 
> but that produces slightly screwy output and, for some reason, duplicated
> output:
maybe from the .o and .mod.o?
thanks,
-chris
-- 
Linux Security Modules     
http://lsm.immunix.org
     
http://lsm.bkbits.net
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/