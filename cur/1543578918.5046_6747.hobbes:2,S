Date: Mon, 15 Jan 2001 19:22:08 -0500
From: Chad Miller <>
Subject: matroxfb on 2.4.0 / PCI: Failed to allocate...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/15/111

Hi, all.  I'm trying to get matroxfb running on a G400Max (dualhead).
Of course, I have i2c bit-banging on and the relevant Matrox options
turned on (as modules or compiled-in), and I don't see the expected
`framebuffer: blah' after the `matroxfb: Matrox Millennium G400 MAX (AGP)
detected'.
I worry about some PCI initialization output (from dmesg):
# PCI: Probing PCI hardware
# Unknown bridge resource 0: assuming transparent
# PCI: Using IRQ router VIA [1106/0686] at 00:07.0
# PCI: Cannot allocate resource region 0 of device 01:00.0
# PCI: Failed to allocate resource 0 for Matrox Graphics, Inc. MGA G400 AGP
[...]
That `device 01:00.0' is obviously the AGP MGA.  'dmesg' continues later
with...
# matroxfb: Matrox Millennium G400 MAX (AGP) detected
# i2c-core.o: i2c core module
# i2c-algo-bit.o: i2c bit algorithm module
# i2c-core.o: driver maven registered.  [...]
...and the loaded modules include...
Module                  Size  Used by
matroxfb_crtc2          6928   0 (unused)
matroxfb_maven          9552   0 (unused)
i2c-matroxfb            3632   0 (unused)
i2c-algo-bit            7392   0 [i2c-matroxfb]
i2c-core               13072   0 [matroxfb_maven i2c-algo-bit]
matroxfb_base          16848   0 [matroxfb_crtc2 i2c-matroxfb]
matroxfb_DAC1064        5824   0 [matroxfb_crtc2 matroxfb_base]
matroxfb_accel          8192   0 [matroxfb_crtc2 matroxfb_maven \
i2c-matroxfb matroxfb_base matroxfb_DAC1064]
matroxfb_misc          13088   0 [matroxfb_crtc2 matroxfb_maven \
i2c-matroxfb matroxfb_base matroxfb_DAC1064 matroxfb_accel]
agpgart                13536   0 (unused)
...but...
cmiller@canard:~$ cat /proc/fb
cmiller@canard:~$
Ideas?  Pointers?  I'm available for questions and flames.
						- chad
--
Chad Miller <cmiller@surfsouth.com>   URL: 
http://web.chad.org/
   (GPG)
"Any technology distinguishable from magic is insufficiently advanced".
First corollary to Clarke's Third Law (Jargon File, v4.2.0, 'magic')
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/