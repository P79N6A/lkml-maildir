Date: Fri, 14 Sep 2007 13:51:54 -0700
From: Andrew Morton <>
Subject: Re: [PATCH -mm] mm: Fix memory hotplug + sparsemem build.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/14/282

On Fri, 14 Sep 2007 10:09:27 -0400
Lee Schermerhorn <Lee.Schermerhorn@hp.com> wrote:
> I originally sent in the "update-n_high_memory..." patch against
> 23-rc3-mm1 on 27aug to fix a problem that I introduced when I moved the
> populating of N_HIGH_MEMORY state to free_area_init_nodes().  This would
> miss setting the "has memory" node state for hot added memory.  I never
> saw any response, but then it ended up in 23-rc4-mm1.
> 
> This Tuesday, Paul Mundt sent in a patch to fix a build problem with
> MEMORY_HOTPLUG_SPARSE introduced by my patch.  He replaced zone->node
> with zone_to_nid(zone) in the node_set_state() arguments.
> 
> The latest patch, from Yasunori-san, I believe, starts kswapd for nodes
> to which memory has been hot-added.  As I understand it, his is needed
> because the memoryless nodes patch results in no kswapd for memoryless
> nodes.
> 
> Does that help?
not really ;)
See, when I get some rinky-dink little fix for a patch in -mm I will
position that patch immediately after the patch which it is fixing, with a
filename which is derived from the fixed patch's name.  So when
send-to-Linus time comes, I can fold the fixes into the base patch.  This
practice also keeps the patches in a sensible presentation order, with
minimum interdependencies and good git-bisect friendliness.
However it sometimes (rarely) takes considerable effort to work out which
patch in -mm a particular fix is fixing.  That was the case with
update-n_high_memory-node-state-for-memory-hotadd.patch.
It helps me quite a bit if people tell me which patch they're fixing. 
Usually they don't and I get to work it out.  Usually it's fairly obvious.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/