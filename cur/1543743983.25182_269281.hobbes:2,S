Date: Mon, 8 Nov 2004 16:34:36 +0100
From: Adrian Bunk <>
Subject: Re: [2.6 patch] kill IN_STRING_C
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/8/138

On Mon, Nov 08, 2004 at 02:44:49PM +0100, Andi Kleen wrote:
> > Can you still reproduce this problem?
> > If not, I'll suggest to apply the patch below which saves a few kB in 
> > lib/string.o .
> 
> I would prefer to keep it because there is no guarantee in gcc
> that it always inlines all string functions unless you pass
> -minline-all-stringops. And with that the code would
> be bloated much more than the few out of lined fallback
> string functions.
If I understand your changelog entry correctly, this wasn't the problem
(the asm string functions are "static inline").
Rethinking it, I don't even understand the sprintf example in your 
changelog entry - shouldn't an inclusion of kernel.h always get it 
right?
> Even if it works for you with your configuration it's just by luck.
The two configurations I tried are one configuration with _everything_ 
except modules enablesd, and the other was _everything_ modular.
That's why I'd like to have an example where it fails to understand the 
problem.
> -Andi
cu
Adrian
-- 
       "Is there not promise of rain?" Ling Tan asked suddenly out
        of the darkness. There had been need of rain for many days.
       "Only a promise," Lao Er said.
                                       Pearl S. Buck - Dragon Seed
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/