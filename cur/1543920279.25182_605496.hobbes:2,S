Date: Mon, 15 Oct 2007 14:53:09 -0700
From: Andrew Morton <>
Subject: Re: [PATCH 5/7] IPMI: new NMI handling
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/15/430

On Fri, 12 Oct 2007 11:40:57 -0500
Corey Minyard <minyard@acm.org> wrote:
> -#ifdef CONFIG_X86_LOCAL_APIC
> -#include <asm/apic.h>
> +#ifdef CONFIG_X86
> +/* This is ugly, but I've determined that x86 is the only architecture
> +   that can reasonably support the IPMI NMI watchdog timeout at this
> +   time.  If another architecture adds this capability somehow, it
> +   will have to be a somewhat different mechanism and I have no idea
> +   how it will work.  So in the unlikely event that another
> +   architecture supports this, we can figure out a good generic
> +   mechanism for it at that time. */
> +#include <asm/kdebug.h>
> +#define HAVE_DIE_NMI
A preferred way of doing this would be to add a new CONFIG_IPMI_USE_IPMI in
arch/i386/Kconfig and arch/x86_64/Kconfig only, then use that in the ipmi
code.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/