Date: Wed, 11 Oct 2000 14:26:08 +0100 (BST)
From:  davej@suse ...
Subject: Re: 2.4.0-test9 + Winchip2/2A processor family == hang on boot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/11/163

On Wed, 11 Oct 2000, Frank de Lange wrote:
> Solved the problem with Winchip not booting. It turns out they do not like the
> code generated by gcc (gcc version 2.95.2 19991024 (release)) when the
> -march=i686 flag is set. Changing this flag to -march=i586 makes to box boot
> like it should.
Makes sense, i686 is used for PPro,P2 (and above) and Athlon.
Winchip is definitly not in their class :)
Cyrix III (which for all intents is a Winchip) should be another
story however.
> It seems the arch/i386/Makefile is incorrect in stating that these
> Winchips are in fact i686 compatible.
*nod* would make sense.
I can't remember if it was me that made this change or not, if so
I'll wear the bag this time :)
I actually thought that the i686 target was the same as the i586 target
with different instruction scheduling rules. Seems my judgement was off.
/me goes to read gcc docs
> Anyway, included is a small patch to solve these problems with Winchips.
Looks okay to me.
This isn't an issue on 2.2.x as we don't have the Winchip target there.
Good work :)
regards,
Dave.
-- 
| Dave Jones <davej@suse.de>  
http://www.suse.de/~davej
| SuSE Labs
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/