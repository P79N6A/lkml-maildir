Date: 11 Oct 2001 13:44:13 -0400
From: Robert Love <>
Subject: Re: Kernel 2.4.12 Compiling error.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/11/142

On Thu, 2001-10-11 at 13:20, Malcolm Mallardi wrote:
> In the new Kernel 2.4.12, when attempting to compile modules, the parport 
> module dies, I'm attempting to compile it with IEEE1284 readback support 
> (HP OJ T45 printer)
This patch fixes:
--- ieee1284_ops.c~     Thu Oct 11 11:10:37 2001
+++ ieee1284_ops.c      Thu Oct 11 11:22:31 2001
@@ -362,7 +362,7 @@
        } else {
                DPRINTK (KERN_DEBUG "%s: ECP direction: failed to reverse\n",
                         port->name);
-               port->ieee1284.phase = IEEE1284_PH_DIR_UNKNOWN;
+               port->ieee1284.phase = IEEE1284_PH_ECP_DIR_UNKNOWN;
        }
        return retval;
@@ -394,7 +394,7 @@
                DPRINTK (KERN_DEBUG
                         "%s: ECP direction: failed to switch forward\n",
                         port->name);
-               port->ieee1284.phase = IEEE1284_PH_DIR_UNKNOWN;
+               port->ieee1284.phase = IEEE1284_PH_ECP_DIR_UNKNOWN;
        }
	Robert Love
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/