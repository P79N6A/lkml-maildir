Date: Mon, 25 Feb 2002 07:32:05 -0800
From: "Martin J. Bligh" <>
Subject: Re: 2.4.18-rcx: Dual P3 + VIA + APIC
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/25/91

> Furthermore it also doesn't work with a UP kernel with Local IO APIC
> support (CONFIG_X86_UP_IOAPIC). Without it does work. It reliably hangs in
> arch/i386/kernel/io_apic.c:check_timer (in 2.4.18-pre8-K3 about line 1510)
>
>         printk(KERN_INFO "..TIMER: vector=0x%02X pin1=%d pin2=%d\n",
> vector, pin1, pin2);
>
>         if (pin1 != -1) {
>                 /*
>                  * Ok, does IRQ0 through the IOAPIC work?
>                  */
>           printk(KERN_ERR "1\n");
>                 unmask_IO_APIC_irq(0);
>           printk(KERN_ERR "2\n");
>                 if (timer_irq_works()) {
>
> The "1" still occurs, then it hangs...
So if you comment out the unmask and the whole if clause
below it, does your system then boot, or do you just crash
and burn a few lines later?
M.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/