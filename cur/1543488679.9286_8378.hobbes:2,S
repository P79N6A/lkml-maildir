Date: Fri, 5 Mar 1999 12:27:15 -0700 (MST)
From: Vassili Leonov <>
Subject: Re: user space writel() etc. in 2.2.2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/5/101

On Fri, 5 Mar 1999, Alan Cox wrote:
OK, finally I am enlightened (by Alan and others). The story is that
there is no portable solution for IO memory acces in current Linux. It is
platform dependent in a non-trivial way:
> > On Fri, 5 Mar 1999, Alan Cox wrote:
> There really isnt an easy one
> 
> ARM	-	no cache coherency
> Alpha	-	offset PCI mapping. PCI I/O space is mapped in strange ways
> 		varies by platform
> PMac	-	PCI bus is endian swapped in hardware
> x86	-	Sane (well its the reference bus)
> Sparc64	-	Basically sane - again PCI I/O space is mapped as memory
> 
> I think you come down to needing an
> 
> 	arch_fooplatform.c (or .tcl)
> 
I will try to put a library to that effect, but I don't have
platforms other then i386. I will cut and pasted code from asm/io.h with
proper adjustments (i.e. no virtual to bus translation, just virtual
mmap()-ed memory). I still have some feeling that it is already done in
io.h, but I will yield.
#------------------------------------#
| Linux Media Labs LLC               |  Vassili Leonov
#------------------------------------#
mailto:vleo@linuxmedialabs.com  
http://linuxmedialabs.com
 
phone:1-719-231-3173
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/