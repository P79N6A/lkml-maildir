Date: Mon, 05 Apr 2004 12:42:05 +0200
From: Marco Fais <>
Subject: Re: kernel BUG at page_alloc.c:98 -- compiling with distcc
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/5/56

Marco Roeland ha scritto:
>>Mmmh, all the servers use an RTL-8139 compatible card, with the same 
>>8139too driver. So this can be the problem.
> Hey, I'm by no means an expert. Suggesting the driver is to blame was
> mostly based on the fact that compiling locally worked, and from a
> remote machine triggered a panick. The rest of your description below
> indicates that it probably *isnt't* the driver.
I was not saying *this is the problem*, just noticing that all the 
systems that show this problem have this network card, while the other 
systems that are working perfectly are using other network hardware 
(e100 driver) :)
>>Ok, next I will test the second network card on the server, just to avoid 
>>the possibility of an hardware failure -- but I have other 4 servers that 
>>show the same behaviour, so I don't think it's caused by faulty hardware.
> If 4 other servers show the same behaviour, and netcatting a lot of data
> doesn't panick the machine, that highly suggests that the network card
> and driver are innocent! I thought only one machine had the problem.
If you read Andrew's message, seems that distcc uses a function that 
trigger the problem -- sendfile() -- so, if netcat doesn't use it, it's 
clear why doesn't panic the kernel.
> Have you tried a local distcc compile, but specifying the host name as
> it's IP address or its real name. Distcc treats 'localhost' differently,
> but if it sees an IP address it will use the network route. As specified
Good test.
Yeah, kernel panic in a few seconds. Using localhost instead, compile 
run perfectly for hours.
So it's definitely an issue related to distcc AND networking (and 
probably interaction between network driver and kernel).
Thank you again for your advice!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/