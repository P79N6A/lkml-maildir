Date: Sat, 28 Jun 2003 22:48:13 +0200 (MEST)
From: "Walter Harms" <>
Subject: Patch 2.4.21 fix use of pid in capabillity.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/28/100

Hi liste,
this is a small patch to fix functions that do not use the 
correct type for pid. daniele bellucci and i have worked this 
out. 
walter
--- kernel/capability.c.org	2003-06-25 22:27:44.000000000 +0200
+++ kernel/capability.c	2003-06-25 22:32:08.000000000 +0200
@@ -21,7 +21,8 @@
 
 asmlinkage long sys_capget(cap_user_header_t header, cap_user_data_t dataptr)
 {
-     int error, pid;
+     int error;
+     pid_t pid;
      __u32 version;
      struct task_struct *target;
      struct __user_cap_data_struct data;
@@ -131,7 +132,8 @@
      kernel_cap_t inheritable, permitted, effective;
      __u32 version;
      struct task_struct *target;
-     int error, pid;
+     int error;
+     pid_t pid;
 
      if (get_user(version, &header->version))
 	     return -EFAULT; 
-- 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/