Date: Mon, 18 Sep 2000 21:18:08 +0400
From: Yuri Pudgorodsky <>
Subject: Re: [User-mode-linux-user] Ptrace broken since 2.4.0-test8pre4?...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/18/27

Jeff Dike wrote:
> yur@asplinux.ru said:
> > Beeing an active user mode linux user :-) I can say that since
> > 2.4.0-test8 (host kernel) I cannot run uml-linux successfully.
>
> > In contrast with popular feeling that "threaded programes screwed
> > signal handling on test8.", it is actually a  small change to arch/
> > i386/ptrace.c introduced since test8pre4.
>
> I don't see a problem with the ptrace fix.  Before changing EIP, UML saves all
> of the process registers into the thread struct.  So that change to ORIG_EAX
> shouldn't matter as far as UML is concerned.
>
>                                 Jeff
But it does matter, one of user-process threads gets SEGV very early
during uml boot under host kernel >= test8.
I can try to localize this place in case you are not able to reproduce
the crash, but I suppose you can see it yourself.
Did you actually try to run uml on that kernels?
Regards,
Yuri Pudgorodsky
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/