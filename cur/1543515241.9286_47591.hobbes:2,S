Date: 07 Nov 1999 17:41:44 +0100
From: Marc ZYNGIER <>
Subject: [2.3.26 SMP] Still crashes in kmem_cache_grow
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/7/56

Well...
It seems that 2.3.x is still giving me a really hard time on my dual
pentiums :
ksymoops 0.7c on i686 2.2.13.  Options used
     -v /usr/src/linux/vmlinux (specified)
     -K (specified)
     -L (specified)
     -O (specified)
     -m /usr/src/linux/System.map (specified)
CPU:    0
EIP:    0010:[<c012ba73>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010286
eax: 0000009f   ebx: c00ee0d8   ecx: c00eefe0   edx: ffffffff
esi: 00000028   edi: c00eefe0   ebp: c1185740   esp: c163be08
ds: 0018   es: 0018   ss: 0018
Process patch (pid: 682, stackpage=c163b000)
Stack: 00000282 00000003 c163bea4 00000020 c00eefe0 c01501c3 00000293 00000001 
       00000003 00000000 c012bcd4 c1185740 00000003 c0266f60 c0266f60 00000000 
       00000400 c0133836 c1185740 00000003 c0266f60 00000000 c0133902 00000001 
Call Trace: [<c01501c3>] [<c012bcd4>] [<c0133836>] [<c0133902>] [<c0133e6b>] [<c0134081>] [<c0134000>] 
       [<c01268e4>] [<c0128de8>] [<c014eb41>] [<c0134000>] [<c01310a6>] [<c010afa4>] 
Code: 89 02 8b 12 4e 83 fe ff 75 bb c7 02 00 00 00 00 fa f0 0f ba 
>>EIP; c012ba73 <kmem_cache_grow+2b3/3a0>   <=====
Trace; c01501c3 <block_getblk+193/390>
Trace; c012bcd4 <kmem_cache_alloc+114/190>
Trace; c0133836 <get_unused_buffer_head+56/100>
Trace; c0133902 <create_buffers+22/370>
Trace; c0133e6b <create_empty_buffers+2b/90>
Trace; c0134081 <block_write_partial_page+81/3f0>
Trace; c0134000 <block_write_partial_page+0/3f0>
Trace; c01268e4 <add_to_page_cache_unique+c4/160>
Trace; c0128de8 <generic_file_write+2e8/3f0>
Trace; c014eb41 <ext2_file_write+21/c0>
Trace; c0134000 <block_write_partial_page+0/3f0>
Trace; c01310a6 <sys_write+e6/110>
Trace; c010afa4 <system_call+34/38>
Code;  c012ba73 <kmem_cache_grow+2b3/3a0>
00000000 <_EIP>:
Code;  c012ba73 <kmem_cache_grow+2b3/3a0>   <=====
   0:   89 02             movl   %eax,(%edx)   <=====
Code;  c012ba75 <kmem_cache_grow+2b5/3a0>
   2:   8b 12             movl   (%edx),%edx
Code;  c012ba77 <kmem_cache_grow+2b7/3a0>
   4:   4e                decl   %esi
Code;  c012ba78 <kmem_cache_grow+2b8/3a0>
   5:   83 fe ff          cmpl   $0xffffffff,%esi
Code;  c012ba7b <kmem_cache_grow+2bb/3a0>
   8:   75 bb             jne    ffffffc5 <_EIP+0xffffffc5> c012ba38 <kmem_cache_grow+278/3a0>
Code;  c012ba7d <kmem_cache_grow+2bd/3a0>
   a:   c7 02 00 00 00    movl   $0x0,(%edx)
Code;  c012ba82 <kmem_cache_grow+2c2/3a0>
   f:   00 
Code;  c012ba83 <kmem_cache_grow+2c3/3a0>
  10:   fa                cli    
Code;  c012ba84 <kmem_cache_grow+2c4/3a0>
  11:   f0 0f ba          lock (bad) 
Compiled with gcc 2.7.2.3, if that matters.
Can anyone (mm experts ?) sugest a way to track this down ? This is
100% repetable within minutes (as always, 2.2.x is OK).
I really want to help killing this one ASAP !
	M.
-- 
Places change, faces change. Life is so very strange.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/