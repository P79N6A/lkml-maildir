Date: Mon, 2 Aug 2004 15:13:36 +1000
From: Nathan Scott <>
Subject: Re: 2.4.26 XFS file space reporting bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/2/3

On Fri, Jul 30, 2004 at 03:42:45PM -0700, Stormy Waters wrote:
> Hi people,
> 
> I think I found a bug in the 2.4.26 kernel,  I have a
I suspect this may be pilot error...
> logical partition (see below) that is partitioned for
> 20 gig's.  when i use df it reports it as 278MB. 
> Which is not even close to 20gb.  This Machine is
Did you run mkfs.xfs on this device right after it was
partitioned?  mkfs.xfs is only going to use as much as
the block layer says it can, so if the kernels in-core
partition table was out of whack, mkfs will be told an
out-of-date device size.
If this may be the case, try rebooting and then see if
mkfs.xfs sees the updated device size.  Also xfs_info /
"mkfs.xfs -fN" output would be useful here, along with
the contents of /proc/partitions.
cheers.
-- 
Nathan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/