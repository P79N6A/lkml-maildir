Date: Sun, 03 Oct 2004 09:45:17 +1000
From: Nigel Cunningham <>
Subject: [Announce]: Software Suspend 2.1-rc1 for 2.6.8.1 and 2.6.9-rc3.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/2/140

Hi all.
Software suspend 2.1-rc1 for the above kernels has been uploaded to
http://softwaresuspend.berlios.de
.
Changes since 2.0.0.109 are pretty minimal, amounting almost exclusively
to compile fixes. There is no new functionality, but some refrigerator
calls have been fixed (hvc console and pdflush in particular).
Since the announcement on the suspend-devel list, one minor issue has
been found which applies to the 2.6.8.1 version only. And additional
patch (which can be applied after the others or popped into the patch
directory before applying) is attached.
Regards,
Nigel
diff -ruN 999-old/kernel/power/suspend.c 999-new/kernel/power/suspend.c
--- 999-old/kernel/power/suspend.c	2004-09-28 08:21:43.000000000 +1000
+++ 999-new/kernel/power/suspend.c	2004-09-28 08:21:33.000000000 +1000
@@ -325,10 +325,11 @@
 
 	/* Now check for graphics class devices, so we can keep the display on while suspending */
 	class = class_find("graphics");
-	if (class)
+	if (class) {
 		list_for_each_entry(class_dev, &class->children, node)
 			device_switch_trees(class_dev->dev, suspend_device_tree);
-	class_put(class);
+		class_put(class);
+	}
 	return 0;
 }
 