Date: Thu, 15 Nov 2001 15:39:16 +0000 (GMT)
From: Mark Cave-Ayland <>
Subject: Constant oops when PnP OS set to 'Y' in BIOS
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/15/69

Hi there,
We are using an old Gigabyte motherboard with latest BIOS release, K6-2
350 processor and Sis5591 chipset with onboard USB as a fileserver using
Mandrake 8.1 (Linux 2.4.8-mdk20).
The problem I have is that when I set the "Plug and Play OS" option in
the BIOS to yes, the system becomes very unreliable and most times never
gets as far as allowing me to login before 'oopsing'.
Similarly, when I enable USB in the BIOS using usb-ohci and try to use our
ADSL Speedtouch modem (using Benoit's driver, not the kernel patch) the
kernel will oops again whilst trying to make a connection using PPP.
I have downloaded the latest 2.4.13 kernel and compiled the source to see
if this solves the problem, but exactly the same problem occurs under
2.4.13.
I think that there may be something wrong in the BIOS code which handles
the SiS chipset as we have tried the same setup on another Intel chipset
machine and both the PnP OS option and USB work fine.
Incidentally whilst compiling the 2.4.13 kernel to test, with PnP set to
'No', I encountered many segment faults which required me to restart gcc
- can't find a trace of one of these at the moment, but I may be able to
dig out something if someone would find them useful. So maybe this is just
a problem that is enhanced by using PnP in the BIOS?
I have included the 2.4.8 oops traces after running through ksymoops as
detailed in the Documentation folder. The first section contains the
'oops' which occurs when PnP OS is set to 'Yes' in the BIOS. The second
section contains the 'oops' which occur when I enable USB and try to
connect via PPP (I have no other USB devices to test with). I hope this is
the correct thing to do. 
If anyone can help, please email me off-list and I will try and do my
best to assist - I do not know enough about this side of things to know
what to do next.
Cheers,
Mark.
[unhandled content-type:application/x-gzip]