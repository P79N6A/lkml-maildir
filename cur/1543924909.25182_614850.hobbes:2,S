Date: Tue, 6 Nov 2007 16:18:32 -0800
From: "Yinghai Lu" <>
Subject: pxeboot broken by commit "x86 setup: handle boot loaders which set up the stack incorrectly"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/6/357

commit 6b6815c6d5d1dc209701d1661a7a0e09a295db2f
Author: H. Peter Anvin <hpa@zytor.com>
Date:   Thu Oct 25 16:11:33 2007 -0700
    x86 setup: handle boot loaders which set up the stack incorrectly
    Apparently some specific versions of LILO enter the kernel with a
    stack pointer that doesn't match the rest of the segments.  Make our
    best attempt at untangling the resulting mess.
    Signed-off-by: H. Peter Anvin <hpa@zytor.com>
with that commit:
Linux version 2.6.24-rc1-smp-g2655e2ce-dirty
(yhlu@mpk12-office-77-204) (gcc version 4.2.1 (SUSE Linux)) #15 SMP
Tue Nov 6 15:42:01 PST 2007
Command line: console=uart8250,io,0x3f8,9600n8
initrd=kernel.org/mydisk10.3_x86_64.gz rw root=/dev/ram0 debug
apic=debug acpi.debug_level=0x0000000f p
without the commit:
Linux version 2.6.24-rc1-smp-g2655e2ce-dirty
(yhlu@mpk12-office-77-204) (gcc version 4.2.1 (SUSE Linux)) #15 SMP
Tue Nov 6 15:42:01 PST 2007
Command line: console=uart8250,io,0x3f8,9600n8
initrd=kernel.org/mydisk10.3_x86_64.gz rw root=/dev/ram0 debug
apic=debug acpi.debug_level=0x0000000f pci=routeirq ip=dhcp
load_ramdisk=1 ramdisk_size=131072
BOOT_IMAGE=kernel.org/bzImage_2.6.24_k8.7
pxeboot entry:
label k
kernel kernel.org/bzImage_2.6.24_k8.7
append console=uart8250,io,0x3f8,9600n8
initrd=kernel.org/mydisk10.3_x86_64.gz rw root=/dev/ram0 debug
apic=debug acpi.debug_level=0x0000000f pci=routeirq ip=dhcp
load_ramdisk=1 ramdisk_size=131072
YH
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/