Date: Wed, 21 Jan 2004 20:13:11 -0500 (EST)
From: Rik van Riel <>
Subject: Re: sched-idle and disk-priorities for 2.6.X
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/21/216

On Thu, 22 Jan 2004, Pavel Machek wrote:
> doing 
> 
> ulimit -m 1
> <some task>
> 
> should make that task run with extremely low priority, right?
Yeah, when the box is under memory pressure, pages from that
task should never hit the active list.  Instead, they should
always stay on the inactive list and the non-referenced pages
from that app should get reclaimed.
OTOH, if the app keeps referencing all pages, maybe I need
to tune up the aggressiveness a bit and also reclaim the
referenced pages ... if the current patch doesn't work right
I'll make a more aggressive one.
Note that RSS limit enforcement is always lazy, because
otherwise the RSS limited task will hog the IO subsystem
full-time and slow everything else down ... even when there's
more than enough memory.
-- 
"Debugging is twice as hard as writing the code in the first place.
Therefore, if you write the code as cleverly as possible, you are,
by definition, not smart enough to debug it." - Brian W. Kernighan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/