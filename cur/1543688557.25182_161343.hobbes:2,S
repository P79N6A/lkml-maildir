Date: Fri, 29 Aug 2003 19:49:19 +0100
From:  cb-lkml@fish ...
Subject: [2.6.0-test4] IDE power management
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/29/189

Since 2.6.0-test4, and in -mmX IDE power management no longer works for
me.  Using Fn+F12 to initiate APM suspend-to-disk, the suspend starts as
normal, then the disk spins down, which is wrong, because the disk spins
up again to perform the actual save-to-disk operation.
The laptop is a Sony Vaio 333MHz celeron, with a PIIX4 IDE controller.
This used to work fine in all previous kernels.
I get the following log messages:
hda: start_power_step(step: 0)
hda: start_power_step(step: 1)
hda: complete_power_step(step: 1, stat: 50, err:0)
hda: completing PM request, suspend
hda: a request made it's way while we are power managing
--- power down/up occurs here
hda: Wakeup request inited, waiting for !BSY...
hda: start_power_step(step: 1000)
hda: completing PM request, resume
...
hda: lost interrupt
The hard disk won't allow any accesses any more.
APM suspend to RAM doesn't work properly on this machine, so I haven't
tested that.
Charlie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/