Date: Mon, 28 Mar 2005 17:47:06 +0200
From: Andi Kleen <>
Subject: Re: i386/x86_64 segment register issuses (Re: PATCH: Fix x86 segment register access)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/28/102

"H. J. Lu" <hjl@lucon.org> writes:
> The new assembler will disallow them since those instructions with
> memory operand will only use the first 16bits. If the memory operand
> is 16bit, you won't see any problems. But if the memory destinatin
> is 32bit, the upper 16bits may have random values. The new assembler
Does it really have random values on existing x86 hardware?
If it is a only a "theoretical" problem that does not happen
in practice I would advise to not do the change.
> will force people to use
>
> 	mov (%eax),%ds
> 	movw (%eax),%ds
> 	movw %ds,(%eax)
> 	mov %ds,(%eax)
>
> Will it be a big problem for kernel people?
Well, we re getting used to the tool chain regularly breaking
perfectly good code.
You would not get more than the usual curses and only waste
a couple hundred man hours of testers worlwide scratching their heads
why their kernel does not compile anymore. World economy 
will probably survive ite  ;-)
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/