Date: Mon, 13 Sep 2004 13:50:27 -0400
From: Jon Smirl <>
Subject: Re: radeon-pre-2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/13/195

How's this going to work with hotplug? Hotplug works by associating a
device with a driver by the PCI ID table contained in the driver. Both
the fbdev and DRI drivers currently contain the same PCI IDs for the
cards that the chipsets they support.
So when a card gets hotplugged, which driver do I load? If it's the
VGA driver, then how do I tell the VGA driver that I want to use fbdev
or DRM? What if I want a different one on each head?
There is one VGA driver and multiple fbdev/DRM drivers, one for each chipset.
I guess you need to build something into the VGA driver that gets the
PCI ID tables out of the various fbdev/DRM drivers and combine them
into a single table visible to hotplug.  Then let the VGA driver take
the hotplug event. The VGA driver can then search it's table and
figure out which driver to initialize.
What if I have two identical PCI video cards. Don't we need an
initialization file to say load DRM on the one in slot 1 and fbdev on
the one in slot 2?
-- 
Jon Smirl
jonsmirl@gmail.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/