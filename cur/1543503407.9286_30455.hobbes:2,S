Date: Tue, 20 Jul 1999 20:41:49 +0100 (BST)
From: Alan Cox <>
Subject: Re: Linux 2.2.11pre2 proposed patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/20/130

> Having trouble with networking lockups with this kernel. Intel eepro100.
> Kernel is compiled UP. Everything else appears to work but interface locks
> up seemingly at random, with or without any activity. ifconfig down/up the
> interface seems to free it back up. Ethernet drivers are compiled in, not
> modules. No errors logged anywhere.
> 
> I have not experianced this problem with 2.2.10 (linus' kernel). Happend
> just now as I was finishing the above sentance.
Very odd. There is only a tiny alignment change to the eepro100. Does this
fix it
--- linux.pre11.3/drivers/net/eepro100.c	Mon Jul 19 23:27:30 1999
+++ linux.vanilla/drivers/net/eepro100.c	Tue Feb 23 14:21:33 1999
@@ -343,8 +343,7 @@
 	const char *product_name;
 	struct device *next_module;
 	spinlock_t lock;
-	struct TxFD	tx_ring[TX_RING_SIZE] 	/* Commands (usually CmdTxPacket). */
-				__attribute__ ((aligned (L1_CACHE_BYTES)));;
+	struct TxFD	tx_ring[TX_RING_SIZE];	/* Commands (usually CmdTxPacket). */
 	/* The saved address of a sent-in-place packet/buffer, for skfree(). */
 	struct sk_buff* tx_skbuff[TX_RING_SIZE];
 	struct descriptor  *last_cmd;	/* Last command sent. */
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/