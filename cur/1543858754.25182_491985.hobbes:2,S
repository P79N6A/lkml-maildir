Date: Fri, 15 Dec 2006 12:31:03 -0800
From: Andrew Morton <>
Subject: Re: sysfs file creation result nightmare
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/15/164

On Sat, 16 Dec 2006 07:16:13 +1100
Benjamin Herrenschmidt <benh@kernel.crashing.org> wrote:
> > Beware that sysfs_remove_bin_file() will complain loudly if you later
> > attempt to delete that file that was never created.
> 
> That's another problem... what is a driver that creates 15 files
> supposed to do ? Have 15 booleans to remember which files where
> successfully created and then test all of them on cleanup ? That sounds
> like even more bloat to me...
That's the sort of thing which should be done inside sysfs_create_group()
and sysfs_remove_group().
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/