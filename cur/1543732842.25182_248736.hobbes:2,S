Date: 03 Sep 2004 10:27:19 -0400
From: Greg Stark <>
Subject: Re: Crashed Drive, libata wedges when trying to recover data
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/3/208

Alan Cox <alan@lxorguk.ukuu.org.uk> writes:
> On Gwe, 2004-09-03 at 05:52, Greg Stark wrote:
> > I get the same message and the same basic symptom -- any process touching the
> > bad disk goes into disk-wait for a long time. But whereas before as far as I
> > know they never came out, now they seem to come out of disk-wait after a good
> > long time. But then maybe I just never waited long enough with 2.6.6.
> 
> This looks hopeful. You are now seeing the IDE layer error dump. Right
> now it doesn't decode the LBA block number although that data is
> available in the taskfile so I can knock up a test patch for you to try
> if you want.
Well I still have a problem. It seems once this occurs that *every* further
access generates the error. Even directories that I had previously been able
to list fail.
So while my machine isn't crippled once this happens, I still can't proceed
with the recovery.
And they seem to take 12 minutes to fail. I guess that indicates they were
either trying to do 24 blocks of readahead, or some combination of readahead
and retries from a higher layer.
-- 
greg
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/