Date: Sun, 01 Oct 2000 10:21:34 -0500
From: Robert Redelmeier <>
Subject: Soft-Updates for Linux ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/1/104

I'm wondering if there are any plans to bring Kirk McKusick's "Soft-Updates"
to Linux in 2.5 ???  Kirk has recently modified his licence (friendlier).
I could only find some noncomittal postings on LKML from 1997.
S-U brings considerable benefits akin to JFS for crash protection to *BSD 
systems.  Essentially, they are ordered disk writes that makes sure data 
gets on the disk before metadata is altered.  They go through the buffering 
system, so performance isn't bad. 
As an experiment, I pulled the plug towards the end of 5 FreeBSD kernel 
compiles (SMP `make -j4`). In all cases, the fsck upon restart was minor, 
just freeing inodes. In four of the cases, `make` just picked up where 
it left off, and finished the kernel compile, losing only ~40 seconds work! 
In one case, a `make clean` had to be done because something was incomplete. 
You boys and girls don't try this at home on Linux! The ext2 fsck is horrible 
after a powerfail, and I've lost superblocks and had to re-install :( . 
-- Robert
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/