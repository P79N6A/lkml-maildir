Date: Mon, 14 Feb 2000 17:49:10 +0100
From: Manfred Spraul <>
Subject: 2.3.45: gtcd causes high cpu load
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/14/105

It seems that the block device changes hit gtcd really hard:
gtcd tries to open/close /dev/cdrom several times a second, and with
2.3.45, close(fh) takes around 0.128 seconds on my Dual PII/350 with 192
MB Ram.
Actually, this means that gtcd is unusable, it causes nearly 100% cpu
load on one cpu.
* open("/dev/cdrom"): identical
* ioctl(CDROMREADTOCHDR): slightly slower
* ioctl(CDROMREADTOCENTRY): 10* slower than 2.2.14
* close(fh): more than 100* slower than 2.2.14
* ioctl(CDROMSUBCHNL): 4* slower
I'm running gtcd version 1.0.40, as shipped with RedHat 6.1, and my
CD-ROM is an IDE DVD drive.
--
	Manfred
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/