Date: Mon, 18 Jun 2007 01:42:42 +0200
From: Adrian Bunk <>
Subject: [2.6 patch] proper prototype for proc_nr_files()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/17/305

This patch adds a proper prototype for proc_nr_files() in 
include/linux/fs.h
Signed-off-by: Adrian Bunk <bunk@stusta.de>
---
 include/linux/fs.h |    5 +++++
 kernel/sysctl.c    |    4 +---
 2 files changed, 6 insertions(+), 3 deletions(-)
--- linux-2.6.22-rc4-mm2/include/linux/fs.h.old	2007-06-17 03:50:01.000000000 +0200
+++ linux-2.6.22-rc4-mm2/include/linux/fs.h	2007-06-17 03:56:37.000000000 +0200
@@ -302,6 +302,7 @@
 #include <linux/init.h>
 #include <linux/pid.h>
 #include <linux/mutex.h>
+#include <linux/sysctl.h>
 
 #include <asm/atomic.h>
 #include <asm/semaphore.h>
@@ -2116,5 +2117,9 @@
 { }
 #endif	/* CONFIG_SECURITY */
 
+int proc_nr_files(ctl_table *table, int write, struct file *filp,
+		  void __user *buffer, size_t *lenp, loff_t *ppos);
+
+
 #endif /* __KERNEL__ */
 #endif /* _LINUX_FS_H */
--- linux-2.6.22-rc4-mm2/kernel/sysctl.c.old	2007-06-17 03:51:37.000000000 +0200
+++ linux-2.6.22-rc4-mm2/kernel/sysctl.c	2007-06-17 03:51:51.000000000 +0200
@@ -47,13 +47,11 @@
 #include <linux/nfs_fs.h>
 #include <linux/acpi.h>
 #include <linux/reboot.h>
+#include <linux/fs.h>
 
 #include <asm/uaccess.h>
 #include <asm/processor.h>
 
-extern int proc_nr_files(ctl_table *table, int write, struct file *filp,
-                     void __user *buffer, size_t *lenp, loff_t *ppos);
-
 #ifdef CONFIG_X86
 #include <asm/nmi.h>
 #include <asm/stacktrace.h>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/