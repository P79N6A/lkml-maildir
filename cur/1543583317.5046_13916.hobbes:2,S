Date: Wed, 28 Feb 2001 06:04:12 +0100 (CET)
From: Mike Galbraith <>
Subject: Re: [patch][rfc][rft] vm throughput 2.4.2-ac4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/2/28/22

On Tue, 27 Feb 2001, Marcelo Tosatti wrote:
> On Tue, 27 Feb 2001, Mike Galbraith wrote:
>
> > What the patch does is simply to push I/O as fast as we can.. we're
> > by definition I/O bound and _can't_ defer it under any circumstance,
> > for in this direction lies constipation.  The only thing in the world
> > which will make it better is pushing I/O.
>
> In your I/O bound case, yes. But not in all cases.
That's one reason I tossed it out.  I don't _think_ it should have any
negative effect on other loads, but a test run might find otherwise.
> > What we do right now (as kswapd) is scan a tiny portion of the active
> > page list, and then push an arbitrary amount of swap because we can't
> > possibly deactivate enough pages if our shortage is larger than the
> > search area (nr_active_pages >> 6).. repeat until give-up time.  In
> > practice here (test load, but still..), that leads to pushing soon
> > to be unneeded [supposition!] pages into swap a full 3/4 of the time.
(correction: it's 2/3 of the time not 3/4.. off by one bug in fingers;)
> Have you tried to use SWAP_SHIFT as 4 instead of 5 on a stock 2.4.2-ac5 to
> see if the system still swaps out too much?
Not yet, but will do.
	-Mike
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/