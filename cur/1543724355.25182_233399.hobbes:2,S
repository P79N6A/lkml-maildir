Date: Sat, 10 Jul 2004 11:42:12 -0400
From: Adam Kropelin <>
Subject: Re: [PATCH] preset loops_per_jiffy for faster booting
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/10/94

On Fri, Jul 09, 2004 at 07:01:58PM -0700, Todd Poynor wrote:
> Adam Kropelin wrote:
> 
> > +	if (preset_lpj) {
> > +		loops_per_jiffy = preset_lpj;
> > +		printk("Calibrating delay loop (skipped)... ");
> 
> Suggest a "\n" at the end of that.
Indeed. I propogated that bug from the original patch. I'll fix it.
> Maybe add the precomputed value to 
> help bring incorrect presets to someone's attention, something like:
> 
> +		printk("BogoMIPS preset to %lu.%02lu\n",
> +			loops_per_jiffy/(500000/HZ),
> +			(loops_per_jiffy/(5000/HZ)) % 100);
Will do.
>  > + If unsure, set this to 0. An incorrect value will cause delays in
>  > + the kernel to be incorrect.  Although unlikely, in the extreme case
>  > + this might damage your hardware.
> 
> I suppose it may result in unpredictable I/O errors, in case we want to 
> warn against that.
Easy enough to throw it in.
Another patch is forthcoming.
--Adam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/