Date: Fri, 21 Sep 2001 17:39:03 +0200 (CEST)
From: Andreas Steinmetz <>
Subject: Re: 2.4.10-pre13: Panic mounting initrd
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/21/100

On 21-Sep-2001 Nick Ivanter wrote:
> Andreas,
> 
> Looks like you somehow haven't compiled ext2fs support into your new kernel. 
> Try to check that.
> 
If things would be that easy...
Snippets from a slight modification to mount_root() in fs/super.c
        for (fs_type = file_systems ; fs_type ; fs_type = fs_type->next) {
printk("VFS: Processing %s\n",fs_type->name);
                if (!(fs_type->fs_flags & FS_REQUIRES_DEV))
                        continue;
                if (!try_inc_mod_count(fs_type->owner))
                        continue;
printk("VFS: Trying %s\n",fs_type->name);
And now the results during boot (snippets again):
VFS: Processing bdev
VFS: Processing proc
VFS: Processing sockfs
VFS: Processing tmpfs
VFS: Processing pipefs
VFS: Processing ext2
VFS: Trying ext2
VFS: Processing msdos
VFS: Trying msdos
VFS: Processing vfat
VFS: Trying vfat
VFS: Processing iso9660
VFS: Trying iso9660
VFS: Processing nfs
VFS: Processing reiserfs
VFS: Trying reiserfs
Kernel Panic: ...
This clearly shows that there's definitely something going _very_ wrong.
Best bet is loading/decompression of initrd. As far as I'm following the list
there were initrd modifications discussed/done by Alexander Viro/Andrea
Arcangeli.
Andreas Steinmetz
D.O.M. Datenverarbeitung GmbH
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/