Date: Mon, 18 Sep 2006 17:42:56 +0200
From: Ingo Molnar <>
Subject: Re: tracepoint maintainance models
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/18/155

* Frank Ch. Eigler <fche@redhat.com> wrote:
> > I think your implementation is questionable if it causes any kind of 
> > jumps and conditions, even marked unlikely. Just put the needed data 
> > in a seperate section which can be used by the debugging tools. 
> > [...] No need to actually mess with the code for the usual cases.
> 
> Trouble is that it is specifically the *unusual* cases that need 
> compiler assistance via static markers, otherwise we'd manage with 
> just k/djprobes & debuginfo type efforts.
i think it's all fine as long as it's just a single 5-byte NOP that we 
are inserting - because in the *usual* case the 'parameter access 
side-effects' should have no effect. They will have an effect in the 
*unusual* case though, but that's very much by design - and it's not a 
performance issue because it's 1) unusual, 2) at most means a bit 
different code organization by gcc. It very likely wont mean any extra 
branches even in the unusual case. Or do i underestimate the scope of 
the problem? ;-)
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/