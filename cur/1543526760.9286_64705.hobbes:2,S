Date: Mon, 21 Feb 2000 11:48:26 +0100 (CET)
From: Gianluca Anzolin <>
Subject: [PATCH] - eexpress.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/21/53

I found a bug which prevented the intel etherexpress card to service an
interrupt when the first packet is received (just after the card is
initialized) and no other packet was sent before.
Here follows the patch.
Bye,
	Gianluca Anzolin
--- eexpress.c.orig	Mon Feb 21 11:41:19 2000
+++ eexpress.c	Mon Feb 21 11:42:01 2000
@@ -649,6 +649,7 @@
 			ack_cmd |= SCB_RUstart;
 			scb_wrrfa(dev, lp->rx_buf_start);
 			lp->rx_ptr = lp->rx_buf_start;
+			lp->started |= STARTED_RU;
 		}
 		ack_cmd |= SCB_CUstart | 0x2000;
 	}