Date: Fri, 17 Sep 1999 09:41:02 +0100 (BST)
From: Malcolm Beattie <>
Subject: Re: > 15K simultaneous connections EXAMPLE program/OS config needed,  was: Re: POSIX aio vs  completion ports
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/17/19

Rogier Wolff writes:
> If you're handling lots of outgoing connections (unlikely), you might
> run into trouble.  Suppose we want ephemeral (sp?) ports, the kernel
> might say "Sorry, none found" when you've used all of them. This is
> incorrect (but nobody has run into it yet). After one round around the
> port space searching for an unused port, the kernel should just
> allocate a port that's already used. Then you can connect to any
> IP/port, except the one that the existing connection is already
> connected to. If the kernel knows the destination IP/port at that
> time, it should try to avoid that situation. Otherwise, it should just
> hope for the best.
If that were to be implemented, I'd be unhappy with the "hope for the
best": if it wants behaviour like that, it should probably explicitly
ask for it with SO_REUSEADDR or similar.
--Malcolm
-- 
Malcolm Beattie <mbeattie@sable.ox.ac.uk>
Unix Systems Programmer
Oxford University Computing Services
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/