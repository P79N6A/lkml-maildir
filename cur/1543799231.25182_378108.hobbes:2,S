Date: Wed, 21 Dec 2005 12:37:43 +0100
From: Marc Koschewski <>
Subject: [PATCH] conditionally #ifdef-out unused DiB3000M-C/P functions
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/21/68

The following tiny patch removes the two DiB3000M-C/P functions
int dibusb_dib3000mc_tuner_attach()
int dibusb_dib3000mc_frontend_attach()
that are not needed in case the module is not compiled. The modules a800 as well
as nova-t-usb2 select DVB_DIB3000MB in Kconfig thus the functions will be
enabled due to the module being compiled.
Regards,
	Marc
*** dibusb-common.c-orig	2005-12-21 11:04:49.000000000 +0100
--- dibusb-common.c	2005-12-21 11:05:32.000000000 +0100
*************** int dibusb_read_eeprom_byte(struct dvb_u
*** 168,173 ****
--- 168,174 ----
  }
  EXPORT_SYMBOL(dibusb_read_eeprom_byte);
  
+ #ifdef CONFIG_DVB_USB_DIBUSB_MC
  int dibusb_dib3000mc_frontend_attach(struct dvb_usb_device *d)
  {
  	struct dib3000_config demod_cfg;
*************** int dibusb_dib3000mc_tuner_attach (struc
*** 193,198 ****
--- 194,200 ----
  	return 0;
  }
  EXPORT_SYMBOL(dibusb_dib3000mc_tuner_attach);
+ #endif
  
  /*
   * common remote control stuff
[unhandled content-type:application/pgp-signature]