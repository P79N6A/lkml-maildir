Date: Tue, 24 Aug 1999 20:59:56 +0100 (BST)
From: Russell King <>
Subject: Re: RPC: sendmsg returned error 101
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/24/130

Werner Almesberger writes:
> I've seen this too, on RedHat 6.0. About the following sequence of actions
> occurred:
>  - shutdown
>  - tried to umount NFS. Failed because a process was running off it (cwd
>    and executable on NFS, possibly also some open files)
>  - network was shut down
>  - something made the system want to use NFS (*)
>  - a looong sequence of 101s
>  - me timing out, hitting reset
I seem to remember having a similar problem to this.  I have a diskless
machine (caramon) which runs root-nfs'd and uses cron to dial up to the
'net at certain times.
I used to export it's root-nfs from a machine which was turned on by
a timeswitch (but the timeswitch never turned it off).  With this
setup, when 2.1 or 2.2 was put on the root-nfs'd machine, I noticed
that cron was complaining each time the nfs server started up.
What appeared to happen was that caramon detected that the server was
unavailable, and kept retrying.  When the machine with the NFS server on
started, cron would die due to something like error 101.  Since this is
a hard mount, I investigated.
I now have a patch (which I forwarded to the nfs-devel list) which nicely
fixes this, and I have been running it since 2.2.0 with no problems what
so ever.  The patch fixes the sunrpc client code.  Unfortunately, the
nfs-devel list did not appear interested, so although the patch is
still alive and in use, it didn't go anywhere.
IMHO, the killing of cron on a NFS client machine is a DoS attack.
   _____
  |_____| ------------------------------------------------- ---+---+-
  |   |         Russell King        rmk@arm.linux.org.uk      --- ---
  | | | |   
http://www.arm.linux.org.uk/~rmk/aboutme.html
    /  /  |
  | +-+-+                                                     --- -+-
  /   |               THE developer of ARM Linux              |+| /|\
 /  | | |                                                     ---  |
    +-+-+ -------------------------------------------------  /\\\  |
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/