Date: Tue, 29 Aug 2000 21:53:57 -0700 (PDT)
From: "David A. Gatwood" <>
Subject: Re: hfs support for blocksize != 512
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/30/28

On Tue, 29 Aug 2000, Tony Mantler wrote:
> (Obligitory disclaimer: QNX is an embedded operating system, both it's
> architecture and target market is considerably different from Linux's)
> 
> QNX's filesystem interfaces make it so painfully easy to write a filesystem
> that it puts everything else to shame. You can easily write a fully
> functioning, race-free, completely coherent filesystem in less than a week,
> it's that simple.
I'd interject that it's not a very fair comparison between the kernel
complexity of an RTOS and a full fledged traditional OS, but go on.... 
;-)
> Now, let's say you do an 'ls' on the FOO directory. The FS api would tap
> your filesystem on the shoulder and ask "Hey you, what's in the FOO
> directory?". Your filesystem would reply "BAR and BAZ".
It might also reply with a stat structure, depending on the
implementation, but otherwise, yeah, this is a good model to move towards.
> So what does it all mean? Basically, if you want hugely complex dentries,
> and inodes as big as your head, you can do that. If you don't, more power
> to you. It's all entirely contained inside your specific FS code, the FS
> api doesn't care one bit. It just asks you for files.
Indeed, that's what a VFS layer should do -- abstract away all physical
structure, inodes, etc., leaving only the file abstraction.  I've read
that the BSD-derived OSes have vnode interfaces that are remarkably
similar to what you're describing, i.e. the concept isn't restricted to
RTOSes.
Note that I haven't touched the Linux VFS layer since 2.0.xx, so I'm not
in a position to comment on the current state of the code.  :-)
Later,
David
---------------------------------------------------------------------
A brief Haiku:
Microsoft is bad.
It seems secure at first glance.
Then you read your mail.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/