Date: Mon, 30 Aug 2004 12:50:59 +0100
From: Peter Horton <>
Subject: PS/2 mouse driver panics during boot - 2.6.8.1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/30/65

Every other time I boot my x86 box the kernel panics in
psmouse_interrupt() because ->protocol_handler is NULL. Looks like
psmouse_connect() runs before ->protocol_handler is set and generates an
interrupt from the mouse. The mouse driver is built in, and I'm not
passing it any parameters.
This is a Micro$oft Wireless Optical Mouse 2.0A.
The call stack is something like this
	psmouse_interrupt
	serio_interrupt
	i8042_interrupt
	handle_IRQ_event
	do_IRQ
	common_interrupt
	__do_softirq
	do_softirq
	do_IRQ
	common_interrupt
	i8042_command
	i8042_activate_port
	i8042_open
	i8042_interrupt
	serio_open
	psmouse_connect
	serio_find_dev
	serio_register_port
	i8042_port_register
	i8042_init
	serio_init
P.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/