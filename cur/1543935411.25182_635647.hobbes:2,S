Date: Tue, 8 Jan 2008 16:51:19 +0100
From: Ingo Molnar <>
Subject: Re: [PATCH] call sysrq_timer_list_show from a workqueue
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/8/188

* Rusty Russell <rusty@rustcorp.com.au> wrote:
> On Tuesday 08 January 2008 22:33:23 Ingo Molnar wrote:
> > * Rusty Russell <rusty@rustcorp.com.au> wrote:
> > > +/* FIXME: Risky: returns a pointer into a module w/o lock */
> >
> > stupid question: since module unloads are so rare, why isnt this via 
> > the same mechanism that CPU hotplug uses to securely unregister 
> > CPUs? I.e. quiet all CPUs, disable irqs on all of them, then unlink 
> > the module.
> 
> That's what we do.  This old locking stuff is legacy.
oh, wonderful :-)
> And here's the patch for the FIXME (which I put in to remind myself):
> 
> Make module_address_lookup safe
cool :-)
finally we have a _really_ sane symbols subsystem. Kudos :)
	Ingo