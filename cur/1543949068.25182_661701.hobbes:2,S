Date: Fri, 29 Feb 2008 10:39:18 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [RFC/PATCH] RLIMIT_ARG_MAX
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/29/270

On Fri, 29 Feb 2008, Michael Kerrisk wrote:
> 
> My reading of POSIX.1 (and POSIX doesn't seem very explicit on this point), is
> that the limits on argv+environ and on stack are decoupled, since POSIX
> specifies RLIMIT_STACK and sysconf(_SC_ARG_MAX) and doesn't specify any
> relationship between the two.
I agree. And clearly there _are_ relationships and always have been, but 
equally clearly they simply haven't been a big issue in practice, and 
nobody really cares.
Usually, _SC_ARG_MAX is just so much smaller than RLIMIT_STACK that it 
makes no possible difference.  Which I would actually argue we should just 
continue with: just keep _SC_ARG_MAX a smallish, irrelevant constant.
We still have to have the compile-time ARG_MAX constant (as in *real* 
constant - a #define) anyway, for traditional programs, and you might as 
well make sysconf(_SC_ARG_MAX) always just match ARG_MAX.
It's not like there is likely a single user of _SC_ARG_MAX that cares.
			Linus