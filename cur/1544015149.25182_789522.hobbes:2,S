Date: Fri, 9 Jan 2009 14:09:38 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: [PATCH -v7][RFC]: mutex: implement adaptive spinning
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/9/379

On Fri, 9 Jan 2009, Harvey Harrison wrote:
> > 
> > Of course, at that point you might as well argue that the thing should not 
> > exist at all, and that such a flag should just be removed entirely. Which 
> > I certainly agree with - I think the only flag we need is "inline", and I 
> > think it should mean what it damn well says.
> 
> Also agreed, but there needs to start being some education about _not_ using
> inline so much in the kernel.
Actually, the nice part about "inline_hint" would be that then we could 
have some nice config option like
  #ifdef CONFIG_FULL_CALL_TRACE
   #define inline_hint noinline
  #elif defined(CONFIG_TRUST_COMPILER)
   #define inline_hint /* */
  #else
   #define inline_hint __inline
  #endif
and now the _only_ thing we need to do is to remove the
	#define __inline	__force_inline
thing, and just agree that "__inline" is the "native compiler meaning". 
We have a few users of "__inline", but not very many. We can leave them 
alone, or just convert them to __inline__ or inline.
			Linus