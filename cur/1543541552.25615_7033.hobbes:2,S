Date: Sun, 13 Aug 2000 01:05:55 -0300
From: Arnaldo Carvalho de Melo <>
Subject: [PATCH] hostess_sv11.c: restore_flags on failure
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/12/162

Alan,
       Please take a look and consider applying.
                        - Arnaldo
--- linux-2.4.0-test7-pre2/drivers/net/wan/hostess_sv11.c	Tue Jul 11 15:12:24 2000
+++ linux-2.4.0-test7-pre2.acme/drivers/net/wan/hostess_sv11.c	Sun Aug 13 01:04:20 2000
@@ -305,6 +305,7 @@
 	if(z8530_init(dev)!=0)
 	{
 		printk(KERN_ERR "Z8530 series device not found.\n");
+		restore_flags(flags);
 		goto dmafail2;
 	}
 	z8530_channel_load(&dev->chanB, z8530_dead_port);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/