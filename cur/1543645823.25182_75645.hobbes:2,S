Date: Wed, 02 Oct 2002 18:20:06 +0900 (JST)
From: YOSHIFUJI Hideaki / 吉藤英明  <>
Subject: Re: 2.4.18+IPv6+IPV6_ADDRFORM
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/2/46

In article <20021001163221.73061.qmail@web9607.mail.yahoo.com> (at Tue, 1 Oct 2002 09:32:21 -0700 (PDT)), Steve G <linux_4ever@yahoo.com> says:
> According to it, calling getsockopt() with level
> IPPROTO_IPV6 and option IPV6_ADDRFORM should get the
> option value. However, I get a socket error. I changed
> the level to IPPROTO_IP and the call goes through, but
> Richard Stevens' book states that AF_INET or AF_INET6
> should be returned rather than 0 or 1.
> 
> 1) should the level really be IPPROTO_IPV6?
> 2) do other platforms use IPPROTO_IP to retrieve this
> option or said another way, is the behavior observed
> in Linux portable?
> 3) should the returned value be 0 & 1 or AF_INET &
> AF_INET6?
> 4) Is this a deprecated option and likely to be
> dropped?
IPV6_ADDRFORM is deprecated.
I believe that it should be removed.
> Also, the Sus v3, states there is a socket option:
> level IPPROTO_IPV6, option IPV6_V6ONLY...will this be
> supported in 2.4 or 2.6? A grep -r doesn't get any
> hits from /usr/include.
We, USAGI Project, have implementation for it,
and we are about to contribute it here.
-- 
Hideaki YOSHIFUJI @ USAGI Project <yoshfuji@linux-ipv6.org>
GPG FP: 9022 65EB 1ECF 3AD1 0BDF  80D8 4807 F894 E062 0EEA
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/