Date: Tue, 27 Jul 2004 14:47:50 +0300
From: Denis Vlasenko <>
Subject: Re: SuSE 9.1 NON SMP Linux box and SMP Linux box
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/27/73

On Tuesday 27 July 2004 12:35, Srinivas G. wrote:
> Hi,
>
> We developed a device driver for PCI card under SuSe 9.1 with kernel
> version 2.6.5-7.71. It was working fine in the NON SMP environment. It
> was compiled and running fine under NON SMP environment(non SMP linux
> box).
>
> We tried to compile it on SMP Linux box with the same SuSe 9.1 having
> the same kernel version 2.6.5-7.71. We got the following compilation
> errors.
>
> line 897: warning: passing arg 1 of  '_raw_spin_lock' from imcompatible
> pointer type line 1051: error: Invalid type arguement of 'unary *'
                                              ^^^^^^^^^
Please do not retype error messages - cut and paste them instead.
> We have gone through the code at that particular line numbers. In both
> the places we found the spin lock related information only. The lines
> were showed below.
>
> line 897:
> spin_lock_irqsave(&tiDev->genFM[uiSocket].blkqueue->queue_lock,flags);
> line 1051:  spin_lock_init(gDisk->qlock);
>
> What was the mistake? Any help greatly appreciated. Thanks in advance.
Show declarations of structures containing qlock and queue_lock
members.
--
vda
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/