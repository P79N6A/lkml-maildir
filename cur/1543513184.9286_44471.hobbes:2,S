Date: Sun, 17 Oct 1999 01:41:27 +0100
From: Xenitellis S <>
Subject: Problem with "loadlin linux initrd=root.bin", possibly due to LS1 20 drive
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/16/98

Hello,
	I am trying to install Linux over the network, doing 
a floppyless installation. 
	The computer (Celeron 400) has:
1. LS120 drive (IDE device)
2. Hard disk
3. CDROM
	An almost similar configuration, but with a *real* floppy drive
and no LS120, works as expected. Thus, I suspect that the LS120
has something to do with it or the absence of a floppy drive.
The procedure to install is:
	RedHat 6.1: 		loadlin vmlinuz initrd=initrd.img
	Debian (unstable): 	loadlin linux root=/dev/ram initrd=root.bin
In both cases, the kernel boots, normal kernel messages appear and
the system freezes with a "kernel panic: VFS: Unable to mount fs on 01:00",
which is /dev/ram, the ramdisk.
I assume the "Loadlin" is supposed to put the initrd image into memory 
so that the booted kernel can find the installation code to work with.
Kernels tried without success:
Kernel version: 2.2.12 (RH6.1 installation)
Kernel version: 2.0.36 (Debian unstable)
Kernel version: 2.2.6
Kernel messages:
	...
	hda: WDC ...
	hdb: LS-120 VERS 00 UHD Floppy, ATAPI FLOPPY DRIVE
	hdc: CDROM ...
	ide0: <ok>
	ide1: <ok>
	floppy0: no floppy controllers found
	...
	Partition check:
	hdb: 123264kB, 963/8/32 CHS, 533 kBps, 512 sector size, 720 rpm
	hdb: no media in drive
	   hda: hda1 hda2 < >
	...
	[MS-DOS FS Rel: 12 FAT 0, ....]
	[me=0x0, cs=0x0, ...<all rest equall to zero>, fc=4294967295]
	Transaction block size = 512 
	Kernel panic: VFS: Unable to mount root fs on 01:00
[Why would it need to read an MSDOS FS?]
[On certain versions of the kernel, there where no MSDOS FS lines
at the end, probably because there was not FAT support in the kernel]
Thanks in advance,
Simos Xenitellis
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/