Date: Wed, 7 Mar 2007 21:48:36 +0100
From: Willy Tarreau <>
Subject: Re: [2.6.22 patch] the scheduled removal of OBSOLETE_OSS options
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/7/539

Hi Adrian !
On Wed, Mar 07, 2007 at 08:56:02PM +0100, Adrian Bunk wrote:
(...)
> > Real problem is that we can expect several "sound does not work anymore"
> > because people doing "make oldconfig" will get no warning at all about
> > the removed options. Remember people complaining about keyboard not working ?
> 
> There already were two kernel releases where people had to say
> explicitely "yes" to "Obsolete OSS drivers" with a quite clear help text
> for getting these OSS drivers.
To be fair, I did not notice it, but I think that people who will miss it
will have skipped 2 versions, in which case they can reasonably expect
enough changes to be very careful when updating their config.
> And did you complain when all the SATA options were renamed in 2.6.19
> without any warnings in previous kernels and far more user-visible 
> effects than some obsolete OSS drivers (and no driver for your hard 
> disk even prevents booting)?
No, because I have no SATA disk ;-)
> Or about the mess with the mes with the netfilter options when upgrading 
> from 2.6.19 to 2.6.20?
Yes I've noticed this one, and at least it was clearly visible !
> If you didn't, this is the wrong patch to start complaining about...
Don't get me wrong, I'm not complaining. I just realized from previous
post that options disappearing produce no warning on make oldconfig, and
that it is easy to get trapped, even though there's nothing harmful.
> > Perhaps the real problem is more Kconfig than OSS, but it would be fine if
> > we found a solution to enumerate the list of options which have been removed
> > when they do their make oldconfig.
> 
> Printing won't help - there are two many options (some even not user 
> visible) that disappear with each kernel release.
Sometimes I do a diff between old and new config, and I do not notice
that many changes. So maybe a simple report at the end saying "The
following options have been removed" may catch people's attention
when it lists something which looks like a driver they know they use.
Anyway, I don't have time to propose something in this area, and I
know that talking is cheap, showing the code is another matter.
Cheers,
Willy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/