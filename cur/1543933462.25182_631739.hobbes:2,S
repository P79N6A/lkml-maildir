Date: Tue, 25 Dec 2007 14:35:40 +0100
From: Pierre Ossman <>
Subject: Re: relation between mmc_request, mmc_data and mmc_command
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/25/27

On Sun, 23 Dec 2007 23:25:26 -0800
"raki john" <raki4652@gmail.com> wrote:
> 
> Does  mmc_requeest->stop is equal  to mmc_request->data->stop ?
> 
> Does  mmc_request   is equal  to mmc_request->data->mrq ?
> 
> Does mmc_request->data   is equal  to   mmc_request->cmd->data ?
> 
> Does mmc_request   is equal  to mmc_request->cmd->mrq  ?
> 
Yes on all accounts. I don't know the reason for this extreme redundancy. It was there long before I got involved.
> 
> I think Stop command which is part of mmc_request is used for sending stop
> command after Multi Block write. is this correct. If stop command fails(CRC
> fail, timeout), does this mean card  write failed.
> 
It is correct that it is used for multi block writes. But also other open ended transfers.
If the stop command fails, then the card will be in an unknown state. The write should have been completed though.
Rgds
Pierre
[unhandled content-type:application/pgp-signature]