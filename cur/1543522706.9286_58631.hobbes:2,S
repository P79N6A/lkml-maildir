Date: Wed, 19 Jan 2000 15:17:00 -0500 (EST)
From: James A Simmons <>
Subject: Re: Interesting analysis of linux kernel threading by IBM
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/20/37

> Hi guys,
> 
> I've seen the article made by Ray Bryant with Bill Hartner about scheduler
> performance.
> On June 1999 I posted a scheduler patch that instead do a linear scan of the
> runnable task list, it "slotify" tasks based on its goodness.
Do you still have this patch? Have you though about send it to IBM for 
testing? They had some code in the paper to test the schedular
performance. So I was wondering also if anyone tried the patch
on other platforms (PowerPC) to see if they get a performace boost as
well. One of the points the IBM paper made was about the goodness
function. Using their code to test performace of the schedular you can see
from their test results that the goodness function increases linearly with
the increase number of process. So it would interesting to see how your
patch changes that behavior. 
> With "only" 300 tasks it'll give me an 80% faster times.
> Is my thought that this patch must be included inside the scheduler since it
> gives higher performances
> with a lot of tasks and a 15 % less with 2 tasks ( at the same amount of
> switches / second ).
> The fact is that 2 tasks makes a lower switches / second than 300, therefore
> the 15% less is relative to a very lower time, so it can be quantified as
> about the same performance.
> Say that 2 tasks make 10% of switches / second relative to 300 tasks, the 2
> tasks case give a lower
> performance of about 1.5 % or less.
> Now, given the fastest performance with an increasing number of processes,
> and given that the number of
> tasks a Linux machine must handle today ( SMP, IBM S39 port , etc ... ) I
> think that this patch can be useful.
From their tests under normal load the average number of process on the
run queue is 32 but it did go up to over 400. The standard deviation was
19.2 if I remember right.  
Codito, ergo sum - "I code, therefore I am"
James Simmons                                                      (o_
fbdev/gfx developer                                      (o_  (o_ //\
http://www.linux-fbdev.org
                              (/)_ (/)_ V_/_
http://linuxgfx.sourceforge.net
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/