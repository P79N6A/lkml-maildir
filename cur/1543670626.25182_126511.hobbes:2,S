Date: Mon, 21 Apr 2003 16:05:53 +0200
From: Pierfrancesco Caci <>
Subject: booting 2.5.68 with root on software raid and devfs?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/21/70

Hi,
anyone has an idea why 2.5.68 can't boot (it sends a panic, can't
mount root on md(9,0) message and dies) off a raid1+devfs setup that
works perfectly on 2.4.x ?
I have the suspect that something in the naming of devices has
changed, but I can't find any reference by googling around.
Here's my setup, as 2.4.21-pre7 sees it:
root@penny:~ # mount            
/dev/md/0 on / type ext3 (rw)
proc on /proc type proc (rw)
/dev/penny/niglia on /usr type ext3 (rw)
/dev/penny/viola on /var type ext3 (rw)
/dev/penny/tippete on /home type ext3 (rw)
/dev/kim/felix on /usr/src type ext3 (rw)
/dev/kim/isidoro on /home/ftp/pub type ext3 (rw,noatime)
/dev/gattaia/pink on /scratch type ext3 (rw)
tmpfs on /dev/shm type tmpfs (rw)
usbdevfs on /proc/bus/usb type usbdevfs (rw)
root@penny:~ # cat /proc/mdstat 
Personalities : [raid0] [raid1] 
read_ahead 1024 sectors
md0 : active raid1 ide/host0/bus1/target1/lun0/part1[1] ide/host0/bus0/target0/lun0/part1[0]
      248896 blocks [2/2] [UU]
md1 : active raid1 ide/host0/bus1/target1/lun0/part2[1] ide/host0/bus0/target0/lun0/part2[0]
      39896576 blocks [2/2] [UU]
unused devices: <none>
root@penny:~ # head /etc/lilo.conf
#disk=/dev/hda
# bios=0x80
#disk=/dev/hdd
# bios=0x81
boot=/dev/md0
root=/dev/md0
raid-extra-boot=/dev/hda,/dev/hdd
#compact
#linear
lba32
Any ideas where to start looking ?
Thanks
Pf
-- 
-------------------------------------------------------------------------------
 Pierfrancesco Caci | ik5pvx | mailto:p.caci@tin.it  -  
http://gusp.dyndns.org
  Firenze - Italia  | Office for the Complication of Otherwise Simple Affairs 
     Linux penny 2.4.21-pre7 #1 Sat Apr 12 09:12:33 CEST 2003 i686 GNU/Linux
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/