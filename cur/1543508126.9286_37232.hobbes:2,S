Date: Fri, 3 Sep 1999 18:50:31 +0200 (CEST)
From: Andrea Arcangeli <>
Subject: Re: CONFIG_BIGMEM and rawio
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/3/92

On Fri, 3 Sep 1999, Stephen C. Tweedie wrote:
>Hi,
>
>On Fri, 3 Sep 1999 15:41:23 +0200 (CEST), Andrea Arcangeli
><andrea@suse.de> said:
>
>> If your object is to put the bounce-buffer in ll_rw_block and to allow
>> the bigmemory to go into the page-cache IMHO you'll slowdown the
>> system too much. The buffer copies trashes the CPU cache. I thought to
>> do that too (I think I also mentioned that in one of my first emails
>> about bigmem).
>
>We already have patches flying around for cache-bypass bulk memory
>copies on P6.  By restricting the page cache to 1G when you have 4G of
>free memory on a large web server, you are also slowing down the system
>too much. :) And of course, in the long term the bounce buffers will
In the envinroments where you _need_ more than 2gigabyte of memory between
anonymous memory and shm memory the use of the bigmem-memory as page-cache
_can't_ improve performances.
>Nonsense!  You do only one copy, inside ll_rw_block.  You do it before
If you don't show me the code it's hard to understand what are you doing
exactly and what you mean with buffer-bounce. You said you was doing what
my swap code does. But my code replaces the memory completly, it's not
only an helper memory for the I/O.
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/