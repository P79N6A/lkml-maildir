Date: 19 Jul 2000 11:57:09 +0200
From: Sascha Ziemann <>
Subject: 2.2.16 smbfs buggy
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/19/15

Hi,
I have a problem with the smbfs of the Linux 2.2.16 kernel.  I import
some shares from a NT 4 system.  When I copy some files to the mounted
directory, Linux loses some files.  For example: I copy 6 files to the
NT system and after this there are only 2 files displayed by ls.  But
all 6 files are stored on the NT system.  So the copy is successful,
but Linux thinks it isn't and removes the files from the directory
cached in memory.  When I reconnect, I can see all 6 files.  I get the
following error messages in the log files:
Jul 19 09:55:51 extra0 kernel: smb_create: Programme/Ne03: failed, error=-2
Jul 19 09:55:51 extra0 kernel: smb_create: Programme/Ne03:. failed, error=-13
Jul 19 09:55:51 extra0 kernel: smb_create: Programme/Ne03:. failed, error=-13
Jul 19 09:59:46 extra0 kernel: smb_create: Programme/Ne03: failed, error=-2
Jul 19 09:59:46 extra0 kernel: smb_create: Programme/Ne03:. failed, error=-13
Jul 19 09:59:46 extra0 kernel: smb_create: Programme/Ne03:. failed, error=-13
Jul 19 09:59:48 extra0 kernel: smb_create: Programme/Ne03: failed, error=-2
Jul 19 09:59:48 extra0 kernel: smb_create: Programme/Ne03:. failed, error=-13
Jul 19 09:59:48 extra0 kernel: smb_create: Programme/Ne03:. failed, error=-13
Jul 19 10:00:02 extra0 kernel: smb_create: VORLAGEN/~$L_DEU_97.DOC failed, error=-13
Jul 19 10:00:02 extra0 kernel: smb_create: VORLAGEN/~$L_DEU_97.DOC failed, error=-13
Jul 19 10:00:37 extra0 kernel: smb_create: Programme/Ne03: failed, error=-2
Jul 19 10:00:37 extra0 kernel: smb_create: Programme/Ne03:. failed, error=-13
Jul 19 10:00:37 extra0 kernel: smb_create: Programme/Ne03:. failed, error=-13
Jul 19 10:05:29 extra0 kernel: smb_create: Programme/Ne03: failed, error=-2
Jul 19 10:05:29 extra0 kernel: smb_create: Programme/Ne03:. failed, error=-13
Jul 19 10:05:29 extra0 kernel: smb_create: Programme/Ne03:. failed, error=-13
Does anybody know what goes wrong and how I can fix it?  Is it
possible to tell smbfs to turn off the directory cache?
bis sp√§ter...
Sascha
-- 
Ein Hoch auf den 7. Juni 2000
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/