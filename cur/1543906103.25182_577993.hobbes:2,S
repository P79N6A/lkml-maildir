Date: Wed, 01 Aug 2007 15:22:52 +0200
From: Jan Altenberg <>
Subject: [PATCH] AT91: include atmel_lcdc.h in at91sam926{1,3}_devices.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/1/180

Hi all,
current git doesn't compile for CONFIG_ARCH_AT91SAM926{1,3} and
and CONFIG_FB_ATMEL enabled, due to a missing inclusion of atmel_lcdc.h:
/home/jan/kernel/git/linux-2.6/arch/arm/mach-at91/at91sam9263_devices.c: In function ‘at91_add_device_lcdc’:
/home/jan/kernel/git/linux-2.6/arch/arm/mach-at91/at91sam9263_devices.c:688: error: dereferencing pointer to incomplete type
/home/jan/kernel/git/linux-2.6/arch/arm/mach-at91/at91sam9263_devices.c:688: error: ‘lcdc_data’ has an incomplete type
This error should also have occured in the past, because atmel_lcdc.h
has never been included.
Signed-off-by: Jan Altenberg <jan.altenberg@linutronix.de>
---
 arch/arm/mach-at91/at91sam9261_devices.c |    2 ++
 arch/arm/mach-at91/at91sam9263_devices.c |    2 ++
 2 files changed, 4 insertions(+)
Index: linux-2.6/arch/arm/mach-at91/at91sam9261_devices.c
===================================================================
--- linux-2.6.orig/arch/arm/mach-at91/at91sam9261_devices.c
+++ linux-2.6/arch/arm/mach-at91/at91sam9261_devices.c
@@ -15,6 +15,8 @@
 
 #include <linux/platform_device.h>
 
+#include <video/atmel_lcdc.h>
+
 #include <asm/arch/board.h>
 #include <asm/arch/gpio.h>
 #include <asm/arch/at91sam9261.h>
Index: linux-2.6/arch/arm/mach-at91/at91sam9263_devices.c
===================================================================
--- linux-2.6.orig/arch/arm/mach-at91/at91sam9263_devices.c
+++ linux-2.6/arch/arm/mach-at91/at91sam9263_devices.c
@@ -14,6 +14,8 @@
 
 #include <linux/platform_device.h>
 
+#include <video/atmel_lcdc.h>
+
 #include <asm/arch/board.h>
 #include <asm/arch/gpio.h>
 #include <asm/arch/at91sam9263.h>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/