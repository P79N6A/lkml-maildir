Date: Sat, 19 May 2001 14:48:15 +0400
From: Ivan Kokshaysky <>
Subject: Re: alpha iommu fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/19/47

On Fri, May 18, 2001 at 10:34:36PM -0400, Tom Vier wrote:
> 	hose->sg_pci = iommu_arena_new(hose, 0xc0000000, 0x08000000, 32768);
> 	*(vip)CIA_IOC_PCI_W3_BASE = 0xc0000000 | 1;
> 	*(vip)CIA_IOC_PCI_W3_MASK = (0x08000000 - 1) & 0xfff00000;
> 	*(vip)CIA_IOC_PCI_T3_BASE = 0x80000000 >> 2;
This is incorrect. If you want directly mapped PCI window then you don't
need the iommu_arena for it. If you want scatter-gather mapping, you
should write address of the SG page table into the T3_BASE register.
Ivan.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/