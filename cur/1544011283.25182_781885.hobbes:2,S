Date: Wed, 17 Dec 2008 17:56:58 -0800
From: Andrew Morton <>
Subject: Re: [PATCH] clocksource: pass clocksource to read() callback
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/17/461

On Thu, 11 Dec 2008 20:48:02 +0900
Magnus Damm <magnus.damm@gmail.com> wrote:
> Pass clocksource pointer to the read() callback for clocksources.
> This allows us to share the callback between multiple instances.
sparc64 allmodconfig:
  CHK     include/linux/version.h
  CHK     include/linux/utsrelease.h
  SYMLINK include/asm -> include/asm-sparc
  CC      arch/sparc/kernel/asm-offsets.s
In file included from include/linux/ktime.h:25,
                 from include/linux/timer.h:5,
                 from include/linux/clocksource.h:16,
                 from /usr/src/devel/arch/sparc/include/asm/timer_64.h:11,
                 from /usr/src/devel/arch/sparc/include/asm/timer.h:4,
                 from /usr/src/devel/arch/sparc/include/asm/timex_64.h:9,
                 from /usr/src/devel/arch/sparc/include/asm/timex.h:4,
                 from include/linux/timex.h:170,
                 from include/linux/sched.h:54,
                 from arch/sparc/kernel/asm-offsets.c:13:
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: division by zero in #if
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: division by zero in #if
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: division by zero in #if
include/linux/jiffies.h:247:31: division by zero in #if
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: division by zero in #if
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: division by zero in #if
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: warning: "CLOCK_TICK_RATE" is not defined
include/linux/jiffies.h:247:31: division by zero in #if