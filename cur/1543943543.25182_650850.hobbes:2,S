Date: Sat, 09 Feb 2008 11:56:14 +0100
From: Martin Schwidefsky <>
Subject: Re: CONFIG_HIGHPTE vs. sub-page page tables.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/9/57

On Sat, 2008-02-09 at 11:37 +0100, Ingo Molnar wrote:
> i think the worst is over already and i'm reasonably sure that there are 
> no more bugs in it - this _is_ a 1:1 patch after all, so in theory the 
> worst side-effect should be build breakages due to include file 
> spaghetti. The window for this particular breakage was just 256 commits, 
> that's OK i think.
Except for the breakage of all nommu architectures .. they need the
pgtable_t as well due to the pte_fn_t type.
> If you want less stress next time around you might want to consider 
> pushing such patches via individual architectures, so that it can all be 
> shaken out (and such build bugs are found quickly) and pushed via the 
> architecture trees. (Even such a patch that changes the number of 
> cross-arch function arguments and introduces a new type can be 
> architectured in a way to make it per arch.)
I'll try that with the __pte_free_tlb macro to inline conversion patch.
This one is really driving me nuts, the dependencies of the macros in
asm/pgalloc, asm/tlb.h and asm-generic/tlb.h for the different archs are
pure evil.
-- 
blue skies,
  Martin.
"Reality continues to ruin my life." - Calvin.