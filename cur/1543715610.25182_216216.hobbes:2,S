Date: Sun, 25 Apr 2004 20:02:03 -0500
From: Nathan Lynch <>
Subject: [PATCH] ppc64: remove duplicated mb() and comment from __cpu_up
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/25/77

Hi-
This seems to have slipped in during a manual merge at some point. Patch 
is against 2.6.6-rc2-mm1.
Nathan
diff -rU 5 linux-2.6.6-rc2-mm1/arch/ppc64/kernel/smp.c linux-2.6.6-rc2-mm1.new/arch/ppc64/kernel/smp.c
--- linux-2.6.6-rc2-mm1/arch/ppc64/kernel/smp.c	2004-04-25 19:45:24.000000000 -0500
+++ linux-2.6.6-rc2-mm1.new/arch/ppc64/kernel/smp.c	2004-04-25 19:50:46.000000000 -0500
@@ -893,14 +893,10 @@
 		memset(tmp, 0, PAGE_SIZE); 
 		paca[cpu].xStab_data.virt = (unsigned long)tmp;
 		paca[cpu].xStab_data.real = virt_to_abs(tmp);
 	}
 
-	/* The information for processor bringup must be written out
-	 * to main store before we release the processor. */
-	mb();
-
 	/* The information for processor bringup must
 	 * be written out to main store before we release
 	 * the processor.
 	 */
 	mb();