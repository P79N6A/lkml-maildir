Date: Thu, 10 Aug 2000 21:06:08 +0100 (BST)
From: James Sutherland <>
Subject: Re: [Announce] Linux Test Project
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/10/140

On Thu, 10 Aug 2000, Nathan Straz wrote:
> On Thu, Aug 10, 2000 at 05:03:15PM +0100, James Sutherland wrote:
> > On Thu, 10 Aug 2000, David Mansfield wrote:
> > > Ideally, in the case where something bad but not as fatal as complete
> > > lockup happens, the test bed should diagnose the fault.  This could be
> > > capturing the oops, or running ps -alx to see where it's stuck.
> > 
> > Yep. Using a serial console should enable reasonable information capture,
> > and the script can have a standard set of "failure responses" to run if a
> > test returns a failure of any sort?
> 
> While I definately want to support serial consoles and network logging
> for large testing environments (like product testing), I also want LTP
> to work on a single system environment.  I think that's important to
> have for the average Linux hacker.  If Joe User finds a problem with in
> the kernel I want him to be able to run LTP on his box to get detailed
> testing information that someone else can analyze and use to solve the
> problem.  
A good aim. I was thinking in terms of a testing farm a la SourceForge for
this idea. To support home use, writing to a file using O_SYNC is probably
the most flexible? Writing to a printer as ASCII would probably be better
where possible; if/when the machine reboots, the printer would just print
up to the point where the box died, and then spit the page out.
> > > In all the cases where I've tested the kernel, it has been a matter of
> > > 'Here is the test which crashes the kernel, let's see if it crashes this
> > > one, too' and I just want to throw this into the consideration of how to
> > > best create a test harness.
> > 
> > Indeed. The other question is, how to handle deadlocks? I'd probably use a
> > serial console, being logged by another machine; if the machine dies, just
> > reboot, then have the machine resume testing where it left off.
> 
> That would be the easy case.  How do you reboot a locked machine over a
> serial console?  
On a testing farm, you just use a remote switch (APC sell something along
these lines for this purpose, IIRC): the monitoring machine will just pull
the plug remotely. For home use, you'd have to be sitting nearby unless
you have a watchdog card installed, I suspect?
James.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/