Date: Mon, 8 Mar 1999 12:55:21 -0600 (CST)
From: Bob McElrath <>
Subject: Debugging hard hang/IRQ problems (advice needed) [es1370/es1371]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/8/93

I'm trying to fix the es1370/es1371 driver (both OSS and ALSA) for Alpha.
The problem is that when trying to do PCM audio, the kernel hangs hard, and
the audio output is a continous buzzing.  I've narrowed it down to the
IRQ/DMA code.  I can prevent it from crashing by NOT enabling audio output
(commenting out the line that tells the card to start playing), and when
output is enabled, I know that the IRQ handler does get called immediately
before it crashes.  Commenting out the entire IRQ handler, and even
de-registering the IRQ handler have no effect on the behaviour.
I've run out of ideas to try, and I need some advice on how to tackle such a
problem.  As far as I know there is no way to step through an interrupt
handler, and I have nothing like a fancy PCI bus analyzer to help me.  If
anyone who has successfully debugged an interrupt/DMA related problem like
this for drivers, I'd REALLY appreciate any advice you can offer.  Links,
HOWTO's, offers for a PCI analyzer... ;)
TIA,
-- Bob
Bob McElrath (rsmcelrath@students.wisc.edu) Univ. of Wisconsin at Madison
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/