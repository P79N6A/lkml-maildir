Date: Tue, 18 Jan 2005 12:47:01 +0100
From: Mario Holbe <>
Subject: Re: 2.4: "access beyond end of device" after ext2 mount
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/1/18/60

On Tue, Jan 18, 2005 at 11:55:47AM +0100, Andries Brouwer wrote:
> I suppose that what happens is the following:
> mounting sets the blocksize to 4096.
> After reading 9992360 sectors, reading the next block means reading
> the next 8 sectors and that fails because only 6 sectors are left.
> Test that this is what happens using blockdev --getbsz.
Yes! This was the command I was looking for ;)
root@darkside:~# blockdev --getbsz /dev/hdg7
4096
root@darkside:~# blockdev --getbsz /dev/hdg6
1024
root@darkside:~# mount -t ext3 -o ro /dev/hdg6 /mnt
root@darkside:~# umount /dev/hdg6 
root@darkside:~# blockdev --getbsz /dev/hdg6
4096
> If you want to restore the device to full size, use
> blockdev --setbsz 512.
Does that in any way hurt, if a filesystem is just mounted?
I mean, what would happen, if I mount /dev/hdg7 and then
set the block size back to 1024? Would that perhaps corrupt
my filesystem or something like that?
Mario
-- 
<jv> Oh well, config
<jv> one actually wonders what force in the universe is holding it
<jv> and makes it working
<Beeth> chances and accidents :)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/