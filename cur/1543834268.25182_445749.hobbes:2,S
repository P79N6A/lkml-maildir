Date: Fri, 21 Jul 2006 16:37:23 +0200
From: Frederik Deweerdt <>
Subject: Re: [PATCH] fs: Memory allocation cleanups
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/21/77

On Fri, Jul 21, 2006 at 01:50:55PM +0200, takis@issaris.org wrote:
> -		dnotify_req = (struct dir_notify_req *) kmalloc(
> -						sizeof(struct dir_notify_req),
> +		dnotify_req = kmalloc(sizeof(struct dir_notify_req),
>  						 GFP_KERNEL);
						^^^^^ 
Should be aligned with the kmalloc?
> -	ext_acl = (reiserfs_acl_header *) kmalloc(sizeof(reiserfs_acl_header) +
> -						  acl->a_count *
> +	ext_acl = kmalloc(sizeof(reiserfs_acl_header) + acl->a_count *
>  						  sizeof(reiserfs_acl_entry),
>  						  GFP_NOFS);
						^^^^^
This should be aligned too, I think.
Regards,
Frederik
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/