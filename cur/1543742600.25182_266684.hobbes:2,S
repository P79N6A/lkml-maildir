Date: Sat, 30 Oct 2004 19:52:33 +0200
From: Arjan van de Ven <>
Subject: Re: PCI changes kill USB PM
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/30/136

On Sat, 2004-10-30 at 10:44 -0700, David Brownell wrote:
> Where "now" is "after a change from Arjan in May";
> recent changes made it a more significant problem.
> 
> I agree with the guts of your patch -- adding the
> missing "else" in:
> 
> 	if (pci_driver && pci_driver->suspend)
> 		pci_driver->suspend(pdev, state);
> 	else
> 		pci_save_state(pdev);
> 
> That makes Arjan's patch only affect PCI drivers
> which don't know how to suspend/resume themselves;
> that's all his patch was supposed to affect.
well the idea back then was to just always save so that drivers could be lazy and only provide a specialized restore. However I agree with this change now that the API changed where regular state saves use the same storage area. 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/