Date: Thu, 25 Nov 2004 18:07:18 +0100
From: Pavel Machek <>
Subject: Re: Suspend 2 merge: 9/51: init/* changes.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/26/67

Hi!
> 1) Make name_to_dev_t non init. Why should you need to reboot if all you
> want to do is change the device you're using to suspend? That's M_'s way
Well, if you change it using /proc and forget to change kernel cmd line, you'll have
a problem. Do you really change this so often?
And if you really want to make it changeable, pass major:minor from userland; once
userland is running getting them is easy.
> 2) Hooks for resuming. Suspend2 functionality can be compiled as modules
> or built in. Resuming can be activated via an initrd. These hooks allow
> for all of the combinations of the above. Allowing resuming from within
> an initrd is important because then you can set up LVM volumes
> (including encrypted devices), compile drivers for your resume device as
> modules and so on.
Hmm , this will need a lot of testing and a lot of care... You for example
mah not write to your fs's before activating it. And if you use this feature,
kernel no longer has chance to kill suspend signature on normal boot,
making "shoot(self, foot)" easier.
But for encrypted stuff it is probably only way to go, so... Just
make sure people are not using it unless they *have* to.
				Pavel
-- 
64 bytes from 195.113.31.123: icmp_seq=28 ttl=51 time=448769.1 ms         
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/