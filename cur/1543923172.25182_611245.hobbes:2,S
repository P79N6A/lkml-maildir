Date: Sun, 28 Oct 2007 22:21:50 +0100
From: Andi Kleen <>
Subject: Re: [PATCH] Fix x86_64 TIF_SYSCALL_TRACE race in entry.S
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/28/162

> Setting the thread flag being an atomic operation, I would expect
> setting/clearing it asynchronously from another thread to be a valid
It could be a very short stop. Also do you start kernel tracing that often?
> Here is a modified version where I add my test only in the path where we
> know that we have work to do, therefore removing the supplementary test
> from the performance critical path. Would it be more acceptable ?
It's better, but stopping would be even better. I wouldn't
be surprised if there are other problems with async thread flags changing.
Also I object to you calling this a bug. It's a new feature.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/