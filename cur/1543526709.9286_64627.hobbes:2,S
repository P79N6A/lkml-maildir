Date: Mon, 21 Feb 2000 01:35:18 +0100
From: Jan-Benedict Glaw <>
Subject: Re: Periodic RTC interrupt
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/20/132

On Mon, Feb 21, 2000 at 12:28:09AM +0100, Guest section DW wrote:
> On Sun, Feb 20, 2000 at 08:54:35PM +0100, Jan-Benedict Glaw wrote:
> 
> > Well, after a kernel crash, you'll "only" have to wait for fsck to finish.
> > But it is no fun at all to come up in 2055 (or so) because hwclock's
> > fallback method (which is to access the ISA bus, I think) fails (no RTC..).
> > 
> > After this, "make" will fail, accounting systems report very strange times
> > and so on... That's really not nice;( I think for these reasons, the
> > RTC drivers should be fixed.
> 
> If you think Linux should be improved, you won't find many to
> contradict you on this list.  If however you think that the
> bugs you see will vanish by magic without your detailed bug
> report, you unfortunately are mistaken.
> 
> So, if anything is wrong with hwclock, report in detail to the maintainer.
> (Hint: that's me - aeb@cwi.nl)
> In case you think that the bug might in fact be a linux kernel bug,
> cc to this list.
The "bug" is somewhere in between:
- I used to buiild RTC as a module
- This was fine and hwclock used /dev/rtc
- The new Alpha changes made the module un-loadable (IRQ8 is in use so rtc.o
  refuses to work)
- hwclock failed (but set some very strange time/date values). IMHO it
  shouldn't have used mem access to get values from the RTC chip
--> so the new changes triggered the fault at all.
Now I'm building 2.3.47-7 (with rtc as a module again) to see wheather rtc.o
loads again or not...
> Bug reports, in detail, that is what we need.
> Not vague muttering `should be fixed'.
I know about that;) And as I noted some mails ago I'll send AA my comments
on 2.3.47-7 after it is built (takes hours;(
MfG, JBG
PS: Which architectures wequire hwclock to use anythink != /dev/rtc
    nowadays?
-- 
Fehler eingestehen, Größe zeigen: Nehmt die Rechtschreibreform zurück!!!
keyID=0x8399E1BB fingerprint=250D 3BCF 7127 0D8C A444 A961 1DBD 5E75 8399 E1BB
[unhandled content-type:application/pgp-signature]