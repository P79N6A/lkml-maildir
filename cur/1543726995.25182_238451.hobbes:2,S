Date: Tue, 3 Aug 2004 21:06:49 +0200
From: Sam Ravnborg <>
Subject: Re: modversion.h in kernel 2.6.x
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/3/137

On Tue, Aug 03, 2004 at 02:55:20PM -0700, Lei Yang wrote:
> Hello,
> 
> Could anyone tell me what happened with modversion.h in 2.6.x? I want to
> build a module whose makefile indicates that,
> 
> ifdef CONFIG_MODVERSIONS
> MODVERSIONS:= -DMODVERSIONS -include
> $(KERNEL_DIR)/include/linux/modversions.h
> CKERNOPS += $(MODVERSIONS)
> endif
This is a sign of a broken module.
Request the author to use the kbuild infrastructure when building the module.
See Documentation/kbuild/modules.txt and Driver porting series at lwn.net for
good examples.
If you do not need CONFIG_MODVERSION then try to disable it and compile
the module, you may be lucky that it works.
But be carefull not to enable any options that may change ABI, for example reg-parm=3
is know to cause problems if not used consistently.
	Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/