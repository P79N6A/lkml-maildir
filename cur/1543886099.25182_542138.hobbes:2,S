Date: Wed, 09 May 2007 22:32:53 +1000
From: Rusty Russell <>
Subject: Re: [patch 2/9] lguest: the guest code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/9/219

On Wed, 2007-05-09 at 15:13 +0300, Pekka Enberg wrote:
> Hi Rusty,
> 
> On 5/9/07, Rusty Russell <rusty@rustcorp.com.au> wrote:
> >         Hmm, where would the error go?
> 
> Let it propagate: scan_devices -> lguest_bus_init -> do_initcalls. We
> probably don't want to panic() if bus_register and device_register
> fail there either.
Hi Pekka,
	Hey, thanks, I didn't realize that do_initcalls() now takes some note
when an initcall fails.  But I'm pretty sure a local error message is
more informative than "initcall at 0xc0123408: returned with error code
2" etc.
	And I agree about the panic: bus_register and device_register should
panic for us if they fail this early in boot.  But I don't think they
do...
Thanks,
Rusty.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/