Date: Fri, 15 Jan 1999 15:55:23 -0500 (EST)
From: "Richard B. Johnson" <>
Subject: Re: *** next draft - press release ***
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/15/182

On Fri, 15 Jan 1999, Albert D. Cahalan wrote:
> Alexander Viro writes:
> > On Fri, 15 Jan 1999, Albert D. Cahalan wrote:
> 
> >>>> new life to older 486-based computers. Support is widely available
> >>>
> >>> Here we should change that 486-based to 386-based ... don't limit our
> >>> suporting to the lower end ... someone is still using 386 :)
> >>
> >> Hopefully that will be an option left for hackers only.
> >> 386 support cuts into performance and SMP support.
> >
> > 	How so? When did you look at the code last time?
> 
> Bad WP bit on a 386 - need an extra test at least.
> No invlpg instruction - must invalidate the whole cache.
The cache is small. Reloading works.
> No byte swap instruction - must shift and mask and add/or.
It has the XCHG instruction. XCHG AL,AH just swapped bytes.
> IRQ 13 is used for both SMP and FPU - trouble AFAIK.
>
You can't mean SMP. There are no SMP i386s. Work-arounds
for the shared interrupt are (were) in the kernel as is
the FPU emulation for boxes without the external FPU.
> The second problem at least could be mostly fixed with
> self-modifying kernel code. Nobody cared enough though,
> since the 386 is so uncommon.
Code should not have to be self-modifying at all. If you compile
for a '486++ machine, you can use '486++ instructions, otherwise
you have to use XCHG.
If somebody removed support for the '386 it's undocumented and
therefore broken. If the intention was to remove such support
then the FPU emulation should be removed because '486 processors
have internal FPUs. Given this, the documentation should show
that the '386 is no longer supported.
`grep 386 Configure.help`
Configure.help:  a math coprocessor built in, 486SX and 386 do not, unless
 you added
Configure.help:  arch/i386/math-emu/README.
Configure.help:CONFIG_M386
Configure.help:  "386" here. If you specify one of "486" or "Pentium" or "PPro",
Configure.help:  then the kernel will run on all x86 architectures except on
 386.
Configure.help:   - "386" for the AMD/Cyrix/Intel 386DX/DXL/SL/SLC/SX and
Configure.help:     Cyrix/TI 486DLC/DLC2. Only "386" kernels will run on a
 386 class
Configure.help:  If you don't know what to do, choose "386".
Configure.help:  of the kernel clock (100 Hz on i386) and have performance
 impact 
Configure.help:  /dev/audio, compatible with the Linux/i386 sound system.
 Otherwise,
	... clearly shows that the '386 is currently supported.
Cheers,
Dick Johnson
                 ***** FILE SYSTEM WAS MODIFIED *****
Penguin : Linux version 2.1.131 on an i686 machine (400.59 BogoMips).
Warning : It's hard to remain at the trailing edge of technology.
Wisdom  : It's not a Y2K problem. It's a Y2Day problem.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/