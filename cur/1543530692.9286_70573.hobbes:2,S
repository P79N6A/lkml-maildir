Date: Sun, 19 Mar 2000 02:16:21 -0600 (CST)
From: Thomas Molina <>
Subject: Re: 2.3.99pre2 compile problem for sound blaster
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/19/64

On Sun, 19 Mar 2000, Stefan Becker wrote:
Arrrggghhh!! Stupid me.  I looked at that code numerous times and the
static declaration didn't register.  That fixes it for me too.  Paul
Laufer sent me a different patch which I'll try in the morning since
it's 0200 now.  Sound works for me with a couple of anomalies.  
First, it appears I can't get soundblaster support recognized.  I tried
both using the soundblaster emulation in the pas2 append as well as
adding the proper sb append.  My append line in lilo.conf looks like
this:
append="ide0=dma opl3=0x388 pas2=0x388,10,3,-1,0,-1,-1,-1
sb=0x220,5,1,1"
(all on one line of course).
Second, playmidi gives me a no playback devices found error.  I'll
assume this is a configuration problem on my part until proven
otherwise.
Adding all this is making my append line grow.  I hope this doesn't
start to be a problem.
> Hello!
> 
> Thomas Molina wrote:
> [...]
> > > > drivers/sound/sounddrivers.o: In function `sb_dsp_unload':
> > > > drivers/sound/sounddrivers.o(.text+0x3056): undefined reference to
> > > > `sbmixnum'
> > > > make: *** [vmlinux] Error 1
> [...]
> > I'll try again, but I don't believe so.  It should be a clean 2.3.51
> > patched with 2.3.99pre followed by pre2-3.
> 
> I have the same problem.
> The attached patch solves it but I don't know whether it is the right
> solution.
> 
> Stefan
--------------------------------
    [ Part 2: "Attached Text" ]
--- v2.3.99pre2-5/linux/drivers/sound/sb_mixer.c        Sat Mar 18
23:39:43 2000
+++ linux/drivers/sound/sb_mixer.c      Sat Mar 18 23:42:57 2000
@@ -215,7 +215,7 @@
   0x00                         /* SOUND_MIXER_LINE3 */
 };
-static int      sbmixnum = 1;
+int             sbmixnum = 1;
 static void     sb_mixer_reset(sb_devc * devc);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/