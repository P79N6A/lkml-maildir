Date: Tue, 11 Apr 2006 15:20:12 -0700
From: Ravikiran G Thirumalai <>
Subject: Re: [RFC][PATCH 0/3] ext3 percpu counter fixes to suppport for ext3 unsigned long type free blocks counter
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/11/253

On Tue, Apr 11, 2006 at 12:01:13PM -0700, Mingming Cao wrote:
> On Tue, 2006-04-11 at 10:09 -0700, Christoph Lameter wrote:
> > On Mon, 10 Apr 2006, Mingming Cao wrote:
> > 
> > > Here are the proposed patches to allow the ext3 free block accounting
> > > works with more than 8TB storage.
> > 
> > Umm.. This is an issue on 32 bit platforms only. 64bit platforms x86_64, 
> > ia64 etc do not need this. Would you make it arch specific?
> 
> Yes, make sense. I will update my patch soon. Thanks.
Or make the counter s64? so that it stays 64 bit on all arches? 
OR
why not change the global per-cpu counter type to unsigned long (as we
discussed earlier), so we don't need the extra "ul" flags and interfaces, 
and all arches get a standard unsigned long return type?  We could also 
do away with percpu_read_positive then no?  The applications for per-cpu 
counters is going to be upcounters always methinks...
Thanks,
Kiran
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/