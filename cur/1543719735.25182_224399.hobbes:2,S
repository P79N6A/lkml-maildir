Date: Tue, 01 Jun 2004 19:32:33 -0400
From: Jeff Garzik <>
Subject: Re: Problem with ioremap which returns NULL in 2.6 kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/1/259

Markus Lidel wrote:
> Hello,
> 
> Jeff Garzik wrote:
> 
>>> could someone help me with a ioremap problem. If there are two 
>>> controllers plugged in, the ioremap request for the first controller 
>>> is successfull, but the second returns NULL. Here is the output of 
>>> the driver:
>>> i2o: Checking for PCI I2O controllers...
>>> i2o: I2O controller on bus 0 at 72.
>>> i2o: PCI I2O controller at 0xD0000000 size=134217728
>>> I2O: MTRR workaround for Intel i960 processor
>>> i2o/iop0: Installed at IRQ17
>>> i2o: I2O controller on bus 0 at 96.
>>> i2o: PCI I2O controller at 0xD8000000 size=134217728
>>> i2o: Unable to map controller.
>>
>> If "size=xxxx" indicates the size you are remapping, then that's
> 
> 
> Yep, it is...
> 
>> probably too large an area to be remapping.  Try remapping only the
>> memory area needed, and not the entire area.
> 
> 
> Is there a way, to increase the size, which could be remapped, or is 
> there a way, to find out what is the maximum size which could be remapped?
My preferred approach would be:  consider that the hardware does not 
need the entire 0x8000000-byte area mapped.  Plain and simple.
This is a "don't do that" situation, and that renders the other 
questions moot :)  You should only be mapping what you need to map.
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/