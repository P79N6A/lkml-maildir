Date: Fri, 1 Feb 2008 08:59:14 +0100
From: Frank Seidel <>
Subject: Re: [PATCH] nozomi: constify driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/1/76

On Friday 01 February 2008 08:28, Sam Ravnborg wrote:
> __devinitdata is for non-const data.
> __devinitconst is for const data.
>
> You cannot mix const and non-const data in the same section,
> if you do so gcc will complain.
> It may build for you if all uses of __devinitdata in the
> same source file is either const or non-const but when you
> mix it then it breaks.
> 
> So please use the correct annotation.
Ok, i see .. thanks for this explanation.
I'll repost with this fixed
BTW in this case those drivers also need to be fixed in current
git tree, should they?
drivers/edac/amd76x_edac.c
drivers/edac/e752x_edac.c
drivers/edac/e7xxx_edac.c
drivers/edac/i3000_edac.c
drivers/edac/i5000_edac.c
drivers/edac/i82443bxgx_edac.c
drivers/edac/i82860_edac.c
drivers/edac/i82875p_edac.c
drivers/edac/i82975x_edac.c
drivers/edac/r82600_edac.c
drivers/macintosh/macio_asic.c
drivers/mmc/host/ricoh_mmc.c
drivers/mmc/host/sdhci.c
drivers/net/natsemi.c
drivers/net/via-velocity.c
drivers/scsi/aic94xx/aic94xx_init.c
> We do small incremental steps whenever we can. The challenge is
> often to split up patches and not to combine them.
> 
> Where we combine two patches this is when the second patch fix
> a bug in the first patch.
To me it felt like those changes are so trivial and kind of
belong together so that i thought it would be ok here. But
i'll repost it as two patches in a few moments.
Thanks,
Frank