Date: Wed, 27 Aug 2003 16:00:54 -0400
From:  Valdis.Kletnieks@vt ...
Subject: Re: install problem with kernel 2.6.0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/27/191

On Thu, 28 Aug 2003 03:41:23 +0800, Sum <ellenyip@netvigator.com>  said:
> Hi there. I just compile the kernel 2.6.0 version. However, there is not any 
/lib/modules/2.6.0-test4/modules.dep created. When I type "depmod -a", there is
 an error message said "depmod: QM_MODULES: Function not implemented". 
Sum:  You need a new version of module-init-tools.
See 
http://ww.codemonkey.org.uk/post-halloween-2.5.txt
 for all the OTHER info
you will probably be needing.
All:  We can put an end to this:
--- Makefile	2003-08-27 01:52:20.000000000 -0400
+++ Makefile.fixed	2003-08-27 15:59:56.768341551 -0400
@@ -594,6 +594,11 @@
 
 .PHONY: _modinst_
 _modinst_:
+	@if [ -z "`depmod -V | grep module-init-tools`" ]; then \
+		echo "Install a current version of module-init-tools"; \
+		echo "See 
http://www.codemonkey.org.uk/post-halloween-2.5.txt";
 \
+		exit 1; \
+	 fi
 	@rm -rf $(MODLIB)/kernel
 	@rm -f $(MODLIB)/build
 	@mkdir -p $(MODLIB)/kernel
[unhandled content-type:application/pgp-signature]