Date: Sat, 24 Sep 2005 15:53:53 -0400
From: Kyle Moffett <>
Subject: Re: [PATCH] open: O_DIRECTORY and O_CREAT together should fail
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/24/88

On Sep 24, 2005, at 03:01:50, Al Viro wrote:
> And O_DIRECTORY is not the only flag that acquires or loses meaning  
> depending on O_CREAT - consider e.g. O_EXCL.  It's a mess, of  
> course, but this mess is part of userland ABI.  We tried to fix  
> symlink idiocy, BTW, on the assumption that nothing would be  
> relying on it.  Didn't work...
Maybe CONFIG_FIX_CRAPPY_ABI_CORNER_CASES?  If the user is willing to  
deal with some minimal breakage and fix programs relying on icky  
unsupported behavior, then they could turn that on for a slightly  
more secure system.  Make it depend on "experimental" and give it big  
warning messages.  It's likely that some of the more-secure server- 
oriented distros that run patched gcc and such to avoid buffer  
overflow and such might turn it on.
Cheers,
Kyle Moffett
--
Simple things should be simple and complex things should be possible
   -- Alan Kay
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/