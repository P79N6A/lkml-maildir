Date: Thu, 11 Mar 2004 13:33:40 -0800
From: George Anzinger <>
Subject: Re: [Kgdb-bugreport] [PATCH] Kill kgdb_serial
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/11/254

Tom Rini wrote:
~
>>I am afraid I don't quite understand what he was saying other than early 
>>init stuff.  On of the problems with trying early init stuff, by the way, 
>>is that a lot of things depend on having alloc up and that happens rather 
>>late in the game.
> 
> 
> I assume you aren't talking about kgdb stuff here (or what would be the
> point of going so early) but I believe he was talking about allowing for
> stuff that could be done early, to be done early.
One of the issues with the UART set up is registering the interrupt handler with 
the kernel.  It will fail if alloc is not up.  The -mm patch does two things 
with this.  a) It tries every getchar to register the interrupt handler, and b) 
it has a module init entry to register it.  This last will happen late in the 
bring up and is safe.  a) is there to get it ASAP if you are actually using kgdb 
during the bring up.
> 
> 
~
-- 
George Anzinger   george@mvista.com
High-res-timers:  
http://sourceforge.net/projects/high-res-timers/
Preemption patch: 
http://www.kernel.org/pub/linux/kernel/people/rml
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/