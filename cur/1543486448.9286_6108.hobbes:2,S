Date: Fri, 19 Feb 1999 02:12:25 +0100
From: Raphael Becker <>
Subject: Re: 2.2.x memory allocation (was Re: TEAC CD-R55S doesn't work)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/18/160

Ulf Carlsson wrote:
> 
> > Hmm... I think there's something wrong with the way 2.2.1 allocates memory...
> > ... as in there seems to be no memory for some parts of the kernel... like
> > DMA:ble memory for example
> > let me show you what trying to get sound working w/ 2.2.1 gave me:
> 
> [snip]
> 
> When you check if you can allacate a DMA buffer you cannot just check how much
> free RAM you have. You have to check if those pages are in blocks which are
> large enough. If your memory is very fragmented you might very well be unable to
> allocate a big DMA buffer. Check this with alt-sysrq-m.
Ok, for this time i tried the easiest way (like in good ol´ Windows): 
"rebooting the system"!!!
--> after that "top" said, I have 44M free RAM-Space. I think a fresh
rebooted system doesn´t have too much fragmentation in the free memory
blocks (somewhere in this 44M free RAM should be a block which is big
enough for cdrecord, or am I thinking wrong?)
Why doesn´t it make some problems on other systems? 
Why does it work if I just boot my old 2.0.36, with all the options I
have in 2.2.1 too, all SCSI-reated options are static compiled into
the kernel in both cases. 
I and a good frind from Heidelberg (greetings to him) think, that it
is a problem of the Adaptec-related things in the new Kernel, he has
2.2.1 too and the same CD-R, my CD-R in his system works fine, he
doesn´t have a Adaptec 2940AU (PCI), I have ...
Greetings 
Raphael
-- 
 _    _ Powered by SuSE___   ___   _  
| |  (_)_ _ _  ___ __ |_  ) |_  ) / | 
| |__| | ' \ || \ \ /  / / _ / / _| | 
|____|_|_||_\_,_/_\_\ /___(_)___(_)_|
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/