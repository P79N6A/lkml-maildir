Date: Fri, 4 May 2001 00:30:27 -0700 (PDT)
From: "David S. Miller" <>
Subject: Re: unsigned long ioremap()?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/4/22

Abramo Bagnara writes:
 > it's perfectly fine to have:
 > 
 > regs = (struct reg *) ioremap(addr, size);
 > foo = readl((unsigned long)&regs->bar);
 > 
I don't see how one can find this valid compared to my preference of
just plain readl(&regs->bar); You're telling me it's nicer to have the
butt ugly cast there which serves no purpose?
One could argue btw that structure offsets are less error prone to
code than register offset defines out the wazoo.
I think your argument here is bogus.
Later,
David S. Miller
davem@redhat.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/