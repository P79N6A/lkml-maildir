Date: Fri, 10 Mar 2000 00:53:00 -0500
From: Rui Sousa <>
Subject: Re: SCSI emulation module unload problem.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/10/3

Keith Owens wrote:
> 
> >
> >This seems to be the normal situation, modules get removed periodically by
> >/sbin/rmmod -as in a cron job and get loaded right back (?why?):
> 
> You have kernel module loader support compiled in.  This automatically
> loads modules as required.  The cron job automatically unloads those
> modules that are not in use.
It seems something on my desktop (gnome, enlightenment) is forcing the module
loading...
> >Mar  9 01:50:00 localhost kernel: scsi : 0 hosts.
> >Mar  9 01:50:01 localhost insmod: /lib/modules/2.3.49/scsi/sr_mod.o: unresolved
> >symbol scsi_io_completion
> >
> >the scsi module seems to have been removed under the sr_mod module.... After
> >this even
> >a /sbin/lsmod fails (with an error I forgot to write down :(
> 
> scsi_io_completion is in scsi_lib, part of scsi_mod.  Either scsi_mod
> is not being reloaded when required or, more likely, it is still
> present but is marked as deleted.  Please reproduce and do "cat
> /proc/modules".  If scsi_mod is marked "(deleted)" then the problem is
> that scsi_mod cleanup is not working.
It was the case.
>There are known bugs in scsi
> clean up on 2.3.49, try 2.3.50.
Running 2.3.51pre2. Haven't been able to reproduce it yet, or,
in a more optimistic view, it's fixed :)
Thank you,
Rui Sousa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/