Date: Mon, 23 Dec 2002 10:19:24 -0500
From: "Zephaniah E\. Hull" <>
Subject: 2.5.x console keyboard problem.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/12/23/49

It took me a while to track this down, with a few false paths.
I have verified this is kernel side, so..
The basic problem goes like this, start X, switch away from X with
ctrl-alt-Fn, then switch back to X, this is where the fun starts.
Sometimes (this seems to be a race condition, but I have no idea what it
depends on) things go, interestingly wrong, X gets the message that it
has the VC, it takes control of the screen, and the kernel grabs the
ctrl-alt-Fn used to switch away from X, and does not tell X that it no
longer actually HAS the console.
Resulting in keyboard input going to the VC you switched out from X to,
and the kernel believing that it can print to the screen, but with X also
still trying to control the screen.
If you switch back to the VC X is on then things work from there,
however this is quite obviously quite broken.
Verification that this was kernel side was not too hard, removing the
console binds for ctrl-alt-Fn makes the problem go away.
This happens for 2.5.x, but not 2.4.20, I don't know where in 2.5.x it
started.
Thanks.
Zephaniah E. Hull.
-- 
	1024D/E65A7801 Zephaniah E. Hull <warp@babylon.d2dc.net>
	   92ED 94E4 B1E6 3624 226D  5727 4453 008B E65A 7801
	    CCs of replies from mailing lists are requested.
[1] Yes, we ARE rather dull people.  We appreciate being dull people.
Exciting is only good when it happens to someone else ... as in "an
exciting wreck", "an exciting plane crash", "an exciting install of
Windows XP", et al.
  -- Ralph Wade Phillips in the Scary Devil Monastery.
[unhandled content-type:application/pgp-signature]