Date: Sun, 07 Mar 1999 17:55:16 -0500
From: Doug Ledford <>
Subject: Re: SCSI access creating lost time
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/7/115

Colin McFadden wrote:
> 
> I've noticed the same sort of thing.  I have two boxes running
> slackware3.6 with 2.2.1, one with scsi and one without.  After 31 days of
> uptime, the one with scsi was almost 40 minutes behind and the one without
> scsi was accurate (the nonscsi box has a 34 day uptime).
> The scsi box had been accurate on the 2.0.x kernel as far as time goes.
> Scsi card is a adaptec 1515, box is a p5-100.
> It could be just coincidence of course.
It's not coincidence.  Both of you have polling based SCSI controllers
where the drivers sit in tight loops waiting for things to happen inside
of a spin_lock_irqsave().  There's nothing intelligent that can be done
until the locking in the drivers/mid-level SCSI code is redone except
switching to a SCSI controller/driver combo that doesn't spin wait for
things like individual bytes on the SCSI bus.
-- 
  Doug Ledford   <dledford@redhat.com>
   Opinions expressed are my own, but
      they should be everybody's.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/