Date: 20 Mar 2003 03:58:41 +0100
From: Alexander Hoogerhuis <>
Subject: Sleeping in illegal context with 2.5.65-mm2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/19/291

Caught this one while booting my laptop:
drivers/usb/core/usb.c: registered new driver hci_usb
Module bluetooth cannot be unloaded due to unsafe usage in include/linux/module.h:457
Debug: sleeping function called from illegal context at mm/slab.c:1723
Call Trace:
 [<c0119d92>] __might_sleep+0x5f/0x65
 [<c013a097>] kmalloc+0x88/0x8f
 [<c0238111>] usb_alloc_urb+0x21/0x51
 [<f09180bc>] hci_usb_enable_intr+0x20/0xf8 [hci_usb]
 [<f0918403>] hci_usb_open+0x4e/0x9a [hci_usb]
 [<f08f86a2>] hci_dev_open+0xde/0x320 [bluetooth]
 [<f08fd3cb>] hci_sock_ioctl+0x263/0x3c1 [bluetooth]
 [<c0254d8f>] sock_ioctl+0xf5/0x288
 [<c015e3a6>] sys_ioctl+0x11b/0x295
 [<c010ad8b>] syscall_call+0x7/0xb
.config is attached
mvh,
A
[unhandled content-type:application/octet-stream]
-- 
Alexander Hoogerhuis                               | alexh@ihatent.com
CCNP - CCDP - MCNE - CCSE                          | +47 908 21 485
"You have zero privacy anyway. Get over it."  --Scott McNealy