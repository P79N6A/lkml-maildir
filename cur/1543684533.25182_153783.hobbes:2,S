Date: Sat, 02 Aug 2003 02:25:52 -0700
From: george anzinger <>
Subject: Re: What's the timeslice size for kernel 2.6.0-test2, IA32?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/2/33

Ben Greear wrote:
> 
> Mark Mielke wrote:
> 
>> On Fri, Aug 01, 2003 at 02:04:46PM -0230, Stephen Anthony wrote:
>>
>>> It would be great if sleeps were 1ms accurate instead of 10ms.  It 
>>> would make synchronization code a lot easier.
>>
>>
>>
>> Doesn't this depend on what HZ you define for the kernel?
>>
>> If you want 1ms sleep, just set HZ to 1000HZ+, and give your process a
>> high priority?
As it currently stands in the 2.6 kernel for the i386, HZ is defined 
as 1000.  Since the PIT interrupt source can not hit this, the actual 
timer interrupt period is 999848 nano seconds.  The minimum sleep 
interval nanosleep will take is 1 of these and since the time may 
start between ticks it adds another to give a min sleep time of 
999848+~1/2 of that depending on where the request falls in the time 
period.
-- 
George Anzinger   george@mvista.com
High-res-timers:  
http://sourceforge.net/projects/high-res-timers/
Preemption patch: 
http://www.kernel.org/pub/linux/kernel/people/rml
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/