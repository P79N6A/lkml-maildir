Date: Fri, 2 May 2008 02:43:25 +0200
From: Nick Piggin <>
Subject: Re: [patch] SLQB v2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/1/459

On Thu, May 01, 2008 at 12:29:13PM -0700, Christoph Lameter wrote:
> On Thu, 1 May 2008, Nick Piggin wrote:
> 
> > > A small question for SLUB devs, would you accept a patch that does
> > > a similar thing by creating 'slub_page' instead of stuffing slub 
> > > elements (freelist, inuse, ..) in 'mm_types::struct page' unions ?
> > 
> > I'd like to see that. I have a patch for SLUB, actually.
> 
> We could do that but then how do we make sure that both definitions stay 
> in sync? 
>So far I have thought that it is clearer if we have one def 
> that shows how objects are overloaded.
> 
> There is also the overloading of page flags that is now done separately 
> in SLUB. I wonder if that needs to be moved into page-flags.h? Would 
> clarify how page flags are overloaded.
> 
> If someone inspects the contents of a page struct via debug then it would 
> help if all the possible uses are in one place. If the stuff in tucked 
> away in mm/sl?b.c then its difficult to find.
If you are not debugging sl?b.c code/pages, then why would you want to see
what those fields are?