Date: Sun, 6 Nov 2005 21:45:06 +0100
From: Pavel Machek <>
Subject: Re: pxa27x_udc -- support for usb gadget for pxa27x?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/6/125

Hi!
> > Is there recent version somewhere? I found one version
> > (pxa27x-0218.patch), but it is *really* old.
> 
> Pull it out of handhelds.org kernel26 cvs tree and let me and the usb
> developers have the patch please :)
I got it to compile it for me, but I'd probably need something like
/*
 * USB Device Controller
 */
static void corgi_udc_command(int cmd)
{
        switch(cmd)     {
        case PXA2XX_UDC_CMD_CONNECT:
                GPSR(CORGI_GPIO_USB_PULLUP) =
GPIO_bit(CORGI_GPIO_USB_PULLUP);
                break;
        case PXA2XX_UDC_CMD_DISCONNECT:
                GPCR(CORGI_GPIO_USB_PULLUP) =
GPIO_bit(CORGI_GPIO_USB_PULLUP);
                break;
        }
}
static struct pxa2xx_udc_mach_info udc_info __initdata = {
        /* no connect GPIO; corgi can't tell connection status */
        .udc_command            = corgi_udc_command,
};
...for the spitz. Do you think I can just copy this one? ...eh, no,
will not fly, there's no SPITZ_GPIO_USB_PULLUP.
								Pavel
-- 
Thanks, Sharp!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/