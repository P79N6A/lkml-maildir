Date: 05 Jul 2002 14:35:13 +0200
From: Trond Myklebust <>
Subject: Re: df on a nfs mounted share vs local?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/5/66

>>>>> " " == Nils O <SelÃ¥sdal <noselasd@frisurf.no>> writes:
     > Just wondering, how come df reports root:~# df /mnt/export/
     > Filesystem 1k-blocks Used Available Use% Mounted on /dev/hda5
     > 2562252 383792 2178460 15% /mnt/export on the server, while on
     > a client that mounts /mnt/export over nfs: [root@space
     > download]# df /mnt/nfs/ Filesystem 1k-blocks Used Available
     > Use% Mounted on lfs:/mnt/export 2562256 383792 2178464 15%
     > /mnt/nfs
     > Just a few blocks diffrent, but I've seen much bigger.. also
     > seen +/- a few % on "Use"
It is a rounding error. The block size on the NFS client is typically
4 or 8k, whereas the block size on the local filesystem is typically
512 bytes.
On most UNIX implementations, the 'statvfs()' call supports two
variables f_bsize and f_frsize, which allow you to distinguish between
the two. Linux lacks kernel support for the latter variable.
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/