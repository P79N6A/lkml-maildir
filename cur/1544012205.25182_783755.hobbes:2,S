Date: Wed, 24 Dec 2008 13:11:29 +0100
From: John Ogness <>
Subject: Re: [PATCH 0/5] VFS: DazukoFS, stackable-fs, file access control
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/24/30

On 2008-12-24, Pavel Machek <pavel@suse.cz> wrote:
>> If you are aware of a race condition in DazukoFS, please report
>> it. Thank you.
>
> I'm surprised, do you claim there is none?
It depends on how you want to define "race condition". DazukoFS (in
its current form) closes as many holes as default UNIX permissions or
SElinux. However, changing permissions (i.e. scanning files) _after_
two parties already have an open handle to the file is currently not
covered. But this issue is not unique to DazukoFS (although as a
stackable filesystem, DazukoFS could support this case as well).
> So how do you handle mmap(...MAP_SHARED) case?
DazukoFS currently does not support writing to memory mapped files for
this very reason. It needs to be determined how writing to memory
mapped files should be handled. I am choosing to tackle this issue
together with the Linux kernel community, rather than trying to solve
it within the much smaller Dazuko community.
Although memory mapped writing is currently not supported, I believe
DazukoFS still offers value to the Linux kernel. I am not aware of any
network services that require memory mapped writing for their sharing.
John Ogness