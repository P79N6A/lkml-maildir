Date: Wed, 10 Dec 2008 20:12:13 +0100
From: Sam Ravnborg <>
Subject: Re: [PATCH][RFC 2/23]: SCST core
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/10/297

On Wed, Dec 10, 2008 at 09:30:37PM +0300, Vladislav Bolkhovitin wrote:
> This patch contains SCST core code.
> 
> Signed-off-by: Vladislav Bolkhovitin <vst@vlnb.net>
> ---
>   drivers/scst/Kconfig         |  256 ++
Do not use "default n" - this is already the default value.
>   drivers/scst/Makefile        |   12
EXTRA_CFLAGS are deprecated in favour of ccflags-y
>   drivers/scst/scst_cdbprobe.h |  519 +++++
static const struct scst_sdbops scst_scsi_op_table[] 
This does not belong to a header file.
>   drivers/scst/scst_lib.c      | 3689 +++++++++++++++++++++++++++++++++++++
>   drivers/scst/scst_main.c     | 1919 +++++++++++++++++++
>   drivers/scst/scst_module.c   |   69
>   drivers/scst/scst_priv.h     |  513 +++++
>   drivers/scst/scst_targ.c     | 5458 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
>   8 files changed, 12435 insertions(+)
There was a lot af TRACE_ENTRY() / TRACE_EXIT() noise.
We should have proper tools for that by now (I hope).
We often ask for exported symbols to be documented - so one has
a slight idea of their purpose.
CONFIG_SCST_STRICT_SERIALIZING has bad impact on readability.
Could this be abstracted better?
I did not look into the source in details. Just a few sparse comments.
	Sam