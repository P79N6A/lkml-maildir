Date: Thu, 12 Oct 2006 16:02:24 +0200
From: Bastian Blank <>
Subject: 2.6.18 - check for chroot, broken root and cwd values in procfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/12/154

Hi folks
The commit 778c1144771f0064b6f51bee865cceb0d996f2f9 replaced the old
root-based security checks in procfs with processed based ones.
This makes the old check for chroot "[ -r /proc/1/root ]" unusable as
readlink on it now always succedds. Also it provides buggy values inside
a chroot, both /proc/1/root and /proc/self/root points to / but in real
they are different.
Is this a desired output or can I call this a bug? If the behaviour is
correct, is there a replacement for this check?
Bastian
-- 
Behind every great man, there is a woman -- urging him on.
		-- Harry Mudd, "I, Mudd", stardate 4513.3
[unhandled content-type:application/pgp-signature]