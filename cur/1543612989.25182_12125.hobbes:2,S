Date: Mon, 10 Dec 2001 19:16:30 -0800
From: Gordon Oliver <>
Subject: Re: [PATCH] console close race fix resend
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/10/199

On 2001.12.10 17:51 Robert Love wrote:
> Marcelo,
> 
> [ Resend of previous patch, now against pre8.  Note it (a) is a bug fix
> and (b) was in Alan's tree ]
and (c) appears to still have a race... You should extract
the value from the structure inside the lock, otherwise you
will still race with con_close (though perhaps a smaller race)
but since the call to acquire_console_sem() can sleep, the
vt handle you have may be stale.
> Please, for all that is righteous, apply.
please fix it better first...
(unless I am mistaken).
	-gordo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/