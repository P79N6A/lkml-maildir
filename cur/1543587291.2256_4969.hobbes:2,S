Date: Wed, 11 Apr 2001 23:04:04 +0400 (MSK DST)
From:  kuznet@ms2 ...
Subject: Re: Bug report: tcp staled when send-q != 0, timers == 0.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/4/11/126

Hello!
>  In my experiments linux simply sets mss=mtu-40 at the start of ethernet
>  connections. I do not know why, but belive it's ok. How the version of
>  kernel and configuration options can affect mss later?
You can figure out this yourself. In fact you measured this.
With mss=1460 the problem does not exist.
The problem begins f.e. when mss is less and packet arrives on ethernet.
It eats the same 1.5k of memory, but carries only ~mss bytes of tcp payload.
See? We do not know this forward, advertise large window, have not enough
rcvbuf to get it filled and cannot do anything but dropping new packets.
ppp is more difficult. Actually, I do not know exactly how it works now.
At least, ppp in 2.4 trims skb if it has too much of unused space.
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/