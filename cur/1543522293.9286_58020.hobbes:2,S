Date: Mon, 17 Jan 2000 00:16:05 +0100 (MET)
From: (Rogier Wolff)
Subject: Re: [Patch] Cleanup struct gendisk registration, 2.3.40-pre1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/17/5

Alan Cox wrote:
> > I suggested Linux consider the move to a default packet global block
> > device layer and both SCSI and IDE plug into it.
> 
> Not all devices are remotely packet based. Later IDE (ATAPI) is, current 
> SCSI is, i2o had totally different needs.
> 
> Eric is building a nice library, maybe the library for merging/ISA bouncing
> should be shared but don't jam the policy into the block layer. For some high
> end cards we already have far too much policy in the block layer.
> (High end i2o controllers can take 4000 commands at a time from the
> OS, sort them, merge them do read/write ordering, disk scheduling
> and cache optimisation they do not need the OS doing elevator,
> merging and other stuff.)
Everyone already knows this, but may I make a suggestion?
We should have a "queue this IO" call. High end, (I2O) will just fill
in their own function which simply gives the IO to the device. IDE and
SCSI will just use the central function that queues, sorts and merges
into a generic queue. It should then be easy to get those requests out
of the queue in an order that is appropriate for IDE and SCSI. 
				Roger.
-- 
** R.E.Wolff@BitWizard.nl ** 
http://www.BitWizard.nl/
 ** +31-15-2137555 **
*-- BitWizard writes Linux device drivers for any device you may have! --*
 "I didn't say it was your fault. I said I was going to blame it on you."
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/