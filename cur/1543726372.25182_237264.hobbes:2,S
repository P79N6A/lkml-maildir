Date: Thu, 29 Jul 2004 08:49:42 -0700
From: Jesse Barnes <>
Subject: Re: Oops in find_busiest_group(): 2.6.8-rc1-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/29/153

On Thursday, July 29, 2004 8:35 am, Dimitri Sivanich wrote:
> Here's a patch to 2.6.8-rc2-mm1 that allows things to work:
>
> --- sched.c.old 2004-07-29 10:11:00.000000000 -0500
> +++ sched.c     2004-07-29 10:27:58.000000000 -0500
> @@ -3770,8 +3770,6 @@ __init static void arch_init_sched_domai
>                 cpumask_t nodemask = node_to_cpumask(cpu_to_node(i));
>
>  #ifdef CONFIG_NUMA
> -               if (i != first_cpu(sd->groups->cpumask))
> -                       continue;
>                 sd = &per_cpu(node_domains, i);
>                 group = cpu_to_node_group(i);
>                 *sd = SD_NODE_INIT;
Yep, this was a merge error.  I posted it as the first reply (f1rst p0st!) to 
Andrew's 2.6.8-rc2-mm1 announcement.  Sorry for the trouble, my last patch 
didn't include it, but there was some confusion since there were several 
fixes to the scheduler code posted to Nick's 'consolidate sched domains' 
thread.
Jesse
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/