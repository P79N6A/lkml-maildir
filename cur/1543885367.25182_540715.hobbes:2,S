Date: Mon, 7 May 2007 00:27:28 +0400
From: Anton Vorontsov <>
Subject: Re: Kconfig text confusion: Battery Class Support?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/6/118

Hello Rusty,
On Sun, May 06, 2007 at 10:06:52PM +1000, Rusty Russell wrote:
> Hi all,
> 
> 	I know writing decent Kconfig help entries is an obscure art, but can
> we please try harder to make the help, y'know, helpful?  See below for
> my experience with 2.6.21-mm1.
> 
> 	How come the Kconfig help for EXTERNAL_POWER says "is mandatory for
> battery class support" and I still get prompted for "Battery class
> support" when I say N?
> 
> 	How come both these entries are of form "Foo (FOO)? -- Say Y here to
> enable foo."?   Shouldn't we assume the reader knows what Y means?
> 
> How about:
> 
>         Battery class support (BATTERY) [N/m/y/?] (NEW) ?     
> 
>         This allows battery monitoring by userspace via sysfs (if
>         available) and/or APM kernel interface (if selected below).  Say
>         Y or M if building a kernel for a laptop.
> 
> I don't even understand the CONFIG_EXTERNAL_POWER enough to comment on
> that one 8(
> 
Thank you for the message, Rusty. It's "fixed" already in battery2-2.6.git.
Yes, battery/external power separation was a complicated part of whole
battery stuff. Now, thanks to David Woodhouse, external power and
battery classes merged, and there is much simpler configuration now:
*
* Power supply class support
*
Power supply class support (POWER_SUPPLY) [N/m/y/?] (NEW) m
  Power supply debug (POWER_SUPPLY_DEBUG) [N/y/?] (NEW) y
  Generic PDA/phone power driver (PDA_POWER) [N/m/?] (NEW) m
  DS2760 battery driver (HP iPAQ & others) (BATTERY_DS2760) [N/m/?] (NEW) m
  One Laptop Per Child battery (BATTERY_OLPC) [N/m/?] (NEW) m
That's all you have to answer.
Thanks,
-- 
Anton Vorontsov
email: cbou@mail.ru
backup email: ya-cbou@yandex.ru
irc://irc.freenode.org/bd2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/