Date: Tue, 22 Apr 2003 09:58:42 -0700
From: William Lee Irwin III <>
Subject: Re: objrmap and vmtruncate
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/22/143

On Tue, Apr 22, 2003 at 11:55:00AM -0400, Ingo Molnar wrote:
> well, i have myself reproduced 30+ secs worth of pid-alloc related lockups
> on my box, so it's was definitely not a fata morgana, and the
> pid-allocation code was definitely quadratic near the PID-space saturation
> point.
> There might be something else still biting your system, i'd really be
> interested in hearing more about it. What workload are you using to
> trigger it?
ISTR it being something on the order of running 32 instances of top(1),
one per cpu, and then trying to fork().
I think this is one of those that needs num_cpus_online() >= 32, and
possibly in combination with strong NUMA effects. I'm willing to accept
large delays with respect to addressing this unless my employer/funding
source makes equipment more readily available.
Seriously -- if those who could need and/or fund the fix don't see it
as a large enough problem to invest in a fix for, I see no need to
impose on the Linux kernel community to do so.
Otherwise, given sufficient hardware access, I'd be more than willing
to run regular tests on whatever patches you care to send me. As of now
I'm not even able to do so, regardless of willingness.
(e.g. access to 64GB hw, even while in-house, has been extremely limited)
-- wli
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/