Date: Wed, 12 Feb 2003 18:06:34 +0100
From: Christian Guggenberger <>
Subject: Re: via rhine bug? (timeouts and resets)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/12/162

On 12.02.2003   17:41 Alan Cox wrote:
> On Wed, 2003-02-12 at 14:58, Christian Guggenberger wrote:
> > > o       Always set interrupt line with VIA northbridge  (me)
> > >        | Should fix apic mode problems with USB/audio/net on VIA boards
> > >
> > Can you please send a patch against 2.5.60, cause I would like to test
> these
> > IO APIC things on my via board. 2.4-ac is no choice for me, since patching
> xfs
> > into 2.4-ac is a little bit too painful for me;-)
> 
> At the moment I can't even get 2.5.60 to boot so its a bit hard to do any
> work
> on it.
Of course;-)
> Just run via boxes with "noapic" and dont enable the apic stuff on
> single
> cpu systems. Thats as good if not a better test
> 
That's what I'm almost doing since I have this mobo. I have APICs enabled in 
both kernel and bios, but IO-APICs disabled. 2.5.60 seems to work for me.
The only thing I'd like to get rid off, are those Interrupt errors in 
/proc/interrupts (maybe they are harmless anyway):
            CPU0
   0:     941032   XT-PIC  timer
   1:       1927   XT-PIC  i8042
   2:          0   XT-PIC  cascade
   5:          0   XT-PIC  VIA8233
   8:          4   XT-PIC  rtc
  10:      14946   XT-PIC  ide2, eth0
  12:      29425   XT-PIC  i8042
  14:       7525   XT-PIC  ide0
  15:         36   XT-PIC  ide1
NMI:          0
LOC:     940979
ERR:        914
They won't go away with noapic, too.
With IO-APICs the ERR count would stay at 0. (but then most onboard devices 
wouldn't work)
That's why i asked for that APIC patch in my previous mail.
Christian
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/