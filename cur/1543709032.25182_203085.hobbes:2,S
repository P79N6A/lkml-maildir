Date: Mon, 01 Mar 2004 12:02:13 +1100
From: Nick Piggin <>
Subject: Re: 2.6.4-rc1-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/29/152

Andrew Morton wrote:
>-vm-dont-rotate-active-list.patch
>-vm-lru-info.patch
>-vm-shrink-zone.patch
>-vm-tune-throttle.patch
>-zone-balancing-fix.patch
>-zone-balancing-batching.patch
>+shrink_slab-precision-fix.patch
>+try_to_free_pages-shrink_slab-evenness.patch
>+vmscan-total_scanned-fix.patch
>+zone-balancing-fix-2.patch
>+vmscan-control-by-nr_to_scan-only.patch
>+vmscan-balance-zone-scanning-rates.patch
>+vmscan-dont-throttle-if-zero-max_scan.patch
>+kswapd-avoid-higher-zones.patch
>+vmscan-throttle-later.patch
>+slab-no-higher-order.patch
>
> Page reclaim rework
>
>
Thank you Andrew.
All these changes are nicely broken out, and they all look good. 
vmscan-control-by-nr_to_scan-only.patch and
vmscan-balance-zone-scanning-rates.patch are almost exactly what
I have here.
I had one addition which is to use a "refill_counter" for inactive
list scanning as well so the scanning is batched up now that we don't
round up the amount to be done. No observed benefits, but I imagine
it would lower the acquisition frequency of the lru locks in some
cases?
kswapd-avoid-higher-zones.patch looks good, and should solve the
incremental min problem which my solution didn't.
Should I start testing again, or are you still doing more to vmscan?
Nikita's dont-rotate-active-list.patch looks to be the only major
casualty. I found this patch pretty important, so I will definitely
like to demonstrate its benefits. One question remains, would you
accept the patch in its current form?
Nick
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/