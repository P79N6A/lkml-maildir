Date: Tue, 6 Jul 2004 12:25:40 -0500
From: Zinx Verituse <>
Subject: Re: 8139too in 2.6.x tx timeout
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/6/79

On Wed, Jul 07, 2004 at 12:29:26AM +0900, OGAWA Hirofumi wrote:
> Zinx Verituse <zinx@epicsol.org> writes:
> 
> > I have now discovered what causes the card to work on knoppix --
> > The probe during the loading of the OSS "cs46xx.o" driver.  This driver
> > doesn't work with my sound card (non-AC97 codec), and does not finish
> > loading, but apparently it does some magic that causes the rtl8139C NIC
> > I have to work :x
> 
> Oh, cs46xx.o seems to have a workaround or something for ThinkPad.
> The cs46xx.o calling the "clkrun_hack(card, 1)" before initialize.
> -- 
> OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Thanks!  This was it.  I have no idea where this hack belongs in the
kernel (or even if it does), so I've just made a quick&dirty userland
program to do it.  Maybe it'll be useful to others:
http://zinx.xmms.org/misc/tmp/8139too/thinkpad_clkrun_hack.c
-- 
Zinx Verituse                                    
http://zinx.xmms.org/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/