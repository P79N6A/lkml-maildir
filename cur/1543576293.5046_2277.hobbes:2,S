Date: Wed, 20 Dec 2000 08:24:32 +1100 (EST)
From: Neil Brown <>
Subject: Re: 2.2.18 question (fh_lock_parent)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/12/19/66

On Tuesday December 19, mjd@moot.ca wrote:
> 
> I've been getting tonnes of these since I installed 2.2.18. Is this a
> problem? Should I even worry about this? If I don't need to worry about
> it, is there a way to stop displaying this message?
> 
> fh_lock_parent: mqueue/xfBAA14279 parent changed or child unhashed
> fh_lock_parent: mqueue/xfBAA16413 parent changed or child unhashed
You are running sendmail on an NFS client with /var/spool mounted off
the NFS server which is giving these message - right?
These messages tend to indicate a race between two different NFS
requests that try to do something to the one file - probably unlink
it, though possibly rename it.
If everything is configured properly (e.g. you don't have two
different sendmails on two different clients trying to use the one
shared spool area), then this would seem to imply that the server is
responding more slowly that the client would like, and the client is
resending the unlink (or whatever) request and so there are two
identical requests being served by the NFS server and they race.
So it is hard to be sure if you should worry about this.
Maybe if you tell us what you are trying to do (i.e. confirm the
configuration of sendmail, NFS mounts and the number of clients.
Also, how frequent is this?  Would you be able to get a tcpdump of a
few hundred packets either side of the message? If you do try this,
make sure that you use a large snap-length for tcpdump (-s 1024) to
get the whole nfs packet.
NeilBrown
> 
> ,.;::
> : Michael J. Dikkema
> | Systems / Network Admin - Internet Solutions, Inc.
> | 
http://www.moot.ca
   Work: (204) 982-1060
> ; mjd@moot.ca
> ',.
> 
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> Please read the FAQ at 
http://www.tux.org/lkml/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/