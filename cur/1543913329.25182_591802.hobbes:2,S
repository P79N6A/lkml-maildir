Date: Wed, 05 Sep 2007 19:03:42 -0400
From: Mark Lord <>
Subject: Re: Stardom SATA HSM violation
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/5/290

Andrew Morton wrote:
>..
> Hey, we just found something which doesn't crash my Vaio!
> 
> sony:/home/akpm/hdparm-7.7> 0 ./hdparm --drq-hsm-error /dev/sda
> 
> /dev/sda:
>  triggering "stuck DRQ" host state machine error
> do_drq_hsm_error: Success
> ata status=0x58 ata error=0x00
> 
> ata3.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x2 frozen
> ata3.00: cmd ec/00:00:00:00:00/00:00:00:00:00/40 tag 0 cdb 0x0 data 0 
>          res 58/00:01:00:00:00/00:00:00:00:00/40 Emask 0x2 (HSM violation)
> ata3: soft resetting port
> ata3.00: configured for UDMA/100
> ata3: EH complete
> sd 2:0:0:0: [sda] 195371568 512-byte hardware sectors (100030 MB)
> sd 2:0:0:0: [sda] Write Protect is off
> sd 2:0:0:0: [sda] Mode Sense: 00 3a 00 00
> sd 2:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
> 
> How dull. (ata_piix)
:)
On my two very similar notebooks, it crashes libata when a PATA drive is used
behind a Marvell converter chip, but not when a SATA drive is used directly.
Cheers
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/