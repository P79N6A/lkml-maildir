Date: Sat, 01 Sep 2007 17:42:30 -0600
From: Robert Hancock <>
Subject: Re: read-only /sys/block/sda/device/queue_depth
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/1/188

Yan Seiner wrote:
> I'm running into the same issue reported here:
> 
> <
http://readlist.com/lists/vger.kernel.org/linux-kernel/72/361184.html>
> 
> I am using the ata_piix module.  If I read the docs correctly, I should 
> be able to use ahci as well; I need to rebuild the kernel though (debian 
> insists on putting ata_piix into the initrd....)
> 
> dionysus:~# ls -l /sys/block/sd[abcde]/device/queue_depth
> -r--r--r-- 1 root root 4096 2007-09-01 06:00 
> /sys/block/sda/device/queue_depth
> -r--r--r-- 1 root root 4096 2007-09-01 06:00 
> /sys/block/sdb/device/queue_depth
> -r--r--r-- 1 root root 4096 2007-09-01 06:00 
> /sys/block/sdc/device/queue_depth
> -r--r--r-- 1 root root 4096 2007-09-01 06:00 
> /sys/block/sdd/device/queue_depth
> -r--r--r-- 1 root root 4096 2007-09-01 06:00 
> /sys/block/sde/device/queue_depth
> 
> If I change the perms to rw, I get an Input/Output error.  AFAICT, the 
> drives support queueing, but it's disabled.
ata_piix does not support NCQ. You have to use AHCI mode for that.
-- 
Robert Hancock      Saskatoon, SK, Canada
To email, remove "nospam" from hancockr@nospamshaw.ca
Home Page: 
http://www.roberthancock.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/