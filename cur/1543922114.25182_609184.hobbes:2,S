Date: Wed, 24 Oct 2007 14:21:48 +0200
From: Sam Ravnborg <>
Subject: Re: Linux v2.6.24-rc1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/24/197

On Wed, Oct 24, 2007 at 02:12:18PM +0200, Ingo Molnar wrote:
> > The Makefile stuff is trivial to merge.
> 
> yes. But even Makefile merging can be surprisingly nontrivial at times: 
> we had bugs in earlier versions of the unification due to link ordering 
> and silent init section dependencies in the code. When we unified the 
> makefiles certain init code broke because the initcall ordering changed. 
> That's why we went for the "stupid, mechanic unification" approach first 
> - to always have a 100% correct fallback position that people can bisect 
> to.
With trivial I thought of:
ifeq ($(ARCH),x86_64)
include arch/x86/Makefile_64
else
include arch/x86/Makefile_32
endif
And common stuff could be put before/after the include.
	Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/