Date: Sun, 21 Apr 2002 17:25:48 -0600
From: "Ivan G." <>
Subject: Re: [PATCH] Via-rhine minor issues
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/21/166

Sorry, I forgot the subject line for last mail
Message has no subject. Garzik's reply is Re: Your Mail.
As for the Interrupts:
Actually, RxNoBuf is handled by calling via_rhine_rx 
but not enabled when setting interrupt mask. My patch will fix that.
However, RxOverflow is never handled at all and neither is RxEarly.
Nor are they enabled when setting interrupt mask (patch enables).
How should RxOverflow be handled?
	Should I call via_rhine_rx, like other errors do? - add IntrRxOverflow (and 
possibly RxEarly)
       if (intr_status & (IntrRxDone | IntrRxErr | IntrRxDropped |
                IntrRxWakeUp | IntrRxEmpty | IntrRxNoBuf))
			via_rhine_rx(dev);
How should PCIErr be handled?
Other drivers say:
        /* Hmmmmm, it's not clear how to recover from PCI faults. */
	
> > RxEarly, RxOverflow, RxNoBuf are not handled
> > (which brings up another question - how should they be handled
> > and where?? It doesn't seem to me that those should end up in error,
> > sending CmdTxDemand. )
>
> *blink*  I had not noticed that.
>
> All drivers actually need to handle RxNoBufs and RxOverflow, assuming
> they have similar meaning to what I'm familiar with on other chips.
> The chip may recover transparently, but one should be at least aware of
> them.
>
> RxEarly you very likely do -not- want to handle...
>
> 	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/