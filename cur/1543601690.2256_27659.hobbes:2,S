Date: 19 Sep 2001 22:38:19 -0400
From: Robert Love <>
Subject: Re: [PATCH] Preemption Latency Measurement Tool
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/19/314

On Wed, 2001-09-19 at 22:23, safemode wrote:
> Is it possible to run the 20 worsst latency thing without having the pre-empt
> patch ?  I'd like to see how things run without the preempt patch and which 
> ones are the slowest.   The last time i used the pre-empt patch i had worse 
> audio performance than not.  Perhaps that's because i use alsa. 
No, it requires the preemption patch.  It uses the preemption count code
in figuring out when code returns.  Besides, if you are non-preemption
and UP, you don't have many locking primitives anyhow (no concurrency
concerns there).
You honestly should not have _worse_ latency with the patch.  Even if
something was wrong, it should still be about the same.  However, most
people are reporting a many many times over reduction in latency.
Your point about using ALSA is one of the reasons I am interested in
this patch.  Most of the people reporting high-latencies remaining even
after the patch used ALSA.
If you try preemption again, along with this patch, we can find out what
is causing your problems.
If you just want to gauage how long it takes to execute code from A to B
in the kernel, there are various benchmarking tools as well as Andrew
Morton's excellent timepegs work.
-- 
Robert M. Love
rml at ufl.edu
rml at tech9.net
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/