Date: Sun, 22 Jan 2006 14:01:09 +1100
From: Benjamin Herrenschmidt <>
Subject: Re: [PATCH] sungem: Make PM of PHYs more reliable
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/21/174

On Sun, 2006-01-22 at 13:59 +1100, Benjamin Herrenschmidt wrote:
> On my latest laptop, I've had occasional PHY dead on wakeup from
> sleep... the PHY would be totally unresponsive even to toggling the hard
> reset line until the machine is powered down... Looking closely at the
> code, I found some possible issues in the way we setup the MDIO lines
> during suspend along with slight divergences from what Darwin does when
> resetting it that may explain the problem. That patch change these and
> the problem appear to be gone for me at least... I also fixed an mdelay
> -> msleep while I was at it to the pmac feature code that is called
> when toggling the PHY reset line since sungem doesn't call it in an
> atomic context anymore.
> 
> Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
> ---
Oops, -EWRONGPATCH... Sorry, please ignore it, I'll dig the right one...
Ben.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/