Date: Thu, 4 Mar 1999 22:51:46 -0500
From: Aaron Tiensivu <>
Subject: [2.2.2] Possible kernel bug and/or userland 'mount' bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/4/189

This was slightly odd. 
[cut and paste]
[root@asc3-ip33-grr /usr/src]# mount
/dev/sda2 on / type ext2 (rw)
none on /proc type proc (rw)
/dev/sda1 on /milo type vfat (rw)
none on /dev/pts type devpts (rw,gid=5,mode=620)
lucretia:/ on /lucretia type nfs (rw,rsize=8192,wsize=8192,soft,intr,addr=192.168.0.3)
[root@asc3-ip33-grr /usr/src]# mount / -o rw,remount,noatime,nodiratime
[root@asc3-ip33-grr /usr/src]# mount /milo -o rw,remount,noatime,nodirtime
[root@asc3-ip33-grr /usr/src]# mount
/dev/sda2 on / type ext2 (rw,noatime,nodiratime)
none on /proc type proc (rw)
/dev/sda1 on /milo type vfat (rw,noatime,nodirtime)
none on /dev/pts type devpts (rw,gid=5,mode=620)
lucretia:/ on /lucretia type nfs (rw,rsize=8192,wsize=8192,soft,intr,addr=192.168.0.3)
[root@asc3-ip33-grr /usr/src]# mount /proc -o rw,remount,noatime,nodiratime
mount: warning: cannot change filesystem type with a remount
*NOTE* Explicitly saying "-t proc" doesn't make a difference either.
[root@asc3-ip33-grr /usr/src]# mount
/dev/sda2 on / type ext2 (rw,noatime,nodiratime)
none on /proc type proc (rw,noatime,nodiratime)
/dev/sda1 on /milo type vfat (rw,noatime,nodirtime)
none on /proc type devpts (rw,noatime,nodiratime)
lucretia:/ on /lucretia type nfs (rw,rsize=8192,wsize=8192,soft,intr,addr=192.168.0.3)
Notice that devpts has now inherited the -o options from my /proc.
I did nodiratime and noatime options on /proc as a sick joke but it ended up
showing a strange result.
My guess is that they have the same mount point as "none", so it applies
the options to both. Can provide more details if needed, or did a stumble upon
a real "feature".. ?
My /etc/fstab:
/dev/sda2               /                       ext2    defaults        1 1
/dev/sda1               /milo                   vfat    defaults        0 0
/dev/sda3               swap                    swap    defaults        0 0
/dev/fd0                /mnt/floppy             ext2    noauto          0 0
none                    /proc                   proc    defaults        0 0
none                    /dev/pts                devpts  gid=5,mode=620  0 0
tristessa:/             /tristessa              nfs     rsize=8192,wsize=8192,soft,intr,async 0 0
lucretia:/              /lucretia               nfs     rsize=8192,wsize=8192,soft,intr,async,noauto 0 0
-- 
Which is worse, ignorance or apathy? Who knows? Who cares?
Mass genocide is the most exhausting activity one can engage in, next to soccer.
New 10-10-911 saves emergency victims up to 30 percent!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/