Date: Tue, 30 Aug 2005 23:06:16 +1000
From: Nick Piggin <>
Subject: Re: [PATCH] make radix tree gang lookup faster by using a bitmap search
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/30/97

Sonny Rao wrote:
> On Tue, Aug 30, 2005 at 12:53:18PM +1000, Nick Piggin wrote:
>>For testing regular lookups, yeah that's more difficult. For a
>>microbenchmark you can use sparse files, which can be a good
>>trick for testing pagecache performance without the IO.
> 
> 
> I have a feeling that testing using sparse files should be done with
> great care to avoid exaggerating the effects of the CPU cache --
> i.e. you still need to have quite a number of pages to look up, but
> spread them apart by large offsets so that the top few levels don't
> become quickly cached for the whole test. 
> 
That's true depending on what kind of test you want to run.
Just to be clear: by 'sparse files', I mean create a huge,
sparse on-disk file from which pagecache can be arbitrarily
populated without taking up disk space by read(2)ing from it.
 From the pagecache's point of view, there would be no
difference between using that or an on-disk file.
Nick
-- 
SUSE Labs, Novell Inc.
Send instant messages to your online friends 
http://au.messenger.yahoo.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/