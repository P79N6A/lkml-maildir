Date: Wed, 27 Feb 2008 13:45:18 +0900
From: KOSAKI Motohiro <>
Subject: Re: [RFC][PATCH] page reclaim throttle take2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/26/574

Hi
> One more thing, I would request you to add default heuristics (number of
> reclaimers), based on the number of cpus in the system. Letting people tuning it
> is fine, but defaults should be related to number of cpus, nodes and zones on
> the system. Zones can be reaped in parallel per node and cpus allow threads to
> run in parallel. So please use that to come up with good defaults, instead of a
> number like "3".
I don't think so.
all modern many cpu machine stand on NUMA.
it mean following,
 - if cpu increases, then zone increases, too.
if default value increase by #cpus, lock contension dramatically increase
on large numa.
Have I overlooked anything?
and, (but) i afraid to 3 is too small value.
if you have another test result on large machine, please show me.
- kosaki