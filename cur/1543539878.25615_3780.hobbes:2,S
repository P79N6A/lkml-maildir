Date: 24 Jul 2000 20:15:11 +0200
From: "Rask Ingemann Lambertsen" <>
Subject: Re: VIA IDE driver, v1.5 (final)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/25/128

Den 24-Jul-00 12:40:40 skrev Vojtech Pavlik følgende om "Re: VIA IDE driver, v1.5 (final)":
>No. You're not supposed to get CRC errors with UDMA. Not a single one.
>If you do, it'd mean you'd get data corruption without the CRCs.
>MWDMA/16 runs at the same speed as UDMA/16 and doesn't have CRC
>protection.
   It runs at _twice_ the signalling speed! The strobe signals run at 16.6
MHz for PIO mode 4 and MDMA mode 2, but only 8.3 MHz for UDMA mode 0. UDMA
mode 1 runs them at 11.1 MHz and UDMA mode 2 runs them at 16.6 MHz. Note
that in UDMA modes, the strobes are driven by the same device which drives
the data lines, which creates a bit more room in the timing specifications
when you take signal settling times into account.
>Many people are using MWDMA/16. If your expectations (there
>will be a bit error now and then) were true, many people would see
>filesystem corruption.
   As I've described above, UDMA mode 2 is slightly less demanding of the
cable than PIO mode 4 or MDMA mode 2, and yet I've seen CRC errors reported
on two different cables running UDMA mode 2. Something like 4-5 errors over
a week or two. It could very easily have gone unnoticed if it weren't for
the CRC check.
   IIRC, the standard 40-wire ATA cable is good for as much as 10 MHz
signalling by the original specification. Using it at a higher speed
requires much care from the hardware that drives and receives the signals.
IIRC there is an appendix about this in the T13 document which defines PIO
mode 3 and 4.
Regards,
/¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯T¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯\
| Rask Ingemann Lambertsen       | E-mail: mailto:rask@kampsax.k-net.dk  |
| Please do NOT Cc: to me or the | WWW: 
http://www.gbar.dtu.dk/~c948374/
 |
| mailing list. I am on the list.| "ThrustMe" on XPilot, ARCnet and IRC  |
|        Press <Esc> to exit. Press <Esc> twice to save and exit.        |
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/