Date: Thu, 02 Sep 1999 11:06:12 -0700
From: Craig Milo Rogers <>
Subject: Re: PATCH: Update for the serial driver.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/2/134

>Note that being able to unload your primary disk driver is completely
>useless.
	It might be useful to be able to update your primary disk
driver on the fly, without rebooting.  It might be useful to keep your
system running while you switch from a failing drive to a good one.
	Impossible?  Not if you have enough memory!  Might take a
little hackery at the VFS and block cache levels, though:
Setp 1: mount primary filesystem
Step 2: read all blocks into cache
Step 3: disconnect filesystem from driver
Step 4: unload driver
... run for a while ...
Step 5: reload driver (load a new driver?)
Step 6: reconnect filesystem to driver
Step 7: update filesystem on disk
        a) if reconnected to the same partition, update only changed blocks
	b) if connected to a different partition, write all blocks
	You may have noticed that I've combined two different proposed
features.  The ability to read a filesystem into memory, switch its
drive/partition, and write it out again, is independent of the feature
of unloading the primary driver.
					Craig Milo Rogers
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/