Date: Mon, 14 Jan 2008 13:29:36 +0000
From: Ian Campbell <>
Subject: Re: [PATCH -mm 1/2] kexec/i386: kexec page table code clean up - add arch_kimage
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/14/136

On Thu, 2008-01-10 at 17:15 +0900, Simon Horman wrote: 
> > Have you tested Xen too? Does it run into issues with this change?
> 
> Xen will need to be updated for this change but it shouldn't be a big
> deal. Basically right now it calls __ma() (which is kind of like __pa())
> on kexec_pgd and friends. Updating the arguments to __ma() to use
> the new arch_kimage pointers should be easy enough.
I think you mean the Xen specific parts of the kexec machinery in the
kernel.c would need updating rather than the hypervisor, right?
I don't think these changes will cause anything more than minor problems
for whoever ports the Xen kexec stuff upstream.
> N.B: As this is Dom0 code (not DomU) it is maintained in the xen
> repository and has been merged into Linux.
I don't think we would bother backporting these changes to there, would
we?
Ian.