Date: 26 Apr 2002 06:54:56 GMT
From: Gerd Knorr <>
Subject: Re: kernel 2.5.10 problems
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/26/21

Dave Jones wrote:
>  On Thu, Apr 25, 2002 at 05:58:14PM -0600, dmacbanay@softhome.net wrote:
> 
>  > 4.  Starting with kernel 2.5.6 (kernels 2.5.5 through 2.5.6-pre3 work)  the 
>  > KDE program krecord closes right after it starts. 
> 
>  Interesting. last few lines of strace output may show up what's going on.
>  Can you do a before/after strace on a working & non-working kernel?
That one likely is a known bug in the ALSA OSS emulation, Takashi
recently fixed it.
  Gerd
===== sound/core/oss/pcm_oss.c 1.4 vs edited =====
--- 1.4/sound/core/oss/pcm_oss.c	Mon Mar 18 16:21:13 2002
+++ edited/sound/core/oss/pcm_oss.c	Wed Apr 17 12:00:55 2002
@@ -557,7 +557,7 @@
 			if (ret < 0)
 				break;
 		}
-		ret = snd_pcm_lib_read(substream, ptr, frames);
+//		ret = snd_pcm_lib_read(substream, ptr, frames);
 		if (in_kernel) {
 			mm_segment_t fs;
 			fs = snd_enter_user();
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/