Date: Tue, 10 Oct 2000 12:07:15 -0300
From: John Coppens <>
Subject: Segfaults  using xawtv
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/10/20

Hi...
I _hate_ to do this, but I couldn't find (except for a reference to 
"others who have segfaults using glibc") no reference to this problem. 
Insmod of i2c, videodev and bttv succeed without problems or any message 
in /var/log/debug, messages or syslog.
Also, though I'm surely no expert, I tested a bit with gdb & such, and
suspect there may be a problem that's not directly xawtv/bttv related.
Any suggestions?
John
-------insmod
insmod i2c
insmod videodev
(insmod tuner type=4)
insmod bttv card=30
-------dmesg:
i2c: initialized
Linux video capture interface: v1.00
bttv0: Brooktree Bt878 (rev 2) bus: 0, devfn: 80, irq: 5, memory: 0xe7000000.
PCI: Enabling bus mastering for device 00:50
bttv: 1 Bt8xx card(s) found.
bttv0: NO fader chip: TEA6300
bttv0: model: BT878
-------lsmod:
Module                  Size  Used by
tuner                   2180   1
bttv                   33824   0
videodev                2592   2  [bttv]
i2c                     3488   2  [tuner bttv]
ppp_deflate            40800   0  (autoclean)
ide-cd                 23924   1  (autoclean)
cdrom                  27324   0  (autoclean) [ide-cd]
bsd_comp                3816   0
lp                      4728   0  (unused)
-------Versions:
xawtv: 3.21
bttv: 0.7.44
kernel: 2.2.16, with USB and I2C patches
TV norm here: PAL/N, which is US channel spacing, Euro-50Hz PAL image.
  but I'm testing with a PAL-B camera.
board: Flyvideo 98
error messages: see below
-------Backtrace:
(I recompiled with -ggdb, to get more info. The error messages are the same
 using -g or -ggdb)
Starting program: /usr/local/src/multimedia/xawtv-3.21/src/xawtv
This is xawtv-3.21, running on Linux/i586 (2.2.16)
visual: id=0x22 class=4 (TrueColor), depth=24
x11: 1024x768, 32 bit/pixel, 4096 byte/scanline, DGA
waitpid: No child processes
waitpid: No child processes
Program received signal SIGSEGV, Segmentation fault.
0x4021c27d in memset () from /lib/libc.so.6
(gdb) bt
#0  0x4021c27d in memset () from /lib/libc.so.6
#1  0x806f8e6 in capability ()
#2  0x8055fb7 in grabber_open (device=0x8061cd1 "/dev/video", sw=1024, sh=768,
    base=0xe5400000, format=8, width=4096) at grab.c:111
#3  0x8050c88 in grabber_init () at xt.c:303
#4  0x8050579 in main (argc=1, argv=0xbffff784) at main.c:2365
--
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/