Date: Fri, 13 Sep 2002 14:53:45 +0200
From: Andrea Arcangeli <>
Subject: Re: 2.4.20pre5aa2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/13/86

On Thu, Sep 12, 2002 at 07:14:14PM -0700, Samuel Flory wrote:
> include/asm-i386/page.h:#define __VMALLOC_RESERVE       (128 << 20)
> include/asm/page.h:#define __VMALLOC_RESERVE    (128 << 20)
> 
> 
> Andrea Arcangeli wrote:
> 
> >On Thu, Sep 12, 2002 at 07:47:48PM -0500, Stephen Lord wrote:
> > 
> >
> >>How much memory is in the machine by the way? And Andrea, is the
> >>vmalloc space size reduced in the 3G user space configuration?
> >> 
> >>
> >
> >it's not reduced, it's the usual 128m.
> >
> >BTW, I forgot to say that to really take advantage of CONFIG_2G one
> >should increase __VMALLOC_RESERVE too, it's not directly in function of
> >the CONFIG_2G.
> >
> 
> So how much do you recommend increasing it?   Currently it's:
> include/asm-i386/page.h:#define __VMALLOC_RESERVE       (128 << 20)
> include/asm/page.h:#define __VMALLOC_RESERVE    (128 << 20)
you can try to compile with CONFIG_3G and to set __VMALLOC_RESERVE to
(512 << 20) and see if it helps. If it only happens a bit later then
it's most probably an address space leak, should be easy to track down
some debugging instrumentation.
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/