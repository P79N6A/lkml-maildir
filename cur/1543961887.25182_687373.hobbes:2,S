Date: Wed, 30 Apr 2008 21:58:10 +0200
From: Sam Ravnborg <>
Subject: Re: [patch] inlining: do not allow gcc below version 4 to optimize inlining
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/4/30/386

On Wed, Apr 30, 2008 at 10:03:07PM +0300, Adrian Bunk wrote:
> >  /*
> > - * Force always-inline if the user requests it so via the .config:
> > + * Force always-inline if the user requests it so via the .config,
> > + * or if gcc is too old:
> >   */
> >  #if !defined(CONFIG_ARCH_SUPPORTS_OPTIMIZED_INLINING) || \
> > -    !defined(CONFIG_OPTIMIZE_INLINING) && (__GNUC__ >= 4)
> 
> One moment.
> 
> Let me try to understand what we currently have in the tree.
> 
> This *always* enables the so called "optimized inlining" for the older 
> compilers we did *not* wanted to have this for.
> 
> Even with CONFIG_OPTIMIZE_INLINING=n .
> 
> How was this reviewed and tested?
I for one reviewed this.
No I did not catch the obvious bug and
feel free to flame me for that.
	Sam