Date: Tue, 18 Dec 2007 11:42:32 -0500
From: Jeff Layton <>
Subject: [PATCH 0/7] Intro: convert lockd to kthread and fix use-after-free (try #2)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/18/170

This is the second patchset to fix the use-after-free problem in lockd,
and to convert lockd to use the kthread API instead of kernel_thread.
The main change from the last patchset is that svc_prepare_thread is
now exported and svc_create_kthread no longer calls it. The caller of
svc_create_kthread must now call it (or do the equivalent to set up
the svc_rqst.
Tested against the reproducer I have for the main issue (detailed in
patch #7). As always, comments and suggestions are appreciated.
Signed-off-by: Jeff Layton <jlayton@redhat.com>