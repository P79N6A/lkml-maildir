Date: Tue, 14 Sep 1999 14:41:06 +0100 (BST)
From: Yon Han CHONG <>
Subject: PROBLEM: Compilation failure
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/14/71

[1.] One line summary of the problem:    
Compilation failure
[2.] Full description of the problem/report:
I had no problem install Kernal 2.2.6 but failed to compile Kernal 2.2.12.
Output from "make" is:
=========================
[...]
gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes -O2
-fomit-frame-pointer  -D__SMP__ -pipe -fno-strength-reduce -m486
-malign-loops=2 -malign-jumps=2 -malign-functions=2 -DCPU=686  -c -o
init/main.o init/main.c
/usr/src/linux/include/linux/pagemap.h: In function `page_address':
In file included from /usr/src/linux/include/linux/locks.h:8,
                 from /usr/src/linux/include/linux/blk.h:5,
                 from init/main.c:23:
/usr/src/linux/include/linux/pagemap.h:17: `PAGE_OFFSET_RAW' undeclared
(first use in this function)
/usr/src/linux/include/linux/pagemap.h:17: (Each undeclared identifier is
reported only once
/usr/src/linux/include/linux/pagemap.h:17: for each function it appears
in.)
/usr/src/linux/include/linux/pagemap.h:18: warning: control reaches end of
non-void function
/usr/src/linux/include/asm/pgtable.h: In function `get_pgd_slow':
In file included from /usr/src/linux/include/linux/vmalloc.h:7,
                 from /usr/src/linux/include/asm/io.h:101,
                 from init/main.c:26:
/usr/src/linux/include/asm/pgtable.h:408: `PAGE_OFFSET_RAW' undeclared
(first use in this function)
/usr/src/linux/include/asm/pgtable.h: In function `pte_alloc_kernel':
/usr/src/linux/include/asm/pgtable.h:497: `PAGE_OFFSET_RAW' undeclared
(first use in this function)
/usr/src/linux/include/asm/pgtable.h: In function `pte_alloc':
/usr/src/linux/include/asm/pgtable.h:515: `PAGE_OFFSET_RAW' undeclared
(first use in this function)
/usr/src/linux/include/asm/io.h: In function `virt_to_phys':
In file included from init/main.c:26:
/usr/src/linux/include/asm/io.h:112: `PAGE_OFFSET_RAW' undeclared (first
use in this function)
/usr/src/linux/include/asm/io.h: In function `phys_to_virt':
/usr/src/linux/include/asm/io.h:117: `PAGE_OFFSET_RAW' undeclared (first
use in this function)
/usr/src/linux/include/asm/io.h: In function `check_signature':
/usr/src/linux/include/asm/io.h:175: `PAGE_OFFSET_RAW' undeclared (first
use in this function)
make: *** [init/main.o] Error 1
root@coant1:/usr/src/linux# 
================================
[3.] Keywords (i.e., modules, networking, kernel):
Kernel compilation error, init/main.c, pagemap, PAGE_OFFSET_RAW
[4.] Kernel version (from /proc/version):
Linux version 2.2.6 (root@coant1) (gcc version 2.8.1) #4 SMP Thu Apr 29
14:32:33 MET DST 1999
[5.] Output of Oops.. message (if applicable) with symbolic information 
     resolved (see Documentation/oops-tracing.txt)
None.
[6.] A small shell script or example program which triggers the
     problem (if possible)
[7.] Environment
[7.1.] Software (add the output of the ver_linux script here)
-- Versions installed: (if some fields are empty or looks
-- unusual then possibly you have very old versions)
Linux coant1 2.2.6 #4 SMP Thu Apr 29 14:32:33 MET DST 1999 i686
Kernel modules         2.1.121
Gnu C                  2.8.1
Binutils               2.6.0.14
Linux C Library        5.3.12
Dynamic linker         ldd: version 1.7.14
Linux C++ Library      27.1.4
Procps                 0.99
Mount                  2.5m
Net-tools              Utilities
Kbd                    0.89
Sh-utils               1.12
Modules Loaded         
[7.2.] Processor information (from /proc/cpuinfo):
processor       : 0
vendor_id       : GenuineIntel
cpu family      : 6
model           : 1
model name      : Pentium Pro
stepping        : 7
cpu MHz         : 199.435136
cache size      : 256 KB
fdiv_bug        : no
hlt_bug         : no
sep_bug         : no
f00f_bug        : no
fpu             : yes
fpu_exception   : yes
cpuid level     : 2
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 sep mtrr pge mca cmov
bogomips        : 199.07
[7.3.] Module information (from /proc/modules):
None.
[7.4.] SCSI information (from /proc/scsi/scsi)
No such file or directory
[7.5.] Other information that might be relevant to the problem
       (please look in /proc and include all information that you
       think to be relevant):
[X.] Other notes, patches, fixes, workarounds:
I hope these will help.
-------------------------------------------------------------------------
Yon Han CHONG                     |
Flow Control and Prediction Group | Tel: + 44 1234 750 111 ext.5420/5356
Cranfield College of Aeronautics  | E-mail: Y.H.Chong@cranfield.ac.uk
Cranfield University              | Mobile: + 44 958 381 395
United Kingdom                    | Fax: + 44 1234 752 149
-------------------------------------------------------------------------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/