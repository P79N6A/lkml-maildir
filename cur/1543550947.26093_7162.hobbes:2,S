Date: Mon, 9 Oct 2000 22:51:34 +0100 (BST)
From: Alan Cox <>
Subject: Re: [PATCH] VM fix for 2.4.0-test9 & OOM handler
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/9/2

> > across AF_UNIX sockets so the mechanism is notionally there to provide the 
> > credentials to X, just not to use them
> 
> The problem is that there is no way to keep track of them afterwards.
If you use mmap for your allocator then beancounter will get it right. Every
resource knows which beancounter it was charged too. It adds an overhead the
average desktop user won't like but which is pretty much essential to do real
mainframe world operation. So it would become
	seteuid(Client->passed_euid);
	mmap(buffer in pages)
	seteuid(getuid());
With lightwait counting semantics its hard to make any tracking system work
well in the corner cases like resources that survive process death.
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/