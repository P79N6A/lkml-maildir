Date: Mon, 23 Feb 2004 13:30:58 +0800
From: Coywolf Qi Hunt <>
Subject: Re: [2.0.40 2.2.25 2.4.25] Fix boot GDT limit 0x800 to 0x7ff in setup.S or not
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/23/4

H. Peter Anvin wrote:
> Coywolf Qi Hunt wrote:
> 
>>
>> Please fix 0x8000 to 0x800 in 2.4, and 0x800 to 0x7ff in 2.0~2.4, ok?
>> This is my last appeal.
>>
> 
> Submit a patch.
> 
>     -hpa
(A patch enclosed for fix 0x800 to 0x7ff for 2.4.25)
-- 
Coywolf Qi Hunt
Admin of 
http://GreatCN.org
 and 
http://LoveCN.org
--- arch/i386/boot/setup.S.orig	2003-11-29 02:26:20.000000000 +0800
+++ arch/i386/boot/setup.S	2004-02-23 01:15:42.000000000 +0800
@@ -1093,7 +1093,7 @@
 	.word	0				# idt limit = 0
 	.word	0, 0				# idt base = 0L
 gdt_48:
-	.word	0x8000				# gdt limit=2048,
+	.word	0x7ff				# gdt limit=2047,
 						#  256 GDT entries
 
 	.word	0, 0				# gdt base (filled in later)