Date: Thu, 22 Feb 2007 12:56:13 -0200
From: Henrique de Moraes Holschuh <>
Subject: Re: no backlight on radeon after recent kernel "upgrade"s
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/22/189

On Thu, 22 Feb 2007, Richard Purdie wrote:
> > it to Len Brown for merging into 2.6.21, or NACK it if you'd rather do it in
> > the backlight class core.
> 
> We can't change the backlight class code since some hardware can't read
> from the device, only write to it. Initialisation in that case is a bit
> different.
Initializing stuff after registering is also racy as the device is not
locked but we are going to clobber data in its properties struct.  I don't
particularly care about that race, but...
Anyway, you have the 2.6.21-rc patch now, to ACK or NACK.  I still think the
class should be handling this.  If a device is write-only, it should have no
_get ops handler, which means that the class can easily differentiate the
two cases and do the right thing for both.  There's less code duplication
that way.
Howerver, I *do* strongly wish for a way to combine various drivers into a
single backlight device, where radeon/intelfb takes care of some stuff,
ibm-acpi/asus-laptop/sony-laptop takes care of other stuff, etc.  Also, a
standard naming for the builtin screen(s) would help, calling it "ibm",
"asus", "sony" is not good IMHO.
-- 
  "One disk to rule them all, One disk to find them. One disk to bring
  them all and in the darkness grind them. In the Land of Redmond
  where the shadows lie." -- The Silicon Valley Tarot
  Henrique Holschuh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/