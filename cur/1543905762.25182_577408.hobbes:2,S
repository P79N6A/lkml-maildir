Date: Tue, 31 Jul 2007 16:22:35 +0200
From: Ingo Molnar <>
Subject: Re: [PATCH 1/2] RT: Preemptible Function-Call-IPI Support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/31/268

* Gregory Haskins <ghaskins@novell.com> wrote:
> > as far as the prioritization of function calls goes, _that_ makes 
> > sense, but it should not be a separate API but should be done to our 
> > normal workqueue APIs. That not only extends the effects of 
> > priorities to all current workqueue using kernel subsystems, but 
> > also keeps the API more unified. We really dont want to have too 
> > many -rt specific APIs.
> 
> I agree with you that having some kind of priority and cpu-binding 
> specifiers for work-queues would be very cool indeed.  However, note 
> that I didn't actually introduce a new API(*), per se.  I simply 
> worked under the existing smp_call_function[_single]() API.
> 
> Using the smp_call_functions is critical design factor, however.  I 
> really want clients of this function to seamlessly transition to 
> threaded mode. [...]
well, 'clients' of this function are low-level architectural bits like 
the scheduler and the TLB flush code which stays atomic nevertheless. 
smp_call_function() is _not_ a true generic framework and to 'thread' it 
is wrong and misplaced and leads to the kind of over-complification that 
your patch shows. Please work based on the workqueue APIs.
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/