Date: Fri, 26 Dec 2003 22:30:21 +0800
From: dlion <>
Subject: Re: filesystem bug?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/26/39

Hello ,
Friday, December 26, 2003, 9:22:25 PM, you wrote:
Bxynj> Hi,
 >>I got other errors on ext3 filesystem include:
 >>1. missing file
 >>2. corrupted file
 >>but when I used fsck.ext3 to check the ramdisk, the result was clean.
Bxynj> Dlion,  how did the corrupted file look like?
Bxynj> (its file size, number of blocks etc.)
1. some corrupted files is truncated to 0 bytes. Blockcount is 0.
2. some corrupted files is truncated . the result is a shorter file.
the new size is multiple of block size.
3. maybe all corrupted files' mtime is exactly the same
wrong value. Should be around 2003.12.26 21:30:00, but
is 2002.05.12 12:00:48(hex value is 0x3cdde8f0) . ctime
and atime is correct. The system's clock time is unchanged.
4. it seems that the corrupted files tends to exist in the same
directory.
Use a 128000k bytes ramdisk you can get these results in less than
30 minutes. BTW, your test script is very good. Thank you.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/