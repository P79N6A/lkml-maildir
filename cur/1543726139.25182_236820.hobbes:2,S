Date: Wed, 28 Jul 2004 08:44:51 -0400
From: Brian Gerst <>
Subject: [PATCH] Only build modpost when modules enabled
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/28/92

Only build modpost when CONFIG_MODULES=y.
--
				Brian Gerst
diff -urN linux-2.6.8-rc2-mm1/scripts/Makefile linux/scripts/Makefile
--- linux-2.6.8-rc2-mm1/scripts/Makefile	2004-07-28 08:33:03.884445247 -0400
+++ linux/scripts/Makefile	2004-07-28 08:33:41.408269137 -0400
@@ -9,7 +9,7 @@
 always		:= $(host-progs)
 
 subdir-$(CONFIG_MODVERSIONS)	+= genksyms
-subdir-y	+= mod
+subdir-$(CONFIG_MODULES)	+= mod
 
 # Let clean descend into subdirs
 subdir-	+= basic lxdialog kconfig package