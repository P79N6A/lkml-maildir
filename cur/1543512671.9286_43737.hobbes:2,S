Date: Tue, 12 Oct 1999 17:59:52 +0200 (CEST)
From: Andrea Arcangeli <>
Subject: Re: [patch] [possible race in ext2] Re: how to write get_block?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/12/69

On Tue, 12 Oct 1999, Stephen C. Tweedie wrote:
>Umm, your last proposal was to do a hash lookup on each new page cache
>buffer mapping.  That is a significant performance cost, which IMHO is
>not exactly the right direction either. :)
It's not obvious that the only thing to consider are performances. It's
not obvious to me that `less performances' == `wrong way' as you state
above.
That's been the simpler way I had to solve the design bug in a way that
looks obviously right to me (no way for mistakes or races with my way) and
without breaking all lowlevel filesystems.
Said that I will think soon about the better way that you are proposing
and that will break all filesystems again (except NFS and SMBFS where the
metadata lives on the server). I had not thought about this
metadata-in-page-cache way carefully yet. (I wanted to do that yesterday
but I destroyed all my filesystems with a cp /dev/zero /var/tmp due an
fdisk bug and so I wasted some good time ...). If there is just some code
available to see I'd like to see it (as it will avoid me reading lots of
emails to understand what's going on). Thanks!
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/