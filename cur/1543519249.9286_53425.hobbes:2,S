Date: Tue, 14 Dec 1999 14:50:24 -0500 (EST)
From: David Forrest <>
Subject: Re: parport in 2.3.*
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/14/178

On Tue, 14 Dec 1999, Tim Waugh wrote:
> On Tue, 14 Dec 1999, Bernhard Rosenkraenzer wrote:
> 
> > Tried it with pre-2.3.32-4 today, and it works now, though, so whatever
> > the problem was, it's fixed.
> 
> Strange.  I haven't been changing the code much recently at all.
> 
> > I still don't get any autoprobing info (yes, I enabled IEEE-1284, and
> > the printer supports it), though. The autoprobe* files are in proc,
> > but they're empty.
> 
> What does dmesg say?
> 
> Tim.
> */
I haven't the latest kernel (2.2.13), but 
Make sure the parport_probe module is loaded, 
/sbin/lsmod
and there might be two kernel configuration settings:
CONFIG_PNP_PARPORT:
Some IEEE-1284 conforming parallel-port devices can identify
themselves when requested. Say Y to enable this feature, or M to
compile it as a module (parport_probe.o). If in doubt, say N.
CONFIG_PRINTER_READBACK:
If your printer conforms to IEEE 1284, it may be able to provide a
status indication when you read from it (for example, with `cat
/dev/lp1'). To use this feature, say Y here.
I get:
{drf5n@hob}~: /sbin/lsmod
Module                  Size  Used by
vmmon                  14380   0 
vmnet                  10672   3 
ne2k-pci                3928   1  (autoclean)
8390                    5940   0  (autoclean) [ne2k-pci]
unix                   10088  36  (autoclean)
{drf5n@hob}~: cat /dev/lp0
cat: /dev/lp0: I/O error
{drf5n@hob}~: /sbin/lsmod
Module                  Size  Used by
parport_probe           2940   0  (autoclean)
parport_pc              5532   1  (autoclean)
lp                      4988   0  (autoclean)
parport                 6676   1  (autoclean) [parport_probe parport_pc
lp]
vmmon                  14380   0 
vmnet                  10672   3 
ne2k-pci                3928   1  (autoclean)
8390                    5940   0  (autoclean) [ne2k-pci]
unix                   10088  36  (autoclean)
{drf5n@hob}~: cat /proc/parport/0/autoprobe 
MODEL:Unknown device;
MANUFACTURER:Unknown vendor;
{drf5n@hob}~: 
> 
> 
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.rutgers.edu
> Please read the FAQ at 
http://www.tux.org/lkml/
> 
-- 
 Dave Forrest                                dforrest@virginia.edu
 (804)296-7283h 924-3954w   
http://www.people.virginia.edu/~drf5n/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/