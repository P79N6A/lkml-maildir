Date: Wed, 9 Mar 2005 10:03:01 +0100
From: Blaisorblade <>
Subject: Re: [uml-devel] [PATCH] UML - Make deb-pkg build target build a Debian-style user-mode-linux package
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/9/149

On Monday 07 March 2005 19:28, Ryan Anderson wrote:
> Make the deb-pkg build target understand the "um" arch and set up the
> package and directory structure to match a mainline-Debian style
> user-mode-linux package.
>
> This is primarily so that it stops matching, exactly, the naming
> convention used by normal, non-UML kernels generated by this command.
>
> Installing "linux-2.6.11" and "linux-2.6.11", where one is a UML kernel
> doesn't do the right thing.  This fixes that.
Yes, it must go in... only the Description is a bit problematic, since you'll 
get with the below:
Description: Linux kernel, version linux-2.6.11
Description: Linux kernel, version user-mode-linux-2.6.11
and so on... could you restore $version instead of $packagename and have a 
dual Description (taking the right UML one from the mainline-Debian package 
if you can).
For the rest, no problem I can see (but I'm no Debian user).
> @@ -60,11 +80,11 @@
>  Maintainer: $name
>  Standards-Version: 3.6.1
>
> -Package: linux-$version
> +Package: $packagename
>  Architecture: any
> -Description: Linux kernel, version $version
> +Description: Linux kernel, version $packagename
>   This package contains the Linux kernel, modules and corresponding other
> - files version $version.
> + files version $packagename
>  EOF
>
>  # Fix some ownership and permissions
-- 
Paolo Giarrusso, aka Blaisorblade
Linux registered user n. 292729
http://www.user-mode-linux.org/~blaisorblade
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/