Date: Mon, 5 May 2008 08:43:06 +0200 (CEST)
From: Jan Engelhardt <>
Subject: Re: changeset: Make forced module loading optional
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/5/49

On Monday 2008-05-05 07:05, Linus Torvalds wrote:
>On Mon, 5 May 2008, Rusty Russell wrote:
>
>And I don't build initrd's etc crap, very much on purpose. I want to
>replace the kernel, nothing else, so my /etc/grub.conf file just
>replaces the distro kernel with my own, and keeps everything else
>untouched. [...] I want my own kernel, no other changes. That means
>that I run the distro initrd, which has its modules for bringing
>stuff up with distro kernels.
That's not good procedure IMO. You always want to keep a known good
(=booting) kernel, and the distro-provided one might just be that.
So it's like:
	<hack hack hack>
	make modules_install
	cp arch/x86/boot/bzImage /boot/mykernel
	cp System.map /boot/System.map-2.6.26.1
	mkinitrd -i /boot/myinitrd -k /boot/mykernel # suse, fedora might slightly different
and you can constantly replace mykernel (resp. myinitrd via mkinitrd)
without having to touch grub.conf (that is, if you keep the name
'my*' over the development period), have modules, and the right ones
at that.