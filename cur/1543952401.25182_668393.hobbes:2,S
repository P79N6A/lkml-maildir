Date: Mon, 17 Mar 2008 08:47:30 -0700
From: "Ray Lee" <>
Subject: Re: 2.6.25-rc1/2 regression: first-time login into gnome fails
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/17/176

On Mon, Mar 17, 2008 at 5:06 AM, Christoph Hellwig <hch@infradead.org> wrote:
> On Mon, Feb 18, 2008 at 08:15:01AM -0800, Ray Lee wrote:
>  > It may be a race. Please try booting up, then waiting for a minute or
>  > two once you see the gdm login screen, then try logging in.
>  >
>  > If that succeeds then something (dbus perhaps) is hanging on something
>  > that eventually times out.
>
>  Just upgraded my laptop to 2.6.25-rc6 and I see the same.  A little
>  instrumentation shows that there is no socket to connect to aka the
>  server side process (whatever that is) didn't start.
Hmm. Okay, mind if I ask some stupid questions?
I'm assuming you upgraded from 2.6.24, correct? (not .25-rcX).
Are you running either debian or ubuntu? If so, do you have the
dbus-x11 package installed? Alternately, does /usr/bin/dbus-launch
exist? If no, try installing dbus-x11 and try again. I think a
side-effect of installing is to start dbus earlier, and may perhaps
avoid the race (if it is a race that's causing all this, which I still
think it is).
References if you're bored:
  
http://bugzilla.gnome.org/show_bug.cgi?id=395488
  
http://www.mail-archive.com/desktop-bugs@lists.ubuntu.com/msg139625.html
If the above doesn't help, is there anything interesting in ~/.xsession-errors?