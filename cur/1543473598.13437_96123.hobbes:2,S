Date: Wed, 30 Dec 1998 18:44:09 -0500 (EST)
From: "Steven N. Hirsch" <>
Subject: Re: 2.2.0pre1 OOPS on boot.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/31/79

On Wed, 30 Dec 1998, Linus Torvalds wrote:
> > 
> > Following up on my Ooops report.  Rebuilding 2.2.0-pre1 w/ CONFIG_CPU=M486
> > made no difference.  It panics on boot at the partition check:
> > 
> > sda:<Ooops follows, not in logs>
> 
> Ahh, this looks a lot more like the problem is something in the new BSD
> partition finding code than the TSC I first suspected. 
> 
> Could you try just reversing the BSD parition diffs to see, and perhaps
> jot down at least the basics of the oops (even just eip: then doing a
Ok, I backed out the BSD thingies.  Same Ooops.
> 
> 	gdb vmlinux
> 	(gdb) x/10i <saved-eip>
This reveals:
[hirsch@pro linux]$ gdb vmlinux
GNU gdb 4.17.0.8 with Linux support
Copyright 1998 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "i686-pc-linux-gnu"...
(no debugging symbols found)...
(gdb) x/10i 0xc0179467
0xc0179467 <ide_xlate_1024+115>:	movl   0x48(%ebx),%edx
0xc017946a <ide_xlate_1024+118>:	movw   0x36(%ebx),%ax
0xc017946e <ide_xlate_1024+122>:	movw   %ax,0x6c(%edx)
0xc0179472 <ide_xlate_1024+126>:	movl   0x48(%ebx),%edx
0xc0179475 <ide_xlate_1024+129>:	xorl   %eax,%eax
0xc0179477 <ide_xlate_1024+131>:	movb   0x34(%ebx),%al
0xc017947a <ide_xlate_1024+134>:	movw   %ax,0x6e(%edx)
0xc017947e <ide_xlate_1024+138>:	movl   0x48(%ebx),%edx
0xc0179481 <ide_xlate_1024+141>:	xorl   %eax,%eax
0xc0179483 <ide_xlate_1024+143>:	movb   0x35(%ebx),%al
(gdb) quit
[hirsch@pro linux]$ exit
The boot drive is /dev/sda.  This box has an IDE CD-ROM, but no IDE disks.
I'll await your words of wisdom.
Steve
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/