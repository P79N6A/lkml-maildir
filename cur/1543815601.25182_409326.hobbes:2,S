Date: Wed, 22 Mar 2006 06:19:16 +0100
From: Knut Petersen <>
Subject: Re: [BUG] wrong bogomips  values with kernel 2.6.16
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/22/7

Linus Torvalds schrieb:
>That sounds correct. On x86, BogoMips these days is just a measure of how 
>fast the timestamp counter goes (multiplied by two for totally bogus 
>reasons), and a Pentium-M should have a fixed-frequency TSC that ticks at 
>the highest possible frequency of the CPU, regardless of what the real 
>frequency is.
>
> 
>
Pentium 4 and Xeon model 3 and above increment the time stamp counter
at a constant rate independent of the current cpu frequency.
All Pentium M, Xeon up to model 2 and the P6 family increment with every
internal processor cycle.
This behaviour is documented in chapter 18.8 of IA-32 Intel® Architecture
Software Developer’s Manual, Volume 3B: System Programming Guide,
Part 2, Order Number: 253669-018, January 2006.
Because of your false assumption of a fixed-frequency TSC, your
conclusions are false too. Scaling of the bogomips values should
really happen, but the start value is wrong. For 800 MHz there
should be a bogomips value of about 1598, for 1867 MHz a value
of about 3730.
You asked for a full /proc/cpuinfo, here it is ...
processor : 0
vendor_id : GenuineIntel
cpu family : 6
model : 13
model name : Intel(R) Pentium(R) M processor 1.86GHz
stepping : 8
cpu MHz : 800.000
cache size : 2048 KB
fdiv_bug : no
hlt_bug : no
f00f_bug : no
coma_bug : no
fpu : yes
fpu_exception : yes
cpuid level : 2
wp : yes
flags : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov 
pat clflush dts acpi mmx fxsr sse sse2 ss tmpbe nx est tm2
bogomips : 3730.27
cu,
Knut
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/