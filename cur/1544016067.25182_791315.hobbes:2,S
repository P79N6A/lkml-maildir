Date: Tue, 13 Jan 2009 18:32:15 +0530
From: Kamalesh Babulal <>
Subject: [PATCH] next-20090113 - scsi_debug fails with CONFIG_CRC_T10DIF=n
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/13/182

Hi Stephen,
    next-20090113 kernel randconfig fails with
ERROR: "crc_t10dif" [drivers/scsi/scsi_debug.ko] undefined!
make[1]: *** [__modpost] Error 1
Impact: Fix the dependency of scsi_debug on crc-t10dif library
scsi_debug calls the functions exported by crc-t10dif library,
adding dependency to select CONFIG_CRC_T10DIF
Signed-off-by: Kamalesh Babulal <kamalesh@linux.vnet.ibm.com>
---
 drivers/scsi/Kconfig |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)
diff --git a/drivers/scsi/Kconfig b/drivers/scsi/Kconfig
old mode 100644
new mode 100755
index d25d21e..32ccf96
--- a/drivers/scsi/Kconfig
+++ b/drivers/scsi/Kconfig
@@ -1535,6 +1535,7 @@ config SCSI_NSP32
 config SCSI_DEBUG
 	tristate "SCSI debugging host simulator"
 	depends on SCSI
+	select CRC_T10DIF
 	help
 	  This is a host adapter simulator that can simulate multiple hosts
 	  each with multiple dummy SCSI devices (disks). It defaults to one
-- 
Thanks & Regards,
Kamalesh Babulal,
Linux Technology Center,
IBM, ISTL.