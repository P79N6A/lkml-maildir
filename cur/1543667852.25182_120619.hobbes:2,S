Date: Wed, 26 Mar 2003 10:09:09 -0600
From: Matt Mackall <>
Subject: Re: [PATCH] ENBD for 2.5.64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/26/111

On Wed, Mar 26, 2003 at 06:31:31PM +1100, Lincoln Dale wrote:
> At 11:55 PM 25/03/2003 -0600, Matt Mackall wrote:
> >> Yeah, iSCSI handles all that and more.  It's a behemoth of a
> >> specification.  (whether a particular implementation implements all that
> >> stuff correctly is another matter...)
> >
> >Indeed, there are iSCSI implementations that do multipath and
> >failover.
> 
> iSCSI is a transport.
> logically, any "multipathing" and "failover" belongs in a layer above it -- 
> typically as a block-layer function -- and not as a transport-layer 
> function.
>
> multipathing belongs elsewhere -- whether it be in MD, LVM, EVMS, DevMapper 
> PowerPath, ...
Funny then that I should be talking about Cisco's driver. :P
iSCSI inherently has more interesting reconnect logic than other block
devices, so it's fairly trivial to throw in recognition of identical
devices discovered on two or more iSCSI targets..
> >Both iSCSI and ENBD currently have issues with pending writes during
> >network outages. The current I/O layer fails to report failed writes
> >to fsync and friends.
> 
> these are not "iSCSI" or "ENBD" issues.  these are issues with VFS.
Except that the issue simply doesn't show up for anyone else, which is
why it hasn't been fixed yet. Patches are in the works, but they need
more testing:
http://www.selenic.com/linux/write-error-propagation/
-- 
Matt Mackall : 
http://www.selenic.com
 : of or relating to the moon
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/