Date: Thu, 25 Apr 2002 15:12:49 +1000
From: Anton Blanchard <>
Subject: Re: [PATCH] gcc 3.1 breaks wchan
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/25/16

> ABSOLUTELY NOT!
>
> "extern inline" does not guarantee inlining. It only guarantees that _if_
> the code isn't inlined, it also won't be compiled as a static function.
Isnt that the correct behaviour for this function? We rely on that code
being inlined so if it doesnt get inlined we should fail to link. Im
not solving the problem with this patch, I'll leave that to the gcc
guys.
> Complain to the gcc guys, they've made up some not-backwards-compatible
> thing called "always_inline" or something, apparently without any way to
> know whether it is supported or not.
Yes, Alan Modra just pointed me to __attribute__ ((always_inline)).
Anton
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/