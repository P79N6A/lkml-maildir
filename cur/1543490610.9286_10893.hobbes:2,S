Date: Mon, 22 Mar 1999 07:27:09 -0600 (EST)
From: Brian <>
Subject: filedescriptors
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/22/61

I have patched kernels on our busy machines (mail, web, news) with the
filedescriptors patch. I set the parameters so that:
Maximum number of filedescriptors per process: 3000
Maximum number of processes: 512
However, ulimit reveals this doesn't get setup by default:
[root@blackhole linux-2.0.35]# ulimit -a
core file size (blocks)  0
data seg size (kbytes)   unlimited
file size (blocks)       unlimited
max memory size (kbytes) unlimited
stack size (kbytes)      8192
cpu time (seconds)       unlimited
max user processes       256
pipe size (512 bytes)    8
open files               256
virtual memory (kbytes)  2105343
My question is, can I just put in say rc.local, before news or apache
runs, something like:
ulimit -n 3000
ulimit -u unlimited
and then all programs ran out or rc.local will take on those values?  On
news, I just stuck those values into rc.news, but I am unsure how to check
to see if the news process is using those parameters.
Is their a way to see what a programs max user processes or open file max
is?  I know I can check /proc/sys/kernel/file-nr and
/proc/sys/kernel/file-max to see the "system" values, but I am looking at
the per process values the ones restricted by ulimit.
Brian
-----------------------------------------------------
Brian Feeny (BF304)     signal@shreve.net   
318-222-2638 x 109	
http://www.shreve.net/~signal
      
Network Administrator   ShreveNet Inc. (ASN 11881) 	      
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/