Date: Sun, 12 Mar 2000 22:19:47 +0100
From: Nick Wellnhofer <>
Subject: 2.3.51: mount bug (in fs/super.c?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/12/142

I get a kernel bug at block_dev.c:426 (in function bdput())
if I try to mount a filesystem and there are no super blocks
left. The relevant parts of do_mount() are:
...
	sb = read_super(dev, bdev, fs_type, flags, data, 0);
	if (!sb)
		goto fsput_and_out;
...
fsput_and_out:
	put_filesystem(fs_type);
	if (bdev)
		bdput(bdev);
dput_and_out:
...
The bdput() call triggers the bug report. The 2.3.50 kernel
jumps to dput_and_out if read_super() fails...
Nick Wellnhofer
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/