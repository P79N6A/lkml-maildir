Date: Fri, 24 Sep 1999 10:34:29 +0200 (METDST)
From: German Jose Gomez Garcia <>
Subject: OFFTOPIC: Best compiler ???
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/24/13

	Hello,
	After the release of mandrake 6.1 which is supposed to include
pgcc-1.1.2 as the default compiler I was curious about performance of
current compilers, I know benchmarks are stupid things that doesn't
mean anything, but anyway I decide to compile gcc-2.96 (CVS 23/9/99)
pgcc-2.95.1 and gcc-2.95.1 and test them with nbench-byte-2.1 I use
-O6 -fomit-frame-pointer -fno-exceptions -fexpensive-optimizations
-fforce-mem -fforce-addr -funroll-loops -march=pentiumpro, although some
of the compilers doesn't support -O6 or some of the options are redundant.
	The resulting binaries size were: 
	nbench-2.95		58196
	nbench-2.96		59112 
	nbench-pgcc		59352
I test them on a PII 450 with 512M as I already said I know benchmarks are
not reliable ways to test compilers, but I was surprise by the performance of
pgcc-2.95.1, it is supposed to be the faster of them, although 2.96 includes
the new ia32 backend it is still in a beta stage, but pgcc-2.95.1 is based on
2.95.1 but it seems slower than it?? 
	- german
<>-------------------------------------+-----------------------------------<>
   One O.S. to rule them all,          |  German Gomez Garcia
      One O.S. to find them.           |  german@pinon.ccu.uniovi.es
   One O.S. to bring them all          |
      and in the darkness bind them.   |  "Wur Qanar Wur Stilor Wur Kas"
<>-------------------------------------+-----------------------------------<>
TEST                : Iterations/sec.  : Old Index   : New Index
                    :                  : Pentium 90* : AMD K6/233*
--------------------:------------------:-------------:------------
NUMERIC SORT        :          196.58  :       5.04  :       1.66
STRING SORT         :          18.053  :       8.07  :       1.25
BITFIELD            :      5.8898e+07  :      10.10  :       2.11
FP EMULATION        :          11.878  :       5.70  :       1.32
FOURIER             :            3446  :       3.92  :       2.20
ASSIGNMENT          :          2.5594  :       9.74  :       2.53
IDEA                :          414.01  :       6.33  :       1.88
HUFFMAN             :          198.17  :       5.50  :       1.75
NEURAL NET          :          3.8831  :       6.24  :       2.62
LU DECOMPOSITION    :          113.03  :       5.86  :       4.23
C compiler          : gcc version 2.7.2.3
MEMORY INDEX        : 1.881
INTEGER INDEX       : 1.637
FLOATING-POINT INDEX: 2.901
--------------------:------------------:-------------:------------
NUMERIC SORT        :          266.36  :       6.83  :       2.24
STRING SORT         :          19.617  :       8.77  :       1.36
BITFIELD            :      6.3688e+07  :      10.92  :       2.28
FP EMULATION        :            13.2  :       6.33  :       1.46
FOURIER             :          4921.4  :       5.60  :       3.14
ASSIGNMENT          :          3.1238  :      11.89  :       3.08
IDEA                :           581.4  :       8.89  :       2.64
HUFFMAN             :          224.64  :       6.23  :       1.99
NEURAL NET          :          9149.4  :   14697.77  :    6182.42
LU DECOMPOSITION    :           184.8  :       9.57  :       6.91
C compiler          : gcc driver version 2.96 executing gcc version 2.95.1
MEMORY INDEX        : 2.121
INTEGER INDEX       : 2.037
FLOATING-POINT INDEX: 51.218
--------------------:------------------:-------------:------------
NUMERIC SORT        :          265.96  :       6.82  :       2.24
STRING SORT         :          19.592  :       8.75  :       1.36
BITFIELD            :      6.2761e+07  :      10.77  :       2.25
FP EMULATION        :          17.729  :       8.51  :       1.96
FOURIER             :            4872  :       5.54  :       3.11
ASSIGNMENT          :          3.4182  :      13.01  :       3.37
IDEA                :          561.15  :       8.58  :       2.55
HUFFMAN             :          210.49  :       5.84  :       1.86
NEURAL NET          :          5.6267  :       9.04  :       3.80
LU DECOMPOSITION    :          189.56  :       9.82  :       7.09
C compiler          : gcc version 2.96
MEMORY INDEX        : 2.174
INTEGER INDEX       : 2.138
FLOATING-POINT INDEX: 4.378
--------------------:------------------:-------------:------------
NUMERIC SORT        :          264.08  :       6.77  :       2.22
STRING SORT         :          19.444  :       8.69  :       1.34
BITFIELD            :      6.6431e+07  :      11.40  :       2.38
FP EMULATION        :          13.126  :       6.30  :       1.45
FOURIER             :          4528.1  :       5.15  :       2.89
ASSIGNMENT          :          3.0558  :      11.63  :       3.02
IDEA                :          579.77  :       8.87  :       2.63
HUFFMAN             :           221.4  :       6.14  :       1.96
NEURAL NET          :          3.9683  :       6.37  :       2.68
LU DECOMPOSITION    :          184.64  :       9.57  :       6.91
C compiler          : gcc driver version 2.96 executing gcc version pgcc-2.95.1
MEMORY INDEX        : 2.129
INTEGER INDEX       : 2.021
FLOATING-POINT INDEX: 3.770