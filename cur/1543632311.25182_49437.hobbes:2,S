Date: Fri, 31 May 2002 15:34:29 +0200
From: Stelian Pop <>
Subject: USB host drivers test results (2.5.19) and problem.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/31/53

Hi,
Now that a 2.5 kernel boots again on my laptop (thanks to the ACPI
IRQ routing problems being resolved :-) ), I tested the different
USB host drivers available (I used to use usb-uhci before).
lspci:
	00:07.2 USB Controller: Intel Corp. 82371AB/EB/MB PIIX4 USB (rev 01)
Results (only simple tests with a USB mouse performed):
	ehci-hcd.o
		does load, no output messages, does NOT work
	ohci-hcd.o 
		does load, no output messages, does NOT work
	uhci-hcd.o 
		does load, does work correctly
	usb-uhci-hcd.o
		does load, does work correctly.
1. Shouldn't the ehci/ohci drivers give some error on loading,
since I obviously don't have the hardware ?
2 When doing a rmmod on one of the two last drivers, 
the kernel oopses with a (hand copied trace):
	bad EIP: c784fbda <[usbcore]rh_report_status+63/143>
	c0118f34 <__run_task_queue+61/6a>
	c784f677 <[usbcore]usb_reset_device+1d4/2df>
	c011be58 <timer_bh+22b/27c>
	c0118e48 <bh_action+26/74>
	c0118d79 <tasklet_hi_action+38/59>
	c0118bb7 <do_softirq+57/b1>
	c01099a0 <do_IRQ+da/e5>
	c0108656 <common_interrupt+22/28>
	c01abd54 <acpi_processor_idle+e9/1eb>
	c0106b54 <gunzip+45c/4bc>
	c0106bd0 <default_idle+0/27>
	c01abc6b <acpi_processor_idle+0/1eb>
	c0106bd0 <default_idle+0/27>
	c0106c5a <cpu_idle+2e/3d>
	c0105000 <_stext+0/0>
Another one:
	bad EIP: <c78ed365> <[yenta_socket]yenta_allocate_resources+d/41>
	Adhoc c011be58 <timer_bh+22b/27c>
	Adhoc c0118e48 <bh_action+26/74>
	Adhoc c0118d79 <tasklet_hi_action+38/59>
	Adhoc c0118bb7 <do_softirq+57/b1>
	Adhoc c01099a0 <do_IRQ+da/e5>
	Adhoc c0108656 <common_interrupt+22/28>
	Adhoc c01abd54 <acpi_processor_idle+e9/1eb>
I'm not sure what this trace has to do with USB at all, but I haven't
been able to reproduce the oops otherwise...
Stelian.
-- 
Stelian Pop <stelian.pop@fr.alcove.com>
Alcove - 
http://www.alcove.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/