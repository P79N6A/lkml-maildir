Date: Mon, 23 Apr 2007 22:17:26 -0700
From: Andrew Morton <>
Subject: Re: BUG: Null pointer dereference in fs/open.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/24/22

On Tue, 24 Apr 2007 05:10:04 +0000 (GMT) William Heimbigner <icxcnika@mar.tar.cc> wrote:
> > --- a/drivers/block/pktcdvd.c~packet-fix-error-handling
> > +++ a/drivers/block/pktcdvd.c
> > @@ -777,7 +777,8 @@ static int pkt_generic_packet(struct pkt
> > 		rq->cmd_flags |= REQ_QUIET;
> >
> > 	blk_execute_rq(rq->q, pd->bdev->bd_disk, rq, 0);
> > -	ret = rq->errors;
> > +	if (rq->errors)
> > +		ret = -EIO;
> > out:
> > 	blk_put_request(rq);
> > 	return ret;
> > _
> 
> This patch fixes (or conceals?) the oops.
> 
Fixes.  But does the packet driver actually work OK for you?  Writes
files and stuff like that?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/