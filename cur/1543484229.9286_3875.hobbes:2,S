Date: Wed, 3 Feb 1999 19:56:50 -0500 (EST)
From: "Albert D. Cahalan" <>
Subject: Re: using more than 2 GB as a ram disk
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/3/254

Alexander Viro writes:
> On Wed, 3 Feb 1999, Albert D. Cahalan wrote:
>> Alexander Viro writes:
>>> On Wed, 3 Feb 1999, Albert D. Cahalan wrote:
>>>> I told you I was aware of that. Read the post again.
>>>> Hint: at any one point in time, most segments are invalid.
>>>> Another hint: the 4 kB pages need not be used at all.
>>>
>>> And you are going to do pagein/pageout by what chunks?
>> 
>> 8 MB of course. :-)
>
> Albert, that would mean that single fscking pagein would be well beyond
> the size of on-disk buffer and so platter->head transfer speed comes into
> the game. Care to count the time? And that assumes that you don't have
Yes, platter->head transfer speed could become a factor.
You can get 16 gigabytes of cache on a RAID box from EMC.
(for those reading this with tired eyes, I wrote "giga" above)
Get some real hardware. Get the kind that kills you if it falls over.
> other traffic. Now, since you rarely have 8Mb filled with the data you'll
> get ~1e4% overhead on that stuff. For most of the processes it will mean
> pure and simple *swapping*.
You are thinking too small. Think of multi-gigabyte processes.
The overhead for your shell would be lost in the noise.
People needing this hack won't miss a few hundred megabytes of RAM.
> And it buys you what? 256Gb? Sheesh... How
> many processes have RSS>8Mb? Now each of them got at least 24Mb. Great.
> Oh, and COW becomes *very* interesting exercise. So fork() becomes a
> bitch. Great. exec() also looks nice - you have to do at least one pagein
> to start execution. Oh, and while we are at it - what will be the size of
> your swap?
I'd say a half-terabyte RAID box for swap looks good. Just connect it
to your I2O Fibre Channel card.
Then again, maybe you just want to keep a 60 GB process in memory.
It would not be fun to thrash 60 GB.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/