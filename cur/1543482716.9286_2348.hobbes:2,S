Date: Wed, 27 Jan 1999 13:25:32 -0600 (CST)
From: Jeff Haumont <>
Subject: 2.2.0 Oops, maybe token ring related
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/27/196

Go tthis oops with a few minutes of uptime with 2.2.0.  Seems to die
everytime after a few minutes in a similar way. I had to copy this oops by
hand, so there could be an error somewhere, but I think I got it straight.
Attached are the oops, the bootup, and my .config (edited).
Thanks,
Jeff (haumont@acm.org)
Options used: -v /usr/src/linux-2.2.0/vmlinux (specified)
              -o /lib/modules/2.2.0/ (specified)
              -K (specified)
              -L (specified)
              -m /boot/System.map-2.2.0 (specified)
              -c 1 (default)
No modules in ksyms, skipping objects
Aiee, killing interrupt handler
Kernel panic: Attempted to kill the idle task!
In swapper task - not syncing
Unable to handle kernel paging request at virtual address 4a645a2d
current->tss.cr3 = 00101000, %cr3 = 00101000
*pde = 00000000
Oops: 0000
CPU:    0
EIP:    0010:[<c011dcf6>]
EFLAGS: 00010086
eax: c32b359c   ebx: c40fe140   ecx: 4a645a25   edx: 00000000
esi: c32b3500   edi: 00000202   ebp: c32b3554   esp: c0211d04
ds: 0018   es: 0018   ss: 0018
Process swapper (pid: 0, process nr: 0, stackpage=c0211000)
Stack: c307961c c32b3554 c32b359c c32b3538 c015221f c32b3500 c30795c0 c01522dd
       c30795c0 c30795c0 c30795c0 c0153fe4 c30795c0 fffffff5 c01b6aa5 c30795c0
       c40fdc08 c02e4380 000c8590 c020bb19 c00c862c c02e4380 bb9f172c 00000001
Call Trace: [<c015221f>] [<c01522dd>] [<c0153fe4>] [<c01b6aa5>] [<c01b5fee>] [<c0108a71>] [<c01087bb>]
       [<c0108b5c>] [<c0107a58>] [<c0111277>] [<c0114b4a>] [<c01d2fa8>] [<c0107e88>] [<c01d1998>] [<c01d2881>]
       [<c010ced4>] [<c01d2881>] [<c0107ac1>] [<c011dcf6>] [<c015221f>] [<c01522dd>] [<c0158bdf>] [<c0158a08>]
       [<c0154150>] [<c0115bd9>] [<c0108b73>] [<c0107a58>] [<c0106201>] [<c010624f>] [<c0106000>] [<c0106291>]
       [<c01079bc>] [<c0106000>] [<c010607b>] [<c0106000>] [<c0100176>]
Code : 8b 69 08 81 fd 2b 2f c3 a5 0f 85 cb 00 00 00 8b 69 0c 85 ed
>>EIP: c011dcf6 <kfree+72/1a0>
Trace: c015221f <kfree_skbmem+23/40>
Trace: c01522dd <__kfree_skb+a1/a8>
Trace: c0153fe4 <netif_rx+94/9c>
Trace: c01b6aa5 <tr_rx+3ad/3b8>
Trace: c01b5fee <tok_interrupt+6ba/898>
Trace: c0108a71 <handle_IRQ_event+31/68>
Trace: c01087bb <do_8259A_IRQ+77/ac>
Trace: c0108b5c <do_IRQ+24/40>
Trace: c010ced4 <do_page_fault+2cc/320>
Trace: c0154150 <net_bh+164/1bc>
Trace: c01079bc <system_call+34/38>
Code:  c011dcf6 <kfree+72/1a0>                 00000000 <_EIP>:
Code:  c011dcf6 <kfree+72/1a0>                    0:	8b 69 08       	movl   0x8(%ecx),%ebp
Code:  c011dcf9 <kfree+75/1a0>                    3:	81 fd 2b 2f c3 	cmpl   $0xa5c32f2b,%ebp
Code:  c011dcfe <kfree+7a/1a0>                    8:	a5 
Code:  c011dcff <kfree+7b/1a0>                    9:	0f 85 cb 00 00 	jne    da <_EIP+0xda> c011ddd0 <kfree+14c/1a0>
Code:  c011dd04 <kfree+80/1a0>                    e:	00 
Code:  c011dd05 <kfree+81/1a0>                    f:	8b 69 0c       	movl   0xc(%ecx),%ebp
Code:  c011dd08 <kfree+84/1a0>                   12:	85 ed          	testl  %ebp,%ebp
Aiee, killing interrupt handler
Kernel panic: Attempted to kill the idle task!
In swapper task - not syncing
--------------------------------------------------------------------------
klogd 1.3-3, log source = /proc/kmsg started.
Loaded 6839 symbols from /boot/System.map.
Symbols match kernel version 2.2.0.
No module symbols loaded.
Linux version 2.2.0 (root@hogosha.rchland.ibm.com) (gcc version egcs-2.90.27 980315 (egcs-1.0.2 release)) #3 Wed Jan 27 09:51:45 CST 1999
Detected 132957482 Hz processor.
Console: colour VGA+ 80x50
Calibrating delay loop... 53.04 BogoMIPS
Memory: 64232k/66556k available (992k kernel code, 412k reserved, 880k data, 40k init)
CPU: Intel Pentium 75 - 200 stepping 0c
Checking 386/387 coupling... OK, FPU using exception 16 error reporting.
Checking 'hlt' instruction... OK.
Intel Pentium with F0 0F bug - workaround enabled.
POSIX conformance testing by UNIFIX
PCI: PCI BIOS revision 2.10 entry at 0xfd9ac
PCI: Using configuration type 1
PCI: Probing PCI hardware
Linux NET4.0 for Linux 2.2
Based upon Swansea University Computer Society NET3.039
NET4: Unix domain sockets 1.0 for Linux NET4.0.
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
Linux IP multicast router 0.06 plus PIM-SM
NET4: Linux IPX 0.38 for NET4.0
IPX Portions Copyright (c) 1995 Caldera, Inc.
NET4: AppleTalk 0.18 for Linux NET4.0
Initializing RT netlink socket
Starting kswapd v 1.5 
Detected PS/2 Mouse Port.
Serial driver version 4.27 with no serial options enabled
pty: 256 Unix98 ptys configured
Real Time Clock Driver v1.09
PIIX3: IDE controller on PCI bus 00 dev 09
PIIX3: not 100ative mode: will probe irqs later
    ide0: BM-DMA at 0xffa0-0xffa7, BIOS settings: hda:pio, hdb:pio
hda: QUANTUM FIREBALL_TM1280A, ATA DISK drive
hdb: GCD-R580B, ATAPI CDROM drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
hda: QUANTUM FIREBALL_TM1280A, 1222MB w/76kB Cache, CHS=621/64/63
hdb: ATAPI 8X CD-ROM drive, 128kB Cache
Uniform CDROM driver Revision: 2.52
Floppy drive(s): fd0 is 1.44M
FDC 0 is a National Semiconductor PC87306
scsi : 0 hosts.
scsi : detected total.
ibmtr.c: v1.3.57   8/ 7/94 Peter De Schrijver and Mark Swanson
         v2.1.125 10/20/98 Paul Norton <pnorton@ieee.org>
         v2.2.0   12/30/98 Joel Sloan <jjs@c-me.com>
tr0: ISA P&P Auto 16/4 Adapter found
tr0: using irq 11, PIOaddr a20, 16K shared RAM.
tr0: Hardware address : 00:04:AC:36:1B:19
tr0: Maximum MTU 16Mbps: 4056, 4Mbps: 4568
3c59x.c:v0.99H 11/17/98 Donald Becker 
http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html
  The PCI BIOS has not enabled the device at 0/56. Updating PCI command 0103->0107.
eth0: 3Com 3c905 Boomerang 100baseTx at 0x5000,  00:60:08:66:7b:73, IRQ 10
  8K word-wide RAM 3:5 Rx:Tx split, autoselect/MII interface.
  MII transceiver found at address 24, status 786d.
  Enabling bus-master transmits and whole-frame receives.
eth0: Overriding PCI latency timer (CFLT) setting of 24, new value is 32.
Partition check:
 hda: hda1 hda2
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 40k freed
Adding Swap: 122972k swap-space (priority -1)
tr0: Initial interrupt : 16 Mbps, shared RAM base 000c8000.
tr0: Adapter initialized and opened.
--------------------------------------------------------------------------
CONFIG_EXPERIMENTAL=y
CONFIG_M586TSC=y
CONFIG_X86_WP_WORKS_OK=y
CONFIG_X86_INVLPG=y
CONFIG_X86_BSWAP=y
CONFIG_X86_POPAD_OK=y
CONFIG_X86_TSC=y
CONFIG_MODULES=y
CONFIG_MODVERSIONS=y
CONFIG_KMOD=y
CONFIG_NET=y
CONFIG_PCI=y
CONFIG_PCI_GOANY=y
CONFIG_PCI_BIOS=y
CONFIG_PCI_DIRECT=y
CONFIG_PCI_QUIRKS=y
CONFIG_PCI_OLD_PROC=y
CONFIG_SYSVIPC=y
CONFIG_SYSCTL=y
CONFIG_BINFMT_AOUT=y
CONFIG_BINFMT_ELF=y
CONFIG_BINFMT_MISC=y
CONFIG_PARPORT=m
CONFIG_PARPORT_PC=m
CONFIG_PNP=y
CONFIG_PNP_PARPORT=m
CONFIG_BLK_DEV_FD=y
CONFIG_BLK_DEV_IDE=y
CONFIG_BLK_DEV_IDEDISK=y
CONFIG_BLK_DEV_IDECD=y
CONFIG_BLK_DEV_IDETAPE=m
CONFIG_BLK_DEV_IDEFLOPPY=m
CONFIG_BLK_DEV_CMD640=y
CONFIG_BLK_DEV_RZ1000=y
CONFIG_BLK_DEV_IDEPCI=y
CONFIG_BLK_DEV_IDEDMA=y
CONFIG_IDEDMA_AUTO=y
CONFIG_BLK_DEV_LOOP=m
CONFIG_BLK_DEV_NBD=m
CONFIG_BLK_DEV_RAM=m
CONFIG_PARIDE_PARPORT=m
CONFIG_PACKET=y
CONFIG_NETLINK=y
CONFIG_RTNETLINK=y
CONFIG_NETLINK_DEV=y
CONFIG_FIREWALL=y
CONFIG_NET_ALIAS=y
CONFIG_FILTER=y
CONFIG_UNIX=y
CONFIG_INET=y
CONFIG_IP_MULTICAST=y
CONFIG_IP_FIREWALL=y
CONFIG_IP_FIREWALL_NETLINK=y
CONFIG_NETLINK_DEV=y
CONFIG_IP_ALWAYS_DEFRAG=y
CONFIG_IP_TRANSPARENT_PROXY=y
CONFIG_IP_MASQUERADE=y
CONFIG_IP_MASQUERADE_ICMP=y
CONFIG_IP_MASQUERADE_MOD=y
CONFIG_IP_MASQUERADE_IPAUTOFW=m
CONFIG_IP_MASQUERADE_IPPORTFW=m
CONFIG_IP_MASQUERADE_MFW=m
CONFIG_NET_IPIP=m
CONFIG_IP_MROUTE=y
CONFIG_IP_PIMSM_V1=y
CONFIG_IP_PIMSM_V2=y
CONFIG_IP_ALIAS=y
CONFIG_SYN_COOKIES=y
CONFIG_IP_NOSR=y
CONFIG_SKB_LARGE=y
CONFIG_IPX=y
CONFIG_ATALK=y
CONFIG_SCSI=y
CONFIG_BLK_DEV_SD=y
CONFIG_CHR_DEV_ST=m
CONFIG_BLK_DEV_SR=m
CONFIG_BLK_DEV_SR_VENDOR=y
CONFIG_CHR_DEV_SG=m
CONFIG_SCSI_MULTI_LUN=y
CONFIG_SCSI_CONSTANTS=y
CONFIG_SCSI_LOGGING=y
CONFIG_SCSI_AHA152X=y
CONFIG_NETDEVICES=y
CONFIG_DUMMY=m
CONFIG_NET_ETHERNET=y
CONFIG_NET_VENDOR_3COM=y
CONFIG_VORTEX=y
CONFIG_PPP=m
CONFIG_TR=y
CONFIG_IBMTR=y
CONFIG_VT=y
CONFIG_VT_CONSOLE=y
CONFIG_SERIAL=y
CONFIG_UNIX98_PTYS=y
CONFIG_PRINTER=m
CONFIG_PRINTER_READBACK=y
CONFIG_MOUSE=y
CONFIG_PSMOUSE=y
CONFIG_RTC=y
CONFIG_AUTOFS_FS=y
CONFIG_FAT_FS=m
CONFIG_MSDOS_FS=m
CONFIG_VFAT_FS=m
CONFIG_ISO9660_FS=y
CONFIG_NTFS_FS=m
CONFIG_HPFS_FS=m
CONFIG_PROC_FS=y
CONFIG_DEVPTS_FS=y
CONFIG_ROMFS_FS=m
CONFIG_EXT2_FS=y
CONFIG_CODA_FS=m
CONFIG_NFS_FS=y
CONFIG_SUNRPC=y
CONFIG_LOCKD=y
CONFIG_SMB_FS=m
CONFIG_NLS=y
CONFIG_NLS_CODEPAGE_437=m
CONFIG_NLS_CODEPAGE_737=m
CONFIG_NLS_CODEPAGE_775=m
CONFIG_NLS_CODEPAGE_850=m
CONFIG_NLS_CODEPAGE_852=m
CONFIG_NLS_CODEPAGE_855=m
CONFIG_NLS_CODEPAGE_857=m
CONFIG_NLS_CODEPAGE_860=m
CONFIG_NLS_CODEPAGE_861=m
CONFIG_NLS_CODEPAGE_862=m
CONFIG_NLS_CODEPAGE_863=m
CONFIG_NLS_CODEPAGE_864=m
CONFIG_NLS_CODEPAGE_865=m
CONFIG_NLS_CODEPAGE_866=m
CONFIG_NLS_CODEPAGE_869=m
CONFIG_NLS_CODEPAGE_874=m
CONFIG_NLS_ISO8859_1=m
CONFIG_NLS_ISO8859_2=m
CONFIG_NLS_ISO8859_3=m
CONFIG_NLS_ISO8859_4=m
CONFIG_NLS_ISO8859_5=m
CONFIG_NLS_ISO8859_6=m
CONFIG_NLS_ISO8859_7=m
CONFIG_NLS_ISO8859_8=m
CONFIG_NLS_ISO8859_9=m
CONFIG_NLS_ISO8859_15=m
CONFIG_NLS_KOI8_R=m
CONFIG_VGA_CONSOLE=y
CONFIG_VIDEO_SELECT=y
CONFIG_MAGIC_SYSRQ=y
Jeff Haumont (haumont@acm.org)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/