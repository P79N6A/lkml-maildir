Date: Sat, 31 Jan 2004 19:30:08 +0000 (UTC)
From:  haiquy@yahoo ...
Subject: Re: 2.6.2-rc1-mm1 pppd: page allocation failure (Got it now :-)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/31/5

Hi,
Finally I got it happened again and here is the attached dmesg output.
Best regards,
Steve Kieu
Linux version 2.6.2-rc2-mm2 (root@darkstar) (gcc version 3.3.2) #7 Sat Jan 31 15:35:43 UTC 2004
BIOS-provided physical RAM map:
 BIOS-e820: 0000000000000000 - 000000000009fc00 (usable)
 BIOS-e820: 000000000009fc00 - 00000000000a0000 (reserved)
 BIOS-e820: 00000000000f0000 - 0000000000100000 (reserved)
 BIOS-e820: 0000000000100000 - 000000000bef0000 (usable)
 BIOS-e820: 000000000bef0000 - 000000000bef3000 (ACPI NVS)
 BIOS-e820: 000000000bef3000 - 000000000bf00000 (ACPI data)
 BIOS-e820: 00000000ffb00000 - 0000000100000000 (reserved)
190MB LOWMEM available.
zapping low mappings.
On node 0 totalpages: 48880
  DMA zone: 4096 pages, LIFO batch:1
  Normal zone: 44784 pages, LIFO batch:10
  HighMem zone: 0 pages, LIFO batch:1
DMI 2.2 present.
ACPI disabled because your bios is from 2000 and too old
You can enable it with acpi=force
Built 1 zonelists
Local APIC disabled by BIOS -- reenabling.
Found and enabled local APIC!
current: c02fca60
current->thread_info: c033e000
Initializing CPU#0
Kernel command line: quiet root=/dev/hda2 ro devfs=mount rootflags=data=writeback elevator=deadline
PID hash table entries: 1024 (order 10: 8192 bytes)
Detected 668.419 MHz processor.
Using tsc for high-res timesource
Console: colour VGA+ 80x25
Memory: 190136k/195520k available (1755k kernel code, 4756k reserved, 536k data, 328k init, 0k highmem)
Calibrating delay loop... 1318.91 BogoMIPS
Dentry cache hash table entries: 32768 (order: 5, 131072 bytes)
Inode-cache hash table entries: 16384 (order: 4, 65536 bytes)
Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
CPU:     After generic identify, caps: 0383fbff 00000000 00000000 00000000
CPU:     After vendor identify, caps: 0383fbff 00000000 00000000 00000000
CPU: L1 I cache: 16K, L1 D cache: 16K
CPU: L2 cache: 128K
CPU:     After all inits, caps: 0383fbff 00000000 00000000 00000040
Intel machine check architecture supported.
Intel machine check reporting enabled on CPU#0.
CPU: Intel Celeron (Coppermine) stepping 03
Enabling fast FPU save and restore... done.
Enabling unmasked SIMD FPU exception support... done.
Checking 'hlt' instruction... OK.
POSIX conformance testing by UNIFIX
enabled ExtINT on CPU#0
ESR value before enabling vector: 00000000
ESR value after enabling vector: 00000000
Using local APIC timer interrupts.
calibrating APIC timer ...
..... CPU clock speed is 668.0076 MHz.
..... host bus clock speed is 66.0807 MHz.
NET: Registered protocol family 16
PCI: PCI BIOS revision 2.10 entry at 0xfb120, last bus=1
PCI: Using configuration type 1
mtrr: v2.0 (20020519)
SCSI subsystem initialized
PCI: Probing PCI hardware
PCI: Probing PCI hardware (bus 00)
Transparent bridge - 0000:00:1e.0
PCI: Using IRQ router PIIX/ICH [8086/2440] at 0000:00:1f.0
apm: BIOS version 1.2 Flags 0x07 (Driver version 1.16ac)
devfs: v1.22 (20021013) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
Initializing Cryptographic API
pty: 256 Unix98 ptys configured
Linux agpgart interface v0.100 (c) Dave Jones
agpgart: Detected an Intel i815 Chipset.
agpgart: Maximum main memory to use for agp memory: 148M
agpgart: AGP aperture is 64M @ 0xd0000000
[drm] Initialized i810 1.4.0 20030605 on minor 0: Intel i815 GMCH
Serial: 8250/16550 driver $Revision: 1.90 $ 8 ports, IRQ sharing disabled
ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
ttyS1 at I/O 0x2f8 (irq = 3) is a 16550A
Using deadline io scheduler
Floppy drive(s): fd0 is 1.44M
FDC 0 is a post-1991 82077
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
Uniform Multi-Platform E-IDE driver Revision: 7.00alpha2
ide: Assuming 33MHz system bus speed for PIO modes; override with idebus=xx
ICH2: IDE controller at PCI slot 0000:00:1f.1
ICH2: chipset revision 1
ICH2: not 100% native mode: will probe irqs later
    ide0: BM-DMA at 0xf000-0xf007, BIOS settings: hda:DMA, hdb:DMA
    ide1: BM-DMA at 0xf008-0xf00f, BIOS settings: hdc:DMA, hdd:DMA
hda: ST34311A, ATA DISK drive
hdb: QUANTUM FIREBALLlct20 20, ATA DISK drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
hdc: SAMSUNG CD-R/RW DRIVE SW-224B, ATAPI CD/DVD-ROM drive
hdd: IDE/ATAPI CD-ROM 52XS, ATAPI CD/DVD-ROM drive
ide1 at 0x170-0x177,0x376 on irq 15
hda: max request size: 128KiB
hda: 8452080 sectors (4327 MB) w/256KiB Cache, CHS=8944/15/63, UDMA(66)
 /dev/ide/host0/bus0/target0/lun0: p1 p2
hdb: max request size: 128KiB
hdb: 39876480 sectors (20416 MB) w/418KiB Cache, CHS=39560/16/63, UDMA(33)
 /dev/ide/host0/bus0/target1/lun0: p1 p2 < p5 > p3
hdc: ATAPI 40X CD-ROM CD-R/RW drive, 2048kB Cache, DMA
Uniform CD-ROM driver Revision: 3.20
hdd: ATAPI 11X CD-ROM drive, 128kB Cache, UDMA(33)
mice: PS/2 mouse device common for all mice
serio: i8042 AUX port at 0x60,0x64 irq 12
input: ImPS/2 Logitech Wheel Mouse on isa0060/serio1
serio: i8042 KBD port at 0x60,0x64 irq 1
input: AT Translated Set 2 keyboard on isa0060/serio0
Advanced Linux Sound Architecture Driver Version 1.0.2 (Tue Jan 27 10:28:52 2004 UTC).
PCI: Found IRQ 9 for device 0000:00:1f.5
PCI: Setting latency timer of device 0000:00:1f.5 to 64
intel8x0_measure_ac97_clock: measured 49321 usecs
intel8x0: clocking to 48000
ALSA device list:
  #0: Intel 82801BA-ICH2 at 0xdc00, irq 9
NET: Registered protocol family 2
IP: routing cache hash table of 1024 buckets, 8Kbytes
TCP: Hash tables configured (established 16384 bind 32768)
NET: Registered protocol family 1
kjournald starting.  Commit interval 5 seconds
EXT3-fs: mounted filesystem with writeback data mode.
VFS: Mounted root (ext3 filesystem) readonly.
Mounted devfs on /dev
Freeing unused kernel memory: 328k freed
loop: loaded (max 8 devices)
Adding 160608k swap on /dev/hda1.  Priority:-1 extents:1
EXT3 FS on hda2, internal journal
kjournald starting.  Commit interval 5 seconds
EXT3 FS on hdb3, internal journal
EXT3-fs: mounted filesystem with writeback data mode.
kjournald starting.  Commit interval 5 seconds
EXT3 FS on hdb5, internal journal
EXT3-fs: mounted filesystem with writeback data mode.
ISO 9660 Extensions: RRIP_1991A
Linux video capture interface: v1.00
bttv: driver version 0.9.12 loaded
bttv: using 8 buffers with 2080k (520 pages) each for capture
bttv: Bt8xx card found (0).
PCI: Found IRQ 5 for device 0000:01:05.0
PCI: Sharing IRQ 5 with 0000:01:05.1
bttv0: Bt878 (rev 17) at 0000:01:05.0, irq: 5, latency: 32, mmio: 0xd4100000
bttv0: using: Prolink PixelView PlayTV pro [card=37,insmod option]
bttv0: gpio: en=00000000, out=00000000 in=00ffc0ff [init]
bttv0: using tuner=1
bttv0: i2c: checking for TDA9875 @ 0xb0... not found
bttv0: i2c: checking for TDA7432 @ 0x8a... not found
tuner: chip found @ 0xc2
tuner: type set to 1 (Philips PAL_I (FI1246 and compatibles))
tuner: type forced to 1 (Philips PAL_I (FI1246 and compatibles)) [insmod]
tuner: type already set (1)
bttv0: registered device video0
bttv0: registered device vbi0
bttv0: registered device radio0
bttv0: PLL: 28636363 => 35468950 .. ok
drivers/usb/core/usb.c: registered new driver usbfs
drivers/usb/core/usb.c: registered new driver hub
drivers/usb/host/uhci-hcd.c: USB Universal Host Controller Interface driver v2.1
PCI: Found IRQ 9 for device 0000:00:1f.2
uhci_hcd 0000:00:1f.2: UHCI Host Controller
PCI: Setting latency timer of device 0000:00:1f.2 to 64
uhci_hcd 0000:00:1f.2: irq 9, io base 0000d000
uhci_hcd 0000:00:1f.2: new USB bus registered, assigned bus number 1
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 2 ports detected
PCI: Assigned IRQ 9 for device 0000:00:1f.4
uhci_hcd 0000:00:1f.4: UHCI Host Controller
PCI: Setting latency timer of device 0000:00:1f.4 to 64
uhci_hcd 0000:00:1f.4: irq 9, io base 0000d800
uhci_hcd 0000:00:1f.4: new USB bus registered, assigned bus number 2
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 2 ports detected
hw_random hardware driver 1.0.0 loaded
ltmodem: module license 'Proprietary' taints kernel.
Loading Lucent Modem Controller driver version 8.26
Detected Parameters Irq=9 BaseAddress=0xc400 ComAddress=0xc000
ttyLT0 at I/O 0xc400 (irq = 9) is a Lucent Modem
vmmon: module license 'unspecified' taints kernel.
/dev/vmmon: Module vmmon: registered with major=10 minor=165
/dev/vmmon: Module vmmon: initialized
vmnet: module license 'unspecified' taints kernel.
Initializing USB Mass Storage driver...
drivers/usb/core/usb.c: registered new driver usb-storage
USB Mass Storage support registered.
/dev/vmnet: open called by PID 414 (vmnet-netifup)
/dev/vmnet: hub 0 does not exist, allocating memory.
/dev/vmnet: port on hub 0 successfully opened
parport0: PC-style at 0x378, irq 7 [PCSPP,TRISTATE]
parport0: cpp_daisy: aa5500ff(38)
parport0: assign_addrs: aa5500ff(38)
parport0: cpp_daisy: aa5500ff(38)
parport0: assign_addrs: aa5500ff(38)
NET3 PLIP version 2.4-parport gniibe@mri.co.jp
plip0: Parallel port at 0x378, using IRQ 7.
parport0: PC-style at 0x378, irq 7 [PCSPP,TRISTATE]
parport0: cpp_daisy: aa5500ff(38)
parport0: assign_addrs: aa5500ff(38)
parport0: cpp_daisy: aa5500ff(38)
parport0: assign_addrs: aa5500ff(38)
NET3 PLIP version 2.4-parport gniibe@mri.co.jp
plip0: Parallel port at 0x378, using IRQ 7.
ip_tables: (C) 2000-2002 Netfilter core team
ip_conntrack version 2.1 (1527 buckets, 12216 max) - 300 bytes per conntrack
NET: Registered protocol family 10
IPv6 over IPv4 tunneling driver
plip0: transmit timeout(1,7f)
mtrr: base(0xd0000000) is not aligned on a size(0x12c000) boundary
[drm] Using PRE v1.2 init.
plip0: no IPv6 routers present
atkbd.c: Unknown key released (translated set 2, code 0x7a on isa0060/serio0).
atkbd.c: This is an XFree86 bug. It shouldn't access hardware directly.
atkbd.c: Unknown key released (translated set 2, code 0x7a on isa0060/serio0).
atkbd.c: This is an XFree86 bug. It shouldn't access hardware directly.
vmnet0: no IPv6 routers present
request_module: failed /sbin/modprobe -- ppp-compress-21. error = 256
no device found
hub 1-0:1.0: new USB device on port 2, assigned address 2
scsi0 : SCSI emulation for USB Mass Storage devices
  Vendor:           Model: USB DISK          Rev: 2.08
  Type:   Direct-Access                      ANSI SCSI revision: 02
WARNING: USB Mass Storage data integrity not assured
USB Mass Storage device found at 2
request_module: failed /sbin/modprobe -- block-major-8-1. error = 256
SCSI device sda: 128000 512-byte hdwr sectors (66 MB)
sda: assuming Write Enabled
sda: assuming drive cache: write through
 /dev/scsi/host0/bus0/target0/lun0: p1
Attached scsi removable disk sda at scsi0, channel 0, id 0, lun 0
plip0: receive timeout(2,87)
tuner: TV freq (0.00) out of range (44-958)
vmmon: Your kernel is br0ken. get_user_pages(current, current->mm, 40191000, 1, 1, 0, &page, NULL) returned -14.
vmmon: I'll try accessing page tables directly, but you should know that your
vmmon: kernel is br0ken and you should uninstall all additional patches you
vmmon: have installed!
vmmon: FYI, copy_from_user(40191000) returns 0 (if not 0 maybe your kernel is not br0ken)
/dev/vmnet: open called by PID 1442 (vmware)
/dev/vmnet: port on hub 0 successfully opened
[drm] DMA Cleanup
mtrr: base(0xd0000000) is not aligned on a size(0x12c000) boundary
[drm] Using PRE v1.2 init.
atkbd.c: Unknown key released (translated set 2, code 0x7a on isa0060/serio0).
atkbd.c: This is an XFree86 bug. It shouldn't access hardware directly.
atkbd.c: Unknown key released (translated set 2, code 0x7a on isa0060/serio0).
atkbd.c: This is an XFree86 bug. It shouldn't access hardware directly.
vmmon: Your kernel is br0ken. get_user_pages(current, current->mm, 40191000, 1, 1, 0, &page, NULL) returned -14.
vmmon: I'll try accessing page tables directly, but you should know that your
vmmon: kernel is br0ken and you should uninstall all additional patches you
vmmon: have installed!
vmmon: FYI, copy_from_user(40191000) returns 0 (if not 0 maybe your kernel is not br0ken)
/dev/vmnet: open called by PID 1497 (vmware)
/dev/vmnet: port on hub 0 successfully opened
request_module: failed /sbin/modprobe -- ppp-compress-21. error = 256
pppd: page allocation failure. order:4, mode:0xd0
Call Trace:
 [<c013a140>] __alloc_pages+0x300/0x350
 [<c013a1af>] __get_free_pages+0x1f/0x50
 [<c013ccdc>] cache_grow+0x8c/0x250
 [<c013cfee>] cache_alloc_refill+0x14e/0x210
 [<c013d334>] __kmalloc+0x74/0x80
 [<c01fe857>] z_decomp_alloc+0xb7/0x100
 [<c01fae94>] ppp_set_compress+0x1b4/0x270
 [<c01f92b1>] ppp_ioctl+0x4e1/0x610
 [<c0150052>] vfs_write+0xd2/0x130
 [<c0160cbb>] sys_ioctl+0xdb/0x260
 [<c02b604f>] syscall_call+0x7/0xb
pppd: page allocation failure. order:4, mode:0xd0
Call Trace:
 [<c013a140>] __alloc_pages+0x300/0x350
 [<c013a1af>] __get_free_pages+0x1f/0x50
 [<c013ccdc>] cache_grow+0x8c/0x250
 [<c013cfee>] cache_alloc_refill+0x14e/0x210
 [<c013d334>] __kmalloc+0x74/0x80
 [<c01fe857>] z_decomp_alloc+0xb7/0x100
 [<c01fae94>] ppp_set_compress+0x1b4/0x270
 [<c01f92b1>] ppp_ioctl+0x4e1/0x610
 [<c0160cbb>] sys_ioctl+0xdb/0x260
 [<c02b604f>] syscall_call+0x7/0xb
pppd: page allocation failure. order:4, mode:0xd0
Call Trace:
 [<c013a140>] __alloc_pages+0x300/0x350
 [<c013a1af>] __get_free_pages+0x1f/0x50
 [<c013ccdc>] cache_grow+0x8c/0x250
 [<c013cfee>] cache_alloc_refill+0x14e/0x210
 [<c013d334>] __kmalloc+0x74/0x80
 [<c01fe857>] z_decomp_alloc+0xb7/0x100
 [<c01fae94>] ppp_set_compress+0x1b4/0x270
 [<c01f92b1>] ppp_ioctl+0x4e1/0x610
 [<c0160cbb>] sys_ioctl+0xdb/0x260
 [<c02b604f>] syscall_call+0x7/0xb
no device found