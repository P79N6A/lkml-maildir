Date: Sat, 17 Apr 1999 07:09:03 +0530 (IST)
From: V Ganesh <>
Subject: Re: bad lmbench numbers for mmap
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/16/189

> > From: Jakub Jelinek <jj@sunsite.mff.cuni.cz>
> Date: Sat, 17 Apr 1999 01:03:21 +0200 (CEST)
> 
> > > so what's up with mmap ?
> 
> Actually it seems like more than 90% of the time in this test is spent in
> munmap, particularly in filemap_sync. From quick looking at the sources, the
> only routine which changed there substantially is filemap_write_page, so it
> might well be because it waits for every dirtied page until it is stored to
> disk and in 2.1.103 did not do that. I'm too tired now to investigate
> further and actually think about it whether doing so is needed.
not very likely. if you are writing out a swap page, filemap_write_page
queues the request to kpiod, which seems to be the only new feature in there.
otherwise it just winds up calling ext2_file_write which doesn't normally
wait for all pages to hit disk.
ganesh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/