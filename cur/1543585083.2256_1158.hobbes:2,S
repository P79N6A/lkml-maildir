Date: 16 Mar 2001 12:23:15 -0500
From: Doug McNaught <>
Subject: Re: fork and pthreads
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/3/16/31

Sane_Purushottam@emc.com writes:
> I am having a strange problem.
> 
> I have a big daemon program to which I am trying to add multi-threading.
> 
> At the begining, after some sanity check, this program does a double fork to
> create a deamon.
> 
> After that it listens for the client on the port. Whenever the client
> connects, it creates a new thread using
> pthread-create.
> 
> The problem is, the thread (main thread) calling pthread-create hangs
> indefinetely in __sigsuspend. The newly created thread however, runs
> normally to completion.
Just a guess--are you calling setsid() to establish a new session?
Omitting this *might* cause signal-delivery problems in pthreads.
-Doug
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/