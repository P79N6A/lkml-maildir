Date: Thu, 16 Dec 1999 16:55:18 -0700
From: "Jeff V. Merkey" <>
Subject: Re: IDE Driver Reports Erroneous Errors While Mounting NWFS 2.0 at boot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/16/199

Alan,
Perhaps I am not understanding what the error is reporting.  The range
error states that I am asking for 1715620.  Is this number a 1024 byte
block address or the LBA offset of the disk and not an LBA sector
offset?  NetWare does everything as LBA based, so we call
set_blocksize(dev, 512) and set the devices to a 512 sector block size. 
What could conceivable be going on here is that for some reason, the
driver is not in a state where we can do this, and we are breaking it,
then running off the end of the disk.  
The device is 850/64/63 so it's sectors are 0x3451E0, but the driver is
reporting we are off the end at 0x1A2762, which is bogus, if the device
is reporting LBA ranges.  
Perhaps this sheds some light.  What do you think?
Jeff
Alan Cox wrote:
> 
> > automount commands in the fstab file, during FS module initialization,
> > the following bogus error is reported:
> 
> I doubt its bogus
> 
> > access beyond end of device
> > 03:00 rw=3 want=1715620 limit=1714018
> 
> Your fs asked for a block that is off the end.
> 
> > This error is claiming that sector 1715620 (0x1A2762) is beyond the end
> > of the device, which in fact it is not.  We got it to go away by forcing
> 
> The disk size is taken from the disk itself (or for partitions from the
> partition). My guess is you really have a power of 2 error or something
> in the code. Perhaps a 512 byte/ 1K conversion or something ?
> 
> Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/