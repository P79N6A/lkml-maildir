Date: Mon, 26 Nov 2007 11:44:00 -0500
From: Erez Zadok <>
Subject: [PATCH 03/16] Unionfs: minor coding standards applied
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/26/154

Signed-off-by: Erez Zadok <ezk@cs.sunysb.edu>
---
 fs/unionfs/copyup.c  |    4 ++--
 fs/unionfs/dirfops.c |    5 +++--
 2 files changed, 5 insertions(+), 4 deletions(-)
diff --git a/fs/unionfs/copyup.c b/fs/unionfs/copyup.c
index 98bed0b..3fe4865 100644
--- a/fs/unionfs/copyup.c
+++ b/fs/unionfs/copyup.c
@@ -460,8 +460,8 @@ int copyup_dentry(struct inode *dir, struct dentry *dentry, int bstart,
 		goto out_unlink;
 
 	/* Set permissions. */
-	if ((err = copyup_permissions(sb, old_lower_dentry,
-				      new_lower_dentry)))
+	err = copyup_permissions(sb, old_lower_dentry, new_lower_dentry);
+	if (err)
 		goto out_unlink;
 
 #ifdef CONFIG_UNION_FS_XATTR
diff --git a/fs/unionfs/dirfops.c b/fs/unionfs/dirfops.c
index c644c13..5276cb3 100644
--- a/fs/unionfs/dirfops.c
+++ b/fs/unionfs/dirfops.c
@@ -77,8 +77,9 @@ static int unionfs_filldir(void *dirent, const char *name, int namelen,
 		goto out;
 	}
 	buf->entries_written++;
-	if ((err = add_filldir_node(buf->rdstate, name, namelen,
-				    buf->rdstate->bindex, is_wh_entry)))
+	err = add_filldir_node(buf->rdstate, name, namelen,
+			       buf->rdstate->bindex, is_wh_entry);
+	if (err)
 		buf->filldir_error = err;
 
 out:
-- 
1.5.2.2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/