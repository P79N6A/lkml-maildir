Date: Tue, 11 Feb 2003 18:17:36 +0100
From: Roger Luethi <>
Subject: Re: via rhine bug? (timeouts and resets)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/11/153

On Tue, 11 Feb 2003 17:51:09 +0100, Henrik Persson wrote:
> RL> The patch attached below will definitely solve some of the problems
> RL> you're seeing (e.g. "excessive collisions" on a switch). Feedback
> 
> Well.. It didn't solve my problems.. Still the same errors.. :/
That I find hard to believe. You were seeing a combination of "MII status
changed" and "Abort 0208, frame dropped.". That's because the driver makes
two mistakes: It treats 0200 as a link change (first message), and it
thinks 0008 indicates excessive collisions (second message).
In fact, 0008 means "transmission error", and 0200 specifies a buffer
underrun. The patch fixes that (lines 204, 213). If you are seeing the
_same_ errors my guess is you're still running the old driver. Check the
log at debug=3.
> RL> You shouldn't need to force full duplex, btw.
> 
> Nah, that was "just in case".. ;)
It's masking another bug that's waiting to hit you <g>.
Roger
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/