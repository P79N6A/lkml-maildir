Date: Thu, 14 Jan 1999 18:24:33 -0600 (EST)
From:  kwrohrer@ce ...
Subject: Re: Building .config into the kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/14/247

And lo, Barrett G. Lyon saith unto me:
> 
> At 11:07 PM 1/14/99 +0100, you wrote:
> >"A month of sundays ago Barrett G. Lyon wrote:"
> >> 
> >> Can't you do something like:
> >> cat vmlinux | grep "version" | head -1 ; uname -a
> >> 
> >> and match the build numbers?  Just use gzcat on machines that use a
> >
> >Nope. You may well have the image but not the config. I've got kernels
> >stretching all the way back to 1.2.13 2.0.0 2.0.25 2.0.30 2.0.33 2.0.36.
> >Are you seriously suggesting that i have all their kernel trees, and all
> >the configs for each of them, for all the variant images I sprayed
> >around the place? Uh uh.
> 
> _NO_ I am not suggesting that you keep the trees for all those old kernels.
>  I am mearly suggesting that if you do have the kernel image stored on
> mounted fs, you do have the ability to figure out what kernel you are
> booted to. 
> 
> That just goes to show that
> 
> 	cat .config.in >> zImage 
> 
> can yeild your dotconfig even if you don't remember what kernel you booted.
>  There are exceptions, but if you can't keep track of your kernel thats
> pretty bad.
> 
Why stop there?  When you're not using an initrd, there's gobs of room
on a floppy for a bzImage, config.in (possibly compressed as well), *AND*
System.map.  A few more targets in the Makefiles, a little disassembling
job on ksymoops's part, and perhaps a utility to split the "plus-sized"
bzImage back into its three components...
	Keith
-- 
 "Well, look at that.  The sun's   | Linux: 
http://www.linuxhq.com
     |"Zooty,
  coming up." -- John Sheridan,    | KDE:   
http://www.kde.org
         | zoot
  "Sleeping in Light", Babylon 5   | Keith: kwrohrer@enteract.com      | zoot!"
www.midwinter.com/lurk/lurker.html | 
http://www.enteract.com/~kwrohrer
 | --Rebo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/