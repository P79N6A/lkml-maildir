Date: Sat, 13 Jan 2001 00:43:25 +0000 (GMT)
From: Alan Cox <>
Subject: Re: QUESTION: Network hangs with BP6 and 2.4.x kernels, hardware
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/1/12/52

> 	interrupt_handler()
> 	{
> 		status = readl(dev->status);
> 		if (status & MY_IRQ_DISABLE)
> 			return;
Unfortunately on the 8390 the IRQ statud register is on page 0. The code
on the other CPU might not be on page 0. That means we can't even safely
check if there is an irq pending or clear it down (bad news on ne2k-pci)
without getting that lock.
That means we have to be able to just block that one irq source to avoid
horrible SMP latency problems. 
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/