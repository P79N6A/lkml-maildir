Date: Fri, 14 May 2004 13:09:51 +0200
From: FabF <>
Subject: [PATCH 2.6.6-mm2] i8042 debug broken
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/16/22

Hi,
	i8042 handle_data debug was broken -trying to display unknown
irq-.Here's a quick fix.
Regards,
FabF
diff -Naur orig/drivers/input/serio/i8042.c edited/drivers/input/serio/i8042.c
--- orig/drivers/input/serio/i8042.c	2004-05-14 12:40:49.000000000 +0200
+++ edited/drivers/input/serio/i8042.c	2004-05-14 12:56:48.000000000 +0200
@@ -420,16 +420,16 @@
 				data = 0xfe;
 			} else dfl = 0;
 
-			dbg("%02x <- i8042 (interrupt, aux%d, %d%s%s)",
-				data, (str >> 6), irq,
+			dbg("%02x <- i8042 (interrupt, aux%d, %s%s)",
+				data, (str >> 6), 
 				dfl & SERIO_PARITY ? ", bad parity" : "",
 				dfl & SERIO_TIMEOUT ? ", timeout" : "");
 
 			serio_interrupt(i8042_mux_port + ((str >> 6) & 3), data, dfl, NULL);
 		} else {
 
-			dbg("%02x <- i8042 (interrupt, %s, %d%s%s)",
-				data, (str & I8042_STR_AUXDATA) ? "aux" : "kbd", irq,
+			dbg("%02x <- i8042 (interrupt, %s, %s%s)",
+				data, (str & I8042_STR_AUXDATA) ? "aux" : "kbd",
 				dfl & SERIO_PARITY ? ", bad parity" : "",
 				dfl & SERIO_TIMEOUT ? ", timeout" : "");
 