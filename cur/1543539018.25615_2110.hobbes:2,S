Date: Sat, 15 Jul 2000 15:37:04 +0200 (CEST)
From: Andrzej Krzysztofowicz <>
Subject: Re: gcc-2.7.2.3 warnings [PATCH] (fwd)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/15/33

> 
> On Fri, 14 Jul 2000, Andrzej Krzysztofowicz wrote:
> > 
> > gcc 2.7.2.3 causes a lot of warnings when used for kernel compilation (x86)
> > with  CONFIG_HIGHMEM64G=y .
> > Are the warnings meaningless ? Or kernel miscompilation may appear ?
> 
> As far as I can tell, this looks like a gcc bug.
> 
> Those warnings do not make sense, nor do they appear with the gcc-2.91.66
> compiler I am using.
> 
> PTE_MASK is already defined to be of type "unsigned long long" (if
> CONFIG_HIGHMEM64G is set), and that type should get propagated by the
> binary "or" operator to the whole expression. Adding another explicit cast
> to the expression looks unnecessary and wrong.
> 
> Does the thing make any difference to the generated code?
There is no difference in code generated by gcc-2.7.2.3.
As you suggested, the warnings are possibly a gcc bug.
However they look ugly and appear after each file compilation...
> (I would suggest doing a
> 
> 	make mm/mprotect.s
> 
> with, and without, the change, and just doing a "diff -u" on the generated
> .s files to see if there is any difference).
Regards
   Andrzej
-- 
=======================================================================
  Andrzej M. Krzysztofowicz               ankry@mif.pg.gda.pl
  phone (48)(58) 347 14 61
Faculty of Applied Phys. & Math.,   Technical University of Gdansk
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/