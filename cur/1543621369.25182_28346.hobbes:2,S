Date: Fri, 15 Feb 2002 16:24:46 +0300
From: Andrey Panin <>
Subject: [PATCH] remove annoying ISAPNP message
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/15/88

Hi,
here is first (I hope) patch for you :))
This patch removes useless messages like:
"isapnp: Calling quirk for 02:00".
These were debug messages some years ago and IMHO totally useless now.
Patch applies cleanly to 2.5.5 and should also apply to 2.4.x.
Best regards.
-- 
Andrey Panin            | Embedded systems software engineer
pazke@orbita1.ru        | PGP key: wwwkeys.eu.pgp.net
diff -urN -X /usr/dontdiff /linux.vanilla/drivers/pnp/quirks.c /linux/drivers/pnp/quirks.c
--- /linux.vanilla/drivers/pnp/quirks.c	Tue Oct 30 15:55:32 2001
+++ /linux/drivers/pnp/quirks.c	Tue Oct 30 16:59:45 2001
@@ -18,6 +18,10 @@
 #include <linux/isapnp.h>
 #include <linux/string.h>
 
+#if 0
+#define ISAPNP_DEBUG
+#endif
+
 static void __init quirk_awe32_resources(struct pci_dev *dev)
 {
 	struct isapnp_port *port, *port2, *port3;
@@ -139,8 +143,10 @@
 	while (isapnp_fixups[i].vendor != 0) {
 		if ((isapnp_fixups[i].vendor == dev->vendor) &&
 		    (isapnp_fixups[i].device == dev->device)) {
+#ifdef ISAPNP_DEBUG
 			printk(KERN_DEBUG "isapnp: Calling quirk for %02x:%02x\n",
 			       dev->bus->number, dev->devfn);
+#endif
 			isapnp_fixups[i].quirk_function(dev);
 		}
 		i++;[unhandled content-type:application/pgp-signature]