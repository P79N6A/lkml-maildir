Date: 28 Oct 1999 09:47:42 +0200
From: Trond Myklebust <>
Subject: Re: NFS/RPC problems w/ 2.2.12 + a feature suggestion for NFS/remounting
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/28/16

>>>>> " " == Martin Andersen <marand@eunet.no> writes:
     > Is there any way of solving this besides rebooting? It's also
     > quite frustrating to not have the ability to do forced
     > unmounting, since that implies that you have to reboot
     > /whenever/ you get a stale NFS handle.  (minor note: the exact
     > error in this case was just "I/O error".
Use hard mounting rather than soft. For the latter, a major timeout
gives I/O error rather than retrying.
     > FEATURE SUGGESTION: It would be very nice (IMHO) if Linux could
     > support forced unmounting, /and/ have some sort of
It does support forced unmounting: 'umount -t nfs -af'
     > cache-mechanism that would (for a short period of time) cache
     > the currently open files, so that any open client sessions (or
     > X sessions) would not be affected by the remount.  Perhaps it
     > would be possible to implement this in the remount option of
     > mount?
There have been people on l-k who have wanted to make a linux version
of 'cachefs'. That should be able to support disconnected running.
     > The errors are as follows:
It's hard to conclude. All that is certain is that the server was
unreachable for some short period of time. If you're sure that it was
up and available, you should try to catch a tcpdump of the traffic
between the client and server.
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/