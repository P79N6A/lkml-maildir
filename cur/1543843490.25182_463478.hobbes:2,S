Date: Thu, 14 Sep 2006 23:08:37 -0700
From: Andrew Morton <>
Subject: Re: [RFC - Patch] Condense output of show_free_areas()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/15/13

On 14 Sep 2006 09:30:58 -0400
Jes Sorensen <jes@sgi.com> wrote:
> On larger systems, the amount of output dumped on the console when you
> do SysRq-M is beyond insane. This patch is trying to reduce it
> somewhat as even with the smaller NUMA systems that have hit the
> desktop this seems to be a fair thing to do.
> 
> The philosophy I have taken is as follows:
>  1) If a zone is empty, don't tell, we don't need yet another line
>     telling us so. The information is available since one can look up
>     the fact how many zones were initialized in the first place.
>  2) Put as much information on a line is possible, if it can be done
>     in one line, rahter than two, then do it in one. I tried to format
>     the temperature stuff for easy reading.
> 
> Comments?
> 
> Cheers,
> Jes
> 
> Change show_free_areas() to not print lines for empty zones. If no zone
> output is printed, the zone is empty. This reduces the number of lines
> dumped to the console in sysrq on a large system by several thousand
> lines.
> 
> Change the zone temperature printouts to use one line per CPU instead
> of two lines (one hot, one cold). On a 1024 CPU, 1024 node system, this
> reduces the console output by over a million lines of output.
> 
> While this is a bigger problem on large NUMA systems, it is also
> applicable to smaller desktop sized and mid range NUMA systems.
Could you please send us an example of the new output for review,
and for me to include in the changelog?  Thanks.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/