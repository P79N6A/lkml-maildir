Date: Thu, 06 Mar 2008 07:50:12 -0800
From: "H. Peter Anvin" <>
Subject: Re: RELEASE BLOCKER: Linux doesn't follow x86/x86-64 ABI wrt direction flag
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/6/238

H.J. Lu wrote:
> I agree with it. There is no  right or wrong here Let's start from
> scratch and figure out
> what is the best way to handle this, assuming we are defining a new psABI.
No, I believe the right way to approach this is by applying the good 
old-fashioned principle from Ask Mr. Protocol:
	Be liberal in what you receive, conservative in what you send
In other words:
	a. Fix the kernel.  Already in progress.
	b. Do *not* make gcc assume DF is clean for now.  Adding a
	   switch would be a useful thing, since if nothing else it
	   would benefit embedded environments.  We might assume
	   DF is clean on 64 bits, since it appears it is rarely used
	   anyway, and 64 bits is more important in the long run.
	c. Once fixed kernels have been out long enough, we can
	   flip the default of the switch, one platform at a time if
	   need be (e.g. there may never be another SCO OpenServer.)
	-hpa