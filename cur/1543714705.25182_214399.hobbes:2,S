Date: Fri, 16 Apr 2004 11:05:13 -0700
From: Eric Sandall <>
Subject: Bug in SCSI driver with SMP with NPTL?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/16/157

I have the following system:
$ lspci
00:00.0 Host bridge: Intel Corp. 440BX/ZX/DX - 82443BX/ZX/DX Host bridge (rev
03)
00:01.0 PCI bridge: Intel Corp. 440BX/ZX/DX - 82443BX/ZX/DX AGP bridge (rev 03)
00:04.0 ISA bridge: Intel Corp. 82371AB/EB/MB PIIX4 ISA (rev 02)
00:04.1 IDE interface: Intel Corp. 82371AB/EB/MB PIIX4 IDE (rev 01)
00:04.2 USB Controller: Intel Corp. 82371AB/EB/MB PIIX4 USB (rev 01)
00:04.3 Bridge: Intel Corp. 82371AB/EB/MB PIIX4 ACPI (rev 02)
00:06.0 SCSI storage controller: Adaptec AHA-2940U2/U2W / 7890/7891
00:09.0 Ethernet controller: 3Com Corporation 3c905B 100BaseTX [Cyclone] (rev
30)
00:0a.0 Multimedia audio controller: Gammagraphx, Inc.: Unknown device 0410
(rev
02)
00:0b.0 VGA compatible controller: nVidia Corporation NV11 [GeForce2 MX/MX 400]
(rev a2)
00:0c.0 Unknown mass storage controller: Promise Technology, Inc. 20262 (rev
01)
# cat /proc/partitions
major minor  #blocks  name
   1     0       8192 ram0
   1     1       8192 ram1
   1     2       8192 ram2
   1     3       8192 ram3
   1     4       8192 ram4
   1     5       8192 ram5
   1     6       8192 ram6
   1     7       8192 ram7
   1     8       8192 ram8
   1     9       8192 ram9
   1    10       8192 ram10
   1    11       8192 ram11
   1    12       8192 ram12
   1    13       8192 ram13
   1    14       8192 ram14
   1    15       8192 ram15
   8    16   17921835 sdb
   8    17     104391 sdb1
   8    18   17816085 sdb2
 254     0    5120000 dm-0
 254     1    3072000 dm-1
 254     2    1024000 dm-2
 254     3    8499200 dm-3
Tested with Source Mage GNU/Linux on a vanilla 2.6.3 kernel and Fedora Core I
with the 2.4.22-1.2174.nptlsmp kernel (and prior ones as well), both have
glibc+NPTL support (glibc 2.3.3 [20040310 snapshot] on SMGL, 2.3.2-101.4 on
FC1).
And periodically I get the messages below and the system is "frozen" during
whatever is going on. I've also attached my config from this. If I disable SMP
(in either SMGL or FC1) I cannot repeat the problem.
$ dmesg
 30 14 8 24 29 27 22 18 12 6 2 15 1 13 5 9 34 33 32
DevQ(0:4:0): 0 waiting
DevQ(0:8:0): 0 waiting
<<<<<<<<<<<<<<<<< Dump Card State Ends >>>>>>>>>>>>>>>>>>
(scsi0:A:8:0): Device is disconnected, re-queuing SCB
Recovery code sleeping
Recovery code awake
Timer Expired
aic7xxx_abort returns 0x2003
scsi0:0:8:0: Attempting to queue an ABORT message
CDB: 0x28 0x0 0x1 0xd8 0x4 0xed 0x0 0x0 0x10 0x0
scsi0: At time of recovery, card was not paused
>>>>>>>>>>>>>>>>>> Dump Card State Begins <<<<<<<<<<<<<<<<<
scsi0: Dumping Card State in Data-in phase, at SEQADDR 0x9f
Card was paused
ACCUM = 0x0, SINDEX = 0x52, DINDEX = 0xff, ARG_2 = 0x1b
HCNT = 0x0 SCBPTR = 0x1e
SCSISIGI[0x54] ERROR[0x0] SCSIBUSL[0x8b] LASTPHASE[0x40]
SCSISEQ[0x12] SBLKCTL[0xa] SCSIRATE[0x95] SEQCTL[0x10]
SEQ_FLAGS[0x20] SSTAT0[0x5] SSTAT1[0x2] SSTAT2[0x10]
SSTAT3[0x0] SIMODE0[0x8] SIMODE1[0xac] SXFRCTL0[0x88]
DFCNTRL[0x0] DFSTATUS[0x89]
STACK: 0x0 0x166 0x62 0x83
SCB count = 36
Kernel NEXTQSCB = 3
Card NEXTQSCB = 17
QINFIFO entries: 17
Waiting Queue entries:
Disconnected Queue entries: 0:10 4:21 29:28 14:26
QOUTFIFO entries:
Sequencer Free SCB List: 27 31 1 17 23 24 22 12 7 6 16 26 8 11 9 19 5 10 18 3 2
21 15 28 20 13 25
Sequencer SCB Info:
  0 SCB_CONTROL[0x64] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xa]
  1 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  2 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  3 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  4 SCB_CONTROL[0x64] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0x15]
  5 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  6 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  7 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  8 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  9 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 10 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 11 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 12 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 13 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 14 SCB_CONTROL[0x64] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0x1a]
 15 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 16 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 17 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 18 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 19 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 20 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 21 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 22 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 23 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 24 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 25 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 26 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 27 SCB_CONTROL[0x0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 28 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 29 SCB_CONTROL[0x64] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0x1c]
 30 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0x10]
 31 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
Pending list:
 10 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
 21 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
 28 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
 26 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
 17 SCB_CONTROL[0x74] SCB_SCSIID[0x87] SCB_LUN[0x0]
 16 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
Kernel Free SCB list: 25 31 11 0 7 19 20 35 23 4 30 14 8 24 29 27 22 18 12 6 2
15 1 13 5 9 34 33 32
DevQ(0:4:0): 0 waiting
DevQ(0:8:0): 0 waiting
<<<<<<<<<<<<<<<<< Dump Card State Ends >>>>>>>>>>>>>>>>>>
Recovery SCB completes
(scsi0:A:8:0): Device is disconnected, re-queuing SCB
Recovery code sleeping
Recovery code awake
Timer Expired
aic7xxx_abort returns 0x2003
scsi0:0:8:0: Attempting to queue an ABORT message
CDB: 0x28 0x0 0x1 0xb4 0x5d 0xd5 0x0 0x0 0x8 0x0
scsi0: At time of recovery, card was not paused
>>>>>>>>>>>>>>>>>> Dump Card State Begins <<<<<<<<<<<<<<<<<
scsi0: Dumping Card State in Data-in phase, at SEQADDR 0x9f
Card was paused
ACCUM = 0x0, SINDEX = 0x52, DINDEX = 0xff, ARG_2 = 0x1b
HCNT = 0x0 SCBPTR = 0x1e
SCSISIGI[0x54] ERROR[0x0] SCSIBUSL[0x8b] LASTPHASE[0x40]
SCSISEQ[0x12] SBLKCTL[0xa] SCSIRATE[0x95] SEQCTL[0x10]
SEQ_FLAGS[0x20] SSTAT0[0x5] SSTAT1[0x2] SSTAT2[0x10]
SSTAT3[0x0] SIMODE0[0x8] SIMODE1[0xac] SXFRCTL0[0x88]
DFCNTRL[0x0] DFSTATUS[0x89]
STACK: 0x0 0x166 0x62 0x83
SCB count = 36
Kernel NEXTQSCB = 3
Card NEXTQSCB = 26
QINFIFO entries: 26
Waiting Queue entries:
Disconnected Queue entries: 0:10 4:21 29:28
QOUTFIFO entries:
Sequencer Free SCB List: 14 27 31 1 17 23 24 22 12 7 6 16 26 8 11 9 19 5 10 18
3
2 21 15 28 20 13 25
Sequencer SCB Info:
  0 SCB_CONTROL[0x64] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xa]
  1 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  2 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  3 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  4 SCB_CONTROL[0x64] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0x15]
  5 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  6 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  7 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  8 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  9 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 10 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 11 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 12 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 13 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 14 SCB_CONTROL[0x0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 15 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 16 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 17 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 18 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 19 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 20 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 21 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 22 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 23 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 24 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 25 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 26 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 27 SCB_CONTROL[0x0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 28 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 29 SCB_CONTROL[0x64] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0x1c]
 30 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0x10]
 31 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
Pending list:
 10 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
 21 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
 28 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
 26 SCB_CONTROL[0x74] SCB_SCSIID[0x87] SCB_LUN[0x0]
 16 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
Kernel Free SCB list: 17 25 31 11 0 7 19 20 35 23 4 30 14 8 24 29 27 22 18 12 6
2 15 1 13 5 9 34 33 32
DevQ(0:4:0): 0 waiting
DevQ(0:8:0): 0 waiting
<<<<<<<<<<<<<<<<< Dump Card State Ends >>>>>>>>>>>>>>>>>>
Recovery SCB completes
(scsi0:A:8:0): Device is disconnected, re-queuing SCB
Recovery code sleeping
Recovery code awake
Timer Expired
aic7xxx_abort returns 0x2003
scsi0:0:8:0: Attempting to queue an ABORT message
CDB: 0x28 0x0 0x1 0xb4 0x5e 0x5 0x0 0x0 0x20 0x0
scsi0: At time of recovery, card was not paused
>>>>>>>>>>>>>>>>>> Dump Card State Begins <<<<<<<<<<<<<<<<<
scsi0: Dumping Card State in Data-in phase, at SEQADDR 0x9f
Card was paused
ACCUM = 0x0, SINDEX = 0x52, DINDEX = 0xff, ARG_2 = 0x1b
HCNT = 0x0 SCBPTR = 0x1e
SCSISIGI[0x54] ERROR[0x0] SCSIBUSL[0x8b] LASTPHASE[0x40]
SCSISEQ[0x12] SBLKCTL[0xa] SCSIRATE[0x95] SEQCTL[0x10]
SEQ_FLAGS[0x20] SSTAT0[0x5] SSTAT1[0x2] SSTAT2[0x10]
SSTAT3[0x0] SIMODE0[0x8] SIMODE1[0xac] SXFRCTL0[0x88]
DFCNTRL[0x0] DFSTATUS[0x89]
STACK: 0x0 0x166 0x62 0x83
SCB count = 36
Kernel NEXTQSCB = 3
Card NEXTQSCB = 28
QINFIFO entries: 28
Waiting Queue entries:
Disconnected Queue entries: 0:10 4:21
QOUTFIFO entries:
Sequencer Free SCB List: 29 14 27 31 1 17 23 24 22 12 7 6 16 26 8 11 9 19 5 10
18 3 2 21 15 28 20 13 25
Sequencer SCB Info:
  0 SCB_CONTROL[0x64] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xa]
  1 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  2 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  3 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  4 SCB_CONTROL[0x64] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0x15]
  5 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  6 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  7 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  8 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  9 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 10 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 11 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 12 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 13 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 14 SCB_CONTROL[0x0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 15 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 16 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 17 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 18 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 19 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 20 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 21 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 22 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 23 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 24 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 25 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 26 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 27 SCB_CONTROL[0x0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 28 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 29 SCB_CONTROL[0x0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 30 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0x10]
 31 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
Pending list:
 10 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
 21 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
 28 SCB_CONTROL[0x74] SCB_SCSIID[0x87] SCB_LUN[0x0]
 16 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
Kernel Free SCB list: 26 17 25 31 11 0 7 19 20 35 23 4 30 14 8 24 29 27 22 18
12
6 2 15 1 13 5 9 34 33 32
DevQ(0:4:0): 0 waiting
DevQ(0:8:0): 0 waiting
<<<<<<<<<<<<<<<<< Dump Card State Ends >>>>>>>>>>>>>>>>>>
Recovery SCB completes
(scsi0:A:8:0): Device is disconnected, re-queuing SCB
Recovery code sleeping
Recovery code awake
Timer Expired
aic7xxx_abort returns 0x2003
scsi0:0:8:0: Attempting to queue an ABORT message
CDB: 0x28 0x0 0x1 0xb4 0x8d 0x5 0x0 0x0 0x58 0x0
scsi0: At time of recovery, card was not paused
>>>>>>>>>>>>>>>>>> Dump Card State Begins <<<<<<<<<<<<<<<<<
scsi0: Dumping Card State in Data-in phase, at SEQADDR 0x9f
Card was paused
ACCUM = 0x0, SINDEX = 0x52, DINDEX = 0xff, ARG_2 = 0x1b
HCNT = 0x0 SCBPTR = 0x1e
SCSISIGI[0x54] ERROR[0x0] SCSIBUSL[0x8b] LASTPHASE[0x40]
SCSISEQ[0x12] SBLKCTL[0xa] SCSIRATE[0x95] SEQCTL[0x10]
SEQ_FLAGS[0x20] SSTAT0[0x5] SSTAT1[0x2] SSTAT2[0x10]
SSTAT3[0x0] SIMODE0[0x8] SIMODE1[0xac] SXFRCTL0[0x88]
DFCNTRL[0x0] DFSTATUS[0x89]
STACK: 0x0 0x166 0x62 0x83
SCB count = 36
Kernel NEXTQSCB = 3
Card NEXTQSCB = 21
QINFIFO entries: 21
Waiting Queue entries:
Disconnected Queue entries: 0:10
QOUTFIFO entries:
Sequencer Free SCB List: 4 29 14 27 31 1 17 23 24 22 12 7 6 16 26 8 11 9 19 5
10
18 3 2 21 15 28 20 13 25
Sequencer SCB Info:
  0 SCB_CONTROL[0x64] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xa]
  1 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  2 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  3 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  4 SCB_CONTROL[0x0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  5 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  6 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  7 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  8 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
  9 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 10 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 11 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 12 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 13 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 14 SCB_CONTROL[0x0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 15 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 16 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 17 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 18 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 19 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 20 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 21 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 22 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 23 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 24 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 25 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 26 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 27 SCB_CONTROL[0x0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 28 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 29 SCB_CONTROL[0x0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
 30 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0x10]
 31 SCB_CONTROL[0xe0] SCB_SCSIID[0x87] SCB_LUN[0x0] SCB_TAG[0xff]
Pending list:
 10 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
 21 SCB_CONTROL[0x74] SCB_SCSIID[0x87] SCB_LUN[0x0]
 16 SCB_CONTROL[0x60] SCB_SCSIID[0x87] SCB_LUN[0x0]
Kernel Free SCB list: 28 26 17 25 31 11 0 7 19 20 35 23 4 30 14 8 24 29 27 22
18
12 6 2 15 1 13 5 9 34 33 32
DevQ(0:4:0): 0 waiting
DevQ(0:8:0): 0 waiting
<<<<<<<<<<<<<<<<< Dump Card State Ends >>>>>>>>>>>>>>>>>>
Recovery SCB completes
(scsi0:A:8:0): Device is disconnected, re-queuing SCB
Recovery code sleeping
Recovery code awake
Timer Expired
aic7xxx_abort returns 0x2003
scsi0:0:8:0: Attempting to queue a TARGET RESET message
CDB: 0x28 0x0 0x1 0xd8 0x4 0x55 0x0 0x0 0x50 0x0
aic7xxx_dev_reset returns 0x2003
Recovery SCB completes
Recovery SCB completes
-- 
PGP Key Fingerprint:  FCFF 26A1 BE21 08F4 BB91  FAED 1D7B 7D74 A8EF DD61
http://search.keyserver.net:11371/pks/lookup?op=get&search=0xA8EFDD61
-----BEGIN GEEK CODE BLOCK-----
Version: 3.12
GCS/E/IT$ d-- s++:+>: a-- C++(+++) BL++++VIS>$ P+(++) L+++ E-(---) W++ N+@ o?
K? w++++>-- O M-@ V-- PS+(+++) PE(-) Y++(+) PGP++(+) t+() 5++ X(+) R+(++)
tv(--)b++(+++) DI+@ D++(+++) G>+++ e>+++ h---(++) r++ y+
------END GEEK CODE BLOCK------
Eric Sandall                     |  Source Mage GNU/Linux Developer
eric@sandall.us                  |  
http://www.sourcemage.org/
http://eric.sandall.us/
          |  SysAdmin @ Inst. Shock Physics @ WSU
http://counter.li.org/
  #196285  |  
http://www.shock.wsu.edu/
----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.
[unhandled content-type:application/octet-stream]