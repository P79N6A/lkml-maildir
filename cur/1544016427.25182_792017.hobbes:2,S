Date: Wed, 14 Jan 2009 06:46:38 -0800
From: Mark Glines <>
Subject: Re: 2.6.28 has unconfigurable group sched?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/14/258

Peter Zijlstra wrote:
>> So it seems rt_schedulable() is never succeeding.  Any ideas?
> 
> Yeah, I should test this user grouping stuff more often :/
> 
> The below fixes it for me.
> ---
> Subject: sched: fix bandwidth validation for UID grouping 
> 
> For UID grouping we initialize the root group with infinite bandwidth
> which by default is actually more than the global limit, therefore the
> bandwidth check always fails.
> 
> Because the root group is a phantom group (for UID grouping) we cannot
> runtime adjust it, therefore we let it reflect the global bandwidth
> settings.
Thanks.  Sadly, this doesn't seem to change anything for me.  I applied
it to 2.6.28, rebuilt and reinstalled, and got the same result.  I did a
clean rebuild to be sure; and got the same behavior again.
Please let me know if there are any additional diagnostics I can provide.
Mark