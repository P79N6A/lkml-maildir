Date: Fri, 02 Mar 2007 20:17:32 -0500
From: Jeff Garzik <>
Subject: Re: [PATCH 2/2] mv643xx_eth: Place explicit port number in mv643xx_eth_platform_data
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/2/398

Dale Farnsworth wrote:
> We were using the platform_device.id field to identify which ethernet
> port is used for mv643xx_eth device.  This is not generally correct.
> It will be incorrect, for example, if a hardware platform uses a single
> port but not the first port.  Here, we add an explicit port_number field
> to struct mv643xx_eth_platform_data.
> 
> This makes the mv643xx_eth_platform_data structure required, but that
> isn't an issue since all users currently provide it already.
> 
> Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
> 
> ---
> 
>  arch/mips/momentum/jaguar_atx/platform.c  |    8 ++
>  arch/mips/momentum/ocelot_3/platform.c    |    8 ++
>  arch/mips/momentum/ocelot_c/platform.c    |    4 +
>  arch/powerpc/platforms/chrp/pegasos_eth.c |    2 
>  arch/ppc/syslib/mv64x60.c                 |   12 +++-
>  drivers/net/mv643xx_eth.c                 |   59 ++++++++++----------
>  include/linux/mv643xx.h                   |    1 
>  7 files changed, 62 insertions(+), 32 deletions(-)
ACK but not applied, patch corrupted
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/