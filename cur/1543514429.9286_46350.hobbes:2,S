Date: Thu, 28 Oct 1999 13:53:20 -0700
From: "H. Peter Anvin" <>
Subject: Re: [PATCH] Removes x86 warning messages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/28/137

"Richard B. Johnson" wrote:
>> 
> Not. Look at page 26-210, the '*'. About protected mode moves to
> segment registers, of the Intel Rag., ISBN 1-55512-159-4, Intel 486
> Programmer's reference manual. Also page 26-2, Table 26-1, Effective
> size attributes.
> 
>         There is no movw in Intel syntax nor is there a movl.
> 
> In Intel, if the segment size (the D bit in the segment descriptor),
> is set to 32 bits, every instruction that uses 16 bit registers requires
> the address-size prefix because this is the only thing that shows
> the processor the difference.
> 
In the case of segment register operations, the size of 16 bits is
implicit in the opcode, so there is never any need to generate it. 
Technically you can do a movl from a 32-bit memory operand to force 32
bits of memory to be touched; otherwise they are exactly equivalent.
Therefore, the assembler should always generate the shortest form.  Case
closed.
> 
> I'm sure Intel would like to hear from you if you have a devised
> a better way to use their processors, or if you have discovered
> that their documentation is wrong.
> 
Intel's documentation is wrong all over the place.  They clearly could
care less about the correctness of their documentation.  I'm not paid to
proofread their docs for them.
	-hpa
-- 
<hpa@transmeta.com> at work, <hpa@zytor.com> in private!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/