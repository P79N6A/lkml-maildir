Date: Fri, 1 Oct 1999 17:32:27 +0200 (CEST)
From: Andrea Arcangeli <>
Subject: Re: Bottom halves.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/1/51

On Fri, 1 Oct 1999, B. James Phillippe wrote:
>do_bottom_half functionality into a kernel thread.  The reason is to allow
it would be too slow. You want bh processing after incoming network packet
is been queued from the irq.
Also you can't preemt kernel code. no-way. You could only add a
conditional schedule.
Currently if the bh is too long (as the ppa one) you can simply use a
state machine, requeue the bh handler and exit from the bh. The next time
you'll enter into the bh you'll enter in the right place and you'll
simulate a schedule.
In the ppa case this also avoids the scsi code to badly recurse on the
stack and crash the kernel showing strange things on the video card ;).
have a look to ppa.c if your bh handler is too slow.
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/