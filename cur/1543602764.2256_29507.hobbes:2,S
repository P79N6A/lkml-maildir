Date: Fri, 28 Sep 2001 10:07:54 +0900
From: Tsunehiko Baba <>
Subject: [REPORT] (PPC) Compile Error (Linux 2.4.9-ac[12-16])
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/27/245

Hi, Alan and everyone.
I have continued testing Alan's ac-branch kernel but failed because of
following 2 problems. 
1. include/asm-ppc/keyboard.h
It's a small problem ,easy to resolve. 
If this patch is correct, please apply it.
[compile error Log]
In file included from keyboard.c:42:
/usr/src/v2.4.9/ac16/include/linux/vt_kern.h:35: parse error before `.'
keyboard.c:573: warning: excess elements in array initializer
keyboard.c:573: warning: (near initialization for `ret_diacr')
gmake[3]: *** [keyboard.o] エラー 1
gmake[2]: *** [first_rule] エラー 2
gmake[1]: *** [_subdir_char] エラー 2
gmake: *** [_dir_drivers] エラー 2
[patch]
*** include/asm-ppc/keyboard.h.orig	Mon Sep 10 10:07:38 2001
--- include/asm-ppc/keyboard.h	Mon Sep 10 10:07:51 2001
***************
*** 75,81 ****
  		ppc_md.kbd_init_hw();
  }
  
- #define kbd_rate	(ppc_md.kbd_rate_fn)
  #define kbd_sysrq_xlate	(ppc_md.ppc_kbd_sysrq_xlate)
  
  extern unsigned long SYSRQ_KEY;
--- 75,80 ----
2. arch/ppc/kernel/setup.c
This error has occured since -ac12.
I tried to make patch but did't work well.
By comparing same files in each architectures, I think, in func
'get_cpuinfo' `n' is used in mistake for "i"....
Does anyone resolve this error, or advise me?
[compile error log]
setup.c: In function `get_cpuinfo':
setup.c:176: `n' undeclared (first use in this function)
setup.c:176: (Each undeclared identifier is reported only once
setup.c:176: for each function it appears in.)
setup.c:216: `c' undeclared (first use in this function)
setup.c:216: `cpu_data' undeclared (first use in this function)
setup.c:258: break statement not within loop or switch
setup.c:271: break statement not within loop or switch
setup.c:156: warning: unused variable `bogosum'
gmake[1]: *** [setup.o] エラー 1
gmake: *** [_dir_arch/ppc/kernel] エラー 2
Best Regards.
--
Tsunehiko Baba <tsn@crl.hitachi.co.jp>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/