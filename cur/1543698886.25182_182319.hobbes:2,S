Date: Sat, 6 Dec 2003 18:58:59 -0800
From: Greg KH <>
Subject: Re: Oops w/sysfs when closing a disconnected usb serial device
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/6/155

On Fri, Dec 05, 2003 at 09:16:12PM -0500, Mike Gorse wrote:
> On Fri, 5 Dec 2003, Greg KH wrote:
> 
> > Try the patch below.  With your sysfs patch I don't get any oopses
> > anymore.  I still need to beat on this patch a lot more before I think
> > it solves all of the current issues.  Can you let me know if it works
> > for you or not?
> > 
> I tried it briefly, and it made no difference with the issue I am having.  
> When disconnecting the gps receiver with a fd still open on it, it still 
> gives an oops on closing it without the sysfs patch.  The sysfs patch 
> eliminates the oops, but I wasn't getting an oops without your patch if I 
> include the sysfs patch.  Anyway, I have over 200k of debugging output, so 
> I'll send it to you off list.
Hm, wait.  I mean use your sysfs patch, _and_ my patch.  Previously you
had said your sysfs patch had only moved the oops elsewhere.  I found
that true myself, hence my patch.  With both patches, things work for
me, how about you?
Oh, about all of that debugging output, just enable debugging in the
usbserial core, not the usb serial driver.  That makes it much more
managable :)
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/