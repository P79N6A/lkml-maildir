Date: Thu, 23 Mar 2006 15:58:52 -0800
From: Bryan O'Sullivan <>
Subject: Re: [PATCH 9 of 18] ipath - char devices for diagnostics and lightweight subnet management
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/23/349

On Thu, 2006-03-23 at 11:18 -0800, Roland Dreier wrote:
> But I still (after all this discussion)
> don't understand why you need to have two SMA implementations to
> handle this along with the code to switch between the two modes like:
I'm a bit confused by your question.  We only have one SMA
implementation, which is in userspace.  The stuff that's in our core
driver is purely for supporting it.  That same code is also used during
diags, too, to let userspace send and receive low-level packets.
The code in ipath_mad.c simply handles requests for ib_mad, if the
in-kernel SMA is being used.
> You also have all the functions like recv_subn_get_nodeinfo() etc. for
> handling SM queries.  Presumably all this is duplicated in the
> userspace SMA.
Only a very small subset of SMA functionality is present in the
userspace SMA.
	<b
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/