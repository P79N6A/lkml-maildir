Date: Mon, 9 Oct 2000 19:21:04 -0700 (PDT)
From: <>
Subject: Re: [RFC] New ideas for the OOM handler
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/9/231

how about registering the full path (or inode number of the executable?),
the owner, and an optional high water mark of memory consumption, over
which the process is considered to be leaking memory and gets added to the
algorithm of processes to kill?  this is because while normally i want to
ignore syslogd, if syslogd is consuming >20MB then it probably has sprung
a leak.
it also might be good to have options to kill anything connected to a pty
first, and to not kill anything attatched to the console.  obviously these
leave ways for admins to shoot themselves in the foot, but they could be
useful.
also ignoring or including based on users and groups would be good (kill
all the student logins, keep all the operator logins, or whatever...).
in general i like the idea of tunable OOM killing, since no one OOM killer
suits everyone.
> > What about a user-defined list of "wishes"? The administrator should be
> > enabled to enforce that specific processes are to be terminated only as a
> > last resource (syslogd), or that they should be killed first (netscape).
> > Could that be done using some /proc interface - some lines, each
> > containing a program name, and a modifier for the killing priority?
> 
> echo "init" > /proc/sys/oom-ignore
> echo "httpd" >> /proc/sys/oom-ignore
> echo "parallel-fft" >> /proc/sys/oom-ignore
>  etc...
> 
> This is a very workable option. It allows the admin to define what is
> "important" on his computer and tells the OOM killer to terminate at
> last resort (or ignore completely).
> 
> I like it.  Rik, what do you think?
> 
> > Just a thought. Hope my English is not too bad to make my thoughts
> > clear... Sorry if this was discussed on l-k before - I do not have the
> > time to read each posting on the list.
> > 
> > 
> > Greetings from Germany,
> > 
> > Jochen Striepe.
> > 
> > 
> 
> 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/