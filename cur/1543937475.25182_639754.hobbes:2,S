Date: Thu, 17 Jan 2008 15:33:45 -0500
From: "H. Peter Anvin" <>
Subject: Re: [patch 0/4] x86: PAT followup - Incremental changes and bug	fixes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/17/284

Ingo Molnar wrote:
> * Andreas Herrmann3 <andreas.herrmann3@amd.com> wrote:
> 
>> For the failed devices I get:
>>
>>   sata_sil 0000:00:12.0: version 2.3
>>   ACPI: PCI Interrupt 0000:00:12.0[A] -> GSI 22 (level, low) -> IRQ 22
>>   ioremap_nocache: addr c0403000, size 200
>>   swapper:1 conflicting cache attribute c0403000-c0404000 uncached<->default
>>   ACPI: PCI interrupt for device 0000:00:12.0 disabled
> 
> hm, is the problem that the two devices share the same physical page, 
> and thus get an overlapping area?
> 
> as an intermediate fix, how about following the attribute of the already 
> existing mapping, instead of rejecting the ioremap due to the conflict? 
> I.e. something like below?
The correct behaviour probably would be to go with the most restrictive 
caching behaviour, i.e. uncached in this case.
	-hpa