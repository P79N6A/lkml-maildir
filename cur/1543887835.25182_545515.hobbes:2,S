Date: Wed, 16 May 2007 21:58:42 -0300
From: Henrique de Moraes Holschuh <>
Subject: Re: Weird hard disk noise on shutdown (bug #7674)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/16/514

On Wed, 16 May 2007, Rob Landley wrote:
> Ok, so the change is to get shutdown to _stop_ doing something stupid 
> (spinning down the disk without first flushing the cache), and the correct 
> thing for shutdown to do is keep its' mitts off the thing and let the kernel 
> power down the darn hardware?
Yes, for *all* SCSI disk devices, libata or not.
But you need to detect if the kernel has proper SCSI device shutdown
support, because if it does not, you have to do a cache flush and spindown
on shutdown(8) if you can...
-- 
  "One disk to rule them all, One disk to find them. One disk to bring
  them all and in the darkness grind them. In the Land of Redmond
  where the shadows lie." -- The Silicon Valley Tarot
  Henrique Holschuh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/