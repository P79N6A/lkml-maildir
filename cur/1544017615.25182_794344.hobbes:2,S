Date: Mon, 19 Jan 2009 12:44:36 +0000
From: Nick Craig-Wood <>
Subject: Re: Checking module parameters
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/19/109

On Mon, Jan 19, 2009 at 11:19:34AM +0100, Stefan Richter wrote:
> Nick Craig-Wood wrote:
> > David Wagner <daw@cs.berkeley.edu> wrote:
> >>  Is there a way to tell what options have been applied to a currently
> >>  loaded kernel module?
> >> 
> >>  I'm trying to force libata to use 1.5Gbps rather than 3Gbps,
> ...
> > I had to do this recently (under debian I ended up putting
> > "libata force=1.5Gbps" into /etc/modules)
> > 
> > You can check it is working by looking for something like this in the log
> > 
> > [    2.345058] ata1: FORCE: PHY spd limit set to 1.5Gbps
> > [    2.345058] ata1: SATA max UDMA/133 abar m2048@0xfb106000 port 0xfb106100 irq 218
> 
> There is also /sys/module/*/parameters/* which can be read and in some
> cases even be written.
It doesn't appear to show the force parameter.  From the same server
as above :-
$ more /sys/module/libata/parameters/* | cat
::::::::::::::
/sys/module/libata/parameters/acpi_gtf_filter
::::::::::::::
3
::::::::::::::
/sys/module/libata/parameters/allow_tpm
::::::::::::::
0
::::::::::::::
/sys/module/libata/parameters/ata_probe_timeout
::::::::::::::
7500
::::::::::::::
/sys/module/libata/parameters/atapi_dmadir
::::::::::::::
0
::::::::::::::
/sys/module/libata/parameters/atapi_enabled
::::::::::::::
1
::::::::::::::
/sys/module/libata/parameters/atapi_passthru16
::::::::::::::
1
::::::::::::::
/sys/module/libata/parameters/dma
::::::::::::::
7
::::::::::::::
/sys/module/libata/parameters/fua
::::::::::::::
0
::::::::::::::
/sys/module/libata/parameters/ignore_hpa
::::::::::::::
0
::::::::::::::
/sys/module/libata/parameters/noacpi
::::::::::::::
0
-- 
Nick Craig-Wood <nick@craig-wood.com> -- 
http://www.craig-wood.com/nick