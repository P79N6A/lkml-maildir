Date: Sun, 30 Jan 2000 02:17:21 +0000
From: Anton Altaparmakov <>
Subject: Reboot problems - Was: Re: 2.3.41-4 / hda: lost interrupt
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/30/6

At 00:52 30/01/00 , Maciej Zeczykowski wrote:
[snip]
>I have a Satellite 2590 CDT (Toshiba) with no extra harware
>running Red Hat 6.1 (kernel 2.2.12 I believe), all works ok, except
>when dual booted to DOS (from Win98) and then ctrl+alt+deled (warm
>reboot), after this lilo boots and starts loading linux, after a timeout
>of course - and this is when I start getting lost interrupts.
>Suspending the machine does not work.  The only solution to this problem
>is to shutdown linux, turn of the notebook.  And reboot from an off state.
>All then works normally.  Any ideas?
On my notebook I run into problems when rebooting from Win9x to Linux but 
not from Win9x to Win9x, Linux to Linux or Linux to Win9x. - For example if 
I run X after a Win9x to Linux reboot all colors are scrambled. - I noticed 
this since I upgraded to 2.2.x kernels on the notebook.
If I power down between OS changes, always no problems, kernel with problem 
last time I tried it was 2.2.12.
I don't get the lost interrupts though but I think we are having the same 
kind of problem which I have always attributed to win9x programming the 
hardware which then doesn't get reset during a soft reboot and linux on the 
other hand making assumptions about the state of the hardware during 
boot-up, which I don't  feel is a linux problem but rather a broken BIOS 
problem (not reinitializing hardware properly during soft reboot). - Feel 
free to correct me if I am wrong...
I would therefore suggest to power-cycle your notebook during an OS switch 
and as you say yourself you have no problems. (-:
If anyone has better suggestions/solutions I would love to hear them.
Anton
FYI: Notebook is Rock Computers, Model: Mentor 620, 48MB, Intel Pentium MMX 
200, C&T65550 2MB gfx card, OPTi chipset, output of lspci:
00:00.0 Host bridge: OPTi Inc. 82C557 [Viper-M] (rev 14)
00:01.0 ISA bridge: OPTi Inc. 82C558 [Viper-M ISA+IDE] (rev 02)
00:06.0 VGA compatible controller: Chips and Technologies 65550 (rev c6)
00:07.0 CardBus bridge: Texas Instruments PCI1130 (rev 04)
00:07.1 CardBus bridge: Texas Instruments PCI1130 (rev 04)
00:14.0 IDE interface: OPTi Inc. 82C621 (rev 12)
--
      "Education is what remains after one has forgotten everything he 
learned in school." - Albert Einstein
--
Anton Altaparmakov <AntonA at bigfoot.com> (replace at with @)
ICQ: 8561279
WWW: 
http://tmd.ipfox.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/