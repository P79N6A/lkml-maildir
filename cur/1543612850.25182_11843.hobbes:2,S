Date: Sun, 9 Dec 2001 18:36:52 -0500
From: Tom Vier <>
Subject: block devs and high latency
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/9/100

while doing some experimentation, i've discovered an annoying problem. when
writing to one or two scsi drives, there seems to be some weird side
effects. the effect is the same, whether i run cat /dev/zero > /dev/sdc1 or
dd bs=131027 if=/dev/zero of=/dev/sdc1. buffer size doesn't make a
difference, bs can also be set to 5 megs. if you hit ctrl-c to kill one or
two of the dd or cat procs, you can't switch consoles for a good 20-30
seconds (my estimation). i was running screen and i couldn't switch screens,
either, so, at some level, all keyboard input was being delayed. the machine
has normal ping times during this.
also, if you run sync while the other procs are running, it won't return
until they're done. it also is unkillable during this, in state D. is this a
race? ie, as sync flushes dirty buffers, they're added just as fast. i
always thought sync was atomic and meant "flush every io issued before this
call, but not after".
this is using 2.4.17-pre6 on an alpha pws500 with a half gig of ram, and a
sym53c895 (using the new driver).
-- 
Tom Vier <tmv5@home.com>
DSA Key id 0x27371A2C
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/