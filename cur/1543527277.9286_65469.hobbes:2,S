Date: Thu, 24 Feb 2000 15:49:57 +0100
From: Jamie Lokier <>
Subject: Re: What /proc should contain [was: /proc/driver/microcode]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/24/103

Albert D. Cahalan wrote:
> I hope you actually wrote serious proc-using code. If not, you should
> not argue. I wrote the new ps, and I think /proc is a crawling horror.
> 
> My fix would be to add the exact same binary files that Solaris has
> and to make all non-process information invisible. The filesystem
> code could also be used for /sys or /kern, with a mount option to
> show everything but the processes.
Would a binary file in each /proc/PID directory containing just the right
information for /proc be ok?
> I'd love to have the binary structures for C. In spite of being
> 100% C, "top" can use 50% of my CPU time. Real code is C anyway.
I minor tweak to "top" and procfs would fix that 50% CPU time in the
usual case.  All you need is for readdir("/proc") to return the processes
in approximate reverse order of CPU usage, and to have another file
which reports idle time.  Then "top" can stop reading once it's reached
a total of 100% CPU usage.
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/