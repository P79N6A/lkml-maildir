Date: 02 Oct 2002 12:16:05 +0100
From: Gianni Tedesco <>
Subject: Re: [patch] kksymoops-2.5.38-C9
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/2/81

On Thu, 2002-09-26 at 15:01, Ingo Molnar wrote:
> --- linux/Makefile.orig	Thu Sep 26 15:26:53 2002
> +++ linux/Makefile	Thu Sep 26 15:27:16 2002
> @@ -138,6 +138,7 @@
>  MAKEFILES	= $(TOPDIR)/.config
>  GENKSYMS	= /sbin/genksyms
>  DEPMOD		= /sbin/depmod
> +KALLSYMS	= /sbin/kallsyms
>  PERL		= perl
>  MODFLAGS	= -DMODULE
>  CFLAGS_MODULE   = $(MODFLAGS)
> @@ -291,32 +292,64 @@
>  vmlinux-objs := $(HEAD) $(INIT) $(CORE_FILES) $(LIBS) $(DRIVERS) $(NETWORKS)
Ingo, this breaks cross compiles because kallsyms expects a host
executable:
$ /sbin/kallsyms .tmp_vmlinux > .tmp_kallsyms.o
.tmp_vmlinux: ELF file .tmp_vmlinux not for this architecture
You can't even do $(CROSS_COMPILE)kallsyms because that isn't part of
most peoples toolchains. (and /sbin might not be in the $PATH).
I'm not sure what kallsyms does *exactly* but it sounds like the same
functionality can be had from objcopy...
-- 
// Gianni Tedesco (gianni at ecsc dot co dot uk)
lynx --source www.scaramanga.co.uk/gianni-at-ecsc.asc | gpg --import
8646BE7D: 6D9F 2287 870E A2C9 8F60 3A3C 91B5 7669 8646 BE7D
[unhandled content-type:application/pgp-signature]