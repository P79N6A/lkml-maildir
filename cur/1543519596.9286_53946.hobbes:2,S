Date: Thu, 16 Dec 1999 19:10:49 -0500 (EST)
From: Alan Cox <>
Subject: Re: IDE Driver Reports Erroneous Errors While Mounting NWFS 2.0 at boot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/16/205

> Perhaps I am not understanding what the error is reporting.  The range
> error states that I am asking for 1715620.  Is this number a 1024 byte
> block address or the LBA offset of the disk and not an LBA sector
> offset?  NetWare does everything as LBA based, so we call
> set_blocksize(dev, 512) and set the devices to a 512 sector block size. 
> What could conceivable be going on here is that for some reason, the
> driver is not in a state where we can do this, and we are breaking it,
> then running off the end of the disk.  
The number reported is in 1K blocks. 
> 
> The device is 850/64/63 so it's sectors are 0x3451E0, but the driver is
> reporting we are off the end at 0x1A2762, which is bogus, if the device
> is reporting LBA ranges.  
That would be 344EC4 so its plausible. Could you have issued requests before
changing the block size ? It sounds form your comemnt that after that error
everything continued fine ? If so you only issued one stray request somehow -
as it would have logged each I/O that went off the end in its view.
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/