Date: Sat, 15 Oct 2005 07:29:58 -0700
From: Marc Perkel <>
Subject: Re: Forcing an immediate reboot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/15/55

Anton Altaparmakov wrote:
>On Fri, 14 Oct 2005, Lee Revell wrote:
> 
>
>>On Fri, 2005-10-14 at 18:46 -0700, Marc Perkel wrote:
>> 
>>
>>>Is there any way to force an immediate reboot as if to push the reset 
>>>button in software? Got a remote server that i need to reboot and 
>>>shutdown isn't working.
>>> 
>>>
>>If it has Oopsed, and the "reboot" command does not work, then all bets
>>are off - kernel memory has probably been corrupted.
>>
>>Get one of those powerstrips that you can telnet into and power cycle
>>things remotely.
>> 
>>
>
>If it has sysrq compiled in as root just do:
>
>echo s > /proc/sysrq-trigger
>echo u > /proc/sysre-trigger
>echo s > /proc/sysrq-trigger
>echo b > /proc/sysrq-trigger
>
>This will "sync", "umount/remount read-only", "sync", "immediate hardware 
>reboot".  Should always work...
>
>
> 
>
This worked great. If I had this last night it would probably have saved 
me a trip to San Jose. I especially like that it does the file system 
syncs. I've put it in a script I call "coldboot" and it is now one of my 
tools.
Very useful.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/