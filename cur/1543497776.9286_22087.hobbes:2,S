Date: Fri, 04 Jun 1999 22:43:37 +0200
From: Robert Schiele <>
Subject: Re: Kernel (2.2.9) crash after trying to mount a swap-device.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/4/150

Robert Schiele wrote:
> 
> Ralf Nyren wrote:
> >
> > 1. Kernel (2.2.9) crash after trying to mount a swap-device.
> >
> > 2. Well of course you shouldn't mount swap ;-) Still I think this
> >    problem worth a bug report since a failing mount attempt shouldn't
> >    crash the kernel.
> >     Trying to reproduce the problem I found out that if you try to
> >    mount the swap-device (may it be a partition or a file accessed
> >    through the loop-device), which of course fails, the swap goes
> >    unstable. When the system begin to use swap it more or less crashes.
> >
> > 3.
> >
> > 4. Linux version 2.2.9 (root@HADDOCK) (gcc version 2.7.2.3) #3 Fri May 21
> > 15:49:35 CEST 1999
> >
> > 5.
> >
> > 6. Here follows a short description of how to trigger the bug and some
> > kernel output.
> >    My swap is at /dev/hda1 (3:01).
> >
> > # mount /dev/hda1 /mnt
> > [MS-DOS FS Rel. 12,FAT 16,check=n,conv=b,uid=0,gid=0,umask=022]
> > [me=0xff,cs=32385,#f=255,fs=65409,fl=8322945,ds=2130673920,de=65535,data=2130678111,se=65535,ts=-1,ls=65535,rc=0,fc=4294967295]
> > Transaction block size = 512
> > VFS: Can't find a valid MSDOS filesystem on dev 03:01.
> > [...]
> 
> Strange! Normally this mount command should say 'mount: you must specify
> the filesystem type'. Did you initialize the swap partition with mkswap?
> 
> Robert
> 
Ah, I see it has nothing to do with initialization or something similar.
My server, which was up for about two weaks, also crashed about half an
hour after trying to mount one of its swap partitions with 'mount
/dev/sda2 /mnt', although the mount command correctly rejected the
mount.
Robert
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/