Date: Wed, 5 Jul 2000 11:56:50 -0700
From:  brian@worldcon ...
Subject: 2.2.17pre9 VM vs large memory app success
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/5/70

I had been reported during the last week problems with the 2.2.x VM
related to our application which runs over about a week and uses 1 to 3
GB of virtual Memory, on the x86 architecture.
Some people responded that malloc dying at physical memory was to be
expected and others reported that various newer tools would be
willing to allocate more memory.
There are representation made on the linux-vm webpage that linux 2.2 can
support up to 3GB of virtual memory per process.
A few people reported that we needed to use at least glibc 2.1.3 to
support the greater than physical memory VM.
I initially tried the RedHat glibc 2.1.3 rpm.  Our test program, meant
to exercise the failure mode quickly, continued to fail at the
physical memory limit.
I then built glibc 2.1.3 from the gnu sources.  The test program
then was able to malloc a full 3GB (we wrote the malloc'ed blocks
full of data to make sure the VM was really allocating them).
However, our real application continued to die at the limit of
physical memory.
Someone suggested that glibc 2.2 (current development) had a more
robust implementation of malloc than 2.1.3.
I cvs'ed down the source to the latest glibc 2.2.
I can report that both our test program and our application are
happily allocating lots and lots of VM.
The kernel we are running is 2.2.17pre9 with the 2.2.17p9-vm-1 patch.
-- 
Brian Litzinger <brian@litzinger.com>
    Copyright (c) 2000 By Brian Litzinger, All Rights Reserved
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/