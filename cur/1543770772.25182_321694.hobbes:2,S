Date: Mon, 30 May 2005 18:23:30 +0300
From: Pekka Enberg <>
Subject: Re: [PROBLEM] Machine Freezes while Running Crossover Office
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/30/120

Hi,
On Sun, 2005-05-29 at 15:59 -0700, Linus Torvalds wrote:
> However, I don't understand how wine can block the X server from doing 
> even cursor updates. It might be a scheduler bug, of course. The one thing 
> a bigger pipe buffer does is end up changing scheduling behaviour. 
> 
> (On the other hand, I would not be surprised if Wine does something that 
> makes X pause, like use DGA or whatever and tells X not to update the 
> screen, including cursors).
It is not just X. Running the following shell script when hitting the
bug:
#!/bin/sh
while : ; do
  date
  sleep 1
done
shows the following output:
penberg ~/pipe-test 49 ./show-date
Mon May 30 18:16:52 EEST 2005
Mon May 30 18:16:53 EEST 2005
Mon May 30 18:16:54 EEST 2005
Mon May 30 18:16:55 EEST 2005
Mon May 30 18:17:15 EEST 2005
Mon May 30 18:17:16 EEST 2005
It looks like no other processes other than wineserver and
wine-preloader get any CPU time (also evident from Sysrq-P traces).
On Sun, 2005-05-29 at 15:59 -0700, Linus Torvalds wrote:
> Are you sure your oprofile PC map is correct?
Yes, the pipe_poll calls come from wineserver actually, not
wine-preloader (of which I showed strace output before).
Any suggestions on how to debug this further? I am not sure I understood
your point about watching poll timeouts.
			Pekka
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/