Date: Wed, 22 Sep 1999 00:19:17 +0100 (BST)
From: Alan Cox <>
Subject: Re: Linux and real device drivers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/21/203

> PCI bus normally runs at 33 MHz. It takes at least two clock cycles to do a
PCI writes are posted
> a read, many PCI devices will send a RETRY signal just to give themselves
> more time. This can be more in the range of 100s of ns to single digit ms
> for a device read.
Some of the new bridges also support posted read, we dont use that _yet_ but
we will in time Im sure do so.
> If you want to optimize something, optimize out unneeded accesses to the
> device. Don't think that you are running faster merely because you got rid
> of one level of subroutine call, you are just fooling yourself.
We've done that. You can see the cache traffic in the Gig Ethernet drivers.
They are at the point in tuning where changing the number of cache misses
changes the performance.
> Now if we look at it from a system perspective, you can gain a lot more
> performance by making your mutexs work more efficiently.
Been there, done that. You can count the lock cycles on the driver too. 
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/