Date: Wed, 18 Jul 2007 13:08:33 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: [PATCH] Use tty_schedule in VT code.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/18/374

On Wed, 18 Jul 2007, Paul Fulghum wrote:
> 
> It might be safest to drop this portion so you can get the
> obvious part of the patch accepted (consolidating
> the redundant xxx_schedule_flip functions).
But wasn't the whole _point_ that con_schedule_flip() potentially gets 
called from interrupt context, and thus that part is wrong. It's why 
con_schedule_flip() was different from tty_schedule_flip() to begin with, 
no?
If a tty driver has marked itself low-latency, it's still wrong to do the 
flush_to_ldisc() from interrupt context if a console event happens in 
interrupt context.
I thought that was the whole *point* of the difference between 
"tty_schedule_flip()" and "con_schedule_flip()", as far as I know. The 
"con_schedule_flip()" can be called from any context (console messages), 
while "tty_schedule_flip()" is only called from well-behaved tty layer.
But I really don't know. I used to be involved with the tty layer, these 
days I'd rather avoid it. This "simple" patch seems to be anything but, 
and I'd like somebody to just make sure that all the issues are taken care 
of.
Alan?
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/