Date: Sat, 23 Dec 2006 11:34:49 +0100
From: Soeren Sonnenburg <>
Subject: [PATCH] make fn_keys work again on power/macbooks on linux-2.6.20-rc1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/23/18

Dear all,
The apple fn keys don't work anymore with 2.6.20-rc1.
The reason is that USB_HID_POWERBOOK appears in several files although
USB_HIDINPUT_POWERBOOK is the thing to be used.
the attached trivial patch fixes this.
Please apply.
Soeren
-- 
Sometimes, there's a moment as you're waking, when you become aware of
the real world around you, but you're still dreaming.
Signed-off-by: Soeren Sonnenburg <kernel@nn7.de>
diff -ur linux-2.6.20-rc1-orig/arch/i386/defconfig linux-2.6.20-rc1/arch/i386/defconfig
--- linux-2.6.20-rc1-orig/arch/i386/defconfig	2006-12-14 02:14:23.000000000 +0100
+++ linux-2.6.20-rc1/arch/i386/defconfig	2006-12-23 11:13:07.000000000 +0100
@@ -1167,7 +1167,7 @@
 # USB Input Devices
 #
 CONFIG_USB_HID=y
-# CONFIG_USB_HID_POWERBOOK is not set
+# CONFIG_USB_HIDINPUT_POWERBOOK is not set
 # CONFIG_HID_FF is not set
 # CONFIG_USB_HIDDEV is not set
 # CONFIG_USB_AIPTEK is not set
diff -ur linux-2.6.20-rc1-orig/arch/sparc64/defconfig linux-2.6.20-rc1/arch/sparc64/defconfig
--- linux-2.6.20-rc1-orig/arch/sparc64/defconfig	2006-12-14 02:14:23.000000000 +0100
+++ linux-2.6.20-rc1/arch/sparc64/defconfig	2006-12-23 11:13:07.000000000 +0100
@@ -1103,7 +1103,7 @@
 # USB Input Devices
 #
 CONFIG_USB_HID=y
-# CONFIG_USB_HID_POWERBOOK is not set
+# CONFIG_USB_HIDINPUT_POWERBOOK is not set
 # CONFIG_HID_FF is not set
 CONFIG_USB_HIDDEV=y
 # CONFIG_USB_AIPTEK is not set
diff -ur linux-2.6.20-rc1-orig/arch/x86_64/defconfig linux-2.6.20-rc1/arch/x86_64/defconfig
--- linux-2.6.20-rc1-orig/arch/x86_64/defconfig	2006-12-14 02:14:23.000000000 +0100
+++ linux-2.6.20-rc1/arch/x86_64/defconfig	2006-12-23 11:13:07.000000000 +0100
@@ -1191,7 +1191,7 @@
 # USB Input Devices
 #
 CONFIG_USB_HID=y
-# CONFIG_USB_HID_POWERBOOK is not set
+# CONFIG_USB_HIDINPUT_POWERBOOK is not set
 # CONFIG_HID_FF is not set
 # CONFIG_USB_HIDDEV is not set
 # CONFIG_USB_AIPTEK is not set
diff -ur linux-2.6.20-rc1-orig/drivers/usb/input/Kconfig linux-2.6.20-rc1/drivers/usb/input/Kconfig
--- linux-2.6.20-rc1-orig/drivers/usb/input/Kconfig	2006-12-14 02:14:23.000000000 +0100
+++ linux-2.6.20-rc1/drivers/usb/input/Kconfig	2006-12-23 11:08:28.000000000 +0100
@@ -28,7 +28,7 @@
 comment "Input core support is needed for USB HID input layer or HIDBP support"
 	depends on USB_HID && INPUT=n
 
-config USB_HID_POWERBOOK
+config USB_HIDINPUT_POWERBOOK
 	bool "Enable support for iBook/PowerBook special keys"
 	default n
 	depends on USB_HID