Date: Mon, 25 Apr 2005 11:00:02 -0500
From: Joel Schopp <>
Subject: Re: Hotplug CPU and setaffinity?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/25/96

>>The affinity of the process is reset to the default and it is migrated
>>to another cpu, for better or worse.  The kernel assumes the admin
>>know what he/she is doing.
> 
> 
> Yeh that's ok - is there anything that would hotplug a cpu
> automatically; say on receiving some MCEs ; and thus not
> give the admin a look in.
On ppc64 we have CPU guard, which would remove a processor if it is 
failing.  Of course, the implications of not removing such a CPU are 
pretty terrible.
> 
> 
>>>In particular I was thinking of the cases where a thread has a
>>> functional reason for remaining on one particular CPU (e.g. if you
>>>had calibrated for some feature of that CPU say its time stamp
>>>counter skew/speed). Another case would be a set of threads which
>>>had set their affinity to the same CPU and then made memory
>>>consistency or locking assumptions that wouldn't be valid
>>>if they got rescheduled onto different CPUs.
This sounds like a theoretical problem.  Can you think of any real 
examples?  The only cases I can think of cause performance hits, but not 
functional problems.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/