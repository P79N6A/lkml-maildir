Date: Mon, 2 May 2005 17:31:57 +0200
From: Damir Perisa <>
Subject: Re: 2.6.12-rc3-mm2 - kswapd0 keeps running
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/2/50

Le Monday 02 May 2005 08:01, Damir Perisa a écrit :
> sure. i recompiled the kernel with magic keys and debugger activated
> [1], and kswapd0 does idle normally, now. it seems to solve my issue,
> but i don't know why.
now, running the debug-enabled kernel for some time (the whole day - ~7h 
uptime), kswapd0 shows same sympthoms (started at around 4h uptime). it 
is triggered later than before (where it started almost immediately after 
boot), but now i get something more interesting from Regs:
[4314013.408000] SysRq : Show Regs
[4314013.408000]
[4314013.408000] Pid: 156, comm:              kswapd0
[4314013.408000] EIP: 0060:[<c05acc49>] CPU: 0
[4314013.408000] EIP is at _write_lock_irqsave+0x79/0xb0
[4314013.408000]  EFLAGS: 00000282    Not tainted  (2.6.12-rc3-mm2-ARCH)
[4314013.408000] EAX: c15e8ec0 EBX: efb9586c ECX: c15e8ee0 EDX: 00000001
[4314013.408000] ESI: efcc2000 EDI: efb9586c EBP: efcc3ee4 DS: 007b ES: 
007b
[4314013.408000] CR0: 8005003b CR2: b58a4000 CR3: 254e6000 CR4: 00000690
[4314013.408000]  [<c0375be4>] __cachefs_block_put+0x24/0x80
[4314013.408000]  [<c037dae0>] cachefs_releasepage+0x60/0xc0
[4314013.408000]  [<c0154be2>] shrink_list+0x492/0x560
[4314013.408000]  [<c0154fc0>] shrink_cache+0xa0/0x1d0
[4314013.408000]  [<c01555fe>] shrink_zone+0xae/0xe0
[4314013.408000]  [<c0155af1>] balance_pgdat+0x261/0x3f0
[4314013.408000]  [<c013c7e0>] prepare_to_wait+0x20/0x70
[4314013.408000]  [<c0155d64>] kswapd+0xe4/0x140
[4314013.408000]  [<c013c910>] autoremove_wake_function+0x0/0x60
[4314013.408000]  [<c0103142>] ret_from_fork+0x6/0x14
[4314013.408000]  [<c013c910>] autoremove_wake_function+0x0/0x60
[4314013.408000]  [<c0155c80>] kswapd+0x0/0x140
[4314013.408000]  [<c0101225>] kernel_thread_helper+0x5/0x10
hope this helps to find out how to solve it. 
greetings,
Damir
-- 
It is much easier to suggest solutions when you know nothing about the 
problem.
[unhandled content-type:application/pgp-signature]