Date: Fri, 12 Sep 2003 18:00:24 -0300
From: Marcelo Penna Guerra <>
Subject: Re: SII SATA request size limit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/12/223

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Alan Cox escreveu:
> It will depend what disks you have.
A friend from a forum found out this on NetBSD:
/* 
     * Rev. <= 0x01 of the 3112 have a bug that can cause data 
     * corruption if DMA transfers cross an 8K boundary.  This is 
     * apparently hard to tickle, but we'll go ahead and play it 
     * safe. 
     */ 
    if (PCI_REVISION(pa->pa_class) <= 0x01) { 
       sc->sc_dma_maxsegsz = 8192; 
       sc->sc_dma_boundary = 8192; 
    }
It seems to be a bug only in the first revisions of the chip. Can anyone 
confirm this? My chip is revision 2 and it doesn't have this bug.
> You can up it again at runtime.
How do I set the rqsize on 2.6.x?
Marcelo Penna Guerra
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)
iD8DBQE/YjPvD/U0kdg4PFoRAusNAKDiLWwPFAmmCH9L4AwhpKIkh5zkzQCeJ8JT
YRgXP0NIoM8hcWH8RvzwYr0=
=Z6aZ
-----END PGP SIGNATURE-----
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/