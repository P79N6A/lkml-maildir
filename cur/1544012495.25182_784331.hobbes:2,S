Date: Sat, 27 Dec 2008 09:46:58 +0000
From: David Howells <>
Subject: Re: [BUG] next-20081216 - WARNING: at kernel/smp.c:333 smp_call_function_mask
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/27/47

Sam Ravnborg <sam@ravnborg.org> wrote:
> I recall David Howells had a similar issue with the bootparamter patch set.
> The workaround he used was to add a barrier(); call in the weak function
> to avoid the inline.
Yes I did.  Rusty's solution was just to move the default weak functions into
different files.
Attempting to use the noinline attribute does not work.
Of course, you could just stick the functions into lib/ in separate .c files
and dispense with the weak attribute altogether.
David