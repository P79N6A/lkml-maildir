Date: Mon, 04 Nov 2002 08:06:39 -0000
From: "Gabor Z. Papp" <>
Subject: Re: 2.4.20-rc1 [SCSI] local symbols in discarded section .text.exit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/4/20

* Gabor Z. Papp <gzp@myhost.mynet>:
| Linux 2.4.20-rc1
| glibc 2.2.5
| gcc 2.95.4
| GNU ld version 2.13.90.0.10 20021010
| 
| make[1]: Leaving directory `/usr/src/linux-2.4.20-rc1-ibm/arch/i386/lib'
| ld -m elf_i386 -T /usr/src/linux-2.4.20-rc1-ibm/arch/i386/vmlinux.lds -e stext arch/i386/kernel/head.o arch/i386/kernel/init_task.o init/main.o init/version.o init/do_mounts.o \
|        --start-group \
|        arch/i386/kernel/kernel.o arch/i386/mm/mm.o kernel/kernel.o mm/mm.o fs/fs.o ipc/ipc.o \
|         drivers/char/char.o drivers/block/block.o drivers/misc/misc.o drivers/net/net.o drivers/media/media.o drivers/scsi/scsidrv.o drivers/pci/driver.o drivers/video/video.o \
|        net/network.o \
|        /usr/src/linux-2.4.20-rc1-ibm/arch/i386/lib/lib.a /usr/src/linux-2.4.20-rc1-ibm/lib/lib.a /usr/src/linux-2.4.20-rc1-ibm/arch/i386/lib/lib.a \
|        --end-group \
|        -o vmlinux
| drivers/scsi/scsidrv.o(.data+0x3ad4): undefined reference to `local symbols in discarded section .text.exit'
| drivers/scsi/scsidrv.o(.data+0x3b14): undefined reference to `local symbols in discarded section .text.exit'
| drivers/scsi/scsidrv.o(.data+0x3b54): undefined reference to `local symbols in discarded section .text.exit'
| make: *** [vmlinux] Error 1
| 
| #
| # Automatically generated make config: don't edit
| #
| CONFIG_X86=y
[...]
| CONFIG_SCSI_IPS=y
[...]
Keith Owens wrote a nice perl script to debug, found on 
http://kernelnewbies.org/scripts/
$ reference_discarded.pl 
Finding objects, 396 objects, ignoring 0 module(s)
Finding conglomerates, ignoring 31 conglomerate(s)
Scanning objects
Error: ./drivers/scsi/ips.o .data refers to 000000d4 R_386_32          .text.exit
Error: ./drivers/scsi/ips.o .data refers to 00000114 R_386_32          .text.exit
Error: ./drivers/scsi/ips.o .data refers to 00000154 R_386_32          .text.exit
Done
Seems like its the IBM ServeRAID support.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/