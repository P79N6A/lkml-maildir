Date: Sat, 8 May 1999 16:48:40 -0700 (PDT)
From: Cacophonix Gaul <>
Subject: Re: 2.2.7 fixes Apache problem? (Was: Re: 2.2.5 optimizations for web benchmarks?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/8/63

I'm not sure if I can say that 2.2.7 _fixes_ the apache problem or
merely _masks_ it. 
With 2.2.7, the tcp performance (to certain clients) has
gone up quite a bit due to some tcp changes (initial snd_cwnd, etc.).
In fact, it's gone up so much, that apache is no longer bottlenecked
in my setup - I'm now constrained by disk I/O performance, since 
specweb loads (and filesets) are much higher than can be accomodated 
in memory.
In other words, in 2.2.5, I was able to get the apache performance
collapse after pushing it beyond the limit. In 2.2.7, I haven't been
able to push apache beyond the limit, at least not on my
dual PII/450, 512 MB RAM system.
cheers,
karthik
> 
http://bugs.apache.org/index/full/4268,
 saying:
> > I'm running some specweb tests on apache, and with the specific config file
> > from the distribution, performance drastically drops after reaching
> > high loads - and remains poor even after the specweb tests stop.
> 
> This happened on kernel 2.2.5 with Apache 1.3.4 and 1.3.6.
> 
> Fast forward two weeks to the present.  He now reports:
> >  The mystery continues. I got round to trying out 1.3.6 again this evening,
> >  this time on 2.2.7. I did _not_ see the performance drop off. Just to 
> verify,
> >  I rechecked on the stock 2.2.5 kernel, and the drop off is there.
> > 
> >  So _something_ has been fixed between 2.2.5 and 2.2.7 that has made this 
> problem
> >  go away. I'll keep plugging away as I get spare time to see if I can get 
> the
> >  problem to occur. 
> 
> Makes one want to repeat Mindcraft's Apache benchmark with 2.2.7,
> doesn't it?
> - Dan
> 
> 
http://www.kegel.com/mindcraft_redux.html
_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at 
http://mail.yahoo.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/