Date: Tue, 29 Nov 2005 20:26:05 -0500
From: Michael Krufky <>
Subject: Re: Gene's pcHDTV 3000 analog problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/11/29/250

Kirk Lapray wrote:
> There are some i2c commands sent in cx88-cards.c, but that should only 
> happen with the HDTV Wonder.
>
> The nxt200x should only be sending i2c commands if it detects a 
> NXT2002 or NXT2004 chip.  You can set the nxt200x module to load with 
> debug=1 to see if it is doing something that it shouldn't.  The only 
> thing that I can think of is that the auto detecting of NXT2002 and 
> NXT2004 is not working like it is supposed to.  If you do not have a 
> NXT2002 or NXT2004 based card the nxt200x module should not do 
> anything.  The only i2c command in the attach function is to read the 
> card id.
>
> From what I have seen the only device that is made visible is the 
> tuner.  This allows the tuner modules to connect to it.  It basically 
> turns on the tuner, and this should only happen on NXT2004 based cards.
Don Koch wrote:
>>If this fixes your problem, then we know that nxt200x is the cause.
>> 
>>
>No difference.
>
>Back to looking at the code...
> 
>
Okay, it looks like nxt200x is a red herring, sorry for the false 
alarm.  Even still, Kirk, it would be very helpful if you could confirm 
analog video functionality of your pcHDTV 3000 board, using either 
2.6.15-rc3, or v4l-dvb cvs on top of any kernel version.
...But before that, please first try it in your current configuration.
I do not have this board, and there *IS* a problem with it... Based on 
the tests done by Gene and Don, it looks like the regression is inside 
the v4l code, although this doesnt make any sense, as other cards with 
similar hardware are not affected.
I don't know any of the specifics about this board, besides the fact 
that is has OR51132 (irrelevant - the problem exists even without 
cx88-dvb loaded) Thomson DDT 7610, and a cx2388x chip.
I have two cx88 boards of my own - FusionHDTV5 Gold, everything works 
fine, both analog and digital.  FusionHDTV3 Gold-T, using Thomson DDT 
7611 (same as 7610) , and digital works, but the analog tuner is 
completely broken, regardless of what kernel version, regardless of 
whether I'm using Linux or windows, and it used to work a few months ago.
I think my hardware is fried, but since Gene is able to restore 
functionality by a cold boot into 2.6.14.2, it makes me think his 
problem is because of bad code, where my problem is due to bad hardware.
All I can think of doing next is to have Gene, Don or Perry do a 
bisection test on our cvs repo.... checking out different cvs revisions 
until we can narrow it down to the day the problem patch was applied.
::sigh::
Who wants to do it?  I'll give you detailed instructions if you're willing.
Regards,
Mike
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/