Date: Tue, 28 Oct 2003 19:26:09 +0000
From: Christopher Fraser <>
Subject: Mouse and keyboard problems with 2.6.0-test9
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/28/122

I've been having mouse and keyboard problems with kernels since 
2.6.0-test6 (at least).  The machine I'm testign with has a Supermicro 
X5DA8 (Intel E7507 chipset) motherboard with two 3Ghz Xeon CPUs and was 
install with Red Hat 9 and updates modutils, kinitrd etc.
When doing large amounts of I/O (we're reading > 300MB/s from disk, 
processing it and downloading it across AGP) while running XFree86 the 
psmouse gets into a state where it loses synchronisation and cannot 
recover. The pointer warps to the top right of the desktop and moving 
the mouse generates spurious mouse down events.  Switching to a virtual 
console and back to the X desktop sometimes recovers, but usually not. 
I've tried the psmouse_noext option, various rates including 200 (which 
seemed to make things better for a while) and the recent psmouse_rate 
with the rate to 0 without success.  I've also tried a generic Dell 
wheelmouse and and one of those optical Microsoft Intellimouse things.
The keyboard problem is that atkbd.c gets into a state where it starts 
generating message like the following for each key press:
Unknown key pressed (translated set 2, code 0x0, data 0x0, on 
isa0060/serio0)
These flood the console, making the machine difficult to use.  This 
mostly happens when I switch between XFree86 and virtual consoles, so it 
may be due to my generic PS2 keyboard generating spurious release events 
(as mentioned previously 
<
http://www.ussg.iu.edu/hypermail/linux/kernel/0309.1/2185.html>
).  
Commenting out the warning in atkdb.c makes the console usable again.
Any suggestions on things to try would be greatfully appreciated.
Regards,
Christopher.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/