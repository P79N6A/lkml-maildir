Date: Tue, 11 Dec 2007 23:08:12 +0100
From: "Rafael J. Wysocki" <>
Subject: Re: + revert-hibernation-enter-platform-hibernation-state-in-a-consistent-way.patch added to -mm tree
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/11/242

On Tuesday, 11 of December 2007, Andrew Morton wrote:
> On Tue, 11 Dec 2007 15:01:13 +0200 Maxim Levitsky <maximlevitsky@gmail.com> wrote:
> 
> > On Tuesday 11 December 2007 11:58:09 akpm@linux-foundation.org wrote:
> > > 
> > > The patch titled
> > >      revert "Hibernation: Enter platform hibernation state in a consistent way"
> > > has been added to the -mm tree.  Its filename is
> > >      revert-hibernation-enter-platform-hibernation-state-in-a-consistent-way.patch
> > > 
> > > *** Remember to use Documentation/SubmitChecklist when testing your code ***
> > > 
> > > See 
http://www.zip.com.au/~akpm/linux/patches/stuff/added-to-mm.txt
 to find
> > > out what to do about this
> > > 
> > > ------------------------------------------------------
> > > Subject: revert "Hibernation: Enter platform hibernation state in a consistent way"
> > > From: Andrew Morton <akpm@linux-foundation.org>
> > > 
> > > Revert
> > > 
> > >     commit 9cd9a0058dd35268b24fa16795a92c800f4086d4
> > >     Author: Rafael J. Wysocki <rjw@sisk.pl>
> > >     Date:   Thu Oct 18 03:04:56 2007 -0700
> > > 
> > >         Hibernation: Enter platform hibernation state in a consistent way
> > > 
> > > Because it causes my t61p's suspend-to-RAM to immediately do a
> > > resume-from-RAM.
> > Noooo....
> > 
> > First of all, this commit doesn't touch the S3, so you probably
> > mean S4.
> 
> Nope, I meant suspend-to-RAM.  The t61p was auto-resuming during
> suspend-to-RAM.  However I just went in to confirm the fix and the bug (a
> regression) has just gone away altogether(!).   I'll keep an eye on it.
However, please don't revert
hibernation-enter-platform-hibernation-state-in-a-consistent-way.patch, as it's
needed for the RTC wakealarm and some other things to work and it really,
really can't break suspend to RAM. :-)
[Or if it does, start looking for a new compiler ...]
Thanks,
Rafael