Date: Tue, 22 Oct 2002 00:07:16 -0500
From: Jeff Dike <>
Subject: Re: [PATCH] linux-2.5.43_vsyscall_A0
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/21/409

andrea@suse.de said:
> yes, this is true for all the syscalls, if that's a problem uml isn't
> an option for the user in the first place. 
Not true.  Any marginal increase in performance will make a number of 
applications fast enough that they become practical in UML.  Since there
are apps which, to a first order approximation, do nothing but call 
gettimeofday, they are not usable in UML today, but could become usable if
UML had vgettimeofday.  I've had complaints about this, so the need is
definitely there.
> what do you plan to do to make all other syscall faster? 
Right now, a UML syscall involves four host context switches and a host
signal delivery and return.  I'm merging some changes which will reduce
that to two host context switches and no signals.  Once that's done, I'm
going to look for more improvements.
> My problem is that mapping user code into the vsyscall fixmap is
> complex and not very clean at all, breaks various concepts in the mm
> and last but not the least it is slow
Can you explain, in small words, why mapping user code is so horrible?
				Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/