Date: Tue, 27 Jan 2004 10:27:06 +1100
From: Nick Piggin <>
Subject: Re: Strange xmms deaths under high disk load
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/26/182

Måns Rullgård wrote:
>I have encountered a very strange (to me, at least) error.  I can
>reliably cause xmms to crash by simply doing some intensive disk IO.
>Copying a few hundred megabytes usually does it.  After about 20
>seconds of heavy disk IO, xmms will die with this message:
>
>** WARNING **: snd_pcm_wait: Input/output error
>Xlib: unexpected async reply (sequence 0x2ef5c)!
>
>The hex number varies.
>
>The machine is an Alpha SX164 running Linux 2.6.2-rc2 patched up to
>ALSA 1.0.1.  The problem has been around for quite a while, probably
>also with kernel 2.4.21, though I can't confirm that at the moment.
>The sound card is a cmi8738.
>
>If I play music with TCVP instead, it keeps playing, but sound is
>choppy at intervals.  Below is vmstat output during a copying.
>
>procs -----------memory---------- ---swap-- -----io---- --system-- ----cpu----
> r  b   swpd   free   buff  cache   si   so    bi    bo   in    cs us sy id wa
> 0  0      0  86128   3424 165920    0    0    66    66   24     4 23 23 54  0
> 0  0      0  86128   3424 165920    0    0     0     0 1131  1352 17 14 69  0
> 0  0      0  86128   3424 165920    0    0     0     0 1128  1360 13  4 84  0
> 0  0      0  86128   3424 165920    0    0     0     0 1129  1351 13  4 84  0
> 0  0      0  86128   3424 165920    0    0     0   153 1142  1361 14  3 83  0
> 0  0      0  86128   3424 165920    0    0     0     0 1127  1353 14  4 83  0
> 0  0      0  86128   3424 165920    0    0     0     0 1128  1348 12  3 84  0
> 0  0      0  86128   3424 165920    0    0     0     0 1130  1344 17 15 69  0
> 0  0      0  86000   3424 166048    0    0   128     0 1132  1356 13  3 84  0
>
...
>11  2      0   2400   3392 246368    0    0   768 26112  969   626 25 71  0  3
>
...
>11  0      0   3040   1704 248160    0    0     0 33704  696    58 10 90  0  0
>
...
>
> 1  1      0   2528   1736 250608    0    0  1756 21332  965   590 35 56  0  8
>
Looks like you might be losing timer interrupts, possibly caused
by an IDE disk doing PIO?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/