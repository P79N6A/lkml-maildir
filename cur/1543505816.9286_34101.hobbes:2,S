Date: Sat, 14 Aug 1999 15:52:24 +0200
From: Christian Ullrich <>
Subject: Kernel Oops (Kernel version 2.2.11)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/16/48

[1.] One line summary of the problem:    
Oops while accessing hard disk
[2.] Full description of the problem/report:
This is the second of two Oopses with 2.2.11 (in one day). They
both showed ext2-functions involved. The first, which I can't
report (new kernel compiled, but not running at the time), occured
while the Mutt MUA was reading a mailbox, this one while xcdroast
(its mydd) was creating an image file. The hard disk was /dev/hda.
[3.] Keywords (i.e., modules, networking, kernel):
file system, e2fs, ext2
[4.] Kernel version (from /proc/version):
Linux version 2.2.11 (root@christian) (gcc version 2.95 19990728 (release)) #2 Thu Aug 12 21:15:52 MEST 1999
[5.] Output of Oops.. message (if applicable) with symbolic information 
     resolved (see Documentation/oops-tracing.txt)
Options used: -v /usr/src/linux/vmlinux (specified)
              -o /lib/modules/2.2.11 (specified)
              -k /proc/ksyms (specified)
              -l /proc/modules (default)
              -m /boot/System.map (specified)
              -c 1 (default)
Aug 14 14:48:37 christian kernel: Unable to handle kernel paging request at virtual address 00040000
Aug 14 14:48:37 christian kernel: current->tss.cr3 = 075de000, %cr3 = 075de000
Aug 14 14:48:37 christian kernel: *pde = 00000000
Aug 14 14:48:37 christian kernel: Oops: 0000
Aug 14 14:48:37 christian kernel: CPU:    0
Aug 14 14:48:37 christian kernel: EIP:    0010:[find_buffer+40/76]
Aug 14 14:48:37 christian kernel: EFLAGS: 00010206
Aug 14 14:48:37 christian kernel: eax: 00040000   ebx: 000104cd   ecx: 0000030b   edx: 00040000
Aug 14 14:48:37 christian kernel: esi: 00000400   edi: 000104cd   ebp: 00000020   esp: 87623e88
Aug 14 14:48:37 christian kernel: ds: 0018   es: 0018   ss: 0018
Aug 14 14:48:37 christian kernel: Process mydd (pid: 21457, process nr: 59, stackpage=87623000)
Aug 14 14:48:37 christian kernel: Stack: 8013eac4 0000030b 000104cd 00000400 000000a9 00000100 858e42a0 00000000 
Aug 14 14:48:37 christian kernel:        00000400 85cfdc80 00000002 00000100 000104ad 00000000 00000020 8013ed0d 
Aug 14 14:48:37 christian kernel:        85ba9320 0000a90c 854006a0 858e42a0 00000000 85ba9320 00000000 85ba93f0 
Aug 14 14:48:37 christian kernel: Call Trace: [trunc_indirect+388/664] [trunc_dindirect+309/352] [ext2_truncate+143/476] [do_truncate+84/128] [do_truncate+104/128] [permission+36/264] [open_namei+770/848] 
Aug 14 14:48:37 christian kernel: Code: 8b 00 39 5a 04 75 11 39 72 08 75 0c 66 39 4a 0c 75 06 89 d0
Code:  00000000 Before first symbol            00000000 <_IP>: <===
Code:  00000000 Before first symbol               0:	8b 00                	mov    (%eax),%eax <===
Code:  00000002 Before first symbol               2:	39 5a 04             	cmp    %ebx,0x4(%edx)
Code:  00000005 Before first symbol               5:	75 11                	jne     00000018 Before first symbol
Code:  00000007 Before first symbol               7:	39 72 08             	cmp    %esi,0x8(%edx)
Code:  0000000a Before first symbol               a:	75 0c                	jne     00000018 Before first symbol
Code:  0000000c Before first symbol               c:	66 39 4a 0c          	cmp    %cx,0xc(%edx)
Code:  00000010 Before first symbol              10:	75 06                	jne     00000018 Before first symbol
Code:  00000012 Before first symbol              12:	89 d0                	mov    %edx,%eax
[No warnings were issued.]
[6.] A small shell script or example program which triggers the
     problem (if possible)
[7.] Environment
BASH=/bin/bash
BASH_VERSINFO=([0]="2" [1]="02" [2]="1" [3]="1" [4]="release" [5]="i586-pc-linux-gnu")
BASH_VERSION='2.02.1(1)-release'
COLORTERM=1
COLUMNS=80
DIR=/usr/local/pgsql/man
DIRSTACK=()
EUID=0
FROM_HEADER=christian.ullrich.net
GNOMEDIR=/opt/gnome
GROUPS=()
HISTCONTROL=ignoredups
HISTFILE=/root/.bash_history
HISTFILESIZE=500
HISTSIZE=500
HOME=/root
HOSTNAME=christian
HOSTTYPE=i586
HUSHLOGIN=FALSE
HZ=100
IFS=' 	
'
INFODIR=/usr/local/info:/usr/info:/usr/local/teTeX/info
INFOPATH=/usr/local/info:/usr/info:/usr/local/teTeX/info
KDEDIR=/opt/kde
LESS='-M -S -I'
LESSCHARSET=latin1
LESSKEY=/etc/lesskey.bin
LESSOPEN='|lesspipe.sh %s'
LINES=25
LOGNAME=root
LS_COLORS='no=00:fi=00:di=01;34:ln=01:pi=40;33:so=01;35:bd=40;33;01:cd=40;33;01:ex=01;31:*.cmd=01;32:*.exe=01;32:*.com=01;32:*.btm=01;32:*.bat=01;32:*.tar=00;31:*.tgz=00;31:*.rpm=00;31:*.arj=00;31:*.taz=00;31:*.lzh=00;31:*.zip=00;31:*.z=00;31:*.Z=00;31:*.gz=00;31:*.bz2=00;31:*.jpg=01;35:*.gif=01;35:*.bmp=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.png=01;35:'
LS_OPTIONS='-a -N --color=tty -T 0'
MACHINE=i586
MACHTYPE=i586-pc-linux-gnu
MAIL=/var/spool/mail/root
MAILCHECK=60
MANPATH=/usr/local/man:/usr/man:/usr/X11R6/man:/usr/openwin/man:/usr/man/de:/usr/local/teTeX/man:/usr/local/pgsql/man
MINICOM='-c on'
NNTPSERVER=localhost
OLDPWD=/usr/src/linux/scripts
OPENWINHOME=/usr/openwin
OPTERR=1
OPTIND=1
OSTYPE=linux-gnu
PAGER=less
PATH=/sbin:/usr/sbin:/root/bin:/usr/local/bin:/usr/bin:/usr/X11R6/bin:/bin:/usr/openwin/bin:/usr/games/bin:/usr/local/pgsql/bin:/usr/games:/opt/gnome/bin:/usr/local/teTeX/bin/i586-pc-linux-gnu:/opt/kde/bin:/usr/lib/jdk1.2/bin:/usr/local/gnome/bin:/usr/local/gnome/enlightenment/bin:/usr/bin/mh
PGDATA=/usr/local/pgsql/data
PGLIB=/usr/local/pgsql/lib
PIPESTATUS=([0]="1")
POVRAYOPT=-l/usr/lib/povray/include
PPID=1
PRINTER=lp
PROFILEREAD=true
PS1='\h:\w # '
PS2='> '
PS4='+ '
PWD=/usr/src/linux
QTDIR=/usr/lib/qt
RASMOLPATH=/usr/lib/rasmol
RC_LANG=german
SHELL=/bin/bash
SHELLOPTS=braceexpand:hashall:histexpand:monitor:privileged:ignoreeof:interactive-comments:emacs
SHLVL=1
TERM=linux
TEXINPUTS=':~/.TeX:/usr/doc/.TeX'
UID=0
USER=root
WINDOWMANAGER=/usr/X11R6/bin/kde
XKEYSYMDB=/usr/X11R6/lib/X11/XKeysymDB
XNLSPATH=/usr/X11R6/lib/X11/nls
_=-V
ignoreeof=0
no_proxy=localhost
s=/etc/profile.d/sp.sh
startx=() 
{ 
    /usr/X11R6/bin/startx $* 2>&1 | tee ~/.X.err
}
[7.1.] Software (add the output of the ver_linux script here)
Linux christian 2.2.11 #2 Thu Aug 12 21:15:52 MEST 1999 i586 unknown
Kernel modules         2.2.2-pre6
Gnu C                  2.95
Binutils               2.9.4.0.7
Linux C Library        2.1.1
Dynamic linker         ldd (GNU libc) 2.1.1
Linux C++ Library      2.7.2
Procps                 1.2.11
Mount                  2.9i
Net-tools              1.50
Kbd                    0.99
Sh-utils               1.12
Modules Loaded         ppp slhc dummy0 nls_iso8859-1 nls_cp437 vfat fat unix
[7.2.] Processor information (from /proc/cpuinfo):
processor	: 0
vendor_id	: GenuineIntel
cpu family	: 5
model		: 4
model name	: Pentium MMX
stepping	: 4
cpu MHz		: 200.456554
fdiv_bug	: no
hlt_bug		: no
sep_bug		: no
f00f_bug	: yes
coma_bug	: no
fpu		: yes
fpu_exception	: yes
cpuid level	: 1
wp		: yes
flags		: fpu vme de pse tsc msr mce cx8 mmx
bogomips	: 399.77
[7.3.] Module information (from /proc/modules):
ppp                    20012   0 (autoclean)
slhc                    4328   0 (autoclean) [ppp]
dummy0                   684   1 (autoclean)
nls_iso8859-1           2020   2 (autoclean)
nls_cp437               3548   2 (autoclean)
vfat                    9180   2 (autoclean)
fat                    30400   2 (autoclean) [vfat]
unix                   10076   4 (autoclean)
[7.4.] SCSI information (from /proc/scsi/scsi)
Attached devices: 
Host: scsi0 Channel: 00 Id: 03 Lun: 00
  Vendor: YAMAHA   Model: CRW4416S         Rev: 1.0f
  Type:   CD-ROM                           ANSI SCSI revision: 02
[7.5.] Other information that might be relevant to the problem
       (please look in /proc and include all information that you
       think to be relevant):
[X.] Other notes, patches, fixes, workarounds:
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/