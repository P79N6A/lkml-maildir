Date: Tue, 12 Jul 2005 10:16:38 -0500
From: Tom Zanussi <>
Subject: Re: Merging relayfs?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/12/193

=?ISO-8859-2?Q?Tomasz_K=B3oczko?= writes:
 > On Mon, 11 Jul 2005, Tom Zanussi wrote:
 > 
 > >
 > > Hi Andrew, can you please merge relayfs?  It provides a low-overhead
 > > logging and buffering capability, which does not currently exist in
 > > the kernel.
 > >
 > > relayfs key features:
 > >
 > > - Extremely efficient high-speed logging/buffering
 > 
 > Usualy/for now relayfs is used as base infrastructure for variuos
 > debuging/measuring.
 > IMO storing raw data and transfer them to user space it is wrong way.
 > Why ? Becase i adds very big overhead for memory nad storage.
 > Big .. compare to in situ storing partialy analyzed data in conters
 > and other like it is in DTrace.
 > 
But isn't it supposed to be a good thing to keep analysis out of the
kernel if possible?  And many things can't be aggregated, such as the
detailed sequence of events in a trace.  Anyway, it doesn't have to be
an 'all or nothing' thing.  For some applications it may make sense to
do some amount of filtering and aggregation in the kernel.  AFAICS
DTrace takes this to the extreme and does everything in the kernel,
and IIRC it can't easily be made to general system tracing along the
lines of LTT, for instance.
 > IMO much better will be add base/template set of functions for use in 
 > KProbes probes which will come with KProbes code as base tool set. It will 
 > allow cut transfered data size from megabites/gigabyutes to hundret 
 > bytes/kilo bytes, make debuging/measuring more smooth without additional 
 > latency for transfer data outside kernel space.
The systemtap project is using kprobes along these lines.
Tom
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/