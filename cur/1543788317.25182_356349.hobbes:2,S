Date: Thu, 06 Oct 2005 20:14:36 +1000
From: Nick Piggin <>
Subject: Re: [PATCH] Free swap suspend from dependency on PageReserved
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/6/61

Nigel Cunningham wrote:
> From: Nigel Cunningham <nigel@suspend2.net>
> 
> This patch removes the dependency that swap suspend currently has on
> PageReserved. In the places where PageReserved is currently set and
> cleared, we also set and clear PageNosave, and in swap suspend itself,
> we only reference PageNosave. The ongoing effort at freeing PageReserved
> thus achieves another step forward.
> 
Any reason you can't use page_is_ram directly? I would rather you
do this than moving swsusp specific flags out into the wider tree.
The reason is that these flags now become just as hard to kill as
PageReserved is.
You'll have to slightly modify i386's page_is_ram, because it
appears that you'll actually want
   'page_is_ram(pfn) && !(bad_ppro && page_kills_ppro(pfn))'
Thanks, glad someone is looking into this!
Nick
-- 
SUSE Labs, Novell Inc.
Send instant messages to your online friends 
http://au.messenger.yahoo.com
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/