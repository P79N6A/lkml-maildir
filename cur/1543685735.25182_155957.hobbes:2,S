Date: Sat, 9 Aug 2003 10:07:14 -0700
From: Greg KH <>
Subject: Re: [BK PATCH] More PCI fixes for 2.6.0-test2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/9/105

On Sat, Aug 09, 2003 at 09:15:24AM +0100, Russell King wrote:
> On Fri, Aug 08, 2003 at 05:30:36PM -0700, Greg KH wrote:
> > Here are a few more fixes for the PCI core code for 2.6.0-test2-bk.
> > I've removed all of the struct device.name usages as that field is about
> > to go away, and there is a fix from Ivan in here too.
> 
> When was that decided?  I don't remember seeing any discussion, and since
> it affects more than PCI... Seems like a backwards step to me.
We discussed this at OLS/Kernel Summit.  I sure thought you were there
for that conversation.  The PnP, USB, I2C, and PCI core is already
cleaned up, with patches in 2.6.0-test3, and I have a patch around here
that fixes up the rest of the kernel (SCSI, PCMCIA, and then the driver
core.)  I'll send them out next week.
Basically, we don't want to be carrying around info if we don't really
need it (like the PCI names database.)  All of this info can already be
found from userspace programs, with a few exceptions.  I2C is one such
exception, so I've added the name back into the local structure (and
will export it to sysfs once the driver core 'name' file removal patch
is in.)   
This is a nice memory savings for the majority of the users of the
struct device structure.
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/