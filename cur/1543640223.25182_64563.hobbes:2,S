Date: Fri, 16 Aug 2002 20:36:38 +0200
From: Ricardo Galli <>
Subject: BUG: 2.4.19 and Promise 20267 doesn't recognise ide raid
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/16/140

Just upgraded a server from 2.4.17 to 2.4.19, had to go down to 2.4.18. 
It doesn't boot with 2.4.19, the error is (ish, messages are not logged 
because the disk cannot be mounted, neither the root filesystem):
- RAID cannot be found.
- Cannot mount root FS.
I checked that drivers/ide/pdc202xx.c has been changed extensively from 
2.4.18 to 2.4.19.
I believes the config is the right one (at least similar to the working 
2.4.17 and 2.4.18):
CONFIG_BLK_DEV_PDC202XX=y
CONFIG_PDC202XX_BURST=y
CONFIG_PDC202XX_FORCE=y
# CONFIG_BLK_DEV_SVWKS is not set
# CONFIG_BLK_DEV_SIS5513 is not set
# CONFIG_BLK_DEV_SLC90E66 is not set
# CONFIG_BLK_DEV_TRM290 is not set
# CONFIG_BLK_DEV_VIA82CXXX is not set
# CONFIG_IDE_CHIPSETS is not set
CONFIG_IDEDMA_AUTO=y
# CONFIG_IDEDMA_IVB is not set
# CONFIG_DMA_NONPCI is not set
CONFIG_BLK_DEV_IDE_MODES=y
CONFIG_BLK_DEV_ATARAID=y
CONFIG_BLK_DEV_ATARAID_PDC=y
CONFIG_BLK_DEV_ATARAID_HPT=y
Hope this helps.
-- 
  ricardo
       A paperless office has about as much a chance as a paperless bathroom
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/