Date: Wed, 21 Jul 1999 11:49:31 -0400 (EDT)
From: Chuck Lever <>
Subject: Re: 2.3.10 performance question...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/21/57

On Wed, 21 Jul 1999 kernel@llamas.org wrote:
> I ran a simulation test of Internet traffic to a caching proxy server. The
> test stressed disk activity (more writes than reads), network traffic
> (about 20mb/s sustained), and to some extent CPU (about 20% utilization)
> 
> Running 200k requests (admittedly not a lot) with 100 concurrent
> connections.
> 
> The 2.2.9 kernel (I've yet to try 2.2.10) was about 75% faster than the
> 2.3.10 kernel. This was pretty much exactly opposite of what I expected.
> 
> Can anyone shed some light on this? Is it something as simple as turning
> off some compile time options in the 2.3.x kernel series that hamper
> performance?
did the 2.3.10 run show more CPU idle than the 2.2.9 run?  especially on
write-intensive workloads, the 2.3.7+ kernels seem to wait way more often
than they should.  i haven't been able to track down exactly where the
extra waits are occurring, but it appears that one problem is
balance_dirty() in fs/buffer.c: it seems to wait far more often than is
needed.
classic disclaimer:  the 2.3.x kernels are beta quality, and they need
some performance tuning because of the deep architectural changes they
have undergone recently.
	- Chuck Lever
--
corporate:	<chuckl@netscape.com>
personal:	<chucklever@netscape.net> or <cel@monkey.org>
The Linux Scalability project:
	
http://www.citi.umich.edu/projects/linux-scalability/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/