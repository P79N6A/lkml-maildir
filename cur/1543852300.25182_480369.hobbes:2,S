Date: Wed, 8 Nov 2006 13:58:25 +0100
From: "Hesse, Christian" <>
Subject: Re: invalidate/drop filesystem caches & io buffers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/8/106

On Wednesday 08 November 2006 13:53, Yakov Lerner wrote:
> I'd like to invalidate/free the filesystem caches and io buffer cache
> How can I do this when I can't unmount the filesystem (and w/o reboot) ?
>
> (I run filesystem I/O test that needs to  start from fresh  cache &
> buffer state -- as emty as possible, like right after mount/boot).
>
> I tried  'mount -o remount' but it didn't make any difference
> on the timing. Apparently 'mount -o remount' did not invalidate
> cases/buffers ? ( The difference between fresh run vs non-fresh
> run timing is x5 times ).
You can do
echo 3 > /proc/sys/vm/drop_caches
Take a look at filesystems/proc.txt for details.
-- 
Regards,
Christian
[unhandled content-type:application/pgp-signature]