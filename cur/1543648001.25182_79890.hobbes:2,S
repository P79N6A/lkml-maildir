Date: Mon, 14 Oct 2002 17:17:04 -0700
From: "Martin J. Bligh" <>
Subject: Re: [PATCH] Summit support for 2.5 - now with subarch! [4/5]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/14/331

This just changes summit_check to be called mptable_machine_detect 
to keep people happy.
M.
diff -urpN -X /home/fletch/.diff.exclude subarch-5/arch/i386/kernel/mpparse.c subarch-6/arch/i386/kernel/mpparse.c
--- subarch-5/arch/i386/kernel/mpparse.c	Mon Oct 14 17:02:46 2002
+++ subarch-6/arch/i386/kernel/mpparse.c	Mon Oct 14 17:08:23 2002
@@ -394,7 +394,7 @@ static int __init smp_read_mpc(struct mp
 	str[12]=0;
 	printk("Product ID: %s ",str);
 
-	summit_check(oem, str);
+	mptable_machine_detect(oem, str);
 
 	printk("APIC at: 0x%lX\n",mpc->mpc_lapic);
 
diff -urpN -X /home/fletch/.diff.exclude subarch-5/arch/i386/mach-generic/mach_apic.h subarch-6/arch/i386/mach-generic/mach_apic.h
--- subarch-5/arch/i386/mach-generic/mach_apic.h	Mon Oct 14 17:02:46 2002
+++ subarch-6/arch/i386/mach-generic/mach_apic.h	Mon Oct 14 17:09:00 2002
@@ -20,7
+20,7 @@ static inline unsigned long calculate_ld
 #define APIC_BROADCAST_ID      0x0F
 #define check_apicid_used(bitmap, apicid) (bitmap & (1 << apicid))
-static inline void summit_check(char *oem, char *productid) 
+static inline void mptable_machine_detect(char *oem, char *productid) 
 {
 }
diff -urpN -X /home/fletch/.diff.exclude subarch-5/arch/i386/mach-summit/mach_apic.h subarch-6/arch/i386/mach-summit/mach_apic.h
--- subarch-5/arch/i386/mach-summit/mach_apic.h	Mon Oct 14 17:02:46 2002
+++ subarch-6/arch/i386/mach-summit/mach_apic.h	Mon Oct 14 17:09:19 2002
@@ -26,7 +26,7 @@ static inline unsigned long calculate_ld
 #define APIC_BROADCAST_ID     (x86_summit ? 0xFF : 0x0F)
 #define check_apicid_used(bitmap, apicid) (0)
 
-static inline void
summit_check(char *oem, char *productid)
+static inline void mptable_machine_detect(char *oem, char *productid)
 {
 	if (!strncmp(oem, "IBM ENSW", 8) && !strncmp(str, "VIGIL SMP", 9))
 		x86_summit = 1;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/