Date: Sat, 05 Jun 2004 09:46:51 +0100
From: David Woodhouse <>
Subject: Re: jff2 filesystem in vanilla
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/5/28

On Sat, 2004-06-05 at 10:27 +0200, Daniel Egger wrote:
> The original version in the 2.4 kernel has a dramatic problem
> leading to FS corruption, at least when used with blkmtd on CF.
> That's why I'm using 2.4 and a CVS snapshot, not only because
> it is much faster.
Can you be more specific? I don't know of any such problems. If they
exist, they give me a potential excuse to update 2.4 to the current code
-- but to be honest I'd rather just leave it in maintenance mode.
> Believe it or not but JFFS2 is the only filesystem that works
> reasonably on CF, especially when the system is used mostly read
> only and the device is cut off from power every now and then. ;)
CF is bog-roll technology. I wouldn't want to use it in production even
with JFFS2 on it -- but at least when it gets confused you'll only lose
a limited amount of data with JFFS2.
If you're going to use JFFS2 on CF, you should really investigate using
the write-buffer we implemented for NAND flash, but without the ECC
parts. It'll mean you write each CF sector once rather than overwriting
the sector each time you add a few bytes to the log.
-- 
dwmw2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/