Date: Thu, 12 Aug 2004 18:34:03 -0600
From: Andreas Dilger <>
Subject: Re: New concept of ext3 disk checks
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/12/297

On Aug 12, 2004  18:39 -0400, Theodore Ts'o wrote:
> 2) Run e2fsck -f on the snapshot, and check to see if there are any
> error on the filesystem.  Assuming a non-buggy kernel and properly
> functioning hardware, there should be none.  Afterwards, release the
> read-only snapshot.
> 
> 3) If there are any errors, e-mail the output of e2fsck to the system
> administrator.
> 
> 4) If there were no errors detecting by the fsck run, run the command
> "tune2fs -C 0 -T now /dev/XXX" on the live filesystem.  This sets the
> mount count and last filesystem checked time to the appropriate values
> in the superblock.
> 
> Tell you what --- if someone is willing to put the time into
> developing such a script, I'll include it in the contrib section of
> e2fsprogs.  I've put all the hooks to do this in e2fsprogs, and I've
> wanted this for quite some time, but the last time I looked at it, the
> command-line EVMS tools were truly gruesome to behold/use.  I believe
> things have gotten much better since then, so this shouldn't be too
> hard to do now.
I did this a few years ago, but it fell through the cracks.  The
script is written for the LVM1 code, but AFAIK the LVM2 code also
has compatible user tools.
http://www.mail-archive.com/reiserfs-list@namesys.com/msg08474.html
Cheers, Andreas
--
Andreas Dilger
http://sourceforge.net/projects/ext2resize/
http://members.shaw.ca/adilger/
             
http://members.shaw.ca/golinux/
[unhandled content-type:application/pgp-signature]