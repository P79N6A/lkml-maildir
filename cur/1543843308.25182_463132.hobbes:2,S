Date: Thu, 14 Sep 2006 10:33:13 +0200 (CEST)
From: Thomas Richter <>
Subject: Re: MSI K9N Neo: crash under heavy IDE read
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/14/43

Hi,
> > I bought new Athlon46 mobo with AM2 socket and recently
> > I noticed that copying large amounts of data reliably
> > crashes 2.6.17.11 64-bit on it.
> > 
> > memtest runs ok on this machine overnight.
> > Machine is not overclocked.
> > 
> > Copying movies from SATA drive to PATA drive oopses
> > after few gigabytes transferred. Creating iso image
> > with mkisofs (done entirely on PATA drive, no SATA attached)
> > does the same.
> > 
> > After some testing I found ou that rw load crashes
> > machine rather fast, while read load usually runs for several
> > minutes before crash. Setting udma4 or udma3 instead of udma5
> > doesn't help. Pity I don't have my own SATA drive to run tests
> > with it, ran most of the tests on PATA drive.
> 
> I obtained PCI config space dumps under Windows XP on this machine
> and compared them to Linux settings. Integrated PATA IDE controller
> has some differences in rows 5x and 8x. Grep for "IDE interface".
> 
> Maybe this sheds some light.
> 
> URLs to chipset docs, anyone?...
Not really, but allow me to make another comment: MSI seems to have
massive problems with the K9N based boards. A good percentage of them
just "freaks out" from time to time and shuts the system down with no
aparent reason. This happens under Linux as well as under windows, and
is, interestingly, related to copying large amounts of data to the
PATA controller, and transfering large amounts of data over the LAN
causes the same problem. It thus would be interesting to know whether
for the affected board the same or a similar problem appears under
win32. If so, it's just the defective board, and not a linux kernel
problem.
Reference for the problem: Look into the MSI forum at www.msi.com, 
check for the thread "Post your K9N problems here...".
So long,
	Thomas
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/