Date: 12 Aug 2004 16:42:51 -0400
From: James Bottomley <>
Subject: Re: [PATCH] SCSI midlayer power management
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/12/196

On Thu, 2004-08-12 at 16:37, Pavel Machek wrote:
> Can't you simply reuse bootup code? It will no longer be __init,
> but it should make suspend/resume functions quite simple.
Unfortunately, no that simply.
Bootup is all about allocating these areas and initialising the card. 
Resume will be about initialising the card knowing the existing areas
(and the data about the existing areas will have to be part of our
persistent data on suspend).
So, modifying the bootup to do something like
if (in_resume)
	addr = read from suspend image
else
	addr = dma_alloc_coherent(...)
may work.
> > to pick three drivers to do this for, that would be aic7xxx, aic79xx and
> > sym_2?
> 
> No idea, only SCSI host I owned was some 8-bit isa thing....
Well, someone who's interested needs to pick a driver.  It's usually
easier to persuade everyone to add the feature if there's an example to
copy...
James
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/