Date: Mon, 1 Aug 2005 07:48:31 +0100
From: Russell King <>
Subject: Re: Heads up for distro folks: PCMCIA hotplug differences (Re: -rc4: arm broken?)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/1/21

On Mon, Aug 01, 2005 at 02:01:07AM +0100, Alan Cox wrote:
> On Sad, 2005-07-30 at 22:36 +0100, Russell King wrote:
> > Since PCMCIA cards are detected and drivers bound at boot time, we no
> > longer get hotplug events to setup networking for PCMCIA network cards
> > already inserted.  Consequently, if you are relying on /sbin/hotplug to
> > setup your PCMCIA network card at boot time, triggered by the cardmgr
> > startup binding the driver, it won't happen.
> 
> So eth0 now randomly changes between on board and PCMCIA depending upon
> whether the PCMCIA card was inserted or not, and your disks re-order
> themselves in the same situation. That'll be funny if anyone does a
> mkswap to share their swap between Linux and Windows. Gosh look there
> goes the root partition.
> 
> I'm hoping thats not what you are implying. Especially for disks,
> network is much much less of an issue.
If you have the socket driver as a module, as some (most?) distros do,
then of course such cards won't be detected at boot time.  If PCMCIA
and the socket driver are built-in, along with the card driver, then
I guess this possibility may well exist - it does for NE2K cards.
Since I don't use CF cards with PCMCIA here, I can't say what the ide-cs
behaviour actually is.  This is why I'm trying to encourage folk to
explore the kernels new behaviour.
-- 
Russell King
 Linux kernel    2.6 ARM Linux   - 
http://www.arm.linux.org.uk/
 maintainer of:  2.6 Serial core
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/