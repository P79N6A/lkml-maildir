Date: Tue, 23 Mar 1999 19:19:55 -0500
From: Mark Lord <>
Subject: Re: UDMA issues under 2.2.3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/23/105

"Nicholas J. Leon" wrote:
> According to hdparm -I, all of my drives are in UDMA mode2. Which they
> shouldn't be; because I have the "use UDMA by default" DISABLED (my system
> will lock up if I attempt to access two drives in UDMA mode at the same
> time - as in a parallel fsck).
You need to run this command immediately:  "man hdparm"
> root(2)@neko [104 /usr2/root] # hdparm -I /dev/hda
Bzzt!  Wrong.  Try:   hdparm -d /dev/hda
...
> This is the default. Everytime I use hdparm, I get the errors. Also...
> 
> root(2)@neko [105 /usr2/root] # hdparm -d0 -I /dev/hda
> 
> /dev/hda:
>  setting using_dma to 0 (off)
> hda: DMA disabled
>  using_dma    =  0 (off)
> hda: drive_cmd: status=0x51 { DriveReady SeekComplete Error }
> hda: drive_cmd: error=0x04 { DriveStatusError }
Ignore that error -- triggered by hdparm, so it's really self-inflicted.
And totally harmless.
..
> Also, if I do something like
> 
> hdparm -X34 /dev/hda
>  or
> hdparm -X66 /dev/hda
> 
> my system will crash within seconds.
You should not be playing with those options.
Or at least do "man hdparm" first, and read the output thoroughly.
-- 
mlord@pobox.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/