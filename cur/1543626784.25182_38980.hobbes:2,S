Date: Sat, 06 Apr 2002 20:23:47 +1000
From: Keith Owens <>
Subject: [patch] 2.4.19-pre6 standardize aacraid/Makefile
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/6/54

Standardize the makefile for aacraid to use common kbuild 2.4 rules.
Index: 19-pre6.1/drivers/scsi/aacraid/Makefile
--- 19-pre6.1/drivers/scsi/aacraid/Makefile Mon, 10 Dec 2001 10:51:02 +1100 kaos (linux-2.4/O/f/4_Makefile 1.1 644)
+++ 19-pre6.1(w)/drivers/scsi/aacraid/Makefile Sat, 06 Apr 2002 18:24:46 +1000 kaos (linux-2.4/O/f/4_Makefile 1.1 644)
@@ -1,16 +1,10 @@
 
 EXTRA_CFLAGS	+= -I$(TOPDIR)/drivers/scsi
 
+O_TARGET	:= aacraid.o
+obj-m		:= $(O_TARGET)
 
-O_TARGET	:= dummy.o
-
-list-multi	:= aacraid.o
-aacraid-objs	:= linit.o aachba.o commctrl.o comminit.o commsup.o \
+obj-y		:= linit.o aachba.o commctrl.o comminit.o commsup.o \
 		   dpcsup.o rx.o sap1sup.o
 
-obj-$(CONFIG_SCSI_AACRAID) += aacraid.o
-
 include $(TOPDIR)/Rules.make
-
-aacraid.o: $(aacraid-objs)
-	$(LD) -r -o $@ $(aacraid-objs)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/