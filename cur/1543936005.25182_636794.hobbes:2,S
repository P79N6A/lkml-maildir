Date: Thu, 10 Jan 2008 16:56:12 +0100
From: Matthew <>
Subject: Re: Fwd: Fwd: laptop / computer hardlocks during execution of 32bit applications(binaries) on 64bit system (Gentoo)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/10/223

> > My kernel is _not_ tainted. [...]
>
this time my kernel isn't tainted either (comm: thunderbird-bin Not
tainted; 
http://kerneloftruth.neucode.org/other/crash_ia32_64/not_tainted/moto_0041.jpg
)
 but still hardlocks:
http://kerneloftruth.neucode.org/other/crash_ia32_64/not_tainted/
> ok, good. A series of questions:
>
> - can you reproduce it from the VGA console?
>
yes
> - if yes, does booting with "nmi_watchdog=2 idle=poll" give you a
>   working NMI watchdog? (working NMI watchdog means the NMI counts
>   increase for all cores in /proc/interrupts).
>
no, I get err=-16
(watchdog is broken: cat /proc/interrupts | grep NMI reveals nothing)
> if still 'yes', then try to reproduce the hard hang on the VGA text
> console
yes, despite broken watchdog
steps:
1) startx
2) change to tty2, log in; DISPLAY:=0 thunderbird-bin
3) wait until it hardlocks
known apps to trigger that locking:
- realplayer
- thunderbird-bin (2.0.0.9)
- mozilla-firefox-bin (2.0.0.11)
(all included in portage-tree)
apps not triggering:
- skype (not tested that thoroughly (yet))
- ...
> - do you perhaps get an NMI backtrace printed within 1-2 minutes
> after the hard hang happens? If yes then take a photo of that or write
> it down.
>
only backtrace so far (once):
http://kerneloftruth.neucode.org/other/crash_ia32_64/moto_0040.jpg
I'll tar the whole kernel-directory & modules so that you'll be able
to reproduce it more easily (if wanted), is there a place where I
could upload it (it weighs around 300-400 MBs so that'll take some
time ;) )
I got work to do so that'll be all for now, I hope you'll be able to
find the culprit soon ...
>         Ingo
>
Mat