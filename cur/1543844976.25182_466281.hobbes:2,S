Date: Mon, 25 Sep 2006 13:25:54 +0400
From: Michael Tokarev <>
Subject: Re: 2.6.18-mm1 make oldconfig missed SATA
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/25/52

Valdis.Kletnieks@vt.edu wrote:
> On Sun, 24 Sep 2006 20:12:10 EDT, Jeff Garzik said:
>> Grant Coady wrote:
>>> 2.6.18-mm1 make oldconfig didn't pull SATA config from 2.6.18 old screen to
> 
>>> the new libata screen, caught me out -- this may be an issue for 2.6.19 
>>> upgraders that a quick make oldconfig rebuild will fail to boot?
>> The symbols changed.  No facility for upgrading .config symbols... 
>> people who config their own kernels are expected to handle such things...
> 
> I remember getting hit with this several times in the last few -mm's as I
> did bisecting and kept crossing over the patch that did that. Fortunately,
> 'make oldconfig' was nice enough to keep me honest and prompt me for the new
> symbol names.
> 
> What the Kbuild system *could* use is, for the end of 'make oldconfig', a
> report like this for 'y' or 'm' symbols that have evaporated:
> 
> The following enabled symbols found in the .config were not defined in any Kconfig file:
> CONFIG_FROOBY
> CONFIG_DEBUG_FROOBY
> 
> So people aren't totally mystified   Admittedly, I've only gotten bit by
> silently dissapearing symbols 4-5 times since 2.5.55 or so, but the times
> it happened it would have been nice to know....
It already does that, but prints them in the beginning, not after config.
Try make silentoldconfig and see the first screen of warnings when it will
ask the first question.
/mjt
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/