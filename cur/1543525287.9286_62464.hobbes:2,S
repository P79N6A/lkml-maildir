Date: Thu, 10 Feb 2000 16:44:26 -0800
From: Simon Kirby <>
Subject: Re: Softnet/eepro100 driver conversion bug in 2.3.43pre8?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/11/24

On Thu, Feb 10, 2000 at 07:33:01PM -0500, Christopher Allen Wing wrote:
> Simon:
> 
> > NETDEV WATCHDOG: eth0: transmit timed out
> > eth0: Transmit timed out: status 0050 0070 at 8392/8404 command 000c0000.
> > eth0: Tx ring dump, Tx queue 8404 / 8392:
> > eth0: 0 000ca000.
> > eth0: 1 000ca000.
> 
> ...
> 
> I don't think this is a softnet problem per se; I've been having similar
> transmit timeouts on 2.3 with a eepro100 under load. I have a bunch of
> motherboards with on-board 82557 coupled to 10BaseT-only transceivers. The
> timeouts occur when the network is under full load, such as a file
> transfer to another machine on the local subnet.
> 
> I've never had any problems with the eepro100 driver in 2.2. I seem to
> remember Alan Cox posting a message earlier to this list saying that he
> was going to merge the fixed eepro100 driver from Andrey V. Savochkin into
> 2.3, so you probably should wait until then and see if the problem still
> occurs.
Well, I've also seen the timeout problem on 2.2 on one of our routing
boxes with 4 eepro100s, but it usually only occurred with high loads and
not out of the blue with a really low load.  The patch that went into 2.2
did indeed fix it.  The timeout I saw on 2.3.43pre8 happened with light
(but I suppose perhaps bursty) load, which is why I was assuming it might
be a different problem.  It took about an hour to show after booting
pre8, whereas I've never seen the problem before and I've been playing
MP3s via NFS similarly with 2.3 kernels and the same card for at least 6
months now.  Also, I can remember pingflooding for a long time before to
make sure the duplexes were set up properly, and I haven't seen it
timeout before.
Perhaps the softnet changes are exposing the timeout problem more easily
now.
Oh, also, the 2.2 timeout would make the card die until the module was
reinserted or the interface downed and upped again.  Each time it has
happened here it has recovered after a few seconds (which is good :) ).
Simon-
[  Stormix Technologies Inc.  ][  NetNation Communcations Inc.  ]
[       sim@stormix.com       ][       sim@netnation.com        ]
[ Opinions expressed are not necessarily those of my employers. ]
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/