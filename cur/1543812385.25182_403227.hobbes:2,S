Date: Fri, 3 Mar 2006 13:27:00 -0800
From: "Allen Martin" <>
Subject: RE: PCI-DMA: Out of IOMMU space on x86-64 (Athlon64x2), with solution
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/3/213

> > On Thu, Mar 02, 2006 at 02:03:48AM +0100, Andi Kleen wrote:
> > 
> > > Nvidia hardware SATA cannot directly DMA to > 4GB, so it has to go
> > > through the IOMMU.
> > 
> > do you know if that is an actual hardware limitation or simply a
> > something we don't know how to do for lack of docs?
> 
> I assume that's a hardware limitation. I guess they'll move to AHCI
> at some point though - that should fix that.
nForce4 has 64 bit (40 bit AMD64) DMA in the SATA controller.  We gave
the docs to Jeff Garzik under NDA.  He posted some non functional driver
code to linux-ide earlier this week that has the 64 bit registers and
structures although it doesn't make use of them.  Someone could pick
this up if they wanted to work on it though.
-Allen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/