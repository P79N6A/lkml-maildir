Date: Sun, 16 Jan 100 19:25:51 +0100 (MET)
From: Werner Almesberger <>
Subject: Re: mnt_dirname revisited (chroot)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/16/156

Guest section DW wrote:
> /proc/mounts is a semi-misfeature that you need not
> worry too much about when you design a change.
Very good. This removes my biggest worry.
> We just have "cat /proc/mounts" as a convenient way
> to check which filesystems are mounted.
That's the functionality I definitely want to preserve - particularly
with root-hopping, you very quickly end up in scenarios where
/etc/mtab just becomes a weird mess. Without /proc/mounts, you're
lost.
> I think it is unnecessary to make /proc/mount/<kdevname>.
Okay, let's drop this idea then. The only use would be to access
a not-yet-unmounted old root file system. But as you've pointed
out, the security implications are messy at best.
> In particular, you avoid inventing notations like 03:03;
> if there is no name then the thing is not listed at all.
I want this to keep things human-understandable. Without it, you can
easily end up with half a dozen file systems claiming to be mounted
on /. Also, for consistency, fuser should make use of this information
in the future.
> [as noted: presently there is no guarantee that names begin with /]
I guess I fixed this by accident ;-)
Thanks,
- Werner
-- 
  _________________________________________________________________________
 / Werner Almesberger, ICA, EPFL, CH       werner.almesberger@ica.epfl.ch /
/_IN_N_032__Tel_+41_21_693_6621__Fax_+41_21_693_6610_____________________/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/