Date: 11 Dec 1999 17:42:21 +0100
From: Kjetil Torgrim Homme <>
Subject: Re: Portable binary modules
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/11/47

[Peter Samuelson]
>   OK, question: How does NT solve the problem of keeping
>   compatibility in the face of different optimizations for different
>   CPUs?  Answer: single UP kernel and single SMP kernel for *all*
>   x86 CPUs.  (Wait, do they even *support* 386?  Not sure.)  And no
>   inlining of fastpath code like spinlocks.  Is this what we want?
No.
How about mechanisms which tag the variant in the module directory?
E.g., make it possible to keep both the SMP version and the UP version
around without doing manual labour when switching kernels.  The
information could be kept in either the directory name or the file
name.  I favour the former, because its easier to make it fall back on
the old directory if the specific directory doesn't exist.
The big question is:  What _are_ the variables?  I know of:
  SMP/UP
  386/486/586/586TSC/686/K7
  old gcc/new gcc
What are the equivalence classes?  What combinations are compatible
(for fallback)?  I think it would be good if this was documented.
Kjetil T.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/