Date: Tue, 19 Feb 2002 12:06:17 +0100
From: Takashi Iwai <>
Subject: Re: Various problems using ALSA drivers in 2.5.5-pre1.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/19/70

Hi Miles,
At Sat, 16 Feb 2002 19:24:25 -0800,
Miles Lane wrote:
> 
> Hello,
> 
> I have the linux hotplug scripts installed.  When I built
> the drivers as modules, they did not autoload, as they should
> have.  Are you working to make the drivers register themselves
> during the boot process so that they are autoloaded without
> having to hack the modules.conf file?
Please note that the complicated configuration of /etc/modules.conf is
mainly for auto-loading of modules and multiple cards.
That is, ALSA can work without hacking modules.conf if you use only
ALSA native applications.  Furthermore, if you load OSS emulation
modules manually you don't need hacking modules.conf for OSS devices,
too.  And both ALSA and OSS modules can coexistent at the same time
if you configure properly (of course for different cards, I mean).
> I have applied the patch the gets /proc/asound working.
> In my most recent attempt, I have compiled the ALSA drivers
> into the kernel.  I would like to use the native ALSA drivers,
> but am not sure how to configure my devices to make this
> happen.  I use esound on GNOME and play CDs.
IIRC, esound doesn't support ALSA yet officially..
So it will be anyway through OSS emulation.
> One question I have is how to go about getting the ALSA
> utilities and tools to build.  They require alsa-lib, which
> appears to require alsa-drivers.  This is a problem, because
> I don't want to install the out-of-kernel ALSA drivers in
> addition to the in-kernel ones.
No, you don't need extra alsa-driver source.
To build alsa-lib, the kernel source including alsa (more exactly,
header files) will be enough.
There is a configure option, --with-kernel and --with-soundbase,
to specify the place of alsa header files.  Please check
alsa-lib/INSTALL file.
> It seems to me that there is a need for several things to happen,
> now that ALSA is in the development kernel:
> 
> 1)  You need to update your web documentation to guide users
> in configuring ALSA who are testing the ALSA support in
> the development kernel.
yep.
> 2)  You need to include updated ALSA configuration and usage
> information into the linux/Documentation tree in the 2.5 kernel
> tree.
yes, that would be better..
> 3)  You need to update documentation in the utils and tools
> packages to include information about how to build and use
> there utilies when using the 2.5 kernel drivers.
it's already in INSTALL.
> 4)  You may need to overhaul your tools and utilities build
> processes so that alsa-drivers is not required.
already done.
ciao,
Takashi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/