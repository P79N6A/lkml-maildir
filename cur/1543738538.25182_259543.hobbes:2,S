Date: Mon, 11 Oct 2004 13:42:11 +0200
From: Andi Kleen <>
Subject: Re: [ACPI] Re: [BKPATCH] LAPIC fix for 2.6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/11/56

On Sun, Oct 10, 2004 at 05:47:05PM -0700, Linus Torvalds wrote:
> 
> 
> On Sun, 10 Oct 2004, Maciej W. Rozycki wrote:
> > 
> >  Hmm, any particular reason to keep the local APIC disabled by default?  
> 
> Yes. It changes interrupt handling, so any SMM stuff tends to break on
> BIOSes that don't know about APICs. Things like the magic keys etc. It
> apparently also breaks some ACPI stuff (likely AML code that "knows" that
> interrupts are done with the legacy controller).
> 
> Mostly a laptop issue, I suspect - simply because desktops don't do 
> anything strange these days.
It's more than a laptop issue. Especially older desktops still don't
work with APIC by default, and even a lot of modern ones have problems.  
It works around ACPI bugs. Some common issues I ran into on x86-64:
nvidia nforce2/3 is still often broken because of the bogus timer override 
so many BIOS have) 
Some VIA K8 boards get mysterious IDE DMA errors after some time when the APIC 
is on.
[Patch for the Nvidia thing is pending - just always ignore it - but not 
submitted yet for i386 yet. x86-64 has it fixed in -mm*]
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/