Date: Fri, 23 Jan 2009 16:22:36 +0100
From: Pavel Machek <>
Subject: Re: HP accelerometer driver: testers wanted
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/23/199

Hi!
> Minor issue in the patch: hpfall.c should not be executable:
> -rwxr-xr-x 1 fjp fjp  1759 2009-01-22 23:31 hpfall.c
Hmm, fixed in my local tree, but will have to think about how to make
it into patch.
> > Run hpfall, and see if LED lights and disk parks if you "drop" a
> > computer. (*)
> 
> $ sudo ./hpfall &
> 
> The LED lights up yellow, but I have problems telling if the disk gets 
> parked or not. One time I got a green led and seemingly a fair amount of 
> activity immediately after getting the yellow led.
> 
> After looking at hpfall.c, I checked /sys/block/sda/device/unload_heads 
> after a drop:
> $ cat /sys/block/sda/device/unload_heads
> 19616
> $ cat /sys/block/sda/device/unload_heads
> 0
Ok, so drop detection works for you; good. I could see disk activity
stopping during find / ...
> Wouldn't it be good to have locks/unlocks registered in the logs when
> /sys/block/sda/device/unload_heads changes (assuming the actual write will 
> get delayed until the head is unparked)?
That would fill the logs rather quickly, right?
								Pavel
-- 
(english) 
http://www.livejournal.com/~pavelmachek
(cesky, pictures) 
http://atrey.karlin.mff.cuni.cz/~pavel/picture/horses/blog.html