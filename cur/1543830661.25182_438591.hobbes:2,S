Date: Wed, 28 Jun 2006 19:59:02 +0100 (BST)
From: Hugh Dickins <>
Subject: Re: [Suspend2][ 15/20] [Suspend2] Attempt to freeze processes.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/28/330

On Wed, 28 Jun 2006, Nigel Cunningham wrote:
> On Tuesday 27 June 2006 23:45, Pavel Machek wrote:
> >
> > Current code seems to free memory without need to thaw/re-freeze
> > kernel threads. Have you found bugs in that, or is this unneccessary?
> 
> Did you read my other email? Try it with a swap file on a journalled 
> filesystem, in a situation where freeing memory will force the swap file to 
> be used.
Hi Nigel,
I may have missed your "other email" in the avalanche ;)
That particular example sounds dubious to me: it may well have been
a problem on 2.4, but are you sure that it's still a problem on 2.6?
Andrew very nicely rewrote the swapfile handling, to bmap the whole
file at swapon time (see setup_swap_extents), and thereafter the only
difference between using a swapfile and using a disk partition is that
the swapfile blocks may be fragmented into many extents where the disk
partition is contiguous.  Much more reliable.
I don't see how your "journalled filesystem" would affect it at all.
Hugh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/