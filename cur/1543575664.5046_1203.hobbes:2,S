Date: Tue, 12 Dec 2000 22:53:58 +0300 (MSK)
From:  kuznet@ms2 ...
Subject: Re: Bad behavior of recv on already closed sockets.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/12/12/102

Hello!
> > It would be better to understand the issue f.e. trying to restore
> > the history of this descriptor.
> 
> How to do this? I mean what should I do to provide you with more information?
I do not know exactly. It depends on curcumstances, frequency 
of the stalls and... your luck. 8)
Usually in such cases I ask to start from gathering single huge
binary tcpdump (tcpdump -i lo -b ip -w big.dump port 3994)
until the problem happens. Then you cut of it the problematic session
with tcpdump again (tcpdump -n -vvv -r big.dump port 2994 and port 5432).
Then we will have at least picture at network side.
If after this we will not understand what happened then tracing
at application level. It is more complicated and depends mostly
on particular application. strace is too promiscuous as rule
and does not work well with intensively forking applications.
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/