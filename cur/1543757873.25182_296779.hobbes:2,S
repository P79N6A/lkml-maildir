Date: Wed, 23 Feb 2005 22:05:52 +0100
From: Benoit Boissinot <>
Subject: Re: 2.6.11-rc4-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/2/23/130

On Wed, Feb 23, 2005 at 01:42:33AM -0800, Andrew Morton wrote:
> 
> 
ftp://ftp.kernel.org/pub/linux/kernel/people/akpm/patches/2.6/2.6.11-rc4/2.6.11-rc4-mm1/
> 
> 
> - Various fixes and updates all over the place.  Things seem to have slowed
>   down a bit.
> 
> - Last, final, ultimate call: if anyone has patches in here which are 2.6.11
>   material, please tell me.
> 
> 
> 
> Changes since 2.6.11-rc3-mm1:
> 
> make-itimer_real-per-process.patch
>   make ITIMER_REAL per-process
> 
> make-itimer_prof-itimer_virtual-per-process.patch
>   make ITIMER_PROF, ITIMER_VIRTUAL per-process
>
gcc-4.0 warns with reasons on this patches:
kernel/itimer.c: In function ‘do_getitimer’:
kernel/itimer.c:61: warning: ‘val’ is used uninitialized in this
function
Signed-off-by: Benoit Boissinot <benoit.boissinot@ens-lyon.org>
--- linux/kernel/itimer.c	2005-02-23 12:16:36.000000000 +0100
+++ linux-test/kernel/itimer.c	2005-02-23 21:53:10.000000000 +0100
@@ -58,7 +58,7 @@ int do_getitimer(int which, struct itime
 			if (cputime_le(cval, utime)) { /* about to fire */
 				val = jiffies_to_cputime(1);
 			} else {
-				val = cputime_sub(val, utime);
+				val = cputime_sub(cval, utime);
 			}
 		}
 		spin_unlock_irq(&tsk->sighand->siglock);
@@ -84,7 +84,7 @@ int do_getitimer(int which, struct itime
 			if (cputime_le(cval, ptime)) { /* about to fire */
 				val = jiffies_to_cputime(1);
 			} else {
-				val = cputime_sub(val, ptime);
+				val = cputime_sub(cval, ptime);
 			}
 		}
 		spin_unlock_irq(&tsk->sighand->siglock);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/