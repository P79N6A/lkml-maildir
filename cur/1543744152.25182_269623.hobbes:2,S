Date: Tue, 9 Nov 2004 14:58:06 +0200
From: Oded Shimon <>
Subject: RivaFB on Geforce FX 5200
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/9/129

Hi,
I'm trying to get the rivafb module to work on my Geforce FX, i used the 
rivatv program as reference to simply add the PCI device to the list of 
supported devices in riva/fbdev.c . After which I was surprised to find out 
that after compiling and making a module it successfully modprobed, created 
the /dev/fb device, and MPlayer and X used it happily.
I now managed to get it to work for FB console as well, but it has some 
issues, and I really have no idea about the causes and solutions to these 
problems.
One problem is when switching from X back to FB console, I can still see the X 
cache (at the different res and color depth, it simply looks like noise...), 
until some kind of modification has happenned in the console.
If i run any kind of program which modifies the frame buffer, for ex. fbset or 
ppmtofb, the FB console is irreversibly ruined until reboot. (it looks mostly 
like noise which you can barely make out the console text underneath).
The worst problem - no penguin at boot up. :(  There is a black bar in the 
area where its supposed to be, but no image...
My guess is the cause for most of these problem is me causing the driver to 
think it can support my card, when it doesn't really have all the kinks 
sorted out...
Up until now I've always used vesafb, and the "nvidia" binary module for X... 
vesa is slow though, which is why I am trying to get rivafb to work.. I also 
recently realized that the free "nv" module support geforce FX,  and it works 
good on my X...
- ods15
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/