Date: Tue, 25 May 1999 17:23:48 +0200
From: Sven Geggus <>
Subject: "current->timeout == 0" in 2.2.x
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/28/40

Hello,
I'm about to port a device driver from 2.0 to 2.2 Kernel Series.
Alans Article in the Linux-Magazine was a good Starting point, but I still
have one small Problem.
As I understood there is no current->timeout flag anymore.
I replaced this code "if (current->signal & ~current->blocked) return index;"
by "if (signal_pending(current)) return index;" which does its job. 
Anyway, I didn't find something to replace this peace of code:
"if( current->timeout==0 ) return -ETIME;"
... so I just commented this out ;)
I thought this might not be necessary at all if using
"interruptible_sleep_on_timeout" instead of "interruptible_sleep_on" but
this seems to be a wrong assumption.
So far my process just never gets a timeout this way.
Thanks for hints
Sven
-- 
|_||_||||| Sven Geggus @ Fraunhofer Institut fuer Informations und
|_||_||||| Datenverarbeitung, Karlsruhe, GERMANY (
http://wsd.iitb.fhg.de/
)
|        | 
|  IITB  | ... LinuX powered DATA aquisition and evaluation
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/