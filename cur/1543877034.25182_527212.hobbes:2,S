Date: Wed, 04 Apr 2007 09:10:16 -0700
From: Jeremy Fitzhardinge <>
Subject: Re: [patch 04/17] Add pagetable accessors to pack and unpack pagetable entries
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/4/268

Ingo Molnar wrote:
> sure. i simply took the middle numbers. But there's definitely a 'few 
> percents' trend in the numbers.
> 
Yep. I guess the thing that coloured my summary is that I found overhead
of unpatched paravirt_ops calls surprisingly small.  I was really
expecting more like ~10% hit, but only null syscall approached that.
>>> this is not 'barely measurable' but 'BLOODY LARGE' overhead.
>>> 
>> Yes.  Fortunately there's a noticable difference between native and 
>> unpatched paravirt, because it shows all the effort we put into 
>> patching is worthwhile.
>> 
>
> if only it were not such an ugly piece of code? ;)
> 
Sigh, yes.  I've cleaned it up a bit since the last post, and commented
it, but I couldn't do much with its essential ugliness.  But I guess it
just got promoted from "ugly" to "ugly but necessary".
    J
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/