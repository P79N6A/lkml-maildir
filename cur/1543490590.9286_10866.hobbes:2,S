Date: Mon, 22 Mar 1999 09:56:07 +0100
From: Thomas Pornin <>
Subject: ufs and alpha [2.2.3]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/22/33

Hello,
I can reproduce a ufs problem on my system (Miata, kernel 2.2.3[*]).
I mount a scsi zip disk with a ufs 4.4bsd filesystem (created with
FreeBSD), I run ncftp and try to download some file (egcs-1.1.2.tar.gz)
directly to the filesystem. It writes 65700 bytes and then stops and
dumps the following errors:
UFS-fs error (device 08:10): ufs_free_fragments: b it already cleared for fragment 32545
UFS-fs error (device 08:10): ufs_free_fragments: b it already cleared for fragment 32546
UFS-fs error (device 08:10): ufs_free_fragments: b it already cleared for fragment 32547
UFS-fs error (device 08:10): ufs_free_fragments: b it already cleared for fragment 32548
(and so on...)
The kernel switches automatically in "read-only" state. If I umount and
mount again the filesystem, I get:
ufs_read_super: can't grok fs_clean 0xff
And I can write to the filesystem.
I understand ufs write support is still experimental; however, a bug is
a bug, worth of telling about.
I will be offline for the next 8 days, but I may perform some tests
afterwards.
	--Thomas Pornin
[*] stock 2.2.3, with one minor modification: I raised NR_TASKS in tasks.h
from 512 to 3072.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/