Date: Mon, 20 Sep 1999 19:24:05 -0400
From: Rui Sousa <>
Subject: Re: SMP environment driver building issue ...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/20/188

"WANG,YIDING (HP-SanJose,ex1)" wrote:
> 
> Rui,
> 
> Folllowed your suggestion, I run 'make config' and enable SMP support with
> all other option as default value.  The I run 'make dep'.
> 
> After system is reconfigured, compileing driver seems OK.  However, when I
> load driver "hpfc" with :
> 'insmod hpfc',
> system still complains:
> ./hpfc: kernel was compiled for kernel version 2.2.5-15
> while this kernel is version 2.2.5-15smp
> 
> Seems like I still miss something during the driver compiling or kernel
> reconfigure.  I am using "-D__SMP__" in CFLAG during the driver compiling.
> 
> Any suggestion from there to help driver successfully compiles and loads on
> SMP environment?
> 
> Many thanks!
> 
> -eddie
I dont't know were or how RedHat adds the extra version to the kernel ("-15"
and "-15smp")
but assuming they are compiled from the same source you shouldn't have any
problems
(someone correct me if I'm wrong). Just force the module insertion with:
insmod -f
Rui Sousa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/