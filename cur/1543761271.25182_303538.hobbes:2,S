Date: Wed, 16 Mar 2005 11:30:31 -0800 (PST)
From: Christoph Lameter <>
Subject: Re: [PATCH] Prefaulting
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/16/205

On Fri, 11 Mar 2005, Andrew Morton wrote:
> >  200 MB allocation
> >
> >   Mb Rep Thr CLine  User      System   Wall  flt/cpu/s fault/wsec
> >  200  3    1   1    0.02s      0.48s   0.05s860119.275 859918.989
> >  200  3    1   1    0.02s      0.46s   0.04s886129.730 886551.621
> >  200  3    1   1    0.01s      0.47s   0.04s887920.166 886855.775
>
> But the system time went through the roof.  Would that be accounting
> inaccuracy?
Redoing the test with 2.6.11.3-bk2 on AMD64(i386 mode) 1G Ram
unpatched:
 Mb Rep Thr CLine  User      System   Wall  flt/cpu/s fault/wsec
200  3    1   1    0.00s      0.17s   0.01s844090.542 845814.978
200  3    1   1    0.00s      0.17s   0.01s853466.095 853376.002
200  3    1   1    0.00s      0.17s   0.01s853466.095 855138.626
200  3    1   1    0.00s      0.17s   0.01s848750.083 847934.815
200  3    1   1    0.00s      0.17s   0.01s848754.773 848248.554
200  3    1   1    0.00s      0.17s   0.01s844085.903 843914.312
200  3    1   1    0.01s      0.16s   0.01s848750.083 850573.694
200  3    1   1    0.00s      0.17s   0.01s844090.542 845451.843
prefault patch /proc/sys/vm/max_prealloc_order set to 4
Mb Rep Thr CLine  User      System   Wall  flt/cpu/s fault/wsec
200  3    1   1    0.00s      0.17s   0.01s848750.083 847902.050
200  3    1   1    0.00s      0.17s   0.01s853466.095 853565.693
200  3    1   1    0.00s      0.17s   0.01s848750.083 849595.115
200  3    1   1    0.00s      0.17s   0.01s848754.773 848628.162
200  3    1   1    0.00s      0.17s   0.01s844090.542 844554.657
200  3    1   1    0.00s      0.17s   0.01s848754.773 848590.654
200  3    1   1    0.00s      0.17s   0.01s848750.083 848792.295
200  3    1   1    0.00s      0.17s   0.01s844090.542 846406.904
Must have been something wrong with the test.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/