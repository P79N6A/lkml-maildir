Date: Thu, 28 Oct 1999 09:36:07 +0200
From: Jens Benecke <>
Subject: 2.2.13 SERIOUS screen corruption
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/28/15

Hi,
I am getting serious screen corruption (text mode, no fbdev) on a P100
running 2.2.13 with an ATI graphics card (PCI). It sometimes looks like the
"autumn" virus in DOS where letters would fall to the bottom of the screen,
but more random. =;)
This happens primarily when I switch consoles. Going from and to tty12
(syslog) a couple times makes the log all but unreadable. Noticeably, same
characters get replaced by the same "wrong" chars (but not all of them get
replaced at all).
When I reset the screen (e.g. "reset" or just shift-pgup a couple times)
the letters change back to normal, but only for a short time. NOthing
happens though without me pressing a key.
I'd appreciate any answers. "get a new gfx card" is probably one of them
but I'd like to know WHY this is caused... =;)
/proc/pci:
PCI devices found:
  Bus  0, device   0, function  0:
    Host bridge: Intel 82437 (rev 2).
      Medium devsel.  Master Capable.  Latency=32.  
  Bus  0, device   7, function  0:
    ISA bridge: Intel 82371FB PIIX ISA (rev 2).
      Medium devsel.  Fast back-to-back capable.  Master Capable.  No bursts.  
  Bus  0, device   7, function  1:
    IDE interface: Intel 82371FB PIIX IDE (rev 2).
      Medium devsel.  Fast back-to-back capable.  Master Capable.  Latency=32.  
      I/O at 0xe800 [0xe801].
  Bus  0, device   9, function  0:
    Ethernet controller: LiteOn LNE100TX (rev 33).
      Medium devsel.  Fast back-to-back capable.  IRQ 9.  Master Capable.  Latency=32.  
      I/O at 0xe400 [0xe401].
      Non-prefetchable 32 bit memory at 0xfbf8f000 [0xfbf8f000].
  Bus  0, device  10, function  0:
    VGA compatible controller: S3 Inc. ViRGE (rev 6).
      Medium devsel.  IRQ 12.  Master Capable.  Latency=32.  Min Gnt=4.Max Lat=255.
      Non-prefetchable 32 bit memory at 0xf4000000 [0xf4000000].
  Bus  0, device  11, function  0:
    Ethernet controller: Realtek 8029 (rev 0).
      Medium devsel.  IRQ 10.  
      I/O at 0xe000 [0xe001].
  Bus  0, device  12, function  0:
    SCSI storage controller: AMD 53C974 (rev 16).
      Medium devsel.  IRQ 11.  Master Capable.  Latency=32.  Min Gnt=4.Max Lat=40.
      I/O at 0xd800 [0xd801].
/proc/interrupts:
           CPU0       
  0:    4047449          XT-PIC  timer
  1:      29556          XT-PIC  keyboard
  2:          0          XT-PIC  cascade
  8:          2          XT-PIC  rtc
  9:        678          XT-PIC  eth0
 10:      39948          XT-PIC  eth1
 11:         41          XT-PIC  tmscsim
 13:          1          XT-PIC  fpu
 14:     246371          XT-PIC  ide0
NMI:          0
dmesg:
Linux version 2.2.13 (root@earth) (gcc version 2.95.1 19990816 (release)) #1 Don Okt 21 22:27:31 CEST 1999
Detected 99475031 Hz processor.
Console: colour VGA+ 80x34
Calibrating delay loop... 39.63 BogoMIPS
Memory: 47132k/49152k available (824k kernel code, 408k reserved, 728k data, 60k init)
VFS: Diskquotas version dquot_6.4.0 initialized
CPU: Intel Pentium 75 - 200 stepping 06
Checking 386/387 coupling... OK, FPU using exception 16 error reporting.
Checking 'hlt' instruction... OK.
Intel Pentium with F0 0F bug - workaround enabled.
POSIX conformance testing by UNIFIX
PCI: PCI BIOS revision 2.10 entry at 0xfb880
PCI: Using configuration type 1
PCI: Probing PCI hardware
Linux NET4.0 for Linux 2.2
Based upon Swansea University Computer Society NET3.039
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP
Initializing RT netlink socket
Starting kswapd v 1.5 
pty: 256 Unix98 ptys configured
apm: BIOS version 1.2 Flags 0x03 (Driver version 1.9)
Real Time Clock Driver v1.09
PIIX: IDE controller on PCI bus 00 dev 38
PIIX: not 100% native mode: will probe irqs later
PIIX: neither IDE port enabled (BIOS)
PIIX: IDE controller on PCI bus 00 dev 39
PIIX: not 100% native mode: will probe irqs later
    ide0: BM-DMA at 0xe800-0xe807, BIOS settings: hda:pio, hdb:pio
    ide1: BM-DMA at 0xe808-0xe80f, BIOS settings: hdc:pio, hdd:pio
hda: IBM-DTTA-371010, ATA DISK drive
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
hda: IBM-DTTA-371010, 9641MB w/465kB Cache, CHS=19590/16/63, (U)DMA
md driver 0.36.6 MAX_MD_DEV=4, MAX_REAL=8
DC390: 1 adapters found
scsi0 : Tekram DC390/AM53C974 V2.0d 1998/12/25
scsi : 1 host.
DC390: Target 6: Sync transfer 5.0 MHz, Offset 8
  Vendor: HP        Model: HP35480A          Rev: T603
  Type:   Sequential-Access                  ANSI SCSI revision: 02
scsi : detected total.
Partition check:
 hda: hda1 hda2 hda3 < hda5 hda6 hda7 >
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 60k freed
Unable to load interpreter
NET4: Unix domain sockets 1.0 for Linux NET4.0.
Adding Swap: 102812k swap-space (priority -1)
tulip.c:v0.89H 5/23/98 becker@cesdis.gsfc.nasa.gov
eth0: Lite-On 82c168 PNIC at 0xe400, 00 a0 cc 3c a2 e3, IRQ 9.
eth0:  MII transceiver found at MDIO address 1, config 1000 status 782d.
eth0:  Advertising 01e1 on PHY 1, previously advertising 01e1.
ne2k-pci.c:vpre-1.00e 5/27/99 D. Becker/P. Gortmaker 
http://cesdis.gsfc.nasa.gov/linux/drivers/ne2k-pci.html
ne2k-pci.c: PCI NE2000 clone 'RealTek RTL-8029' at I/O 0xe000, IRQ 10.
eth1: RealTek RTL-8029 found at 0xe000, IRQ 10, 00:20:18:2C:A0:5D.
eth2: 3c509 at 0x300 tag 1, BNC port, address  00 20 af 53 3c e9, IRQ 10.
3c509.c:1.16 (2.2) 2/3/98 becker@cesdis.gsfc.nasa.gov.
eth0: Changing PNIC configuration to full-duplex, CSR6 812e0200.
Serial driver version 4.27 with no serial options enabled
ttyS00 at 0x03f8 (irq = 4) is a 16550A
parport0: PC-style at 0x3bc, irq 7 [SPP]
parport0: no IEEE-1284 device present.
lp0: using parport0 (interrupt-driven).
cat uses obsolete /proc/pci interface
-- 
_ciao, Jens_______________________________ 
http://www.pinguin.conetix.de
Windows NT indeed has very low Total Cost of Ownership. Trouble is,
Microsoft _owns_ Windows NT. You just licensed it.
-- 
_ciao, Jens_______________________________ 
http://www.pinguin.conetix.de
Windows NT indeed has very low Total Cost of Ownership. Trouble is,
Microsoft _owns_ Windows NT. You just licensed it.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/