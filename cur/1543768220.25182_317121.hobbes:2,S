Date: Tue, 10 May 2005 15:32:50 +0200
From: Andi Kleen <>
Subject: Re: [suse-amd64] False "lost ticks" on dual-Opteron system (=> timer twice as fast)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/10/88

On Tue, May 10, 2005 at 06:53:49AM -0400, Ed Tomlinson wrote:
> Maybe on UP too:
> 
> May  8 18:50:25 grover kernel: [143640.507170] Attached scsi removable disk sda at scsi5, channel 0, id 0, lun 0
> May  8 18:50:25 grover kernel: [143640.520422] rtc: lost some interrupts at 1024Hz.
> May  8 18:50:25 grover kernel: [143640.554134] Attached scsi generic sg0 at scsi5, channel 0, id 0, lun 0,  type 0
> May  8 18:50:25 grover kernel: [143640.567693] rtc: lost some interrupts at 1024Hz.
> May  8 18:50:25 grover kernel: [143640.596402] usb-storage: device scan complete
> 
> This from 12-rc3-mm3, UP x86_64 with powernow active.  
More likely it is some driver hogging interrupts (turning them off
for too long). You can boot with report_lost_ticks, then the normal
timer interrupt will complain. Note it always triggers at boot a few
times.
When you find the culprit report it to the driver driver maintainer.
> 
> It might be that the message is OK here since I do not see a fast clock.  I mention this
> since powernow is active here.
> 
> Should HPET be available in UP?
HPET is used on HPET only as the backing clock and to run the timer interrupt,
but not for gettimeofday because using the TSC is considerable
faster there. Actually the actual strategy is  bit more complicated,
it also depends on some other things.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/