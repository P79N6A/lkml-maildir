Date: 15 Dec 1999 22:16:23 +0200
From: (Alexander L. Belikoff)
Subject: 2.2.14pre13 - exception in __copy_user when running mount()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/15/220

Hello Alan and everybody,
I've just tried 2.2.14pre13 and I got exceptions during the boot-up.
Here's the info:
Hardware - Alpha dp264 SMP (dual), sym53c895 SCSI board, IBM SCSI
disk, DEC Tulip network card, serial console, SRM
Software - RedHat 5.2, binutils-2.9.1.0.15-1, glibc-2.0.7-29, egcs 1.0.3
The kernel is compiled as monolithic (mostly) - it does include kmod,
yet the only piece built as a module is the dummy net driver.
Anyway, during the boot, during the swap & fs mount stage, I get the
exceptions:
Partition check:
 sda: sda1 sda2 sda3
VFS: Mounted root (ext2 filesystem) readonly.
Freeing unused kernel memory: 104k freed
Adding Swap: 523640k swap-space (priority -1)
Adding Swap: 523640k swap-space (priority -2)
mount: Exception at [<fffffc0000428840>] (fffffc0000428880)
mount: Exception at [<fffffc0000428840>] (fffffc0000428880)
eth0: Setting full-duplex based on MII#1 link partner capability of 41e1.
According to System.map, the exception is apparently raised in __copy_user:
fffffc00004280b0 T strcpy
fffffc00004280c0 T strncat
fffffc0000428168 T strncpy
fffffc0000428180 t stxcpy_aligned
fffffc00004281e8 T __stxcpy
fffffc0000428370 t stxncpy_aligned
fffffc00004283f0 T __stxncpy
fffffc00004285c8 T strchr
fffffc0000428670 T strrchr
fffffc0000428740 T __copy_user
fffffc0000428914 T __do_clear_user
fffffc0000428a00 T __strncpy_from_user
fffffc0000428c28 T __strlen_user
fffffc0000428c30 T __strnlen_user
fffffc0000428cc0 T csum_ipv6_magic
This doesn't look very promising and I'll appreciate any suggestions
on how to fix it. BTW, is it serious enough to have it included in the
next 'ac' patch?
PS. Pretty much all 2.2.x kernels are giving the following messages
when booted on dp264:
buffer.c:43 spinlock stuck in kflushd at fffffc0000348f9c(1) owner swapper at fffffc00003101bc(0) init/main.c:43
buffer.c:43 spinlock grabbed in kflushd at fffffc0000348f9c(1) 3475 ticks
Are these messages supposed to warn about something bad, or it is just
a forgotten debug statement in buffer.c?
Thanks in advance,
-- 
Alexander L. Belikoff
Bloomberg L.P.
abel@vallinor4.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/