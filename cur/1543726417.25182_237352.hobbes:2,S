Date: Thu, 29 Jul 2004 15:43:09 -0400
From: Lee Revell <>
Subject: Re: [patch] voluntary-preempt-2.6.8-rc2-L2, preemptable hardirqs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/29/241

On Thu, 2004-07-29 at 14:04, Ingo Molnar wrote:
> * Lee Revell <rlrevell@joe-job.com> wrote:
> 
> > Here are some more results.  I am up to 56 million interrupts and I
> > have yet to trigger a latency higher than 46 usecs.  It looks like
> > this is a hard upper limit.
> 
> nice - what is the average (and minimum?) latency reported by jackd? 
> I'd say 46 usecs on a 600 MHz box is quite close to what it takes to
> handle an interrupt and schedule to the cache-cold jackd task. It should
> definitely be well below the latency required for jackd to do its job
> reliably.
Yes, I am quite impressed with these results.  The jitter is about 5-10%
of the total available time at the very lowest latency settings.  This
is an order of magnitude better than 2.4 + ll.  It went as high as 50
usecs, but this took about 100 million interrupts.  I have not hacked
jackd yet to keep track of the average and minimum value, but eyeballing
it I would say 7-8 usecs is the minimum and 25-30 the average.  The
distribution seems very normal.
I am going to try making the RTC irq non-redirectable as well, as I got
a few 'rtc: lost some interrupts at 1024 Hz' messages, and the RTC is
important for MIDI timing.
Other than the few outliers I reported earlier, this is very close to
being ready for general pro audio use.  I did notice that the msync()
XRUN can be reliably reproduced by 'apt-get update && apt-get upgrade'.
I think I can speak on behalf of all Linux audio users when I say:
thanks a million, to all kernel developers.
Lee
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/