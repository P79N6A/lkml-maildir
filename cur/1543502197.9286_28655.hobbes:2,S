Date: Thu, 8 Jul 1999 17:05:53 -0500 (CDT)
From: Jeffrey Hundstad <>
Subject: Re: MTRR and AGP graphic cards, two regions, exclusions
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/8/118

Thanks Jarno!
This works GREAT.
Before the write-combining x11perf -ellipse500:
	50000 reps @   0.1062 msec (  9420.0/sec): 500-pixel ellipse
With write-combining x11perf -ellipse500:
        80000 reps @   0.0661 msec ( 15100.0/sec): 500-pixel ellipse
Cool.
-- 
Jeffrey Hundstad
On  8 Jul, Jarno Paananen wrote:
> Jeffrey Hundstad <jeffrey.hundstad@mankato.msus.edu> writes:
> 
> | If I've read recent posts correctly there should also be an entry to
> | make the video writes be combined, correct?  It seems that my card has
> | Region 0 and Region 1, I suppose graphic and texture areas (see
> | below).  Which should I use?  Both?
> 
> In TNT region 0 is control registers, region 1 frame buffer.
> 
> | Should it be (I don't believe this is correct):
> | 
> | echo "base=0xf5000000 size=0x1625600 type=write-combining" >! /proc/mtrr
> | 
> | Also recently there was a post about excluding caching from I/O and
> | non-used areas.  How are these determined?
> 
> No, the size is in hexadecimal and you should apply this to region 1, ie.:
> 
> echo "base=0xfc000000 size=0x1000000 type=write-combining" >! /proc/mtrr
> 
> You don't have to exclude anything as you are not changing the
> control register region 0 in any way and it remains uncached as
> it should be.
> 
> // Jarno
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/