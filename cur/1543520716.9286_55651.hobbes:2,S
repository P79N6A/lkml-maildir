Date: Thu, 30 Dec 1999 10:31:57 +0100
From: Jean-Luc Coulon <>
Subject: dosemu compile crashes with 2.3.3x
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/30/18

Hi there,
I tried to compile dosemu from linux 2.3.xx. After decompressing the
tarball, I do a make :
after a while there is the following command executing :
---
ld86 -0 -T 0 -s -o booton.tmp booton.o
dd if=booton.tmp
of=/usr/local/src/dosemu-0.98.6/0.98.6.0/commands/booton.com bs=1
skip=288
288+0 enregistrements lus.
288+0 enregistrements écrits.
rm -f booton.tmp booton.o
gcc -E -D__AS86__ --traditional -I../include fossil.S  > fossil.s
as86 -l -0 -o fossil.o fossil.s > fossil.s.out
---
Then the following file extends to use all the free space on the disk
partition 
-rw-rw-r--   1 root     root     1411096576 déc 12 19:17 fossil.s.out
And the compile crashes when the device is full 
All works fine with 2.2.13, the same 'make' on the same source tree give
the same result. Dosemu is 0.98.6 ; I've tried 0.99.x and egcs too. I
get always the same result : the compile goes ok with 2.2.13 and crashes
with 2.3.3x.
I have this problem only with 2.3.xx kernel.
I've tested with dosemu-0.98.6 and 0.99.xx.
I've tested it with gcc 2.7.3 and with egcs 2.91.60
as86 come with the Debian 2.1 bin86 package (bin86-0.14.3)
System is Pentium 200MMX with :
- Kernel modutils        2.3.7          2.3.7
- Gnu C                  2.7.2.3        2.7.2.3
- Binutils               2.9.1.0.7      2.9.5
- Linux libc5 C Library  5.4.46         5.4.46
- Linux libc6 C Library  2.0.7pre6      2.0.7
- Dynamic Linker (ld.so) 1.9.9          1.9.10
- Linux C++ Library      2.7.2.8        27.2.1
- Procps                 1.2.9          1.2.9
- Procinfo               16             0.9
- Psmisc                 17             17
- Net-tools              1.50           2.01
- Sh-utils               1.16           1.16
- Autofs                 3.1.1          3.1.3
- NFS (client)           2.2beta40      2.2beta37
- nfs-utils (server)     0.1.4
- Bash                   1.14.7         2.01.1(1)
- PPP                    2.3.9          2.3.10
- Util-linux             2.9i           2.9i-1.2
Regards
Jean-Luc
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/