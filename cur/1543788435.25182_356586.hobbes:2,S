Date: Fri, 7 Oct 2005 00:31:37 +0100
From: Al Viro <>
Subject: Re: 2.6.13.3 Memory leak, names_cache
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/10/6/298

On Thu, Oct 06, 2005 at 02:31:38PM -0700, Linus Torvalds wrote:
> 
> 
> On Thu, 6 Oct 2005, Rick Lindsley wrote:
> > 
> > The code in open_namei() is a bit non-intuitive in error conditions,
> > but the general fix appears to be pretty straightforward.  Let me know if
> > this patch seems to do the trick for you.
> 
> This patch seems to be correct.
> 
> As far as I can tell, the name in "last.name" has always been allocated 
> with "__getname()", and it should thus always be free'd with "__putname()" 
> in order to not cause trouble with the horrible AUDITSYSCALL code.
> 
> Now, very arguably the real bug is that bug-prone code in AUDITSYSCALL, 
> but I suspect that for 2.6.14 I should just apply this patch.
> 
> Al? Any comments? (Full patch quoted here in case you haven't followed the 
> mailing list)
ACK, and the only comment is that audit crap would be better off in /dev/null.
Too late for that now, unfortunately...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/