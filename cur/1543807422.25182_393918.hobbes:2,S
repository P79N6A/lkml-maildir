Date: Mon, 6 Feb 2006 11:13:31 +0100
From: Pavel Machek <>
Subject: Re: [Suspend2-devel] Re: [ 00/10] [Suspend2] Modules support.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/6/83

On Po 06-02-06 09:44:56, Nigel Cunningham wrote:
> Hi.
> 
> On Sunday 05 February 2006 05:10, Pavel Machek wrote:
> > Hi!
> >
> > > > I'm not suggesting treating them as unfreezeable in the fullest
> > > > sense. I still signal them, but don't mind if they don't respond.
> > > > This way, if they do leave that state for some reason (timeout?) at
> > > > some point, they still get frozen.
> > >
> > > Yes, that's exactly what I wanted to do in swsusp. ;-)
> >
> > It seems dangerous to me. Imagine you treated interruptible tasks like
> > that...
> >
> > What prevent task from doing
> >
> > 	set_state(UNINTERRUPTIBLE);
> > 	schedule(one hour);
> > 	write_to_filesystem();
> > 	handle_signal()?
> >
> > I.e. it may do something dangerous just before being catched by
> > refrigerator.
> 
> The write_to_filesystem would be caught be bdev freezing if you had it.
But we don't... if you have bdev freezing, why do any other freezing
at all, then? It should be enough :-).
								Pavel
-- 
Web maintainer for suspend.sf.net (www.sf.net/projects/suspend) wanted...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/