Date: Sun, 10 Feb 2008 14:50:21 +0100
From: Jan Kiszka <>
Subject: Re: [4/6] consoles: polling support, kgdboc
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/10/140

Ingo Molnar wrote:
> From: Jan Kiszka <jan.kiszka@siemens.com>
> 
Well, actually not from me but from Jason. I think I just touched it
last for the configuration cleanups.
However, this fragment is additionally required to avoid crashes when
doing runtime reconfigurations. To avoid the ifdef'ery of the original
version, I just killed the __init - tiny-linux people may cry now...
Signed-off-by: Jan Kiszka <jan.kiszka@web.de>
---
 serial_core.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)
diff --git a/drivers/serial/serial_core.c b/drivers/serial/serial_core.c
index 8e6dce3..a72116a 100644
--- a/drivers/serial/serial_core.c
+++ b/drivers/serial/serial_core.c
@@ -1827,7 +1827,7 @@ uart_get_console(struct uart_port *ports, int nr, struct console *co)
  *	options.  The format of the string is <baud><parity><bits><flow>,
  *	eg: 115200n8r
  */
-void __init
+void
 uart_parse_options(char *options, int *baud, int *parity, int *bits, int *flow)
 {
 	char *s = options;
@@ -1872,7 +1872,7 @@ static const struct baud_rates baud_rates[] = {
  *	@bits: number of data bits
  *	@flow: flow control character - 'r' (rts)
  */
-int __init
+int
 uart_set_options(struct uart_port *port, struct console *co,
 		 int baud, int parity, int bits, int flow)
 {