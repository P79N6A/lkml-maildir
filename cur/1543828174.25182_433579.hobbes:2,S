Date: Sat, 17 Jun 2006 03:11:53 -0400
From: Brice Goglin <>
Subject: Re: [RFC] Whitelist chipsets supporting MSI and check Hyper-transport capabilities
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/17/21

Greg KH wrote:
> Whitelisting looks all well and good today, and maybe for the rest of
> the year.  But what about 3 years from now when everyone has shaken all
> of the MSI bugs out of their chipsets finally?  Do you really want to
> add a new quirk for _every_ new chipset that comes out?  I don't think
> that it is managable over the long run.
> 
We could still reverse the default. Right now, unless pci=forcemsi is
passed, I disable MSI if we don't know whether the chipset supports it.
Once blacklisting has been improved/completed, we can enable MSI by
default (and keep "pci=nomsi" in case a non-blacklisted chipset appears).
Or we could enable MSI by default on PCI-E chipsets and disable by
default on non-PCI-E (ie we whitelist non-PCI-E only) ? PCI-E chipsets
seem to support MSI pretty well.
I am ok with any strategy as long as I don't end up passing "pci=nomsi"
on most new machines I will install in the next 10 years (as I did with
"noapic" in the past) :)
Brice
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/