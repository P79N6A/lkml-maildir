Date: Thu, 11 Nov 2004 14:14:03 -0800
From: Andrew Morton <>
Subject: Re: 2.6.10-rc1-mm5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/11/196

"Martin J. Bligh" <mbligh@aracnet.com> wrote:
>
> ipc/shm.c:171: error: `shmem_set_policy' undeclared here (not in a function)
>  ipc/shm.c:171: error: initializer element is not constant
>  ipc/shm.c:171: error: (near initialization for `shm_vm_ops.set_policy')
>  ipc/shm.c:172: error: `shmem_get_policy' undeclared here (not in a function)
>  ipc/shm.c:172: error: initializer element is not constant
>  ipc/shm.c:172: error: (near initialization for `shm_vm_ops.get_policy')
hm, I'd have thought that -linus would have the same problem...
--- 25/ipc/shm.c~ipc-numa-build-fix	2004-11-11 14:12:11.874421600 -0800
+++ 25-akpm/ipc/shm.c	2004-11-11 14:12:27.949977744 -0800
@@ -167,7 +167,7 @@ static struct vm_operations_struct shm_v
 	.open	= shm_open,	/* callback for a new vm-area open */
 	.close	= shm_close,	/* callback for when the vm-area is released */
 	.nopage	= shmem_nopage,
-#ifdef CONFIG_NUMA
+#if defined(CONFIG_NUMA) && defined(CONFIG_SHMEM)
 	.set_policy = shmem_set_policy,
 	.get_policy = shmem_get_policy,
 #endif
_
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/