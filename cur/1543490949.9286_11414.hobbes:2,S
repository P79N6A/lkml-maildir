Date: Thu, 25 Mar 1999 12:20:50 -0500 (EST)
From: Chuck Lever <>
Subject: Re: Linux-2.2.4 testpatch..
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/25/83

On Thu, 25 Mar 1999, Theodore Y. Ts'o wrote:
> I think the point Chuck was trying to make was not that preserving
> buffers was good because of making a pool of quick-allocation free
> buffers, but because doing so preserved the *contents* of those
> buffers ---- this is because try_to_free_buffers() doesn't take into
> account whether the buffers on any particular pages are often
> referenced.  So if the buffers contain the disk blocks corresponding to
> some commonly used executable that just doesn't happen to be in use at
> the moment, try_to_free_buffers will evict the page, thus forcing the
> disk blocks to be read in from disk the next time they are needed.
> 
> While I agree with you that leaving b_coutn as 1 is a really horrible
> way of fixing this problem, the real solution which is quite urgently
> needed is to put some more smarts into try_to_free_buffers....
what ted said... :)  i wasn't thinking of quick-allocation, although that
would/has helped too.  my concern was and is the arbitrariness of
try_to_free_buffers() selection of which page to steal.
	- Chuck Lever
--
corporate:	<chuckl@netscape.com>
personal:	<chucklever@netscape.net> or <cel@monkey.org>
The Linux Scalability project:
	
http://www.citi.umich.edu/projects/citi-netscape/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/