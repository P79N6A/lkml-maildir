Date: Thu, 28 Apr 2005 14:55:12 +0200
From: Lars Marowsky-Bree <>
Subject: Re: [PATCH 1b/7] dlm: core locking
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/28/110

On 2005-04-28T02:49:04, Daniel Phillips <phillips@istop.com> wrote:
> > Just some food for thought how this all fits together rather
> > neatly.
> 
> It's actually the membership system that glues it all together.  The
> dlm is just another service.
Membership is one of the lowest level and high privileged inputs to the
whole picture, of course.
However, "membership" is already a pretty broad term, and one must
clearly state what one is talking about. So we're clearly focused on
node membership here, which is a special case of group membership; the
top-level, sort of. 
Then every node has it's local view of node membership, constructed
typically from observing node heartbeats.
Then the nodes communicate to reach concensus on the coordinated
membership, which will usually be a set of nodes with full N:N
connectivity (via the cluster messaging mechanism); and they'll also
usually aim to identify the largest possible set.
Eventually, there'll be a membership view which also implies certain
shared data integrity guarantees if appropriate (ie, fencing in case a
node didn't go down cleanly, and granting access on a clean join).
These steps but the last one usually happen completely internal to the
membership layer; the last one requires coordination already, because
the fencing layer itself might need recovery before it can fence
something after a node failure.
And then there's quorum computation.
Certainly you could also try looking at it from a membership-centric
angle, but the piece which coordinates the recovery of the various
components which makes sure the right kind of membership events are
delivered in the proper order, and errors during component recovery are
appropriately handled, is, I think, pretty much distinct from the
"membership" and a higher level component. 
So I'm not sure I'd buy "the membership is what glues it all together"
on eBay even for a low starting bid.
Sincerely,
    Lars Marowsky-Br√©e <lmb@suse.de>
-- 
High Availability & Clustering
SUSE Labs, Research and Development
SUSE LINUX Products GmbH - A Novell Business
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/