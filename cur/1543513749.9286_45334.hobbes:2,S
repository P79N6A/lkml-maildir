Date: Fri, 22 Oct 1999 15:53:28 +0200
From: Jamie Lokier <>
Subject: Re: raw memory & PCI bus access
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/22/68

Rogier Wolff wrote:
> Alan is a bit terse every now and then. In this case, that's because
> he's been explaining this over and over again. 
I guess he thinks we don't understand.  Let me explain.
I understand perfectly why shared interrupts cannot be processed using
disable_irq(), and why you must use device specific code to acknowledge
the interrupt.  To all device driver authors: this is the truth.
My point is that when developing a driver for a device without
documentation, where you don't know how to acknowledge the interrupt
(yet), this strategy works:
    - Select an UNSHARED interrupt line.
    - Call disable_irq() when the interrupt is received,
      and enable_irq() when you're ready to receive another.
Of course this is slow, prone to failure, won't work everywhere and
generally bad.  No driver in the kernel rhould even do this.
But for a hack to test something, it does work.
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/