Date: Tue, 11 Apr 2006 01:10:59 +0200
From: Rene Herman <>
Subject: Re: [Alsa-devel] Re: [ALSA 1/2] continue on IS_ERR from platform device registration
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/10/234

Takashi Iwai wrote:
> Hm, surely it's not so intuitive in the case of ISA devices.  Maybe 
> it'd be better to keep the current behavior:  probe() returns an
> error if no device is found at loading...
Okay. It's always possible to revisit the isssue later. Keeping the old
behaviour is what the already submitted patches did. probe() returning
an error is not enough; the issue was/is that that error is not
being passed up. Using drvdata as a private success flag as submitted
works fine fortunately; all drivers do a platform_set_drvdata(device,
card) just before returning success from probe().
I'll repost them following this message. Have been generated against
2.6.17-rc1-mm2.
Will also post them (and the !enable[i] patch) against 2.6.16.2 for
-stable. You already acked the !enable[i] and continue-on-is_err patches
for -stable, the third is the same unregister patch, restoring the old
fail-to-load behaviour also for -stable.
Considering that one of the rules for -stable is that fixes also need to 
be present in upstream trees, could you relay the three patches for 
-stable yourself?
Rene.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/