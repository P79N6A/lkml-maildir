Date: Tue, 4 Mar 2008 16:24:17 +1000
From: Greg Ungerer <>
Subject: [M68KNOMMU]: remove duplicate hw_tick() code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/4/23

Remove duplicate hw_tick() function from 68328 timers code.
Signed-off-by: Greg Ungerer <gerg@uclinux.org>
---
diff -Naurp linux-2.6.25-rc3/arch/m68knommu/platform/68328/timers.c linux-2.6.25-rc3.foo/arch/m68knommu/platform/68328/timers.c
--- linux-2.6.25-rc3/arch/m68knommu/platform/68328/timers.c	2008-02-25 14:04:51.000000000 +1000
+++ linux-2.6.25-rc3.foo/arch/m68knommu/platform/68328/timers.c	2008-03-04 16:04:51.000000000 +1000
@@ -67,16 +67,6 @@ static irqreturn_t hw_tick(int irq, void
 
 /***************************************************************************/
 
-static irqreturn_t hw_tick(int irq, void *dummy)
-{
-	/* Reset Timer1 */
-	TSTAT &= 0;
-
-	return arch_timer_interrupt(irq, dummy);
-}
-
-/***************************************************************************/
-
 static struct irqaction m68328_timer_irq = {
 	.name	 = "timer",
 	.flags	 = IRQF_DISABLED | IRQF_TIMER,