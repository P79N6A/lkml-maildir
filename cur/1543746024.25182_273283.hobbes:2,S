Date: Mon, 22 Nov 2004 10:31:00 +0100
From: Christian Meder <>
Subject: Re: [patch] Real-Time Preemption, -RT-2.6.10-rc2-mm1-V0.7.28-1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/22/34

On Fri, 2004-11-19 at 10:54 +0100, Ingo Molnar wrote: 
> * Christian Meder <chris@onestepahead.de> wrote:
> 
> > This just leaves me with the mysterious traceless jvm related crash.
> > I'll do my best to get a trace ;-)
> 
> it would be equally useful to somehow reproduce the lockup with public
> software only, and post the precise steps how to reproduce it.
Hi Ingo,
after two evenings of experimenting this is the current status
(everything based on 0.7.29-0, will try 0.7.30-x during the day):
* the lockup can't be triggered from the console or using a remote
session and I really tried to torture the box ;-)
* the real trigger is mouse activity in X
* the other important factor is running the jvm in profiling mode,
running without jvm or with the jvm in non-profiling mode leaves the box
stable
* I couldn't yet figure out the pattern of java program which is
triggering. Not every java program is triggering but at least I found
several public available ones. I wrote some small test programs doing
simple multithreading but they didn't trigger.
So the simplest setup I found til now is the following: 
chris@blue:~$ java -version
java version "1.4.1"
Java(TM) 2 Runtime Environment, Standard Edition (build Blackdown-1.4.1-01)
Java HotSpot(TM) Client VM (build Blackdown-1.4.1-01, mixed mode)
chris@blue:~$ JAVA_OPTIONS=-Xrunhprof:cpu=samples,file=crap.log,depth=3 jython 
Jython 2.1 on java1.4.1 (JIT: null)
Type "copyright", "credits" or "license" for more information.
>>>
Now moving the mouse around in X will make the box lockup in less than
10 seconds.
I'm not sure if JAVA_OPTIONS is a standard jython feature but at least
it's part of the jython-wrapper script of Debian.
				Christian
-- 
Christian Meder, email: chris@onestepahead.de
The Way-Seeking Mind of a tenzo is actualized 
by rolling up your sleeves.
                (Eihei Dogen Zenji)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/