Date: 28 Jul 2003 13:52:20 -0700
From: Roland Dreier <>
Subject: Re: DMA not supported with Intel ICH4 I/O controller?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/28/271

    Kathy> It's a proprietary board that we use to allow the PC to
    Kathy> send blocks of data to some industrial equipment.  We
    Kathy> developed the hardware and Linux driver in-house.  This
    Kathy> same board works (under Linux) on a MoBo using the Intel
    Kathy> 815E chipset (Pentium III) with an IHC2 I/O Controller Hub.
    Kathy> This is the system I did _all_ my stress testing in.  The
    Kathy> plan was to ship our product with these ASUS P4PE MoBos
    Kathy> (using Intel 845PE and ICH4 controller) and were
    Kathy> un-pleasantly surprise when it didn't work.
It sounds like your board is acting as a PCI bus master.  This is
completely different from DMA for the IDE controller.  External PCI
bus masters should be supported by any version of Linux that works on
the motherboard at all.
However there are of course many differences between an 815E and an
845PE motherboard, and between the ICH2 and ICH4.  You may have
borderline PCI compliance or signal integrity issues that only cause
problems on the P4PE motherboard.  The BIOS on the P4PE may be setting
your device up differently from the 815E motherboard.  Your device
might be confusing the BIOS on the P4PE so that the IRQ routing
information (eg in ACPI tables) is screwed up.  And so on.
However, I have not heard of any generic problems with external PCI
bus masters and the ICH4.
Best,
  Roland
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/