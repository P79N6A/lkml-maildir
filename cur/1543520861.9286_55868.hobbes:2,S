Date: Wed, 5 Jan 2000 22:26:36 +0300 (MSK)
From:  kuznet@ms2 ...
Subject: Re: TIME_WAIT/MSL is 2 seconds--bug/feature?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/5/49

Hello!
> RFC793 says to short cut TIME-WAIT when a SYN arrives and to enter
> CLOSE.
RFC793 does not tell this, _certainly_.
RFC793 prescribes to abort socket, if the SYN is in window.
Duplicate SYN cannot be in window and it generates ACK as any
out of window segment does.
Actually, it is not required to read any specs to understand
that timewait state not catching old duplicates is completely useless. 8)
"Assasination" is more complicated phenomenon, it involves
_our_ old duplicate, which reaches another end, where socket is destroyed,
so that RST is generated with correct sequence number, returns back
and kills us. It is exaclty, why rfc1337 is optional and paranoid.
The fact that some segment passed all the path in both direction shows
that the path is clean of old duplicates, so that timewait state
can be destroyed.
> Linux is compliant to RFC793 here.
Alas, it contradicts to all known RFCs in this place 
and to common sense too 8).
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/