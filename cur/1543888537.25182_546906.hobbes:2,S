Date: Sun, 20 May 2007 22:29:54 -0400
From: "Denver Gingerich" <>
Subject: [PATCH] fix compiler warning in fixed.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/20/238

---------- Forwarded message ----------
From: Denver Gingerich <denver@ossguy.com>
Date: May 9, 2007 9:26 PM
Subject: [PATCH] fix compiler warning in fixed.c
To: kernel-janitors@lists.linux-foundation.org
Correct the following compiler warning (and warnings resulting from
the correction):
warning: 'fixed_mdio_register_device' defined but not used
Signed-off-by: Denver Gingerich <denver@ossguy.com>
---
--- linux-2.6.21/drivers/net/phy/fixed.c.000    2007-05-09
18:56:33.000000000 -0400
+++ linux-2.6.21/drivers/net/phy/fixed.c        2007-05-09
21:07:35.000000000 -0400
@@ -89,6 +89,7 @@ EXPORT_SYMBOL(fixed_mdio_set_link_update
 /*-----------------------------------------------------------------------------
  *  This is used for updating internal mii regs from the status
  *-----------------------------------------------------------------------------*/
+#if defined(CONFIG_FIXED_MII_100_FDX) || defined(CONFIG_FIXED_MII_10_FDX)
 static int fixed_mdio_update_regs(struct fixed_info *fixed)
 {
        u16 *regs = fixed->regs;
@@ -165,6 +166,7 @@ static int fixed_mii_reset(struct mii_bu
        /*nothing here - no way/need to reset it*/
        return 0;
 }
+#endif
 static int fixed_config_aneg(struct phy_device *phydev)
 {
@@ -194,6 +196,7 @@ static struct phy_driver fixed_mdio_driv
  * number is used to create multiple fixed PHYs, so that several devices can
  * utilize them simultaneously.
  *-----------------------------------------------------------------------------*/
+#if defined(CONFIG_FIXED_MII_100_FDX) || defined(CONFIG_FIXED_MII_10_FDX)
 static int fixed_mdio_register_device(int number, int speed, int duplex)
 {
        struct mii_bus *new_bus;
@@ -301,6 +304,7 @@ device_create_fail:
        return err;
 }
+#endif
 MODULE_DESCRIPTION("Fixed PHY device & driver for PAL");
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/