Date: Wed, 31 Jan 2007 11:07:01 +0200
From: Avi Kivity <>
Subject: Re: [PATCH 5/5] KVM: Host suspend/resume support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/1/31/41

Rafael J. Wysocki wrote:
> On Tuesday, 30 January 2007 22:20, Nigel Cunningham wrote:
> 
>> Hi.
>>
>> On Tue, 2007-01-30 at 14:57 +0000, Avi Kivity wrote:
>> 
>>> Add the necessary callbacks to suspend and resume a host running kvm.  This
>>> is just a repeat of the cpu hotplug/unplug work.
>>>
>>> Signed-off-by: Avi Kivity <avi@qumranet.com>
>>> 
>> Maybe it's just a lack of understanding, but I'm wondering if this patch
>> is necessary - we already hot-unplug secondary cpus prior to suspending
>> devices.
>> 
>
> 
The on_each_cpu() in the patch really means on_this_cpu().
> Not with the reoredering patches that are in -mm, though.  With these patches,
> the nonboot CPUs are disabled after "regular" devices.
> 
After that, it means on_each_cpu() again, and the hotplug patch becomes 
unnecessary (except to support hotplug, of course).
Assuming I understand things correctly, which if not at all certain.
-- 
error compiling committee.c: too many arguments to function
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/