Date: Sun, 21 Dec 2003 23:23:38 +0100
From: Willy Tarreau <>
Subject: Re: lot of VM problem with 2.4.23
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/21/116

On Sun, Dec 21, 2003 at 10:09:17PM +0100, Octave wrote:
> > This is not a kernel panic, its the VM debugging output.
> > 
> > Can you please apply the attached patch on top of 2.4.23 and rerun the
> > test with "echo 1 > /proc/sys/vm_gfp_debug" ?
> > 
> > It will printout the number of available swap pages when processes get
> > killed.
> 
> Marcelo,
> 
> How about this ?
> 
> Dec 21 22:08:44 stock kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
> Dec 21 22:08:44 stock kernel: OOM: nr_swap_pages=0cd865e6c c012e1e8 c0262e3c 00000000 000001d2 00000000 00000001 cd863c00 
OK, so there's no available swap anymore (nr_swap_pages=0, Marcelo forgot the
'\n' in the patch). I simply think that with other kernels, you're very short
of memory, but it runs, while with this one, all memory gets consumed, and
since there's no smart oom killer, one process has to get killed.
Cheers,
Willy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/