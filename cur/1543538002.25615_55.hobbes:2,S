Date: Sat, 1 Jul 2000 18:41:15 +0000
From: Shane Nay <>
Subject: Re: a joint letter on low latency and Linux
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/7/3/55

The following is very well put:
> 
> The wording is important because is makes clear what you want:
> Goal A:
>    I want low latency Linux where typical interrupt response time is
>    under K ms and  violations are  rare --  usually no more than one
>    every T hours under such and such a load.
> 
> Goal B:
>    I want hard realtime guarantees in Linux, but I don't need a full
>    realtime operating system, just promise  my application's hard 
>    realtime requirement is met.
> 
> In my humble opinion: Goal A is great, Goal B is horrible.
> 
Goal A would seem to be a reasonable objective.  Start with the preemption
points that Linus felt were acceptable.  Then *maybe* pick a "logical"
subsystem to add preemption points to.  Don't randomnly pick X piece of code
because it gives you better results.  That's really hard to maintain, because
down the road a fellow will be looking at that code and think to himself...,
now what the heck is that for?  Not only that but it can be very nicely
"packaged" where people can look for potential problems in that section of
code.
It might be my limited understanding but I think what Alex was saying
was that imagine this scenario: You sprinkle your code all arround, it was put
in a place where "something" was locked, then you need to respond to one of
your scheduled required responses and it happens to call back on something that
wants that lock..., now your kernels deadlocked.  Is that impossible?, no not
at all, the kernels complex, and without this code being in a logical place a
person could lock something send it off to a function where you force CPU time
to your app and the whole thing goes down in flames.
The last bit is that of performance, clearly this code will be executed many
times..., at a minimum every 5ms that will have a drag on the system.  Not to
mention if in someones "quest for perfection" they get over zealous, now we'd
be talking _Serious_ overhead so people can play mpegs without skipping.
Shane.
(Don't get me wrong, it would be nice to be able to run something like rtbash,
and get that webserver up and running a lot faster after Apache starts swapping
out it's processes, but at what cost?)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/