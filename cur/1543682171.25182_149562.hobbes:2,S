Date: Fri, 18 Jul 2003 17:10:39 +0100
From: David Woodhouse <>
Subject: Re: NFS structure allocation alignment patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/18/194

On Wed, 2003-07-16 at 16:03, Richard Curnow wrote:
> Apart from this issue, we haven't seen any code- or compiler-related
> problems due to misaligned loads and stores occurring.
That doesn't mean they don't exist. Various parts of the network code
_require_ alignment fixups -- the common case is that it'll be aligned,
and we take the hit only in the _rare_ case of misalignment rather than
using get_unaligned() in the fast path.
Also the flash code does the same in places too. It _did_ use
get_unaligned() for a while but it was removed since it's never valid
for an architecture to _not_ fix up unaligned in-kernel accesses.
> I bet someone will wonder how the misalignment hadn't shown up before.
Because all other architectures implement alignment fixups.
-- 
dwmw2
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/