Date: Wed, 5 Mar 2008 23:52:16 +0100 (CET)
From: Thomas Gleixner <>
Subject: Re: [PATCH] atmel_tc clocksource/clockevent code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/5/441

On Wed, 5 Mar 2008, Remy Bohmer wrote:
> Hello Thomas,
> 
> >  > Attached I have put a screendump of my ETM debugger. It shows a
> >  > complete flow of kernel function-calls of what happens on a timer
> >  > interrupt. In this example the complete sequence takes about 154 us.
> >  > Notice that the ETM is non-intrusive, and that the times are real and
> >  > accurate in this trace. (you can even see the effects of CPU-caches,
> >  > sometimes the same code just runs faster)
> >
> > Is there any chance to convert this to a text table? Following that
> >  png is pretty hard.
> 
> I will see what I can do, but this was the easiest way (it was just a
> print-screen;-) )
> But, will text-dump make it more clear? It could also contain the time
> each assembler instruction will take behind the routines...
text files can be parsed by scripts :)
> But, I will look into that tomorrow. (approx. 12 hours from now)
thnx
> >  > So, hires timestamps -> really really welcome.
> >  > hires timers -> there should be a (configurable) minimal resolution
> >  > that fits the hardware to not overload the CPU.
> >
> > clockevents let you set a minimum delta already. This can be set at
> >  runtime before registering the device.
> 
> But, I want to expose a bigger risk here.
> Apparently it is possible that a non privileged user can overload the
> system easily, by starting a high frequency periodic timer. The system
> will be that busy handling that timer that the system stops
> responding, thus it will result in some kind of Denial-of-Service
> situation, even on X86.
Wrong. The rearm condition is that the task is rescheduled. On any
platform.
Thanks,
	tglx