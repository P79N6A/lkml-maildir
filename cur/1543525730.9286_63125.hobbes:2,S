Date: Mon, 14 Feb 2000 02:33:35 -0500
From: Rui Sousa <>
Subject: Problem with kernels 2.3.43/4/5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/14/20

Hi,
I'm seeing programs failing with segmentation fault while loading.
I first noticed the problem with kernel-2.3.43.
I've seen it happen with netscape and vi, which work ok with other
kernel versions. Also the problem seems to happen while still executing
the ld-linux library code.
"strace vi" gives:
...
open("/usr/share/locale/en_US/LC_TIME", O_RDONLY) = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=508, ...}) = 0
mmap(0, 508, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40015000
close(3)                                = 0
open("/usr/share/locale/en_US/LC_NUMERIC", O_RDONLY) = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=27, ...}) = 0
mmap(0, 27, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40016000
close(3)                                = 0
open("/usr/share/locale/en_US/LC_CTYPE", O_RDONLY) = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=10428, ...}) = 0
mmap(0, 10428, PROT_READ, MAP_PRIVATE, 3, 0) = 0x40302000
close(3)                                = 0
ioctl(1, TCGETS, {B38400 opost isig icanon echo ...}) = 0
brk(0x81be000)                          = 0x81be000
--- SIGSEGV (Segmentation fault) ---
+++ killed by SIGSEGV +++
and "gdb vi core" gives:
Core was generated by `vi'.
Program terminated with signal 11, Segmentation fault.
Reading symbols from /usr/X11R6/lib/libXt.so.6...(no debugging symbols
found)...done.
Reading symbols from /usr/X11R6/lib/libX11.so.6...(no debugging symbols
found)...done.
Reading symbols from /usr/lib/libncurses.so.4...(no debugging symbols
found)...done.
Reading symbols from /lib/libdb.so.3...done.
Reading symbols from /usr/lib/libgdbm.so.2...done.
Reading symbols from /lib/libdl.so.2...done.
Reading symbols from /lib/libm.so.6...done.
Reading symbols from /lib/libc.so.6...done.
Reading symbols from /lib/libcrypt.so.1...done.
Reading symbols from /lib/libpthread.so.0...done.
Reading symbols from /usr/X11R6/lib/libSM.so.6...done.
Reading symbols from /usr/X11R6/lib/libICE.so.6...done.
Reading symbols from /lib/ld-linux.so.2...done.
#0  0x807c800 in do_bang ()
(gdb) bt:
#0  0x807c800 in do_bang ()
#1  0x80e6d0c in win_alloc ()
#2  0x8098233 in main ()
#3  0x401c01eb in __libc_start_main (main=0x8098100 <main>, argc=1,
argv=0xbffffb84, 
    init=0x8069930 <_init>, fini=0x81784bc <_fini>, rtld_fini=0x4000a610
<_dl_fini>, stack_end=0xbffffb7c)
    at ../sysdeps/generic/libc-start.c:90
No messages in /var/log/messages.
Dual PII, SMP kernel, 128 Mb.
Rui Sousa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/