Date: Thu, 31 Dec 1998 17:07:34 +0100 (CET)
From: MOLNAR Ingo <>
Subject: Re: IO-APIC timer 2.1/2.2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/31/167

On Thu, 31 Dec 1998, Agus Budy Wuysang wrote:
> My /proc/interrupts looks like this:
> 
>            CPU0       CPU1       
>   0:     529340          0          XT-PIC  timer
>   1:       4299       4348    IO-APIC-edge  keyboard
> (kernel boot message attached)
it says:
init IO_APIC IRQs
 IO-APIC pin 0, 2, 20, 21, 22, 23 not connected.
...trying to set up timer as ExtINT... .. (found pin 0) ... works.
which means that the kernel has detected that IO-APIC timer IRQs do not
arrive to the CPU, thus it's trying to work around the problem, first by
looking at so-called 'ExtINT' entries in the mptable.
fortunately timer IRQs are not that performance-critical, so it's not a
big problem. The local per-CPU APIC timer interrupts (which do things like
rescheduling and timer statistics) work just fine. The external interrupt
only does timekeeping (jiffies and NTP). 
> The questions:
> - Is there anyway I can enable IO-APIC for timer?
i'm afraid not. You have a motherboard that does not have the timer
connected to any APIC pin.
> - Which one is faster/better IO-APIC-level or edge?
the 'better' one is level (better sharing and better noise protection). 
But both work just fine from the stability point of view. [Some IRQs
(timer, keyboard, RT clock, internal IDE chipset, etc.) which are
integrated into the chipset might have fixed trigger-mode requirements, so
they mostly show up as edge IRQs, but this is not a problem since they are
not an external device.]
-- mingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/