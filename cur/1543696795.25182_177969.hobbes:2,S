Date: Thu, 13 Nov 2003 12:38:47 +0100
From: Pavel Machek <>
Subject: Re: Weird ext2 problem in 2.4.18 (redhat)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/13/32

Hi!
> > Hey, neato, it gets weirder.  I went to go run an example and now most of
> > the files in " src/" are gone, most but not all.
> 
> Sounds like there is a two directory entries with the same name in the
> same directory.  This can cuase severe confusion since the kernel
> assumes that this will never happen.  Depending on which one gets
> found first, and what is cached in the dentry cache, you'll get one
> inode or the other.
> 
> E2fsck doesn't normally notice these sorts of inconsistencies, since
> it takes too much time and memory to look for duplicate entries.  If
> you optimize directories using "e2fsck -fD", it will find and offer to
> rename directory entires with a duplicated name.
Is not that a little dangerous? I'd expect filesystem to be
okay after doing plain normal check.
What about at least documenting it in BUGS section of man
page?
-- 
				Pavel
Written on sharp zaurus, because my Velo1 broke. If you have Velo you don't need...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/