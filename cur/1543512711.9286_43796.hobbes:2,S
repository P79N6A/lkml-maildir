Date: Tue, 12 Oct 1999 23:45:52 +0200 (CEST)
From: Andrea Arcangeli <>
Subject: Re: sysrq_enabled MIA: drivers/char/keyboard.c (was Re: 2.3.21 fails to  compile)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/12/128

On Tue, 12 Oct 1999, Jeff Garzik wrote:
>John Kennedy wrote:
>> > Michael Harnois wrote:
>> > > kernel/kernel.o(.data+0x1460): undefined reference to `sysrq_enabled'
>> > > drivers/char/char.o: In function `handle_scancode':
>> > > drivers/char/char.o(.text+0xb614): undefined reference to `sysrq_enabled'
>
>>   [patch against drivers/char/sysrq.c deleted]
>> 
>>   It looks like drivers/char/keyboard.c is where it is missing from:
>
>IMHO drivers/char/sysrq.c is a better place for a sysrq-related global.
Agreed. (untested)
--- 2.3.21/drivers/char/sysrq.c.~1~	Tue Sep 14 14:32:50 1999
+++ 2.3.21/drivers/char/sysrq.c	Tue Oct 12 22:56:53 1999
@@ -33,6 +33,8 @@
 extern int console_loglevel;
 extern struct vfsmount *vfsmntlist;
 
+int sysrq_enabled = 1;
+
 /* Send a signal to all user processes */
 
 static void send_sig_all(int sig, int even_init)
Andrea
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/