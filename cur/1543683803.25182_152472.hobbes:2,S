Date: Tue, 29 Jul 2003 10:46:58 +0200
From: Thomas Schlichter <>
Subject: Re: [PATCH] ACPI patch which fixes all my IRQ problems on nforce2 -- linux-2.5.75-acpi-irqparams-final4.patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/29/48

On Monday 28 July 2003 23:16, Andrew de Quincey wrote:
> > > Sorry, there's still a kernel oops during bootup. I'll provide a kernel
> > > trace when I'm back at home.
> > >
> > > Regards, Al
> >
> > I tried to dump the kernel messages onto my printer. Unfortunatly it
> > doesn't print anything, only with acpi=off.
> >
> > This is somehow unconventional, but here's a link for a screenshot of
> > the trace. Sorry, one screen is missing but the messages were too fast
> > for my camera :) I can still recognize a lots of ......... on the
> > missing screen.
> >
> > 
http://w3studi.informatik.uni-stuttgart.de/~rauar/IMG_1120.JPG
>
> Thats obviously either a bug in the ACPI parser, or a bug in the AML code
> of your BIOS. Can you send a copy of your /proc/acpi/dsdt.
>
> Oh er, as you can't boot it with ACPI, use
> 
http://people.freebsd.org/~takawata/pacpidump.tar.gz
 to dump it in non-ACPI
> mode..
Hi,
I seem to have a similar problem as Alexander has, too. I get an Oops that I 
cannot dump when booting an ACPI enabled 2.6.0-test2-mm1 with the nforce2-
acpi-fixes.patch or your acpi-irqparams-final5.patch.
I can boot 2.6.0-test2-mm1 with ACPI enabled and the nforce2-acpi-fixes.patch 
reverted. My /proc/acpi/dsdt is attached.
But I do have a problem with false routed USB IRQs here, so I hoped your patch 
could help me, too... The correct IRQ routing (without ACPI) and my false IRQ 
routing (with ACPI) is attached, too.
I hope this may help...
   Thomas Schlichter
[unhandled content-type:application/octet-stream]           CPU0       
  0:     219530    IO-APIC-edge  timer
  1:        558    IO-APIC-edge  i8042
  2:          0          XT-PIC  cascade
  4:         11    IO-APIC-edge  serial
  8:          2    IO-APIC-edge  rtc
 12:         97    IO-APIC-edge  i8042
 14:       9393    IO-APIC-edge  ide0
 15:         11    IO-APIC-edge  ide1
 16:       1104   IO-APIC-level  nvidia
 17:         73   IO-APIC-level  eth0
 18:          4   IO-APIC-level  bttv0
 21:          0   IO-APIC-level  uhci-hcd, uhci-hcd, uhci-hcd, ehci_hcd
NMI:          0 
LOC:     219470 
ERR:          0
MIS:          0
           CPU0       
  0:     360844    IO-APIC-edge  timer
  1:        722    IO-APIC-edge  i8042
  2:          0          XT-PIC  cascade
  4:         11    IO-APIC-edge  serial
  5:          0    IO-APIC-edge  uhci-hcd
  8:          2    IO-APIC-edge  rtc
  9:          0    IO-APIC-edge  acpi
 10:          0    IO-APIC-edge  uhci-hcd
 11:          0    IO-APIC-edge  uhci-hcd, ehci_hcd
 12:       6901    IO-APIC-edge  i8042
 14:      30820    IO-APIC-edge  ide0
 15:         11    IO-APIC-edge  ide1
 16:      17959   IO-APIC-level  nvidia
 17:        302   IO-APIC-level  eth0
 18:          4   IO-APIC-level  bttv0
 19:       7082   IO-APIC-level  EMU10K1
NMI:          0 
LOC:     360737 
ERR:          0
MIS:          0