Date: Sun, 01 Aug 2004 18:16:41 +0200
From: Thomas Charbonnel <>
Subject: Re: [patch] voluntary-preempt-2.6.8-rc2-M5
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/1/72

Ingo Molnar wrote :
> i've uploaded the latest version of the voluntary-preempt patch:
> 
> 
http://redhat.com/~mingo/voluntary-preempt/voluntary-preempt-2.6.8-rc2-M5
> 
This patch doesn't solve the latency spikes I see every ~8 seconds on my
system. They still appear in latencytest when the rtc interrupt is the
only non threaded interrupt on the system, and they still produce xruns
in jack in conjunction with the keyboard even if the the sound card's
interrupt is the only non threaded irq and jack's SCHED_FIFO priority is
higher than the irq threads. I suspected a clock issue and switched from
tsc to pmtmr without success. I now suspect a hardware issue (the
machine is a laptop with a PIII M 1GHz cpu) or a scheduler corner case.
Running jack at 96000Hz with 2 periods of 64 samples, I can see regular
bursts of cpu usage every 2 or 3 seconds. Oprofile reveals that schedule
is then the second most CPU intensive function on the system.
Thomas
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/