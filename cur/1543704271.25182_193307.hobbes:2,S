Date: Fri, 23 Jan 2004 18:23:29 +0100 (CET)
From: "Maciej W. Rozycki" <>
Subject: Re: [PATCH][2.6] local APIC LVTT init bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/1/23/124

On Fri, 23 Jan 2004, Linus Torvalds wrote:
> It's entirely possible that the bug isn't in the integrated APIC per se, 
> but migth be in ACPI/SMM getting confused when it reads the LVTT value and
> tries to do something with it. And since the system vendors don't tend
> to test with Linux (or test only with a few standard kernels that may not 
> even have APIC enabled) the code might never have been tested with that 
> behaviour.
 Hmm, but are the timer base selection bits actually flippable in any
integrated APICs?  I've never seen them set to anything but "00" in my P5
APICs despite our initialization code.
> Now quite honestly, I don't know _why_ it would read the value, so that 
> theory is a pretty weak one, but the point being that it's not absolutely 
> necessary that the hardware itself be broken. This is the reason we see
> most SMM/BIOS bugs - the code just assumes certain states.
 It constantly amazes me what imaginative ways to trigger failures the
designers of PC firmware find -- given no coupling of OSes to hardware
vendors one cannot assume any particular state of the hardware.  This is
especially true with the SMM, which may often get entered at any moment,
beyond control of the OS.
-- 
+  Maciej W. Rozycki, Technical University of Gdansk, Poland   +
+--------------------------------------------------------------+
+        e-mail: macro@ds2.pg.gda.pl, PGP key available        +
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/