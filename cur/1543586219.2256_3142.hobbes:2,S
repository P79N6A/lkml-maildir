Date: Thu, 29 Mar 2001 12:30:36 -0600
From: "Woller, Thomas" <>
Subject: RE: Incorrect mdelay() results on Power Managed Machines x86
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/3/29/117

i talked with Keith Frechette at IBM, he is in charge of Linux for IBM.  he
indicated that they are working issues with INTEL speedstep and Linux for
their newer laptops, albeit not at a swift pace.  he will probably contact
the linux community at some point to help solve issues with SpeedStep, but
he affirms that INTEL treats this information as proprietary, so not sure
how much work can be done for linux.  he also indicated that some of the
older IBM models did some non-standard manipulation with the CPU speed at
runtime, e.g. what I am seeing with mdelay failing if booting on a 600X on
battery power.  most likely, no event notification would be available for
any of these CPU speed manipulations.  
I am going to send some info on the issue to Keith, and he is going to
forward to the technical IBM folks somewhere at IBM, but any solution would
most likely be specific to IBM for the cs46xx audio driver.  
It does sound like the PM timer is the best idea so far.
Tom
twoller@crystal.cirrus.com
> -----Original Message-----
> From:	Alan Cox [SMTP:alan@lxorguk.ukuu.org.uk]
> Sent:	Wednesday, March 28, 2001 10:11 PM
> To:	andrew.grover@intel.com
> Cc:	pavel@suse.cz; alan@lxorguk.ukuu.org.uk; sfr@canb.auug.org.au;
> twoller@crystal.cirrus.com; linux-kernel@vger.kernel.org
> Subject:	Re: Incorrect mdelay() results on Power Managed Machines x86
> 
> > I know on ACPI systems you are guaranteed a PM timer running at ~3.57
> Mhz.
> > Could udelay use that, or are there other timers that are better (maybe
> > without the ACPI dependency)? 
> 
> We could use that if ACPI was present. It might be worth exploring. Is
> this
> PM timer well defined for accesses  ?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/