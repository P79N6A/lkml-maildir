Date: Mon, 29 Mar 2004 22:36:45 -0800
From: William Lee Irwin III <>
Subject: Re: [PATCH] mask ADT: bitmap and bitop tweaks [1/22]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/30/23

At some point in the past, I wrote:
>> Whether callers experience ill effects is irrelevant.
On Mon, Mar 29, 2004 at 09:09:17PM -0800, Paul Jackson wrote:
> Not irrelevant to the callers ;)
> And Andrew might reasonably choose to prioritize fixes,
> depending in part on the impact of what they fix.
> Ah - there is one more use of *_complement, in i386/mach-es7000.
> But it masks the result in the next line with cpu_online_map, so
> also avoids propogating the damage.
This is also irrelevant. By this token, races in rarely/never-called
codepaths would not be bugs.
The cleanups are fine as cleanups. Just get arch maintainer approvals
because you _are_ relying on operational semantics specific to gcc
versions, which may not support various architectures. Do not attempt
to confuse the issue with bugfixing. Lobbying me is pointless; go to
arch maintainers.
At some point in the past, I wrote:
>> IIRC the needed changes to cpus_shift_left() are also missing from
>> your other patches in the bitmap code.
On Mon, Mar 29, 2004 at 09:09:17PM -0800, Paul Jackson wrote:
> Hmmm ... could you elaborate on this?  I don't see this bug.
I recalled a more intelligent implementation scrapped for the sake of
simplicity/merging. The version in mainline doesn't have the issue,
though it does have limitations on bitmap sizes, which I'll remove
shortly while also preserving their current satisfaction of zeroed tail
postconditions given zeroed tail preconditions. This should have no
effect and/or conflict with your changes, but rather merely restore the
arbitrary bitmap size capabilities and look vaguely more efficient.
-- wli
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/