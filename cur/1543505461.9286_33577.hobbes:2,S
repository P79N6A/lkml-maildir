Date: Wed, 11 Aug 1999 15:39:54 -0000 (GMT)
From: Lars Prieske <>
Subject: oops serial/tty driver and SMP under 2.2.1X
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/12/122

Hello!
I've a problem with serial/tty driver part under 2.2.10/2.2.11.
My configuration:
Dualpentium 400MHz 256 MByte etc.
MOXA C102HIS with 16550C (quartz oszillator changed -> 500KBaud instead
421KBaud)
My problem is that i receive datagrams from external device (Sick LMS-200)
sometimes not correctly. A datagram is a 816 byte stream with a header like
this: 02 80 2A 03 ... After starting the program, i receive some datagrams
correctly (device send datagrams permantly with 500kBaud). After some minutes,
the first byte of each datagram is changed (example: 08 80 2A 03 ...). I
provide the kernel with some (more) printk's. receive_chars() (serial.c) report
the correct datagram, but copy_from_read_buf() (n_tty.c) report a datagram with
first byte changed :-(
With 2.2.11 without SMP and 2.0.36 with/without SMP, there are no problems! Is
this a problem of kernel 2.2.X with SMP? Can anybody help me with some
documentation for the tty kernel driver part?
Greetings
Lars
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/