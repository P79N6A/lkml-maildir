Date: Sat, 17 Nov 2007 00:10:02 +0300
From: Cyrill Gorcunov <>
Subject: [RFC] PPC: add for_each_node_child() macro
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/16/284

This patch adds usefull macro to iterate over a node childs.
Signed-off-by: Cyrill Gorcunov <gorcunov@gmail.com>
---
TODO: convert all for(...) cycles to this macro.
 include/linux/of.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)
diff --git a/include/linux/of.h b/include/linux/of.h
index 5c39b92..a93e2aa 100644
--- a/include/linux/of.h
+++ b/include/linux/of.h
@@ -46,6 +46,8 @@ extern struct device_node *of_find_node_by_phandle(phandle handle);
 extern struct device_node *of_get_parent(const struct device_node *node);
 extern struct device_node *of_get_next_child(const struct device_node *node,
 					     struct device_node *prev);
+#define for_each_node_child(dn, child) \
+	for (child = NULL; (child = of_get_next_child(dn, child)); )
 extern struct property *of_find_property(const struct device_node *np,
 					 const char *name,
					 int *lenp);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/