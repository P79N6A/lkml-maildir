Date: Thu, 14 Dec 2006 14:53:14 -0500
From: Bill Nottingham <>
Subject: Re: libata-pata with ICH4, rootfs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/14/282

Alistair John Strachan (s0348365@sms.ed.ac.uk) said: 
> > > Is it possible to use pata_mpiix (or pata_oldpiix) with an ICH4 IDE
> > > controller and boot off it?
> >
> > ata_piix (the SATA/PATA driver) deals with the ICH4. pata_mpiix is
> > specifically for the Intel MPIIX laptop chipset and pata_oldpiix
> > explicitly for the original PIIX chipset and none of the later ones.
> 
> Correct me if I'm wrong, but SATA wasn't available on ICH4. Only 5 and 
> greater. The kernel help text agrees with me.
> 
> My IDE controller usually works with CONFIG_BLK_DEV_PIIX; I was interested in 
> using your pata_xxx drivers in replacement, assuming there was support.
pata_xxx is for older PIIX, not ICH4. ICH* is handled by ata_piix, which
can drive both SATA *and* PATA in the new kernels. In fact:
[notting@nostromo: ~]$ lspci | grep IDE
00:1f.1 IDE interface: Intel Corporation 82801DBM (ICH4-M) IDE Controller (rev 01)
[notting@nostromo: ~]$ dmesg | grep ata
...
ata_piix 0000:00:1f.1: version 2.00ac6
ata1: PATA max UDMA/100 cmd 0x1F0 ctl 0x3F6 bmdma 0x1860 irq 14
ata2: PATA max UDMA/100 cmd 0x170 ctl 0x376 bmdma 0x1868 irq 15
...
[notting@nostromo: ~]$ uname -r
2.6.19-1.2839.fc7
Bill
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/