Date: Tue, 12 Jul 2005 16:22:06 +0200
From: Mateusz Berezecki <>
Subject: Re: "scheduling while atomic" ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/12/167

Steven Rostedt wrote:
>I assume that you call register_netdev in your module. Since this was
>running insmod, this is probably called from the module_init. So what
>reason do you have a lock from beginning to end?  Looking at this, you
>can't call register_netdev while holding a spin_lock since it looks like
>it will schedule.  So the fix is to release whatever spin lock that you
>have before calling register_netdev.
> 
>
Thank you for your help. This actually works ;-)
--mb
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/