Date: Sat, 15 Sep 2007 02:04:13 -0700 (PDT)
From: Matti Linnanvuori <>
Subject: include/linux/mutex.h file is unclear about software interrupts and mutex_trylock
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/15/40

From: Matti Linnanvuori <mattilinnanvuori@yahoo.com>
include/linux/mutex.h file is unclear about software interrupts and the return value of mutex_trylock.
Signed-off-by: Matti Linnanvuori <mattilinnanvuori@yahoo.com>
---
--- linux-2.6.23-rc6/include/linux/mutex.h    2007-09-09 09:55:34.917468000 +0300
+++ linux-2.6.23/include/linux/mutex.h    2007-09-15 11:49:28.353291500 +0300
@@ -29,7 +29,8 @@
  * - task may not exit with mutex held
  * - memory areas where held locks reside must not be freed
  * - held mutexes must not be reinitialized
- * - mutexes may not be used in irq contexts
+ * - mutexes may not be used in hardware or software interrupt
+ *   contexts such as tasklets and timers
  *
  * These semantics are fully enforced when DEBUG_MUTEXES is
  * enabled. Furthermore, besides enforcing the above rules, the mutex
@@ -133,6 +134,7 @@ extern int __must_check mutex_lock_inter
 #endif
 
 /*
+ * mutex_trylock returns nonzero on success or 0 on failure to lock.
  * NOTE: mutex_trylock() follows the spin_trylock() convention,
  *       not the down_trylock() convention!
  */
      Die etwas anderen Infos rund um das Thema Reisen. BE A BETTER WELTENBUMMLER!  www.yahoo.de/clever
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/