Date: Fri, 9 Mar 2007 22:36:07 +0100
From: Ingo Molnar <>
Subject: Re: ABI coupling to hypervisors via CONFIG_PARAVIRT
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/9/370

* Linus Torvalds <torvalds@linux-foundation.org> wrote:
> If we change paravirt_ops to be higher-level ops (as we should), yes, 
> the paravirt->VMI layer needs to be extended to have the 
> "higher->lower" translation. But at no point did we break the 
> hypervisor.
hm. So your point is that VMI is in essence a Turing machine (a 
near-complete one)? No matter what redesign we do on the Linux side, the 
VMI paravirt_ops will always be able to adopt to it? If that is the case 
then my ABI worries would indeed be wrong and i'd owe Zach a big fat 
apology [and more] for my flames ;-)
but what if the transformation is not just a top-down transformation, 
but something more conceptual, introducing something that VMI does not 
cover today, like: 'elimination of the APIC concept from guest mode 
(replacing it with a virtual interrupt controller)', or 'elimination of 
the concept of IRQ vectors from guest mode (virtual irq controller)'. Or 
'elimination of pagetables stored in the guest (all paravirt hooks would 
be vma-based)'?
but ... maybe because VMI is so lowlevel and covers /all/ of x86 today, 
it will always be able to emulate whatever different concept we can come 
up with? Do we really know this absolutely sure?
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/