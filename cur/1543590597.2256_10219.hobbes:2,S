Date: Fri, 11 May 2001 10:03:12 +0200
From: Ingo Oeser <>
Subject: Re: 2.4.4-ac6 compile error in plip.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/11/28

On Fri, May 11, 2001 at 02:53:09PM +1000, Keith Owens wrote:
> The first __initdata is marked as const, the second is not, a section
> cannot contain both const and non-const data.  Against 2.4.4-ac6.
So we should also update the documentation to reflect this.
--- linux-2.4.4/include/linux/init.h.orig	Wed May  9 21:33:38 2001
+++ linux-2.4.4/include/linux/init.h	Fri May 11 09:53:57 2001
@@ -34,6 +34,8 @@
  * Don't forget to initialize data not at file scope, i.e. within a function,
  * as gcc otherwise puts the data into the bss section and not into the init
  * section.
+ * 
+ * Also note, that this data cannot be "const".
  */
 
 #ifndef MODULE
--- linux-2.4.4/Documentation/DocBook/kernel-hacking.tmpl.orig	Fri Apr  6 19:42:55 2001
+++ linux-2.4.4/Documentation/DocBook/kernel-hacking.tmpl	Fri May 11 09:58:45 2001
@@ -713,7 +713,8 @@
    </para>
    <para>
    Static data structures marked as <type>__initdata</type> must be initialised
-   (as opposed to ordinary static data which is zeroed BSS).
+   (as opposed to ordinary static data which is zeroed BSS) and cannot be 
+   <type>const</type>.
    </para> 
 
   </sect1>
Regards
Ingo Oeser
-- 
10.+11.03.2001 - 3. Chemnitzer LinuxTag <
http://www.tu-chemnitz.de/linux/tag>
         <<<<<<<<<<<<     been there and had much fun   >>>>>>>>>>>>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/