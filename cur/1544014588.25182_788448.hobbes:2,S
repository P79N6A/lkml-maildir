Date: Wed, 07 Jan 2009 15:01:32 -0600
From: Larry Finger <>
Subject: Re: BUG in latest GIT 2.6.28-0658-g637b180
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/7/449

Bartlomiej Zolnierkiewicz wrote:
> On Wednesday 07 January 2009, Larry Finger wrote:
>> The latest GIT generates the following BUG.
>>
>>
>> BUG: sleeping function called from invalid context at mm/slab.c:3046
>> in_atomic(): 0, irqs_disabled(): 1, pid: 523, name: modprobe
>> no locks held by modprobe/523.
>> irq event stamp: 17802
>>  [<ffffffff8020c2cb>] system_call_fastpath+0x16/0x1b
> 
> Fix below.  Thanks again Larry!
Tested-by: Larry Finger <Larry.Finger@lwfinger.net>
The fix works here.
Larry