Date: Tue, 03 Apr 2007 15:23:00 -0700
From: Ulrich Drepper <>
Subject: Re: missing madvise functionality
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/3/301

Arnd Bergmann wrote:
> I thought this is what the read_zero_pagealigned hack [1] was used
> for (read from /dev/zero replaces target pages with empty_zero_page).
But that's not what we want.  If I understand that code correctly it's
the same as the current MADV_DONTNEED.  It will simply remove the
mapping for the pages and therefore upon new access it will provide
empty pages.
We want the pages to be kept around, even mapped, and only if memory
pressure is high enough collected and unmapped.
-- 
➧ Ulrich Drepper ➧ Red Hat, Inc. ➧ 444 Castro St ➧ Mountain View, CA ❖
[unhandled content-type:application/pgp-signature]