Date: Thu, 11 Dec 2008 13:05:34 +0500
From: "Muhammad Mutahir Latif" <>
Subject: SATA passthrough commands from User Space
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/11/28

Hi
I am new to linux kernel development and need help in developing an
application in linux for a SATA device. What is required is that the
application needs to send raw SATA commands along with data (like Read
DMA, Write FPDMA etc) to a SATA hard disk. Secondly we also have to
achieve a reasonably high data transfer throughput.
As a starting point I was thinking of modifying the AHCI driver by
adding an IOCTL hook to the driver , through which the user space
application would be able to send command and data to the drive. The
IOCTL function in the driver on getting a command would prepare the
appropriate structures, prepare memory buffers and then call other
builtin AHCI functions to perform the operations. Is this the correct
approach for handling such a problem or should we be looking at the
libata and use functions from that module. I would really appreciate
any help from someone who might have modified AHCI or libata so that
raw SATA commands can be sent from the user space
Thanks
Mutahir