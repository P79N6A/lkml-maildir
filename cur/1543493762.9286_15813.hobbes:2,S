Date: Sat, 24 Apr 1999 11:04:48 -0700 (PDT)
From: "David B. Rees" <>
Subject: RE: Linux-2.2.7 pre-3 - still poor smbfs write performance
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/24/57

On 24-Apr-99 Linus Torvalds wrote:
> 
> There's a pre-3 patch on ftp.kernel.org in the kernel/testing directory,
> and I'd really like people to give it a good testing: especially if you've
> seen slow network connections to some clients (ie Windows). David worked
> in the compatibility patches to work around some of the Windows TCP stack
> "features" (and Apple too, for that matter), and we want to get this well
> tested. It's all fairly straightforward, but let's be careful out there..
I still have bad smbfs write performance to both Samba and Win95 Servers.
From Linux 2.2.7pre-3 client to Linux 2.2.6-ac1 Samba-2.0.3 server:
smbfs write speed: ~33KBytes/s
smbclient write speed: ~500KBytes/s
smbfs read speed: ~800-900KBytes/s
smbclient read speed: ~800-900KBytes/s
From Linux 2.2.7pre-3 client to Win95a(with all patches MS) server:
smbfs write speed: ~28KBytes/s
smbclient write speed: ~9KBytes/s
smbfs read speed: ~550KBytes/s
smbclient read speed: ~600KBytes/s
Same results whether or not the Win95 bug fix was included in the kernel.
Same results whether or not smbfs is compiled into the kernel
These results look the same as 2.2.6.
I got the smbfs speeds by using time to see how long it took cp to complete.  I
used a different file each time so caching souldn't affect results.
smbclient speeds came from smbclient itself.
-Dave
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/