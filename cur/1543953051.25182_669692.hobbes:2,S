Date: Fri, 21 Mar 2008 01:09:44 +0100
From: Bartlomiej Zolnierkiewicz <>
Subject: Re: [PATCH 13/17] ide-tape: remove pipelined mode tape control flags
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/20/290

On Monday 17 March 2008, Borislav Petkov wrote:
> Signed-off-by: Borislav Petkov <petkovbb@gmail.com>
applied
> @@ -1832,14 +1822,6 @@ static int idetape_init_read(ide_drive_t *drive, int max_stages)
>  		}
>  	}
> 
> -	if (!test_bit(IDETAPE_FLAG_PIPELINE_ACTIVE, &tape->flags)) {
> -		if (tape->nr_pending_stages >= 3 * max_stages / 4) {
> -			tape->measure_insert_time = 1;
> -			tape->insert_time = jiffies;
> -			tape->insert_size = 0;
> -			tape->insert_speed = 0;
> -		}
> -	}
It is !test_bit() so the second 'if ()' block should be preserved
(I fixed this while merging the patch).