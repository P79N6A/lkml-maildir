Date: Tue, 1 Jun 1999 02:48:49 -0400 (EDT)
From: "Albert D. Cahalan" <>
Subject: Re: serial callout devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/1/12

Alan Curry writes:
> Miquel van Smoorenburg writes the following:
>> stty -F /dev/ttyS1 clocal
>
>   (
>   stty 38400
> 
>   chat -f /usr/lib/ppp/chatscript
>   case $? in
>     0) echo "Success" 1>&2
>        /usr/sbin/pppd & ;;
>     4) echo "BUSY" 1>&2 ;;
>     *) echo "call failed" 1>&2 ;;
>   esac
Arrrrgh!!!  (sorry for this off-topic rant)
This is just nuts. I don't know where people are getting these ideas.
Try the PPP documentation. (not just the above people -- many have
posted similar strange hacks) You start PPP like this:
pppd call foo     (foo is a config file in /etc/ppp/peers/)
That's it. Nothing more. No stty needed. No ifconfig needed.
No shell script needed. You can alias the above to "ppp".
----------- content of /etc/ppp/peers/foo ------------------
name John_Doe   # authenticate ourselves with this
asyncmap 0      # be safe for now
modem           # obvious
crtscts         # use hardware flow control
defaultroute    # use the ISP as our default route
noipdefault     # other side will supply our address
/dev/modem      # symlink to a /dev/ttyS* device
115200          # run the serial port at 115200 baud
debug           # log the contents of all control packets
connect '/usr/sbin/chat -e -v -f /etc/ppp/chat-foo'
------------------------------------------------------------
-------------- content of /etc/ppp/chat-foo ----------------
ECHO ON
TIMEOUT 5
ABORT "BUSY"
ABORT "ERROR"
ABORT "NO ANSWER"
ABORT "NO CARRIER"
ABORT "NO DIAL TONE"
ABORT "NO DIALTONE"
ABORT "RING"
ABORT "VOICE"
ABORT "ailed"
ABORT "ncorrect"
ABORT "nvalid"
ABORT "Error in authentication"
"" "at"
OK-+++\p\p\p\c-OK "ath"
OK "atz"
OK "at&d2&c1m0"
OK "atdt15555555555"
TIMEOUT 45
"~"
------------------------------------------------------------
---------------- content of /etc/ppp/pap-secrets -----------
# Secrets for authentication using PAP
# client        server  secret                  IP addresses
John_Doe        *       7kJ3wYpn
------------------------------------------------------------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/