Date: Sun, 03 Feb 2002 21:55:00 -0500
From: Stevie O <>
Subject: APM and APIC -- multiple batteries (was: apm.c and multiple  battery slots)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/3/96

At 12:01 PM 2/3/2002 +0000, David Woodhouse wrote:
>Please don't add an APM-specific interface for batteries. Look at the other
>code which talks to batteries - the ACPI code, SMBus and numerous other
>drivers for embedded systems - and design an interface to userspace which
>can be used by all of them.
>
>Preferably not in /proc.
Well, the only other interface I know of is device files, and from what 
I've seen, that seems to be a place where we autoload drivers when needed...
Besides, pretty much everything else in /proc is for transmitting (normally 
unchangeable, except for the sysctls) information from kernel to userspace. 
Why not /proc?
--
Now that you mention it, yes, I agree that an APM-specific interface for 
batteries would make code reuse harder (needing stuff for both APM and ACPI 
stuff). So we could have /proc/batteries/ maybe?
How does the ACPI stuff handle this? *Does* the ACPI stuff handle this 
(i.e. multiple batteries)?
If so:
   Is it a generic interface?
     If so, we should let APM use it too.
     If not, could we perhaps change it to one?
If not:
   I'm ready for suggestions about my original idea :)
--
Stevie-O
Real programmers use COPY CON PROGRAM.EXE
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/