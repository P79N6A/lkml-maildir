Date: Mon, 17 Nov 2003 15:40:39 -0500
From: Andrew Pimlott <>
Subject: Re: CONFIG_CRC32 in 2.4.22 breaks PCMCIA
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/11/17/125

On Mon, Nov 17, 2003 at 09:23:31PM +0100, Maciej Zenczykowski wrote:
> > CONFIG_CRC32 was introduced in 2.4.22.  I found that if I didn't
> > explicitly set it, the pcnet_cs driver from stand-alone PCMCIA
> > distribution didn't work.  PCMCIA relies on the crc functions, and
> > since they were always available before 2.4.22, it doesn't check for
> > them.
> 
> Something wrong with the in-kernel pcnet_cs?
No, something is wrong with in-kernel ray_cs.  :-(  Oops posted a
few weeks ago.
    
http://groups.google.com/groups?selm=fa.gevojmd.732qbh
%40ifi.uio.no
> > This seems to be significant breakage, and it took me a good while
> > to figure out what was going on.  Is this change reasonable in the
> > stable kernel series?
> 
> Well, it's in the help for the CRC32 option that it's available to enable 
> external-kernel tree drivers to access these functions.  If you are 
> running make oldconfig you'll hit the question and if you don't know what 
> it's about you should consult help...
I think I used xconfig the first time I configured this kernel
(because I coincidentally wanted to change something).  It was a
while ago, and I only tried pcnet_cs today, so my memory isn't
perfect.  Maybe I should have used oldconfig first, but I doubt
everyone else does that for stable kernels.
It still seems unwise to change the default in a stable kernel.  Let
the people who want it set CONFIG_OMIT_CRC32 or something.
Andrew
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/