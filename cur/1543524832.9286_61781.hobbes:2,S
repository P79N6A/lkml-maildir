Date: Mon, 07 Feb 2000 13:10:12 -0800
From: "Michael A. K. Gross" <>
Subject: Re: Lockup on 2.4.42 with Intel PIIX3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/7/110

"Michael A. K. Gross" wrote:
> 
> Hi folks,
>   I tried out 2.4.42 to experiment with the FireWire support, but I ran into
> a problem with (I think) the IDE driver instead.  The machine locks up
> during the boot phase.  The last thing on the screen is
> 
> PIIX3: IDE controller on PCI bus 00 dev 69
> PIIX3: not 100% native mode: will probe irqs later
> 
> It does *NOT* identify ide1, as 2.2.12 does, and the system locks up at
> this point, with no further output.  I thought the two video capture cards
> might possibly be interfering with the IRQ, so I pulled them out.  No luck.
> The only thing I've tried that works is to completely remove IDE support from
> the kernel, but then of course I can't use any IDE devices.  I'd be immensely
> grateful for any suggestions you folks might provide.  Please CC any responses
> to me (gross@cse.ucsc.edu).
> 
Some more info about this problem:
The lockup appears to be occuring in drivers/block/ide.c, in ide_delay_50ms().
Inserting a printf into the while loop indicates that "jiffies" is not
changing, and has a very low value of 0x28.  I presume this value is supposed
to be tied to the system clock somehow.  What could cause that to fail?
Many thanks, once again.
Mike Gross
-- 
-------------------------------------------------------------------------------
Michael A. K. Gross                               No matter where you go...
Director, UCSC Scientific Visualization Lab       There you are.
Computer Science Dept.                                -- Buckaroo Banzai
University of California
Santa Cruz, CA 95064 USA
gross@cse.ucsc.edu                   Viz web page: 
http://vizwww.cse.ucsc.edu
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/