Date: Sun, 6 Feb 2000 11:05:55 -0500
From: "Alexy V. Khrabrov" <>
Subject: Laptop ATAPI ZIP
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/6/17

Greetings -- I'm trying to get an ATAPI Zip drive
going on an Inspiron 7000.  This is a modular
drive which inserts in the device bay instead of a
floppy/dvd combo.  
Originally, I had ATAPI FLOPPY support enabled.
However, upon startup, I saw
hda: (my IDE drive recognized allright)
hdc: , ATAPI FLOPPY?  ... deciding floppy -- or something.
Now, every time I try to mount /dev/hdc /mnt/zip
I get a ton of errors scrolling through teh screen
without the zip light ever blink (but the hard
drive light blinks!), and the messages read
ide-floppy: possible ide-floppy.c bug - Two request sense in serial were issued
ide-floppy: hdc: I/O Error, pc = 23, key =  0, asc =  0, ascq =  0
hdc: ATAPI reset complete
  ...
  ... (a ton of these)
  ...
ide-floppy: possible ide-floppy.c bug - Two request sense in serial were issued
ide-floppy: hdc: I/O Error, pc = 23, key =  0, asc =  0, ascq =  0
Error in REQUEST SENSE itself - Aborting request!
Now, I read a tip at ZIP-Drive-HOWTO, obsolete --
of 1998, about _disabling_ ATAPI FLOPPY suppor and
enabling IDE SCSI Emulation.  OK, I made both as
modules.  When I try to install ide-floppy, same
errors scroll.  When, however, I load ide-scsi,
this is what I get:
hdc: <3>ide-scsi: hdc: unsupported command in request queue (0)
end_request: I/O error, dev 16:00 (hdc), sector 0
 unable to read partition table
scsi0: SCSI host adapter emulation for IDE ATAPI devices
scsi : 1 host
scsi0 : channel 0 target 0 lun 0 requet sense failed, performing reset.
SCSI bus is being reset for channel 0.
I suspect it they try to read the hard drive, instead of the ZIP one.
When I enabled SCSI core support itself in the
kernel, the hdc: line reads something like HOLOFA
ZIP 100, ATAPI floppy, with a lot of @ thrown in.
Documentation/{ide, scsi}.txt don't talk about it,
do they?  Anybody who made it work on an Inspiron
7000K?  What the general problem can be?
-- 
Cheers,
Alexy Khrabrov -- www.suffix.com -- Segmentation f%^(& 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/