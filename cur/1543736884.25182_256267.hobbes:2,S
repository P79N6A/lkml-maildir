Date: Wed, 29 Sep 2004 09:46:38 -0500
From: Timur Tabi <>
Subject: Re: get_user_pages() still broken in 2.6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/29/133

Dave Hansen wrote:
> You probably want mlock(2) to keep the kernel from messing with the ptes
> at all.
mlock() can only be called via sys_mlock(), which is a user-space call. 
  Not only that, but only root can call sys_mlock().  This is not 
compatible with our needs.
 >  But, you should probably really be thinking about why you're
> accessing the page tables at all.  I count *ONE* instance in drivers/
> where page tables are accessed directly.
I access PTEs to get the physical addresses of a user-space buffer, so 
that we can DMA to/from it directly.
-- 
Timur Tabi
Staff Software Engineer
timur.tabi@ammasso.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/