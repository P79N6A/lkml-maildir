Date: Mon, 28 Mar 2005 13:08:05 +0200
From: Valery Khamenya <>
Subject: reboot problem with VIA EPIA-MS motherboard
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/28/38

Hi all,
please Cc to me your clues on the following problem:
Symptom:
"reboot" or "shutdown -r now" on VIA EPIA-MS motherboard finishes all 
processes, then comes message "Restarting system.", keyboard LEDs 
flash and nothing happens anymore -- one has to finalize reboot manually.
Comments:
1. Motherboard is really able to reboot: e.g. when after POST comes grub, one
could enter grub's console and issue "reboot" -- it works fine.
2. different kernel boot options were tried without success, like
"reboot=b|w|h|c", "acpi=on|off|force", "apm=on|off" -- not in
all combinations though ;)
3. Linux distro used -- Gentoo. (synced)
4. different 2.6.x kernel were tried: 2.6.9-2.6.12, not only vanilla kernels,
but Gentoo kernels too. (Now I am stuck to 2.6.12-rc1 as it is exposed via 
Gentoo portage system)
5. different kernel boot options lead to different reboot implementations.
One of tracked by me implementations ends up in
mach-default/mach_reboot.h, inlined function "mach_reboot".
The second udelay(50) in the loop is the last call,
after which nothing happens anymore. 
6. Any other details/logs might be posted -- just tell me
which are of interest.
TIA,
Valery.
P.S. perhaps, I do not violate any rules posting my problem and comments
to this malinglist.
-- 
Valery A.Khamenya
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/