Date: Sat, 20 Aug 2005 10:00:07 +0900
From: Yoichi Yuasa <>
Subject: [PATCH] fix warning of TANBAC_TB0219 in drivers/char/Kconfig
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/19/234

On Fri, 19 Aug 2005 20:03:26 +0200
Jesper Juhl <jesper.juhl@gmail.com> wrote:
> On 8/19/05, Andrew Morton <akpm@osdl.org> wrote:
> > 
> > 
ftp://ftp.kernel.org/pub/linux/kernel/people/akpm/patches/2.6/2.6.13-rc6/2.6.13-rc6-mm1/
> > 
> 
> menuconfig complains a little :
> 
> $ make menuconfig
> scripts/kconfig/mconf arch/i386/Kconfig
> drivers/char/Kconfig:847:warning: 'select' used by config symbol
> 'TANBAC_TB0219' refer to undefined symbol 'PCI_VR41XX'
> 
> otherwise things seem to be ok here.
> 
Here is a patch for this warning fix.
Yoichi
Signed-off-by: Yoichi Yuasa <yuasa@hh.iij4u.or.jp>
diff -urN -X dontdiff rc6-mm1-orig/arch/mips/Kconfig rc6-mm1/arch/mips/Kconfig
--- rc6-mm1-orig/arch/mips/Kconfig	2005-08-20 08:32:28.000000000 +0900
+++ rc6-mm1/arch/mips/Kconfig	2005-08-20 08:41:42.000000000 +0900
@@ -91,8 +91,6 @@
 	select DMA_NONCOHERENT
 	select IRQ_CPU
 	select HW_HAS_PCI
-	select PCI
-	select PCI_VR41XX
 
 config ROCKHOPPER
 	bool "Support for Rockhopper baseboard"
@@ -133,8 +131,6 @@
 config TANBAC_TB0226
 	bool "Support for TANBAC Mbase(TB0226)"
 	depends on TANBAC_TB022X
-	select PCI
-	select PCI_VR41XX
 	select GPIO_VR41XX
 	help
 	  The TANBAC Mbase(TB0226) is a MIPS-based platform manufactured by TANBAC.
@@ -147,8 +143,6 @@
 	select DMA_NONCOHERENT
 	select IRQ_CPU
 	select HW_HAS_PCI
-	select PCI
-	select PCI_VR41XX
 
 config ZAO_CAPCELLA
 	bool "Support for ZAO Networks Capcella"
@@ -157,12 +151,12 @@
 	select DMA_NONCOHERENT
 	select IRQ_CPU
 	select HW_HAS_PCI
-	select PCI
-	select PCI_VR41XX
 
 config PCI_VR41XX
 	bool "Add PCI control unit support of NEC VR4100 series"
-	depends on MACH_VR41XX && PCI
+	depends on MACH_VR41XX && HW_HAS_PCI
+	default y
+	select PCI
 
 config VRC4173
 	tristate "Add NEC VRC4173 companion chip support"
diff -urN -X dontdiff rc6-mm1-orig/drivers/char/Kconfig rc6-mm1/drivers/char/Kconfig
--- rc6-mm1-orig/drivers/char/Kconfig	2005-08-20 08:32:35.000000000 +0900
+++ rc6-mm1/drivers/char/Kconfig	2005-08-20 09:41:43.000000000 +0900
@@ -843,8 +843,6 @@
 config TANBAC_TB0219
 	tristate "TANBAC TB0219 base board support"
 	depends TANBAC_TB022X
-	select PCI
-	select PCI_VR41XX
 
 menu "Ftape, the floppy tape device driver"
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/