Date: Sat, 21 Oct 2000 15:05:06 +0400
From: Oleg Drokin <>
Subject: nm256 audio driver fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/21/47

Hello!
   attached diff fixes unneeded releases  in NeoMagic256 audio driver.
Bye,
    Oleg
--- drivers/sound/nm256_audio.c.orig	Sat Oct 21 14:26:47 2000
+++ drivers/sound/nm256_audio.c	Sat Oct 21 14:41:20 2000
@@ -58,9 +58,7 @@
 
     for (x = 0; x < 2; x++) {
 	if (card->port[x].ptr != NULL) {
-	    u32 size = 
-		card->port[x].end_offset - card->port[x].start_offset;
-	    release_region ((unsigned long) card->port[x].ptr, size);
+	    iounmap (card->port[x].ptr);
 	    card->port[x].ptr = NULL;
 	}
     }
@@ -1025,7 +1023,7 @@
 		pointer);
     }
 
-    release_region ((unsigned long) temp, 16);
+    iounmap (temp);
 }
 
 /* 