Date: 7 Mar 2000 12:56:38 GMT
From: (Miquel van Smoorenburg)
Subject: Re: init (and sysinit) and runlevels
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/7/54

In article <cistron.200003070721.IAA14419@hell.localdomain>,
Anders Eriksson  <anders.c.eriksson@era.ericsson.se> wrote:
>I'm setting up a tight boot partition. Currently it has stuff from the init, 
>sh, and glibc packages. The funny thing is that init refuses to run my sysinit 
>(si) script.
It doesn't refuse to run it - but your script fails.
>The exact same script, run in runlevel 3 goes ok. Any ideas? The 
>following is and excerpt of the init process with debugging enabled.
>Freeing unused kernel memory: 32k freed
>INIT: version 2.77 booting
>INIT: Reading inittab
>INIT: Checking for children to kill
>INIT: Checking for children to start
>INIT: Started id si (pid 49)
>INIT: chld_handler: marked 49 as zombie
>INIT: got SIGCHLD
>INIT: Child died, PID= 49
See? Here it started the sysinit script, but the script exited
immidiately. Perhaps the program or script interpreter needs
something (program/shared lib) that is not present yet at that
point. I.e. a shared library on /usr which is not mounted.
Mike.
-- 
#define ESPANISHINQ	1478	/* Expect the Spanish Inquisition */
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/