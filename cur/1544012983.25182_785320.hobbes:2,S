Date: Wed, 31 Dec 2008 09:36:36 +0100
From: "Frank Groeneveld" <>
Subject: Re: Kernel 2.6.28 regression: Hang after hibernate
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/31/23

I'm still investigating this problem, but it seems to be the r8169
driver. When I compile it as a module and unload it, the hibernate
works fine. With kernel 2.6.27.7 I could just keep it loaded
(built-in).
Frank
2008/12/28 Frank Groeneveld <frankgroeneveld@gmail.com>:
> Hi,
>
> Today I tried the new kernel and found out it has a regression. With
> kernel 2.6.27 I never had problems resuming from hibernate, but with
> 2.6.28 it hangs. The output is something like this (it's not exactly,
> I skipped some words that are before the PCI lines):
>
> PM: read .. MB in .. seconds
> SDA: Synchronizing SCSI cache
> r8169: PME# enabled
> PCI INT A disabled
> PCI INT D disabled
> PCI INT B disabled
> PCI INT C disabled
> PCI INT D disabled
> PCI INT A disabled
> Disabling non-boot CPUs
> CPU1 is now offline
> CPU1 is down
> CPU2 is now offline
> CPU2 is down
> CPU3 is now offline
> CPU3 is down
> SMP Alternatives: switching to UP code
>
> I first thought it's the same as bug 12155, but I'm not sure it is.
> If there's any other ouput I can send to help, let me know.
>
> Regards,
> Frank Groeneveld
>