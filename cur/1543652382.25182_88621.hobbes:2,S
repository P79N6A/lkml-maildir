Date: Mon, 11 Nov 2002 17:00:55 -0600
From: (Florin Iucha)
Subject: Re: [BUG] cs46xx compile error 2.5.47
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/11/183

On Mon, Nov 11, 2002 at 05:40:18PM -0500, Ed Tomlinson wrote:
> Hi,
> 
> I get this compiling 2.5.47
> 
>   gcc -Wp,-MD,sound/pci/cs46xx/.cs46xx_lib.o.d -D__KERNEL__ -Iinclude -Wall 
> -Wstrict-prototypes -Wrigraphs -O2 -fno-strict-aliasing -fno-common -pipe 
> -mpreferred-stack-boundary=2 -march=k6 -Iarch//mach-generic -fomit-frame-pointer 
> -nostdinc -iwithprefix include -DMODULE -include include/linux/ersions.h   
> -DKBUILD_BASENAME=cs46xx_lib   -c -o sound/pci/cs46xx/cs46xx_lib.o sound/pci/cs46xx/cs_lib.c
> sound/pci/cs46xx/cs46xx_lib.c: In function `_cs46xx_adjust_sample_rate':
> sound/pci/cs46xx/cs46xx_lib.c:1054: structure has no member named `spos_mutex'
> sound/pci/cs46xx/cs46xx_lib.c: In function `snd_cs46xx_playback_hw_params':
> sound/pci/cs46xx/cs46xx_lib.c:1071: warning: unused variable `chip'
> sound/pci/cs46xx/cs46xx_lib.c:1072: warning: unused variable `sample_rate'
> sound/pci/cs46xx/cs46xx_lib.c:1073: warning: unused variable `period_size'
> sound/pci/cs46xx/cs46xx_lib.c: In function `snd_cs46xx_capture_hw_params':
> sound/pci/cs46xx/cs46xx_lib.c:1251: warning: unused variable `period_size'
> sound/pci/cs46xx/cs46xx_lib.h: At top level:
> sound/pci/cs46xx/cs46xx_lib.c:1028: warning: `_cs46xx_adjust_sample_rate' defined but not used
> sound/pci/cs46xx/cs46xx_lib.c:1445: warning: `hw_constraints_period_sizes' defined but not used
> make[3]: *** [sound/pci/cs46xx/cs46xx_lib.o] Error 1
> make[2]: *** [sound/pci/cs46xx] Error 2
> make[1]: *** [sound/pci] Error 2
> make: *** [sound] Error 2
> 
> Anyone have any ideas?
Enable CONFIG_SND_CS46XX_NEW_DSP. That will get it to compile.
Cheers,
florin
-- 
"If it's not broken, let's fix it till it is."
41A9 2BDE 8E11 F1C5 87A6  03EE 34B3 E075 3B90 DFE4
[unhandled content-type:application/pgp-signature]