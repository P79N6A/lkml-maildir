Date: Fri, 08 Apr 2005 19:08:55 -0400
From: "Eric A. Cottrell" <>
Subject: Re: LIBATA AHCI engine timeout hang with ATAPI devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/8/293

Jeff Garzik wrote:
> You need something like the attached patch.
> 
> In general, ATAPI is still very much experimental at this point.  One 
> known bug that affects libata is that ATAPI DMA is not aligned to a 
> 4-byte boundary.
> 
Hello,
Thanks.
I already have that patch applied.  I will poke around the code over the weekend and see if I can figure out the problem.
I am alittle rusty as my last disk driver code was modifying Heathkit CPM BIOS to support a SMS SASI board for 8 inch floppies and 
Shugart SA1000 series hard drives!
I would like to help get ATAPI to work as I suspect more SATA ATAPI stuff will appear as motherboards use SATA.  It appears that the 
ahci/libata code is missing some needed steps that the ata_piix/libata code does.  Looking at the code and patches I can see that 
libata had to change to permit the hardware to perform tasks that libata did.
Thank you for your web page on IDE drives.  I downloaded alot of specs and even read a small bit of them.
73 Eric eac@shore.net
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/