Date: Wed, 28 Jan 2009 22:03:25 +0300
From: Andrey Borzenkov <>
Subject: Re: [PATCH] firmware: speed up request_firmware()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/28/267

Ira Snyder wrote:
> 
> Without this patch, loading a 12MB firmware image (FPGA bitfiles) called
> vmalloc() approximately 3000 times. With the patch, vmalloc() is only
> called 13 times, however, some memory is wasted until firmware_release()
> is called. Usually, this happens very quickly, so it shouldn't be a
> problem.
> 
Some drivers cache firmware in memory. Doubing the amount of needed memory 
definitely would not be the best idea. Check drivers/net/wireless for 
examples.