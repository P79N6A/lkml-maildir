Date: Tue, 23 Oct 2007 19:25:30 +0200
From: Sam Ravnborg <>
Subject: Re: [PATCH] Discardable strings for init and exit sections
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/23/302

> 
> As long as the modpost warnings are just warnings they will often be 
> missed at compile time.
The plans for the modpost warnings are more or less:
- Let all __init, __cpuinit, __meminit etc use dedicated sections
no matter the actual configuration.
Use ifdeffery in the .lds files to place stuff in the correct final
section.
Teach modpost about the illegal dependencies.
When we then are back to almost warning free with allmodconfig for
the most important platfroms (read: or in reality the ones I have a
tool-chain for and which care to make allmodconfig buildable in mainline)
then modpost will generate errors instead of warnings to force people
to fix all the NEW errors they introuduce.
A variable will convert the errors to warnings for use in certain situations.
But I am not familiar enough with ELF format to extend the current checking
as suggested by people a few times. Maybe someone else can assist here.
Comments?
	Sam
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/