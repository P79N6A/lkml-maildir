Date: Tue, 12 Apr 2005 19:38:14 +0400
From: Ihalainen Nickolay <>
Subject: Re: Digi Neo 8: linux-2.6.12_r2  jsm driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/12/243

Christoph Hellwig wrote:
> On Tue, Apr 12, 2005 at 04:13:43PM +0400, Ihalainen Nickolay wrote:
> Also the driver has changed a little in -mm, can you provide a diff
> against that?
Sorry.
> 
diff -up -r linux-2.6.12-rc2/drivers/serial/jsm/jsm_driver.c 
linux-2.6.12-rc2-modified/drivers/serial/jsm/jsm_driver.c
--- linux-2.6.12-rc2/drivers/serial/jsm/jsm_driver.c    2005-04-11 
13:08:16.000000000 +0000
+++ linux-2.6.12-rc2-modified/drivers/serial/jsm/jsm_driver.c 
2005-04-11 12:58:51.000000000 +0000
@@ -60,11 +60,13 @@ int         jsm_driver_state = DRIVER_INITIALIZ
  spinlock_t     jsm_board_head_lock = SPIN_LOCK_UNLOCKED;
  LIST_HEAD(jsm_board_head);
+
  static struct pci_device_id jsm_pci_tbl[] = {
         { PCI_DEVICE (PCI_VENDOR_ID_DIGI, PCI_DEVICE_ID_NEO_2DB9), 
  0,      0,      0 },
         { PCI_DEVICE (PCI_VENDOR_ID_DIGI, PCI_DEVICE_ID_NEO_2DB9PRI), 
  0,      0,      1 },
         { PCI_DEVICE (PCI_VENDOR_ID_DIGI, PCI_DEVICE_ID_NEO_2RJ45), 
  0,      0,      2 },
         { PCI_DEVICE (PCI_VENDOR_ID_DIGI, PCI_DEVICE_ID_NEO_2RJ45PRI), 
  0,      0,      3 },
+       { PCI_DEVICE (PCI_VENDOR_ID_DIGI, PCI_DEVICE_NEO_8_DID), 
0,      0,      4 },
         { 0,}                                           /* 0 terminated 
list. */
  };
  MODULE_DEVICE_TABLE(pci, jsm_pci_tbl);
@@ -74,6 +76,7 @@ static struct board_id jsm_Ids[] = {
         { PCI_DEVICE_NEO_2DB9PRI_PCI_NAME,      2 },
         { PCI_DEVICE_NEO_2RJ45_PCI_NAME,        2 },
         { PCI_DEVICE_NEO_2RJ45PRI_PCI_NAME,     2 },
+       { PCI_DEVICE_NEO_8_DID          ,       8 },
         { NULL,                                 0 }
  };
@@ -167,6 +170,7 @@ static int jsm_found_board(struct pci_de
         case PCI_DEVICE_ID_NEO_2DB9PRI:
         case PCI_DEVICE_ID_NEO_2RJ45:
         case PCI_DEVICE_ID_NEO_2RJ45PRI:
+       case PCI_DEVICE_NEO_8_DID:
                 /*
                  * This chip is set up 100% when we get to it.
diff -up -r linux-2.6.12-rc2/include/linux/pci_ids.h 
linux-2.6.12-rc2-modified/include/linux/pci_ids.h
--- linux-2.6.12-rc2/include/linux/pci_ids.h    2005-04-11 
13:08:16.000000000 +0000
+++ linux-2.6.12-rc2-modified/include/linux/pci_ids.h   2005-04-11 
12:58:04.000000000 +0000
@@ -1530,6 +1530,7 @@
  #define PCI_DEVICE_ID_NEO_2DB9PRI       0x00C9
  #define PCI_DEVICE_ID_NEO_2RJ45         0x00CA
  #define PCI_DEVICE_ID_NEO_2RJ45PRI      0x00CB
+#define PCI_DEVICE_NEO_8_DID            0x00B1
  #define PCI_VENDOR_ID_MUTECH           0x1159
  #define PCI_DEVICE_ID_MUTECH_MV1000    0x0001
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/