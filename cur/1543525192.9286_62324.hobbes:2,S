Date: Thu, 10 Feb 2000 10:38:24 -0600
From: Aaron Botsis <>
Subject: mm/swapfile.c patch...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/10/84

But it just seemed _so_ appropriate...
~aaron
--- swapfile.c.orig	Tue Feb  8 01:18:44 2000
+++ swapfile.c		Tue Feb  8 01:28:16 2000
@@ -546,6 +546,10 @@
 		    (blk_size[MAJOR(p->swap_device)] &&
 		     !blk_size[MAJOR(p->swap_device)][MINOR(p->swap_device)]))
 			goto bad_swap;
+
+		if (MAJOR(p->swap_device) == RAMDISK_MAJOR)
+			printk("sys_swapon(): swapping to a ramdisk? you sicko!\n");
+			
 		error = -EBUSY;
 		for (i = 0 ; i < nr_swapfiles ; i++) {
 			if (i == type)