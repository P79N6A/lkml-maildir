Date: Wed, 13 Dec 2000 12:54:00 -0500 (EST)
From: Damien BENOIST <>
Subject: kernel 2.2.17 vgaconsole patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/12/13/80

I had already mailed to mj@atrey.karlin.mff.cuni.cz but got
no answer, so i remail as described in the
"How to Get Your Change Into the Linux Kernel or The Unofficial
Linus HOWTO"
Please give me some feed back (damien.benoist@epita.fr) thanks.
kernel: 2.2.17
pb: // 0 does not work with ega/vga adapter and mono display
how to duplicate the pb:
compile the kernel with the following options (module or not):
- vga console
- parallel port
use the following hardware:
- monochrome display
- ega/vga adapter
- a // port at 0x3bc
changes:
- region size for ega/vga adapter with mono display (12bytes
instead of 16).
--- drivers/video/vgacon.c	Fri Oct 13 21:05:36 2000
+++ drivers/video/vgacon.c.old	Thu Oct 12 16:12:17 2000
@@ -27,9 +27,6 @@
*	flashing on RHS of screen during heavy console scrolling .
*	Oct 1996, Paul Gortmaker.
*
- *	For monochrome display with ega adapter the requested port region was
- *	too large, going over the // port 0 region. //0 was then inaccessible.
- *	Oct 2000, <damien.benoist@epita.fr>
*
*  This file is subject to the terms and conditions of the GNU General
Public
*  License.  See the file COPYING in the main directory of this archive for
@@ -183,7 +180,7 @@
vga_video_type = VIDEO_TYPE_EGAM;
vga_vram_end = 0xb8000;
display_desc = "EGA+";
-			request_region(0x3b0,12,"ega");
+			request_region(0x3b0,16,"ega");
}
else
{
______________________________________________
FREE Personalized Email at Mail.com
Sign up at 
http://www.mail.com/?sr=signup
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/