Date: Tue, 30 Mar 2004 17:20:24 +0200
From: DervishD <>
Subject: Re: older kernels + new glibc?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/30/184

    Hi Richard :)
 * Richard B. Johnson <root@chaos.analogic.com> dixit:
> >     Mmm, I'm confused. As far as I knew, you *should* use symlinks to
> > your current (running) kernel includes for /usr/include/asm and
> > /usr/include/linux. I've been doing this for years (in fact I
> > compiled my libc back in the 2.2 days IIRC), without problems. Why it
> > should be avoided and what kind of problems may arise if someone
> > (like me) has those symlinks?
> The libc headers end up including kernel headers via the sym-links.
> They must *only* use the headers with which libc was built. Therefore,
> any sym-links should be removed and replaced with a copy of the
> appropriate headers.
    Looking at my backups of 2001 (god bless backups...) I found that
the running kernel when I built my glibc (yes, I still use the same
glibc that in 2001...) was 2.4.10, so I'm going to replace the
symlinks with two real dirs with the headers from 2.4.10. Thanks a
lot for your help :)
> This comes about because the C library used kernel headers,
> which it shouldn't have done in the first place.
    Yes :(( I hope that in the next version that is fixed (and the
fact that the libc cannot be compiled with newer versions of GCC
because of an stupid bug in a prototype, but that's a very offtopic
matter...).
> FYI, you __never__ include C library headers when building
> any kernel modules.
    If I ever write a kernel module, I won't ;) Thanks for your help
:)
    Raúl Núñez de Arenas Coronado
-- 
Linux Registered User 88736
http://www.pleyades.net
 & 
http://raul.pleyades.net/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/