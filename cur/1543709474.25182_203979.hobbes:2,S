Date: Thu, 04 Mar 2004 12:39:59 +0100
From: Andi Kleen <>
Subject: Re: Linux 2.6.2, AMD kernel: MCE: The hardware reports a non fatal, correctable incident
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/4/63

Dave Jones <davej@redhat.com> writes:
> I'm toying with the idea of marking it CONFIG_BROKEN for 2.6,
> and fixing it up later.
I would actually suggest to switch over to the rewritten MCE handler
from x86-64 for i386 too. IMHO it is much better. It is race free,
does not panic the machine if not needed, CPU independent, follows the
Intel and AMD recommendations, run time sysfs configurable, logs to a
separate device and does lots of other things much better
[of course I'm biased on that a bit]. Disadvantage is that it isn't
as well tested.
I haven't tried it on i386, but i wrote it to be easily portable
to 32bit too. It does periodic MCEs too, but with a much lower 
frequency and they could be turned off. I'm considering to turn
them off for x86-64 too, because they seem to only log one bit
ECC errors all the time. But with the new separate log device it's much
less of a problem.
The only thing you would lose is the support for P5 MCEs, but these
could be relatively easily readded if that should be a problem.
Extended register logging for P4 is also not implemented right now,
but that hardly seems like a needed feature.
-Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/