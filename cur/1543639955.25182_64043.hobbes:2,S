Date: Wed, 14 Aug 2002 09:22:28 -0500
From: Peter Samuelson <>
Subject: Re: [kbuild-devel] Re: [patch] config language dep_* enhancements
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/8/14/74

[Greg Banks]
> warning:drivers/parport/Config.in:14:forward declared symbol "CONFIG_SERIAL" compared ambiguously to "n"
> warning:drivers/parport/Config.in:14:forward reference to "CONFIG_SERIAL"
> warning:drivers/parport/Config.in:15:forward reference to "CONFIG_SERIAL"
> 
> 
> warning:drivers/char/Config.in:193:forward declared symbol "CONFIG_PCMCIA" compared ambiguously to "n"
> warning:drivers/char/pcmcia/Config.in:8:forward declared symbol "CONFIG_PCMCIA" used in dependency list for "CONFIG_SYNCLINK_CS"
> warning:drivers/ide/Config.in:19:forward declared symbol "CONFIG_PCMCIA" used in dependency list for "CONFIG_BLK_DEV_IDECS"
> warning:drivers/isdn/hardware/avm/Config.in:20:forward declared symbol "CONFIG_PCMCIA" used in dependency list for "CONFIG_ISDN_DRV_AVMB1_AVM_CS"
Hmmm, either I missed those in your earlier messages, or you didn't
post them.
> > +# FIXME usb should depend on (PCI || SA1111) - but that causes other ordering problems
> > +tristate 'USB support' CONFIG_USB
> 
> Nasty.
Yeah, I don't see any clean fix for that one.
> > +# FIXME parisc, sparc didn't include this menu before - any reason?
> 
> I'd suggest preserving that behaviour.  CONFIG_PARISC for parisc.
...and CONFIG_SPARC32 for sparc.  Thanks.  I didn't notice
CONFIG_SPARC32 because it's not defined in time for init/config.in.
Time for another trivial patch....
> > +   dep_tristate '  I2C bit-banging interfaces' CONFIG_I2C_ALGOBIT $CONFIG_I2C
> > +fi
> > +
> >  endmenu
> 
> Are you sure want this one there?
I didn't like it either, but it's needed in a couple odd places.  What
would you suggest - moving the whole i2c menu up?
> Your first patch made the following improvements
> 
> --- s-2.5.31.txt	Wed Aug 14 15:51:44 2002
> +++ s-2.5.31-sam1.txt	Wed Aug 14 15:52:48 2002
Thanks, your "oracle" feedback is much appreciated.
> Your second patch made the following improvements (well,
> mostly improvements).
> 
> --- s-2.5.31-sam1.txt	Wed Aug 14 15:52:48 2002
> +++ s-2.5.31-sam2.txt	Wed Aug 14 15:56:09 2002
> @@ -206,3 +206,3 @@
>      1      CONFIG_WILLOW
> -61     different-parent
> +66     different-parent
>      7      CONFIG_NET_FC
> @@ -210,2 +210,5 @@
>      2      CONFIG_FB
> +    2      CONFIG_KMOD
> +    2      CONFIG_MODULES
> +    2      CONFIG_MODVERSIONS
>      2      CONFIG_RTC
What does that mean?  All I did there was to combine two toplevel
menus into one.  Did this do something bad?
> -36     overlapping-definitions
> +38     overlapping-definitions
>      11     CONFIG_SOUND_CMPCI_FMIO
> @@ -261,2 +263,3 @@
>      2      CONFIG_PARPORT
> +    2      CONFIG_USB
OK, I see CONFIG_USB in arch/cris/drivers/Config.in - is there another
instance I'm missing?
> -8      different-compound-type
> -3290   total
> +10     different-compound-type
> +3055   total
different-compound-type?
Peter
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/