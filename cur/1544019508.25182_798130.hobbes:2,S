Date: Wed, 28 Jan 2009 15:17:25 -0800
From: Jeremy Fitzhardinge <>
Subject: Re: [PATCH RFC WIP] x86/paravirt: add register-saving thunks to	reduce caller register pressure
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/28/457

Zachary Amsden wrote:
>> Standard calling convention is:
>>          arguments          return      scratch
>> x86-32   eax edx ecx        eax         ?
>> 
>
> ecx, edx
> 
OK, no scratch beyond the arg regs.
>> XXX Deal with VMI.  What's their calling convention?
>> 
>
> Enable/Disable have no clobbers at all.
> Save clobbers only return value, %eax
> Restore also clobbers nothing.
> 
OK, they can be plugged in directly then.  Use __PV_IS_CALLEE_SAVE(func) 
to wrap it up in the right type.
> The patching code has gotten quite complex with the 32/64 union; let me
> apply it first and see before I comment on the patch.
> 
OK.  I just posted updated versions of this series, so make sure you 
comment on that one.
    J