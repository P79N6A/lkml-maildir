Date: Mon, 06 Jun 2005 11:40:49 +0200
From: Lukasz Stelmach <>
Subject: Re: device-driver supporting more than one device
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/6/39

Ananda Krishnan napisał(a):
> Hi All,
> 
>   Can a device-driver (a generic serial driver)
> support more than one device from different vendors
> (hence different vendor ids and device ids)?
In general, yes. Does it apply to the particular driver you mentioned? I
don't know.
> If so,
> during the boot time how the pci_device_id structure
> gets the info about the drvier_data?  Would like to
> know the name of the function name(s) and file(s) that
> are used for this process.  Thanks a lot.
The driver contains IDs of hardware it supports. At the boot time
each driver registers itself providing this list. Then for each piece of
hardware supported by a particular driver .probe function is called.
You should definitly look at /usr/src/linux/drivers/usb/usb-skeleton.c.
However, it is a usb driver, pci seem to work in a similar manner.
You might also like to read this: 
http://lwn.net/Kernel/LDD3/
I am quite a newbie to kernel drivers so please correct me someone if I
am wrong.
-- 
Było mi bardzo miło.                    Trzecia pospolita klęska, [...]
>Łukasz<                      Już nie katolicka lecz złodziejska.  (c)PP
[unhandled content-type:application/pgp-signature]