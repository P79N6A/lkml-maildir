Date: Mon, 29 Mar 2004 20:56:49 -0500
From: Trond Myklebust <>
Subject: Re: [patch] silence nfs mount messages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/29/312

På må , 29/03/2004 klokka 20:33, skreiv Andries Brouwer:
> On Mon, Mar 29, 2004 at 07:20:53PM -0500, Trond Myklebust wrote:
> 
> > The changes you are complaining about have *NOTHING* whatsoever to do
> 
> Wait. It seems you think I am complaining about changes. I am not.
> 
> I am complaining about kernel messages.
> They have been there since 0.99. Hardly changes, but they are annoying.
> Mount has to go through all kinds of contortions to avoid these messages.
> Has an explicit list of kernel versions built-in.
> Yecch.
Yecch is indeed appropriate, and I agree that this is bad. I really
regret not having created the "nfs3" filesystem all those years ago.
That would have made much of this compatibility argument mute.
I do have plans to fix this for 2.7. In particular I'd like to drop
support for "nfs", and separate it into "nfs2" and "nfs3", so that we
can have mount make sensible choices about what the server does or does
not support.
That should also allow us to modularize NFS a bit more in order to allow
people to drop v2 support (for instance) if they don't want to use it.
> These messages should have been silenced ten years ago.
> People complain.
They are supposed to. If they are seeing those messages, then they are
not up to date w.r.t. the binary interfaces.
Now if you can assure me that "util-linux" and all other programs that
use the mount interface can handle the EINVAL error, then fine: send me
the patch.
Otherwise, I see no alternative to the current situation: a silent
attempt to comply with a binary interface that the kernel does not
understand is clearly the wrong thing to do.
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/