Date: Wed, 15 Sep 2004 09:09:30 -0700
From: Greg KH <>
Subject: Re: udev is too slow creating devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/15/167

On Wed, Sep 15, 2004 at 03:55:26PM +0200, Giacomo A. Catenazzi wrote:
> 
> Real case: distribution boot script.
> It should work with non udev kernel, udev non modular kernel and
> udev very modular kernel.
That's a lot to ask for a simple script :)
Why not just pick one of those options and go with it?
> The script load (directly or not) a module
> and need the device impelmented by module.
Then do the 'sit and spin' method.  That works for all of the above
options, right?
> Old behaviour (modprobe "waits" for the creation of device):
> normal init.d script, with normal boot priorities.
Please realize that this "behaviour" is not guaranteed at all.  And in
fact will be changing in the future so that it is _not_ the way it will
work.
> New behaviour (dev.d). What I should do?
> My init.d script is loaded with priority XX, so
> I require that dev.d on my device is executed after
> boot priority XX (else I don't have the needed
> functionalities), also in case of non-udev or non modular kernel.
> How should I implement script in dev.d/?
dev.d is called by the kernel, not your script.  You don't have to set a
priority of when dev.d runs at all, it's not necessary.
> I see some design problems in dev.d/, or am I wrong?
What problems?
> PS: - What are the best (on topic) mailing list?
linux-hotplug-devel
>     - What do other distributions?
What do they do?  They just work :)
thanks,
greg k-h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/