Date: Mon, 26 Sep 2005 13:09:49 +0200
From: Stefan Froehlich <>
Subject: [2.6.12] cciss.o and DLT tape drives
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/9/26/69

Hi,
I have an HP/Compaq ProLiant running 2.6.12 (2.6.0 before with
exactly the same behaviour) with the cciss driver (2.6.6).
HD Raid has been working fine for abount two years, but now
there is an external DLT drive. Documentation/cciss.txt instructs to
do 'echo "engage scsi" > /proc/driver/cciss/cciss0' to engage the SCSI
core. This gives me the following results during startup:
| ERROR: SCSI host `cciss' has no error handling
| ERROR: This is not a safe way to run your SCSI host
| ERROR: The error handling must be added to this driver
|  [<c02d2400>] scsi_host_alloc+0x350/0x360
|  [<c015b7fa>] do_truncate+0x4a/0x70
|  [<c02a47d4>] cciss_scsi_detect+0x24/0xc0
|  [<c02a584c>] cciss_engage_scsi+0x6c/0xb0
|  [<c02a5c90>] cciss_proc_write+0x80/0xa0
|  [<c015e970>] file_move+0x20/0x60
|  [<c015ca7c>] dentry_open+0x11c/0x260
|  [<c01703db>] locate_fd+0x6b/0xb0
|  [<c0196ca7>] proc_file_write+0x37/0x50
|  [<c015d9ae>] vfs_write+0xae/0x130
|  [<c015db01>] sys_write+0x51/0x80
|  [<c0102f45>] syscall_call+0x7/0xb
| scsi0 : cciss
|   Vendor: QUANTUM   Model: DLT VS160         Rev: 2500
|   Type:   Sequential-Access                  ANSI SCSI revision: 02
| Attached scsi tape st0 at scsi0, channel 0, id 0, lun 0
| st0: try direct i/o: yes (alignment 512 B), max page reachable by HBA 4294967295
|Attached scsi generic sg0 at scsi0, channel 0, id 0, lun 0,  type 1
I deliberately decided to ignore this (the tape seemed to be fine at the
first glance), which was probably not the best idea, as the machine is
now crashing quite hard every few days. So: if "this" is not a safe way
to run my SCSI host, which way would be better?
(I don't have any further information about the crashes - there is no
easy physical access to it for me, and the logfiles don't report
anything abnormal - most likely due to the fact, that the controller
won't be able to write any more)
Bye,
  Stefan
-- 
http://kontaktinser.at/
 - kostenlose Kontaktanzeigen fuer Ã–sterreich
Himmlisch bleibt himmlisch: Stefan braucht diese Welt!
(Sloganizer)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/