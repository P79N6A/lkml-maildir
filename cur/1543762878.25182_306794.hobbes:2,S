Date: Mon, 28 Mar 2005 17:50:21 -0800 (PST)
From: Christoph Lameter <>
Subject: Re: [PATCH] Prezeroing V8
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/28/238

On Fri, 25 Mar 2005, Pavel Machek wrote:
> > +unsigned int sysctl_scrub_start = 100;	/* Min percentage of zeroed free pages per zone (~10% default) */
> > +unsigned int sysctl_scrub_stop = 300;	/* Max percentage of zeroed free pages per zone (~30% default) */
> > +unsigned int sysctl_scrub_load = 1;	/* Do not run scrubd if load > */
> Perhaps that variable should be called sysctl_scrub*d*_load?
Hmm. Ok they are all now _scrubd_ instead..
> > +	Scrubd is woken up if the system load is lower than this setting and
> > +	the numer of unzeroed free pages drops below scrub_start*10 percent.
> > +	The default setting of 1 insures that there will be no performance
> > +	degradation in single user mode. In an SMP system a cpu is frequently
> > +	idle despite the load being high. A setting of 9 or 99 may
> > +	be useful then.
>
> I don't think 1 guarantees no performance degradation. After all, it
> is average load and scrubd might run at just the wrong times. Perhaps
> it should default to 0?
Correct. Changed the wording. Not sure about setting it to zero since its
an experimental feature set to off by default. If one enables scrubd then
the presumably something should be happening.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/