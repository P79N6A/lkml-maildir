Date: Wed, 14 Feb 2007 07:42:08 +0100
From: Cornelia Huck <>
Subject: Re: [PATCH debugfs: implement symbolic links
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/14/7

On Tue, 13 Feb 2007 17:31:42 -0800,
Greg KH <gregkh@suse.de> wrote:
> > That makes it easy to get return code checking wrong (especially
> > considering the comment above), and a number of callers do get it wrong.
> 
> They do?
For example, fs/ocfs2/super.c only checks for NULL (while neither
selecting nor depending on debugfs), or drivers/block/pktcdvd.c will
only check for IS_ERR(). (Many callers don't seem to care about return
codes at all.)
> The goal here is not to force the caller to care if debugfs is enabled
> or not.
And that's definetly a good thing. (Looking again, not checking for
IS_ERR() isn't as bad as I thought, as the code will continue to do
nothing if called again for a non-existing dentry.)
> > At the very least we should change the misleading comment.
> 
> agreed, patches always welcome :)
OK, just changing the comment looks like the most sensible thing to do.
I'll roll up a patch.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/