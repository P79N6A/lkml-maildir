Date: Thu, 10 Aug 2006 13:34:49 +0200
From: Frank van Maarseveen <>
Subject: Re: [RFC] [PATCH] Relative lazy atime
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/10/129

On Wed, Aug 09, 2006 at 02:21:34PM +0200, JÃ¶rn Engel wrote:
> At the risk of stating the obvious, let me try to explain what each
> method does:
> 
> 1. standard
> Every read access to a file/directory causes an atime update.
> 
> 2. nodiratime
> Every read access to a non-directory causes an atime update.
> 
> 3. lazy atime
> The first read access to a file/directory causes an atime update.
> 
> 4. noatime
> No read access to a file/directory causes an atime update.
5. lazy atime writeout
To reduce the pain of a fully functional atime only flush "atime-dirty"
inodes when the on-disk/in-core atime difference becomes big enough
(e.g. by maintaining an "atime dirtyness" level for the in-core inode).
I haven't seen anyone mentioning it but properly written cleanup programs
for /tmp et.al. do depend on atimes. When a system crashes after a long
time then (3) and (4) will probably cause /tmp to be wiped out because
at the next boot all atimes will be really old.
-- 
Frank
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/