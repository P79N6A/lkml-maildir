Date: Tue, 17 Aug 1999 17:37:13 -0700 (PDT)
From: mullein <>
Subject: zeroed indirect blocks
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/17/246

I'm currently in the arduous process of recovering a few thousand files
that had been deleted from an ext2 partition.  the system runs the 2.2.10
kernel.
While recovering, using e2recover, i noticed that a number of files
couldn't be recovered easily and returned a message to use
--guess-indirects.  according to the documentation for said tool,
--guess-indirects is used to recover inodes where the indirect blocks had
been zeroed.  the docs also said that this was a known "misfeature" in 2.0
kernels, but had been fixed in later 2.1.x kernels.
my question is:
does 2.2.x still zero indirect blocks, as the output of e2recover seems to
indicate? or does 2.2.x NOT zero indirect blocks?
in addition,
a. with the forthcoming integration of XFS, as well as the possible
inclusion of ext3 into the fs/ directory structure, will the (seemingly
unused) file attributes EXT2_UNRM_FL and EXT2_COMPR_FL be integrated into
future revisions of ext2?
b. where are directory entries (directories, filenames) stored in an ext2
filesystem?
c. i see that directory entries, in the kernel are stored in a singly
linked list ext2_dir_entry. can i assume that when a filename is deleted,
that the name is forever unrecoverable?
(sorry, i haven't read the source for vfs and ext2fs thoroughly)
thanks in advance,
Chuck Valentine
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/