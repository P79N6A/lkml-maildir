Date: Wed, 2 Feb 2000 15:15:57 +0100
From: Thomas Leineweber <>
Subject: Resource problem with opl3 and adlib_card
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/2/48

Hello,
it seems that there is a resource-problem, when I have my sound compiled
as modules. I have a SB16 and when I play some soundfiles the following
modules are loaded:
  adlib_card
  opl3
  sb
  uart401
  sound
  soundcore
When I remove the modules one after another (in this order), I get at
the module opl3 the following kernel message:
   Trying to free nonexistent resource <0388-038b>
As I have read the sources, both (adlib_card and opl3) try to free
this resource.
In 2.3.4x it is requested in adlib_card.c on line 20. On line 19 it is
forwarded to the opl3-module, where it is stored internally. When unloading,
it is twice freed: In adlib_card.c on line 35 and in opl3.c on line 1210. 
opl3 tries to free it, because the resource-adress is stored internally,
but it is not known, that another module (and not opl3) has claimed this
resource.
Ok. This was the description, but I have no idea, how to fix the sources.
Greetings,
Thomas Leineweber
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/