Date: Wed, 01 Aug 2007 15:02:51 -0400
From: Lee Schermerhorn <>
Subject: [PATCH] 2.6.23-rc1-mm1 - fix missing numa_zonelist_order sysctl
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/1/380

Fix missing numa_zonelist_order sysctl config
Against 2.6.23-rc1-mm1.
Found this testing Mel Gorman's patch for the issue with
"policy_zone" and ZONE_MOVABLE.
Misplaced #endif is hiding the numa_zonelist_order sysctl
when !SECURITY.
[But, maybe reordering the zonelists is not such a good idea
when ZONE_MOVABLE is populated?]
Signed-off-by:  Lee Schermerhorn <lee.schermerhorn@hp.com>
 kernel/sysctl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
Index: Linux/kernel/sysctl.c
===================================================================
--- Linux.orig/kernel/sysctl.c	2007-07-25 09:29:50.000000000 -0400
+++ Linux/kernel/sysctl.c	2007-08-01 13:29:18.000000000 -0400
@@ -1068,6 +1068,7 @@ static ctl_table vm_table[] = {
 		.mode		= 0644,
 		.proc_handler	= &proc_doulongvec_minmax,
 	},
+#endif
 #ifdef CONFIG_NUMA
 	{
 		.ctl_name	= CTL_UNNUMBERED,
@@ -1079,7 +1080,6 @@ static ctl_table vm_table[] = {
 		.strategy	= &sysctl_string,
 	},
 #endif
-#endif
 #if defined(CONFIG_X86_32) || \
    (defined(CONFIG_SUPERH) && defined(CONFIG_VSYSCALL))
 	{
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/