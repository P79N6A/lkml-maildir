Date: Fri, 27 Aug 1999 10:16:44 -0400
From: Boris Badenov <>
Subject: alpha and [gs]etresgid (patch)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/27/49

I'd like to thank you all for ignoring this the first time I sent
it out...
Anyway, the getresgid and setresgid system calls seem to be 
missing in the alpha architecture. It's very simple to add them,
since the code for these system calls is architecture independent.
You just have to add the hooks:
<<PATCH BEGINS>>
--- linux/arch/alpha/kernel/entry.S.noresgid	Sun Jun  6 16:51:21 1999
+++ linux/arch/alpha/kernel/entry.S	Sun Jun  6 16:51:59 1999
@@ -1143,3 +1143,5 @@
 	.quad sys_capget
 	.quad sys_capset
 	.quad sys_sendfile			/* 370 */
+	.quad sys_setresgid
+	.quad sys_getresgid
--- linux/include/asm-alpha/unistd.h.noresgid	Sun Jun  6 21:38:33 1999
+++ linux/include/asm-alpha/unistd.h	Sun Jun  6 21:39:51 1999
@@ -308,6 +308,8 @@
 #define __NR_capget			368
 #define __NR_capset			369
 #define __NR_sendfile			370
+#define __NR_setresgid			371
+#define __NR_getresgid			372
 
 #if defined(__LIBRARY__) && defined(__GNUC__)
<<PATCH ENDS>>
A similarly trivial patch to glibc (which I seem to have misplaed,
and have no desire to reinvent) and POOF! setresgid works. And
everyone lives hapily ever after.
-- 
+-----------------------------------------------------Ben Slusky-+
| On two occasions I have been asked [by members of Parliament], |
| 'Pray, Mr. Babbage, if you put into the machine wrong figures, |
| will the right answers come out?' I am not able rightly to     |
| apprehend the kind of confusion of ideas that could provoke    |
| such a question.              - -Charles Babbage               |
+--------------------------------sluskyb@lizards-lair.stwing.org-+
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/