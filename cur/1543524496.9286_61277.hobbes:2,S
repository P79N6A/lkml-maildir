Date: Thu, 3 Feb 2000 01:55:09 -0700
From: Ray L <>
Subject: IDE performance question
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/3/3

hi folks
i have an IDE performance question:
i've just put together an athlon 500 on a MS-6167 motherboard, and
i'm using an IBM deskstar DPTA-372050 20 Gig drive.  i'm running 
2.2.15pre5 and mandrake 7.0.  i've tuned the IDE subsystem using the
/proc settings, and am getting fairly close to the rated throughput
(lmbench tells me 20.9/22.3 MB/s on R/W, ibm says 22.9)
however, i do experience system pauses while the disk is in heavy
use.  for example, while a large tar is going on, an 'ls' might take
up to 2 seconds to return in another xterm.  i did not observe this
behavior on my old system (4 gig barracuda scsi on DPT controller).
is this normal for large IDE drives, or have i missed some config parm?
in particular, what is up with the write-only pio_mode below?  should
i be setting that to some particular value?
here's my settings at the moment:
root@stingray# cat /proc/ide/hda/settings
name                    value           min             max             mode
----                    -----           ---             ---             ----
bios_cyl                2495            0               65535           rw
bios_head               255             0               255             rw
bios_sect               63              0               63              rw
breada_readahead        4               0               127             rw
bswap                   0               0               1               r
file_readahead          124             0               2097151         rw
io_32bit                1               0               3               rw
keepsettings            1               0               1               rw
max_kb_per_request      64              1               127             rw
multcount               8               0               8               rw
nice1                   1               0               1               rw
nowerr                  0               0               1               rw
pio_mode                write-only      0               255             w
slow                    0               0               1               rw
unmaskirq               1               0               1               rw
using_dma               1               0               1               rw
any clues appreciated, thanks
-- 
-----------------------------------------------------------------------------
  Ray Lehtiniemi (rayl@mail.com) (rayl@optitech.com)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/