Date: Thu, 30 Dec 2004 16:56:02 -0600
From: Matt Domsch <>
Subject: Re: 256 apic id for amd64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/30/150

On Thu, Dec 30, 2004 at 07:45:22PM +0100, Andi Kleen wrote:
> i386 also has a different (but Intel specific fix) - uses either
> 0xf or 0xff based on the APIC version. Just dropping it seems
> better to me though. I suppose Matt (cc'ed) who apparently
> wrote this code originally used it to work around some BIOS
> bug, and at least we can hope for now that there are no 
> EM64T boxes with that particular BIOS bug.
The MPC spec (I don't have a copy handy anymore) said it's the OS's
job to program the APIC ID into the processor based on what BIOS put
in the MP Table for it.  At the time I wrote the patch, the kernel
didn't do this, so now it does, else all CPUs could wind up with the
same APIC ID, which messed up interrupt routing IIRC.
What's differrent about this x86_64 system in this regard please?
Thanks,
Matt
-- 
Matt Domsch
Software Architect
Dell Linux Solutions linux.dell.com & www.dell.com/linux
Linux on Dell mailing lists @ 
http://lists.us.dell.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/