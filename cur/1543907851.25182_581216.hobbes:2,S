Date: Thu, 9 Aug 2007 00:23:22 +0200
From: Ingo Molnar <>
Subject: Re: - fix-local_irq_-macro-definition-thinkos-for-the-trace_irqflags_support-case.patch removed from -mm tree
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/8/500

* akpm@linux-foundation.org <akpm@linux-foundation.org> wrote:
> This patch was dropped because it had testing failures
> -# define raw_local_irq_disable()	local_irq_disable()
> -# define raw_local_irq_enable()		local_irq_enable()
> -# define raw_local_irq_save(flags)	local_irq_save(flags)
> -# define raw_local_irq_restore(flags)	local_irq_restore(flags)
> +# define local_irq_disable()		raw_local_irq_disable()
> +# define local_irq_enable()		raw_local_irq_enable()
> +# define local_irq_save(flags)		raw_local_irq_save(flags)
> +# define local_irq_restore(flags)	raw_local_irq_restore(flags)
>  #endif /* CONFIG_TRACE_IRQFLAGS_SUPPORT */
hm, indeed: an #ifdef LOCKDEP_SUPPORT has to be added around these 4 
macros. That will make this build fine on non-lockdep architectures too. 
Sorry, i should have noticed this!
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/