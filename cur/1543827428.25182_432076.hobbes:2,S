Date: Mon, 12 Jun 2006 10:14:44 +0200
From: Michael Opdenacker <>
Subject: Re: Plans to obsolete register_chrdev()?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/12/35

Hello,
> In Linux 2.6, character device driver developers are supposed to use 
> alloc_chrdev_region() and cdev_add() instead of register_chrdev(). See 
> 
http://lwn.net/images/pdf/LDD3/ch03.pdf
 or 
> 
http://lwn.net/Articles/126808/
 .
>
> However, in 2.6.16, there are still *very few* uses of cdev_add(). 
> Compare 
http://lxr.free-electrons.com/ident?i=cdev_add
 to 
> 
http://lxr.free-electrons.com/ident?i=register_chrdev
 .
>
> Are there plans to officially obsolete register_chrdev() (in 
> particular through Documentation/feature-removal-schedule.txt)?
>
> Unless register_chrdev() is supposed to stay, I'll be glad to 
> participate in converting character driver code. In particular, would 
> updates to the drivers/chars/mem.c file be welcome?
No answer in 3 days... Does anyone know whether register_chrdev is 
really supposed to go?
If register_chrdev is obsolete, it would be nice to start migrating 
existing character drivers to alloc_chrdev_region() and cdev_add(), and 
I will be glad to help.
TIA,
    Michael.
-- 
Michael Opdenacker, Free Electrons
Free Embedded Linux Training Materials
on 
http://free-electrons.com/training
(More than 1000 pages!)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/