Date: Fri, 5 Feb 1999 13:08:06 -0800
From: Stuart Lynne <>
Subject: Re: Initial Ramdisk
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/2/5/132

> > Does anyone use the initial ramdisk-feature?? I've
> > got a problem with it: 
> > Booting goes straight on to the point when reading
> > the ramdisk. The screen says:
> > VFS Mounted root (minix filesystem) 
> > and then it hangs.
> 
> Ok, I've figured something out. The initial-ramdisk tries to 
> start /linuxrc. And then it stops. What I do not
> understand, is that it ran with 2.0.36.
I use this. But I use a patch available from the Linux Router Project to fix
a problem associated with it. Here is blurb from the README:
> linuxrc-always_2:
> 
> For some reason still not known to me, even if a /linuxrc file is present,
> it will not be executed if root=/dev/ram0. This is real problem for
> linux-router. This tiny patch fixes this, by moving the code that executes
> /linuxrc outside this exclusive if statement.
> 
> It also changes the default console linuxrc opens from /dev/tty1
> (/dev/console in 2.1) to /linuxrc.tty. This is done because in LRP (>=2.9.2)
> /dev does not exist until linuxrc is run. linuxrc.tty is a special file in
> the root directory:
>         mknod /linuxrc.tty c 4 1
>         chown root.tty /linuxrc.tty
>         chmod 622 /linuxrc.tty
> 
> 
> linuxrc-always_2-2.0:
> For 2.0 series kernels. (made against 2.0.34)
> Should work for most 2.0 kernels with varying degress of offsets.
> 
> linuxrc-always_2-2.1:
> For 2.1 series kernels. (made against 2.1.124)
> Should work for most 2.1 kernels with varying degress of offsets.
For more information see:
	 
http://www.linuxrouter.org/
-- 
Stuart Lynne <sl@fireplug.net>      604-461-7532      <
http://edge.fireplug.net
>
PGP Fingerprint: 28 E2 A0 15 99 62 9A 00  88 EC A3 EE 2D 1C 15 68
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/