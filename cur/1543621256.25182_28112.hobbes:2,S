Date: Thu, 14 Feb 2002 15:16:01 +0000 (GMT)
From: Alan Cox <>
Subject: Re: [PATCH} 2.5.5-pre1 VESA fb
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/14/132

> This adjusts the VESA fb driver to the new bus mapping API.
> I think that this time this is providing the right replacement.... but 
> who knows
The VESA fb window will be higher than the ISA window as its a linear
frame buffer
> -		pmi_base  = (unsigned short*)bus_to_virt(((unsigned long)screen_info.vesapm_seg << 4) + screen_info.vesapm_off);
> +		pmi_base  = (unsigned short*)isa_bus_to_virt(((unsigned long)screen_info.vesapm_seg << 4) + screen_info.vesapm_off);
I don't think it actually matters on x86 but phys_to_virt() is probably
more correct
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/