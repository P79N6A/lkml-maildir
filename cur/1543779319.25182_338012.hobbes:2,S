Date: Sun, 31 Jul 2005 23:10:20 +0200
From: Pavel Machek <>
Subject: Re: Power consumption HZ100, HZ250, HZ1000: new numbers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/31/174

Hi!
> >First numbers were 0.5W on idle system; that shows what kind of
> >powersaving can be done. Powersaving is no longer possible when artsd
> >is not running, but that should not be used as argument against it.
> 
> It was an idle system with no display, zero daemons running, and the 
> hard drive off.  In other words, a machine that nobody could use which 
> might as well be hibrinating.  While it was an important test to find 
> out the most one could hope to save, its unrealistic for an actual usage 
> case.  The later test was more realistic, and not suprisingly showed 
> quite a bit less power savings.
Then the second test was probably flawed, possibly because we have
some more work to do. No display is irrelevant, HZ=100 will still save
0.5W with running display. Spinning disk also does not produce CPU
load (and we *will* want to have disk spinned down). No daemons... if
some daemon wakes every msec, we want to fix the daemon. 
> I really like having 250HZ as an _option_, but what I don't see is why 
> it should be the _default_.  I believe this is Lee's position as
> Last I checked, ACPI and CPU speed scaling were not enabled by default; 
Kernel defaults are irelevant; distros change them anyway. [But we
probably want to enable ACPI and cpufreq by default, because that
matches what 99% of users will use.]
> I have a fixed-framerate app that had to busywait in the days of 2.4.x. 
>  It was nice in 2.6.x to not have to busywait, but with 250HZ that code 
> will be coming back again.  And unfortunately this app can't be made 
> variable-framerate, as it is simulating video hardware.  The same goes 
> for apps playing movies/animations; Sometimes programs just need a 
> semi-accurate sleep, and can't demand root priveledges to get it.
I really don't think default HZ in kernel config is such a big
deal. You'll want to support HZ=100 on 2.6.X, anyway...
> In a sense I feel this whole thing boils down to the fact that we don't 
> have something like "make laptop-config" and "make server-config".  I'm 
> glad we could save 5.2% of the power for a laptop user by changing
> the 
defconfig on i386 is Linus' configuration. Maybe server-config and
laptop-config would be good idea...
								Pavel
-- 
if you have sharp zaurus hardware you don't need... you know my address
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/