Date: Tue, 29 Aug 2000 17:33:34 -0400 (EDT)
From: "Albert D. Cahalan" <>
Subject: Re: [patch] scheduler bugfix, SMP, 2.4.0-test7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/29/103

David S. Miller writes:
> The problem not FASTCALL, which is a NOP on sparc anyways.  The
> problem is the fact that people expect the following to work:
...
> And it doesn't on Sparc because the flags are stored in the same CPU
> register as the current register window.
> 
> Therefore you cannot restore irq flags in a different function than
> the one in which you obtained them.
So you need an alternate calling convention that works right.
Surely something like the Alpha calling convention will work.
Call it "FASTCALL". :-) The window can sit right where it is.
Nobody put a gun to your head and said "you will use the
register window hardware". Well, I hope not.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/