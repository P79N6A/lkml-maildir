Date: Wed, 31 Aug 2005 04:27:52 +0900
From: OGAWA Hirofumi <>
Subject: Re: [PATCH][FAT] FAT dirent scan with hin take #2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/30/223

"Machida, Hiroyuki" <machida@sm.sony.co.jp> writes:
> Here is a revised version of dirent scan patch,  mentioned at
> following E-mail.
>
> This patch addresses performance damages on "ls | xargs xxx" and
> reverse order scan which are reported to the previous patch.
>
> With this patch, fat_search_long() and fat_scan() use hint value
> as start of scan. For each directory holds multiple hint value entries.
> The entry would be selected by hash value based on scan target name and
> PID. Hint value would be calculated based on the entry previously found
> entry, so that the hint can cover backward neighborhood.
This patch couldn't compile. I assume you post a wrong patch...?
The code is strange... Is the hint value related to the previously
accessed entry?
This seems to be randomly cacheing the recent access position...  Is
it your intention of this patch?
-- 
OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/