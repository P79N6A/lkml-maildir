Date: Thu, 19 Aug 2004 02:37:19 -0400
From: Jon Anderson <>
Subject: vmlinuz no symtab? while cross compiling...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/19/8

I'm attempting to cross compile linux-2.6.8.1, along with a few external 
modules (madwifi, hostap-driver, aodv-uu). The kernel and (built-in) 
modules compile fine, but compiling every one of those external modules 
fails around MODPOST. For example, aodv-uu:
<snip userspace stuff>
make -C /home/janderson/var/autobuild/i386/root/usr/src/linux 
SUBDIRS=/home/janderson/var/tmp/autobuild/aodv-uu-0.8.1 modules
i486-linux-uclibc-gcc -Wall -O2 -DCONFIG_GATEWAY  -o aodvd main.o list.o 
debug.o timer_queue.o aodv_socket.o aodv_hello.o aodv_neighbor.o 
aodv_timeout.o routing_table.o seek_list.o k_route.o aodv_rreq.o 
aodv_rrep.o aodv_rerr.o packet_input.o packet_queue.o libipq.o icmp.o 
min_ipenc.o locality.o
make[1]: Entering directory 
`/home/janderson/var/autobuild/i386/root/usr/src/linux-2.6.8.1'
  CC [M]  /home/janderson/var/tmp/autobuild/aodv-uu-0.8.1/kaodv.o
  Building modules, stage 2.
  MODPOST
modpost: vmlinux no symtab?
/bin/sh: line 1:   798 Aborted                 scripts/mod/modpost -i 
/home/janderson/var/autobuild/i386/root/usr/src/linux-2.6.8.1/Module.symvers 
vmlinux /home/janderson/var/tmp/autobuild/aodv-uu-0.8.1/kaodv.o
make[2]: *** [__modpost] Error 134
madwifi and hostap-driver do the same thing: "vmlinux no symtab?".
I've messed around with cleaning out the scripts/mod directory, then 
running a make prepare (which seems to rebuild modpost), but that makes 
no difference.
For the moment, I can work around this (because I'm "cross compiling" 
for i486 on an i686 system) by just running make again in the kernel 
directory, but I would assume that wouldn't work when I have to do it 
for ppc. :-)
I guess I'm just looking for any information that might help me get rid 
of this error. Any pointers would be most welcome.
(Hopefully this is the right place to be posting such questions - if 
it's not, then I appologize.)
Cheers,
jon
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/