Date: Wed, 19 May 1999 05:43:00 +0100 (GMT)
From: Riley Williams <>
Subject: Re: block-major-xx
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/20/105

Hi Jeff.
 > Are there any documentation which list the actual module name
 > associated with block-major-xx, ie. block-major-8?
The easiest way to find that is to look in /dev for the relevant node,
and see what it corresponds to.
 > After rebooting with a monolithic kernel, I get the following
 > error message:
 > kmod: failed to exec /sbin/modprobe -s -k block-major-8, errno 2
 > Is block-major-8 an alias for a particular module name?
Of course...
 > If so, how can I find out the actual name.
Looking in /dev I see the following:
 Q> $ ls -dl /dev/* | tr -s '\t' ' ' | grep '^b.* 8, 0'
 Q> brw-rw---- root 8, 0 May 5 1998 /dev/sda
 Q> $
This indicates to me that block-major-8 corresponds to whatever your
primary SCSI interface is, since /dev/sda is the first SCSI drive...
Command analysis, for those interested...
 Q> ls -dl /dev/*
    List all entries in the /dev/directory in long format, listing
    directories by name rather than content. Pipe the output from
    this command into...
 Q> tr -s '\t' ' '
    Squash all sequences of spaces and tabs down to a single space.
    Pipe the output from this command into...
 Q> grep '^b.* 8, 0'
    Delete all lines that (a) do not begin with a lower case 'b'
    (which indicates a "block major" device), and (b) do not have
    the string ' 8, 0' somewhere in the line.
The result of this sequence is to locate the device with block major 8
and minor 0, and display the associated line. Only if none is shown do
you need to search further, and for most devices, such is no problem.
Best wishes from Riley.
+----------------------------------------------------------------------+
| There is something frustrating about the quality and speed of Linux  |
| development, ie., the quality is too high and the speed is too high, |
| in other words, I can implement this XXXX feature, but I bet someone |
| else has already done so and is just about to release their patch.   |
+----------------------------------------------------------------------+
 * 
ftp://ftp.MemAlpha.cx/pub/rhw/Linux
 * 
http://www.MemAlpha.cx/kernel.versions.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/