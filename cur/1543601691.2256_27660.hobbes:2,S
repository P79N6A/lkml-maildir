Date: Thu, 20 Sep 2001 00:24:29 +0100
From: David Howells <>
Subject: [PATCH] attempt #2 (Re: Deadlock on the mm->mmap_sem)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/19/315

Here's a revised patch to make rwsems unfair. This makes the activity counter
a long (so it can handle up to 2^63 readers on a 64-bit arch) and fixes a
small bug in the lib/rwsem.c file. This now passes all the rwsem tests that
I've got.
David
[unhandled content-type:application/octet-stream]