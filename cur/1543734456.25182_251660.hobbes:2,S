Date: Mon, 13 Sep 2004 09:15:34 +0100
From: Russell King <>
Subject: Re: Fix allnoconfig on arm with small tweak to kconfig?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/13/40

On Mon, Sep 13, 2004 at 12:53:33AM -0700, Dan Kegel wrote:
> 'make allnoconfig' generates a broken .config on arm because
> none of the boolean CPU types get selected.
> ARCH_RPC *does* get selected ok, and I can make CPU_SA110 the
> default if ARCH_RPC, but that doesn't help, since allnoconfig
> sets all booleans that are exposed to the user to false, so
> CPU_SA110 remains false.
allnoconfig is broken.  It doesn't generate a legal configuration on
this platform.
There are cases where you have the choice of selecting several options
and you may select one or more.  Zero options selected is not valid.
Unfortunately, Kconfig does not provide a way to express this.
> I tried it (see patch below), but couldn't get it to work in first
> few tries.  Can someone who understands kconfig have a look?
I don't think hacking around allnoconfig works - it means that we
have to decide on a default for every configuration.  ARCH_RPC is
only one such small case.  There's loads more.
-- 
Russell King
 Linux kernel    2.6 ARM Linux   - 
http://www.arm.linux.org.uk/
 maintainer of:  2.6 PCMCIA      - 
http://pcmcia.arm.linux.org.uk/
                 2.6 Serial core
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/