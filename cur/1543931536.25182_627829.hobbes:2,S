Date: Thu, 13 Dec 2007 14:11:24 -0800 (PST)
From: Christoph Lameter <>
Subject: Re: Major regression on hackbench with SLUB
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/13/472

On Fri, 7 Dec 2007, Linus Torvalds wrote:
> The biggest cost of __slab_alloc() in my profile is the "slab_lock()", but 
> that may not be the one that causes problems in a 64-cpu setup, so it 
> would be good to have that verified.
Hmmmm.. This would indicate lock contention on a slab.
> [ The whole node match thing is likely totally bogus. I suspect we pay 
>   *more* in trying to match nodes than we'd ever likely pay in just 
>   returning the wrong node for an allocation, but that's neither here nor 
>   there ]
Node match is necessary in order to make the allocator able to get memory 
for the node that the caller requested.