Date: Mon, 15 Dec 2003 10:57:01 -0800
From: Mike Fedyk <>
Subject: Re: More questions about 2.6 /proc/meminfo was: (Mem: and Swap: lines in /proc/meminfo)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/15/153

On Sun, Dec 14, 2003 at 07:17:05PM -0500, Rik van Riel wrote:
> On Sat, 13 Dec 2003, Mike Fedyk wrote:
> 
> > > > Are Dirty: and Writeback: counted in Inactive: or are they seperate?
> > > 
> > > They're unrelated statistics to active/inactive and will
> > > overlap with active/inactive.
> > 
> > Do they count anonymous memory, or are they strictly dirty/writeback
> > pagecache?
> 
> Pagecache only, I think.
> 
That makes sence, since dirty anonymous memory should be swapped out, not
"written back".
Though dirty seems anbiguous, since it could contain dirty anon memory too.
But, I think you are right.  On my idle system (with kde running), there's
only 40KB "dirty" memory, so it's probably pagecache only.
Thanks.
> > > > Does Mapped: include all files mmap()ed, or only the executable ones?
> > > 
> > > Mapped: includes all mmap()ed pages, regardless of executable
> > > status.
> > 
> > Is mmap() always pagecache backed, or can it be backed with anonymous
> > memory?  IE, can I subtract mapped from pagecache?
> 
> Mapped includes all mapped memory, both pagecache and
> anonymous.
> 
Ok, then I can't subtract it from the pagecache value.  I'll have to graph
that differently (a line instead of a stack).
Thanks.
> > I'd love to find a more accurate way to get the amount of memory used for
> > apps, short of reading the output of ps and doing calculations on RSS,
> > VIRTUAL, and SHARED...
> 
> That would be great, it would really help with tuning
> the VM further (if that turns out to be needed for
> special workloads).
Any suggestions?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/