Date: Sun, 14 Nov 2004 00:40:21 +0100
From: Jan Dittmer <>
Subject: [PATCH] sr module_param conversion
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/13/99

module_param conversion for SCSI cdrom driver
Signed-off-by: Jan Dittmer <jdittmer@ppp0.net>
diff -Nru a/drivers/scsi/sr.c b/drivers/scsi/sr.c
--- a/drivers/scsi/sr.c	2004-11-14 00:36:56 +01:00
+++ b/drivers/scsi/sr.c	2004-11-14 00:36:56 +01:00
@@ -59,9 +59,6 @@
 #include "sr.h"
-MODULE_PARM(xa_test, "i");	/* see sr_ioctl.c */
-
-
 #define SR_DISKS	256
 #define MAX_RETRIES	3
diff -Nru a/drivers/scsi/sr_ioctl.c b/drivers/scsi/sr_ioctl.c
--- a/drivers/scsi/sr_ioctl.c	2004-11-14 00:36:56 +01:00
+++ b/drivers/scsi/sr_ioctl.c	2004-11-14 00:36:56 +01:00
@@ -29,6 +29,9 @@
  * It is off by default and can be turned on with this module parameter */
 static int xa_test = 0;
+module_param(xa_test, int, S_IRUGO | S_IWUSR);
+
+
 #define IOCTL_RETRIES 3
 /* ATAPI drives don't have a SCMD_PLAYAUDIO_TI command.  When these drives
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/