Date: Mon, 25 Feb 2002 20:09:09 -0500
From: David Relson <>
Subject: Re: Linux 2.4.18
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/2/25/247

At 05:20 PM 2/25/02, you wrote:
>David S. Miller wrote:
>
>>We can avoid this kind of mess in the future if the "-rc*" releases
>>really are "release candidates" instead of "just another diff".
>
>And how should EXTRAVERSION be accommodated?
An idea :-)
The actual release could be automated by a script that copies the release 
candidate directory to a final directory, uses sed to correct EXTRAVERSION, 
then creates the tarball.  Using a script would ensure that EXTRAVERSION is 
correctly handled and would create all necessary tarballs and signature files.
The "Kernel_Release" script would look something like:
         mkdir /usr/src/linux-$1
         ( cd /usr/src/linux-$1-rc$2 ; tar cf - ) | ( cd /usr/src/linux-$1 
; tar xf - )
         sed s/EXTRAVERSION=.*/EXTRAVERSION/ < 
/usr/src/linux-$1-rc$2/Makefile > /usr/src/linux-$1/Makefile
         tar zcf linux-$1.tar.gz linux-$1
         tar jcf linux-$1.tar.bz2 linux-$1
         cp linux-$1.tar.gz linux-$1 jcf linux-$1.tar.bz2 linux-$1 
ftp/pub/linux/kernel/v2.4
         ... whatever other magic is neded ...
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/