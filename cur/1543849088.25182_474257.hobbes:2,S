Date: Wed, 18 Oct 2006 10:50:35 -0700
From: "Siddha, Suresh B" <>
Subject: Re: [RFC] Cpuset: explicit dynamic sched domain control flags
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/10/18/296

On Wed, Oct 18, 2006 at 12:05:12AM -0700, Paul Jackson wrote:
> Suresh wrote:
> > > What happens then is that the job manager marks the cpuset of this
> > > newly activated job as being a sched_domain.
> > 
> > With your patch, that will fail because there is already a cpuset defining
> > a sched domain and which overlaps with the one that is becoming active.
> 
> No, this does not fail.  The job manager also turned off the other cpusets
> sched_domain flag, because that job went inactive.
> 
> The job manager does not run active jobs on overlapping CPUs.  It marks
> the cpusets of only the active jobs as sched domains, and turns off the
> sched_domain flag on the cpusets of the inactive jobs.
So why can't the job manager remove the cpus from inactive cpusets and add
it to the cpuset that job manager is interested in.
Not sure what additional functionality your are adding here.
> > In this case, shouldn't we remove cpus0-3 from "cs1" cpus_allowed?
> 
> No, you missed my point.  The point of my example wasn't to show how to
> do this right.  It was to show that even the existing cpu_exclusive
> flag lets one create sched domains configurations that might not be
> what one wanted.
I agree with your point. Lets take this out of discussion for now.
thanks,
suresh
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/