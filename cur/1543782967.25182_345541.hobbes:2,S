Date: Tue, 30 Aug 2005 14:35:30 +0200
From: Tim Weippert <>
Subject: Re: Bad page state on AMD Opteron Dual System with kernel 2.6.13-rc6-git13
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/30/96

On Tue, Aug 30, 2005 at 10:51:18AM +0100, Hugh Dickins wrote:
> On Tue, 30 Aug 2005, Tim Weippert wrote:
> > 
> > It seems the error is still there:
> > 
> > Aug 29 19:42:09 montdsnsu3 kernel: swap_free: Bad swap file entry
> > c800007fffffc02f
> > Aug 29 19:42:09 montdsnsu3 kernel: Kernel BUG at "mm/rmap.c":493
> > Aug 29 19:42:09 montdsnsu3 kernel: invalid operand: 0000 [3] SMP 
> > Aug 29 19:42:09 montdsnsu3 kernel: Pid: 26550, comm: sh Tainted: G    B
> 
> Thanks a lot for trying and reporting back.  That's bad news: I was
> willing to bet that the MSR would fix it.  Sorry for wasting your time.
> 
> Not quite conclusive though: I think (from the "[3]" above) that you've
> not rebooted since the earlier failures?  (Nor did I suggest you should.)
> 
> It's conceivable (though not very likely) that here you have the error
> reported on exit from a long-running "sh", running since before you made
> the MSR fix (the error I'm thinking of occurs when originally exec'ed,
> but may pass unnoticed while running).
Yes, this can possible, that the sh run before the changes were made.
but. The later problem suggest me that this not entirely fix the
problem.
> > Bongani Hlope suggest me to try this:
> > 
> > echo 0 > /proc/sys/kernel/randomize_va_space and look for 
> > 
http://bugzilla.kernel.org/show_bug.cgi?id=4851
> 
> Please do try that.  And if no luck with that, next time it's convenient
> for you to reboot, please write the MSR as early as you can to see if
> that makes any difference (probably not, but there's a chance).
Well, now i haven't any entries for the last 5 hours:
Aug 30 08:52:05 montdsnsu3 kernel: ping[6241] general protection
rip:2aaaaaaaed43 rsp:7fffff9bff00 error:0
Aug 30 08:54:04 montdsnsu3 kernel: grep[7422] general protection
rip:2aaaaaaaed43 rsp:7fffffdbf9b0 error:0
Aug 30 09:14:01 montdsnsu3 kernel: ping[22938] general protection
rip:2aaaaaaaed43 rsp:7fffff9c04b0 error:0
Maybe the randomize_va_space will fix or suppress it ... i will wait
until tomorrow and then i think i will reboot the machine and do both, 
the MSR write and the randomize_va_space settings.
Thanks for your help, 
    tim
-- 
Interpunktion und Orthographie dieser Email ist frei erfunden.
Eine Übereinstimmung mit aktuellen oder ehemaligen Regeln
wäre rein zufällig und ist nicht beabsichtigt.
Tim Weippert <weiti@topf-sicret.org>
http://www.topf-sicret.org/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/