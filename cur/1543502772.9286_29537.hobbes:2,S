Date: Thu, 15 Jul 1999 13:51:09 +0300
From: Matti Aarnio <>
Subject: linux-kernel list problems -- Now solved ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/15/65

	I found, and fixed it for now - I think.
On Thu, Jul 15, 1999 at 09:13:35AM +1000, Andrew Tridgell wrote:
> Matti,
....
> > 	Ok, shunted to "." processor -- nic.funet.fi
> 
> unfortunately it doesn't seem to have helped, which is really
> strange.
	Indeed, which woke me up properly...
>    The other lists are still getting through, I see hundreds
> of messages from owner-linux-*-outgoing@vger.rutgers.edu but none
> from the linux-kernel list. That makes me think it is a majordomo
> problem, but I can't see why only Australia is affected.
	It wasn't .AU only.  The way this turned up to be was that
	there were couple of broken subscriptions which with one
	ZMailer quirk did turn out to reject all recipients in the
	batch where that envelope error occurred.
	Addresses at the file were something like:
		foo@ with.extra.space
		barf@domain. with.extra.space
	As things are done by the "listexpand" utility, it picks
	address-line from the start of the text line in the file,
	and chops it off at frist non-quoted white-space. Thus:
		foo@
		barf@domain.
	which both caused ZMailer router to reject the message on
	basis of bad envelope.  (Both happened in same batch part,
	so this wasn't quite so bad to spot..)
	Why it then happened to .AU and some others ?
	The  listexpand  utility picks all addresses from the file,
	SORTS them in reverse (domain part all lowercase) domain
	field order: .AR is before .BE,  FOO.AR is after BAR.AR, etc..
	Then it outputs the recipient list in sorted order with
	200 recipients at the time (last set can be smaller):
	Here are first TLDs from  linux-kernel:
	      6 ar	  6
	      1 as	  7
	     27 at	 34
	     79 au	113
	     22 be	135
	      4 bg	139
	     31 br	170
	      1 by	171
	     77 ca	248
	So, every address AR thru BY were dumped, and about 1/3 of CA
	also.  :-/
	I don't receive  owner-linux-kernel*, so I didn't see the telltale
	report it got for EACH message sent to the list :-(
	This has happened before once or twice.
	Back then the *entire* list was junked, which alerted me to
	proper track, this one was a *bit* more difficult to spot.
	I need to study ways to armour the system against this sort
	of bad address entries in the subscription databases.
	But before it can be cured properly, Andy et.al., could you
	keep an eye on the list address contents ?
	I will go away from the network for shortish vacation next
	couple of weeks...
> Cheers, Tridge
/Matti Aarnio <matti.aarnio@sonera.fi>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/