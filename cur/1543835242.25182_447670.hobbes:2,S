Date: Fri, 28 Jul 2006 13:13:57 -0400
From: Jason Lunz <>
Subject: Re: [PATCH] amd74xx: implement suspend-to-ram
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/28/196

On Fri, Jul 28, 2006 at 05:51:55PM +0100, Alan Cox wrote:
> This beings in the IDE power step code. You should do that as a step
> before the win_idleimmediate I suspect. Theory is right, diagnosis is
> right, implementation is in the wrong place.
> 
> You'll make a lot more people happy by fixing it in ide-io
OK, I'll see about moving it there. Will this still be
controller-specific, or are you suggesting this is something ide ought
to do globally?
I poked around in ide-io.c a little while writing the patch, but my
assumption so far has been that the core ide suspend is OK wrt s2ram,
since I never hear IDE cited as the reason for s2ram failure. Usually
it's ACPI or video problems.
I'm beginning to suspect that the real problem is that everyone who
experiences ide-related hangs when attempting s2ram switches to s2disk,
which sidesteps ide problems since the ide controller stays alive
throughout the process and gets reinitialized on resume. So I guess
ide/s2ram problems could be more common than is widely known.
Jason
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/