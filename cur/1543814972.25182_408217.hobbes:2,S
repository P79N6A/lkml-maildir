Date: Sun, 19 Mar 2006 21:54:54 -0700
From: "Jordan Crouse" <>
Subject: Re: Why doesn't MGEODE_LX enable X86_TSC?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/3/19/147

On 19/03/06 22:59 +0100, Adrian Bunk wrote:
> Is it accidental that CONFIG_MGEODE_LX doesn't enable CONFIG_X86_TSC or 
> is there a reason for this?
Totally accidental.   Thanks for pointing that out.  Just for completeness,
here's the patch if it hasn't already been fixed.
Jordan
--
Jordan Crouse
Senior Linux Engineer
AMD - Personal Connectivity Solutions Group
<www.amd.com/embeddedprocessors>
[PATCH] Enable TSC for AMD Geode GX/LX
Geode GX/LX should enable X86_TSC.   Pointed out by Adrian Bunk.
Signed-off-by: Jordan Crouse <jordan.crouse@amd.com>
---
 arch/i386/Kconfig.cpu |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)
diff --git a/arch/i386/Kconfig.cpu b/arch/i386/Kconfig.cpu
index 79603b3..eb13048 100644
--- a/arch/i386/Kconfig.cpu
+++ b/arch/i386/Kconfig.cpu
@@ -311,5 +311,5 @@ config X86_OOSTORE
 
 config X86_TSC
 	bool
-	depends on (MWINCHIP3D || MWINCHIP2 || MCRUSOE || MEFFICEON || MCYRIXIII || MK7 || MK6 || MPENTIUM4 || MPENTIUMM || MPENTIUMIII || MPENTIUMII || M686 || M586MMX || M586TSC || MK8 || MVIAC3_2 || MGEODEGX1) && !X86_NUMAQ
+	depends on (MWINCHIP3D || MWINCHIP2 || MCRUSOE || MEFFICEON || MCYRIXIII || MK7 || MK6 || MPENTIUM4 || MPENTIUMM || MPENTIUMIII || MPENTIUMII || M686 || M586MMX || M586TSC || MK8 || MVIAC3_2 || MGEODEGX1 || MGEODE_LX) && !X86_NUMAQ
 	default y