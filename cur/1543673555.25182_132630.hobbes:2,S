Date: 13 May 2003 23:55:52 +0100
From: Alan Cox <>
Subject: Re: 2.5.69, IDE TCQ can't be enabled
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/13/430

On Maw, 2003-05-13 at 21:03, Andre Hedrick wrote:
> Not a single OS (linux included) can deal with a error in flush cache, 
> much less an error from a previous tagged request.
To be reasonable its not clear what you can do when a flush cache fails. The
only cases I can see you can handle anything intelligently are drive side but
even those are not clear. If the drive flushes all the blocks it can get
to disk its really the same as a fatal write error except we have less idea how
to recover and have already lost the data.
For the cases it matters you turn off write cache and we (maybe SATA time mostly)
get tcq working properly.
This is the same issue as with SCSI. SCSI has a whole rats nest of things that
seem to exist solely to screw up error recovery 8)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/