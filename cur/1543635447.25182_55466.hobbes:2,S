Date: Wed, 10 Jul 2002 15:57:27 +0200
From: "Christian Ludwig" <>
Subject: bzip2 support against 2.4.18
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/10/68

Hey,
I think it's time to have bzip2 support in the kernel. I know the discussion
about the speed and memory issues that are around with this. But everything
in this patch is optional. You may use these new features if you want, you
do not have to use them...
This is a testing version of the patch. Only apply this if you really want
to play around with it a little bit. I know too less persons, who have the
time/fancy to test it (including myself). If you find errors in it feel free
to go on developing the patch yourself! Just CC a copy to me.
This patch consists actually of two parts:
1. A kernel bzip2 compression patch. The kernel will be compressed with
bzip. Therefore you have to type "make bz2bzImage" at the prompt after the
kernel configuration. This part is architecture dependent and was
implemented only for i386 based PCs right now.
2. A ramdisk bzip2 compression support patch. The ramdisk/initrd recongnises
now bzip2 compressed ramdisk images, loads and decompresses them. You can
choose between gzip and bzip2 (or even both) in the kernel configuration.
These two parts cannot be split up, because both are using the same
decompression code in "linux/lib/bzip2_inflate.c".
I have adapted this kernel hack by Tom Oehser (tom@toms.net). He wrote this
for kernel 2.2 and I ported it to 2.4.18 and cleaned up the code.
You will find the diff here:
    
http://chrissicool.piranho.com/patch-2.4.x-bzip2-i386
Known bugs:
    - gzip crc support was corrupted in file "rd.c", function
"flush_window()"
      [maybe it can be fixed, but time is money...]
    - too less testing time was invested
Best regards,
    - Christian
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/