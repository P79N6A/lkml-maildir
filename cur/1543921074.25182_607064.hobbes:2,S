Date: Thu, 18 Oct 2007 22:09:06 +0200 (CEST)
From: Jan Engelhardt <>
Subject: Re: [RFC PATCH 0/5] Shadow directories
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/18/364

On Oct 19 2007 05:32, David Newall wrote:
>
> The claim is wrong.  UNIX systems have traditionally allowed the
> superuser to create hard links to directories.  See link(2) for
> 2.10BSD
> <
http://www.freebsd.org/cgi/man.cgi?query=link&sektion=2&manpath=2.10
+BSD>.
> Having got that wrong throws doubt on the argument; perhaps a path
> can simultaneously be a file and a directory.
But hell will break lose if you allow hardlinking directories.
mkdir /tmp/a
ln /tmp/a /tmp/a/b
And you would not be able to rmdir /tmp/a/b because the directory is
not empty (it contains "b" [full path: /tmp/a/b/b]).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/