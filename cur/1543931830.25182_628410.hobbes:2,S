Date: Fri, 14 Dec 2007 18:27:58 -0800
From: Larry Finger <>
Subject: Re: [PATCH 3/3] net: wireless: bcm43xx: big_buffer_sem semaphore to mutex
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/14/444

mvtodevnull@gmail.com wrote:
> 
> Could this be the reason my BCM94311MCG rev 1 receives such terrible
> performance with b43 but works well with bcm43xx? The device is
> 802.11b/g but my router is 802.11b. I filed a report on this issue
> here: 
https://bugzilla.redhat.com/show_bug.cgi?id=413291
No. On my BCM4311/1, my transfer rate peaked at about 12 Mbs with bcm43xx, but increased to 20 Mbs 
with b43. These tests were done with iperf with a server running running on a second computer 
connected by wire to my router. These rates are for 802.11g. When my interface was locked at 11 Mbs, 
the transfer rate was the expected 5.3-5.5 Mbs with both drivers.
> I was told by Michael that I would have to fix it myself, and I am
> trying, but the learning curve is a little steep. If this is relevant,
> I might at least have some direction to go in.
I suspect that mac80211 is doing something that your router does not like. Do you have any chance to 
capture the traffic between your computer and the router by using a second wireless computer running 
kismet or wireshark? A look at the differences between b43 and bcm43xx should show the reason.
Larry