Date: Tue, 23 Oct 2007 16:48:58 +0200
From: Arnd Bergmann <>
Subject: [PATCH][SG] fix typo in ps3rom.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/23/219

This was accidentally introduced by yesterday's change to the SG handling.
Signed-off-by: Arnd Bergmann <arnd@arndb.de>
---
On Monday 22 October 2007, Jens Axboe wrote:
> 
> I split the patch up into a few pieces, so it can be applied safely.
> It builds with allyesconfig on i386 and x86-64, and it's been booted
> and tested on both those archs and ppc64 as well.
Not sure if this has been reported already, but I needed the trivial fix
to build the ps3rom driver.
diff --git a/drivers/scsi/ps3rom.c b/drivers/scsi/ps3rom.c
index 03f19b8..17b4a7c 100644
--- a/drivers/scsi/ps3rom.c
+++ b/drivers/scsi/ps3rom.c
@@ -147,7 +147,7 @@ static int fetch_to_dev_buffer(struct scsi_cmnd *cmd, void *buf)
 
 	req_len = fin = 0;
 	scsi_for_each_sg(cmd, sgpnt, scsi_sg_count(cmd), k) {
-		kaddr = kmap_atomic(sg_page(sgpnt->page), KM_IRQ0);
+		kaddr = kmap_atomic(sg_page(sgpnt), KM_IRQ0);
 		len = sgpnt->length;
 		if ((req_len + len) > buflen) {
 			len = buflen - req_len;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/