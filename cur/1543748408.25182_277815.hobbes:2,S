Date: Thu, 9 Dec 2004 15:02:19 -0000
From: "Nisbet, David " <>
Subject: Local multicast source not routing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/9/79

Hi,
I have been experiencing problems with multicast traffic generated locally
on a 2.4.17 machine configured for multicast routing. Traffic generated by
my multicast source (vic) is correctly sent to the local ethernet but it is
never sent to either of my two gre tunnels. I believe I should see at least
some packets on all interfaces before the routes are pruned but I see
nothing.
This seems to parallel a problem that was originally fixed in the 2.0 kernel
where multicast packets were not passed to the routing function. I know that
the tunnels can handle multicast traffic because I am receiving packets from
a remote machine. Similarly, multicast traffic received from the local
ethernet is correctly routed over the tunnels. It is only the traffic
generated on the router that is having problems. Using vic, I have set the
source ip address to the ethernet port to ensure the data comes from a valid
address and I have forced the ttl to 16 but neither has fixed the problem.
So my question is: Are locally generated multicast packets passed throught
the kernel routing functions? If not, were they previously?
The kernel is 2.4.17 (although the same problem appears to occur on a 2.4.22
machine) and I am running mrouted-3.9-beta-3 for route transfer.
Thanks
David
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/