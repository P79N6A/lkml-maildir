Date: Thu, 8 Feb 2007 10:30:54 -0500
From: Prarit Bhargava <>
Subject: [PATCH]: change __init to __devinit in 2 rtc drivers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/8/121

Change __init to __devinit in rtc drivers' probe functions.
Resolves MODPOST warnings:
WARNING: drivers/rtc/rtc-ds1553.o - Section mismatch: reference to
.init.text:ds1553_rtc_probe from .data.rel between 'ds1553_rtc_driver' (at
offset 0x0) and 'ds1553_nvram_attr'
WARNING: drivers/rtc/rtc-ds1742.o - Section mismatch: reference to
.init.text:ds1742_rtc_probe from .data.rel between 'ds1742_rtc_driver' (at
offset 0x0) and 'ds1742_nvram_attr'
Signed-off-by: Prarit Bhargava <prarit@redhat.com>
--- linux-2.6.19.ia64.orig/drivers/rtc/rtc-ds1742.c	2007-02-07 09:56:37.000000000 -0500
+++ linux-2.6.19.ia64/drivers/rtc/rtc-ds1742.c	2007-02-08 10:19:47.000000000 -0500
@@ -165,7 +165,7 @@ static struct bin_attribute ds1742_nvram
 	.write = ds1742_nvram_write,
 };
 
-static int __init ds1742_rtc_probe(struct platform_device *pdev)
+static int __devinit ds1742_rtc_probe(struct platform_device *pdev)
 {
 	struct rtc_device *rtc;
 	struct resource *res;
--- linux-2.6.19.ia64.orig/drivers/rtc/rtc-ds1553.c	2007-02-07 09:56:37.000000000 -0500
+++ linux-2.6.19.ia64/drivers/rtc/rtc-ds1553.c	2007-02-08 10:19:12.000000000 -0500
@@ -297,7 +297,7 @@ static struct bin_attribute ds1553_nvram
 	.write = ds1553_nvram_write,
 };
 
-static int __init ds1553_rtc_probe(struct platform_device *pdev)
+static int __devinit ds1553_rtc_probe(struct platform_device *pdev)
 {
 	struct rtc_device *rtc;
 	struct resource *res;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/