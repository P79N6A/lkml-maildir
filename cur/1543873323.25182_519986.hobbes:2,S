Date: Wed, 14 Mar 2007 08:29:32 -0700 (PDT)
From: Davide Libenzi <>
Subject: Re: [patch 5/9] signalfd/timerfd v3 - signalfd compat code ...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/14/230

On Wed, 14 Mar 2007, Frank Seidel wrote:
> On Monday 12 March 2007 20:19:27 Davide Libenzi wrote:
> Hi,
> i'm not (at least until yet) really that familiar with the kernel, but 
> currently trying to get into it also via reading of code and patches 
> here. So please don't take my comments in this (and posibly following)
> mails to serious. ;-)
> 
> > +asmlinkage long compat_sys_signalfd(int ufd,
> > +                                 const compat_sigset_t __user 
> *sigmask,
> > +                                 compat_size_t sigsetsize)
> > +{
> > +     compat_sigset_t ss32;
> > +     sigset_t tmp;
> > +     sigset_t __user *ksigmask;
> > +
> Would it be good to put this in a
> 
> if (sigmask) {
> 
> like its e.g. done in compat_sys_epoll_pwait or would this be
> totally useless here?
On the contrary or epoll_pwait (same family of ppoll/pselect), the sigmask 
is needed here, by the API definition.
- Davide