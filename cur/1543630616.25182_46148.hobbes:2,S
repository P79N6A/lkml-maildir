Date: Wed, 15 May 2002 15:28:17 +0100 (BST)
From: Tigran Aivazian <>
Subject: Re: Initrd or Cdrom as root
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/15/119

On Wed, 15 May 2002, Dead2 wrote:
> So, I now have a new problem I hope someone can help me out with.
> It now mounts the cdrom as root like it should, but then gives me the error:
> "Warning: unable to open an initial console."
>
> I have checked everything I can think of, but if someone could point me to
> exactly generates this error, I would be forever grateful.
Yes, that is well-known.
Unix root filesystem cannot be readonly in its entirety. Linux is much
better, but even Linux is not perfect.
So, what I do is --- I prepare the /var, /home, /etc, /dev in a tar.gz
file and place it on CD. Then, from rc.sysinit I mount tmpfs on those
points and unpack the tar.gz from / --- thus ending up with readwrite /var
/home /etc and /dev. (you could avoid /dev issue by using devfs but then
you will have other little problems to deal with :)
Btw, you will encounter lots of other problems, of course. Making a Linux
distribution is fun (I enjoy it) but it is not as trivial as some think.
It is certainly not a "pile of rpms" and Red Hat certainly do _not_ "just
package some free software" and sell it. Even without going into the level
of producing _general purpose_ distribution (which is what Red Hat Linux
is), making a (even specialized) Linux distribution is non-trivial. But it
is fun, try it :)
Regards
Tigran
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/