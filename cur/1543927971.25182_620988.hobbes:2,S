Date: Sun, 25 Nov 2007 18:19:34 +0000
From: Pavel Machek <>
Subject: Re: [2.6.23-1] [USB Mass Storage] [USB_PERSIST] Losing mounted USB storage after resume
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/25/51

Hi!
> The scenario that you've described is exactly what I have in mind as
> well. The lack of this feature, which worked fine in 2.6.21, is
> holding us back on updating the kernel in our LiveUSB distribution. I
> think that this is a feature that would be more and more needed as
> portable storage devices start growing in capacity and speed and start
> getting smaller in physical size.
> 
> Please advise us on how to accomplish this. Kernel boot option; patch;
> anything! We'll take anything.
This is tricky to do safely. You could verify during resume that fs
was not modified (same last mount date on ext2) and if it was not,
just proceed as if it was not unmounted. Patch would be warmly
welcome.
							Pavel
-- 
(english) 
http://www.livejournal.com/~pavelmachek
(cesky, pictures) 
http://atrey.karlin.mff.cuni.cz/~pavel/picture/horses/blog.html
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/