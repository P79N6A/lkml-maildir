Date: Thu, 26 Aug 2004 08:39:10 +0200
From: Frank Steiner <>
Subject: Re: 2.6.8.1: ip auto-config accepts wrong packages
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/26/28

Hi Mark,
Mark Broadbent wrote:
> Stupid question but the MAC addresses on the cards are different aren't
> they?  Could you also double check that the xid values differ on both
> machines, this is shown on the line:
> 
> IP-Config: eth0 UP (able=1, xid=07196018)
>                                 ^^^^^^^^
> 
> Both MAC and xid should be different.
obiously, the problem is here. The xid is the same on 5 different hosts
I tested with the debugging-enabled kernel. Looking it ipconfig.c I now
understand that with several hosts using the same xid it must go wrong.
I'm currently compiling a new kernel with debugging enabled in rancom.c
to see what's going wrong here. Looks like random_bytes is returning
the same value on all hosts :-(
Can anyone else maybe do a quick check with "ip=dhcp" on two hosts
just to see if the problem with the identical xids just show up here?
I will send the result of the debugging output from random.c.
cu,
Frank
-- 
Dipl.-Inform. Frank Steiner   Web:  
http://www.bio.ifi.lmu.de/~steiner/
Lehrstuhl f. Bioinformatik    Mail: 
http://www.bio.ifi.lmu.de/~steiner/m/
LMU, Amalienstr. 17           Phone: +49 89 2180-4049
80333 Muenchen, Germany       Fax:   +49 89 2180-99-4049
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/