Date: Wed, 1 Jun 2005 13:46:12 -0700
From: Bill Huey (hui) <>
Subject: Re: RT patch acceptance
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/1/293

On Wed, Jun 01, 2005 at 10:32:12PM +0200, Andrea Arcangeli wrote:
> You don't know very much about local_irq_disable if you think it isn't
> smp safe in drivers.
Yes, I do. Look at the patch.
> local_irq_disable is perfectly safe in drivers, infact it's _needed_
> sometime to avoid race conditions with irqs.
Where ? Point it out.
> Now tell me what do you gain by keeping premept-RT "metal hard" and
> prone to break anytime somebody changes a device driver or some
> networking subsystem when you can do the "ruby hard" thing like RTAI and
> rtlinux do for years?
Long paths are audited and correct when instrumentation is triggered
by it. Look at the patch.
> The patch doesn't remove any local_irq_disable from drivers, nor it
> outlaws it.
Doesn't have to yet. Drivers are case by case problem as expected. Look
at the patch.
> It's you who has learn what local_irq_disable does, why it's obviously
Wrong. I did a parallel implementation of this patch and I understand
the issues very clearly. Deterministic single kernel RT isn't new or
novel in the RTOS world (LynxOS, SGI IRIX, ...).
> the _most_smp-safe_ function in the whole kernel (so much that it's the
> only one you can use to avoids locks around per-cpu data structures to
> get full scalability), and to grep for it in drivers and verify they're
> still there after applying the patch, and subject to modifications and
> brekages in future upgrades of the kernel.
Wrong.
Listen to what Ingo, me and others have said and read the patch. You're
way behind with these issues and have continued to ask really ridiculous
questions with looking at the patch. 6+ months of developement have gone
into the patch. Really, read the patch and stop asking question, spreading
FUD until then.
bill
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/