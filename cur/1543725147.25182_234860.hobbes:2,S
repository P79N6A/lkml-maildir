Date: Fri, 16 Jul 2004 14:41:35 -0600
From: Andreas Dilger <>
Subject: Re: [Ext2-devel] Re: ext3: bump mount count on journal replay
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/7/16/116

On Jul 14, 2004  22:32 +0200, Pavel Machek wrote:
> > AFAICS, this just means that if you have an ext3 filesystem
> > (i.e. has_journal) that you will fsck 5x as often, not so great.  You
> > should instead check for INCOMPAT_RECOVER instead of HAS_JOURNAL.
> 
> Oops, you are right. Updated patch is attached.
No patch was attached.
> > Instead, you could change this to only increment the mount count after
> > a clean unmount 20% of the time (randomly).  Since most people bitch
> > about the full fsck anyways this is probably the better choice than
> > increasing the frequency of checks and forcing the users to change the
> > check interval to get the old behaviour.
> 
> Nice hack.... would that be acceptable?
It's OK by me.  I don't think you'll get complaints from users if it is
checked less often (there is still the time-based check).
Cheers, Andreas
--
Andreas Dilger
http://sourceforge.net/projects/ext2resize/
http://members.shaw.ca/adilger/
             
http://members.shaw.ca/golinux/
[unhandled content-type:application/pgp-signature]