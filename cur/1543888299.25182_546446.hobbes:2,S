Date: Sat, 19 May 2007 15:25:27 +0530
From: Anant Nitya <>
Subject: Re: [BUG] local_softirq_pending storm
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/19/50

On Friday 18 May 2007 18:31:17 Thomas Gleixner wrote:
> On Thu, 2007-05-17 at 12:11 +0530, Anant Nitya wrote:
> > On Friday 11 May 2007 03:28:46 Thomas Gleixner wrote:
> > > Ok, that's consistent with earlier reports. The problem surfaces when
> > > one of the SMT-"cpus" goes idle. The problem goes away when you disable
> > > hyperthreading.
> >
> > Yes with HT disabled in BIOS there is no local_softirq_pending messages.
> > BTW why does this problem persist only with X ?
>
> No idea. I uploaded a debug patch against 2.6.22-rc1 to
>
> 
http://www.tglx.de/private/tglx/2.6.22-rc1-hrt-debug.patch
>
> Can you give it a try and report the output ?
Hi
Here it goes 
[  159.646196] NOHZ softirq pending 22 on CPU 0
[  159.646207] .... task state: 1 00000000
[  159.646217] .... last caller: __tasklet_schedule
[  159.646997] NOHZ softirq pending 22 on CPU 0
[  159.647006] .... task state: 1 00000000
[  159.647013] .... last caller: __tasklet_schedule
[  159.647398] NOHZ softirq pending 22 on CPU 0
[  159.647405] .... task state: 1 00000000
[  159.647412] .... last caller: __tasklet_schedule
[  159.647768] NOHZ softirq pending 22 on CPU 0
[  159.647775] .... task state: 1 00000000
[  159.647781] .... last caller: __tasklet_schedule
[  166.285664] NOHZ softirq pending 22 on CPU 0
[  166.285675] .... task state: 1 00000000
[  166.285687] .... last caller: raise_softirq
[  166.286321] NOHZ softirq pending 22 on CPU 0
[  166.286329] .... task state: 1 00000000
[  166.286337] .... last caller: raise_softirq
[  166.286715] NOHZ softirq pending 22 on CPU 0
[  166.286722] .... task state: 1 00000000
[  166.286729] .... last caller: raise_softirq
[  166.287085] NOHZ softirq pending 22 on CPU 0
[  166.287092] .... task state: 1 00000000
[  166.287098] .... last caller: raise_softirq
[  171.512134] NOHZ softirq pending 22 on CPU 0
[  171.512144] .... task state: 1 00000000
[  171.512154] .... last caller: __tasklet_schedule
[  171.512712] NOHZ softirq pending 22 on CPU 0
[  171.512720] .... task state: 1 00000000
[  171.512727] .... last caller: __tasklet_schedule
Regards
Ananitya
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/