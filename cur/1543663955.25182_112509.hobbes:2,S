Date: Mon, 24 Feb 2003 22:37:39 -0800
From: William Lee Irwin III <>
Subject: Re: WARN_ON noise in 2.5.63's kernel/sched.c:context_switch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/25/16

On Tue, Feb 25, 2003 at 03:35:22PM +0900, Miles Bader wrote:
> I'm getting a bunch of stack dumps from the WARN_ON newly added to 
> kernel/sched.c:context_switch:
> 	if (unlikely(!prev->mm)) {
> 		prev->active_mm = NULL;
> 		WARN_ON(rq->prev_mm);
> 		rq->prev_mm = oldmm;
> 	}
> The thing is, I'm hacking on uClinux, so I don't have an MMU, and the mm
> stuff is purely noise.  What's the best way to squash this warning?
> [Of course I'd like to just trash all the MM manipulation -- for me,
> `context_switch' should really _just_ do `switch_to' -- but I'd settle
> for just not having stack dumps litter my console output...]
This means there's some kind of trouble happening, i.e. the rq->prev_mm
pointer is not NULL when it should be.
Tracking down the root cause would better serve you.
-- wli
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/