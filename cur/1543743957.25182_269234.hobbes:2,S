Date: Mon, 8 Nov 2004 09:13:34 -0500 (EST)
From: Justin Piszcz <>
Subject: Kernel 2.6.9 & adm1021 & i2c_piix4 temperature monitoring
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/11/8/91

Anyone know why this happens?
I am monitoring the temperature sensors on my Dell GX1 box, and I get the 
following in dmesg:
i2c_adapter i2c-0: Failed! (01)
i2c_adapter i2c-0: Failed! (01)
i2c_adapter i2c-0: Failed! (01)
i2c_adapter i2c-0: Failed reset at end of transaction (01)
i2c_adapter i2c-0: Failed! (01)
i2c_adapter i2c-0: Failed! (01)
i2c_adapter i2c-0: Failed! (01)
i2c_adapter i2c-0: Failed! (01)
i2c_adapter i2c-0: Failed reset at end of transaction (01)
i2c_adapter i2c-0: Failed! (01)
i2c_adapter i2c-0: Failed! (01)
i2c_adapter i2c-0: Failed! (01)
i2c_adapter i2c-0: Failed! (01)
I am using lm-sensors 2.8.7.
Relevant modules include:
$ lsmod
Module                  Size  Used by
adm1021                12092  0
i2c_piix4               5648  0
i2c_sensor              2912  1 adm1021
i2c_dev                 7776  0
i2c_core               19312  4 adm1021,i2c_piix4,i2c_sensor,i2c_dev
Of course the ``secret'' to getting the temperature sensors to work on a 
Dell is two options when loading the i2c driver and the adm1024 driver.
   TYPE="/sbin/modprobe"
   $TYPE i2c_piix4 force=1
   $TYPE adm1021 read_only=1
The force is required to enable it, otherwise I do not believe it even 
loads.
The read_only=1 is so it does not change the temperature range in the 
monitoring chip, if read_only=1 is not set and the machine gets hot, say 
from compiling the kernel, the machine shuts itself off.
My question is, why all the failed transactions?
I graph the temperature without any issues (system and CPU) but I still 
get some of these in dmesg, any ideas?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/