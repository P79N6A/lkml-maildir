Date: Thu, 20 Sep 2001 19:37:30 +0200
From: Roger Larsson <>
Subject: Re: [PATCH] Preemption Latency Measurement Tool
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/9/20/137

On Thursday den 20 September 2001 09.57, Dieter Nützel wrote:
> Am Donnerstag, 20. September 2001 08:41 schrieb Andrea Arcangeli:
>
> But this is not enough. Even with reniced artsd (-20).
> Some shorter hiccups (0.5~1 sec).
>
> -Dieter
>
> dbench 16 (without renice)
> Throughput 31.0483 MB/sec (NB=38.8104 MB/sec  310.483 MBit/sec)
> 7.270u 29.290s 1:09.03 52.9%    0+0k 0+0io 511pf+0w
> load: 1034
>
> Worst 20 latency times of 4261 measured in this period.
>   usec      cause     mask   start line/file      address   end line/file
>   4617   reacqBKL        0  1375/sched.c         c0114d94  1381/sched.c
    ^^^^
This is fantastic! It REALLY is!
When we started with the low latency work we aimed at 10 ms.
(in all situations, not only when running dbench... but still)
Lets see - no swap used? - not swapped out
But with priority altered - it is unlikely that it would not be scheduled
in for such a long time.
Might it be that the disk is busy to handle dbench requests. 16 threads ->
16 read and several (async) write requests at different disk locations in
queue - make it 20. Seek time 10 ms => queue length 200 ms... probable???
Do you have more than one disk? Try to run dbench on one and the player from
the other.
/RogerL
-- 
Roger Larsson
Skellefteå
Sweden
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/