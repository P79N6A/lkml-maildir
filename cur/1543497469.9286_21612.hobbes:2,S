Date: Wed, 2 Jun 1999 19:17:22 +0400 (MSK DST)
From:  kuznet@ms2 ...
Subject: Re: [patch] TCP/IP delacks disabled with MPI
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/2/67

Hello!
> The sync code uses dev_queue_xmit() to queue the keepalive and link setup
> frames for PPP and Cisco HDLC. So setting dev->tbusy when the link goes down
> means it will never come back as the link setup will never be allowed to occur
Really? It is dubius idea. If keepalives will be lost,
link will fail. And they will be lost, if share queue with data.
No, Alan. I am ready to give up, but it is very dubiuos.
dev_queue_xmit is used for data. It cannot be used before
link setup is finished, because there is no link yet.
I am sorry, but if CBQ is attached to the device, these
guys who implemented keepalives in this manner risk to drop
their control data to a blackhole or to police them to death.
It is interesting also, how Cisco HDLC keepalives look in tcpdump 8)
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/