Date: Thu, 15 Apr 2004 14:55:36 +0400
From: Konstantin Sobolev <>
Subject: Re: poor sata performance on 2.6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/4/15/43

On Thursday 15 April 2004 07:54, Ryan Geoffrey Bourgeois wrote:
> > /dev/hde:
> >  Timing buffer-cache reads:   1436 MB in  2.00 seconds = 717.03 MB/sec
> >  Timing buffered disk reads:  100 MB in  3.03 seconds =  32.95 MB/sec
> >
> > for sata_sil:
> >
> > /dev/sda:
> >  Timing buffer-cache reads:   1412 MB in  2.00 seconds = 705.05 MB/sec
> >  Timing buffered disk reads:   84 MB in  3.06 seconds =  27.43 MB/sec
> >
> > So my old IDE HDD appears to be considerably faster. Expected results
> > were 55-70MB/s.
>
> Which kernel version did you get these results using?  Have you
Results are the same on different kernels, I tried 2.6.4-ck1 and -ck2,
2.6.4-wolk2.3, 2.6.5 vanilla and 2.6.5-mm5
> speed-tested the drive(s) on a different SATA controller?  I don't mean to
Not yet, but I'm going to test it on Intel ICH5 soon.
> imply that you should buy another one - that would be rediculuous since
> your motherboard should laready has it - but it would help to eliminate
> possible causes of error.  I took the same readings on my machine.  I'm
I'm almost ready to buy separate controller, but all that I could find nearby 
are based on the same Silicon Image chipset
> using an ASUS SK8N motherboard - that's the Promise TX2 SATA controller -
> with Western Digital's 36gb 10K RPM Raptor:
>
> /dev/sda:
>  Timing buffer-cache reads:   128 MB in  0.12 seconds =1075.79 MB/sec
>  Timing buffered disk reads:  64 MB in  1.20 seconds = 53.43 MB/sec
>
> I'm using the latest stable vanilla kernel (2.6.5), compiled today.  It
> would also help to have your kernel config, if at all possible.
Sure. Attached is .config for 2.6.5-mm5
Thanks
-- 
/KoS
* If you can't say it in 50 characters, then don't b		      
[unhandled content-type:application/x-gzip]