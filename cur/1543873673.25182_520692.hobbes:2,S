Date: Fri, 16 Mar 2007 09:46:09 +0100
From: Pierre Ossman <>
Subject: Re: [PATCH] MMC: Fix handling of low-voltage cards
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/16/54

Philip Langdale wrote:
> diff --git a/drivers/mmc/core/core.c b/drivers/mmc/core/core.c
> index c87ce56..74ebd97 100644
> --- a/drivers/mmc/core/core.c
> +++ b/drivers/mmc/core/core.c
> @@ -317,6 +317,24 @@ static u32 mmc_select_voltage(struct mmc
> 
The idea with the new structure is to keep a bare minimum of protocol
information in core.c. So stick these tests into mmc.c and sd.c.
> +	if (ocr & 0x7F) {
> +		printk("%s: card claims to support voltages below "
> 
Please include a level with the printk().
> +	if (host->mode == MMC_MODE_SD && (ocr & MMC_VDD_165_195)) {
> 
Ooops. host->mode should have been removed by now.
Otherwise the patch looks good. Just fix these points and I'll include it.
Rgds
-- 
     -- Pierre Ossman
  Linux kernel, MMC maintainer        
http://www.kernel.org
  PulseAudio, core developer          
http://pulseaudio.org
  rdesktop, core developer          
http://www.rdesktop.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/