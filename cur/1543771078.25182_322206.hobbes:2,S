Date: Wed, 1 Jun 2005 11:19:08 +0200
From: Ingo Molnar <>
Subject: Re: [patch] Real-Time Preemption, -RT-2.6.12-rc4-V0.7.47-06
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/1/55

* Michal Schmidt <xschmi00@stud.feec.vutbr.cz> wrote:
> Hi Ingo,
> 
> I'm now running -RT-2.6.12-rc4-V0.7.47-08 on amd64. I use cpufreq, but 
> with the RT kernel it triggers "Kernel BUG at "kernel/latency.c":1295" 
> (the check for preempt_count underflow).
> 
> I'm attaching a patch which changes a semaphore in cpufreq into a 
> completion. With this patch, my system runs OK even with cpufreqd.
btw., could you please submit this upstream too, so that it doesnt get 
lost? Semaphore->completion conversions are desirable upstream for cases 
where the semaphore was in reality not used for mutual exclusion but for 
completion purposes. (in which case real completions are both more 
readable and slightly faster)
	Ingo
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/