Date: 19 May 2003 13:04:06 -0700
From: "Jeffrey W. Baker" <>
Subject: RE: HD DMA disabled in 2.4.21-rc2, works fine in 2.4.20
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/19/177

On Mon, 2003-05-19 at 12:56, Mudama, Eric wrote:
> # CONFIG_BLK_DEV_IDEDMA_FORCED is not set
> 
> I think that is the offending line?
> 
> can you enable DMA transfer modes on the drive using hdparm?
Why should force be enabled?  Forced sounds like a last resort.  If you
read this thread you will see that hdparm isn't working.  It returns
EPERM.
I was using Via IDE chipset and, yes, I had configured the kernel for
VIA support.  That's why it worked in 2.4.20.  But it stopped working in
2.4.21-rc.
Meanwhile, I have switched to 2.4.21-rc-ac, and dumped the hardware in
favor of Intel i865, and DMA is working again.
-jwb
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/