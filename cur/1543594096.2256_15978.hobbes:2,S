Date: 13 Jun 2001 10:31:22 -0400
From: Bill Pringlemeir <>
Subject: Re: [patch] 2.4.6-pre3 unresolved symbol do_softirq
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/6/13/57

>>>>> "Keith" == Keith Owens <kaos@ocs.com.au> writes:
 Keith> #define my_symbol my_symbol_versioned extern void
 Keith> my_symbol(void);
 Keith> void foo(void) { __asm__("call %0" : : "i" (my_symbol)); }
 Keith> # gcc -o x x.c /tmp/cclWXduj.s: Assembler messages:
 Keith> /tmp/cclWXduj.s:12: Error: suffix or operands invalid for
 Keith> `call'
Try ye' olde STRINGIFY and string concatenation?  Well, at least I try...
     #define my_symbol my_symbol_versioned
     #define STRINGIFY(a) STRINGIFY1(a)
     #define STRINGIFY1(a) #a
     extern void my_symbol(void);
     void foo(void)
     {
         __asm__("call " STRINGIFY(my_symbol) "\n");
     }
     [bpringle@localhost bpringle]$ gcc -o x x.c
     /usr/lib/crt1.o(.text+0x18): undefined reference to `main'
     /tmp/ccIj9Cit.o: In function `foo':
     /tmp/ccIj9Cit.o(.text+0x4): undefined reference to `my_symbol_versioned'
     collect2: ld returned 1 exit status
regards,
Bill Pringlemeir.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/