Date: Thu, 15 Apr 1999 21:55:38 +0100 (BST)
From: "Stephen C. Tweedie" <>
Subject: Re: Solaris tmpfs vs. Linux RAMdisk
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/4/15/175

Hi,
On Thu, 15 Apr 1999 08:01:12 -0700, jg@pa.dec.com (Jim Gettys) said:
>> The reason FFS uses synchronous metadata writes is not to give the
>> application any on-disk consistency semantics (although the nature of
>> the writes do imply at least some consistency guarantees), but to
>> ensure that the order in which metadata structures are updated is
>> predictable 
> There are more recent versions of Berkeley FFS (I think in BSDI, and maybe 
> elsewhere) that are not synchronous for metadata, but rely on ordering 
> of writes of metadata to get predictable recovery.
Interesting: I wasn't aware of BSDIs efforts.  I do know that FreeBSD
is using soft updates (which does not enforce write ordering, but
instead modifies the written data to guarantee the consistency of what
gets written whatever IO order gets chosen).  I'm also developing
journaling for linux ext2.  In each case, you will end up maintaining
on-disk consistency, but making absolutely no promises to the
application about what hits disk when.  The only way you get that is
to mount the disk synchronously or use fsync/O_SYNC etc.
--Stephen
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/