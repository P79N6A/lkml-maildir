Date: Fri, 9 May 2008 15:24:08 +0800
From: Dave Young <>
Subject: [PATCH 3/3] struct class remove children list
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/9/53

because of the class_device was removed, now do the children list removing
Signed-off-by: Dave Young <hidave.darkstar@gmail.com>
---
drivers/base/class.c   |    1 -
include/linux/device.h |    1 -
2 files changed, 2 deletions(-)
diff -upr a/drivers/base/class.c b/drivers/base/class.c
--- a/drivers/base/class.c	2008-05-09 14:58:21.000000000 +0800
+++ b/drivers/base/class.c	2008-05-09 14:59:20.000000000 +0800
@@ -140,7 +140,6 @@ int class_register(struct class *cls)
 
 	pr_debug("device class '%s': registering\n", cls->name);
 
-	INIT_LIST_HEAD(&cls->children);
 	INIT_LIST_HEAD(&cls->devices);
 	INIT_LIST_HEAD(&cls->interfaces);
 	kset_init(&cls->class_dirs);
diff -upr a/include/linux/device.h b/include/linux/device.h
--- a/include/linux/device.h	2008-05-09 14:58:21.000000000 +0800
+++ b/include/linux/device.h	2008-05-09 14:58:47.000000000 +0800
@@ -183,7 +183,6 @@ struct class {
 	struct module		*owner;
 
 	struct kset		subsys;
-	struct list_head	children;
 	struct list_head	devices;
 	struct list_head	interfaces;
 	struct kset		class_dirs;