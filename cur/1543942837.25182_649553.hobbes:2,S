Date: Thu, 7 Feb 2008 09:08:34 +0100
From: Pierre Ossman <>
Subject: Re: [PATCH v2] mmc: extend ricoh_mmc to support Ricoh RL5c476
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/7/66

On Mon, 4 Feb 2008 19:25:42 +0100
Frank Seidel <fseidel@suse.de> wrote:
> From: Frank Seidel <fseidel@suse.de>
> 
> This patch (base on current linus git tree plus Philip Langdales
> suspend/resume patch) adds support for the Ricoh RL5c476 chip:
> with this the mmc adapter that needs this disabler (R5C843) can
> also be handled correctly when it sits on a RL5c476.
> (+ minor style changes (removed spaces between function names
> and open parenthesis .. checkpatch warned from previos patch))
> 
> Signed-off-by: Frank Seidel <fseidel@suse.de>
I see you've guys have kept yourself busy in my absence. :)
As for the patch, it looks ok although I'm not really a fan of more voodoo constants that noone knows what they mean. Could you add some comments explaining some of them at least?
> +	if (fw_dev->device == PCI_DEVICE_ID_RICOH_RL5C476) {
*snip*
> +	} else {
> +		/* via R5C832 */
Wouldn't it be prudent to have a check that this is indeed a R5C832, and a failure mode if it's none of the two known devices?
Rgds
Pierre
[unhandled content-type:application/pgp-signature]