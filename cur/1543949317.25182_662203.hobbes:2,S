Date: Sun, 2 Mar 2008 18:04:56 +0000
From: Simon Huggins <>
Subject: Re: Scheduler broken? sdhci issues with scheduling
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/2/76

Hiya Pavel,
(please cc me)
On Sun, Mar 02, 2008 at 11:40:31AM +0100, Pavel Machek wrote:
> On Fri 2008-02-29 11:52:57, Simon Huggins wrote:
> > [ Please Cc me on replies ]
> > I had a bug with sdhci which Pierre Ossman looked at for me.
> > In the end essentially the fix was to use HZ=1000 and nothing else.
> > Pierre seemed to think that this was a bug in the scheduler.
> > I'm interested if someone who groks the scheduler could take a look at
> > the mmc/* code and see if it's abusing HZ or if there's anything
> > obviously wrong there.  If it's not then perhaps there really is a bug
> > in the scheduler?
> Is mmc slow or does it just break down? Slow would be expected, but
> breaking down should be fixed in MMC, too...
It just doesn't work.  It won't detect that a card has been inserted and
doesn't create the device nodes for it though it does log lots of data
where it tries.
Pierre explained further up this thread on why it tries to do what it
does but for some reason he's not seeing the expected behaviour from the
scheduler.
As a user I don't care where the bug is fixed :)
-- 
Simon Huggins  \ "Ah.  So you're a waffle man!" - Talkie Toaster
                \
http://www.earth.li/~huggie/
                                htag.pl 0.0.22