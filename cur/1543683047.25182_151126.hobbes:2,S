Date: Thu, 24 Jul 2003 13:36:38 -0400
From: "Eric Wood" <>
Subject: Re: RH 9 kernel compile error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/24/141

Ben Greear wrote:
> I have never used rpm target...but I imagine it works :)
Overall yes. As long as you:
# make mrproper `/bin/cp configs/kernel-2.4.20-i686.config .config`
oldconfig dep clean rpm
The resulting rpm file seems to always be built for i386 even though you're
using a 686 .config file.  It looks like kerne.spec file which is generated
from "scripts/mkspec" neglects to issue an arch.  Or you have to edit the
Makefile and slip in a "--target=i686" or "--target=athlon" like so:
$(RPM) -ta --target=i686 $(TOPDIR)/../$(KERNELPATH).tar.gz ; \
before you do the build.
-eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/