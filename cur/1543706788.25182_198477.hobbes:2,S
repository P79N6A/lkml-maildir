Date: Fri, 13 Feb 2004 19:38:14 +0000
From: Russell King <>
Subject: Re: [PATCH] Shut up about the damn modules already...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/2/13/168

On Fri, Feb 13, 2004 at 05:51:15PM +0100, Bas Mevissen wrote:
> I'm wondering why it is that the kernel is asking for non-existing 
> modules so often. Is it that userspace applications try to access all 
> kinds of devices too often (autoprobing) or it this (wanted) kernel 
> behaviour?
Userspace probes the kernel to see if IPv6 is available by trying to
create an IPv6 socket.
The correct solution is to fix /etc/modprobe.conf such that it doesn't
try to load the module when you don't have it configured:
install net-pf-10 /bin/true
Note that if you alias net-pf-10 to ipv6 before this install line, you
need to replace net-pf-10 with ipv6 in the install line.
PS, I notice Arjan's RPM packages don't seem to contain the modprobe.conf
manual page... maybe this is what's causing some of the confusion?
PPS, It might also help to either mention in the man page that the
above corresponds to the original "alias modulename off" _or_ add
"install off /bin/true" into modprobe.conf.dist such that the old
alias line works as expected.
-- 
Russell King
 Linux kernel    2.6 ARM Linux   - 
http://www.arm.linux.org.uk/
 maintainer of:  2.6 PCMCIA      - 
http://pcmcia.arm.linux.org.uk/
                 2.6 Serial core
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/