Date: Mon, 15 Aug 2005 15:34:04 -0700
From: Shaun Jackman <>
Subject: Re: Trouble shooting a ten minute boot delay (SiI3112)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/15/227

2005/8/12, Steven Rostedt <rostedt@goodmis.org>:
> Is the keyboard ever set up then? This is all happening before
> console_init (since that's when the prints start) and the early printk
> won't show anything before it parses the options.  For other
> architectures, I use to write out to the serial really early, just an
> 'x'. If you know how to do that, you could give it a try. Start at
> start_kernel in main hopefully you see the 'x'. If you do, keep moving
> it until you find where it's delaying.  Of course, this could be before
> start_kernel, then you're really screwed, unless you're good at doing
> the same in assembly (which I've done for MIPS, PPC and ARM, but never
> for x86).
Since each reboot takes ten minutes, this would be a tedious process.
Thanks for the suggestion though.
> > I compiled a vanilla 2.6.12.4 kernel, enabled EARLY_PRINTK and
> > rebooted with earlyprintk=vga. The kernel didn't display any extra
> > information before the delay.
> 
> Do you see grub saying "uncompressing kernel..." or whatever that says?
Grub says...
root (hd2,2)
  Filesystem type is ext2fs, partition type 0x83
kernel /boot/vmlinuz-2.6.12.4 root=/dev/md0 ro nodma
   [Linux-bzImage, setup=0x1e00, size=0x1302ff]
I suspect this second message is where grub decompresses the kernel.
The last message grub displays is simply...
boot
Cheers,
Shaun
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/