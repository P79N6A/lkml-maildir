Date: Mon, 15 Nov 1999 16:52:20 -0200
From: Rogerio Brito <>
Subject: Re: "invalid parameter parm_io" when trying to "modprobe -k sound"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/15/101

On Nov 15 1999, Keith Owens wrote:
> modutils 2.3.6 has a conflict between the real sound module and the
> alias of sound to sb.  Loading sound requires that modprobe load sb
> which requires sound.o, sound is an alias for sb so modutils tries
> to apply the sb options to the sound.o object.
	Well, I had the exact same problem yesterday (and it was
	painful enough, for there are absolutely *no* comments on the
	subject in the kernel Documentation directory, nor in modutils
	documentation).
	Here are some suggestions:
	1 - include the current alias defaults in the depmod manpage
	    (I had to do strings /sbin/depmod to learn the defaults of
	    some things). If you think this is not a very good idea
	    (so you have to update the manpage all the time), could
	    you please consider giving depmod a new command line
	    option so that it dumps its current aliases/defaults so
	    the user can see what they are);
	2 - include a sample of a configuration that works (I don't
	    know if the preferred thing here would be to include such
	    configuration in the kernel docs or in the modutils docs
	    or in both places). Here is what I'm using here at home
	    now:
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#alias char-major-14 sb
alias sound-slot-0 sb
alias sound-service-0-0 sound
alias sound-service-0-1 opl3
alias sound-service-0-2 sb
alias sound-service-0-3 sound
alias sound-service-0-6 sound
alias synth0 adlib_card
options adlib_card io=0x388
options sb io=0x220 dma=1 irq=5 dma16=5 mpu_io=0x330
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> I will give this some thought and see if I can fix it in modutils.  As
> a temporary workaround, change sound to sound-alias in modules.conf.
> modprobe sound-alias or modprobe char-major-14 (with the new alias)
> will work, modprobe sound will not.
	Are there any problems with the solution that I'm using?? I'd
	like to understand these things more clearly...
	Thanks in advance for your comments, Roger...
-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  Rogerio Brito - rbrito@iname.com - 
http://www.ime.usp.br/~rbrito/
     Nectar homepage: 
http://www.linux.ime.usp.br/~rbrito/opeth/
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/