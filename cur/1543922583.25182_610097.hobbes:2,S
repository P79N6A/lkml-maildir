Date: Thu, 25 Oct 2007 15:04:26 -0700
From: "H. Peter Anvin" <>
Subject: Re: Possibility of adding -march=native to x86
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/25/425

Adrian Bunk wrote:
>>>
>> Yes for something like a distro kernel it is bad but as I said before
>> this isn't what this is for.
>>
>> Eventually it would be nice to to a make localkernel and for a
>> customised kernel to be build compiling in all pci / pci express
>> drivers into the kernel and all usb devices as modules.
>>
>> Auto magically detecting the cpu would be part of that
>>
>> I hate getting a new piece of kit and then have to figure out from
>> lspci which options need to be turned on and the the really iritation
>> part of finding the option in make menuconfig
> 
> What exactly is irritating?
> Please name the problems so that they can be fixed.
> 
>> Detecting the cpu and using march=native could be all part of that
> 
> You don't need march=native for this.
> 
> You have to set the right config option for your CPU and you 
> automatically get the right compiler options.
> 
There was a long discussion years ago -- the infamous "Aunt Tillie" 
thread -- about automatically configuring customized kernels for 
specific hardware.
It's somewhat of an unusual thing to bother with these days, except for 
people who develop and maintain the kernel.
	-hpa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/