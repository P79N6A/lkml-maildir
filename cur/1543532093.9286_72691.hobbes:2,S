Date: 28 Mar 2000 09:34:30 -0600
From: (Eric W. Biederman)
Subject: Re: 64bit issues in filesystems (was Re: Filesystem questions.)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/28/68

Steve Dodd <steved@loth.demon.co.uk> writes:
> On Tue, Mar 28, 2000 at 12:05:59AM +0100, Dave Jones wrote:
> 
> > I've spent a while this evening hacking on the 2.3.99 AFFS driver.
> > I've rewritten the file_write routines, and got it into a state where
> > it compiles, which is a start, but now I have unsolved symbols when I
> > try to insert the module.
> > 
> > __divdi3
> > __moddi3
> > 
> > At first I thought these were gcc builtins.
> 
> They're helper functions in libgcc, I think. Whatever they are, gcc emits
> references to them when you try to do division on 64bit quantities on IA32
> (and presumably any 32bit arch). Some architectures seem to link libgcc, for
> others (e.g. i386), it seems to be have been decreed that doing so is a bad
> idea. 
Especially since you can do about 2TB by doing this in multiples
of your block size, and that most things can be done with shifts.
You should be able to support (2GB > Large < 2TB ) files on i386
with the 2.3.x.  Which while not huge is quite sufficient for
most purposes.  
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/