Date: 11 Jun 2003 19:54:31 -0600
From: Steven Cole <>
Subject: Re: [patch] as-iosched divide by zero fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/11/289

On Wed, 2003-06-11 at 19:10, Robert Love wrote:
> On Wed, 2003-06-11 at 17:24, Andrew Morton wrote:
> 
> > Do you know what the actual oops is?
> 
> I got it all figured out now.
> 
> It is a divide by zero in update_write_batch() called from
> as_completed_request().
> 
> > Odd that starting the X server triggers it.  Be interesting if your patch
> > fixes things for Brian.
> 
> I reproduced it without X.
> 
> The divide by zero is on line 959 with the divide by 'write_time'. It
> can obviously be zero (see line 950). The divide by 'batch' on line 953
> seems safe.
> 
> The correct patch is below.
> 
> Most important question: why are only some of us seeing this?
> 
> 	Robert Love
With regards to the last, here is an anti-AOL! for the oops.  I ran
2.5.70-mm8 for several hours today, doing kernel compiles and running
dbench 64 on ext3, xfs, and jfs.  No oops.  
All while running X (although that now seems moot).  Base distro is RH9
if that could matter.  System is UP (PIII), PREEMPT, IDE, i810 chipset.
Steven
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/