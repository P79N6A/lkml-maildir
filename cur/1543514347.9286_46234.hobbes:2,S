Date: Thu, 28 Oct 1999 10:47:39 +0200
From: (Michael Hunold)
Subject: Re: ide-driver does not recognise "FUJITSU MPB3032ATU" correctly
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/28/21

Hello,
>     michael:/home/michael # hdparm -I /dev/hdc
> 
>     /dev/hdc:
> 
>      Model=3DUFIJST UPM3B30A2UT                      , FwRev=3D0290    ,
>      RawCHS=3D4092/16/63, TrkSize=3D0, SectSize=3D0, ECCbytes=3D4
>      CurCHS=3D4364/15/63, CurSects=3D4123980, LBA=3Dyes, LBAsects=3D4124736
> The drive reports LBAsects=4124736, so it says that its total capacity
> is 2.11 GB, a standard clipped capacity. Most disks only clip the CHS info
> and let the operating system know the truth via LBAcapacity, but this disk
> cheats on all fronts so that Linux has no way of knowing total capacity.
> 
> So, you'll have to boot with boot parameter hdc=6704,15,63.
Thanks for the hint with the boot parameter. Now I have finally
an ext2-fs with 3.2Gb on it...
Although it does not matter, I get still these boot-messages:
ide1: BM-DMA at 0xf008-0xf00f, BIOS settings: hdc:pio, hdd:pio
hdc: FUJITSU MPB3032ATU, ATA DISK drive
hdc: FUJITSU MPB3032ATU, 2014MB w/0kB Cache, CHS=6704/15/63, (U)DMA
Shouldn´t the ide-driver calculate the size of an hdd when its
geometry-values gets overriden by a boot paramter rather than
take the "false" values reported by the drive?
> Now this is precisely the behaviour one would expect with jumpers
> set to `clip'. I am surprised that this disk still does this with
> jumpers in default position.
> So, I understand the Linux side but not the disk side of things.
Ok, thanks for you help. I have already contacted the german 
division of Fujitsu -- perhaps it is a really an hardware issue.
But even if, I don´t think they will admit it for a 2 year-old
drive...
> Andries
CU,
Michael.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/