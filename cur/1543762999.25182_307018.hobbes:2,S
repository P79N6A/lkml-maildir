Date: Tue, 29 Mar 2005 20:15:41 +0200
From: 	colbuse@ensisun ...
Subject: [2.4]drivers/char/console.c: check if caller is proprietary of the current console
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/29/198

This patch adds a verification that the calling process is writing to the
current console, in the DEC alignment screen test.
(The bug can be observed by typing :
  $chvt 2 && sleep 1 && echo -e "\033#8" 
in vt1.)
Signed-off-by: Emmanuel Colbus <emmanuel.colbus@ensimag.imag.fr>
   
---
This patch was already sent on:
- 04 Jan 2005
--- old/drivers/char/console.c 2005-01-03 15:51:22.000000000 +0100
+++ patched/drivers/char/console.c 2005-01-03 15:31:45.000000000
+0100
@@ -1781,7 +1781,7 @@
			csi_J(currcons, 2);
			video_erase_char =
				(video_erase_char & 0xff00) | ' ';  
-			do_update_region(currcons, origin,screenbuf_size/2);
+			update_region(currcons, origin, screenbuf_size/2);
		}
		return;
	case ESsetG0:
  
--
Emmanuel Colbus
Club Gnu/LInux 
ENSIMAG - Departement telecoms
-------------------------------------------------
envoy√© via Webmail/IMAG !
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/