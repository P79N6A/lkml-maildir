Date: Sun, 25 Jan 2009 19:02:21 +0100 (CET)
From: Jan Engelhardt <>
Subject: Re: [PATCH] Compress kernel modules on installation.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/25/84

On Sunday 2009-01-25 17:51, Steve Brokenshire wrote:
>+
>+quiet_cmd_modules_install = INSTALL  $@
>+      cmd_modules_install = mkdir -p $(2); \
>+				cp $@ $(2) ; \
>+				$(mod_strip_cmd) $(2)/$(notdir $@)
>+
>+quiet_cmd_modules_compress_gzip = COMPRESS $@
>+      cmd_modules_compress_gzip = gzip $(MODCOMPOPT) -c \
>+				 $(2)/`basename $@` \
>+				 > $(2)/`basename $@`.gz; \
>+				 rm $(2)/`basename $@`
That is *three* extra shell invocations you got there
for something make can compute itself using $(@F) iirc.