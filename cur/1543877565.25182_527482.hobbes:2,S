Date: Wed, 4 Apr 2007 15:38:28 -0700 (PDT)
From: Christoph Lameter <>
Subject: Re: [PATCH 1/4] x86_64: Switch to SPARSE_VIRTUAL
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/4/4/538

On Wed, 4 Apr 2007, Bob Picco wrote:
> Well you must have forgotten about these two postings in regards to
> performance numbers:
> 
http://marc.info/?l=linux-ia64&m=111990276501051&w=2
> and
> 
http://marc.info/?l=linux-kernel&m=116664638611634&w=2
I am well aware of those but those were done with a PAGE_SIZE vmemmap 
which is particularly bad on IA64 given the TLB fault overhead. You 
eliminated the TLB fault overhead. Virtual Memmaps need to be designed in 
such a way that they do not create additional overhead. The x86_64 version 
here has no such overhead that you could eliminate with lookup tables.
The bad thing is that this benchmark then was used to justify 
sparsemem on other platforms where such overhead does not exist.
One needs to be careful with benchmarks..... Its better to review the 
code.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/