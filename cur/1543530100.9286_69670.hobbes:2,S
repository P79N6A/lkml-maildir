Date: Tue, 14 Mar 2000 18:18:06 -0500 (EST)
From: Alexander Viro <>
Subject: Re: (reiserfs) Re: patch: reiserfs for 2.3.49
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/15/193

On Tue, 14 Mar 2000, Matthew Dietrich wrote:
> code.  What I would suggest is that someone go through the linux-kernel
> archives for the last few years, search for every time there was a change
> to the VFS, and make sure that the patches code is compliant.
Oh, my... See another posting to the same lists. No need to dig through
the lists - there are very few points where the functions in question are
called (one for each of them) and all tests and locking done by VFS are
there. And tests are pretty explicit. Remove the stuff they cover and
let's look at the rest. If it will be obviously bogus - fine, we found
bugs. If it will turn out to be unneeded - OK, there it goes. If it will
be (for some reason) not enough - again, we found bugs. And yes, there are
filesystems where generic checks are not enough for proper synchronization.
Let's hope that locking provided by VFS is actually OK with your code.
The main reason behind those changes was to simplify the requirements on
interface part of filesystems and make the things we check for as visible
as possible.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/