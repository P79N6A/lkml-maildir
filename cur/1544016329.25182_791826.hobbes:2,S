Date: Wed, 14 Jan 2009 19:23:44 +1100
From: Herbert Xu <>
Subject: Re: Use cryptd(%s) as cryptd-ed algorithm name instead of %s
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/14/67

On Wed, Jan 14, 2009 at 03:01:51PM +0800, Huang Ying wrote:
> 
> Current cryptd works well for AES-NI implementation. But how about
> somebody want cryptd(cbc(aes)), and don't care about the driver.
That's not an issue, if the user wants then all he has to do is
create cryptd(cbc(aes)) (how that is done is a different matter,
hopefully something that we will address as part of the user-space
API to crypto API), and then just using cbc(aes) will be sufficient.
In any case, the algorithm name has to be cbc(aes) for it to work,
since that is what it is.
> Yes, not an issue for AES-NI case until now. But, for example there is
> no aes-ni, if someone request cryptd(cbc(aes-asm)), other user will get
> cryptd(cbc(aes-asm)) instead of cbc(aes-asm) when request cbc(aes), is
> this a good behavior?
The idea is to allow user-space to control priorities in future
through a netlink interface.  Then this simply becomes a matter
of system administration.
For now you simply don't create the cryptd object if you don't
intend to use it as the system default for that algorithm.
Cheers,
-- 
Visit Openswan at 
http://www.openswan.org/
Email: Herbert Xu 许志壬 <herbert@gondor.apana.org.au>
Home Page: 
http://gondor.apana.org.au/herbert/
PGP Key: 
http://gondor.apana.org.au/herbert/pubkey.txt