Date: Wed, 25 Jun 2003 12:01:09 -0400 (EDT)
From: Paul Clements <>
Subject: Re: [PATCH] nbd driver for 2.5+: cleanup PARANOIA usage & code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/6/25/102

On Tue, 24 Jun 2003, Lou Langholtz wrote:
> This fifth patch cleans up usage of the PARANOIA sanity checking macro 
> and code. This patch modifies both drivers/block/nbd.c and 
> include/linux/nbd.h. It's intended to be applied incrementally on top of 
> my fourth patch (4.1 really if you count the memset addition as .1's 
> worth) that simply removed unneeded blksize_bits field. Again, I wanted 
> to get this smaller change out of the way before my next patch will is 
> much more major. Comments welcome.
Lou, any chance you could fix the requests_in, requests_out accounting? 
What I mean is that _in and _out do not match up if, .e.g, there's an 
error. This has been broken for a while, but since you're in there 
touching the code, it might be easy for you to go ahead and fix it. 
BTW, the other patches you've posted look good. I'm glad that you chose
to avoid the multithreading idea, which would have broken compatibility 
with older nbd's (and added a lot of complexity to the driver).
Thanks,
Paul
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/