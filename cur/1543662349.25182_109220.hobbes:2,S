Date: 12 Feb 2003 18:33:23 -0500
From: Bruno Diniz de Paula <>
Subject: Re: O_DIRECT foolish question
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/2/12/282

On Wed, 2003-02-12 at 18:24, Chris Wedgwood wrote:
> On Wed, Feb 12, 2003 at 06:02:58PM -0500, Bruno Diniz de Paula wrote:
> 
> > ext2.
> 
> are you able to test with another fs? (reiserfs and XFS also support
> O_DIRECT)
Unfortunately not, I just have ext2 partitions here...
> 
> > read(3, "", 4096)                       = 0
> 
> odd... I'm not sure why you get this
> 
> i tested locally here and it works as expected ... my test code is
> appended.
But your code doesn't use O_DIRECT:
if ((h = open("test", O_RDONLY)) < 0)
Let me know whether including O_DIRECT the test worked.
Bruno.
> 
> 
>   --cw
-- 
Bruno Diniz de Paula <diniz@cs.rutgers.edu>
Rutgers University
[unhandled content-type:application/pgp-signature]