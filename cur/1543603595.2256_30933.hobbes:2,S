Date: Fri, 05 Oct 2001 15:48:58 +1000
From: Keith Owens <>
Subject: Re: [RFC] Standard way of generating assembler offsets
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/5/9

On Thu, 04 Oct 2001 08:36:54 -0700, 
george anzinger <george@mvista.com> wrote:
>The symbol name IMHO should contain both the member name and the
>structure name.  Otherwise there may be a problem if two structures use
>the same member name (flags comes to mind).
The asm symbol name is arch defined, I am defining the standard method,
not the asm names.  It is up to the arch maintainers to pick suitable
names, e.g. ia64 does
DEFINE(IA64_SWITCH_STACK_AR_BSPSTORE_OFFSET, offsetof(struct switch_stack, ar_bspstore),);
>This is way down on the list, but is it possible to generate a separate
>file for each *.S AND put the "required symbols" in the *.S.  
That works for a small number of mappings but not when there are a
large number that are required in several places.  Take a look at
arch/ia64/tools/print_offsets.c, 130+ mappings used by 5 or 6 different
asm sources.  There are also technical reasons (to do with the kernel
CONFIG system) why a single asm-offsets file is easier to maintain.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/