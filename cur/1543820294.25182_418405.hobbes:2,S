Date: Mon, 24 Apr 2006 11:41:05 -0700
From: Stephen Hemminger <>
Subject: better leve triggered IRQ management needed
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/4/24/207

I am seeing repeated problems with misconfigured systems that have shared IRQ
devices configured for edge-triggered. Also, network devices using NAPI won't
work reliably on edge-triggered IRQ's.  The kernel IRQ architecture doesn't
have sufficient information to detect this at boot time.  
We should fail request_irq() if the SA_SHIRQ but the irq is edge-triggered.
Right now the concept of level vs edge triggered is buried in things like ELCR for old
PIC, and other stuff for IO-APIC.  There is a IRQ_LEVEL flag in the descriptor field
but nothing sets it or uses it.
Haven't even looked at non i386 arch's but probably even more confusion there.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/