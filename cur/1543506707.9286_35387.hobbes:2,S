Date: Mon, 23 Aug 1999 09:31:03 -0400 (EDT)
From: "Benjamin C.R. LaHaise" <>
Subject: Re: [PATCH] [RFC] x86 SMP lazy FPU context switching
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/23/38

On Sun, 22 Aug 1999, Adam J. Richter wrote:
...
> 	I am kind of curious: what is the latest thinking on lazy FPU
> context loading for x86 these days?  Is the pendulum swinging the other
> way now?  Has anyone done any benchmarks one way or the other?
...
My reason for implementing lazy FPU saving is so that I can make use of
the FPU (or MMX) for memcpy and related activities in the kernel without
having to pay the price of saving state every single time the kernel is
entered/exited, even in interrupts.  At least on my box (P233MMX), an FPU
memcpy is about 45% faster on a large block copy than rep movs when you
don't have to save the FPU's state.  Even on the K7 it's worth using MMX
for zeropage/memcpy. 
Please note that the first version of the patch I posted is buggy, which
I'll fix and post after I return home.
		-ben
--
Hi!  I'm Signature Virus 99!  Copy me into your .signature and join the fun!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/