Date: Tue, 27 Jul 1999 18:48:22 +0200 (MDT)
From: (Ulf Jaenicke-Roessler)
Subject: knfs, 2.2.10-ac12 oops
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/27/94

Hi,
 using kernel 2.2.10-ac12 I get an reproducible oops when I stop knfsd.
 It's done by an /etc/init.d script which calls 'killall -2 nfsd'
 (Debian 2.1 + a lot of packages from "unstable", knfs 1.4.6 but I checked
 1.4.4 which shows the same problem) It started around 2.2.10-ac10. I
 cannot tell it more precisely, sorry.
 /etc/exports contains two entries. The oops doesn't occur with only one
 entry:
 /home pc1
 /     pc2
 (It doesn't seem to depend on the actual contents of the lines)
 I'm sorry if this is a known problem. I haven't read the kernel list lately.
 Greetings,
  Ulf
ksymoops 0.7c on i586 2.2.10-ac12.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.2.10-ac12/ (default)
     -m /boot/System.map-2.2.10-ac12 (default)
Warning: You did not tell me where to find symbol information.  I will
assume that the log matches the kernel and modules that are running
right now and I'll use the default options above for symbol resolution.
If the current kernel and/or modules do not match the log, you can get
more accurate output by telling me the kernel version and where to find
map, modules, ksyms etc.  ksymoops -h explains the options.
Warning (compare_ksyms_lsmod): module nfsd is in lsmod but not in ksyms, probably no symbols exported
Unable to handle kernel paging request at virtual address 5a5a5e72
current->tss.cr3 = 00101000, %cr3 = 00101000
*pde = 00000000
Oops: 0000
CPU:    0
EIP:    0010:[<c2837654>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00010206
eax: 00000024   ebx: 00000309   ecx: c1573000   edx: 5a5a5a5a
esi: c16eec50   edi: c16eec50   ebp: c283cc20   esp: c14cff80
ds: 0018   es: 0018   ss: 0018
Process nfsd (pid: 192, process nr: 28, stackpage=c14cf000)
Stack: 00000309 00000000 00000009 c2837c30 c16ee000 c16ee800 00000004 00000001 
       c28386e1 c16ee800 c16ee800 00000004 c28388ba c16ee800 c14ce000 c14ce000 
       c14ce000 c1599a00 c2833330 c283a4e3 00000100 c18c5f34 c1599b60 c1599a00 
Call Trace: [<c2837c30>] [<c28386e1>] [<c28388ba>] [<c2833330>] [<c283a4e3>] [<c0106523>] 
Code: 66 39 9a 18 04 00 00 74 06 8b 12 85 d2 75 f1 85 d2 74 09 b8 
>>EIP; c2837654 <nlm_program+5f80/????>   <=====
Trace; c2837c30 <nlm_program+655c/????>
Trace; c28386e1 <nlm_program+700d/????>
Trace; c28388ba <nlm_program+71e6/????>
Trace; c2833330 <nlm_program+1c5c/????>
Trace; c283a4e3 <END_OF_CODE+8e0f/????>
Trace; c0106523 <kernel_thread+23/30>
Code;  c2837654 <nlm_program+5f80/????>
00000000 <_EIP>:
Code;  c2837654 <nlm_program+5f80/????>   <=====
   0:   66 39 9a 18 04 00 00      cmpw   %bx,0x418(%edx)   <=====
Code;  c283765b <nlm_program+5f87/????>
   7:   74 06                     je     f <_EIP+0xf> c2837663 <nlm_program+5f8f/????>
Code;  c283765d <nlm_program+5f89/????>
   9:   8b 12                     movl   (%edx),%edx
Code;  c283765f <nlm_program+5f8b/????>
   b:   85 d2                     testl  %edx,%edx
Code;  c2837661 <nlm_program+5f8d/????>
   d:   75 f1                     jne    0 <_EIP>
Code;  c2837663 <nlm_program+5f8f/????>
   f:   85 d2                     testl  %edx,%edx
Code;  c2837665 <nlm_program+5f91/????>
  11:   74 09                     je     1c <_EIP+0x1c> c2837670 <nlm_program+5f9c/????>
Code;  c2837667 <nlm_program+5f93/????>
  13:   b8 00 00 00 00            movl   $0x0,%eax
2 warnings issued.  Results may not be reliable.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/