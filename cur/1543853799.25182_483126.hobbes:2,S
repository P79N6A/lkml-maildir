Date: Thu, 16 Nov 2006 10:46:16 -0800 (PST)
From: Christoph Lameter <>
Subject: Re: [patch 2/2] enables booting a NUMA system where some nodes have no memory
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/16/166

On Thu, 16 Nov 2006, Christian Krafft wrote:
> Okay, I slowly understand what you are talking about.
> I just tried a "numactl --cpunodebind 1 --membind 1 true" which hit an uninitialized zone in slab_node:
> 
> return zone_to_nid(policy->v.zonelist->zones[0]);
I think the above should work fine and give the expected OOM since the
node has no memory.
The zone struct should redirect via the zonelist to nodes that have 
memory for allocations that are not bound to a single node.
> I also still don't know if it makes sense to have memoryless nodes, but supporting it does.
> So wath would be reasonable, to have empty zonelists for those node, or to check if zonelists are uninitialized ?
zonelists of those nodes should contain a list of fallback zones with 
available memory.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/