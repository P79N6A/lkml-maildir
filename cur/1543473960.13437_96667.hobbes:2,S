Date: Sun, 3 Jan 1999 02:11:33 +0100
From: "Manfred Spraul" <>
Subject: error in 53c7,8xx
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/3/17

during "insmod 53c7,8xx" I get a long error message "bad DSA pointer
0xC0000000".
I found a statement in "53c7,8xx.c" that this is a known bug, and that
additional printk's were added for further diagnosis.
configuration:
    2.2.0-pre3
    CONFIG_SCSI_MULTI_LUN
    CONFIG_SCSI_NCR53C7XX_MODULE 1
#undef CONFIG_SCSI_NCR53C7XX_DISCONNECT
#undef CONFIG_SCSI_NCR53C7XX_sync
#undef CONFIG_SCSI_NCR53C7XX_FAST
The bug is fully reproducible, so please send me an email if you need
further informations.
    Manfred
P.S.: I've switched to the ncr53c8xx driver, and that driver runs without
any problems.
------------------------------------
scsi-ncr53c7,8xx : at PCI bus 0, device 11,  function 0
scsi-ncr53c7,8xx : warning : revision of 18 is greater than 2.
scsi-ncr53c7,8xx : NCR53c810 at memory 0xffffff00, io 0x7c00, irq 11
scsi0 : burst length 8
scsi0 : NCR code relocated to 0x2898610 (virt 0xc2898610)
scsi0 : test 1 started
scsi0 : NCR53c{7,8}xx (rel 17)
scsi : 1 host.
scsi0 : target 4 rejected SDTR
scsi0 : setting target 4 to asynchronous SCSI
  Vendor: GRUNDIG   Model: CDR100IPW         Rev: 1.20
  Type:   CD-ROM                             ANSI SCSI revision: 02
scsi0 : channel 0 target 4 lun 1 request sense failed, performing reset.
SCSI bus is being reset for host 0 channel 0.
scsi0 : DCMD|DBC=0x50000000, DNAD=0x2898c6c (virt 0xc2898c6c)
         DSA=0x28991a8 (virt 0xc28991a8)
         DSPS=0x2898d7c, TEMP=0x2898864 (virt 0xc2898864), DMODE=0x88
         SXFER=0x0, SCNTL3=0x3
         phase=MSGIN, 0 bytes in SCSI FIFO
         STEST0=0x77
scsi0 : DSP 0x2898c64 (virt 0xc2898c64) ->
0x2898c64 (virt 0xc2898c64) : 0x50000000 0x02898d7c (virt 0xc2898d7c)
0x2898c6c (virt 0xc2898c6c) : 0x60000200 0x00000000 (virt 0xc0000000)
0x2898c74 (virt 0xc2898c74) : 0x78388800 0x00000000 (virt 0xc0000000)
0x2898c7c (virt 0xc2898c7c) : 0x0f000001 0x028985e8 (virt 0xc28985e8)
0x2898c84 (virt 0xc2898c84) : 0x78389800 0x00000000 (virt 0xc0000000)
0x2898c8c (virt 0xc2898c8c) : 0xc0000004 0x028985e4 (virt 0xc28985e4)
0x00007c34 (virt 0xc0007c34)
scsi0 : issue queue
scsi0 : schedule dsa array :
scsi0 : end schedule dsa array
scsi0 : reconnect_dsa_head :
scsi0: bad DSA pointer 0xc0000000scsi0 : end reconnect_dsa_head
scsi0: lost command 6
scsi0 : can't allocate command for target 4 lun 1
scsi0 : danger Will Robinson!
Duh? Bad things happening in the NCR driver
scsi0 : nuking commands
scsi0 : done.
scsi0 : disabled.  Unload and reload
scsi0 : disabled or bad target 4 lun 1
scsi0 : disabled or bad target 5 lun 0
scsi0 : disabled or bad target 6 lun 0
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/