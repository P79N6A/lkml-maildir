Date: Wed, 15 May 2002 14:42:49 -0400 (EDT)
From: "Albert D. Cahalan" <>
Subject: Re: [RFC] FAT extension filters
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/15/153

Mark Mielke writes:
> On Wed, May 15, 2002 at 01:49:46PM -0400, Albert D. Cahalan wrote:
>> I think the problem is in fs/fat/dir.c where
>> it does:
>>         for (i = 0; i < 8; i++) {
>>                 /* see namei.c, msdos_format_name */
>>                 if (de->name[i] == 0x05)
>>                         work[i] = 0xE5;
>>                 else
>>                         work[i] = de->name[i];
>>         }
>> That should be:
>>         for (i = 0; i < 8; i++) work[i] = 0xE5;
>>          /* see namei.c, msdos_format_name */
>>         if (*work == 0x05) *work = 0xE5;
>
> I assume that should be:
>
>>         for (i = 0; i < 8; i++) work[i] = de->name[i];
>>          /* see namei.c, msdos_format_name */
>>         if (*work == 0x05) *work = 0xE5;
Sure, and using memcpy() might be good too. I wasn't
paying much attention. Here:
        memcpy(work,de->name,8);
        /* see namei.c, msdos_format_name */
        if(*work == 0x05) *work = 0xE5;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/