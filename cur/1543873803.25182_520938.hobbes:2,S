Date: Fri, 16 Mar 2007 11:37:39 -0700
From: "Kok, Auke" <>
Subject: Re: 2.6.21rc suspend to ram regression on Lenovo X60
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/16/300

Pavel Machek wrote:
> Hi!
> 
>>> Seeing a couple of MSI changes in there, on a hunch I booted latest tree with
>>> pci=nomsi, and it resumed again.
>>>
>>> Any ideas how to further debug this?
>>> I'll try backing out individual changes from that merge tomorrow.
>> Thanks.  
>>
>> Of those msi patches you have identified I don't see anything really
>> obvious.  And you actually marked them as good in your bisect so
>> I don't expect it is core problem.
>>
>> We do have a known e1000 regression, with msi and suspend/resume.
still? I tested this against rc3 and it's mostly just fine. even with msi enabled.
>> So it is possible the nomsi avoided a driver problem.  Especially
>> as we have a number of driver changes on the on Linus's side of
>> that merge.
>>
>> I also know we have some known issues with pci_save_state and
>> pci_restore_state that require them to be paired for correct
>> operation.  For suspend and resume that is not generally a problem.
>>
>> I have fixes for the pci_save_state and pci_restore_state in the -mm
>> and gregkh tree's.  Since they also happen to fix the e1000 driver as
>> a side effect they are worth looking at, at least if you have an
>> e1000.
hey, please include me on those!
>> I don't have a clue which hardware the x60 has so I don't know which
>> drivers it would be using.
> 
> x60 indeed has e1000.
yup.
Auke
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/