Date: Tue, 22 Mar 2005 15:56:01 -0800
From: "David S. Miller" <>
Subject: Re: [PATCH 1/5] freepgt: free_pgtables use vma list
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/3/22/329

On Tue, 22 Mar 2005 15:53:08 -0800
"Luck, Tony" <tony.luck@intel.com> wrote:
> But I'm still confused by all the math on addr/end at each
> level.  Rounding up/down at each level should presumably be
> based on the size of objects at the next level.  So the pgd
> code should round using PUD_MASK, pud should use PMD_MASK etc.
> Perhaps I missed some updates, but the version of the patch
> that I have (and the simulator) is using PMD_MASK in the
> pgd_free_range() function ... which is surely wrong.
PMD_MASK decides the smallest page table chunk, so we mask
it at the top level.
Look at the next level down in the call chain, the masking
maskes more sense there.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/