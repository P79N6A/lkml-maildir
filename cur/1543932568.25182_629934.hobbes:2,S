Date: Wed, 19 Dec 2007 10:35:10 -0600
From: Jason Wessel <>
Subject: Re: a problem with NETPOLL/KGDBoE
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/19/138

Ramagudi Naziir wrote:
> On 12/6/07, Matt Mackall <mpm@selenic.com> wrote:
> 
>> netpoll will ignore incoming UDP -from- the wrong port/ip/mac, since
>> it's otherwise bypassing the firewall layer.
>> 
> I have checked it out.
> Seems like there is absolutely no way to configure the source
> port gdb uses for the udp connection. So one must invoke a
> "target remote udp:ip:port" command, see what was the
> chosen source port (tcpdump/netstat), and reconfigure kgdb on the target.
> While this works, it is rather awkward.
>
> Do you think there is/can be another way to solve this issue
> (like allowing NETPOLL to listen to a wildcard udp source port) ?
>
> 
What module parameters did you pass to kgdboe and what kernel are you
using and are you using the kgdb source forge patches?
I had not looked to see if anything changed in the latest net poll api,
but previously with the 2.6.21 kernel as example, the net poll api
ignored the source port parameter entirely.  If this has changed, I
would be happy to make a further change to zero out the port or do what
is needed to make it dynamic again, in a similar fashion to the way the
MAC address parsing is dynamic for KGDB + the net poll api.
Jason.
Also you can omit the linux-kernel mailling and take this up at:
kgdb-bugreport@lists.sourceforge.net if you are using the source forge
patches.