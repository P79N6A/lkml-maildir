Date: Mon, 28 Dec 1998 23:42:58 +0000 (GMT)
From: (Alan Cox)
Subject: Re: Problems with EGCS 1.1 vs GCC 2.7.2.3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1998/12/28/117

> We use GCC 2.7.2.3 to compile our Open Sound System sound drivers and when they load, they are complaining that: 
> 
> unresolved symbol printk_Rsmp_dd132261
> 
> Can somebody in the EGCS group verify the printk ksym versioning compared to the one generated by GCC 2.7.2.3?. Note that all other ksyms are fine.
> 
> Once you compile the kernel with GCC 2.7.2.3, OSS loads just fine.
When you build with egcs printk becomes
__attribute__((regparm(0))) int printk(const char *, ...)
That is needed because a user might turn on register parameter passing too
and that would break when called from assembler unless marked with
regparm.
So if anything the "__attribute__((regparm(0)))" stuff needs to be taught
to genksyms.
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/