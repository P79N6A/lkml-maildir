Date: Sat, 6 Apr 2002 16:15:31 +0100
From: Dale Amon <>
Subject: make install bug?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/6/28

When building kernels for my servers I have always done this:
	make INSTALL_MOD_PATH=/usr/src/<target-hostname> modules_install
to dump all the modules into an easily tarballable directory 
to be scp'd to the target host.
However for some reason today it's tried to do a depmod on the 
kernel building machine:
make -C  arch/i386/lib modules_install
make[1]: Entering directory `/VNetLinux/linux-2.4.18/arch/i386/lib'
make[1]: Nothing to be done for `modules_install'.
make[1]: Leaving directory `/VNetLinux/linux-2.4.18/arch/i386/lib'
cd /VNetLinux/scout/lib/modules/2.4.18; \
mkdir -p pcmcia; \
find kernel -path '*/pcmcia/*' -name '*.o' | xargs -i -r ln -sf ../{} pcmcia
if [ -r System.map ]; then /sbin/depmod -ae -F System.map -b /VNetLinux/scout -r 2.4.18; fi
depmod: *** Unresolved symbols in /VNetLinux/scout/lib/modules/2.4.18/pcmcia/3c575_cb.o
depmod:         pcibios_read_config_byte
depmod:         pcibios_write_config_word
depmod:         pcibios_read_config_dword
depmod:         pcibios_write_config_byte
depmod:         pcibios_write_config_dword
depmod:         pcibios_read_config_word
depmod: *** Unresolved symbols in /VNetLinux/scout/lib/modules/2.4.18/pcmcia/aha152x_cs.o
depmod:         print_msg
depmod:         scsi_command_size
depmod:         scsi_unregister_module
depmod:         scsicam_bios_param
	And so forth....
I'm not sure why this started happening, but it isn't nice
behavior at all. I'd call it a bug as I can't imagine why
I'd want a depmod to occur on the build machine.
Have I managed to tickle something that should not be 
happening?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/