Date: Fri,  8 Oct 1999 20:18:18 +0400 (MSD)
From: "Khimenko Victor" <>
Subject: Re: devfs again, (was RE: USB device allocation)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/8/178

In <199910081235.IAA28687@pincoya.inf.utfsm.cl> Horst von Brand (vonbrand@inf.utfsm.cl) wrote:
> Shawn Leas <SLEAS@videoupdate.com> said:
>> Horst von Brand [mailto:vonbrand@inf.utfsm.cl]
>> >> through sudo to manage floppies.
>> >"sudo mdir a:" is exactly as easy to use as "mdir a:". Dunno if something
>> >like "sudo mcopy a:somepkg.tar.gz - | tar zxvf -" works, perhaps it does.
>> >Also has the quite interesting side effect that "sudo mcopy /etc/shadow a:"
>> >does work fine.
>> I don't think we want to complain that devfs is at fault for the fact that
>> sudo access can be dangerous.
> What I want to say is that your "solution" creates more problems than there
> were before. The Unix way (/dev is part of a real filesystem; permissions,
> ownership, names, links, ... all work the same as with regular files) is a
> time-tested design. Not flawless, but its flaws are known and workarounds
> are in place. You propose to junk all that for a shiny, new way of doing
> things that does break in many ways (see above). All for the tenuous
> purpose of being able to address more devices (get a bigger dev_t, and be
> done) or being able to fool around all day plugging/unplugging devices.
> Note that just devfs does _not_ solve the "more devices" problem, as long
> as major/minor stay limited.
It IS solve problem. Stop FUD'ing. With devfs you can use NAMES to name
devices and allocate major/minor from pool. So you'll  need few thousands
REALLY pluged devices to hit in problem.
> It can't really solve the "unplug sda, now sdy is sdx" problem either
> (somehow devices _must_ be named, and this has to be done somehow fixed,
> you can't just lug around the whole history of /dev),
Of course. Take a look on devfs -- there are FIXED names for disks.
> and it can't solve the "unplug sdc, plug in another sdc, and then sdd; now
> plug in the old sdc and have it be sdc again" problem.
It solves it. There are no sdc or sdd. There are devices are named by SCSI
number. It's stored in hardware.
> Any solution it could offer for this is useless: I'd much prefer to be able
> to go and look for /dev/disk-<some-serial-number> to check which
> <serial-number>s I've used, and not having to remember that by my own
> because that particular disk (out of the hundreds advocated by you) just so
> happens not to be on line ATM.
This way is ESPECIALLY usefull when you got MO disk from friend with unknown
serial number. It's usefull feature but not always. Not at all.
> You want to unclutter /dev cluttering me.
> BTW, the "devices get renamed" problem _is_ solved, and has been for quite
> some time: You can mount by disk label or uuid, forget about the device name.
This is not always posible. In case of romevailable drives there are no known
uuid. Yes, you can try to scan all devices and so on, but it's HUGE KLUDGE.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/