Date: Thu, 10 Jun 1999 07:59:13 -0400 (EDT)
From: "Michael H. Warfield" <>
Subject: Re: R: Do not use stock RedHat 6.0 kernels with SMBFS!
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/10/56

Marco Ermini enscribed thusly:
> > Hmmm...  Crashing Windows 95 SERVERS sounds like a feature to me.
> Why? if Win95 shares a directory, for SMB
> it's a server.
	Right, but the protocols are buggy and the OS is unstable.  If you
feed it request packets too fast, it locks up tighter than a drum (Win 95
bug #1), it lies about Unicode in certain circumstances, and it reverses
the byte order of timestamps.  If we do things the Windows 95 buggy way,
all the timestamps from "real" servers are hosed.  If we do things "the
right way" we have a high probability of hitting the timing window that
blows Windows 95 into never never land.  (I think the unicode stuff only
bothers Samba and not smbfs).
	The fix for the timing problem is to slow the whole thing down.
	Until I have it set up to autodetect what kind of "server" is on
the other end, you have to manually specify if the bug workaround is enabled
or disabled.  If you enable it on the kernel compile, it's locked on for
all shares, even the ones it causes random acts of terrorism with.  If you
don't enable it at compile time, then you have to do it at mount time.
	Given the choice of buggy mounts when mounting Windows 95 shares
and having a mount time option to enable the bug fix vs buggy mounts of
shares from valide "real" servers and no ability to override at mount
time, my preference is to support the real servers.  I say the Windows 95
systems aren't real servers anyways and shouldn't should be used as such.
They have no file system security, they have only minimal network security
(if you call share passwords security at all), they passwords are not
encrypted, the password hashs are not even practice fodder for tools like
l0phtcrack, they're as buggy as a Florida swamp.
> Bye
	Mike
-- 
 Michael H. Warfield    |  (770) 985-6132   |  mhw@WittsEnd.com
  (The Mad Wizard)      |  (770) 925-8248   |  
http://www.wittsend.com/mhw/
  NIC whois:  MHW9      |  An optimist believes we live in the best of all
 PGP Key: 0xDF1DD471    |  possible worlds.  A pessimist is sure of it!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/