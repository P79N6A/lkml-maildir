Date: Mon, 17 Dec 2001 13:47:15 -0000
From: "" <>
Subject: Re: Panic output
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/12/18/2

I have tried the console only method and this does not work either. 
Perhaps I sould add some more information about the panic. This 
card is a FC board and there was a bug in the hardware which 
caused invalid frame reception. When this happens the driver is 
interrupted and goes off to have a look at the frame. It sorts ou the 
hardware and continues. Initially I was just dumping part of the 
frame and the system continued and all was ok. I decided in 
certain circumstances this would not be a good idea so I inserted 
the panic. At this stage I get the hang or reboot depending how I 
set /proc/sys/kernel/panic. I guess if this is set to 0 the hang 
should be a screen oops message ?
I get the impression from the responses that panic does not aways 
work, is that correct ?
At this point the hardware is all ok and can be made to continue 
running all that has happened is some isolated event internal to a 
PCI card.
I will try the serial line.
Many Thanks
Simon. 
On 17 Dec 2001, at 14:57, Peter WÃ¤chtler wrote:
> simon@baydel.com schrieb:
> > 
> > During writing a driver for a PCI board I experienced the hardware
> > hanging and I had to press the big red button. The hang was traced
> > using a PCI analyzer and I found that the driver, loaded as a
> > module, was taking a route which called panic. I changed
> > /proc/sys/kernel/panic to a non zero value and the machine started
> > to reboot on PCI hang. My problem is I never see any output on the
> > screen or in /var/log/messages. All the stuff I have looked at in
> > /usr/src/linux/Documentation suggests the messages should be
> > here. I am running a 2.4.0 kernel with a SuSE 7.1 installation. At
> > the hang time the system is running kde 2 and in a command
> > winow I have a tail -f /var/log/messages running. The first change I
> > see is the PC bios startup.
> > 
> 
> First: try to start your driver from the console.
> There you should see the panic message.
> 
> Then look at Documentation/serial-console.txt and hook up a serial 
> console to your box
__________________________
Simon Haynes - Baydel 
Phone : 44 (0) 1372 378811
Email : simon@baydel.com
__________________________
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/