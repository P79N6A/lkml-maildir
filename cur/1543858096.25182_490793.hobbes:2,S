Date: Tue, 12 Dec 2006 22:18:12 +0530
From: "Jaswinder Singh" <>
Subject: Re: Support 2.4 modules features in 2.6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/12/12/147

On 12/12/06, Arjan van de Ven <arjan@infradead.org> wrote:
> On Tue, 2006-12-12 at 20:41 +0530, Jaswinder Singh wrote:
> > On 12/12/06, Arjan van de Ven <arjan@infradead.org> wrote:
> > > On Tue, 2006-12-12 at 19:36 +0530, Jaswinder Singh wrote:
> > > > Hello,
> > > >
> > > > I want to support old 2.4 modules features in 2.6 kernel modules:-
> > > > 1. no kernel source tree is required to build modules.
> > >
> > > this is a 2.6 not a 2.4 feature btw
> > >
> >
> > Really!! , Please let me know what is the procedure to build the
> > modules after deleting kernel linux-2.6*
>
> you only need include/* for this in 2.6
>
> you can't do this at all with 2.4 kernels, it needs the whole lot.
>
> (in both cases the code and headers are needed so that your module can
> use the data structures and compile in the kernel code you select to use
> from inlines)
> >
> >
Really!!
This is my Makefile :-
obj-m += hello-1.o
all:
	make -C /lib/modules/$(shell uname -r)/build M=$(PWD) modules
clean:
	make -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean
Now do one thing:-
# mv /lib/modules/$(uname -r)/build /lib/modules/$(uname -r)/build0
now make it.
If you want point to your header files in /usr/include and then try to build.
Regards,
Jaswinder Singh.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/