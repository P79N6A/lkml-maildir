Date: Thu, 04 Dec 2008 15:04:43 -0800 (PST)
From: David Miller <>
Subject: Re: [PATCH] tty: Flags should be accessed via the foo_bit interfaces
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/4/391

From: "Will Newton" <will.newton@gmail.com>
Date: Thu, 4 Dec 2008 15:50:29 +0000
> On Thu, Dec 4, 2008 at 3:41 PM, Alan Cox <alan@lxorguk.ukuu.org.uk> wrote:
> > @@ -515,10 +515,9 @@ sl_close(struct net_device *dev)
> >        struct slip *sl = netdev_priv(dev);
> >
> >        spin_lock_bh(&sl->lock);
> > -       if (sl->tty) {
> > +       if (sl->tty)
> > +               clear_bit(TTY_DO_WRITE_WAKEUP, &sl->tty->flags);
> >                /* TTY discipline is running. */
> > -               sl->tty->flags &= ~(1 << TTY_DO_WRITE_WAKEUP);
> > -       }
> 
> The indentation of the comment looks like it might be wrong here.
Indeed.  In fact it's now transposed with the operation it describes,
and thus the braces should probably be preserved here as well.
Alan could you please fix this up?
Thanks!