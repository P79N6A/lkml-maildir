Date: Thu, 10 Feb 2000 09:16:17 +0900
From: NIIBE Yutaka <>
Subject: Re: Memory Started not at 0x00000000
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/9/176

Roman Zippel wrote:
 > On m68k the memory can be on a different location for every machine, so we
 > only have the virtual mapping. But I don't really understand why the patch
 > shouldn't work on other machine, what is at PAGE_OFFSET on SuperH or MIPS?
 > I always assumed that would be the address of page_address(mem_map[0])?
That's PAGE_OFFSET + (pysical)MEMORY_START_ADDRESS, where PAGE_OFFSET
== 0x80000000.  THe physical address will generated by masking the
virtual address with 0x80000000, with no TLB lookup.
Since we don't want to waste the memory of mem_map, we "shift" the map
number so that mem_map[0] becomes the one of start page.
Yes, for SuperH, memory can be different location for each machine
too.  But it's compile time option since the address of kernel depends
on memory start address.  We don't share kernel image among different
memory location machines.
-- 
Niibe Yutaka
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/