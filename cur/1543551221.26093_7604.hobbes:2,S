Date: Wed, 11 Oct 2000 11:48:23 +0200 (MET DST)
From: Mikael Pettersson <>
Subject: Re: 2.4.0-test9 + Winchip2/2A processor family == hang on boot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/11/23

On Wed, 11 Oct 2000, Frank de Lange wrote:
>Solved the problem with Winchip not booting. It turns out they do not like the
>code generated by gcc (gcc version 2.95.2 19991024 (release)) when the
>-march=i686 flag is set. Changing this flag to -march=i586 makes to box boot
>like it should.
That makes sense. The WinChip C6/2/3 processors were designed to
be compatible with the Intel Pentium and Pentium MMX processors.
They are _not_ compatible with P6 cores at the application level;
in particular, they do not have the conditional move instructions.
"-march=i686" permits gcc to use i686-specific instructions. Seriously
uncool if the processor doesn't have them.
I don't know if WinChips benefit from i686-like scheduling heuristics,
but perhaps "-mcpu=i686" would be appropriate for the Makefile
(i.e. use the i386 instruction set but schedule etc. as for an i686).
/Mikael
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/