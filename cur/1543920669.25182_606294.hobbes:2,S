Date: Wed, 17 Oct 2007 09:09:24 -0400
From: Mark Lord <>
Subject: Re: [Pcihpd-discuss] [PATCH 1/4] Fix PCIe hotplug for non-ACPI ExpressCard slots (version 2)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/17/162

Matthew Wilcox wrote:
> On Tue, Oct 16, 2007 at 09:54:08PM -0400, Mark Lord wrote:
>> -	t_slot->hpc_ops->get_adapter_status(t_slot, &value); /* Check if slot is occupied */
>> +	/* Check if slot is occupied */
>> +	t_slot->hpc_ops->get_adapter_status(t_slot, &value);
>>  	if ((POWER_CTRL(ctrl->ctrlcap)) && !value) {
>> -		rc = t_slot->hpc_ops->power_off_slot(t_slot); /* Power off slot if not occupied*/
>> +		/* Power off slot if not occupied*/
>> +		rc = t_slot->hpc_ops->power_off_slot(t_slot);
> 
> I'd argue these comments fall under "stating the bleedin' obvious", but
> that's Kristen's call.
Hey, they're original to the file.  I'm just keeping checkpatch.pl happy here.
Ditto for everything else you commented on.
>>  	case INT_PRESENCE_OFF:
>>  		if (!HP_SUPR_RM(ctrl->ctrlcap))
>>  			break;
>> -		dbg("Surprise Removal\n");
>> +		dbg("Surprise Event\n");
>>  		update_slot_info(p_slot);
>>  		handle_surprise_event(p_slot);
>>  		break;
> 
> That doesn't seem like an obviously correct change to me.  Can you
> explain?
Yeah.  You clipped the top line:  case INT_PRESENCE_ON:
So that code can be run for both hot plug and hot remove operations.
..
>> -	temp_word = (temp_word & ~intr_enable) | intr_enable; 
>> +	temp_word = (temp_word & ~intr_enable) | intr_enable;
> 
> *boggle*
Dig out your text editor, and notice the excess whitespace at the end of the line,
along with similar stuff on most other lines in this patch.
This is all just stuff that checkpatch.pl complains about when
the later patches are applied, so patch 01_... serves to reduce
the noise level from checkpatch.pl for the *real* patches which follow.
-ml
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/