Date: Sat, 30 Sep 2006 20:20:28 +0200
From: Vincent Legoll <>
Subject: [PATCH] off-by-one in kernel command line option parsing
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/30/138

Here is a patch for what I think is a bug in the kernel,
please comment / apply as appropriate.
Generated by cg-mkpatch from a fairly recent git tree.
Cross-compile tested.
-- 
Vincent Legoll
fix memcmp() off-by-one
nolapic is 7 chars long
---
commit aa2cb4b05c437005ccff44084678948c99aa62b3
tree 54ddca6ab0ef9a29bb1ff0f452b1eaccce7b33a1
parent 4ed4b5475211fab6a0ad00eed2f9297395e7598e
author Vincent Legoll <vincent.legoll@gmail.com> Sat, 30 Sep 2006 18:52:53 +0200
committer Vincent Legoll <vincent.legoll@gmail.com> Sat, 30 Sep 2006 18:52:53 +0200
 arch/i386/kernel/setup.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)
diff --git a/arch/i386/kernel/setup.c b/arch/i386/kernel/setup.c
index f168220..72bbf22 100644
--- a/arch/i386/kernel/setup.c
+++ b/arch/i386/kernel/setup.c
@@ -869,7 +869,7 @@ #ifdef CONFIG_X86_LOCAL_APIC
 			lapic_enable();
 
 		/* disable local APIC */
-		else if (!memcmp(from, "nolapic", 6))
+		else if (!memcmp(from, "nolapic", 7))
 			lapic_disable();
 #endif /* CONFIG_X86_LOCAL_APIC */
 