Date: Thu, 17 Jun 2004 09:29:28 -0700
From: Greg KH <>
Subject: [PATCH] remove EXPORT_SYMBOL(kallsyms_lookup)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/17/142

Hi,
Distros have started to ship kernels with this patch, as it seems that
some unnamed binary module authors are already abusing this function (as
well as some open source modules, like the openib code.)  I could not
find any valid reason why this symbol should be exported, so here's a
patch against 2.6.7 that removes it.
Signed-off-by: Greg Kroah-Hartman <greg@kroah.com>
thanks,
greg k-h
diff -Nru a/kernel/kallsyms.c b/kernel/kallsyms.c
--- a/kernel/kallsyms.c	Thu Jun 17 09:26:17 2004
+++ b/kernel/kallsyms.c	Thu Jun 17 09:26:17 2004
@@ -320,5 +320,4 @@
 }
 __initcall(kallsyms_init);
 
-EXPORT_SYMBOL(kallsyms_lookup);
 EXPORT_SYMBOL(__print_symbol);
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/