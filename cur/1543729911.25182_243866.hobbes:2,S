Date: Fri, 20 Aug 2004 15:56:10 -0400
From: Jesse Barnes <>
Subject: Re: 2.6.8.1-mm3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/20/290

On Friday, August 20, 2004 2:55 pm, Andrew Morton wrote:
> > Here's the output part way through a kernbench run:
>
> (This doesn't sound like the sort of workload which people would buy an
> Altix for?)
No, but other people are working on that stuff (e.g. Christoph's page faulting 
code).  That said, good multiuser performance is important on big boxes too.
> > 27081955 ia64_pal_call_static                     141051.8490
> > 3175264 ia64_load_scratch_fpregs                 49613.5000
> > 3166434 ia64_save_scratch_fpregs                 49475.5312
>
> What do the above three mean?
ia64_pal_call_static is part of the idle path.  Puts the CPU into low power 
state.  The save and restore fp regs I think are due to the fact that integer 
multiply uses fp regs, David?  They're also preserved across PROM calls, but 
we shouldn't be preserving them unless necessary.
> > 1603765 ia64_spinlock_contention                 16705.8854
>
> That's 0.04% of total non-idle CPU time.  This seems wrong.
The time between resetting the profiling buffer and collecting the profile was 
small, and was before kernbench had started 2048 threads, so most of the CPUs 
were idle.  I can do a longer run now that the profiling stuff seems to work.
Thanks,
Jesse
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/