Date: Sun, 2 Dec 2007 16:47:46 +0100
From: Ingo Molnar <>
Subject: Re: [BUG] Strange 1-second pauses during Resume-from-RAM
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/12/2/77

* JÃ¶rn Engel <joern@logfs.org> wrote:
> I do.  Went through 10odd runs and annotated the function right below 
> mcount each time.  Seems to work now.
> 
> Trouble is that it doesn't solve my real problem at hand.  Something 
> is causing significant delays when writing to logfs.  Core logfs code 
> is not running, but may cause whatever other code is running and 
> burning up all the cpu time.  Wasting 100ms of "qemu-time" to write a 
> single page happens fairly frequently.
> 
> With the latency tracer the problem appears to have become worse.  Now 
> the loftlockup code triggers quite frequently.  Which makes a bit of 
> sense, as the problem is a busy CPU, rather than an idle one.
well what does the trace say, where do the delays come from? To get a 
quick overview you can make tracing lighter weight by doing:
 echo 0 > /proc/sys/kernel/mcount_enabled
 echo 1 > /proc/sys/kernel/trace_syscalls
(this turns the latency tracer into a "global strace" kind of tracer)
	Ingo
--
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/