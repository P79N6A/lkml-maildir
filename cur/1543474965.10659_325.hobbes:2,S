Date: Sun, 3 Jan 1999 17:41:29 +0000
From: Steve Dodd <>
Subject: [PATCH] NTFS compile probs. in 2.2.0-pre4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/4/37

Hi,
I couldn't get NTFS to compile (in my case, as a module) in 2.2.0-pre4.
The included patch fixes this, and may also correct problems on architectures
where sizeof(int) != 4 (if there are any?).
I'm new to looking at kernel sources so I hope this is the Right Thing.
I guess there's no easy way to avoid including things like ntfs_fs_i.h from
fs.h?
Cheers,
Steve
--- vanilla/include/linux/ntfs_fs_i.h	Fri Dec 19 23:24:22 1997
+++ linux/include/linux/ntfs_fs_i.h	Sun Jan  3 17:29:30 1999
@@ -5,13 +5,17 @@
 struct ntfs_attribute;
 struct ntfs_sb_info;
 
-/* Duplicate definitions from ntfs/types.h */
+/* Duplicate definitions from fs/ntfs/ntfstypes.h */
 #ifndef NTFS_INTEGRAL_TYPES
 #define NTFS_INTEGRAL_TYPES
-typedef unsigned char      ntfs_u8;
-typedef unsigned short     ntfs_u16;
-typedef unsigned int       ntfs_u32;
-typedef unsigned long long ntfs_u64;
+typedef u8  ntfs_u8;
+typedef u16 ntfs_u16;
+typedef u32 ntfs_u32;
+typedef u64 ntfs_u64;
+typedef s8  ntfs_s8;
+typedef s16 ntfs_s16;
+typedef s32 ntfs_s32;
+typedef s64 ntfs_s64;
 #endif
 
 #ifndef NTMODE_T