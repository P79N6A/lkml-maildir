Date: Wed, 11 May 2005 13:37:26 -0600
From: Bruce Guenter <>
Subject: Re: How to diagnose a kernel memory leak
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/5/11/171

On Mon, May 09, 2005 at 10:29:21AM +0200, Alexander Nyberg wrote:
> the patch below might help as it works on a lower
> level. It accounts for bare pages in the system available
> from /proc/page_owner. So a cat /proc/page_owner > tmpfile would be good
> when the system starts to go low. There's a sorting program in
> Documentation/page_owner.c used to sort the rather large output.
I've been running this for a day and a half now, and a few hundred megs
of memory is now missing:
# free
             total       used       free     shared    buffers     cached
Mem:       2055648    2001884      53764          0     259024     868484
-/+ buffers/cache:     874376    1181272
Swap:      1028152         56    1028096
I've put the output from the sorting program up at
	
http://untroubled.org/misc/page_owner_sorted
Is this useful information yet, or is there still too much in cached
pages to really identify the source?
-- 
Bruce Guenter <bruceg@em.ca> 
http://em.ca/~bruceg/
 
http://untroubled.org/
OpenPGP key: 699980E8 / D0B7 C8DD 365D A395 29DA  2E2A E96F B2DC 6999 80E8
[unhandled content-type:application/pgp-signature]