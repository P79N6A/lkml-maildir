Date: Thu, 11 Aug 2005 20:48:50 +0200
From: Andreas Herrmann <>
Subject: Re: [PATCH] remove name length check in a workqueue
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/8/11/251

        Simon Derr <Simon.Derr@bull.net> wrote:
  > It is sufficient to have a few HBAs and to insmod/rmmod the driver a 
few 
  > times.
  > Since the host_no is choosen with a mere counter increment 
  > in scsi_host_alloc():
  >       shost->host_no = scsi_host_next_hn++; /* XXX(hch): still racy */
  > Unused `host_no's are not reused and the 100 limit is reached even on 
  > smaller systems.
  > I have no idea of why someone would do repeated insmod/rmmods, though.
  > (But someone did).
You even don't have to use insmod/rmmod.  On s390 (using zfcp) it
suffices to take adapters offline and online (triggered via VM,
hardware, or within Linux). Just do so about 100 times ... You
know the result.
Regards,
Andreas
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/