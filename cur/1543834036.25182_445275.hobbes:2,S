Date: Tue, 18 Jul 2006 12:03:15 -0700
From: "Keith Mannthey" <>
Subject: Re: CPU numbering & hyperthreading
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/7/18/184

On 7/17/06, Andrew Athan <aathan_linux_kernel_1542@cloakmail.com> wrote:
>
> On an Intel Xeon dual CPU machine running 2.6.16 and up...
>
> I have two highly CPU/memory/network intensive processes with 3-5
> threads each.  I am using sched_setaffinity calls to make sure these two
> processes never compete for the same physical CPU.  Am I right to assume
> that CPU #0 and #1 vs CPU #2 and #3 are separate physical CPUs on a
> 2-CPU w/ hyperthreading box?
>
> I've spent some time looking, but I did not find documentation on
> exactly how CPUs are numbered in a hyperthreaded box.
It is up to the bios how the cpus are layed out.  Any easy way to
check for the info you want is to look at /proc/cpuinfo (you can also
get the info out of /sys/devices/system/cpu/cpu[x]/topology).  Cpus
with the same physical id are in the same package.  The info (core_id
core_siblings  physical_package_id  thread_siblings
and like kind from proc) describes the topology.
Thanks,
  Keith
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/