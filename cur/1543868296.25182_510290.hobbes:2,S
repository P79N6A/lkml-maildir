Date: Sun, 18 Feb 2007 14:32:14 -0600
From: (Olof Johansson)
Subject: Re: [PATCH] nfs: init req_lock in nfs_alloc_inode
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/18/131

On Fri, Feb 16, 2007 at 05:24:42PM -0800, Andrew Morton wrote:
> req_lock is initialsied in fs/nfs/inode.c:init_once().
Oh, it is indeed. Grmbl.
> What kernel version were you using?
I've reproduced this on a base 2.6.20 g5_defconfig + NFS root and serial
console options on a G5 here.
The steps I have used are:
* Boot with NFS root, default mount options
* mount /dev/sda3 /mnt
... that's all. I have not seen it happen without NFS root, even with
quite active NFS activity. So it seems to be a factor.
I'll continue debugging tomorrow.
-Olof
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/