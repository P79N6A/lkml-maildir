Date: Tue, 01 Aug 2006 12:38:26 +0300
From: Avi Kivity <>
Subject: Re: Solaris ZFS on Linux [Was: Re: the " 'official' point of view"expressed by kernelnewbies.org regarding reiser4 inclusion]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/1/98

Matthias Andree wrote:
>
> On Tue, 01 Aug 2006, Avi Kivity wrote:
>
> > There's no reason to repack *all* of the data.  Many workloads write 
> and
> > delete whole files, so file data should be contiguous.  The repacker
> > would only need to move metadata and small files.
>
> Move small files? What for?
>
WAFL-style filesystems like contiguous space,  so if small files are 
scattered in otherwise free space, the repacker should free them.
> Even if it is "only" moving metadata, it is not different from what ext3
> or xfs are doing today (rewriting metadata from the intent log or block
> journal to the final location).
>
There is no need to repack all metadata; only that which helps in 
creating free space.
For example: if you untar a source tree you'd get mixed metadata and 
small file data packed together, but there's no need to repack that data.
-- 
error compiling committee.c: too many arguments to function
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/