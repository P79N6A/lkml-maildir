Date: Sun, 19 Jan 2003 23:05:36 +0100
From: Trond Myklebust <>
Subject: problems with nfs-server in 2.5 bk as of 030115
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/1/19/103

>>>>> " " == Martin Josefsson <gandalf@wlug.westbo.se> writes:
     > This is what I get when trying to start the nfs-server
     > (/etc/init.d/nfs-kernel-server in debian):
     > Installing knfsd (copyright (C) 1996 okir@monad.swb.de).  RPC:
     > Couldn't create pipefs entry /portmap/clntcfac0540 RPC:
     > Couldn't create pipefs entry /portmap/clntcfac0540 RPC:
     > Couldn't create pipefs entry /portmap/clntcfac0540
Could you apply the following patch, so that I can see what the actual
returned error is?
Cheers,
  Trond
--- linux-2.5.59/net/sunrpc/clnt.c	2003-01-12 22:40:13.000000000 +0100
+++ linux-2.5.59-00-fix/net/sunrpc/clnt.c	2003-01-19 23:01:09.000000000 +0100
@@ -113,8 +113,8 @@
 			"/%s/clnt%p", clnt->cl_protname, clnt);
 	clnt->cl_dentry = rpc_mkdir(clnt->cl_pathname, clnt);
 	if (IS_ERR(clnt->cl_dentry)) {
-		printk(KERN_INFO "RPC: Couldn't create pipefs entry %s\n",
-				clnt->cl_pathname);
+		printk(KERN_INFO "RPC: Couldn't create pipefs entry %s, error %ld\n",
+				clnt->cl_pathname, PTR_ERR(clnt->cl_dentry));
 		goto out_no_path;
 	}
 	if (!rpcauth_create(flavor, clnt)) {
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/