Date: Wed, 19 Jan 2000 14:29:11 +0100
From: Guest section DW <>
Subject: Re: IDE drives with > 65535 cylinders
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/19/96

On Wed, Jan 19, 2000 at 03:49:44PM +1100, Tim Potter wrote:
> > With a recent kernel and a recent cfdisk, all should be well.
> 
> The fdisk version is the one that comes with Redhat 6.1: fdisk-2.9w.
> It has the value 65535 hard-coded into it so will need changing to
> support big drives at some stage.
Yes. Note that I said cfdisk, not fdisk.
> I can see two solutions:
> 
>   1) Fix fdisk to handle > 65535 cylinders and modify the
>      implementation of HDIO_GETGEO to return 32-bit cylinder numbers.
> 
>   2) Get linux to translate CHS values so that they are <= 65535.
I am aiming for the third: get rid of everything related to geometries.
[You see, getting Linux to translate would help until 539 GB.
This is what 2.2.14 does, so 2.2.14 will get (minor) problems at 539 GB.
Already today there are disk arrays of that size.
Clearly translation is not going to help in the long run, so 2) is out.
Adding a new ioctl HDIO_GETBIGGEO is rather ridiculous: it would return
empty information. There is nothing the kernel knows that fdisk doesnt.
So we just have to remove every call of HDIO_GETGEO from every program
that used it, and all will be fine again. cfdisk is OK already.]
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/