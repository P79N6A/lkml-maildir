Date: Sat, 24 Jun 2006 19:15:31 +0400
From: Alexey Dobriyan <>
Subject: 2.6.17-...: looong writeouts
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/24/100

Immediate problem: from time to time post 2.6.17 kernel [1] decides that it
really really needs disk.
	[kernel compilation goes as usual]
	  CC [M]  fs/xfs/xfs_inode.o
	[compilation blocks for ~10 seconds, disk LED is red]
	[then it continues]
Again, from time to time saving 2k file makes vi inoperational for same
period.
Scheduler is CFQ, fs is reiserfs mounted with noatime, notail. 2.6.17-rc
and 2.6.17 kernels were OK.
It occured only several times in 4 hours.
[1] 2.6.17-95eaa5fa8eb2c345244acd5f65b200b115ae8c65 to be precise
Probably related problem below:
During 2.6.17-rc cycle CFQ subjectively became less F.
	[   unpacking  ]
	[kernel tarball]
		.
		.
		.
		.
		.
		.
		.		[:wq on little file]
		.
		.
		.
		.
		.
		.
	[              ]
IIRC, on 2.6.16 that :wq took say 0.5 sec, on late 2.6.17-rc it was
several times slower. I don't have numbers but it was psychologically
noticeable, but not BFD.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/