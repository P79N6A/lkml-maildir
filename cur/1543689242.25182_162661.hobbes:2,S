Date: Wed, 3 Sep 2003 19:49:04 +0200
From: Pavel Machek <>
Subject: Re: Fix up power managment in 2.6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/3/255

Hi!
> > -void software_resume(void)
> > +int __init swsusp_restore(void)
> >  {
> > -       if (num_online_cpus() > 1) {
> > -               printk(KERN_WARNING "Software Suspend has
> > malfunctioning SMP support. Disabled :(\n");
> > -               return;
> > -       }
> > 
> > I can not easily see where you moved this check.
> 
> Read the rest of the patches, and the changelogs (I do believe it's in 
> them). It's in kernel/power/main.c::enter_state(), so all PM handlers can 
> use it. 
Notice that this is done during resume. You are free to suspend with 1
cpu, then attempt to resume with 2 cpus. Not *too* likely to happen,
but....
								Pavel
-- 
Horseback riding is like software...
...vgf orggre jura vgf serr.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/