Date: Tue, 30 Oct 2001 14:49:27 -0800 (PST)
From: Linus Torvalds <>
Subject: Re: pre5 VM livelock
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/10/30/183

On Tue, 30 Oct 2001, Jeff Garzik wrote:
>
> Key symptoms:  Free swab 0Kb according to sysrq-m, and several processes
> in run state according to sysrq-t.
What are the stack traces for the processes (ie "Ctrl-ScrollLock")
It actually _sounds_ like you're out-of-memory for real, you have no swap
left, and you have only four pages in the swap cache which implies that
the system has tried very very hard to get rid of the pages you _did_
write to swap.
That, in turn, sounds like a memory leak. You've got 38578 pages on the
inactive list (300MB worth of memory).
The fact that they _are_ on the inactive list means that the kernel
certainly sees them. They just aren't freeable for some reason - possibly
because they are mapped and dirty in some process (and you're out of
swap so the kernel cannot put them anywhere). And if the oom() killer
doesn't react, you're sol.
Question: did you have some big process that you tried to test the VM
with? Did you expect the oom killer to kill it?
OR there is a leak inside the kernel, where we forget to decrement the
count for certain pages in certain circumstances. Not unlikely.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/