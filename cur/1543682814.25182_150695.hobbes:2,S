Date: Wed, 23 Jul 2003 07:40:33 +0100
From: Christoph Hellwig <>
Subject: Re: sparc scsi esp depends on pci & hangs on boot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/23/12

On Tue, Jul 22, 2003 at 11:29:11PM -0700, David S. Miller wrote:
> And unlike this particular scsi layer usage, such drivers will be
> dependant upon things like CONFIG_PCI and thus won't get compiled
> in unless CONFIG_PCI has been enabled in the kernel configuration.
Umm, no.  The whole idea of the DMA mapping API is that it's independant
of the underlying bus.  Think of usb or ieee1394 drivers doing direct DMA
independant of the bus the underlying host adapter uses.
> And linux/dma-mapping.h is a bad name to use, call it dma-dir.h or
> something, because linux/dma-mapping.h would need to include
> asm/dma-mapping.h which is what we're trying to avoid here.
We don't try to avoid that.  You should at least make them sparc dma
mapping API noops for !CONFIG_PCI because it's assume you always
include the header - whether you can actually use the functionaly
depends on whether your bus supports this API.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/