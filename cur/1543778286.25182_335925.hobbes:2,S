Date: Mon, 25 Jul 2005 08:32:04 -0400
From: Theodore Ts'o <>
Subject: Re: CheckFS: Checkpoints and Block Level Incremental Backup (BLIB)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/7/25/77

On Mon, Jul 25, 2005 at 11:24:43AM +0530, Amit S. Kale wrote:
> On Sunday 24 Jul 2005 8:44 pm, Jan Engelhardt wrote:
> > >Maybe you want to put your development machines on ext*2* while doing
> > >this ;-). Or perhaps reiserfs/xfs/something.
> >
> > Or perhaps into at the VFS level, so any fs can benefit from it.
> 
> We thought about that. While it's possible to do that, it would need
> hooks into all filesystems etc. Definitely worth trying once we get
> some more basic stuff working for ext3
> 
> After all the things that need to be saved at the time of taking a
> checkpoint for any filesystem would be the superblock and inode
> table (or their equivalents). Everything else is automatically taken
> care of.
You are aware of the block-device-level snapshot solutions, right?
They can be more painful to use, although that's mostly a UI issue,
and they have the added advantage that you can safely run e2fsck on
the snapshot image if you want to check the consistency of the
filesystem while it is mounted.  (If it is clean, you can then use
tune2fs to reset the max-mount-count and last-checked-time on the
original filesystem image; if it is not clean, you can send e-mail to
the system administrator suggesting that she schedule downtime ASAP
and do a e2fsck on the filesystem image.  This is a good thing that a
paranoid sysadmin might schedule via cron every Saturday morning at
3am, for example.)
							- Ted
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/