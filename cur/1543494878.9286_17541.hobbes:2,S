Date: Thu, 6 May 1999 09:31:58 -0700 (PDT)
From: Dean Gaudet <>
Subject: Re: Overscheduling DOES happen with high web server load.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/5/6/152

As shipped, apache-1.3.6 on linux uses fcntl() file locking to prevent
more than one process from being inside accept().  I'm not sure if the dec
folks have rebuilt the server with -DSINGLE_LISTEN_UNSERIALIZED_ACCEPT...
if they have, then there's no protection around accept() in servers
listening on a single port. 
At any rate, for apache 1.3.x we require some form of locking (fcntl() in
linux' case) when there are multiple listening sockets... so you also need
to solve the thundering herd problem for fcntl() if it has one.
Last time I brought up wake-on accept(), Alan said it is a hard problem. 
Maybe wake-one fcntl() is easier. 
Dean
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/