Date: Sat, 16 Jun 2007 13:46:17 +0200
From: Thierry Merle <>
Subject: Re: [PATCH 1/1] V4L: stk11xx, add a new webcam driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/16/88

Le vendredi 15 juin 2007 à 23:08 +0200, Jiri Slaby a écrit :
> Mauro Carvalho Chehab wrote:
> > Em SÃ¡b, 2007-06-02 Ã s 11:00 +0200, Thierry Merle escreveu:
> > > 
> > > Mauro Carvalho Chehab a Ã©crit :
> > > >>> This seems to be an interesting approach.
> > > >>>
> > > >>> 
> > > >>> 
> > > >> Interesting but impossible to do for ioctl calls.
> > > >> When the application does a
> ioctl(fd_of_mnt_video0,VIDIOC_G_FMT,&arg) 
> > > >> for example, there is no way for the userspace helper to catch
> this ioctl.
> > > >> The application could only open/read from the userspace
> helper's file 
> > > >> /mnt/video0.
> > > >> ioctl would still have to be done on the kernel device driver.
> > > >> I thought also about a /proc interface for decompression
> algorithms (a 
> > > >> helper would listen on a /proc file and write on another /proc
> file) but 
> > > >> /proc is not designed for that kind of thing.
> > > >> A separate library seems to be the simplest solution.
> > > >> 
> > > >
> > > > There are some ways for this to work. For example, you may
> create a
> > > > helper device for the daemon driver to bind, even requiring it
> to have
> > > > root permission.
> > > >
> > > > 
> > > Right, but I am afraid that complex userspace/kernelspace context 
> > > changes breaks performance.
> > Yes, there's a risk.
> > 
> > > Nevertheless, I will start to specify the framework.
> > > The helper daemon would link to the v4l2-apps/lib.
> > 
> > Ok, thanks!
> 
> Ok, here comes updated version of stk11xx driver. Note that it's not
> still
> separated into more files (I'll do this as the last step) and also
> resize
> and bayer->rgb conversion remains. This is what I'm interested in --
> is
> there some embryo of library with resize and conversion? Or what was
> the
> decision to create?
Hi Jiri,
sorry I started the specification but nothing finalized (and
consequently no code).
Here is the start of my idea for a v4l2_extension:
http://thierry.merle.free.fr/v4l2_extension/general.html
My new USB tuner took me all my little time and I did not get into
details (the spec is incomplete).
Well, as you insist I will explain a bit more :)
Please comment, tell me what you don't understand I will try to update
during this week-end...
Thierry
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/