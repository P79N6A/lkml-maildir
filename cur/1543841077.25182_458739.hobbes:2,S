Date: Tue, 29 Aug 2006 13:06:56 -0400
From: 	Valdis.Kletnieks@vt ...
Subject: Re: 2.6.18-rc4-mm3: BUG: warning at include/net/dst.h:154/dst_release()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/29/241

On Tue, 29 Aug 2006 18:19:36 -0000, Frederik Deweerdt said:
> On Tue, Aug 29, 2006 at 10:25:07AM -0400, Valdis.Kletnieks@vt.edu wrote:
> > Seeing this a lot on 2.6.18-rc4-mm3 with 2 different stack tracebacks
> > (one for received packets, other for sending).  I already picked up the
> > fix for the ^ / confusion in fib_rules.c and that didn't help matters.
> > 
> Hi,
> 
> I'm not familiary with net code, but willing to help :). It looks like
> the fib6_rule_lookup function is increasing dst.__refcnt in one code
> path and not the other. Does the (untested) attached patch help?
Not taking a ref it should is probably a bug, but it doesn't fix the
problem I'm seeing, sorry....
[unhandled content-type:application/pgp-signature]