Date: Mon, 3 May 2004 23:05:31 +0200
From: Willy TARREAU <>
Subject: Re: Possible to delay boot process to boot from USB subsystem?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/3/132

On Mon, May 03, 2004 at 04:44:30PM -0400, Bill Catlan wrote:
> Thanks Willy.  I like to automatic looping of Randy's patch (I had it working
> nicely on a 2.4.18 kernel) because I don't have to set a time in case one
> machine takes longer than another.
I certainly can understand this, although I've never tried it yet.
> So far, however, I haven't got Randy's patch working for a newer kernel, so I
> may try yours.
> 
> Would I only have to run make in the directory where I'm patching the file, then
> make bzImage, make modules_install, and make install from the top level to apply
> your patch?  Compiling all of my modules takes a long time, with random lock-ups
> during compile gumming up the works as well. :-/  Any tips appreciated.
No exactly, you should not run 'make' from the 'init' directory, but rather
tell 'make' where you want it to check for changes :
# make bzImage SUBDIRS=init
It will skip over other directories (such as drivers, fs, net, ...) and
only recompile below 'init'. I do this very often and it's very convenient.
However, you should not do this if you have changed certain compile options
or things that might imply different dependencies.
A hint to check if it has been correctly configured :
# nm vmlinux | grep setuptime
c01b2b80 d __setup_setuptime_setup
c01ab039 d __setup_str_setuptime_setup
c015700c b setuptime
c01b31b0 t setuptime_setup
Regards,
Willy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/