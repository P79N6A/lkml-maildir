Date: Tue, 23 Jul 2002 18:06:58 -0400 (EDT)
From: Bill Davidsen <>
Subject: Re: [BUG?] unwanted proxy arp in 2.4.19-pre10
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/7/23/229

On Sun, 14 Jul 2002, Julian Anastasov wrote:
> 	Start with fixing your picture (all hubs and wires, please).
> Linux ARP never sends 1 broadcasts through 2 devices, so it seems there is 
> a hub near Node_A (or Node_A is running bridging), I can't believe 230.1 
> and 230.4 are directly connected with cross cable. Make sure you have
> the needed host/subnet routes for each interface. Also, make
> sure tcpdump really shows the ARP replies, make the tests with
> arp -d IP ; ping -c 1 IP
The tests were made with a copy of tcpdump on every NIC of every machine
involved, with a hardware sniffer on each of the NICs. It was analyzed by
ISP network gurus, and it appears that it really does happen, and both
D-Link and Cisco switches don't like it when it does.
The problem was solved by substituting a more capable node.
Since I'm told by network people that current behaviour is the desired
behaviour, by definition there is no bug. By a mixture of diddling flags
in /proc/sys and hand routing every address through the desired NIC you
can make it work, so "no problem."
-- 
bill davidsen <davidsen@tmr.com>
  CTO, TMR Associates, Inc
Doing interesting things with little computers since 1979.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/