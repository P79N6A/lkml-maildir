Date: Sat, 13 Mar 2004 17:25:10 +0200
From: Paul Ionescu <>
Subject: sysfs method for registering/unregistering ide devices ?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/13/41

Hello,
Is there any possibility to unregister/scan ide devices with sysfs ?
I've searched lkml and linux-ide list archives and I didn't found any
answers.
Is there any sysfs file like /sys/..../registered, where you could echo
0 or 1 if you want to register or unregister a specific interface ?
Till now, I used hdparm -U/-R option for this task.
While this is still available in kernel 2.6, the implementation of
 HDIO_UNREGISTER_HWIF and  HDIO_SCAN_HWIF seems more like a hack than a
sane implementation.
Reasons:
Unregister and then register the same device, and you will have
different files for it int procfs and sysfs.
For unregistering or registering a device, you need at least a valid
block device. So I cannot unregister all my drives, and register them
again (or at least not at the same time).
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/