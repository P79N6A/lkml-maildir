Date: Thu, 21 Feb 2008 07:43:46 +0000
From: Jarek Poplawski <>
Subject: Re: [BUG?] APM is hidden in menuconfig
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/21/31

On Thu, Feb 21, 2008 at 02:21:52AM +0100, Rafael J. Wysocki wrote:
> On Thursday, 21 of February 2008, Frans Pop wrote:
> > Rafael J. Wysocki wrote:
> > > On Wednesday, 20 of February 2008, Jarek Poplawski wrote:
> > >> So, has it to be so hard? It seems not - at least in good old times...
> > > 
> > > Something in APM uses some code from drivers/base/power/main.c that
> > > depends on PM_SLEEP.
> > 
> > Sure, but that does not make Jarek's point invalid. From a user PoV APM is a
> > high-level configuration option. That is what he wants.
> > It should thus be easily accessible and not be buried beneath a lot of
> > other, much more technical, options.
Probably Frans is right: this should be my point... But I'm not so
"greedy", and I would be happy if it were at least more visible. It
simply seems to me quite not obvious to even think about turning
SUSPEND on when I have problems with a basic acpi function.
Even more interesting question is why this APM or PM_SLEEP dependency
on SUSPEND (or HIBERNATION) isn't visible with "/" searching: PM_SLEEP
looks like some "hidden" option - that's why I tried first to find some
comment in arch/ instead of simply reading Kconfig.
> > Could this maybe be solved by making APM automatically 'select' some options
> > instead of 'depending' on them?
> 
> That, unfortunately, doesn't work.
> 
> IMO the solution might be to separate the APM suspend code from the rest of the
> APM code and make it depend on (PM_SUSPEND && APM).
...Or at least to mention APM in SUSPEND title and description.
Actually, this is really strange: both SUSPEND and PM_SLEEP have
default = y. So it seems they are intended to be more "advertised"
than they are?
Thanks & regards,
Jarek P.