Date: Sun, 27 Jan 2002 15:11:28 +0100
From: Martin Dalecki <>
Subject: CRAP in 2.4.18-pre7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/27/54

I would like to notice that the changes in 2.4.18-pre7 to the
tulip eth driver are apparently causing absymal performance drops
on my version of this card. Apparently the performance is dropping
from the expected 10MB/s to about 10kB/s. The only special
thing about the configuration in question is the fact that it's
a direct connection between two hosts. Well, more precisely it's
a cross-over link between my notebook and desktop.
Here is an excerpt from the lspci command:
00:0b.0 Ethernet controller: Digital Equipment Corporation DECchip 21041 
[Tulip Pass 3] (rev 11)
        Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- 
ParErr- Stepping- SERR+ FastB2B-
        Status: Cap- 66Mhz- UDF- FastB2B+ ParErr- DEVSEL=medium >TAbort- 
<TAbort- <MAbort- >SERR- <PERR-
        Latency: 64
        Interrupt: pin A routed to IRQ 11
        Region 0: I/O ports at d400 [size=128]
        Region 1: Memory at cfffdf80 (32-bit, non-prefetchable) [size=128]
        Expansion ROM at cff80000 [disabled] [size=256K]
The motherboard is a SiS735 chip. The card is apparently sharing it's 
interrupt
(which I guess could be a cause of the problem) with nearly anything else
on the system:
          CPU0
  0:     654927          XT-PIC  timer
  1:      25591          XT-PIC  keyboard
  2:          0          XT-PIC  cascade
  5:        107          XT-PIC  bttv
  8:     283913          XT-PIC  rtc
 11:      70064          XT-PIC  usb-ohci, usb-ohci, eth0, SiS 7012
 12:      39738          XT-PIC  PS/2 Mouse
 14:     198652          XT-PIC  ide0
 15:          0          XT-PIC  ide1
NMI:          0
ERR:          0
[root@domek athlon]#
Oh well yes I have added the newest version of the i810_audio.c for
support of the on board sound card - it's working *GREATLY*.
Please revert the changes in question from the pre-patch.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/