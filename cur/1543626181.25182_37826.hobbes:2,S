Date: Sat, 30 Mar 2002 14:05:46 +1100
From: Keith Owens <>
Subject: Re: [PATCH] generic show_stack facility
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/3/29/124

On Fri, 29 Mar 2002 10:41:11 -0800, 
Andrew Morton <akpm@zip.com.au> wrote:
>Christoph Hellwig wrote:
>> 
>> On Fri, Mar 29, 2002 at 09:36:26AM -0800, Andrew Morton wrote:
>> > Here's the diff.  Comments?
>> 
>> I don't see who having to independand declaration in the same kernel
>> image are supposed to work..
>
>It goes in lib/lib.a.  The linker will only pick up
>the default version if the architecture doesn't
>have its own dump_stack().
>
>bust_spinlocks() has worked that way for quite some time.
I have a problem with putting routines in lib.a and relying on the
linker to pull them out by default.  It does not work for routines
called from modules, modules do not include lib.a.  Remember the recent
problems with crc32.o?
bust_spinlocks() is not an issue because it is only called from built
in code.  show_stack() has been used as a debugging facility and it
could be called from a module.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/