Date: Mon, 04 Sep 2000 23:16:21 +1100
From: David Luyer <>
Subject: Re: Linux 2.2 - BSD/OS 4.1 ARP incompatibility
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/4/11

(Alan Cox)
  (Matt Kirkwood)
> > Please forgive my obtuseness, but I am unable to conceive of
> > one (beyond checking that your routing is symmetrical :-)
> 
> Multiple virtual hosts, routing for tunnels
And how is this in any way broken by arp-ing from the first interface
address (in terms of walking the list of virtuals) on the same subnet
as the machine your arp address request is for?  And using the same
as the preferred source address when none is specified, but that's
not actually required to fix the problem (in fact, a userspace daemon
on another machine generating the required spoofed ARP responses fixed
the problem, but that seems like a rather ludicrous solution to such
a simple problem!)
Apart from that, every other implementation I've been able to check
does it the same way and Linux is just the odd one out.  It breaks
things, it means Linux doesn't interoperate in what is quite a common
environment, and basically it doesn't seem to have any solid reason to
be how it is.  If the rfc for ARP on Ethernet wasn't so old and brief
I'd expect it to be against it, unfortunately the rfc is a little dated
and simplistic.
If the tunnels need a specific source address they should be explicitly
bound.  Heck, in Cisco IOS the source address for any tunnel is specified
and IOS will generate the encapsulated packets with that source even if
that IP doesn't exist on the router (makes trying to do HSRP redundant
tunnel termination a bit complex :/).
David.
-- 
----------------------------------------------
David Luyer
Senior Network Engineer
Pacific Internet (Aust) Pty Ltd
Phone:  +61 3 9674 7525
Fax:    +61 3 9699 8693
Mobile: +61 4 1064 2258, +61 4 1114 2258
http://www.pacific.net.au
        NASDAQ: PCNTF
<< fast 'n easy >>
----------------------------------------------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/