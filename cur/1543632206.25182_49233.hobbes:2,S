Date: Thu, 30 May 2002 13:09:47 +0200
From: Dave Jones <>
Subject: Re: [PATCH] intel-x86 model config cleanup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/5/30/56

On Wed, May 29, 2002 at 10:43:18PM -0400, Albert D. Cahalan wrote:
 > No, it's like this:
 > I want one kernel. I have a Pentium-MMX and a Pentium Pro.
 > I don't need support for a 386, 486, Athlon, or Xeon.
 > 
 > It's also like this:
 > 
 > We have a lab full of Athlon and Pentium III boxes.
 > There's not a Pentium 4 in sight, and no Pentium II
 > either. It's too much work to manage multiple kernels;
 > every box must boot from the same disk image.
Ok, I think I see what you're getting at. Instead of a multi-list
giving one result, you'd like to tick every box that kernel is
going run on, and have it spit out CONFIG_Mxxx for each of those
processors.
It's doable, and it keeps things like vendor kernels possible
(they just select all CPUs), it's probably quite a bit of work
though.
The trickiest bit is getting the Makefile right to choose
the lowest-chosen-denominator in the list for its gcc options, and that's
probably not that hard, just a few extra ifdefs in an already ifdef heavy area.
Other than that, dealing with the cases like "this cpu has TSC" "this
doesn't" and "this has this bug" "this doesn't have this bug" need to be
done too, but thats again, just a few more ifdefs away..
    Dave.
-- 
| Dave Jones.        
http://www.codemonkey.org.uk
| SuSE Labs
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/