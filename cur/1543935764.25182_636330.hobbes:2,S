Date: Wed, 9 Jan 2008 17:09:07 +0000
From: Alan Cox <>
Subject: Re: [RS232] setting trigger-level of fifo
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/9/205

>         serial8250_set_mctrl(&up->port, up->port.mctrl);
>         spin_unlock_irqrestore(&up->port.lock, flags);
> }
> 
> But I don't know how to interface this to an ioctl or so.
tty ioctl calls both ldisc and driver ioctls (in your case the
serial_core ioctl). The triggers get recomputed in the 8250 driver so you
may need to think about how you handle speed changes automatically
adjusting trigger levels.
Alan