Date: Wed, 8 Feb 2006 12:50:33 -0800
From: Chris Wright <>
Subject: Re: 2.6.15 Bug? New security model?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/8/316

* Bernd Schubert (bernd-schubert@gmx.de) wrote:
> On Wednesday 08 February 2006 06:37, John M Flinchbaugh wrote:
> > On Wed, Feb 08, 2006 at 02:31:46PM +1300, Sam Vilain wrote:
> > > Bernd Schubert wrote:
> > > >With 2.6.15:
> > > >bathl:~# touch /var/run/test
> > > >touch: cannot touch `/var/run/test': Permission denied
> > > >With 2.6.13:
> > > >bathl:~# touch /var/run/test
> > > >(No error message)
> > >
> > > Some ideas; ACLs, SELinux, Attributes, Capabilities.
> >
> > lsattr -d /var/run && lsattr /var/run
> 
> Indeed, with 2.6.13
> 
> bathl:~# lsattr -d /var/run
> lsattr: Inappropriate ioctl for device While reading flags on /var/run
> 
> with 2.6.15.3
OK, this has a reiserfs fix for attrs support.  Rather than back it
out, I'd like to get the proper fix.
> bathl:~# cat lsatr.out.2.6.15
> --S-ia-AcBZXEj-t- /var/run
> 
> After the problem came up, I already suspected something like this and 
> therefore already had the kernel recompiled without xattr support, so I  
> don't know why lsattr shows something for 2.6.15 and nothing for 2.6.13.
attrs != xattrs
Couple of things:
1) what does 'grep attrs_cleared /proc/fs/reiserfs/on-disk-super' show?
2) does mount -o attrs ... make a difference?
thanks,
-chris
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/