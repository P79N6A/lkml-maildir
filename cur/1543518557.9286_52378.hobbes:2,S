Date: Thu, 09 Dec 1999 15:05:47 -0200
From: Alexandre Hautequest <>
Subject: Re: Again: EQL - someone's use this thing yet?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/12/9/96

"Christopher E. Brown" wrote:
> 
> On Mon, 6 Dec 1999, Vladislav Malyshkin wrote:
> 
> > I use mulipath routing for that. Install ip program from Alexey
> > Kuznetsov iproute-2.2.4-2 package (on RedHat 6.1) then entablish
> > all your ppp links WITHOUT default route set in ppp configuration.
> > then
(snip)
> > It works, but it is not perfect.
> > Some times it does not do good balancing.
> 
>         As a followup to my prev message, the patch *is* part of the
> diffserv package, and the command would be
> 
> /sbin/ip route add default equalize nexthop via gateway.number.1.ip \
> dev ppp0 nexthop via gateway.number.2.ip dev ppp1
> 
> /sbin/ip route list gets you
> 
>  default equalize
>          nexthop via 10.65.60.12  dev ppp1 weight 1
>          nexthop via 10.65.60.12  dev ppp0 weight 1
> 
And I can test this using two ethernet cards? Using a full-modular,
almost all modules availables for a 2.3.29 kernel, what mods/proc
options i need to activate for an ethernet testing? Look:
darkstar:~# uname -a
Linux darkstar 2.3.29 #1 Thu Nov 25 15:33:22 BRST 1999 i586 unknown
darkstar:~# lsmod
Module                  Size  Used by
nfs                    34204   2  (autoclean)
lockd                  36232   1  (autoclean) [nfs]
sunrpc                 58404   1  (autoclean) [nfs lockd]
ne                      7452   2  (autoclean)
8390                    6564   0  (autoclean) [ne]
isapnp                 24329   0  (autoclean) [ne]
darkstar:~# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use
Iface
localnet        *               255.255.255.0   U     0      0        0
eth0
localnet        *               255.255.255.0   U     0      0        0
eth1
loopback        *               255.0.0.0       U     0      0        0
lo
darkstar:~# ip route add default nexthop via 192.168.10.1 dev eth0
RTNETLINK answers: invalid argument
darkstar:~# ifconfig  
lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:3924  Metric:1
          RX packets:3642 errors:0 dropped:0 overruns:0 frame:0
          TX packets:3642 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
eth0      Link encap:Ethernet  HWaddr 00:C0:DF:B1:3A:DF  
          inet addr:192.168.10.20  Bcast:192.168.10.255 
Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:4375 errors:0 dropped:0 overruns:0 frame:10
          TX packets:2390 errors:0 dropped:0 overruns:0 carrier:0
          collisions:13 txqueuelen:100 
          Interrupt:10 Base address:0x300 
eth1      Link encap:Ethernet  HWaddr 00:C0:DF:B1:32:17  
          inet addr:192.168.10.19  Bcast:192.168.10.255 
Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:100 
          Interrupt:12 Base address:0x320 
darkstar:~# route add default gw 192.168.10.1 eth0
darkstar:~# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use
Iface
localnet        *               255.255.255.0   U     0      0        0
eth0
localnet        *               255.255.255.0   U     0      0        0
eth1
loopback        *               255.0.0.0       U     0      0        0
lo
default         lolo.istm.intra 0.0.0.0         UG    0      0        0
eth0
darkstar:~# _
And now what?
-- 
Alexandre Hautequest - Linux User #116289
"When I'm on the road, I'm indestructible. No one can stop me. But they
try..."
O .br que n√£o para de crescer:
http://stats.distributed.net/rc5-64/psearch.php3?st=.br
[unhandled content-type:application/x-pkcs7-signature]