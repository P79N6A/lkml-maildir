Date: Wed, 8 Nov 2006 09:40:17 -0800 (PST)
From: Christoph Lameter <>
Subject: Re: Avoid allocating during interleave from almost full nodes
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/8/212

The event counters we are considering are per cpu and you can ask the vm 
statistics subsystem to give you per cpu or global counts. The global 
counts are calculated by summing up all per processor counts.
We also have other counters (ZVC) that are per zone (they are updated per 
cpu per zone.. and are extremely scalable as well). Values can be obtained 
for those by zone, node or global. The global counters and the per zone 
counters do *not* have to be summed up (unlike event counters) but are 
kept current (within a certain delta).
If you need global counters and want to avoid summing up over all 
processors then I would suggest that you use a ZVC or look at the existing 
ZVCs and see if any of those are usable for you.
For ZVCs see include/linux/mmzone.h
For event counters see include/linux/vmstat.h
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/