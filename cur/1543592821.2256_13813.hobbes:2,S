Date: Wed, 30 May 2001 01:49:47 -0400
From: Paul Gortmaker <>
Subject: Re: [PATCH] net #3
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/30/29

Andrzej Krzysztofowicz wrote:
> 
> The following patch fixes some ISA PnP #ifdefs (enable modular,
> disable when non-available) for 3c509 and smc-ultra.
> -#ifdef CONFIG_ISAPNP
> +#if defined(CONFIG_ISAPNP) || (defined(CONFIG_ISAPNP_MODULE) && defined(MODULE))
Hrrm.  AFAICT the token CONFIG_ISAPNP_MODULE will never be defined.  :-)
Regardless, we can just toss the #ifdefs altogether.  They aren't strictly
required as appropriate stubs exist in linux/isapnp.h and that is what 
they are there for. (I'd recommend this for 2.5, not 2.4 though.)
Granted, the CONFIG_ISAPNP buys you a slight reduction in driver
size (even over the stubs) which somewhat seemed worthwhile in the
past. But most of it is __init anyway, and for 2.5 I'd argue that the
readability and lack of ifdefs outweighs the slight size change.
Paul.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/