Date: Thu, 08 May 2008 10:11:25 +0200
From: Peter Zijlstra <>
Subject: Re: [PATCH] sched: fix SCHED_OTHER balance iterator to include all tasks
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/5/8/88

On Tue, 2008-05-06 at 14:06 +0200, Ingo Molnar wrote:
> * Gregory Haskins <ghaskins@novell.com> wrote:
> 
> > Hi Ingo,
> >  The follow patch applies to sched-devel.  I know the original 
> >  function was somehow trying to protect against dequeueing by 
> >  pre-iterating.  I am not sure if I captured the intent properly in 
> >  that regard.  What I can say is that the old algorithm would miss 
> >  tasks, and that is now fixed.  It may need further adjustment if I 
> >  missed the pre-iterating operation.
> > 
> > Hi Peter,
> >  I was wrong earlier when I mentioned there might be a problem with 
> >  entity_is_task().  I think this was the root cause of what I was 
> >  seeing. Sorry for the red-herring.
> 
> applied Gregory, thanks. Nice fix! Peter, do you concur with Gregory's 
> analysis?
Yeah,
Acked-by: Peter Zijlstra <a.p.zijlstra@chello.nl>