Date: Mon, 8 Sep 2003 15:05:43 +0100
From: Jamie Lokier <>
Subject: Re: [PATCH] Pentium Pro - sysenter - doublefault
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/9/8/95

Pavel Machek wrote:
> > "SEP is unsupported".  It's interesting that Pentium Pro erratum #82
> > is "SYSENTER/SYSEXIT instructions can implicitly load 'null segment
> > selector' to SS and CS registers", implying that SYSENTER does
> > _something_ useful on PPros.
> 
> Well, with CS==0 machine is not going to survive too long.
> If it only happens sometimes you might catch the double fault
> and fixup, but....
The erratum only applies when you load CS==0 _deliberately_, by setting
the MSR to that.
I'm wondering what happens when you don't do silly things - what is
the undocumented behaviour of SYSENTER/SYSEXIT on those chips?
I vaguely recall reading details about the behaviour change made by
Intel, around the time it was done, but I can't see to find it
anywhere.
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/