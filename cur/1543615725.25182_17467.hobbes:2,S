Date: Sat, 5 Jan 2002 03:12:28 -0800
From: "Adam J. Richter" <>
Subject: Patch: linux-2.5.2-pre8/drivers/parport/parport_cs.c need <linux/major.h> to compile
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/1/5/38

	linux-2.5.2/drivers/parport/parport_cs.c needed to include
<linux/major.h> to get LP_MAJOR in order to compile.  To address
a compiler warning, I also put an appropriate ifdef around the
declaration of a variable that is only used with certain kernel versions.
	I have not tested this code.  I only know that it now compiles.
-- 
Adam J. Richter     __     ______________   4880 Stevens Creek Blvd, Suite 104
adam@yggdrasil.com     \ /                  San Jose, California 95129-1034
+1 408 261-6630         | g g d r a s i l   United States of America
fax +1 408 261-6631      "Free Software For The Rest Of Us."
--- linux-2.5.2-pre8/drivers/parport/parport_cs.c	Sun Sep 30 12:26:08 2001
+++ linux/drivers/parport/parport_cs.c	Sat Jan  5 03:07:21 2002
@@ -45,6 +45,7 @@
 #include <linux/string.h>
 #include <linux/timer.h>
 #include <linux/ioport.h>
+#include <linux/major.h>
 
 #include <linux/parport.h>
 #include <linux/parport_pc.h>
@@ -106,7 +107,9 @@
 static dev_link_t *dev_list = NULL;
 
 extern struct parport_operations parport_pc_ops;
+#if (LINUX_VERSION_CODE < VERSION(2,3,6))
 static struct parport_operations parport_cs_ops;
+#endif
 
 /*====================================================================*/
 