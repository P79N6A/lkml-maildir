Date: Fri, 28 Jan 2000 20:36:57 -0500
From: Kjartan Maraas <>
Subject: Problems detecting CDROM on a Dell laptop
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/28/150

Hi.
After "upgrading" the BIOS on my Dell Latitude CPi
the kernel has had a hard time finding the CDROM player
(a samsung 24X one). It can be found by giving hdc=cdrom
at the lilo prompt, but it still doesn't look right
during startup.
The detection was fine earlier, but now none of the
kernels I have tried (2.3.3x, 2.3.4x and the stock
2.2.x RH kernels) can find it.
from dmesg (without hdc=cdrom):
Uniform Multi-Platform E-IDE driver Revision: 6.30
PIIX4: IDE controller on PCI bus 00 dev 39
PIIX4: not 100% native mode: will probe irqs later
    ide0: BM-DMA at 0x0860-0x0867, BIOS settings: hda:DMA, hdb:pio
    ide1: BM-DMA at 0x0868-0x086f, BIOS settings: hdc:pio, hdd:pio
hda: IBM-DADA-26480, ATA DISK drive
ide2: ports already in use, skipping probe
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14
hda: IBM-DADA-26480, 6194MB w/460kB Cache, CHS=789/255/63
Partition check:
 hda: hda1 hda2 < hda5 hda6 hda7 >
With hdc=cdrom I get the following:
Jan 23 09:29:54 km-lt kernel: PIIX4: not 100% native mode: will probe
irqs later 
Jan 23 09:29:54 km-lt kernel:     ide0: BM-DMA at 0x0860-0x0867, BIOS
settings: hda:DMA, hdb:pio 
Jan 23 09:29:54 km-lt kernel:     ide1: BM-DMA at 0x0868-0x086f, BIOS
settings: hdc:pio, hdd:pio 
Jan 23 09:29:54 km-lt kernel: hda: IBM-DADA-26480, ATA DISK drive 
Jan 23 09:29:54 km-lt kernel: hdc: IRQ probe failed (0) 
Jan 23 09:29:54 km-lt kernel: hdc: IRQ probe failed (0) 
Jan 23 09:29:54 km-lt kernel: hdd: IRQ probe failed (0) 
Jan 23 09:29:54 km-lt kernel: hdd: IRQ probe failed (0) 
Jan 23 09:29:54 km-lt kernel: ide2: ports already in use, skipping probe 
Jan 23 09:29:54 km-lt kernel: ide0 at 0x1f0-0x1f7,0x3f6 on irq 14 
Jan 23 09:29:54 km-lt kernel: hda: IBM-DADA-26480, 6194MB w/460kB Cache,
CHS=789/255/63 
Jan 23 09:29:54 km-lt kernel: Floppy drive(s): fd0 is 1.44M 
Jan 23 09:29:54 km-lt kernel: FDC 0 is a post-1991 82077 
Also hdparm -i does not work on the drive even if I can mount it
and access the files on the CD's. 
Just for the record, NT can find and read from the CDROM fine.
I know this can very well be a BIOS/Firmware bug, but the lousy
dell BIOS updates can't be installed in reverse. "Update already
installed!" :|
I probably need some more info to get Dell support's attention.
Cheers and thanks in advance.
Kjartan Maraas
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/