Date: Sun, 29 Aug 2004 03:30:10 -0400
From: Jeff Garzik <>
Subject: Re: Add x86 implementation of dma_declare_coherent_memory
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/8/29/15

Linux Kernel Mailing List wrote:
> +void dma_release_declared_memory(struct device *dev)
> +{
> +	struct dma_coherent_mem *mem = dev->dma_mem;
> +	
> +	if(!mem)
> +		return;
> +	dev->dma_mem = NULL;
> +	kfree(mem->bitmap);
> +	kfree(mem);
> +}
> +EXPORT_SYMBOL(dma_release_declared_memory);
There seems to be an iounmap() call missing.
Or is it me who is missing something?  :)
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/