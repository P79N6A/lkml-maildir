Date: Thu, 02 Nov 2006 14:08:39 -0500
From: Phillip Susi <>
Subject: Re: Can Linux live without DMA zone?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/11/2/219

Arjan van de Ven wrote:
> that is a nice theory, but unfortunately there is just a lot of "PCI"
> hardware out there for which the designers decided to save a bit of
> copper and only wire up the lower X address lines (for various values of
> X)
Yea, but shouldn't PCI drivers be using another means than allocating 
from GFP_DMA?  Wasn't there some sort of bounce buffers call I can't 
quite remember the details of?  That performs any required translations 
to bus hardware addresses, and copies the buffer to a more appropriate 
location if required, based on the specific requirements of that device?
I know that most 32 bit PCI devices can't handle addresses above the 4 
GB mark on 64 bit machines, but those drivers should NOT be limiting DMA 
to the first 16 MB.  Especially since most machines don't have over 4 GB 
of ram anyhow, but quite often original buffers will be above 16 MB.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/