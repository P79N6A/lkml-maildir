Date: Wed, 03 Mar 2004 00:09:09 +0100
From: Markus Lidel <>
Subject: Re: [PATCH] i2o subsystem minor bugfixes to work with 2.6.3 kernel
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/2/181

Hello,
Andrew Morton wrote:
>>here is the patch against 2.6.3 kernel to fix the I2O subsystem for the 2.6 
>>kernel.
>>
>Could you please describe the changes you have made?  ie: what the bugs
>are, and how you fixed them?
>
Oh sorry, totally forgot.
drivers/message/i2o/i2o_block.c:
--------------------------------
- corrected the initialization sequence of the request queues.
- added initialization to queue spinlocks.
- release device in i2o_scan because else the device could not be queried.
- i2o_block event threads wait on signal KILL but signal TERM was sent.
drivers/message/i2o/i2o_core.c:
-------------------------------
- set the HRT length to 0 at initialization, to avoid calling free on unallocated memory.
- i2o_core event threads wait on signal KILL but signal TERM was sent.
- added a limit of 3 tries to get the HRT from the controller.
- removed the dpt parameter, which was used to force DPT controllers get handled by the i2o driver. Now all available i2o controllers will be handled by this driver.
drivers/message/i2o/i2o_scsi.c:
-------------------------------
- beautifying of printk calls.
- added scsi_unregister to properly clean up on module unload.
drivers/message/i2o/Kconfig:
----------------------------
- added help for i2o_block and i2o_scsi to describe the differences between the two drivers.
include/linux/i2o-dev.h:
------------------------
- cleaned typo "tate" into "state".
include/linux/i2o.h:
--------------------
- removed defines from i2o_block and insert it here.
Hope it is okey this way.
Best regards,
Markus Lidel
------------------------------------------
Markus Lidel (Senior IT Consultant)
 
Shadow Connect GmbH
Carl-Reisch-Weg 12
D-86381 Krumbach
Germany
  
Phone:  +49 82 82/99 51-0
Fax:    +49 82 82/99 51-11
  
E-Mail: Markus.Lidel@shadowconnect.com
URL:    
http://www.shadowconnect.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/