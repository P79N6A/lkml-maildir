Date: 06 Apr 2003 00:13:10 +0200
From: Martin Schlemmer <>
Subject: Slab corruption with ext3-handle-cache.patch
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/4/5/93

Hi
I tried this patch a few days again, but not in the mm patch set.  So
when I got problems with slab corruption, I figured it was maybe a
patch I missed, and dropped it.
Now with 2.5.66-bk10+, it is merged, and I get it again.
----------------------------------------------------------
Slab corruption: start=cfaeecc4, expend=cfaeee77, problemat=cfaeed28
Last user: [<c01890de>](ext3_destroy_inode+0x1b/0x1f)
Data:
****************************************************************************************************3C 26 99 DF *******************************************************************************************************************************************************************************************************************************************************************************************************************************************A5 
Next: 71 F0 2C .DE 90 18 C0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 
slab error in check_poison_obj(): cache `ext3_inode_cache': object was
modified after freeing
Call Trace:
 [<c0137894>] check_poison_obj+0x14f/0x18f
 [<c0138c8b>] kmem_cache_alloc+0x11c/0x141
 [<c01890aa>] ext3_alloc_inode+0x18/0x31
 [<c01890aa>] ext3_alloc_inode+0x18/0x31
 [<c0162c0c>] alloc_inode+0x1c/0x13d
 [<c0163510>] new_inode+0x13/0x7d
 [<c017fcf2>] ext3_new_inode+0x41/0x7c7
 [<c0138c8b>] kmem_cache_alloc+0x11c/0x141
 [<c018de05>] start_this_handle+0x94/0x1b9
 [<c018df46>] new_handle+0x1c/0x50
 [<c018e025>] journal_start+0xab/0xd2
 [<c0187fb4>] ext3_symlink+0xd6/0x2bd
 [<c015a4c7>] vfs_symlink+0x5c/0xa3
 [<c015a5f0>] sys_symlink+0xe2/0xf2
 [<c010a8fd>] sysenter_past_esp+0x52/0x71
-----------------------------------------------------------
If you need more info, just ask.
Regards,
-- 
Martin Schlemmer
[unhandled content-type:application/pgp-signature]