Date: Tue, 26 Nov 2002 12:00:36 -0500
From: Jeff Garzik <>
Subject: Re: [PATCH] memleak in myri_sbus
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/26/94

Linux Kernel Mailing List wrote:
> diff -Nru a/drivers/net/myri_sbus.c b/drivers/net/myri_sbus.c
> --- a/drivers/net/myri_sbus.c	Mon Nov 25 20:13:24 2002
> +++ b/drivers/net/myri_sbus.c	Mon Nov 25 20:13:24 2002
> @@ -1085,6 +1085,7 @@
>  #endif
>  	return 0;
>  err:	unregister_netdev(dev);
> +	kfree(dev->priv);
>  	kfree(dev);
>  	return -ENODEV;
>  }
> @@ -1142,6 +1143,7 @@
another bogus one, please revert.
>
>
>  		unregister_netdev(root_myri_dev->dev);
>  		kfree(root_myri_dev->dev);
> +		kfree(root_myri_dev);
>  		root_myri_dev = next;
>  	}
likewise.
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/