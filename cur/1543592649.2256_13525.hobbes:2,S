Date: Mon, 28 May 2001 17:59:40 +0200
From: Jens Axboe <>
Subject: [patch] 4GB I/O, 2nd edition
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/28/55

Hi,
One minor bug found that would possibly oops if the SCSI pool ran out of
memory for the sg table and had to revert to a single segment request.
This should never happen, as the pool is sized after number of devices
and queue depth -- but it needed fixing anyway.
Other changes:
- Support cpqarray and cciss (two separate patches)
- Cleanup IDE DMA on/off wrt highmem
- Move run_task_queue back again in __wait_on_buffer. Need to look at
  why this hurts performance.
- Don't account front merge as sequence decrement in elevator (will not
  incur a seek)
- Dump info when highmem I/O is enabled, mainly for debugging
This version has run the cerberus hell-hound all night (IDE and SCSI),
no bugs discovered. The patches were split up even more, for easier
reading etc. It will not apply cleanly to latest 2.4.5-ac kernels, let
me know if you want a version for that...
The patches (in apply order)
*.kernel.org/pub/linux/kernel/people/axboe/patches/2.4.5/
- block-highmem-2
  The highmem block infrastructure, and pci dma additions.
- zone-dma32-5
  Adds the 32-bit dma capable memory zone and make highmem kmap both
  source and destination page.
- scsi-high-1
  Adds general highmem support to the SCSI layer and selected low level
  drivers.
- ide-high-1
  Adds general highmem support to the IDE layer and selected low level
  drivers.
- cpqarray-high-1
  Adds highmem support to the Compaq smart array driver
- cciss-high-1
  Adds highmem support to the 64-bit Compaq smart array driver
-- 
Jens Axboe
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/