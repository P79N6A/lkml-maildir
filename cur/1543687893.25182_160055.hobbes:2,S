Date: Mon, 25 Aug 2003 12:27:30 +0200
From: Laurent Hugé <>
Subject: Re: Personnal line discipline difficulties
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/25/65

Le Lundi 25 Août 2003 11:29, vous avez écrit :
> > As I've told before, I've got no other way to know
> > it, so it's necessary to me (moreover, I'm trying to port an existing
> > driver from Windows to Linux, and the Windows serial driver gives
> > accurately the size of each PDU, so there must be a way).
> Maybe its embedded in the PDU somewhere, or maybe it requires knowledge
> of the protocol at driver level?
No, I'm sure there's no way to find that size but through the serial port 
reception.
I've already tried to totally replace the serial driver (by using inb and outb 
in the serial adress map) but it proves to be not fast enought (it worked à 
9600 bauds, but not at 115200 : I miss some PDU) ; so I've turned to use the 
kernel serial driver. Do you think I have to go way back and try to 
accelerate my treatment (I thought the kernel driver would be the fastest and 
most accurate) ?
> One thing bothers me though - why are you trying to deliver these
> characters into the network stack?  Wouldn't it be easier for your
> application to talk to the printer port via your custom driver and
> a serial port directly?
Because there's no application ! In fact, there are two flow through that 
driver : one is IP and the other is CCSDS (spatial protocols) ; I have to be 
_totally_ transparent to IP flow, and add CCSDS above. That's the reason why 
I've chosen to use the network stack.
-- 
Laurent Hugé.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/