Date: Wed, 29 Mar 2000 18:20:40 +0200
From: Olaf Dabrunz <>
Subject: Re: Is ReiserFS really a journaling file system, or is it really just a synchronous-metadata file system like BSD FFS?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/3/29/109

On Wed, Mar 29, 2000 at 10:15:45AM +0200, Eilert Brinkmann wrote:
> Olaf Dabrunz <1dabrunz@informatik.uni-hamburg.de> wrote:
> > On Wed, Mar 29, 2000 at 03:11:14AM +0100, Alan Cox wrote:
> > > 
> > > You need higher level transactions for that. Download to new name, fsync,
> > > rename().
> >                                                ^^^^^^^^^^^^^^^^^^^^
> > What does it mean? Copy the file? rename()?
> 
> Instead of overwriting the existing file, you write the new version
> into a new file with a different name, ensure that all data are
> written to disc and then use rename() to atomically replace the old
> file with the new one. This way you can be sure not to have a
> corrupted version of the file with it's normal name.
Oh, I see. I was thinking of database transactions here, but now I understand
the original problem. For databases the answer would be fsync(), as mentioned
earlier in this thread, or still a filesystem on its own.
Thanks,
Olaf.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/