Date: Tue, 11 Sep 2007 10:29:19 -0700 (PDT)
From: Matti Linnanvuori <>
Subject: Do not deprecate binary semaphore or do allow mutex in software interrupt contexts
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/11/294

Peter Zijlstra <peterz@infradead.org>:
> Yes it is.
Why do you think it is broken?
> If you have to wait a long time in an atomic context you've done
> something wrong.
I saw an implementation where there were two atomic contexts, one to initiate reading and another to complete the reading. 
That way, there was no busy wait for a long time in an atomic context.
> If you're only reading it from an atomic context you
> might consider storing a copy that can be quickly updated and protect
> that using a spinlock.
You suggested that a user-space task read from the device. 
But that includes more context switching and therefore consumes more resources than reading just from an atomic context.
> Not being too familiar with the timer stuff, it smells wrong what you
> say.
Why?
      Wissenswertes f√ºr Bastler und Hobby Handwerker. BE A BETTER HEIMWERKER! www.yahoo.de/clever
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/