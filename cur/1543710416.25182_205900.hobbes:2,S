Date: Fri, 12 Mar 2004 14:54:46 +0100
From: David Fort <>
Subject: Re: Unkillable Zombie process under 2.6.3 and 2.6.4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/3/12/85

Andrew Morton wrote:
>Would you have time to prepare a little test app to demonstrate this?
>
>Thanks.
>
> 
>
I've wrote this little app that do nothing complicated: it just launch a 
thread that do popen in its body.
This programs sticks gdb completly, i don't know who is to blame gdb or 
the kernel.
The fact is that there's something really strange here.
I'm trying to build a test app that can trigger the case where GDBed 
process become unkillable zombies
(i have some still running on my box).
I've explored several ideas i had:
    -related to TLS -> playing around with the tlsData var didn't show 
anything
    -SIGCHLD intercepted by the program and not caught by gdb -> even 
without the signal handler i get the
    bug
I'm gonna modify the app to test that the apps doesn't become unkillable 
when it has a socket in WAIT_STATE.
Attached is a tarbal that contains:  the program, the makefile and a 
quite long report of the behaviour that i'm
seeing while debugging and my .config.
gcc version 3.3.2 (Mandrake Linux 10.0 3.3.2-6mdk)
glibc-2.3.3-10mdk
2.6.4 kernel
-- 
Fort David, Projet IDsA
IRISA-INRIA, Campus de Beaulieu, 35042 Rennes cedex, France
TÃ©l: +33 (0) 2 99 84 71 33
[unhandled content-type:application/x-bzip2]