Date: Mon, 19 Jan 2009 20:17:29 +0100
From: Oleg Nesterov <>
Subject: Re: [PATCH] autofs: fix the wrong usage of the deprecated task_pgrp_nr()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/19/329

On 01/19, Serge E. Hallyn wrote:
>
> Quoting Oleg Nesterov (oleg@redhat.com):
> > On 01/19, Serge E. Hallyn wrote:
> > >
> > > But so there does still need to be a patch modifying parse_options()
> > > to return an error if pgrp= was not specified, right?
> >
> > Why? In that case we should use the caller's pgrp. This is what the
> > current tries to do, why should the patch change this behaviour?
>
> Well, because Ian said that not specifying it is supposed to
> be an error :)  I didn't quite understand why, so am fishing
> for more info...
I think you misunderstood him. Or I am totally confused ;)
In any case. Both autofs and autofs4 use current's pgrp if this
option was not specified, and these patches doesn't change this
behaviour.
Actually, I am very much surprized this one-liner patch has so
many questions. Isn't it "obiously correct" ?
Oleg.