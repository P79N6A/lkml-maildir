Date: Fri, 10 Oct 2003 11:32:24 -0400
From: Trond Myklebust <>
Subject: Misc NFSv4 (was Re: statfs() / statvfs() syscall ballsup...)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/10/139

>>>>> " " == Jamie Lokier <jamie@shareable.org> writes:
     > Trond Myklebust wrote:
    >> Sure. We might even try actually implementing leases on NFSv4
    >> for delegated files.
     > That would be nice.  (Aside: Can NFSv4 do anything like
     > dnotify, or am I restricted to, in effect, keeping many files
     > open to detect changes in any of them?)
Delegations for directories are in the pipeline for the next minor
revision of the protocol (NFSv4.1). Delegations are such a new feature
to NFS that it was decided to restrict them to files only to give us
time to learn how best to use them.
I can't tell as of yet whether or not the model chosen will include
all the features of dnotify (for instance recall in case the
attributes change on a subfile is a subject of hot debate), but
certainly some of us are pushing for something like this.
     > Generally NFSv4 sounds like the way to go.  Should I be
     > recommending it to all my friends yet, is the implementation
     > ready for that?
The client implementation in 2.6.0 is still lacking several important
features, including locking, ACLs, delegation support and recovery of
state (in case of server reboot or network partitions). I'm hoping
Andrew/Linus will allow me to send updates once the early 2.6.x
codefreeze period is over.
That said, I definitely encourage people to test out the existing code
for stability, and I will be offering an 'NFS_ALL' series with those
features that are missing from the main tree as and when I judge they
are approaching release quality.
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/