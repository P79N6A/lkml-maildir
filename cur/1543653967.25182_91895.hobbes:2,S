Date: Sat, 23 Nov 2002 17:25:49 +0100
From: "Joakim Tjernlund" <>
Subject: RE: [PATCH 2.5] crc32 static initialization
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/23/36

> Joakim Tjernlund wrote:
> 
> >Hi Brian
> >
> >Would you please also add the CRC32 patch I sent you earlier?
> >It is much faster.
> >
> > 
> >
> Can you test the attached patch - especially on a big endian system. It 
> should
> do the required thing, i.e. what you want and what I want :-) 
> simultaneously.
> 
> /Brian
Hi Brian 
Got some spare time so here I go:
I have tested the new CRC32 patch on my big endian CPU(mpc860) in
linux 2.4. Since the Makefiles look different in 2.4 vs. 2.5 I built and ran 
gen_crctable.c manually, so I can not comment on the Makefile changes.
Also, testing this in 2.4 makes it hard to generate a new 2.5 patch, so 
I will just comment and send the whole file(se below)
Found this:
   crc32.c in crc32_be(): crc32table_le should be crc32table_be
   gen_crc32table.c: 
     htole()/htobe() stuff does not work when cross compiling and target endian
     != build endian.
     I fixed this and a new gen_crc32table.c is attached.
    Finally, I think the new local crc32.h should be renamed to crc32defs.h to
    avoid confusion with the real linux/crc32.h.
 Jocke[unhandled content-type:application/octet-stream]