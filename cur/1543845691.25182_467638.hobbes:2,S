Date: Thu, 28 Sep 2006 16:30:46 -0700
From: Randy Dunlap <>
Subject: Re: [2.6.18-rc7-mm1] slow boot
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/9/28/378

On Fri, 29 Sep 2006 01:20:12 +0200 Tilman Schmidt wrote:
> Am 28.09.2006 19:12 schrieb Andi Kleen:
> > On Thursday 28 September 2006 19:00, Tilman Schmidt wrote:
> > 
> > missing context here, but ...
> 
> Forwarded by separate mail.
> 
> >> x86_64-mm-i386-stacktrace-unwinder.patch
> [...]
> >> Backing out just this patch from 2.6.18-mm1 (and resolving conflicts
> >> manually the obvious way) gets the boot time back to normal (ie. as
> >> fast as 2.6.18 mainline) on my
> >> Linux gx110 2.6.18-mm1-noinitrd #2 PREEMPT Thu Sep 28 18:48:32 CEST 2006 i686 i686 i386 GNU/Linux
> >> machine.
> > 
> > Hmm, i assume you have lockdep on.
> 
> Indeed.
> 
> > The new backtracer is of course slower
> > than the old one and it will slow down lockdep which takes a lot of backtraces. 
> > But it shouldn't be a significant slowdown.
> 
> Unfortunately, it is. Boot time roughly doubles from 39 to 76 secs.
> 
> > Can you perhaps boot with profile=1 and then send readprofile output after
> > boot?
> 
> I'm afraid I'll need instructions for that. I assume "profile=1"
> is to be appended to the kernel command line; but how do I
> retrieve that readprofile output you are asking for?
Use 'readprofile'.  Usage is described in
Documentation/basic_profiling.txt in the kernel source tree.
---
~Randy
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/