Date: Fri, 15 Aug 2003 03:08:12 +1000 (EST)
From: James Morris <>
Subject: Re: [PATCH] cryptoapi: Fix sleeping
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/14/116

On Thu, 14 Aug 2003, Matt Mackall wrote:
> It's basically trying to be friendly. Since we can't really detect
> when it's safe to do such yields, we should be explicitly flag the
> uses where its ok. Something like this:
I think this is the best approach.
>  #define CRYPTO_TFM_MODE_MASK		0x000000ff
>  #define CRYPTO_TFM_REQ_MASK		0x000fff00
> -#define CRYPTO_TFM_RES_MASK		0xfff00000
> +#define CRYPTO_TFM_RES_MASK		0x7ff00000
> +#define CRYPTO_TFM_API_MASK		0x80000000
This doesn't leave much room for API flags -- the CRYPTO_TFM_REQ_MASK 
could be made smaller.
- James
-- 
James Morris
<jmorris@intercode.com.au>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/