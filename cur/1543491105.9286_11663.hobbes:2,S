Date: Sat, 27 Mar 1999 00:15:24 +0000 (GMT)
From: (Alan Cox)
Subject: Re: SMP safe driver with 2.0.36
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/26/171

> On the very same computer, when I boot it with 2.0.36 SMP, the driver
> keeps losing interrupts, even with moderate and low load. The problem
> seems to be happening when there is an IPI interrupt.
The 2.0.x SMP kernel is very inefficient in its IRQ handling compared to 
2.2. 2.2 takes irqs on all cpus. 2.0 takes them on CPU 0 then bounces them
to the CPU holding the kernel lock.
> So the problem might be the overall time required to consume all the
> interrupts.... Since our driver must acknowledge with 0.512 ms after
> the interrupt.
You might also want to look at rtlinux then (www.rtlinux.org) - thats a real
time layer for the linux kernel that can easily hit 0.5mS boundaries
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/