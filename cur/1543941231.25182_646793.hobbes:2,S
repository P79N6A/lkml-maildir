Date: Fri, 1 Feb 2008 10:48:39 +0100
From: Ingo Molnar <>
Subject: Re: x86 arch updates also broke s390
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/1/112

* Martin Schwidefsky <schwidefsky@de.ibm.com> wrote:
> Defining GENERIC_LOCKBREAK in arch/s390/Kconfig takes care of it. I'll 
> cook up a patch and queue it in git390.
the one below should do the trick.
	Ingo
----------------->
Subject: s390: enable GENERIC_LOCKBREAK
From: Ingo Molnar <mingo@elte.hu>
the recent need_lockbreak cleanups broke s390 build: enable
GENERIC_LOCKBREAK.
Signed-off-by: Ingo Molnar <mingo@elte.hu>
---
 arch/s390/Kconfig |    3 +++
 1 file changed, 3 insertions(+)
Index: linux/arch/s390/Kconfig
===================================================================
--- linux.orig/arch/s390/Kconfig
+++ linux/arch/s390/Kconfig
@@ -22,6 +22,9 @@ config RWSEM_GENERIC_SPINLOCK
 config RWSEM_XCHGADD_ALGORITHM
 	def_bool y
 
+config GENERIC_LOCKBREAK
+	def_bool y
+
 config ARCH_HAS_ILOG2_U32
 	bool
 	default n