Date: Wed, 6 Aug 2003 18:26:10 +0000 (UTC)
From: Pasi Savolainen <>
Subject: Re: 2.4.22-rc1 + ACPI patch: amd76x_pm do not work any longer
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/6/214

* Dieter Nützel <d.nuetzel@wearabrain.de>:
> Am Mittwoch, 6. August 2003 12:08 schrieb Adrian Bunk:
>> On Wed, Aug 06, 2003 at 06:21:06AM +0200, Dieter Nützel wrote:
>> > Hello,
>>
>> Hi Dieter,
>>
>> > I had it running very well on my dual Athlon MP 1900+ for several months
>> > before. Latest Kernel was 2.4.22-pre5+ACPI patch.
>> >
>> > Any changes?
>> > I changed lm_sensors from 2.7.0 (?) to 2.8.0
> 
> This one is the culprit.
> Reverting to 2.7.0 cure my problems.
It's most probably because somebody (temp. monitoring) is already using
the south bridge, so just plain grabbing of it doesn't work. I faced
this with port to 2.6 and it's handled thus:
+       /* Find southbridge */
+       pdev_sb = NULL;
+       while((pdev_sb = pci_find_device(PCI_ANY_ID, PCI_ANY_ID, pdev_sb)) != NULL) {
+               if(pci_match_device(amd_sb_tbl, pdev_sb) != NULL)
+                       goto found_sb;
+       }
+       printk(KERN_ERR "amd76x_pm: Could not find southbridge\n");
+       return -ENODEV;
It could work in 2.4 too.
-- 
   Psi -- <
http://www.iki.fi/pasi.savolainen>
Vivake -- Virtuaalinen valokuvauskerho <
http://members.lycos.co.uk/vivake/>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/