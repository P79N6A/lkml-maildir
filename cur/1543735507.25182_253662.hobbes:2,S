Date: Sun, 19 Sep 2004 14:38:24 +1000
From: Benjamin Herrenschmidt <>
Subject: Re: udev is too slow creating devices
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/19/2

>    You need to change your attitude for first. For second - come up with 
> a way for user space to block until device is here, and if it is not 
> here/error detected - fail.
> 
>    As it was said before - /all/ we need, is to be able to tell 
> discovery phase from idle state of driver. "/All/" is quite much here - 
> but it must be a goal.
> 
>    I'm absolutely sure, that for PCI devices it is implementable quite 
> easy - probing is already done outside of modules. And we know precisely 
> are we Ok, or are we not. And we know when we are done. If it is not so 
> for USB yet - then it is bug which must be fixed.
Nope, Greg is right. Drivers themselves won't necessarily provide
you with the device interface in a synchronous way after they are
loaded, and some will certainly never. It is all an asynchronous process
and there is simply no way to ask for any kind of enforced synchronicity
here without major bloatage.
Ben.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/