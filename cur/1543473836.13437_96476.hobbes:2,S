Date: Sat, 02 Jan 1999 00:23:43 GMT
From: Les Schaffer <>
Subject: Re: details on make xconfig bug in pre2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/1/204

i changed:
(gustav)/usr/local/src/linux/scripts/: diff -c tkcond.c.old tkcond.c
*** tkcond.c.old        Fri Jan  1 19:17:27 1999
--- tkcond.c    Fri Jan  1 19:03:06 1999
***************
*** 125,131 ****
          cond2 = cond->next->next;
          strcpy(tmpbuf, cond->variable.cfg->label);
  
!         if ( strcmp(cond2->variable.str, "n") == 0 )
              {
                  cond->variable.cfg = cond->variable.cfg->choice_label;
                  cond2->variable.str = strdup(tmpbuf);
--- 125,131 ----
          cond2 = cond->next->next;
          strcpy(tmpbuf, cond->variable.cfg->label);
  
!         if ( (strcmp(cond2->variable.str, "y") == 0)  ||  ( (strcmp(cond2->variable.str, "n") == 0))  )
              {
                  cond->variable.cfg = cond->variable.cfg->choice_label;
                  cond2->variable.str = strdup(tmpbuf);
and tested briefly. the "choice" and associated variables seem to be
set properly in .config, for example, the 386 choices and PCI/bios
choices seem to do the right thing now when 'choice'ing chips or pci
access. 
have i missed something???
-- 
____        Les Schaffer              ___| --->> Engineering R&D <<---
Theoretical & Applied Mechanics          |  Designspring, Inc. 
Center for Radiophysics & Space Research |  
http://www.designspring.com/
Cornell Univ.  schaffer@tam.cornell.edu  |  les@designspring.com
.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/