Date: 14 May 2003 08:49:49 -0400
From: Tom Sightler <>
Subject: Re: odd db4 error with 2.5.69-mm4 [was Re: Huraaa for 2.5]
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/5/14/115

> As root, I basically can't use rpm at all. I think it's select() related
> as strace shows it timing out. The odd thing is that it works great as a
> non-privileged user.
> 
> 2.5.69-mm4, otherwise mostly stock rh90 setup.
> 
> [root@www root]# rpm -qi iptables
> rpmdb: unable to join the environment
> error: db4 error(11) from dbenv->open: Resource temporarily unavailable
> error: cannot open Packages index using db3 - Resource temporarily
> unavailable (11)
> error: cannot open Packages database in /var/lib/rpm
> package iptables is not installed
> [root@www root]#
This is a long known problem, you can work around it with
LD_ASSUME_KERNEL=2.4.19 or get the 4.2-1 rpms from
ftp://ftp.rpm.org/pub/rpm/test-4.2/.
Basically follow the steps in Redhat Bugzilla
https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=89662
 and you
should be all set.
Later,
Tom
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/