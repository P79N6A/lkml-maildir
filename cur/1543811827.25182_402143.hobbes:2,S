Date: Tue, 28 Feb 2006 17:00:54 -0500
From: "Bill Rugolsky Jr." <>
Subject: Re: AMD64 X2 lost ticks on PM timer
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/2/28/266

On Tue, Feb 28, 2006 at 10:41:27AM +0300, Abdulla Bubshait wrote:
> Unfortunately, I can't seem to find a way to force it to use hpet. Passing 
> 'notsc' and 'nopmtimer' I end up using PIT/TSC based timekeeping. TSC is 
> already known to have problems with dual core. But I will sit with it for a 
> while to see if it fairs better than the pm timer.
> 
> Bill, What timer do you use, and do these lost ticks persist after sata_nv 
> interrupts stop?
Sorry for the late reply.  I'm using pmtimer (the default).  I
get lost ticks reported mostly in default_idle and __do_softirq.
The machine is running PostgreSQL, so the Lost tick messages occur
throughout the day, but they come frequently during our nightly cron
jobs that do rsyncs, checksums, etc. So far today:
rugolsky@ti88: awk '/Feb 28.*Lost.*timer/{n++;sum+=$8};END{printf "%d messages, %d lost ticks\n",n,sum}' /var/log/messages
487 messages, 588 lost ticks
And this month:
rugolsky@ti88: awk '/Feb .*Lost.*timer/{n++;sum+=$8};END{printf "%d messages, %d lost ticks\n",n,sum}' /var/log/messages*
19051 messages, 23794 lost ticks
I got another test machine up and running today, so I can start patching and
testing tomorrow.
	Bill Rugolsky
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/