Date: Thu, 25 Nov 1999 21:51:05 +0100
From: Harald Koenig <>
Subject: Re: /dev/scd0: attempt to access beyond end of device
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/11/25/132

On Nov 25, Alan Cox wrote:
> > it's now the 3rd time using Linux 2.2.13 kernel that I get messages like this
> > 	attempt to access beyond end of device
> > 	0b:00: rw=0, want=551696, limit=159340
> > 	dev 0b:00 blksize=2048 blocknr=275847 sector=1103388 size=2048 count=1
> > 
> > error messages when trying to access some files on correct CDs.
> > 
> > I can `cure' this problem by removing and reloading the module `sr_mod'!
> > this never happened with 2.2.12 and earlier.
> > any idea what's wrong in 2.2.13 ?
> 
> 2.2.14 pre has some fixes for ext2fs races Andrea found, it has some other
> page cache related fixes and some scsi related locking fixes. It could be
> any of these or neither. The fact that removing sr_mod fixes it is curious
> but makes some sense since it will flush the page cache for that device.
if this will happen again, I'll try if `flushfb /dev/scd0' will help too...
I just remembered that I've already reported this problem to linux-kernel
last time (haven't got replies that time):
	Date:   Sun, 31 Oct 1999 11:34:48 +0100
	Subject: Re: sr_mod problem in 2.2.13
	Message-ID: <19991031113448.B1029@turtle.tat.physik.uni-tuebingen.de>
that time I could trigger the problem with aborting `cdparanoia' 
while grabbing audio tracks (which I never did before using 2.2.13,
so this all might be a coincidence!).
I just tried again, and after aborting cdparanoia with audio disk
and inserting a data disk I got the same errors again.
using `flushfb /dev/scd0' did not help.
but `cdparanoia -Q' (showing TOC) does fix the problem, so does `rmmod sr_mod'.
looks like the CDROM drive (TOSHIBA XM-3701) was stuck in some audio mode 
and `cdparanoia -Q' might have reset it ?!
Harald
-- 
All SCSI disks will from now on                     ___       _____
be required to send an email notice                0--,|    /OOOOOOO\
24 hours prior to complete hardware failure!      <_/  /  /OOOOOOOOOOO\
                                                    \  \/OOOOOOOOOOOOOOO\
                                                      \ OOOOOOOOOOOOOOOOO|//
Harald Koenig,                                         \/\/\/\/\/\/\/\/\/
Inst.f.Theoret.Astrophysik                              //  /     \\  \
koenig@tat.physik.uni-tuebingen.de                     ^^^^^       ^^^^^
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/