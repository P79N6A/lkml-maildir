Date: Fri, 25 Aug 2000 16:49:55 -0700
From: Thomas Davis <>
Subject: Re: eepro100 status?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/25/109

Andrey Savochkin wrote:
> On Mon, Aug 21, 2000 at 11:06:12AM +0100, Tony Hoyle wrote:
> > Tigran Aivazian wrote:
> > >
> > > On Sun, 20 Aug 2000, Tony Hoyle wrote:
> > >
> > > > I notice the eepro100 driver still has the 'device reports no resources'
> > > > bug.  Does a fix exist for this?
> > > >
> > > > Tony
> > >
> > > isn't it just for stats, like running ifconfig(8) under very high load?
> > >
> > No, when this error is generated it stops the card working, and you have
> > to
> > ifconfig down/up the interface to reinitialise it.
> 
> There are different reasons for "no resource" reports.
> The first possible is a big traffic bursts exhausting the whole RX ring.
> This cases are rare.
Is this case really rare?
I've got a machine that worked great w/eepro 100, with kernel 2.2.13.  I
updated to 2.2.16 (bug fixes and other things), and I now have it going
to sleep on the network on me.
I've had 13 of 'eth0: card reports no resources.' in just 7 hours of
uptime, and the following network load:
bond0     Link encap:Ethernet  HWaddr 00:90:27:8D:28:F6  
          inet addr:128.55.129.108  Bcast:128.55.131.255 
Mask:255.255.252.0
          UP BROADCAST RUNNING MASTER MULTICAST  MTU:1500  Metric:1
          RX packets:31550469 errors:13 dropped:0 overruns:7 frame:0
          TX packets:17453375 errors:21 dropped:0 overruns:16 carrier:0
          collisions:0 txqueuelen:0 
eth0      Link encap:Ethernet  HWaddr 00:90:27:8D:28:F6  
          inet addr:128.55.129.108  Bcast:128.55.131.255 
Mask:255.255.252.0
          UP BROADCAST RUNNING SLAVE MULTICAST  MTU:1500  Metric:1
          RX packets:29098241 errors:13 dropped:0 overruns:7 frame:0
          TX packets:8726756 errors:18 dropped:0 overruns:13 carrier:0
          collisions:0 txqueuelen:100 
          Interrupt:21 Base address:0xd000 
eth1      Link encap:Ethernet  HWaddr 00:90:27:8D:28:F6  
          inet addr:128.55.129.108  Bcast:128.55.131.255 
Mask:255.255.252.0
          UP BROADCAST RUNNING SLAVE MULTICAST  MTU:1500  Metric:1
          RX packets:2452228 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8726619 errors:3 dropped:0 overruns:3 carrier:0
          collisions:0 txqueuelen:100 
          Interrupt:20 Base address:0x2000 
lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:3924  Metric:1
          RX packets:14939 errors:0 dropped:0 overruns:0 frame:0
          TX packets:14939 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
What can I do to fix this problem?
-- 
------------------------+--------------------------------------------------
Thomas Davis		| PDSF Project Leader
tadavis@lbl.gov		| 
(510) 486-4524		| "Only a petabyte of data this year?"
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/