Date: Wed, 16 Jul 2003 14:16:32 +0200
From: (Måns Rullgård)
Subject: Re: ALSA timer and 2.6.0-test1 panic
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/16/91

mru@users.sourceforge.net (Måns Rullgård) writes:
> I get thousands of these messages when using the ALSA timer in kernel
> 2.6.0-test1:
>
> bad: scheduling while atomic!
> Call Trace:
>  [<c0118408>] schedule+0x3ab/0x3b0
>  [<c0123190>] schedule_timeout+0x5f/0xb3
>  [<d08fffb6>] snd_timer_user_poll+0x2a/0x41 [snd_timer]
>  [<c0123128>] process_timeout+0x0/0x9
>  [<c0160aa7>] do_poll+0xa1/0xc0
>  [<c0160c62>] sys_poll+0x19c/0x28e
>  [<c0160035>] __pollwait+0x0/0xc6
>  [<c010911b>] syscall_call+0x7/0xb
>
> bad: scheduling while atomic!
> Call Trace:
>  [<c0118408>] schedule+0x3ab/0x3b0
>  [<c014ed0e>] sys_read+0x61/0x63
>  [<c0109142>] work_resched+0x5/0x16
>
> bad: scheduling while atomic!
> Call Trace:
>  [<c0118408>] schedule+0x3ab/0x3b0
>  [<c014ed0e>] sys_read+0x61/0x63
>  [<c0109142>] work_resched+0x5/0x16
>
> Everything works like it should anyhow, until the program stops.  At
> that time the kernel panics (killing interrupt handler).
If I disable the preemptive kernel it works fine.
-- 
Måns Rullgård
mru@users.sf.net
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/