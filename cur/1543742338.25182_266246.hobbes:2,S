Date: Fri, 29 Oct 2004 17:11:10 +0200
From: Adrian Bunk <>
Subject: Re: The naming wars continue...
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/29/163

On Fri, Oct 29, 2004 at 04:54:42PM +0200, Geert Uytterhoeven wrote:
> On Fri, 29 Oct 2004, Adrian Bunk wrote:
> > 
> > Read-only /usr is required according to the FHS, and at least on Debian 
> > a read-only /usr works without problems.
> 
> Indeed. And that's what I use. In /etc/apt/apt.conf I have:
> 
>     DPkg {
>         // Auto re-mounting of a readonly /usr
> 	Pre-Invoke {"mount -o remount,rw /usr";};
> 	Post-Invoke {"mount -o remount,ro /usr";};
>     }
> 
> > A bigger problem might be to properly support it in the package manager.
> 
> Yep. Apt knows about it, but dpkg doesn't. And remounting /usr read-only
> fails if files are in use.
I was more thinking about the problems like a database upgrade requiring 
changes to e.g. the system tables of the database handled in the 
{pre,post}inst scripts. It even becomes more tricky since a postinst 
script might make changes to both /usr and such required actions.
These issues which require auditing of all packages are the real issue.
> Gr{oetje,eeting}s,
> 
> 						Geert
cu
Adrian
-- 
       "Is there not promise of rain?" Ling Tan asked suddenly out
        of the darkness. There had been need of rain for many days.
       "Only a promise," Lao Er said.
                                       Pearl S. Buck - Dragon Seed
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/