Date: Tue, 24 Jul 2007 16:39:52 +0200 (CEST)
From: Daniël Mantione <>
Subject: Re: Keyboard programming needs root
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/7/24/234

Op Tue, 24 Jul 2007, schreef Helge Hafting:
> The normal way is to set permissions on the device in
> question - give either root only or the logged-in user
> write access as needed.
> 
> It seems to me that "loadkeys" uses /dev/tty / /dev/tty0
> So set permissions on that as needed.
This won't work. Under the old behaviour, if you were owner of the tty, 
you were boss of its keymap. Code was added that checks for explicit root 
permissions (actually CAP_SYS_TTY_CONFIG, but this is root in practise), 
so, currently, nothing regarding permissions works.
I agree, that setting a permission would be ideal, this way the sysadmin 
can enforce his prefered policy, rather than having it hardwired into the 
kernel.
Daniël