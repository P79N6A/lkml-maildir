Date: Sun, 13 Feb 2000 15:19:08 -0500
From: Jeff Garzik <>
Subject: Re: Softnet/eepro100 driver conversion bug in 2.3.43pre8?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/2/13/121

Manfred Spraul wrote:
> I assume you twisted the netif_xy_queue() calls:
> if(tx_full)
>         stop();
>  else
>         wake();
yes :)
> Did you check why? Was the tx ring full, but the queue not stopped, or
> something like this? Perhaps the timeout function is called to early?
I did not check why, it simply seemed obvious and logical to stop the
transmit queue at that point.  And the fact that adding this check fixes
the problems some drivers have been having does lend support to this.
Alexey tells me I am not getting the softnet stuff quite right, so there
may be more changes.  But -- so far testing seemed to be 100% ok for all
the drivers I've fixed in this manner.  :)
	Jeff
-- 
Jeff Garzik         | Writing software is
Building 1024       | more fun than working.
MandrakeSoft, Inc.  | 	-Anon
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/