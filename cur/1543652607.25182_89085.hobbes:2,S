Date: Wed, 13 Nov 2002 16:10:01 +0100 (CET)
From: Michal Wronski <>
Subject: Re: [PATCH] unified SysV and POSIX mqueues - complete rewrite
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/11/13/94

> The interface boils down to 7 new syscalls (for now just i386):
> - sys_mq_open
> - sys_mq_unlink
> - sys_mq_timedsend
> - sys_mq_timedreceive
> ...
Why add a new syscalls?? It's better to do this via ioctl's
> The change to ipc/msg.c is minimal - just make
> - load_msg
> - store_msg
> - free_msg
> accessible (not static).
I suggest doing this independently to SysV IPC
> userspace lib and test progs are on
> 
http://homepage.mac.com/pwaechtler/linux/mqueue/
"We're sorry, but we can't find the HomePage you've requested."
> +#ifndef _LINUX_MQUEUE_H
> +#define _LINUX_MQUEUE_H
> +
> +#define MQ_MAXMSG 40 /* max number of messages in each queue */
> +#define MQ_MAXSYSSIZE 1048576 /* max size that all m.q. can have 
> together 
> */
> +#define MQ_PRIO_MAX 10000 /* max priority */
I see that you've read our sources....
We (K. Benedyczak with me) are currently working on new implementation of 
mqueues. It's very similar to yours (filesystem, without new syscalls) and 
it's almost done. Maybe we should collaborate??
Michal Wronski
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/