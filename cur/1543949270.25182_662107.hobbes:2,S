Date: Sat, 1 Mar 2008 14:57:40 -0800
From: David Brownell <>
Subject: Re: High resolution timers on AT91SAM926x
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/3/1/205

> Is there a way to enable high resolution timers on AT91SAM926x?
Update PIT to support the clocksource/clockevent framework:
  
http://marc.info/?l=linux-arm-kernel&m=119940724711435&w=2
Declare timer/counter block platform devices:
http://marc.info/?l=linux-arm-kernel&m=120302318811110&w=2
Use timer/counter blocks for better clocksource and clockevents:
  
http://marc.info/?l=linux-kernel&m=120373043520279&w=2
  
http://marc.info/?l=linux-kernel&m=120373063320487&w=2
The focus in that last patch is on NO_HZ support -- so the
clockevents run at 32 KiHz (about 31 usec precision for HRT)
to allow overall HZ to run below 1 where practical.   If you
need even higher precision, you could update that clockevent
code to use a different base clock.
Those last two patches are in some MM tree, and Haavard has
some updates to then (which don't much affect functionality).
I understand the upcoming 2.6.24-at91 patch will include the
first two patches.
- Dave