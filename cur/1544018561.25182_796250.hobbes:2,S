Date: Fri, 23 Jan 2009 11:45:30 +0100
From: Bernd Petrovitsch <>
Subject: Re: [PATCH, RFC] Remove fasync() BKL usage, take 3325
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/23/127

On Fri, 2009-01-23 at 07:15 +0100, Andi Kleen wrote: 
> > I have to agree with Christoph. The priority here is breaking down the
> > BKL and document all the things being protected by it and we've got a
> > reasonably obvious patch in that direction. Meanwhile, there's not
> > currently a pressing demand to make fasync in particular scale that I'm
> > aware of.
> 
> The classic case is a high throughput network server that uses async
> sockets. It has to call F_SETFL on each new socket it opens.
Am I the only one missing an (additional) socket()-like sys-call with an
additional "flags" argument (somewhat similar to open())?
O_NONBLOCK is another flag that may be set quite often/regularly (at
least in my small world).
	Bernd
-- 
Firmix Software GmbH                   
http://www.firmix.at/
mobil: +43 664 4416156                 fax: +43 1 7890849-55
          Embedded Linux Development and Services