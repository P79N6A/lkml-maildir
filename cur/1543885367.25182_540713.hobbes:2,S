Date: Sun, 6 May 2007 14:22:34 -0600
From: Rob Sims <>
Subject: Re: sky2 PHY setup
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/5/6/116

On Sat, Apr 07, 2007 at 11:53:48AM -0600, Rob Sims wrote:
> On Wed, Apr 04, 2007 at 11:19:30AM -0700, Stephen Hemminger wrote:
... 
> > You might have over run the hub and it wedged.  Try doing:
> > 	ethtool -r eth0
> > that forces a down/up
> 
> I'm still seeing throughput drop to under 1 Mb/s (50-100kB/s)
> periodically.  I did an ethtool -S and ethtool -d to capture state.
> (sky2-fail.log).  I ran ethtool -r and retested; no change
> (sky2-ethtool-r.log).  Finally, ifdown - rmmod - modprobe - ifup, which
> restored to Gigabit speeds (96+ MB/s), (sky2-modcycle.log).
> 
> Please let me know if there's anything else I can poke into.  As a
> reminder, this is a 88E8053 r20.  Next time I see a degradation, I'll
> try cycling the switch.
I continued to have problems with this interface.  I tried bringing up
the second interface on the motherboard; I added a cable to the same hub
as the first interface and configured an address on the same subnet.
I intended to see if I could use it as a redundant interface for when
the first hung.  I haven't been able to test that, because now I haven't
seen a hang or slowdown since I brought the second interface up.  
Could the idle interface have generated an interrupt which is never
cleared because the interface is down?  Or something similar?
-- 
Rob
[unhandled content-type:application/pgp-signature]