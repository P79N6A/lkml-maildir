Date: Thu, 05 Sep 2002 01:12:49 +0200
From: Andreas Steinmetz <>
Subject: 2.4.20pre5 e100 build error + trivial fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/9/4/20

Hi,
the e100 driver in 2.4.20pre5 fails to build due to a static procedure 
declaration with an unresolved symbol (see below), trivial patch to fix 
this is attached.
ld -m elf_i386 -T 
/usr/src/ARCHIVE/kernel-2.4.20pre5/linux/arch/i386/vmlinux.lds -e stext 
arch/i386/kernel/head.o arch/i386/kernel/init_task.o init/main.o 
init/version.o init/do_mounts.o \
         --start-group \
         arch/i386/kernel/kernel.o arch/i386/mm/mm.o kernel/kernel.o 
mm/mm.o fs/fs.o ipc/ipc.o \
          drivers/char/char.o drivers/block/block.o drivers/misc/misc.o 
drivers/net/net.o drivers/media/media.o drivers/ide/idedriver.o 
drivers/cdrom/driver.o drivers/pci/driver.o drivers/video/video.o \
         net/network.o \
          \
         /usr/src/ARCHIVE/kernel-2.4.20pre5/linux/arch/i386/lib/lib.a 
/usr/src/ARCHIVE/kernel-2.4.20pre5/linux/lib/lib.a 
/usr/src/ARCHIVE/kernel-2.4.20pre5/linux/arch/i386/lib/lib.a \
         --end-group \
         -o vmlinux
drivers/net/net.o: In function `e100_diag_config_loopback':
drivers/net/net.o(.text+0x8a74): undefined reference to 
`e100_force_speed_duplex'
-- 
Andreas Steinmetz
D.O.M. Datenverarbeitung GmbH
--- drivers/net/e100/e100_phy.c.orig	2002-09-05 00:35:38.000000000 +0200
+++ drivers/net/e100/e100_phy.c	2002-09-05 01:03:32.000000000 +0200
@@ -622,7 +622,7 @@
  * Returns: void
  *
  */
-static void
+void
 e100_force_speed_duplex(struct e100_private *bdp)
 {
 	u16 control;