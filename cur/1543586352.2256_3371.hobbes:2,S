Date: Sat, 31 Mar 2001 19:32:48 +0400 (MSK DST)
From:  kuznet@ms2 ...
Subject: Re: IP layer bug?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/3/31/46

Hello!
> Hm. But comment in linux/skbuff.h says:
The comment is about more difficult case: transmit path,
where cb is used both by top level protocol and lower layers:
f.e. TCP -> IP -> device. cb is dirty from the moment of skb
creation in this case.
Also, note that the second sentence in the comment is obsolete.
Passing not cloned skbs between layers is strongly deprecated
practice (I hope it is not used in any place) and cb of skb entering
to lower layer is property of the layer.
RX path is simpler: cb must be kept clean, that's all.
General rule is minimization redundant clearings of the area.
> Why not document it somewhere, so that others will not fall into the same trap?
Indeed. 8) You got the experience, which you expect to be useful
for people, it is time to prepare some note recording this. 8)
Alexey
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/