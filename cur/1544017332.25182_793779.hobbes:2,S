Date: Sat, 17 Jan 2009 15:46:15 +0100
From: Christian Borntraeger <>
Subject: Re: 2.6.29-rc1: thinkpad problems during resume
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/17/58

Am Freitag 16 Januar 2009 schrieb Pavel Machek:
> Hi!
>
> > >> > Please let me know if that helped.
> > >>
> > >> I tested rc1+ these two reverts yesterday on my T61p. Doesnt work.
> > >> There must be at least one more patch that broke S2R on my thinkpad.
> > >> In fact, it is cpu hotplug that is broken (unplug works).
> > >
> > > I reproduced that: echo 0 > online works, echo 1 > online hangs. Will
> > > compile SMP-less kernel to verify that there are no more problems...
I made some progress on my T61p. git from yesterday + a revert of
commit e39ad415ac15116df213dfa2aa2a4f1b0857af9c
Author: Mike Travis <travis@sgi.com>
Date:   Sun Jan 4 05:18:10 2009 -0800
    cpumask: use work_on_cpu in acpi-cpufreq.c for read_measured_perf_ctrs
makes cpu hotplug working again. Resume from suspend to ram is still broken on 
my Thinkpad. Looks like there is yet another patch to find....
Ingo, Mike: reverting e39ad415ac15116df213dfa2aa2a4f1b0857af9c fixes cpu 
hotplug on my thinkpad. Any idea how to proceed? Should we revert that patch 
in Linus git until we know what was wrong?