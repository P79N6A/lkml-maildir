Date: 27 Mar 2003 23:42:49 -0800
From: "David S. Miller" <>
Subject: Re: BLKGETSIZE64 is broken (0x80041272)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/28/15

On Thu, 2003-03-27 at 18:42, Pete Zaitcev wrote:
> I was adding ioctl translations and found that BLKGETSIZE64
> equals 0x80041272, with wrong size. Apparently, a whole bunch
> of ioctls takes sizeof(sizeof(foo)), which evaluates to 4
> in 32 bit userland, regardless of the size of foo.
> Are we going to do anything about it?
Anton and I noticed this a few months ago, we just handle it
the way it needs to be in the ioctl32 translation layers of
ppc64 and sparc64.  I believe we even notified people such
as Andi Kleen at the time this was discovered by Anton.
-- 
David S. Miller <davem@redhat.com>
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/