Date: Wed, 8 Aug 2007 19:28:21 +0200
From: Olaf Hering <>
Subject: Re: [PATCH] remove binfmts.h from header exports
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/8/379

On Wed, Aug 08, Alexey Dobriyan wrote:
> > > And? Does it contain stuff which is userspace visible?
> > > binfmts.h has at least CORENAME_MAX_SIZE and SUID_DUMP_*
> >
> > Yes, its inside __KERNEL__.
> 
> Can't you accept for a second that some stuff under __KERNEL__
> was put there by mistake?
I wonder why the defines exist at all? My grep doesnt find SUID_DUMP_*.
Looking at the commit message from d6e711448137ca3301512cec41a2c2ce852b3d0a
...
    > >         if (current->euid == current->uid && current->egid == current->gid)
    > >                 current->mm->dumpable = 1;
    >
    > Should this be SUID_DUMP_USER?
    Actually the feedback I had from last time was that the SUID_ defines
    should go because its clearer to follow the numbers. They can go
    everywhere (and there are lots of places where dumpable is tested/used
    as a bool in untouched code)
...
Exporting a random array size is not very useful. The app and the kernel
has to check the string length anyway.
So lets remove the header and the 3 unused defines.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/