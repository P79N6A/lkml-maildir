Date: Thu, 04 Mar 1999 13:27:02 -0500
From: "Christopher W. Curtis" <>
Subject: bug in scsi_mod.c (kernel 2.2.2)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/4/102

Hello,
I'm not subscribed, so please Cc where appropriate...
I recently recieved a patch from grant@torque.net attempting to test
ppSCSI.  It appears to work fine on SMP machines, but my UP machine has
problems.  All code is compiled modularly, and here is the system and a
brief analysis:
The problem:
   insmod hangs inserting onscsi.o
The procedure:
   eclipse:~# insmod parport
   eclipse:~# insmod scsi_mod
   eclipse:~# insmod ppscsi
   eclipse:~# insmod sg
   eclipse:~# insmod onscsi verbose=2   ( --> hang )
The output from 'dmesg':
   ppSCSI 1.0 installed
   onscsi.1: signature 0xb5f
   onscsi.1: OnSpec 90c26 version 12
   onscsi.1: test port 0x378 mode 0 errors 0
   onscsi.1: Target 0, bl=36 us=0
   bug: kernel timer added twice at c406610d.
   onscsi.1: Command status 00010000 last phase 0
The trace: (insmod -m scsi_mod)
   Sections:       Size      Address   Align
   .this           0000004c  c4060000  2**2
   .text           00008180  c406004c  2**2
   .fixup          00000008  c40681cc  2**0
   .text.lock      000000dc  c40681d4  2**0
   .rodata         00003b8a  c40682b0  2**2
   __ex_table      00000008  c406be3c  2**2
   __ksymtab       00000108  c406be44  2**2
   .kstrtab        00000242  c406bf4c  2**0
   .data           00000d50  c406c190  2**2
   .bss            00000008  c406cee0  2**2
[...]
   c40660ac T scsi_sleep
   c406612c T scsi_send_eh_cmnd
[...]
I've heard rumors that this may be tickled with -ac7 ... I'm just
looking for someone to verify if this is so or not, and if it makes it
into 2.2.3 and then possibly if 2.2.3 will be coming out "soon".
Unfortunately I cannot spend a lot of time using Linux this week
(work...) so I'd rather not go too deep into bug chasing if at all
possible.  But I'll do what I can to help.
Thanks,
Christopher
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/