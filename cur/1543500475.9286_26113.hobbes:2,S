Date: Fri, 25 Jun 1999 16:40:43 +0900
From: NIIBE Yutaka <>
Subject: Re: PLIP
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/6/25/43

Thank you for the report.  You have more than one parallel port, don't you?
In such a case, please try this patch, and please let me know if it
stops the OOPS.
--- plip.c~	Thu Jun 17 16:40:13 1999
+++ plip.c	Fri Jun 25 16:39:20 1999
@@ -1257,6 +1257,7 @@
 			if (!dev_plip[i]->name) {
 				printk(KERN_ERR "plip: memory squeeze.\n");
 				kfree(dev_plip[i]);
+				dev_plip[i] = NULL;
 				break;
 			}
 			sprintf(dev_plip[i]->name, "plip%d", i);
@@ -1264,6 +1265,7 @@
 			if (plip_init_dev(dev_plip[i],pb) || register_netdev(dev_plip[i])) {
 				kfree(dev_plip[i]->name);
 				kfree(dev_plip[i]);
+				dev_plip[i] = NULL;
 			} else {
 				i++;
 			}
-- 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/