Date: Fri, 17 Sep 2004 15:51:05 -0700
From: Nishanth Aravamudan <>
Subject: Re: [patch] v4l: bttv update
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/9/17/257

On Thu, Sep 16, 2004 at 11:15:05AM +0200, Gerd Knorr wrote:
>   Hi,
> 
> This update for the bttv driver fixes kernel crashes when capturing
> planar yuv images.  It also added sanity checks for the bt878 risc
> code buffer sizes, adds support for a new tv card and has some minor
> code cleanups.
<snip>
> diff -up linux-2.6.9-rc2/drivers/media/video/bttv-driver.c linux/drivers/media/video/bttv-driver.c
> --- linux-2.6.9-rc2/drivers/media/video/bttv-driver.c	2004-09-14 10:37:08.000000000 +0200
> +++ linux/drivers/media/video/bttv-driver.c	2004-09-16 10:06:33.000000000 +0200
> @@ -1,4 +1,6 @@
>  /*
> +    $Id: bttv-driver.c,v 1.14 2004/09/15 16:15:24 kraxel Exp $
> +
>      bttv - Bt848 frame grabber driver
> 
>      Copyright (C) 1996,97,98 Ralph  Metzler <rjkm@thp.uni-koeln.de>
> @@ -743,8 +745,7 @@ static void set_pll(struct bttv *btv)
>          for (i=0; i<10; i++) {
>  		/*  Let other people run while the PLL stabilizes */
>  		vprintk(".");
> -		set_current_state(TASK_INTERRUPTIBLE);
> -		schedule_timeout(HZ/50);
> +		msleep(10);
My original patch used
msleep(20);
Is there a reason the conversion was changed?
-Nish
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/