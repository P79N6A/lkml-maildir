Date: Mon, 24 Jan 2000 17:29:29 -0000
From: "Norman Back" <>
Subject: RE: inodes are no longer constant across VFAT mounts at kernel 2.2.14
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/24/178

Hi Jeffrey
> > mv dir1 dir2 # dir2 has dir1's modification time
>
> dir2 should have an updated ctime.  Is there a way to get tar
> to use ctime
> instead of mtime?  If not, that should be added to tar.
If only it did update ctime but I tried it with vfat and ext2 and it
doesn't.
As kernel does not update ctime or mtime, when a directory is moved, it is a
kernel problem not a tar problem.
VFAT Filestore example:
df -k .
Filesystem           1k-blocks      Used Available Use% Mounted on
/dev/hda15                7972      4536      3436  57% /DRVL
mount . -fv
/dev/hda15 on /DRVL type vfat (rw)
stat dir1
  File: "dir1"
  Size: 4096         Filetype: Directory
  Mode: (0755/drwxr-xr-x)         Uid: (    0/    root)  Gid: (    0/
root)
Device:  3,15  Inode: 410       Links: 2
Access: Wed Jan 12 17:32:48 2000(00011.17:20:54)
Modify: Wed Jan 12 17:32:48 2000(00011.17:20:54)
Change: Wed Jan 12 17:32:48 2000(00011.17:20:54)
mv dir1 dir2
stat dir2
  File: "dir2"
  Size: 4096         Filetype: Directory
  Mode: (0755/drwxr-xr-x)         Uid: (    0/    root)  Gid: (    0/
root)
Device:  3,15  Inode: 411       Links: 2
Access: Wed Jan 12 17:32:48 2000(00011.17:20:54)
Modify: Wed Jan 12 17:32:48 2000(00011.17:20:54)
Change: Wed Jan 12 17:32:48 2000(00011.17:20:54)
EXT2 Filestore example:
df -k .
Filesystem           1k-blocks      Used Available Use% Mounted on
/dev/hda14              995115    807542    136167  86% /
mount / -fv
/dev/hda14 on / type ext2 (rw)
stat dir1
  File: "dir1"
  Size: 1024         Filetype: Directory
  Mode: (0755/drwxr-xr-x)         Uid: (    0/    root)  Gid: (    0/
root)
Device:  3,14  Inode: 181840    Links: 3
Access: Mon Jan 24 10:46:54 2000(00000.00:08:53)
Modify: Sun Nov  7 16:59:31 1999(00077.17:56:16)
Change: Sun Nov  7 16:59:31 1999(00077.17:56:16)
mv dir1 dir2
stat dir2
  File: "dir2"
  Size: 1024         Filetype: Directory
  Mode: (0755/drwxr-xr-x)         Uid: (    0/    root)  Gid: (    0/
root)
Device:  3,14  Inode: 181840    Links: 3
Access: Mon Jan 24 10:46:54 2000(00000.00:08:53)
Modify: Sun Nov  7 16:59:31 1999(00077.17:56:16)
Change: Sun Nov  7 16:59:31 1999(00077.17:56:16)
Norman
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/