Date: 17 Jul 2003 22:27:57 -0400
From: "James H. Cloos Jr." <>
Subject: Re: SET_MODULE_OWNER
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/17/359

>>>>> "David" == David S Miller <davem@redhat.com> writes:
>> Can't shutdown the system either. Init hangs waiting for
>> modprobe to die.
As this happened to me too, when I wanted to try out the new e100
module w/o rebooting, I'll pipe in below.
David> That's a bug we need to fix.
David> What driver are you using? 
e100.ko
David> Are you using ipv6? 
Yes, compiled in.
David> Any netfilter modules?
Yes, a basic firewall + nat, with eth0 as the inside and ppp0 outside.
It is a mix of compiled in and modular.
David> Anything else interesting or "unique" about your
David> particular setup?
It used to be rmmod would fail until all of the sockets were closed.
Instead it just hung.  Attempting to shutdown network services to
free any eth0 sockets didn't help.  A reboot attempt also hung as
per above.  Had to use SysRq to sync/umount/boot.
The exact .config is available in bk://cloos.bkbits.net/linux-2.5-jhc
as of the revision dated 2003/06/28.  That was between 2.5.73 and .74.
-JimC
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/