Date: Fri, 02 Jul 1999 18:39:34 +0200
From: "Dirk W. Steinberg" <>
Subject: Re: Serial Port COM1 under Linux on IBM ThinkPad 770X
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/2/103

Alan Cox wrote:
> 
> >    0 crw-rw----   1 root     dialout    4,  64 Feb 23 04:42 /dev/ttyS0
> >    0 crw-rw----   1 root     dialout    4,  65 Feb 23 04:42 /dev/ttyS1
> > root@ibmtop:pts/0 ~ # cu -l /dev/ttyS0
> > cu: open (/dev/ttyS0): Permission denied
> > cu: /dev/ttyS0: Line in use
> > zsh: 5731 exit 1     cu -l /dev/ttyS0
> >
> > >From strace cu:
> > open("/dev/ttyS0", O_RDWR|O_NONBLOCK)   = -1 EACCES (Permission denied)
> >
> > But this is as superuser (root). How is this possible at all?
> 
> cu is setuid to uucp on some systems.  Unless you have a deep desire to
> inflict cu on yourself in the name of tradition try playing with minicom.
> If you want to suffer cu then chmod it so its not setuid uucp
root@ibmtop:pts/0 ~ # ll =cu                           
 120 -rwxr-xr-x   1 root     root       121156 Apr 21 22:22 /usr/bin/cu*
The cu binary is from Debian 2.2 (potato)
root@ibmtop:pts/0 ~ # dpkg -S =cu
uucp: /usr/bin/cu
As you can see, cu is not suid root. But you were 
still right in a sense:
root@ibmtop:pts/0 ~ # strace cu -l /dev/ttyS0 |& grep setuid
setuid(10)                              = 0
Uid 10 is uucp. I do consider this strange behaviour.
Anyway, I prefer a simple command line tool like cu to a 
menu-driven thing like minicom.
All of this still doesn't solve my problem, though.
Thanks for the help, anyway,
	Dirk
-- 
Dipl.-Ing. Dirk W. Steinberg
__________________________________________________
Consultant Technologieberatung Informationssysteme
DETECON GmbH,  Oberkasseler Strasse 2,  53227 Bonn
Tel.:  (0228) 700-1277    Fax:     (0228) 700-1157   
Mobil: (0171) 221 6585    Internet: www.detecon.de
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/