Date: Sun, 29 Jan 2006 17:02:20 -0500
From: Trond Myklebust <>
Subject: Re: 2.6.15.1: persistent nasty hang in sync_page killing NFS (ne2k-pci / DP83815-related?), i686/PIII
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/1/29/144

On Sun, 2006-01-29 at 21:54 +0000, Nix wrote:
> (and surely if it was just packet loss, we wouldn't see *every* packet
> getting lost, for *hours*, as we saw here? I left five UDP NFS sessions
> frozen on Saturday night, and they were still frozen on Sunday morning,
> several NFS servers sending the same data to the failing client over and
> over every two seconds without fail, and the client seemingly
> disregarding all of it.)
As a general rule of thumb: if tcpdump/ethereal can see the reply on the
client, then the engine socket should see it too. If tcpdump is indeed
seeing those replies, you should check the RPC code by
setting /proc/sys/sunrpc/rpc_debug to 1.
If not, then perhaps you should try the debugging settings on your NIC
driver.
Cheers,
  Trond
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/