Date: Fri, 24 Aug 2001 17:19:07 -0300 (BRST)
From: Rik van Riel <>
Subject: Re: [resent PATCH] Re: very slow parallel read performance
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/8/24/110

On Fri, 24 Aug 2001, Daniel Phillips wrote:
> On August 24, 2001 07:43 pm, Rik van Riel wrote:
> > 1) under memory pressure, the inactive_dirty list is
> >    only as large as 1 second of pageout IO, meaning
> 		      ^^^^^^^^
> This is the problem.  In the absense of competition and truly
> active pages, the inactive queue should just grow until it is
> much larger than the active ring.  Then the replacement policy
> will naturally become fifo, which is exactly what you want in
> your example.
Actually, no.  FIFO would be ok if you had ONE readahead
stream going on, but when you have multiple readahead
streams going on you want to evict the data each of the
streams has already used, and not all the readahead data
which happened to be read in first.
> Anyway, this is a theoretical problem, we haven't seen it in the
> wild yet, or a test load that demonstrates it.
I've seen it in the wild, have given you a test load and
have shown you the arithmetic explaining what's going on.
How long will you continue ignoring things which aren't
convenient to your idea of the world ?
regards,
Rik
--
IA64: a worthy successor to the i860.
		
http://www.surriel.com/
http://www.conectiva.com/
	
http://distro.conectiva.com/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/