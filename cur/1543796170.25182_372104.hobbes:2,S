Date: Thu, 01 Dec 2005 16:09:45 -0500
From: Mark Lord <>
Subject: Re: [PATCH] Fix bytecount result from printk()
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/1/233

Andi Kleen wrote:
> "David S. Miller" <davem@davemloft.net> writes:
..
>>Wow, that's amazing. :)
> 
> Taking the blame.
> 
>>I bet these can easily be removed, and since printk() is such
>>a core thing, simplifying it should trump whatever benfits
>>these few call sites have from getting a return byte count.
> 
> I used it for linewrapping in the oops output.
...
> Actually I would expect more users from sprintf and snprintf
> (e.g. common in /proc output to compute the return value of the read) 
> and that is exactly the same code path.
When I grep the 2.6.15-rc3 kernel tree, the *only* use of vprintk
seems to be for doing printk().  It does not seem to be used for
the sprintf/snprintf functions.  Actually it is the other way around,
where vprintk() calls those functions.
So no problem there, and vprintk() really doesn't need to return anything.
Cheers
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/