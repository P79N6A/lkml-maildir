Date: Fri, 11 Jun 2004 12:24:01 -0400
From: Jeff Garzik <>
Subject: Re: flush cache range proposal (was Re: ide errors in 7-rc1-mm1 and later)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/6/11/98

Jens Axboe wrote:
> On Thu, Jun 10 2004, Jeff Garzik wrote:
> 
>>Oh, also:
>>
>>We'll need to write up precisely _why_ this is used, and give some 
>>examples of usage, for people reading the proposal (mostly T13-ish 
>>people) who have not been following the lkml barrier discussion closely.
> 
> 
> Proposal looks fine, but please lets not forget that flush cache range
> is really a band-aid because we don't have a proper ordered write in the
> first place. Personally, I'd much rather see that implemented than flush
> cache range. It would be way more effective.
Certainly agreed, and that was the gist of the reply just sent to Eric: 
  moving forward, implementing barriers should be done with new "NCQ" 
commands and FUA, or something along those lines.
New drives will continue to come out that aren't in the NCQ class for a 
while yet, though.
	Jeff
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/