Date: Tue, 6 Jan 2009 16:10:06 +0000
From: Matt Fleming <>
Subject: Re: [PATCH] Fixes and enhancements for the MMC SPI driver
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/6/195

On Tue, Jan 06, 2009 at 03:17:01PM +0100, Wolfgang M??es wrote:
> +
> +	/* The MMC framework does a good job of computing timeouts
> +           according to the mmc/sd standard. However, we found that in
> +           SPI mode, there are many cards which need a longer timeout
> +           of 1s after receiving a long stream of write data. */
> +	struct timeval tv = ktime_to_timeval(timeout);
> +	if (tv.tv_sec == 0)
> +		timeout = ktime_set(1,0);	
> 
Which cards are you having issues with?
Modifying the code to no longer abide by the standard doesn't seem like a
win to me.