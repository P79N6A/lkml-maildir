Date: Sat, 27 Dec 2003 14:57:53 -0500
From:  ima.sudonim@verizon ...
Subject: 2.6-test11 kernel gives ppc build error
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/27/70

Hi,
I have been lurking on the list for about a month, and am obviously a 
newbie at this.
I have been running a 2.4.22 kernel for a while, but was hoping to move 
up to 2.6 for a variety of reasons. I have a minimal 2.6 kernel 
running, but when I try to add sound support for my apple g3 powerbook, 
I now get an error linking vmlinux
Right now I am getting an ld error
LD .tmp_vmlinux1
drivers/built-in.o(.text+0x2ff6c): In function 'start_request': 
undefined refrence to '__udivdi3'
drivers/built-in.o(.text+0x2ff6c): relocation truncated to fit: 
R_PPC_REL24 __udivdi3
drivers/built-in.o(.text+0x2ff84): In function 'start_request': 
undefined refrence to '__umoddi3'
drivers/built-in.o(.text+0x2ff84): relocation truncated to fit: 
R_PPC_REL24 __umoddi3
make: *** [.tmp_vmlinux1] Error 1
I am using benh's ppc source with yellowdog linux 3.01 on an apple G3 
powerbook (pismo)
Other than some 'defined but not used' warnings, the compile was pretty 
clean: for example,
CC [M] sound/oss/dmasound/tas3004.o
sound/oss/dmasound/tas3004.c:332:warning 'tas3004_read_register' 
defined but not used
I'm assuming that the 20 or so 'defined but not used' can be safely 
ignored as either old code no loonger used or new code not yet used, 
but what about the umoddi3, udivd3? Are they powerpc instructions or am 
I missing a C math library somewhere?
I'm supposing that I should not try to use any kernel generated by ld 
that resulted in errors... 8-(
Thanks for any help that you may give!
I will try to follow any discussion on the list, but do not subscribe. 
I will forward summaries of anything cc:ed to me to the list. Sorry for 
the trouble...
I.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/