Date: 30 Oct 1999 19:14:33 +0200
From: lars brinkhoff <>
Subject: [PATCH] make tags
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/30/28

Patch against Linux 2.3.24.  It provides two new make targets:
tags and tags-no-drivers.  They will produce TAGS files with
and without the source files in drivers, respectively.
--- linux/Makefile.orig Sat Oct 30 19:09:50 1999
+++ linux/Makefile      Sat Oct 30 19:10:37 1999
@@ -224,6 +224,10 @@
 
 include arch/$(ARCH)/Makefile
 
+TAGS_DIRS = $(SUBDIRS) init include/asm-$(ARCH) include/asm-generic \
+           include/linux include/net include/pcmcia include/scsi   \
+           include/video
+
 .S.s:
        $(CC) -D__ASSEMBLY__ $(AFLAGS) -traditional -E -o $*.s $<
 .S.o:
@@ -434,6 +438,14 @@
        scripts/mkdep init/*.c > .depend
        scripts/mkdep `find $(FINDHPATH) -follow -name \*.h ! -name modversions.h -print` > .hdepend
        $(MAKE) $(patsubst %,_sfdep_%,$(SUBDIRS)) _FASTDEP_ALL_SUB_DIRS="$(SUBDIRS)"
+
+tags-no-drivers:
+       rm -f TAGS
+       find `echo $(TAGS_DIRS) | sed -e 's/drivers//'` -name '*.[chsS]' | \
+           xargs etags -a
+
+tags: tags-no-drivers
+       find drivers -name '*.[chsS]' | xargs etags -a
 
 MODVERFILE :=
 
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/