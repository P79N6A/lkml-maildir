Date: Fri, 27 Apr 2001 20:32:57 +0100
From: "D.W.Howells" <>
Subject: [PATCH] rw_semaphores, exported symbol non-versioning
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/4/27/105

This patch (made against linux-2.4.4-pre8) turns off module export versioning 
on the rwsem symbols called from inline assembly.
David
diff -uNr linux-2.4.4-pre8/lib/rwsem.c linux-rwsem/lib/rwsem.c
--- linux-2.4.4-pre8/lib/rwsem.c	Fri Apr 27 20:10:11 2001
+++ linux-rwsem/lib/rwsem.c	Fri Apr 27 20:27:03 2001
@@ -202,9 +202,9 @@
 	return sem;
 }
 
-EXPORT_SYMBOL(rwsem_down_read_failed);
-EXPORT_SYMBOL(rwsem_down_write_failed);
-EXPORT_SYMBOL(rwsem_wake);
+EXPORT_SYMBOL_NOVERS(rwsem_down_read_failed);
+EXPORT_SYMBOL_NOVERS(rwsem_down_write_failed);
+EXPORT_SYMBOL_NOVERS(rwsem_wake);
 #if RWSEM_DEBUG
 EXPORT_SYMBOL(rwsemtrace);
 #endif