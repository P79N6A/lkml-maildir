Date: Fri, 09 Jul 1999 15:09:45 +0200
From: Matthias Riese <>
Subject: Re: mount options for root
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/9/48

Matthew Wilcox wrote:
> 
> On Fri, Jul 09, 1999 at 01:04:10PM +0200, Matthias Riese wrote:
> > I want to pass ext2 specific mount options for mounting /
> 
> Are they options that need to be specified before / is mounted
> read-only for the filesystem check?  If they are not, you can simply
> specify them in /etc/fstab and they will get set when the filesystem
> is remounted read-write.  For example:
> 
It's acl=yes.
This was my first trial, but I could not get it working.
I would have to change code in VFS. But:
/*
 * Alters the mount flags of a mounted file system. Only the mount point
 * is used as a reference - file system type and the device are ignored.
 * FS-specific mount options can't be altered by remounting.
 */
static int do_remount_sb(struct super_block *sb, int flags, char *data)
Seems to be a bad idea to change mount options this way?
So I left my hands off.
> $ cat /etc/mtab
> /dev/sda3 / ext2 rw,errors=remount-ro 0 0
Yes, got this too, but without the option actually enabled.
Seems to be a bug. vfsmnt entries (or whatever /etc/mtab is written from) get updated - but not the superblock.
Matthias Riese
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/