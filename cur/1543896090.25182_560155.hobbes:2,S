Date: Wed, 20 Jun 2007 08:54:11 -0700 (PDT)
From: Davide Libenzi <>
Subject: Re: Fix signalfd interaction with thread-private signals
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/20/175

On Wed, 20 Jun 2007, Benjamin Herrenschmidt wrote:
> On Tue, 2007-06-19 at 19:15 -0700, Davide Libenzi wrote:
> 
> > Ok, why instead don't we go for something like the attached patch?
> > We exclude sync signals from signalfd, but we don't limit signalfd to 
> > shared signals. Ie, we should be able to fetch a signal sent with 
> > sys_tkill() to threads different from "current", that otherwise we would 
> > not be able to fetch.
> > Ben, sorry but my memory sucks ... the "notifier" thing was fine in that 
> > case, no?
> 
> I'm generally nervous about the idea of letting signalfd dequeue
> somebody else private signals... even if we filter out SEGV's and
> friends but I'll let Linus decide there.
> 
> Regarding the notifier, it's dodgy in most cases I'd say but I suppose
> it should be allright to only worry about "current" and not the target
> task there.
I believe that once we exclude synchronous signals from being dequeued, we 
should be fine. Limiting all signals sent with sys_tkill() from being 
dequeued with a signalfd is a too restricting behaviour IMO.
- Davide
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/