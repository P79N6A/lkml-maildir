Date: Mon, 28 Jul 2003 18:04:40 -0400
From: Paul Mundt <>
Subject: Re: rivafb still broken in 2.6.0-test2?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/28/290

On Mon, Jul 28, 2003 at 08:28:22PM +0200, Thomas Themel wrote:
> The original problem was encountered on a UP kernel running ACPI, local
> APIC and MTRR support, but removing these features didn't help.
> 
> This is what rivafb has to say:
> 
> rivafb: nVidia device/chipset 10DE0171
> rivafb: Detected CRTC controller 0 being used
> rivafb: PCI nVidia NV20 framebuffer ver 0.9.5b (nVidiaGeForce4-M, 64MB @ 0xD0000000)
> Console: switching to colour frame buffer device 80x30
> 
> with MTRR enabled, it's:
> 
> rivafb: nVidia device/chipset 10DE0171
> rivafb: Detected CRTC controller 0 being used
> rivafb: RIVA MTRR set to ON
> rivafb: PCI nVidia NV20 framebuffer ver 0.9.5b (nVidiaGeForce4-M, 64MB @ 0xD0000000)
> Console: switching to colour frame buffer device 80x30
> 
> but gives the same result. Is this supposed to work? 
> 
Not sure about the GeForce4's, but I can attest that rivafb works fine under
-test1 and -test2 on my GeForce2:
rivafb: nVidia device/chipset 10DE0150
rivafb: RIVA MTRR set to ON
rivafb: PCI nVidia NV10 framebuffer ver 0.9.5b (nVidiaGeForce2-G, 32MB @ 0xE8000000)
Console: switching to colour frame buffer device 128x48
I'm running on SMP, and don't have ACPI enabled. MTRR support also works fine
for me.
The problem you have seems isolated to your board/chip.
[unhandled content-type:application/pgp-signature]