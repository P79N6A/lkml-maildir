Date: Fri, 27 Aug 1999 23:53:49 +0200
From: Artur Frysiak <>
Subject: Oops: 2.2.11 and IPv6
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/8/27/124

Hi
I catch oops with Linux 2.2.11 (+ tcp patches).
Scenario:
- wiget.ipv6 <-(autotunnel sit0)-> 6bone-gw <-(sit1)-> kerb.ipv6 <-(sit1)->
  pingwin.ipv6 
- (from pingwin.ipv6)
  telnet wiget.ipv6 80
- oops
ksymoops 0.7c on i586 2.2.11.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.2.11/ (default)
     -m /boot/System.map (specified)
Warning (compare_ksyms_lsmod): module snd-card-gusclassic is in lsmod but not in ksyms, probably no symbols exported
current->tss.cr3 = 00101000, %cer = 00101000
*pde = 00000000
Oops: 0000
CPU: 0
EIP: 0010:[<c4825f47>]
Using defaults from ksymoops -t elf32-i386 -a i386
eax: c249e360   ebx: c3403320    ecx: c249e360     edx: 00000004
esi: 00000000   edi: c34033d0     ebp: c3403320       esp: c01d584
ds: 0018 es: 0018 ss: 0018
Stack: 00000006 c0bd1864 00509e04 00000050 00000002 c3403430 c0bd187c c0bd186c
       00000500 c0db186c c249e360 c0bd187c fffffff4 c481e1ed 00000018 c249e360
       c1f53780 0000048c c249e360 c1f55840 fffffff4 c0bd186c 00000002 c3403320
Call Trace: [<c481e1ed>] [<c481e256>] [<c4823409>] [<c4822165>] [<c4823732>] [<c4826b60>] [<c482d540>]
            [<c482cb60>] [<c482ce1c>] [<c4818c4c>] [<c482d118>] [<c014fc96>] [<c4818a62>] [<c014ff81>] [<co147df1>]
            [<c482cb60>] [<c482d118>] [<co115edd>] [<c018c13>] [<c0108878>] [<c0106281>] [<c0106000>] [<c01062a4>]
            [<c01079b4>] [<c0106000>] [<c010607b>] [<c0106000>] [<c0100176>]
Code: 86 46 34 85 c0 74 0a f7 d8 89 83 54 02 00 00 eb 46 20         
>>EIP; c4825f47 <[ipv6]tcp_v6_err+2e7/4c0>   <=====
Trace; c481e1ed <[ipv6]fib6_add_rt2node+b9/e0>
Trace; c481e256 <[ipv6]fib6_add+42/d0>
Trace; c4823409 <[ipv6]icmpv6_notify+99/fc>
Trace; c4822165 <[ipv6]raw_v6_lookup+21/dc>
Trace; c4823732 <[ipv6]icmpv6_rcv+2c6/2f4>
Trace; c4826b60 <[ipv6]tcp_v6_send_reset+7c/1d4>
Trace; c482d540 <[ipv6]icmpv6_protocol+0/18>
Trace; c482cb60 <[ipv6]ipip6_fb_tunnel_dev+0/e0>
Trace; c482ce1c <[ipv6]ip6_routing_table+0/1c>
Trace; c4818c4c <[ipv6]ip6_input+c8/128>
Trace; c482d118 <[ipv6]ipv6_packet_type+0/14>
Trace; c014fc96 <ip_local_deliver+13e/18c>
Trace; c4818a62 <[ipv6]ipv6_rcv+b6/e8>
Trace; c014ff81 <ip_rcv+29d/2cc>
Trace; c482cb60 <[ipv6]ipip6_fb_tunnel_dev+0/e0>
Trace; c482d118 <[ipv6]ipv6_packet_type+0/14>
Trace; c01079b4 <system_call+34/40>
Trace; c0106000 <get_options+0/74>
Trace; c010607b <cpu_idle+7/18>
Trace; c0106000 <get_options+0/74>
Trace; c0100176 <L6+0/2>
Code;  c4825f47 <[ipv6]tcp_v6_err+2e7/4c0>
00000000 <_EIP>:
Code;  c4825f47 <[ipv6]tcp_v6_err+2e7/4c0>   <=====
   0:   86 46 34                  xchgb  %al,0x34(%esi)   <=====
Code;  c4825f4a <[ipv6]tcp_v6_err+2ea/4c0>
   3:   85 c0                     testl  %eax,%eax
Code;  c4825f4c <[ipv6]tcp_v6_err+2ec/4c0>
   5:   74 0a                     je     11 <_EIP+0x11> c4825f58 <[ipv6]tcp_v6_err+2f8/4c0>
Code;  c4825f4e <[ipv6]tcp_v6_err+2ee/4c0>
   7:   f7 d8                     negl   %eax
Code;  c4825f50 <[ipv6]tcp_v6_err+2f0/4c0>
   9:   89 83 54 02 00 00         movl   %eax,0x254(%ebx)
Code;  c4825f56 <[ipv6]tcp_v6_err+2f6/4c0>
   f:   eb 46                     jmp    57 <_EIP+0x57> c4825f9e <[ipv6]tcp_v6_err+33e/4c0>
Code;  c4825f58 <[ipv6]tcp_v6_err+2f8/4c0>
  11:   20 00                     andb   %al,(%eax)
1 warning issued.  Results may not be reliable.
-------------------- cut ------------------------
Some variable maybe wrong because I save this oops 'by-hand' at paper.
If I connect to machine local (::1) or from direct connected machine (via
LAN) then all work ok.
Wiget
-- 
  __    __ _            _
 / / /\ \ (_) __ _  ___| |_  @__mail:  Artur Frysiak
 \ \/  \/ / |/ _` |/ _ \ __|            Rudlice 10
  \  /\  /| | (_| |  __/ |_           98-311 Ostrowek
   \/  \/ |_|\__, |\___|\__|
             |___/           email:   Wiget@t17.ds.pwr.wroc.pl
PGP key: 
http://www.t17.ds.pwr.wroc.pl/~wiget/pgp.key
Fingerprint16 = 70 DB E0 2D 12 AB C7 31  B6 58 B5 61 B3 98 B6 E6
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/