Date: 10 May 2001 17:13:15 +0200
From: Yann Dupont <>
Subject: Deadlock/crash with Quad tulip card in 2.4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/5/10/52

Hello. I'm having problem with Quad eth100 tulip (digital 21140) cards.
The machine was acting as a bridge with kernel 2.2 very reliably.
Now, when I boot 2.4.4-ac6, the machine hangs - no oops, nothing. Just
hang.
even CTRL-Scroll lock does nothing.
I supected a bridge problem (I know 2.2  & 2.4 bridge are different) But
it's not the case as I reproduce the bug on another machine (with
another motherboard. kernel 2.4.4-ac6 where the bridge is not
configured.)
single boot is OK,
ifconfig eth0 up is ok (MII negotiation is OK)
ifconfig eth1 up crash the machine -
on another boot i tried this :
ifconfig eth0 up
ifconfig eth0 down
ifconfig eth1 up is OK
ifconfig eth1 down ... etc etc
This works as long as only one interface is up. 
If only 1 interface is up, the machine works reliably.
just putting 2 interfaces up hang the machine.
Can this be an  IRQ sharing / bridge  problem  ??? (all interface shares
the same IRQ and are after a bridge)
I don't know if this is ac-series specific. I'll try tomorrow.
Any Idea how I can test further ? Without oops it's not easy...
Yann Dupont.
-- 
\|/ ____ \|/ Fac. des sciences de Nantes-Linux-Python-IPv6-ATM-BONOM....
"@'/ ,. \@"  Tel :(+33) [0]251125865(AM)[0]251125857(PM)[0]251125868(Fax)
/_| \__/ |_\ Yann.Dupont@sciences.univ-nantes.fr
   \__U_/    
http://www.unantes.univ-nantes.fr/~dupont
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/