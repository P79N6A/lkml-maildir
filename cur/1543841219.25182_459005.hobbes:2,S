Date: Wed, 30 Aug 2006 08:33:36 -0700
From: "Kaz Kylheku" <>
Subject: How to prevent an object file from being thrown away?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/8/30/127

I have an object file which contains only static objects and functions.
One of them is marked __init, and annotated with a late_initcall().
However, the file, which is added to a lib.a archive, is still
ultimately thrown away by the linker. 
I can solve it with a dummy reference to a symbol in that file from
another module, but is there some "officially blessed" Linux kernel
Makefile trick to make the linker do the
--whole-archive/--no-whole-archive around a particular lib.a?
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/