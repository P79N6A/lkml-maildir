Date: Thu, 13 Jan 2000 16:03:04 +0000 (GMT)
From: Tigran Aivazian <>
Subject: (final?) Re: [idea] request_module(const char *fmt, ...);
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/13/192

On Thu, 13 Jan 2000, Jamie Lokier wrote:
> Why don't you compile with
> 
>    (a) calls to request_module()
>    (b) no calls
> 
> and see how much difference it makes to the kernel size? 
Manfred has done that already and found the difference for uncompressed
kernel image to be around 670 bytes in typical compile.
> You can use this though:
> 
> #define request_modulef(fmt...) ((void) 0)
or, even better
#define request_modulef(fmt...) ({ -EINVAL; })
Oh, well, looks like another instance of the patch is in order:
  
http://www.ocston.org/~tigran/patches/kmod-2.3.40-p1-macro.patch
Hopefully, this is the last one...
Apologies if my idea of enhancing request_module() caused your mailboxes
to exceed the disk quota.
Tigran.
PS. To summarize:
  
http://www.ocston.org/~tigran/patches/kmod-2.3.40-p1-inline.patch
  (with static inline but now we know it is useless)
  
http://www.ocston.org/~tigran/patches/kmod-2.3.40-p1-func.patch
  (with real function call but wastes 670 bytes of vmlinux)
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/