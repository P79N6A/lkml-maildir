Date: Mon, 19 Jun 2006 06:36:26 -0700
From: Stephane Eranian <>
Subject: Re: [PATCH 5/16] 2.6.17-rc6 perfmon2 patch for review: new sysfs support
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2006/6/19/164

Chuck,
On Sat, Jun 17, 2006 at 11:36:36PM -0400, Chuck Ebbert wrote:
> In-Reply-To: <200606150907.k5F97YtU008130@frankl.hpl.hp.com>
> 
> On Thu, 15 Jun 2006 02:07:34 -0700, Stephane Eranian wrote:
> 
> > --- linux-2.6.17-rc6.orig/perfmon/perfmon_sysfs.c     1969-12-31 16:00:00.000000000 -0800
> > +++ linux-2.6.17-rc6/perfmon/perfmon_sysfs.c  2006-06-08 05:36:31.000000000 -0700
>  ...
> > +struct pfm_controls pfm_controls = {
> > +     .sys_group = PFM_GROUP_PERM_ANY,
> > +     .task_group = PFM_GROUP_PERM_ANY,
> > +     .arg_size_max = PAGE_SIZE,
> > +     .smpl_buf_size_max = ~0,
> > +};
> 
> This means that by default anyone can create monitoring sessions.
Yes.
> It should start out as restrictive as possible; the admin can relax
> permissions as needed.
> 
I would expect distros to set it in a more restrictive way. That is what
I have observed with the Resources Limits such as RLIMIT_MEMLOCK, for instance.
I am not sure what the mainline policy is on this.
I am glad you looked at that permission code because I found a bug there
related to sys_group/task_group.
Thanks.
-- 
-Stephane
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/