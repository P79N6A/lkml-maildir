Date: Tue, 19 Feb 2008 13:37:55 -0800
From: Mike Travis <>
Subject: Re: [PATCH] x86_64: remove never used nodenumer in pda
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/19/426

Andi Kleen wrote:
>> (And of course the problem with cpus on nodes with no local memory
>> needs to be resolved as well.)
> 
> All CPUs get assigned to some node at boot.
> 
> And there should be always per cpu variables or pda to use.
Sorry, I was being vague.  Mel Gorman found a problem that appears
linked to the change to 16-bit apicids on an AMD box that has 4
nodes, but nodes 1-3 have no memory, and the system panics during
cpu_up() on the 2nd cpu which is on node 1.
I've not yet been able to replicate the problem.
Thanks,
Mike