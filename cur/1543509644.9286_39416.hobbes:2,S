Date: 16 Sep 1999 23:23:27 -0400
From: Todd Sabin <>
Subject: BUG(?) read-ahead way past end of file?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/16/171

Hi,
On 2.3.18, when copying files off of a CD, I get lots of 
Sep 16 16:13:31 banzai3 kernel: _isofs_bmap: block >= EOF (1726, 3532800)  
Sep 16 16:13:31 banzai3 kernel: _isofs_bmap: block >= EOF (1727, 3532800)  
Sep 16 16:13:31 banzai3 kernel: _isofs_bmap: block >= EOF (1728, 3532800)  
[...]
Sep 16 16:13:32 banzai3 kernel: _isofs_bmap: block >= EOF (1761, 3532800)  
The messages come from a warning in fs/isofs/inode.c about trying to
get a block beyond the end of the file.  After looking through the
code, it seems clear that this is caused by the read-ahead code in
mm/filemap.c, which doesn't seem to pay enough attention to
inode->i_size.
Of course, I can just delete the warning, but that's probably just
fixing the symptom.  I'm not at all familiar with the
page-cache/read-ahead stuff, so I ask the gurus:  is this supposed
to be this way?
N.B., this doesn't seem to be isolated to isofs, it just so happens
that isofs outputs a warning...
Todd
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/