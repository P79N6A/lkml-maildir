Date: Wed, 30 Jan 2008 22:02:12 +0200
From: Adrian Bunk <>
Subject: [2.6 patch] parport_ECP_supported() mustn't be __devinit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/30/428

This patch fixes the following section mismatch:
<--  snip  -->
...
WARNING: drivers/parport/built-in.o(.text+0x45ed): Section mismatch in reference from the function parport_pc_probe_port() to the function .devinit.text:parport_ECP_supported()
...
<--  snip  -->
Signed-off-by: Adrian Bunk <bunk@kernel.org>
---
10388dc9a0e499125508eaae2c0e60d82859f5e6 
diff --git a/drivers/parport/parport_pc.c b/drivers/parport/parport_pc.c
index e9743d3..69b75ab 100644
--- a/drivers/parport/parport_pc.c
+++ b/drivers/parport/parport_pc.c
@@ -1736,7 +1736,7 @@ static int parport_PS2_supported(struct parport *pb)
 }
 
 #ifdef CONFIG_PARPORT_PC_FIFO
-static int __devinit parport_ECP_supported(struct parport *pb)
+static int parport_ECP_supported(struct parport *pb)
 {
 	int i;
 	int config, configb;
@@ -1960,7 +1960,7 @@ static int parport_ECPEPP_supported(struct parport *pb)
 /* Don't bother probing for modes we know we won't use. */
 static int __devinit parport_PS2_supported(struct parport *pb) { return 0; }
 #ifdef CONFIG_PARPORT_PC_FIFO
-static int __devinit parport_ECP_supported(struct parport *pb) { return 0; }
+static int parport_ECP_supported(struct parport *pb) { return 0; }
 #endif
 static int __devinit parport_EPP_supported(struct parport *pb) { return 0; }
 static int __devinit parport_ECPEPP_supported(struct parport *pb){return 0;}