Date: Tue, 31 Oct 2000 02:05:49 -0800
From: John Kennedy <>
Subject: Re: [PATCH] Re: test10-pre7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/31/72

On Mon, Oct 30, 2000 at 03:34:44PM -0500, Alexander Viro wrote:
> Unfortunately, it doesn't fix the thing. ->sync_page() is called ...
> Minimal patch (against -pre7) follows. It still leaves sync_page() problem
> open - any suggestions on that one are very welcome. ...
  I needed to patch your patch to get it to compile.
--- ./mm/filemap.c.OLD	Mon Oct 30 23:00:35 2000
+++ ./mm/filemap.c	Mon Oct 30 23:11:26 2000
@@ -2313,9 +2313,9 @@
 				void *data)
 {
 	struct page *page;
+	int err;
 retry:
 	page = __read_cache_page(mapping, index, filler, data);
-	int err;
 
 	if (IS_ERR(page) || Page_Uptodate(page))
 		goto out;