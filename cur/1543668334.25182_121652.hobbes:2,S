Date: Mon, 31 Mar 2003 23:06:21 +0200
From: Adrian Bunk <>
Subject: [2.4 patch] trident 1/1 fix operator precedence bug
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/3/31/119

The patch below by John Levon is already in 2.5. Muli Ben-Yehuda wrote:
<--  snip  -->
Fix an operator precedence bug that caused a comparison to always
return false. Patch from John Levon <levon@movementarian.org>. Tested,
works fine. 
<--  snip  -->
Please apply
Adrian
--- linux-2.4.21-pre6-full/drivers/sound/trident.c.old	2003-03-31 22:57:08.000000000 +0200
+++ linux-2.4.21-pre6-full/drivers/sound/trident.c	2003-03-31 22:57:29.000000000 +0200
@@ -3060,7 +3060,7 @@
         ncount = 10;
 	while(1) {
 		wcontrol = inw(TRID_REG(card, ALI_AC97_WRITE));
-		if(!wcontrol & 0x8000)
+		if(!(wcontrol & 0x8000))
 			break;
 		if(ncount <= 0)
 			break;
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/