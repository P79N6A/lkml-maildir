Date: Thu, 15 Feb 2007 17:42:14 -0500
From: Len Brown <>
Subject: [PATCH] add CONFIG_PNP=y to x86_64 defconfig
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/2/15/386

The ACPI motherboard driver was removed from 2.6.20-git, and it handled
reserving resources for the CONFIG_ACPI=y CONFIG_PNP=n case.
Now that it is gone, CONFIG_PNP=y should be used for CONFIG_ACPI=y kernels,
and that brings CONFIG_PNPACPI=y.
Signed-off-by: Len Brown <len.brown@intel.com>
---
i386 defconfig already has this.
x86_64 Fedora Core 6 already has this.
x86_64 OpenSuse 10.2 does not yet have this.
Maybe we should select CONFIG_PNP from CONFIG_ACPI?
diff --git a/arch/x86_64/defconfig b/arch/x86_64/defconfig
index 293a4a4..9f2e1c4 100644
--- a/arch/x86_64/defconfig
+++ b/arch/x86_64/defconfig
@@ -421,7 +421,13 @@ CONFIG_FW_LOADER=y
 #
 # Plug and Play support
 #
-# CONFIG_PNP is not set
+CONFIG_PNP=y
+# CONFIG_PNP_DEBUG is not set
+
+#
+# Protocols
+#
+CONFIG_PNPACPI=y
 
 #
 # Block devices
@@ -477,6 +483,7 @@ CONFIG_BLK_DEV_IDEACPI=y
 #
 CONFIG_IDE_GENERIC=y
 # CONFIG_BLK_DEV_CMD640 is not set
+# CONFIG_BLK_DEV_IDEPNP is not set
 CONFIG_BLK_DEV_IDEPCI=y
 # CONFIG_IDEPCI_SHARE_IRQ is not set
 # CONFIG_BLK_DEV_OFFBOARD is not set
@@ -920,6 +927,7 @@ CONFIG_HW_CONSOLE=y
 CONFIG_SERIAL_8250=y
 CONFIG_SERIAL_8250_CONSOLE=y
 CONFIG_SERIAL_8250_PCI=y
+CONFIG_SERIAL_8250_PNP=y
 CONFIG_SERIAL_8250_NR_UARTS=4
 CONFIG_SERIAL_8250_RUNTIME_UARTS=4
 # CONFIG_SERIAL_8250_EXTENDED is not set
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/