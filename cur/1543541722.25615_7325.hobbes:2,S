Date: Mon, 14 Aug 2000 08:14:10 -0400
From: Michael Rothwell <>
Subject: Re: NTFS-like streams?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/14/58

Rogier Wolff wrote:
> Linus' suggestion of having a mix between a file and a dir is
> interesting, but is not representable by a normal ext2fs
filesystems that support streams/forks/EAs are _not_ 
like ext2, and it seems wrong to make them try to 
squeeze into ext2's shoes.
, or
> TAR. Having to extend the TAR format is a pain in the ass. Losing info
> when you untar onto an ext2fs is also annoying.
So there will be a "star" utility for streams filesystems, 
which one day will get merged into regular tar. Or "spax"
or whatever. 
> A friend of mine has a
> Linux fileserver that is used to share files between his apple and his
> windows machine. The current way that atalkd stores files is the same
> as that HFS exports stuff. This means that everything is
> interoperable.
HFS and netatalk were written specifically to agree 
with each other on that hack. Netatalk also supports 
other local FS representations. I think HFS does as 
well ("-o netatalk" or whatever the option is makes
HFS output its forks in netatalk-compatible format).
It would be nice to have a universal representation
of streams/EAs/forks for FSes that support them, without
using ".LinuxDouble" chicanery. If all EAs are stored
in a separate directory, I imagine they will be orphaned
all the time. I know this happens in HFS. I usually walked
over to a Mac (when I had Macs) to manipulate files, rather
than do it from the linux box, because I would break the
filesystem doing it frm Linux. With the HFS hack, I can only
move/rename/delete whole directories at a time to avoid
filesystem corruption. Or tediously go into each 
.AppleWhatever directory, find all the orphaned resources, 
and move those as well.
-Michael
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/