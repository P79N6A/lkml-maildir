Date: Mon, 25 Feb 2008 22:57:24 +0200
From: "Michael S. Tsirkin" <>
Subject: new regression in 2.6.25-rc3: can't resume from suspend to ram, ata1 errors
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/25/334

On my T61p, 2.6.25-rc2 seems to wake up fine from suspend to ram.
Not so 2.6.25-rc3: it hangs on suspend to ram, with a blank screen.
At one point I got lucky and got this on console (wrote down by hand,
there could be typos):
ata1: COMRESET failed (errno=-16)
ata1: COMRESET failed (errno=-16)
end_request: I/O error, dev sda sector 200554
Buffer I/O error on device dm-0, logical block 256
Buffer I/O error on device dm-0, logical block 15695875
Buffer I/O error on device dm-0, logical block 15695878
Buffer I/O error on device dm-0, logical block 15695887
Buffer I/O error on device dm-0, logical block 15695896
Buffer I/O error on device dm-0, logical block 15695914
Buffer I/O error on device dm-0, logical block 15958028
Buffer I/O error on device dm-0, logical block 22118530
Buffer I/O error on device dm-0, logical block 22315068
Buffer I/O error on device dm-0, logical block 22347824
git bisect points at this commit:
commit 559bbe6cbd0d8c68d40076a5f7dc98e3bf5864b2.
power_state: get rid of write-only variable in SATA
After reverting 559bbe6cbd0d8c68d40076a5f7dc98e3bf5864b2
on top of 2.6.25-rc3 the kernel again resumes from suspend to ram.