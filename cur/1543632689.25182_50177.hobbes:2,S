Date: Tue, 4 Jun 2002 07:36:39 -0500
From: "Todd R. Eigenschink" <>
Subject: + 1000000000 bug still in 2.4.19-pre10 (proc_misc.c)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/4/102

The 2.4.19-pre10 patch still contains the following bug:
@@ -279,10 +335,11 @@
        );
 #if !defined(CONFIG_ARCH_S390)
        for (i = 0 ; i < NR_IRQS ; i++)
-               len += sprintf(page + len, " %u", kstat_irqs(i));
+               proc_sprintf(page, &off, &len,
+                            " %u", kstat_irqs(i) + 1000000000);
 #endif
 
Ben LaHaise confirmed that the "+ 1000000000" part was a brown paper
bag.  (The addition of a billion was test code that triggered the bug
which the rest of the proc_misc change fixes.)
Todd
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/