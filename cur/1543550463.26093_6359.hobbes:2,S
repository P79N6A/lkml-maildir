Date: Mon, 2 Oct 2000 23:36:03 -0400
From: Jay Estabrook <>
Subject: Re: test9-pre9
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/2/74

On Tue, Oct 03, 2000 at 11:07:36AM +0900, Tom Holroyd wrote:
> Alpha DP264 (UP)
> 
>         ld ... -o vmlinux
> drivers/char/char.o: In function `rs_sched_event':
> serial.c(.text+0x10210): undefined reference to `barrier'
> serial.c(.text+0x10214): undefined reference to `barrier'
> serial.c(.text+0x1022c): undefined reference to `barrier'
> serial.c(.text+0x10230): undefined reference to `barrier'
> serial.c(.text+0x10244): undefined reference to `barrier'
> drivers/char/char.o(.text+0x10248):serial.c: more undefined references to
> `barrier' follow
> 
> config attached.
> 
> This error existed in -pre8, too, but I sent the message to rutgers...
As suggested days ago by Ivan, one solution is:
-----------------------------------------------------------------------------
diff -urN old/include/asm-alpha/bitops.h new/include/asm-alpha/bitops.h
--- old/include/asm-alpha/bitops.h      Mon Oct  2 21:50:50 2000
+++ new/include/asm-alpha/bitops.h      Mon Oct  2 22:38:25 2000
@@ -2,6 +2,7 @@
 #define _ALPHA_BITOPS_H
 
 #include <linux/config.h>
+#include <linux/kernel.h>
 
 /*
  * Copyright 1994, Linus Torvalds.
-----------------------------------------------------------------------------
SMP compiles fine with or without this.
--Jay++
-----------------------------------------------------------------------------
Jay A Estabrook                            Alpha Engineering - LINUX Project
Compaq Computer Corp. - MRO1-2/K20         (508) 467-2080
200 Forest Street, Marlboro MA 01752       Jay.Estabrook@compaq.com
-----------------------------------------------------------------------------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/