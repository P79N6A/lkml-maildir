Date: Sat, 11 Nov 2000 16:27:50 +0100
From: Jasper Spaans <>
Subject: Re: 2.4.0-test11pre2-ac1 and previous problem
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/11/11/52

On Sat, Nov 11, 2000 at 11:25:00AM +1100, Andrew Morton wrote:
> > NMI Watchdog detected LOCKUP on CPU3, registers:
> Oh no.  Another one.  Could you please try this attached
> patch (against test11-pre2) and see if the diagnostics
> come out?
And yet another one... I applied your patch, and ran my oopses through
ksymoops, results attached.
Kernel: 2.4.0-test11-pre2 + reiserfs-3.6.18
2 * P-II 350, 256 MB RAM, no special hardware, AFAIK.
Of course, more details are available.
Regards,
-- 
Jasper Spaans  <jasper@spaans.ds9a.nl>
ksymoops 2.3.4 on i686 2.4.0-test11.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.4.0-test11/ (default)
     -m /boot/System.map-2.4.0-test11-pre2 (specified)
Nov 11 13:37:08 spaans kernel: NMI Watchdog detected LOCKUP on CPU1, registers:
Nov 11 13:37:08 spaans kernel: CPU:    1
Nov 11 13:37:08 spaans kernel: EIP:    0010:[tvecs+21104/42928]
Nov 11 13:37:08 spaans kernel: EFLAGS: 00000086
Nov 11 13:37:08 spaans kernel: eax: 00000000   ebx: ce780000   ecx: 00000000   edx: ffffffff
Nov 11 13:37:08 spaans kernel: esi: 00000002   edi: 00000000   ebp: cd0f1eb0   esp: cd0f1ea8
Nov 11 13:37:08 spaans kernel: ds: 0018   es: 0018   ss: 0018
Nov 11 13:37:08 spaans kernel: Process mysqld (pid: 5799, stackpage=cd0f1000)
Nov 11 13:37:08 spaans kernel: Stack: ce780000 00000021 00000000 c01152ea ce780000 00000021 00000086 c01153c6 
Nov 11 13:37:08 spaans kernel:        00000021 cd0f1f04 ce780000 00040001 00000000 cd0f0000 00000021 c011589a 
Nov 11 13:37:08 spaans kernel:        00000021 cd0f1f04 ce780000 cd0f0000 c1458000 cd0f0000 ce780000 00000021 
Nov 11 13:37:08 spaans kernel: Call Trace: [do_ioctl+334/820] [do_ioctl+554/820] [apm+358/644] [will_become_orphaned_pgrp+14/124] [do_fork+211/2788] [do_fork+1188/2788] [do_fork+1274/2788] 
Nov 11 13:37:08 spaans kernel: Code: 80 3d 00 44 2e c0 00 f3 90 7e f5 e9 67 59 ee ff 80 3b 00 f3 
Using defaults from ksymoops -t elf32-i386 -a i386
Code;  00000000 Before first symbol
00000000 <_EIP>:
Code;  00000000 Before first symbol
   0:   80 3d 00 44 2e c0 00      cmpb   $0x0,0xc02e4400
Code;  00000007 Before first symbol
   7:   f3 90                     repz nop 
Code;  00000009 Before first symbol
   9:   7e f5                     jle    0 <_EIP>
Code;  0000000b Before first symbol
   b:   e9 67 59 ee ff            jmp    ffee5977 <_EIP+0xffee5977> ffee5977 <END_OF_CODE+2ec39fd0/????>
Code;  00000010 Before first symbol
  10:   80 3b 00                  cmpb   $0x0,(%ebx)
Code;  00000013 Before first symbol
  13:   f3 00 00                  repz add %al,(%eax)
Nov 11 13:37:08 spaans kernel: NMI Watchdog detected LOCKUP on CPU0, registers:
Nov 11 13:37:08 spaans kernel: CPU:    0
Nov 11 13:37:08 spaans kernel: EIP:    0010:[__down+339/588]
Nov 11 13:37:08 spaans kernel: EFLAGS: 00000097
Nov 11 13:37:08 spaans kernel: eax: c02e4420   ebx: ca6c0000   ecx: 00000000   edx: ffffffff
Nov 11 13:37:08 spaans kernel: esi: c02e4420   edi: ca6c1fa8   ebp: ca6c1fa8   esp: ca6c1f90
Nov 11 13:37:08 spaans kernel: ds: 0018   es: 0018   ss: 0018
Nov 11 13:37:08 spaans kernel: Process mysqld (pid: 5801, stackpage=ca6c1000)
Nov 11 13:37:08 spaans kernel: Stack: c0234797 ca6c0000 40083890 bf5ffc00 fffffff2 00000008 ca6c1fbc c0119ad4 
Nov 11 13:37:08 spaans kernel:        000016a9 00000000 bf5ff8e8 bf5ff8b4 c010b203 000016a9 00000000 bf5ff8e8 
Nov 11 13:37:08 spaans kernel:        40083890 bf5ffc00 bf5ff8b4 0000009c 0000002b 0000002b 0000009c 401a03e4 
Nov 11 13:37:08 spaans kernel: Call Trace: [tvecs+21059/42928] [proc_sel+68/140] [restore_sigcontext+63/328] 
Nov 11 13:37:08 spaans kernel: Code: 83 38 01 78 fb f0 ff 08 0f 88 ef ff ff ff c3 90 90 90 90 90 
Code;  00000000 Before first symbol
00000000 <_EIP>:
Code;  00000000 Before first symbol
   0:   83 38 01                  cmpl   $0x1,(%eax)
Code;  00000003 Before first symbol
   3:   78 fb                     js     0 <_EIP>
Code;  00000005 Before first symbol
   5:   f0 ff 08                  lock decl (%eax)
Code;  00000008 Before first symbol
   8:   0f 88 ef ff ff ff         js     fffffffd <_EIP+0xfffffffd> fffffffd <END_OF_CODE+2ed54656/????>
Code;  0000000e Before first symbol
   e:   c3                        ret    
Code;  0000000f Before first symbol
   f:   90                        nop    
Code;  00000010 Before first symbol
  10:   90                        nop    
Code;  00000011 Before first symbol
  11:   90                        nop    
Code;  00000012 Before first symbol
  12:   90                        nop    
Code;  00000013 Before first symbol
  13:   90                        nop    