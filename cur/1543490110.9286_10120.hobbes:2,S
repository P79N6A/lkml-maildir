Date: Tue, 16 Mar 1999 21:20:27 +0100 (MET)
From: Gerard Roudier <>
Subject: Re: vfork: out of memory, when there's plenty of swap free
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/3/16/121

Andrea,
You think that I shouldn't wrote kernel code, since you just wrote that in
some of your previous mail. I just answer you that you should THINK MORE
prior to writing code and indicate you for what REASONS I DO think so.
However, it seems that some people has found that I insulted you.
To suggest to THINK MORE prior to doing something is an insult, but to
have been STATED UNABLE to do the same thing is not from these people
viewpoint. 
So, I am not going to post anything to these list for a while after this
one. I will stay in my field, I mean scsi lists.
I think that you idea _is_ stupid, because:
1 - process creation is not so critical for performances for having to pay 
    for such a large area of memory allocated statically.
2 - I donnot want to reboot my system in order to be able to create more 
    processes than a limit that is to be kept not to high because of
    its memory wasting approach.
3 - I am not going to ever use a software than creates thousands
    of processes per seconds which is the only situation where you
    suggested change  will have a significant advantage.
End of Story.
GÃ©rard.
On Tue, 16 Mar 1999, Andrea Arcangeli wrote:
> On Mon, 15 Mar 1999, Gerard Roudier wrote:
> 
> >> stack to do DMA on it. Or if you have plenty of ram you only need to
> >> statically alloc 4mbyte for the stacks of 512 tasks and don't use the VM
> >> at all to provide a stack to a process.
> >
> >What another strange and stupid idea ...
> 
> It's strange for __you__. And you are the one that complains about failed
> process allocation due VM fragmentation. If you have 2gigabyte of memory
> you _won't_ care about 4mbyte of static memory wasted. I __never__
> suggested this as a `default' approch (and I am _sure_ not going to do
> that here), but I thought at that as a possible _trivial_ and _final_
> solution for very-high memory machines.
> 
> In the meantime please try to cause the kernel to printk the "failed
> allocation due VM fragmentation" message with my last patch applyed. You
> started to complain without ever know which is your problem. Once you'll
> find a way to log such message in your logs, please let me know how to
> reproduce and I'll start to think about that.
> 
> Andrea Arcangeli
> 
> PS. I avoid comments about other parts of your email.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/