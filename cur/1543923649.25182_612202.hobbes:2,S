Date: Tue, 30 Oct 2007 19:11:31 +0000
From: Rui Nuno Capela <>
Subject: Re: 2.6.23.1-rt5 (was 2.6.23-rt1 trouble)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/10/30/351

Rui Nuno Capela wrote:
> Steven Rostedt wrote:
>>
>> When things start to freeze, could you capture the output of a sysrq-t.
>>
> 
> yes, you can find a complete serial console capture here, where it holds
> the final SysRq-T output:
> 
http://www.rncbc.org/datahub/console-2.6.23.1-rt4.1-1.log
> 
> the corresponding .config is also there:
> 
http://www.rncbc.org/datahub/config-2.6.23.1-rt4.1
> 
> the reason this is a new kernel build, following a shot in the dark from
> nick mainsbridge, which let out the ntfs module build (CONFIG_NTFS_FS is
> not set) suggesting that would mitigate similar freezes.
> 
> in deed the general feel is that it seems to run longer and less prone
> to those incidents, but that is just a gut feeling, nothing more.
> 
> hope this be any useful.
> 
>> I have a P4HT laptop (unfortunately with no serial). I use it as one of my
>> main machines, so it will suck for me when it freezes ;-). I'll take your
>> config and try it out.
>>
>> I'll most likely do this on Monday since process Wife has the highest
>> priority over the weekend ;-)
>>
> 
> that is also true here :)
> 
> otoh, as reported before, the freezes are not exclusive to P4HT, which
> is the main box I'm been reporting here (the one which has a good old
> serial port anyway), but also applies to my other laptop, an core2 duo
> t7200.
> 
still in trouble with 2.6.23.1-rt5 :(
.config:
  
http://www.rncbc.org/datahub/config-2.6.23.1-rt5.0
serial console capture:
  
http://www.rncbc.org/datahub/console-2.6.23.1-rt5.0-1.log
one thing about SysRq-T: while in the middle of a freeze it just doesn't
dump anything, just the 'SysRq : Show State' line. you can see that
several times on the console output above.
only when it is somewhat recovering, as said, by making some last resort
measures like SysRq-E as in 'SysRq: terminate All Tasks' for instance,
then SysRq-T will dump something. my guess is that this later dump will
be moot :/
back to production with 2.6.22.1-rt9 ;)
-- 
rncbc aka Rui Nuno Capela
rncbc@rncbc.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/