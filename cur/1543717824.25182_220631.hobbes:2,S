Date: Fri, 14 May 2004 12:10:53 -0700
From: "Kevin P. Fleming" <>
Subject: Re: does udev support sw raid0?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/5/14/177

Greg KH wrote:
> How did this work with devfs then?  The device node would not be present
> before the ioctl needed to be called, right?  Or did it do the "magic
> lookup" mess and just "know" about md devices?
Right, see my recent thread on linux-hotplug-devel about this very subject.
As it stands today, the only gendisk that md registers without being 
asked to do so is md0, so /dev/md0 will always be present on a 
udev-enabled system with md. If you have auto-start MD arrays on your 
system, then those will be registered as well when md autostarts them at 
kernel boot time.
All other arrays (those that you want to start using mdadm, or those 
that you want to create because they've never existing before) suffer 
from the problem of requiring a device node before they can be controlled.
I chatted with Neil Brown about this, and he would not be opposed to the 
md driver exposing a character device specifically for the purpose of 
handling the md ioctls (like dm does), but when I looked more into it it 
seemed to be a waste of effort; the time could be better spent porting 
the md personalities over to dm, where all this stuff already works 
properly and there is naming/splitting/partitioning/etc. available.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/