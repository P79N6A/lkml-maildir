Date: Sat, 25 Aug 2007 11:59:53 -0600
From: (Eric W. Biederman)
Subject: Re: [PATCH 1/2] sysctl: Properly register the irda binary sysctl numbers.
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/8/25/97

Valdis.Kletnieks@vt.edu writes:
> On Sat, 25 Aug 2007 06:57:17 MDT, Eric W. Biederman said:
>
>> It's good to have confirmation that my sysctl_check routine
>> didn't find something else wrong.
>
> If I understand the code, anything it whinges about is either an outright bug
> or it's a round of ammo already chambered. ;)
Pretty much.  The heuristics aren't prefect but they are pretty good.
> As far as "something else wrong", I'm still seeing these in -rc3-mm1, but
> they've been reported before against -rc2-mm2, I think:
Interesting.  No I haven't seen this one.  This appears to be one of
those silly little corner cases I failed to account for in my checks.
It looks like you don't have CONFIG_SYSCTL_SYSCALL defined, and it
appears utsname_syscall and ipcdata_syscall both become NULL pointers
if they aren't needed.  So the complaint is a false positive.
> [    0.628000] sysctl table check failed: /kernel/ostype .1.1 Missing strategy
> [ 0.628000] sysctl table check failed: /kernel/osrelease .1.2 Missing strategy
> [    0.628000] sysctl table check failed: /kernel/version .1.4 Missing strategy
> [ 0.628000] sysctl table check failed: /kernel/hostname .1.7 Missing strategy
> [ 0.628000] sysctl table check failed: /kernel/domainname .1.8 Missing strategy
> [    0.628000] sysctl table check failed: /kernel/shmmax .1.34 Missing strategy
> [    0.628000] sysctl table check failed: /kernel/shmall .1.41 Missing strategy
> [    0.628000] sysctl table check failed: /kernel/shmmni .1.45 Missing strategy
> [    0.628000] sysctl table check failed: /kernel/msgmax .1.35 Missing strategy
> [    0.628000] sysctl table check failed: /kernel/msgmni .1.42 Missing strategy
> [    0.628000] sysctl table check failed: /kernel/msgmnb .1.36 Missing strategy
> [    0.628000] sysctl table check failed: /kernel/sem .1.43 Missing strategy
>
> And this isn't on an allyesconfig or allmodconfig. There may well be sysctl
> code I didn't hit - my /lib/modules/2.6.23-rc3-mm1 is only about 10M, and
> the Fedora kernels are weighing in at about 75M of /lib/modules a
> pop.
Yes.  Thank you.  I figure as long as we are reasonably close people
we should catch most if not all things before this is merged into
Linus's tree.
Patch in a moment.
Eric
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/