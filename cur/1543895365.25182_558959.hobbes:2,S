Date: Mon, 18 Jun 2007 04:07:28 -0400
From: Mike Frysinger <>
Subject: Re: [patch] make hdrscheck.sh force __asm__ in exported headers
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/18/57

On Monday 18 June 2007, Sam Ravnborg wrote:
> On Sun, Jun 17, 2007 at 06:54:24PM -0400, Mike Frysinger wrote:
> > This updates scripts/hdrschecks.sh by grepping for asm() constructs and
> > rejecting them in favor of __asm__() in exported headers.
>
> I have a new version of hdrcheck in works written in perl
> and a bit faster too.
> I hope to finish it off this weekend and sent it for review.
> Could I ask you to pick it up and add the below test to that version
> when it hits mainline - assuming that the other patches has hit mainline
> too. I do not want this check before we are clean so we basically use it to
> check that noone introduce a bug.
that's fine ... one of the other things i wanted to add were checks to make 
sure the exported headers did not contain [us](8|16|32|64) references, but 
there's headers which refer to these in comment blocks or use them as members 
of structs (like the netfilter code) so i couldnt add that check without 
passing things through the preprocessor ... perhaps your perl code would 
better accommodate this, perhaps not ;)
-mike
[unhandled content-type:application/pgp-signature]