Date: Tue, 28 Aug 2001 21:15:59 +0200
From: Christian Widmer <>
Subject: Re: does the request function block
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/8/28/137

On Tuesday 28 August 2001 20:28, you wrote:
> No they don't. NBD moves the requests to an internal queue when the
> request function is run. The function does not block. The internal
> queue is later emptied by another means, in another context.
ok - does 
	result = sock_sendmsg(sock, &msg, size);
block? something in the back of my brains sais yes, but i might be
wrong since i'm new to linux kernel programing. if it does block 
nbd blocks. it realeases the io_request_lock lock and calls 
nbd_send_req which calls nbd_xmit and that results in a call to 
sock_sendmst.
in the documention ob the brbd it sais: that the request function 
is allways called in the context of a process doing I/O the kflushd
or the kupdate kernel thread.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/