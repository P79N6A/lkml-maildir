Date: Sat, 3 Jul 1999 02:09:30 +0200
From: Marek Habersack <>
Subject: HDD sector exclusion from the FS access
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/2/192

Hi,
  I'm writing some error recovery routines for the kernel and what I need is
a contiguous space on a HDD to store some error information. The reason is
that I want the data to be written in the most atomic way possible,
bypassing the VFS and FS layers. Is it possible to exclude (from a living
file system without repartitioning and reformating the HDD) a range of
sectors (or, in the worst case a whole track) so that it won't be used by
the filesystem code? I was thinking about marking an inode as used, but
it's not portable accross filesystems - if the area I want to reserve
happens to be in possesion of some file system that doesn't support such
flags on inodes/clusters etc., then I'd have to move the area and that would
affect other parts of the code which cannot be dynamically changed without
modifying the kernel boot info. The thing is that the reserved area has to
be accessed by the boot code even before loading the entire kernel, so it
must be a) somewhere before the 1024th cylinder and b) it's best when it's
hard-coded into both the startup and the error handling code.
marek
[unhandled content-type:application/pgp-signature]