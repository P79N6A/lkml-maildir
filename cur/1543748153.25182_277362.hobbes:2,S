Date: Tue, 07 Dec 2004 21:52:09 +0100
From: Florian Krammel <>
Subject: Re: [<02282da7>] (usb_hcd_irq+0x0/0x4b) Disabling IRQ #5 - USB Devices do not work
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/12/7/156

> > What chipset is the motherboard ?
I don't know, I don't have the motherboard manuals.
How can I get this information via software?
> > Windows XP and Linux may well hit the same problems with USB.
really? ;)
> > The latest FC3 kernel should have new enough -ac patches to run on boxes
> > with
> > totally broken BIOS IRQ routing. Try the boot option "irqpoll"
this is great, thank you! I get the error message but everything works
> > Ditto, and this is quite possibly the root cause. That suggests the BIOS
> > handover code for EHCI is insufficient for some cases (and it appears to
> > be looking at the code quickly - it should register IRQ 5 before doing a
> > handover which it does but it probably needs to just ack and mask IRQ 5
> > during the handover. It could be another device breaking IRQ5 however)
> > 
> > 
> > What occurs if you build a kernel with EHCI disabled, ditto what occurs
> > if you boot with init=/bin/sh and then load ohci before ehci ?
I don't tested this because "irqpoll" solve my problem. Are you
interested in the result? I can try it.
thank you for help...
mfg
florian
-- 
Florian Krammel <florian_kr@gmx.de>
[unhandled content-type:application/pgp-signature]