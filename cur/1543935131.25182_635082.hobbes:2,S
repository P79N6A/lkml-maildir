Date: Mon, 07 Jan 2008 02:01:01 -0700
From: (Eric W. Biederman)
Subject: Re: [PATCH] msi: set 'En' bit of MSI Mapping Capability
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/1/7/38

"Peer Chen" <pchen@nvidia.com> writes:
> Eric,
> Any decision for this patch, if not, currently we prefer to add all our
> code to quirks.c.
Sorry.  I think adding the code to quirks.c is fine.
For bisection and code inspection purposes I would prefer the code
to come as a patchset of two patches.  With the generic change
first.
I wanted to understand where you were coming from to make certain
I had not looked over something generic.  The closest to generic
I can make of your concern is that we are doing useless work if
we know there is an upstream msi to irq mapper that we can just
tunnel to over hypertransport.  At the generic level we can't know
that there is an upstream mapping capability as nothing reports
it, so we even if it is a good idea we can't do anything.
So a quirk looks fine to do what you are doing. 
Just please next round handle the address part of the msi mapping
capability if it is present, in the x86 part of the generic code.
Just in case someone implements that.
Eric