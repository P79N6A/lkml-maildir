Date: Wed, 21 Nov 2001 14:10:54 +0100 (CET)
From: Roman Zippel <>
Subject: Re: [PATCH] devfs v196 available
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/11/21/111

Hi,
On Tue, 20 Nov 2001, Richard Gooch wrote:
> Delayed events are harmless, since devfs ensures correct ordering.
It's not about ordering, timing is currently unpredictable, anything
timing sensitive has to be very careful to touch anything in devfs.
> After consideration, I've decided to dynamically grow the event buffer
> as required, and free up space as it's not needed.
You should use a slab cache and acknowledge events as soon as they are
finished. Right now all processes are waiting until the devfsd is
completely finished and restarted at the same time. This is currently
limited by dropping events, with a dynamic event queue this can become a
problem.
> Since devfsd has to
> wait for a module load to complete, it's not a good idea to block
> waiting for free space in the event buffer (potential deadlock).
What do you mean?
bye, Roman
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/