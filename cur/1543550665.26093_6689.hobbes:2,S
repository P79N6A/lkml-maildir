Date: Wed, 04 Oct 2000 13:12:23 +0300
From: Constantine Gavrilov <>
Subject: Re: [PATCH-2.2] Bonding Driver Enhancements + Security fix
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/4/100

willy tarreau wrote:
> 
> Hello Thomas,
> 
> I've modified the slaves lists as you suggested to me.
> The more I tried to optimize the code, the more it looked like
> 2.4's, so it seems the last one is already optimal. There's no
> slave_queue anymore, and the transmit path in bond_xmit_roundrobin
> is far faster.
Sounds good.
................. 
> I have also implemented a second xmit method :
> active-backup : instead of alternating on the slaves, it always emits
> on the same until its link fails, then it chooses the next good one.
> This way, there's only one active device at a time,
.............
Sounds useful, thanks.
> For the MII link monitoring, I've set the default to disable checking,
> to avoid any potential breaking of existing installations. To activate
> it, simply pass "miimon=XXX" where XXX is the check interval in
> milliseconds. At 10ms (one check at each jiffy), my mouse becomes a
> bit "jumpy", but 100ms is quite good.
I think the links should be monitored by default. Otherwise, it defeats
the purpose of trunking/bonding. But this is a minor issue.
I have a previous version of your patch integrated into 2.2.18-pre15. I
have scheduled to perform the tests tomorrow evening on both UP and SMP
machines. We use BayStack stackable switches that allow to define trunks
even between ports that belong to different modules.
I'll let you know about the test results as soon as I have them. It just
took me some time to schedule the time and prepare the other tests I
need to run.
I'll try to test your new patch as well.
Willy, Tomas, thanks!
-- 
----------------------------------------
Constantine Gavrilov
Unix System Administrator and Programmer
Xpert Integrated Systems
1 Shenkar St, Herzliya 46725, Israel
Phone: (972-8)-952-2361
Fax:   (972-9)-952-2366
----------------------------------------
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/