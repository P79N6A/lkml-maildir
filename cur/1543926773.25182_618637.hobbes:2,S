Date: Fri, 16 Nov 2007 15:10:31 -0800
From: Andrew Morton <>
Subject: Re: [patch 2/4] Add HAVE_OPROFILE
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/11/16/372

On Thu, 15 Nov 2007 22:30:59 -0500
Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca> wrote:
> Linus:
> On the per-architecture side, I do think it would be better to *not* have
> internal architecture knowledge in a generic file, and as such a line like
> 
>         depends on X86_32 || IA64 || PPC || S390 || SPARC64 || X86_64 || AVR32
> 
> really shouldn't exist in a file like kernel/Kconfig.instrumentation.
> 
> It would be much better to do
> 
>         depends on ARCH_SUPPORTS_KPROBES
> 
> in that generic file, and then architectures that do support it would just
> have a
> 
>         bool ARCH_SUPPORTS_KPROBES
>                 default y
> 
> in *their* architecture files. That would seem to be much more logical,
> and is readable both for arch maintainers *and* for people who have no
> clue - and don't care - about which architecture is supposed to support
> which interface...
argh, I merged the previous version.  Dropped it again.
> Changelog:
> 
> Actually, I know I gave this as the magic incantation, but now that I see
> it, I realize that I should have told you to just use
> 
>         config ARCH_SUPPORTS_KPROBES
>                 def_bool y
> 
> instead, which is a bit denser.
> 
> We seem to use both kinds of syntax for these things, but this is really
> what "def_bool" is there for...
> 
> - Use ARCH_HAS_* instead of ARCH_SUPPORTS).
> - Use a select ARCH_HAS_*
> 
> - Yet another update :
> 
> Moving to HAVE_* now.
Please don't do changelogs this way (ie: provide a wrong changelog plus
erratum).
Just update the changelog so that it is in its final form, thanks.
It's fine to add a note at the bottm describing what changed since the
previous patchset - I'll just trim that away for the final git commit.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/