Date: Sat, 11 Sep 1999 18:55:48 +0200 (MEST)
From: Clifford Wolf <>
Subject: broken ramdisk in linux 2.3.18
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/11/73

Hi,
I have the following problem with the ramdisk in linux 2.3.18. This little
test script shows the problem:
-- snip --
#!/bin/sh
rddev=/dev/rd/5
uname -a
mkdir -p /tmp/$$.mnt
mke2fs -qvm0 $rddev 1024 2>&1
mount $rddev /tmp/$$.mnt ; cp  /vmlinuz /tmp/$$.mnt/data.dat ; umount $rddev
mount $rddev /tmp/$$.mnt ; cmp /vmlinuz /tmp/$$.mnt/data.dat ; umount $rddev
rmdir /tmp/$$.mnt
-- snip --
The output I get is:
-- snip --
Linux duesentrieb 2.3.18 #1 SMP Sat Sep 11 12:02:49 MEST 1999 i586 unknown
mke2fs 1.15, 18-Jul-1999 for EXT2 FS 0.5b, 95/08/09
/vmlinuz /tmp/2392.mnt/data.dat differ: char 1, line 1
-- snip --
As you can see the files differ. But that's impossible becouse its the
same file! I've found the problem when building some disk images.
I also got some problems with the loopback device.
BTW: I'm using devfs-121 and gcc 2.95.1. The system I'm using is the
latest ROCK Linux snapshot (
http://linux.rock-projects.com/
).
yours,
 - clifford
--    --    --    --    --    --    --    --    --    --    --    --    --
Clifford Wolf (CEO and CTO)
The ROCK Projects Workgoup                           Tel: +43-699-10063494
http://www.rock-projects.com/
                      
http://www.clifford.at/
e-mail: c.wolf@rock-projects.com                    email: god@clifford.at
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/