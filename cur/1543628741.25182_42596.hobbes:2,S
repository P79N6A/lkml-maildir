Date: Fri, 26 Apr 2002 18:09:11 +0200
From: Pavel Machek <>
Subject: Re: [PATCH] 2.5.10 IDE 42
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/4/26/85

Hi!
> @@ -783,16 +771,23 @@
>  	if (stat & BUSY_STAT)
>  		printk("Busy ");
>  	else {
> -		if (stat & READY_STAT)	printk("DriveReady ");
> -		if (stat & WRERR_STAT)	printk("DeviceFault ");
> -		if (stat & SEEK_STAT)	printk("SeekComplete ");
> -		if (stat & DRQ_STAT)	printk("DataRequest ");
> -		if (stat & ECC_STAT)	printk("CorrectedError ");
> -		if (stat & INDEX_STAT)	printk("Index ");
> -		if (stat & ERR_STAT)	printk("Error ");
> +		if (stat & READY_STAT)
> +			printk("DriveReady ");
> +		if (stat & WRERR_STAT)
> +			printk("DeviceFault ");
> +		if (stat & SEEK_STAT)
> +			printk("SeekComplete ");
> +		if (stat & DRQ_STAT)
> +			printk("DataRequest ");
> +		if (stat & ECC_STAT)
> +			printk("CorrectedError ");
> +		if (stat & INDEX_STAT)
> +			printk("Index ");
> +		if (stat & ERR_STAT)
> +			printk("Error ");
>  	}
>  	printk("}");
> -#endif	/* FANCY_STATUS_DUMPS */
> +#endif
>  	printk("\n");
>  	if ((stat & (BUSY_STAT|ERR_STAT)) == ERR_STAT) {
>  		err = GET_ERR();
I believe this is actually making it *less* readable.
> @@ -839,7 +834,7 @@
>  					printk(", sector=%ld", HWGROUP(drive)->rq->sector);
>  			}
>  		}
> -#endif	/* FANCY_STATUS_DUMPS */
> +#endif
>  		printk("\n");
>  	}
>  	__restore_flags (flags);	/* local CPU only */
Here to. Comment after endif is good thing; you don't have to add it
but you should certainly not kill it.
									Pavel
-- 
(about SSSCA) "I don't say this lightly.  However, I really think that the U.S.
no longer is classifiable as a democracy, but rather as a plutocracy." --hpa
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/