Date: Tue, 9 Dec 2008 12:58:29 +0900
From: KAMEZAWA Hiroyuki <>
Subject: Re: [mm] [PATCH 3/4] Memory cgroup hierarchical reclaim (v4)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/12/8/382

On Tue, 9 Dec 2008 12:53:41 +0900
Daisuke Nishimura <nishimura@mxp.nes.nec.co.jp> wrote:
> Not yet.
> 
> Those dead locks cannot be fixed as long as reclaim path tries to hold cgroup_mutex.
> (current mmotm doesn't hold cgroup_mutex on reclaim path if !use_hierarchy and
> I'm testing with !use_hierarchy. It works well basically, but I got another bug
> at rmdir today, and digging it now.)
> 
> The dead lock I've fixed by memcg-avoid-dead-lock-caused-by-race-between-oom-and-cpuset_attach.patch
> is another one(removed cgroup_lock from oom code).
> 
Okay, then removing cgroup_lock from memory-reclaim path is a way to go..
Thank you.
-Kame