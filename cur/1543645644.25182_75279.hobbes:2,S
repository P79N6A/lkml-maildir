Date: 01 Oct 2002 08:24:00 -0600
From: Steven Cole <>
Subject: Re: 2.5.39 Oops on boot (device_attach+0x3a)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/10/1/119

On Mon, 2002-09-30 at 23:39, Greg KH wrote:
> On Mon, Sep 30, 2002 at 07:13:02PM -0600, Steven Cole wrote:
> > I tried to boot 2.5.39 on my home machine and got the
> > following oops on boot with CONFIG_KALLSYMS=y (thanks Ingo!).
> 
> Do you have CONFIG_ISAPNP enabled?  If so, search the archives for the
> fix for this.  If not, please post your whole .config.
Although I don't have that test box in front of me now, I'm almost
certain that I do have CONFIG_ISAPNP enabled.  Searching the archives
turned up a fix similar to the one below which is part of 2.5.40, (which
I haven't been able to download yet).  I won't be able to test this
until tonight, but perhaps Thomas can see if this fixes the same oops
for him in the meantime.
Thanks,
Steven
--- 1.13/drivers/pnp/isapnp.c	Fri Sep 27 04:10:46 2002
+++ 1.14/drivers/pnp/isapnp.c	Sun Sep 29 18:19:31 2002
@@ -2281,7 +2281,9 @@
 EXPORT_SYMBOL(isapnp_register_driver);
 EXPORT_SYMBOL(isapnp_unregister_driver);
 
-static struct device_driver isapnp_device_driver = {};
+static struct device_driver isapnp_device_driver = {
+	.devices = LIST_HEAD_INIT(isapnp_device_driver.devices),
+};
static inline int isapnp_init_device_tree(void)
 {
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/