Date: Fri, 22 Jan 1999 21:34:23 +0000 (GMT)
From: Dave Airlie <>
Subject: oops on 2.2.0-pre8 in vfat code ..
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/1/22/327

Please find attached an oops plus ksymoops output ..
2.2.0-pre8, vfat mount /dos 
running WinAmp under wine and I tried to move a dll file in 
/dos/winamp/plugins to another name and mv segfaulted with that oops
produced ...
Dave.
------------ David Airlie, David.Airlie@ul.ie,airlied@skynet --------
Telecommunications Research Centre, ECE Dept, University of Limerick \
http://www.csn.ul.ie/~airlied
	-- Telecommunications Researcher      \
--- TEL: +353-61-202695 -----------------------------------------------
Options used: -V (default)
              -o /lib/modules/2.2.0-pre8/ (default)
              -k /proc/ksyms (default)
              -l /proc/modules (default)
              -m /usr/src/linux/System.map (default)
              -c 1 (default)
You did not tell me where to find symbol information.  I will assume
that the log matches the kernel and modules that are running right now
and I'll use the default options above for symbol resolution.
If the current kernel and/or modules do not match the log, you can get
more accurate output by telling me the kernel version and where to find
map, modules, ksyms etc.  ksymoops -h explains the options.
Unable to handle kernel NULL pointer dereference at virtual address 00000024
current->tss.cr3 = 03907000, %cr3 = 03907000
*pde = 00000000
Oops: 0002
CPU:    0
EIP:    0010:[<c4c4afa7>]
EFLAGS: 00010202
eax: 0023fd80   ebx: 00000000   ecx: c3071edc   edx: c39978e0
esi: c0009800   edi: c28d5a00   ebp: c22c7e00   esp: c3071eb0
ds: 0018   es: 0018   ss: 0018
Process mv (pid: 2397, process nr: 78, stackpage=c3071000)
Stack: c39978e0 00000000 c4c4b071 c39978e0 c22c7e00 c28d5a00 00000000 c3071f48 
       0023fd80 c39978e0 00000000 c28d5a00 c22c7e00 00000220 00000000 c4c4b590 
       c39978e0 c3071f48 00000000 c290f7c0 c33c15a0 c39978e0 c39978e0 c01c8f00 
Call Trace: [<c4c4b071>] [<c4c4b590>] [<c012d11c>] [<c0129a5c>] [<c0129ba5>] [<c0107a24>] 
Code: 66 c7 43 24 00 00 a1 70 4a 1d c0 89 42 34 89 43 34 a1 70 4a 
>>EIP: c4c4afa7 <vfat_free_ino+17/84>
Trace: c4c4b071 <vfat_remove_entry+5d/d4>
Trace: c4c4b590 <vfat_rename+1ec/498>
Trace: c012d11c <d_lookup+98/dc>
Trace: c0129a5c <vfs_rename+248/25c>
Trace: c0129ba5 <sys_rename+135/1ac>
Trace: c0107a24 <system_call+34/38>
Code:  c4c4afa7 <vfat_free_ino+17/84>          00000000 <_EIP>:
Code:  c4c4afa7 <vfat_free_ino+17/84>             0:	66 c7 43 24 00 	movw   $0x0,0x24(%ebx)
Code:  c4c4afac <vfat_free_ino+1c/84>             5:	00 
Code:  c4c4afad <vfat_free_ino+1d/84>             6:	a1 70 4a 1d c0 	movl   0xc01d4a70,%eax
Code:  c4c4afb2 <vfat_free_ino+22/84>             b:	89 42 34       	movl   %eax,0x34(%edx)
Code:  c4c4afb5 <vfat_free_ino+25/84>             e:	89 43 34       	movl   %eax,0x34(%ebx)
Code:  c4c4afb8 <vfat_free_ino+28/84>            11:	a1 70 4a 00 00 	movl   0x4a70,%eax
3 warnings issued.  Results may not be reliable.