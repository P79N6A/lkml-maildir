Date: Tue, 25 Sep 2007 09:50:56 +0300
From: "S.Çağlar Onur" <>
Subject: Re: [git] CFS-devel, latest code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/9/25/36

Hi;
25 Eyl 2007 Sal tarihinde, Ingo Molnar şunları yazmıştı: 
> 
> The latest sched-devel.git tree can be pulled from:
> 
>   git://git.kernel.org/pub/scm/linux/kernel/git/mingo/linux-2.6-sched-devel.git
> 
> Lots of scheduler updates in the past few days, done by many people. 
> Most importantly, the SMP latency problems reported and debugged by Mike 
> Galbraith should be fixed for good now.
> 
> I've also included the latest and greatest group-fairness scheduling 
> patch from Srivatsa Vaddagiri, which can now be used without containers 
> as well (in a simplified, each-uid-gets-its-fair-share mode). This 
> feature (CONFIG_FAIR_USER_SCHED) is now default-enabled.
> 
> Peter Zijlstra has been busy enhancing the math of the scheduler: we've 
> got the new 'vslice' forked-task code that should enable snappier shell 
> commands during load while still keeping kbuild workloads in check.
> 
> On my testsystems this codebase starts looking like something that could 
> be merged into v2.6.24, so please give it a good workout and let us know 
> if there's anything bad going on. (If this works out fine then i'll 
> propagate these changes back into the CFS backport, for wider testing.)
Seems like following trivial change needed to compile without CONFIG_SCHEDSTATS
caglar@zangetsu linux-2.6 $ LC_ALL=C make
  CHK     include/linux/version.h
  CHK     include/linux/utsrelease.h
  CALL    scripts/checksyscalls.sh
  CHK     include/linux/compile.h
  CC      kernel/sched.o
In file included from kernel/sched.c:853:
kernel/sched_debug.c: In function `print_cfs_rq':
kernel/sched_debug.c:139: error: structure has no member named `bkl_cnt'
kernel/sched_debug.c:139: error: structure has no member named `bkl_cnt'
make[1]: *** [kernel/sched.o] Error 1
make: *** [kernel] Error 2
Signed-off-by: S.Çağlar Onur <caglar@pardus.org.tr>
diff --git a/kernel/sched_debug.c b/kernel/sched_debug.c
index b68e593..4659c90 100644
--- a/kernel/sched_debug.c
+++ b/kernel/sched_debug.c
@@ -136,8 +136,10 @@ void print_cfs_rq(struct seq_file *m, int cpu, struct cfs_rq *cfs_rq)
 			SPLIT_NS(spread0));
 	SEQ_printf(m, "  .%-30s: %ld\n", "nr_running", cfs_rq->nr_running);
 	SEQ_printf(m, "  .%-30s: %ld\n", "load", cfs_rq->load.weight);
+#ifdef CONFIG_SCHEDSTATS
 	SEQ_printf(m, "  .%-30s: %ld\n", "bkl_cnt",
 			rq->bkl_cnt);
+#endif
 	SEQ_printf(m, "  .%-30s: %ld\n", "nr_spread_over",
 			cfs_rq->nr_spread_over);
 }
Cheers
-- 
S.Çağlar Onur <caglar@pardus.org.tr>
http://cekirdek.pardus.org.tr/~caglar/
Linux is like living in a teepee. No Windows, no Gates and an Apache in house!
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/