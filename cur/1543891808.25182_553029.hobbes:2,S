Date: Mon, 4 Jun 2007 20:57:19 +0200
From: Andreas Mohr <>
Subject: Re: lid switch hangs notebook
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/6/4/295

Hi,
On Mon, Jun 04, 2007 at 12:57:21PM +0200, Antonio Mignolli wrote:
> Hi.
> The problem reported below has not been solved,
> I tried with the last stable kernel 2.6.21.3.
> 
> But it seems not to be an ACPI issue,
> I removed ACPI support from the kernel,
> and still have the problem.
> What else could be?
Have you enabled local APIC ("lapic" command line) since?
Enabling local APIC is known to cause just these issues on some
machines (HARD lockup on AC power/screen dimming/Fn keys change),
and I'm currently trying to nail what exactly the problem is.
People say it's a broken BIOS (probably one which doesn't contain support
for local APIC despite the CPU offering one), but I'm not willing to assume
this yet, it may just as well be incomplete APIC IRQ routing setup
or so).
OTOH I'm not entirely sure whether "lapic" use is fully independent
from ACPI support (which you disabled), but I think it is, so my reasoning
may be valid.
find /sys -name "*lapic*"
should reveal whether local APIC is currently active or not and thus
whether this might be responsible or not.
Andreas Mohr
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/