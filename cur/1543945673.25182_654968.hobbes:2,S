Date: Sat, 16 Feb 2008 22:51:18 -0800
From: Andrew Morton <>
Subject: Re: 2.6.25-rc2-mm1
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/17/22

On Sat, 16 Feb 2008 22:25:40 -0800 Joel Becker <Joel.Becker@oracle.com> wrote:
> On Sat, Feb 16, 2008 at 12:25:22AM -0800, Andrew Morton wrote:
> > 
> > 
ftp://ftp.kernel.org/pub/linux/kernel/people/akpm/patches/2.6/2.6.25-rc2/2.6.25-rc2-mm1/
> ...
> > +avoid-divides-in-bits_to_longs.patch
> 
> Andrew,
> 	This patch, by introducing sizeof(long) in the BITS_TO_LONGS
> math, changes BITS_TO_LONGS from an int to a unsigned long.  We noticed
> because this printk in fs/ocfs2/dlm/dlmdomain.c:
> 
>     mlog(ML_ERROR,
>          "map_size %u != BITS_TO_LONGS(O2NM_MAX_NODES) %u\n",
>          map_size, BITS_TO_LONGS(O2NM_MAX_NODES));
> 
> now gives this warning:
> 
>     fs/ocfs2/dlm/dlmdomain.c:938: warning: format '%u' expects type
>     'unsigned int', but argument 7 has type 'long unsigned int'
> 
> We can tweak the printk once the patch goes to Linus, no worries.  I
> just wanted to send a heads up in case the size change affects anything
> else.
> 
Thanks.  That was not intentional and I'll drop the patch.