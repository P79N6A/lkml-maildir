Date: Sun, 6 Aug 2000 03:21:29 +0100
From: Philipp Rumpf <>
Subject: Re: test6-lowlatency-D1 results: 50msec + hangs ....
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/5/105

On Sat, Aug 05, 2000 at 06:37:33PM -0700, David S. Miller wrote:
> while (spin_is_locked(&lock)) {
> 	/* Wait for others to release their references. */
> 	barrier();
> }
> 
> This type of code does happen, what is the correct return value so
> that spin_is_locked() handles this kind of case?
0.  It's one of the "spin_is_locked_and_the_holder_might_be_someone_else"
cases.  Maybe you misunderstood, but I'm proposing to introduce a new
function, not change the existing one.  Maybe move to a better name for it.
Or did I miss your point about the code above ?
	Philipp
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/