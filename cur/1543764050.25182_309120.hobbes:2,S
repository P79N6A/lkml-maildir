Date: Tue, 5 Apr 2005 14:17:36 -0400 (EDT)
From: Christopher Allen Wing <>
Subject: Re: clock runs at double speed on x86_64 system w/ATI RS200 chipset (with APIC enabled)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/5/253

I booted with 'apic=debug' in case this is useful to find out what's
wrong.
dmesg of 2.6.11.6 with ACPI enabled, APIC enabled, 'apic=debug':
	
http://www-personal.engin.umich.edu/~wingc/apictimer/dmesg/dmesg-2.6.11.6-acpi-apicdebug
	(clock runs at double speed)
dmesg of 2.6.11.6 with ACPI enabled, but disabled for PCI routing, APIC
enabled ('pci=noacpi apic=debug'):
	
http://www-personal.engin.umich.edu/~wingc/apictimer/dmesg/dmesg-2.6.11.6-nopciacpi-apicdebug
	(system hangs when loading SATA driver)
One difference I see between ACPI IRQ routing and 'pci=noacpi' is this:
(with ACPI IRQ routing)
	..TIMER: vector=0x31 pin1=2 pin2=-1
(with 'pci=noacpi')
	..TIMER: vector=0x31 pin1=2 pin2=0
so it would seem that mp_irqs[] differs between the ACPI case and
'pci=noacpi' for mp_ExtINT.
-Chris
wingc@engin.umich.edu
On Tue, 5 Apr 2005, Andi Kleen wrote:
> Alternatively you can try to boot with noapic. Does that help?
>
> -Andi
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/