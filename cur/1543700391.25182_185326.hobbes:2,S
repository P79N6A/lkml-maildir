Date: Sun, 21 Dec 2003 03:22:42 +0100
From: Adrian Bunk <>
Subject: [2.6 patch] let USB_{PEGASUS,USBNET} depend on NET_ETHERNET
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/20/113

I observed the following small problem in 2.6:
- MII depends on NET_ETHERNET
- USB_PEGASUS and USB_USBNET select MII, but they depend only on NET
The patch below lets USB_PEGASUS and USB_USBNET depend on NET_ETHERNET 
instead of NET to fix this issue.
Please apply
Adrian
--- linux-2.6.0-test11-mm1-modular-no-smp/drivers/usb/net/Kconfig.old	2003-12-21 03:18:32.000000000 +0100
+++ linux-2.6.0-test11-mm1-modular-no-smp/drivers/usb/net/Kconfig	2003-12-21 03:18:55.000000000 +0100
@@ -69,7 +69,7 @@
 
 config USB_PEGASUS
 	tristate "USB Pegasus/Pegasus-II based ethernet device support"
-	depends on USB && NET
+	depends on USB && NET_ETHERNET
 	select MII
 	---help---
 	  Say Y here if you know you have Pegasus or Pegasus-II based adapter.
@@ -95,7 +95,7 @@
 
 config USB_USBNET
 	tristate "Multi-purpose USB Networking Framework"
-	depends on USB && NET
+	depends on USB && NET_ETHERNET
 	select CRC32
 	select MII
 	---help---
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/