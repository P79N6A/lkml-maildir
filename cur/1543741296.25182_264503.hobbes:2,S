Date: Mon, 25 Oct 2004 21:11:25 +0300
From: Denis Vlasenko <>
Subject: Re: Temporary NFS problem when rpciod is SIGKILLed
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2004/10/25/259

On Monday 25 October 2004 17:41, Trond Myklebust wrote:
> mÐ• den 25.10.2004 Klokka 17:02 (+0300) skreiv Denis Vlasenko:
> 
> > I am using NFS root. At shutdown, when I kill
> > all processes with killall5 -9, NFS temporarily
> > misbehaves. I narrowed it down to rpciod feeling
> > bad when signalled with SIGKILL:
> 
> That is a deliberate feature. It is useful when mountpoints hang etc.
> 
> Note however that the patches that convert rpciod to use a workqueue
> (they can be found in the latest -mm kernels) remove this feature.
These?
linux-2.6.8.1-49-rpc_workqueue.patch
linux-2.6.8.1-50-rpc_queue_lock.patch
I will test 'em, thanks!
--
vda
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/