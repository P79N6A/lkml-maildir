Date: Thu, 10 Aug 2000 21:18:31 +0200
From: Jamie Lokier <>
Subject: Re: Complaint about recent LINUX_VERSION_CODEs
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/8/10/130

Brian Gerst wrote:
> On the other hand, is it really necessary to carry 2.0's baggage on
> forever in the current kernel in the form of #ifdef's sprinkled
> throughout the source code (some of which are not trivial)?
No, it's not.  I have drivers that build on everything from 2.0 to 2.4
and yes, we use kernels throughout that range.  The drivers themselves
are written to use (more or less) the 2.4 API; a <compat.h> file
provides compatibility with older kernels.
So there are ifdefs, but it's amazing how little of that needs to be in
the drivers themselves.  The newer APIs tend to be cleaner so they wrap
quite nicely around older kernel constructs.
> I also would like to point out that many of the drivers in 2.4 with 2.0
> conditional code, wouldn't compile on 2.0 anyways, because of changes
> that are unmarked.
Especially locking changes.
> The driver maintainers need to go through and evaluate what versions
> they want to support, and clean up their drivers accordingly.
Most drivers aren't actively maintained AFAIK.
-- Jamie
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/