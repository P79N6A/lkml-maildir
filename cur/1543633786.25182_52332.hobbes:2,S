Date: Thu, 13 Jun 2002 21:03:39 -0400
From: Benjamin LaHaise <>
Subject: Re: New version of pageattr caching conflict fix for 2.4
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/13/208

On Thu, Jun 13, 2002 at 10:15:33PM +0200, Andi Kleen wrote:
> Thanks to Ben LaHaise who found some problems in the original version.
> 
> I will probably submit this version for 2.4 unless someone finds a grave
> problem in this version.
This version is missing a few of the fixes included in my version: 
it doesn't properly flush global tlb entries, or update the page 
tables of processes which have copied 4MB page table entries into 
their page tables.  Also, the revert_page function must be called 
before the tlb flush and free the page after the tlb flush, or 
else tlb prefetching on the P4 can cache stale pmd pointers.  I'd 
suggest using the -C0 version which already has those fixes.
		-ben
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/