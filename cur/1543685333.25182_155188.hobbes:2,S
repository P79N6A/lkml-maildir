Date: Wed, 06 Aug 2003 22:46:59 -0400
From: Charles Lepple <>
Subject: Re: 2.6.0-test2: unable to suspend (APM)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/8/6/380

Russell King wrote:
> I'm trying to test out APM on my laptop (in order to test some PCMCIA
> changes), but I'm hitting a brick wall.  I've added the device_suspend()
> calls for the SAVE_STATE, DISABLE and the corresponding device_resume()
> calls into apm's suspend() function.  (this is needed so that PCI
> devices receive their notifications.)
Are those calls required even if the corresponding driver is not 
compiled into the kernel? That is, would an unconfigured Yenta prevent 
the PCI bus from going to sleep?
> However, APM is refusing to suspend.  I'm seeing the following kernel
> messages:
Looks awfully familiar:
http://marc.theaimsgroup.com/?t=105949038200001&r=1&w=2
I saw a regression between 2.5.31 and 2.5.32, but couldn't pin the 
problem down any further. I haven't looked too far into the driver model 
power management code, but I don't think it's in apm.c.
Also saw your post about the 3c59x cardbus adapter. I can't recall ever 
being able to suspend the machine with that card inserted (including 
under 2.4-- I always had to eject the card before suspend or hibernate). 
Not sure if that's the exact model I have, but the name sounds similar.
-- 
Charles Lepple <ghz.cc!clepple>
http://www.ghz.cc/charles/
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/