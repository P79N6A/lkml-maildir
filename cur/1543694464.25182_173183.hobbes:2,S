Date: Fri, 17 Oct 2003 09:03:36 +0100
From: John Bradford <>
Subject: Re: Transparent compression in the FS
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/10/17/19

> What might be worth considering is internal NUL detection.
> Build the block-of-zeros detection into the filesystem
> write resulting in automatic creation of sparse files.
> This could even work with extent based filesystems where
> using hashes to identify shared blocks would not.
Another idea could be writing uncompressed data to the disk, and
background-compressing it with something like bzip2, but keeping the
uncompressed data on disk as well, only over-writing it when disk
space is low, and then overwriting the least recently used files
first.
The upshot of all that would be that if you needed space, it would be
there, (just overwrite the uncompressed versions of files), but until
you do, you can access the uncompressed data quickly.
You could even take it one step further, and compress files with gzip
by default, and re-compress them with bzip2 after long periods of
inactivity.
John.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/