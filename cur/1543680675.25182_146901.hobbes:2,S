Date: Thu, 10 Jul 2003 16:45:58 -0700
From: Matthew Dobson <>
Subject: [trivial][patch] no more warnings [2/3] pointer comparison in ide-lib.c
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/7/10/316

There's a warning in drivers/ide/ide-lib.c for comparing pointers of 
different types.  This just casts one of the arguments to u8 to shut up 
the compiler.
Cheers!
-Matt
diff -Nurp --exclude-from=/home/mcd/.dontdiff linux-2.5.74-vanilla/drivers/ide/ide-lib.c linux-2.5.74-warnings/drivers/ide/ide-lib.c
--- linux-2.5.74-vanilla/drivers/ide/ide-lib.c	Wed Jul  2 13:57:08 2003
+++ linux-2.5.74-warnings/drivers/ide/ide-lib.c	Thu Jul 10 14:44:12 2003
@@ -170,7 +170,7 @@ u8 ide_rate_filter (u8 mode, u8 speed) 
 		BUG();
 	return min(speed, speed_max[mode]);
 #else /* !CONFIG_BLK_DEV_IDEDMA */
-	return min(speed, XFER_PIO_4);
+	return min(speed, (u8)XFER_PIO_4);
 #endif /* CONFIG_BLK_DEV_IDEDMA */
 }
 