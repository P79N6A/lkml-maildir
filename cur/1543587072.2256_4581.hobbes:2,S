Date: Mon, 9 Apr 2001 23:14:29 -0400 (EDT)
From:  e-double@iname ...
Subject: AIC7XXX oddities
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2001/4/9/112

Greetings,
I've been using the new aic7xxx driver, and updating frequently from Justin's site.  I'm at v6.1.11 now with kernel 2.4.3 and still experiencing some odd behaviour.  For example, I start as such on BUS 0 (an aic-29160):
Channel A Target 5 Negotiation Settings
        User: 160.000MB/s transfers (80.000MHz DT, offset 255, 16bit)
        Goal: 160.000MB/s transfers (80.000MHz DT, offset 63, 16bit)
        Curr: 160.000MB/s transfers (80.000MHz DT, offset 63, 16bit)
        Channel A Target 5 Lun 0 Settings
                Commands Queued 13199
                Commands Active 0
                Command Openings 49
                Max Tagged Openings 253
                Device Queue Frozen Count 0
After an invocation of cdrecord --scanbus
dmesg reveals this on BUS1 (an aha-2940u2w):
(scsi1:A:1): 5.000MB/s transfers (5.000MHz, offset 15)
(scsi1:A:6): 20.000MB/s transfers (20.000MHz, offset 15)
(locating burner at 6, and zip at 5)
An invocation of hdparm -Tt /dev/sda (id 5) does this:
(scsi1:A:1): 5.000MB/s transfers (5.000MHz, offset 15)
(scsi1:A:6): 20.000MB/s transfers (20.000MHz, offset 15)
(scsi0:A:5): 3.300MB/s transfers
cat /proc/scsi/aic7xxx/0 :
Channel A Target 5 Negotiation Settings
        User: 160.000MB/s transfers (80.000MHz DT, offset 255, 16bit)
        Goal: 3.300MB/s transfers
        Curr: 3.300MB/s transfers
        Channel A Target 5 Lun 0 Settings
                Commands Queued 16817
                Commands Active 0
                Command Openings 49
                Max Tagged Openings 253
                Device Queue Frozen Count 0
Target 5 has dropped to 3.300MB/s ??
thanks,
Ethan W.
---------------------------------------------------
Get free personalized email at 
http://www.iname.com
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/