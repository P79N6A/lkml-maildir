Date: Wed, 22 Jun 2005 14:12:16 -0400
From: Karim Yaghmour <>
Subject: Re: PREEMPT_RT vs I-PIPE: the numbers, part 2
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/6/22/291

Ingo Molnar wrote:
>>you could try the LPPTEST kernel driver and testlpp utility i 
>>integrated into the -RT patchset. It avoids target-side latencies 
>>almost completely. Especially since you had problems with parallel 
>>interrupts you should give it a go and compare the results.
> 
> 
> correction: logger-side latencies are avoided.
Sorry, I don't see this. I've just looked at lpptest.c and it does
practically the same thing  LRTBF is doing, have a look for yourself
at the code in LRTBF.
In fact lpptest.c is probably running at a higher cost on the logger
since it executes a copy_to_user() for every single data point
collected. In the case of the LRTBF, we just buffer the results in a
preallocated buffer and then read them all at once after the testrun.
Unless I'm missing something, there is nothing done in lpptest that
we aren't already doing on either side, logger-side latencies
included.
As for the interrupt problems, they were pilot error. They
disappeared once the APIC was enabled. That's therefore a non-issue.
Karim
-- 
Author, Speaker, Developer, Consultant
Pushing Embedded and Real-Time Linux Systems Beyond the Limits
http://www.opersys.com
 || karim@opersys.com || 1-866-677-4546
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/