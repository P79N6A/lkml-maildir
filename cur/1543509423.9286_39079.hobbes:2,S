Date: Wed, 15 Sep 1999 22:25:45 +1200 (NZST)
From: John Duthie <>
Subject: Re: 2.2.12: serial driver swapping characters?
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/15/38

On Tue, 14 Sep 1999, Orin Eman wrote:
-> Subject: Re: 2.2.12: serial driver swapping characters?yy
-> 
-> > On Sun, 12 Sep 1999, Shaw  Carruthers wrote:
-> > > On Sat, 11 Sep 1999 17:28:23 -0300 (EST), kiko
-> > > <kiko@radiumsystems.com.br> wrote:
This whole thread could explane my problem 
2 days ago I upgraded from 2.0.37 to 2.2.6 ( then to 2.2.12 )
( along with most of my system's binarys )
now when in X my serial mouse ( 3 button mouse systems mode ) will jump left
or down when the disk or net usage gets a little higher than idle 
root@potato:~# uname -a
Linux potato 2.2.12 #3 Wed Sep 15 19:06:53 NZST 1999 i486 unknown
root@potato:~# cat /proc/tty/driver/serial
serinfo:1.0 driver:4.27
0: uart:16450 port:3F8 irq:4 baud:9600 tx:0 rx:18667 oe:141 
1: uart:16450 port:2F8 irq:3 baud:9600 tx:0 rx:2 
2: uart:unknown port:3E8 irq:4
3: uart:16550A port:2E8 irq:5 baud:9600 tx:272177 rx:1826395 DSR
     as you can see the mouse is getting overruns ( /dev/ttyS0 )
root@potato:~# cat /proc/interrupts
           CPU0       
  0:     822304          XT-PIC  timer
  1:      40241          XT-PIC  keyboard
  2:          0          XT-PIC  cascade
  9:          1          XT-PIC  mpu401
 10:        351          XT-PIC  NE2000
 11:          1          XT-PIC  Crystal audio controller
 12:      16644          XT-PIC  PS/2 Mouse
 13:          0          XT-PIC  fpu
 14:     502182          XT-PIC  ide0
 15:      16031          XT-PIC  ide1
NMI:          0
root@potato:~# setserial /dev/ttyS0 ; setserial /dev/ttyS1; setserial
/dev/ttyS3/dev/ttyS0, UART: 16450, Port: 0x03f8, IRQ: 4
/dev/ttyS1, UART: 16450, Port: 0x02f8, IRQ: 3
/dev/ttyS3, UART: 16550A, Port: 0x02e8, IRQ: 5, Flags: spd_hi
    Where is IRQ 4 ?
    is this a new serial port thing in 2.2 ?
    the ioports are still there
root@potato:~# cat /proc/ioports 
0000-001f : dma1
....
0278-027a : parport1
02e8-02ef : serial(set)
02f8-02ff : serial(set)
0300-031f : NE2000
03f8-03ff : serial(set)
......
    I'm not umasking interupts , I was with 2.0 but I'm playing safe for a
    while
root@potato:~# hdparm /dev/hda
/dev/hda:
 multcount    =  0 (off)
 I/O support  =  0 (default 16-bit)
 unmaskirq    =  0 (off)
 using_dma    =  0 (off)
 keepsettings =  0 (off)
 nowerr       =  0 (off)
 readonly     =  0 (off)
 readahead    =  8 (on)
 geometry     = 782/128/63, sectors = 6306048, start = 0
root@potato:~# gcc --version
2.7.2.3
root@potato:~# ldd -V
GNU ld 2.9.1
from .config
#
# Character devices
#
CONFIG_VT=y
CONFIG_VT_CONSOLE=y
CONFIG_SERIAL=y
# CONFIG_SERIAL_CONSOLE is not set
# CONFIG_SERIAL_EXTENDED is not set
# CONFIG_SERIAL_NONSTANDARD is not set
# CONFIG_UNIX98_PTYS is not set
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/