Date: Thu, 7 Dec 2000 20:01:13 +0100 (CET)
From: Kai Germaschewski <>
Subject: Re: 2.4.0-test12-pre7
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/12/7/129

On Thu, 7 Dec 2000, Russell King wrote:
> Linus Torvalds writes:
> >     - me: UHCI drivers really need to enable bus mastering.
> 
> But it'll already be turned on if pci_assign_unassigned_resources() is
> called.  This calls pdev_enable_device for every single device, which
> turns on the bus master bit in the PCI command register.
Maybe I'm stating something which is obvious to everybody, but note
that pci_assign_unassigned_resources is only called from
./arch/alpha/kernel/pci.c:  pci_assign_unassigned_resources();
./arch/mips/ddb5074/pci.c:  pci_assign_unassigned_resources();
./arch/arm/kernel/bios32.c:     pci_assign_unassigned_resources();
so it looks like most archs don't use it anyway. (And that's supposedly
why pci_set_master helped people on x86)
--Kai
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/