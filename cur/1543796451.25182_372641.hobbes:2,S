Date: Sun, 4 Dec 2005 01:43:02 +0100
From: Helge Hafting <>
Subject: Re: Linux 2.6.15-rc3 problem found - scsi order changed
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/12/3/190

On Thu, Dec 01, 2005 at 03:16:16AM -0500, Jeff Garzik wrote:
> Helge Hafting wrote:
> >I tried compiling and booting rc1.  The machine is remote, and did not
> >come up.  So I don't know why it didn't come up, but it is likely
> >that it is the same problem.
> 
> Any chance at all to get netconsole or serial console output, after 
> turning on ATA_DEBUG and ATA_VERBOSE_DEBUG in include/linux/libata.h ?
There is nothing wrong with the SATA driver - I am posting from 
2.6.15-rc1 now.
The problem is that the scsi order changed.  
With 2.6.14 and earlier, I got:
sda, sdb, sdc : harddisks connected to sym2 pci host adapter
sdd, sde      : harddisks connected to mainboard SATA
sdf,sdg,sdh,sdi : the slots in my USB card reader
With 2.6.15-rc1 and later, I get:
sda,sdb,sdc,sdd: the slots in my USB card reader
sde, sdf, sdg: harddisks connected to the sym2 pci host adapter
sdh, sdi     : harddisks connected to mainboard SATA
This kernel have all drivers compiled in - no modules.
So I have to ask - is this change (USB devices before 
any other scsi disks) _intentional_ ?
I can of course change my fstab, but I can imagine this causing all
sorts of trouble for people who plug in the occational USB pendrive.
Now it will shift all other scsi devices.  That didn't happen before.
Therefore, I hope this change of scsi order will be reverted.  USB should
be last, because USB drives are the most likely to be transient.  
While SATA and SCSI host adapters are the ones most likely to contain
root file systems.  I will happily test any patches attempting to restore
the old behaviour.
I guess mounting by UUID is another way of fixing this?  Please tell if
this change is intentional - it will making mounting scsi disks by device sort
of useless for anyone with USB though :-/
Helge Hafting
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/