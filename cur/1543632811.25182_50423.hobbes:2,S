Date: Wed, 05 Jun 2002 11:05:12 -0700
From: george anzinger <>
Subject: Re: realtime scheduling problems with 2.4 linux kernel >= 2.4.10
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2002/6/5/8

Andi Kleen wrote:
> 
> On Wed, Jun 05, 2002 at 01:53:06PM +0200, Ian Collinson wrote:
> 
> >
> > Are there any potentially negative consequences of this fix, apart from
> > those already mentioned?
> 
> I don't think so.
> 
> It could still fail when you install a prio=99, SCHED_FIFO process.
> 
> > I certainly vote for this feature being preserved, as it is extremely useful
> > for debugging realtime priority apps.  FYI, we narrowed it down to breaking
> > in either 2.4.10-pre11 or pre12.
> 
> That was when the low latency console changes went in. Before that console
> switches could interrupt scheduling for a long time, causing problems
> for other realtime people. The change was to move the expensive parts
> of the console switch to keventd.
So that means that, with the above change to prio 99, we
reintroduce the latency problem, only now it is in a task
(keventd) and not an interrupt?  (I know, I know, the work
has to be done somewhere.  At least this way we can control
what priority level it is done at.  I.e. this is a step in
the right direction.  I just what folks to be aware of the
latency issue and where it is.)
For what its worth, you can change the priority of keventd
AFTER a system is up.  Robert Love's real time tools contain
a program (rt I think) that will do this for you.  Just
follow the URL for preemption in my sig. file and look
around.
-- 
George Anzinger   george@mvista.com
High-res-timers: 
http://sourceforge.net/projects/high-res-timers/
Real time sched:  
http://sourceforge.net/projects/rtsched/
Preemption patch:
http://www.kernel.org/pub/linux/kernel/people/rml
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/