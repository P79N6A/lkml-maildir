Date: Tue, 16 Dec 2003 17:17:00 GMT
From: John Bradford <>
Subject: Re: 2.6 and IDE "geometry"
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2003/12/16/62

Quote from Sven Luther <sven.luther@wanadoo.fr>:
> On Fri, Dec 12, 2003 at 08:44:39PM +0100, Andries Brouwer wrote:
> > On Fri, Dec 12, 2003 at 01:17:04PM -0500, Wakko Warner wrote:
> > 
> > > Is there anyway to get kernel 2.6 to use the geometry
> > > the bios has for an IDE drive?
> > 
> > The kernel does not use any geometry.
> > 
> > > I have a installation setup that installs a non-linux os and I partition the
> > > drive under linux.  In 2.4 this has worked flawlessly, however, 2.6 reports
> > > as # cylinders/16 heads/63 sectors.
> > 
> > Aha. So your real question is:
> > "Is there any way to get *fdisk to use my favorite geometry?"
> > The answer is: all common fdisk versions allow you to set the geometry.
> 
> I believe parted does not. Nor any of the libparted frontends. I may be
> wrong though.
If so, I consider it a missing feature in parted - why should the BIOS
geometry resemble the disk it describes at all?  Some machines have no
user-definable drive types, forcing you to use an incorrect geometry
if you install a disk which is not in the table of supported drives.
This is no problem for recent Linux kernels, and doesn't even prevent
you booting from that disk.
John.
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/