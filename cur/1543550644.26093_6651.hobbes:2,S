Date: Wed, 04 Oct 2000 07:55:33 +0200
From: FORT David <>
Subject: 2.4.0-test9USB related oops
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/10/4/62

Got the foolowing oops with a Trust Sp@ce C@m USB webcam, sensor is a
ov720 and it uses the ov511 driver. To reproduce it i open a netscape
on a page which grab pictures from the web-cam, as soon as grabbing starts
got the oops on serial console:
ksymoops 2.3.4 on i686 2.4.0-test9.  Options used
     -V (default)
     -k /proc/ksyms (default)
     -l /proc/modules (default)
     -o /lib/modules/2.4.0-test9/ (default)
     -m /usr/src/linux/System.map (default)
Warning: You did not tell me where to find symbol information.  I will
assume that the log matches the kernel and modules that are running
right now and I'll use the default options above for symbol resolution.
If the current kernel and/or modules do not match the log, you can get
more accurate output by telling me the kernel version and where to find
map, modules, ksyms etc.  ksymoops -h explains the options.
Unable to handle kernel NULL pointer dereference at virtual address 000000a0
c8c8165d
*pde = 00000000
Oops: 0000
CPU:    0
EIP:    0010:[<c8c8165d>]
Using defaults from ksymoops -t elf32-i386 -a i386
EFLAGS: 00210246
eax: 00000000   ebx: c2a08980   ecx: 00000000   edx: 0000006b
esi: c2a08980   edi: c7e3b8bc   ebp: 00000000   esp: c022ff0c
ds: 0018   es: 0018   ss: 0018
Process swapper (pid: 0, stackpage=c022f000)
Stack: c6de32c8 c8c92814 00000000 c2a08980 00000001 c6de32c8 c7e3b8a0 c7e3b8bc
       00000001 00000000 00000000 c8c929b5 c7e3b8a0 c2a08988 c4552700 04000001
       00000000 0000000a c0020000 c010be71 0000000a c7e3b8a0 c022ffa8 c0282260
Call Trace: [<c8c92814>] [<c8c929b5>] [<c010be71>] [<c010c056>] [<c0108960>] [<c0108960>] [<c010a7c0>]
       [<c0108960>] [<c0108960>] [<c0100018>] [<c010898d>] [<c01089f2>] [<c0105000>] [<c01001d0>]
Code: 8b 91 a0 00 00 00 8b 43 30 29 42 28 83 7c 24 10 00 74 10 8b
>>EIP; c8c8165d <[usbcore]usb_release_bandwidth+9/60>   <=====
Trace; c8c92814 <[usb-uhci]process_urb+d4/1ec>
Trace; c8c929b5 <[usb-uhci]uhci_interrupt+89/e0>
Trace; c010be71 <handle_IRQ_event+4d/78>
Trace; c010c056 <do_IRQ+a6/f4>
Trace; c0108960 <default_idle+0/34>
Trace; c0108960 <default_idle+0/34>
Trace; c010a7c0 <ret_from_intr+0/20>
Trace; c0108960 <default_idle+0/34>
Trace; c0108960 <default_idle+0/34>
Trace; c0100018 <startup_32+18/cc>
Trace; c010898d <default_idle+2d/34>
Trace; c01089f2 <cpu_idle+3e/54>
Trace; c0105000 <empty_bad_page+0/1000>
Trace; c01001d0 <L6+0/2>
Code;  c8c8165d <[usbcore]usb_release_bandwidth+9/60>
00000000 <_EIP>:
Code;  c8c8165d <[usbcore]usb_release_bandwidth+9/60>   <=====
   0:   8b 91 a0 00 00 00         mov    0xa0(%ecx),%edx   <=====
Code;  c8c81663 <[usbcore]usb_release_bandwidth+f/60>
   6:   8b 43 30                  mov    0x30(%ebx),%eax
Code;  c8c81666 <[usbcore]usb_release_bandwidth+12/60>
   9:   29 42 28                  sub    %eax,0x28(%edx)
Code;  c8c81669 <[usbcore]usb_release_bandwidth+15/60>
   c:   83 7c 24 10 00            cmpl   $0x0,0x10(%esp,1)
Code;  c8c8166e <[usbcore]usb_release_bandwidth+1a/60>
  11:   74 10                     je     23 <_EIP+0x23> c8c81680 <[usbcore]usb_release_bandwidth+2c/60>
Code;  c8c81670 <[usbcore]usb_release_bandwidth+1c/60>
  13:   8b 00                     mov    (%eax),%eax
Aiee, killing interrupt handler
Kernel panic: Attempted to kill the idle task!
1 warning issued.  Results may not be reliable.
To be noted: my kernel is compiled with "Enforce USB bandwidth allocation",
I 'll without to see if it changes. When the webcam is unplugged everythings
goes right.... At least for now.
--
%--IRIN->-Institut-de-Recherche-en-Informatique-de-Nantes-----------------%
% FORT David,                                                             %
% 7 avenue de la morvandi√®re                                   0240726275 %
% 44470 Thouare, France                                epopo@onetelnet.fr %
% ICU:78064991   AIM: enlighted popo             fort@irin.univ-nantes.fr %
%--LINUX-HTTPD-PIOGENE----------------------------------------------------%
%  -datamining <-/                        |   .~.                         %
%  -networking/flashed PHP3 coming soon   |   /V\        L  I  N  U  X    %
%  -opensource                            |  // \\     >Fear the Penguin< %
%  -GNOME/enlightenment/GIMP              | /(   )\                       %
%           feel enlighted....            |  ^^-^^                        %
%                             
http://ibonneace.dyndns.org/
 when connected %
%-------------------------------------------------------------------------%
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/