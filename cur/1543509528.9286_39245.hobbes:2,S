Date: Thu, 16 Sep 1999 10:02:13 +0530
From: root <>
Subject: Compilation stops at line 177 of usercopy.c in /arch/i386/lib
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/9/15/205

Hello:  Kernel compiled OK till v2.3.18 and v2.2.13-pre4.
After applying the ac5 patch to the unstable v2.3.18 and
also after applying patch 2.2.13pre8 to v2.2.12, compilation
stops at line 177 of /arch/i386/lib/usercopy.c
It stops and the relevant lines are as
--snip--
ld -m elf_i386  -r -o mm.o init.o fault.o ioremap.o extable.o
make[2]: Leaving directory `/home/linux-unstable/arch/i386/mm'
make[1]: Leaving directory `/home/linux-unstable/arch/i386/mm'
make -C  arch/i386/lib
make[1]: Entering directory `/home/linux-unstable/arch/i386/lib'
make all_targets
make[2]: Entering directory `/home/linux-unstable/arch/i386/lib'
gcc -D__KERNEL__ -I/usr/src/linux/include -D__ASSEMBLY__  -DCPU=586 -traditional -c checksum.S -o checksum.o
gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe -fno-strength-reduce -mpreferred-stack-boundary=2 -DCPU=586 -march=i586
-c -o old-checksum.o old-checksum.c
gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe -fno-strength-reduce -mpreferred-stack-boundary=2 -DCPU=586 -march=i586
-c -o delay.o delay.c
gcc -D__KERNEL__ -I/usr/src/linux/include -Wall -Wstrict-prototypes -O2 -fomit-frame-pointer -fno-strict-aliasing -pipe -fno-strength-reduce -mpreferred-stack-boundary=2 -DCPU=586 -march=i586
-c -o usercopy.o usercopy.c
usercopy.c: In function `strnlen_user':
usercopy.c:177: Invalid `asm' statement:
usercopy.c:177: fixed or forbidden register 2 (cx) was spilled for class CREG.
make[2]: *** [usercopy.o] Error 1
make[2]: Leaving directory `/home/linux-unstable/arch/i386/lib'
make[1]: *** [first_rule] Error 2
make[1]: Leaving directory `/home/linux-unstable/arch/i386/lib'
make: *** [_dir_arch/i386/lib] Error 2
--snip--
I am using Debian GNU/Linux 'potato' and has bin86_0.14.3-1.
The problem is with the forbidden register value and is this
due to an older bin86.      
ragOO, VU2RGU.                         PGP Key 1024/1A747CB1 
Fingerprint: 61 CD 0F 96 7A 94 4F F6 F0 42 1B 6D C0 A4 24 CF 
-- 
Keeping the Air-Waves FREE.....Amateur Radio
Keeping the W W W     FREE..Debian GNU/Linux
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/