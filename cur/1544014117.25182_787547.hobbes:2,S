Date: Tue, 06 Jan 2009 07:25:46 -0800
From: Mike Travis <>
Subject: Re: [PATCH 04/11] x86: cleanup remaining cpumask_t ops in smpboot code
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2009/1/6/178

Jaswinder Singh Rajput wrote:
> Hi Mike,
> 
> On Tue, Jan 6, 2009 at 7:32 PM, Mike Travis <travis@sgi.com> wrote:
>> I'll look closer but I had assumed that these masks would not be
>> used for UP configurations (it did not get any compile errors
>> with the allnoconfig).  In fact, any access to these masks for
>> UP would be unnecessary since there are no callouts, the boot
>> cpu is assumed initialized, and it has no siblings.  So the
>> masks are specific to SMP.
>>
> 
> If it is specific to SMP then:
> CONFIG_X86_64 should be CONFIG_X86_64_SMP
> CONFIG_X86_32 should be CONFIG_X86_32_SMP
> 
> I am in the process of cleaning smp.h and moving out non-smp from
> smp.h as per Ingo's suggestion.
> 
> I am planning to move cpumask related things to asm/cpumask.h
> 
> Is this OK to you.
> 
> --
> JSR
It's fine with me, anything to untangle the web we've weaved... ;-)
Thanks,
Mike