Date: Thu, 15 Jul 1999 07:16:40 -0700
From: "GERALD HOOPER" <>
Subject: Linux Kernel Upwards-Compatibility Deficiencies
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/7/15/36

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content="text/html; charset=iso-8859-1" http-equiv=Content-Type>
<META content="MSHTML 5.00.2614.3401" name=GENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=#ffffff>
<DIV><FONT face=Arial size=2>
<DIV>Hi Larry</DIV>
<DIV>&nbsp;</DIV>
<DIV>I am not an expert in the internal of kernel device drivers but I need to 
contact someone who is and who can help me. The help desk staff at RedHat do not 
seem to have the necessary levels of expertise to sort out what is a very real 
problem with the linux kernels and in particular the differences between 
2.0.36-0.7 (Linux 5.2) and 2.2.5-15 (Linux 6.0). My problem is that the kernels 
do not seem to be upwardly compatible.</DIV>
<DIV>&nbsp;</DIV>
<DIV>I have a system which uses a modern BX board with built in AIC 7895 scsi 
controllers on which I have three scci 4.3 scci disks mounted. I also have an 
LS120 drive with a standard floppy. The reason for my upgrading from 5.2 to 6.0 
was because of timeout problems on the scci bus where the 2.0.36 kernel keeps 
resetting after a timeout. The 6.0 system appears to be better in this respect 
but using the 2.2.5-15 kernel gives rise to more serious problems namely that 
the parallel port does not appear to have been configured in the kernel and I 
cannot gain access to my LS120 drive because it is not prperly detected by the 
system.</DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>The essential fault&nbsp;appears to lie in the 
specification of the /proc/devices directory which is a virtual file system 
which forms part of the kernel. If you examine this directory on both the 
2.0.36-07 (Linux Version 5.2) and 2.2.5-15 (Linux Version 6.0) kernels you will 
see that they are very different and that&nbsp;the key 'lp' item is missing from 
the 2.2.5-15 kernel. The label for the 'lp' item is 6 which I believe to be the 
major port number in the 'major minor' number port identifier sequence. The way 
in which the /proc directory is used by the rest of the system is critical but I 
have yet to find any documentation on this. To put matters right you would need 
to rebuild the kernel but Redhat do not provide the means to do this or of 
copies of the make files from which the kernels were originally constructed, so 
that their construction can be verified against their specification. 
</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Doing a cat on the /proc/devices virtual directory 
for kernel 2.2.5-15 </FONT></DIV>
<DIV><FONT face=Arial size=2>gave the following results<BR><BR>Character 
devices:&nbsp;&nbsp;&nbsp; Block devices:<BR>&nbsp; 1 
mem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 ramdisk<BR>&nbsp; 2 
pty&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
2 fd<BR>&nbsp; 3 
ttyp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
3 ide0<BR>&nbsp; 4 
ttyS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 8 sd<BR>&nbsp; 5 
cua&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 9 md<BR>&nbsp; 7 
vcs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
22 ide1<BR>&nbsp;10 misc<BR>&nbsp;29 fb<BR>&nbsp;36 netlink<BR>128 ptm<BR>136 
pts<BR><BR><BR>The corresponding values for the 2.0.36-07 kernel 
were<BR><BR>Character devices:&nbsp;&nbsp;&nbsp; Block devices:<BR>&nbsp; 1 
mem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
1 ramdisk<BR>&nbsp; 2 
pty&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
2 fd<BR>&nbsp; 3 
ttyp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
3 ide0<BR>&nbsp; 4 
ttyp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
8 sd<BR>&nbsp; 5 
cua&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9 
md<BR>&nbsp; 6 
lp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;22 
ide1<BR>&nbsp; 7 vcs<BR>&nbsp;10 misc</FONT></DIV>
<DIV><FONT face=Arial size=2><BR>&nbsp;</DIV></FONT>
<DIV><FONT face=Arial size=2>While the Block devices are the same 
the&nbsp;Character Devices differ significantly</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV>I attach a copy of my correspondence with the RedHat Help desk</DIV>
<DIV>&nbsp;</DIV>
<DIV>Thanks</DIV>
<DIV>&nbsp;</DIV>
<DIV>Gerry Hooper</DIV>
<DIV>&nbsp;</DIV>
<DIV><A href="mailto:ghphpr@tesco.net">ghphpr@tesco.net</A></DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV></FONT></DIV></BODY></HTML>
<HTML>
<HEAD>
   <TITLE>Update Incident</TITLE>
</HEAD>
<HTML>
<HEAD>
	<TITLE>RedHat Support</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" LINK="#CC0000" VLINK="#993300" ALINK="#FF0000">
<!-- header table -->
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="624">
        <TR>
                <TD WIDTH="88" ROWSPAN="2"><IMG SRC="/img/head_left.gif" WIDTH="148" HEIGHT="88" ALT="" BORDER="0"></TD>
                <TD WIDTH="219"><IMG SRC="/img/head_right.gif" WIDTH="219" HEIGHT="40" ALT="redhat.com" BORDER="0"></TD>
                <TD WIDTH="317" ALIGN="CENTER" VALIGN="MIDDLE" ROWSPAN="2"><!--#include virtual="/include/banner.html" --></TD>
        </TR>
        <TR>
                <TD WIDTH="219" VALIGN="TOP"><A HREF="
http://store.redhat.com/commerce/"><IMG
 SRC="/img/icon_buy.gif" WIDTH="42" HEIGHT="48" ALT="Buy" BORDER="0"></A><A HREF="/support/"><IMG SRC="/img/icon_support.gif" WIDTH="49" HEIGHT="48" ALT="Support" BORDER="0"></A><A HREF="
ftp://ftp.redhat.com/"><IMG
 SRC="/img/icon_download.gif" WIDTH="56" HEIGHT="48" ALT="Download" BORDER="0"></A><A HREF="/corp/"><IMG SRC="/img/icon_redhat.gif" WIDTH="51" HEIGHT="48" ALT="Redhat" BORDER="0"></A><IMG SRC="/img/icon_spacer.gif" WIDTH="21" HEIGHT="48" ALT="" BORDER="0"></TD>
        </TR>
        <TR>
                <TD WIDTH="624" COLSPAN="3"><A HREF="/linuxindex/"><IMG SRC="/img/linuxindex.gif" WIDTH="77" HEIGHT="16" ALT="Linux Index" BORDER="0"></A><A HREF="/knowledgebase/"><IMG SRC="/img/knowledgebase.gif" WIDTH="101" HEIGHT="16" ALT="Knowledgebase" BORDER="0"></A><A HREF="/devresources/"><IMG SRC="/img/devresources.gif" WIDTH="123" HEIGHT="16" ALT="Developer Resources" BORDER="0"></A><A HREF="/usergroups/"><IMG SRC="/img/usergroups.gif" WIDTH="79" HEIGHT="16" ALT="User Groups" BORDER="0"></A><A HREF="/appindex/"><IMG SRC="/img/appindex.gif" WIDTH="108" HEIGHT="16" ALT="Application Index" BORDER="0"></A><A HREF="/docs/"><IMG SRC="/img/documentation.gif" WIDTH="130" HEIGHT="16" ALT="Documentation" BORDER="0"></A></TD>
        </TR>
        <FORM ACTION="
http://redhat.google.com/redhat"
 METHOD="GET">
        <TR>
                <TD WIDTH="624" VALIGN="BOTTOM" COLSPAN="3" BACKGROUND="img/head_bg.gif">
                <IMG SRC="/img/searchfor.gif" WIDTH="71" HEIGHT="21" ALT="Search for" BORDER="0"><INPUT TYPE="TEXT" NAME="q" SIZE="8"><IMG SRC="/img/on.gif" WIDTH="19" HEIGHT="21" ALT="on" BORDER="0"> &nbsp; <INPUT TYPE="RADIO" NAME="search" VALUE="redhat" CHECKED><FONT FACE="VERDANA, ARIAL, HELVETICA" SIZE="1">redhat.com <INPUT TYPE="RADIO" NAME="search" VALUE="rhlinux">Linux sites &nbsp; <INPUT TYPE="SUBMIT" VALUE="GO"> &nbsp; <A HREF="
http://www.google.com
">powered by Google</A></FONT></TD>
        </TR>
        </FORM>
</TABLE>
<BR>
<!--- main body table --->
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="682">
        <TR>
                <!--- sidebar navigation --->
                <TD WIDTH="137" VALIGN="TOP" ROWSPAN="2" BGCOLOR="#99CCFF">
                &nbsp;<BR>
                &nbsp;<BR>
                <a href="/cgi-bin/support"><IMG SRC="../img/supporthome_off.gif" BORDER="0" ALT="Support home"></a><br>
                <A href="/cgi-bin/support?faq"><IMG SRC="../img/faq_off.gif" BORDER="0" ALT="FAQ"></A><br>
                <A href="/cgi-bin/support?search"><IMG SRC="../img/search_off.gif" BORDER="0" ALT="Search"></a><br>
                <br><a href="support?logout"><IMG SRC="../img/logout.gif" BORDER="0" ALT="Log out"></a><br>
<a href="support?regproduct"><IMG SRC="../img/regproduct.gif" BORDER="0" ALT="Register product"></a><br>
<a href="support?newincident"><IMG SRC="../img/newincident.gif" BORDER="0" ALT="New incident"></a><br>
<br>
<a href="support?myproducts"><IMG SRC="../img/myproducts.gif" BORDER="0" ALT="My products"></a><br>
<a href="support?myincidents"><IMG SRC="../img/myincidents.gif" BORDER="0" ALT="My incidents"></a><br>
<a href="support?myinfo"><IMG SRC="../img/myinfo.gif" BORDER="0" ALT="My info"></a><br>
                <!--end sidebar search-->
                </TD>
                <!--- end left column --->
                <!--- blue partners header --->
                <TD WIDTH="21" VALIGN="TOP" ROWSPAN="2"><IMG
SRC="../img/corp_bluehead_left.gif" WIDTH="21" HEIGHT="32" ALT=""
BORDER="0"></TD>
                <TD WIDTH="472" VALIGN="TOP"><A NAME="top"><IMG
SRC="../img/corp_head_support.gif" WIDTH=472 HEIGHT=28 ALT="Support" BORDER=0></A></TD>
                <TD WIDTH="17" VALIGN="TOP"><IMG SRC="../img/pixel.gif"
WIDTH="17" HEIGHT="28" ALT="" BORDER="0"></TD>
                <TD WIDTH="40" VALIGN="TOP"><IMG SRC="../img/pixel.gif"
WIDTH="40" HEIGHT="28" ALT="" BORDER="0"></TD>
                <!--- end blue header --->
        </TR>
        
        <TR>
                <TD WIDTH="489" VALIGN="TOP" COLSPAN="2"
BGCOLOR="#FFFFFF"><IMG SRC="../img/pixel.gif" WIDTH="489" HEIGHT="1"
BORDER="0"><BR>
                <FONT FACE="Verdana, Arial, Helvetica, Sans Serif" SIZE="2">
                <!--- content goes here --->
                  <br>
<CENTER>
<B><FONT FACE=Arial,Helvetica SIZE=+1 COLOR=#0000CF >Update Incident</FONT></B><BR>
<I>Logged in as Ghphpr@tesco.net</I></CENTER><BR>
<FORM ENCTYPE=multipart/form-data ACTION="support?custlogininc" METHOD=POST>
<INPUT TYPE=hidden NAME=18 VALUE=custloginsaveinc>
<INPUT TYPE=hidden NAME="100" VALUE="929898811">
<INPUT TYPE=hidden NAME="5" VALUE="Ghphpr@tesco.net">
<INPUT TYPE=hidden NAME="108" VALUE="GHPHPR@TESCO.NET">
<INPUT TYPE=hidden NAME="54" VALUE="incidents.time_created">
<INPUT TYPE=hidden NAME="30" VALUE="">
<INPUT TYPE=hidden NAME=19 VALUE=13>
<INPUT TYPE=hidden NAME=27 VALUE=930261045>
<INPUT TYPE=hidden NAME=11 VALUE=990620-0022>
<TABLE>
<TR><TD>
Contact Information:<BR>
Ghphpr@tesco.net
<input type=hidden name=5 value='Ghphpr@tesco.net'>
</TD></TR>
<TR><TD>Registration:<BR>
<table border=1 width=100% cellspacing=0 cellpadding=0><tr><td>
<table border=0 width=100%>
<tr valign=top>
<td align=left><input type=radio name=72 value='91b0460a956ce482' checked></td><td align=left><font size=2>91b0460a956ce482</td><td align=left><font size=2>Red Hat Linux 6.0/Intel</td>
</tr>
</table></td></tr></table>
</TD></TR>
<TR><TD><U>Product:</U><BR>
<input type=hidden name=1, VALUE="11">
Red Hat Linux 6.0</TD></TR>
<TR><TD><U>Category:</U><BR>
<input type=hidden name=2, VALUE="6">
Bugs and other Problems</TD></TR>
<TR><TD><INPUT TYPE=hidden NAME=6 VALUE=0></TD></TR>
<TR><TD><U>Summary:</U><BR>
<input type=hidden name=7 VALUE="Mounting LS120 drives using 6.0 kernel">
Mounting LS120 drives using 6.0 kernel</TD></TR><TR><TD><U>Your Previous Description:</U><BR>
On v5.2 I mount my LS120 drive OK<BR>
This uses an msdos filesystem supported by the 2.0.36 kernel<BR>
e.g. mount /dev/hdd /mnt/floppy2<BR>
works OK using an msdos filesystem<BR>
<BR>
<BR>
On v6.0 I cannot mount my LS120 drive because the 2.2.5-15 does not support the msdos filesystem. On boot the hdd device is linked to the LS120 drive as shown by the screen text but non of the filesystems can be used to mount the drive.<BR>
 <BR>
e.g non of these commands work<BR>
mount /dev/hdd /mnt/floppy2<BR>
mount -t ext2 /dev/hdd /mnt/floppy2<BR>
mount -t msdos /dev/hdd /mnt/floppy2<BR>
mount -t umsdos /dev/hdd /mnt/floppy2<BR>
<BR>
How would you suggest that I proceed to mount my LS120 under the 2.2.5-15 kernel?<BR>
<BR>
Thank You<BR>
<BR>
Gerry Hooper<BR>
<BR>
ghphpr@tesco.net<BR>
<BR>
At 6/21/99 5:28 PM you wrote - Thanks for your response Marty<BR>
My apologies if you get this twice throgh a newer incident report<BR>
<BR>
I have only just found the update botton on your screen<BR>
<BR>
<BR>
I have tried your suggestions as per original response <BR>
<BR>
Both the msdos.o and vfat.o files are contained in the<BR>
/lib/modules/2.2.5-15/fs directory as you suggested.<BR>
<BR>
However when I tried<BR>
<BR>
mount -t vfat /dev/hdd /dev/floppy2<BR>
 I get the message<BR>
fs type vfat not supported by kernel<BR>
<BR>
also when I try<BR>
mount -t msdos /dev/hdd /dev/floppy2<BR>
I get the corresponding message<BR>
fs type msdos not supported by kernel<BR>
<BR>
We are therefore back to square one.<BR>
How do you suggest that I proceed ?<BR>
<BR>
Gerry Hooper<BR>
<BR>
ghphpr@tesco.net<BR>
<BR>
<BR>
At 6/22/99 2:53 AM you wrote - I tried your suggestion to use<BR>
#insmod vfat<BR>
as root login: It did not work<BR>
I attach file showing result.<BR>
This file obtained by <BR>
#insmod vfat 2>> /tmp/gherr<BR>
Icould not mount a floppy under 2.2.5-15 kernel<BR>
Neither could I use my printer using the lpr command<BR>
I also could not produce printer output using<BR>
cat /tmp/gherr >> ttyS1<BR>
which is my printer port<BR>
<BR>
I believe that the 2.2.5-15 kernel is a very sick beast<BR>
On boot up it does not recognise my printer by getting the hardware to respond<BR>
Also on boot up it does not perform a partition check on hdd<BR>
<BR>
All of these things work ok on my original kernel 2.0.36<BR>
<BR>
The file attached has been obtained by mounting the 2.0.36 kernel and then copying the file gherr to a mounted floppy.<BR>
<BR>
This actual communication comes to you through my dual boot Windows 98 facilities<BR>
<BR>
If I had to put my finger on the problems that exist with the 2.2.5-15 kernel I would look at the bits which mount the harware and check out the system during initialisation i.e at the init process<BR>
<BR>
Please find attached the gherr file contents<BR>
The file attachment did not appear to work on your system so I am resending this again<BR>
At 6/22/99 2:58 PM you wrote - Hi Marty<BR>
I could not get the' add file attachment' mechanism attached to this system to work.It generated a message saying contact supervisor. I therefore sent you the error files through the RedHat sup-manager Email connection.<BR>
Basically the 2.2.5-15 Kernel only generates error messages from a command such as<BR>
#insmod vfat <BR>
(see Gherr file)<BR>
<BR>
or <BR>
#insmod msdos<BR>
(see Gherr2 file)<BR>
<BR>
My lpr utility also does not work<BR>
<BR>
During boot up the kernel does not perform the same check actions that are carried out by the 2.0.36-37 kernel<BR>
<BR>
As stated above I believe that the errors in the 2.2.5-15 kernel are in its use of the init process and that they are fatal !!<BR>
<BR>
Perhaps you could get your development team to try them out on a similar architecture to my own?<BR>
<BR>
Thanks <BR>
<BR>
GerryAt 6/23/99 0:30 AM you wrote - Hi Marty<BR>
Thanks for your latest advice<BR>
I will try them out later to-doday<BR>
I did send you the error file through your sup-manager by Email<BR>
I have hand copied the vfat one below<BR>
The error file for msdos is very similar<BR>
<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_read_super_R7101628c<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_date_unix2dos_R83fb36a1<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_read_inode_Rf23f0483<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_put_inode_R00b60105<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_dir_operations_R060b8452<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_put_super_R6cc696f2<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_fs_panic_R240a9fc6<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_unlock_creation_R9e32cc5b<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_get_entry_R57ed075c<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_brelse_R2190b516<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_add_cluster_R71aedf1a<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_delete_inode_R6499d474<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_mark_buffer_dirty_R3a53e527<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_notify_change_Re08c2a5f<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_esc2uni_Rdf8b5a1e<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_write_inode_Rc75806f3<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_lock_creation_R4d85e995<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_scan_R84c7a6b4<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_cache_inval_inode_R173fe278<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_statfs_Rf5ee95c8<BR>
/lib/modules/preferred/fs/vfat.o: unresolved symbol fat_readdirx_Rd5f12b92<BR>
<BR>
Hope this helps you to sort out the problems with the 2.2.5-15 kernel<BR>
<BR>
Gerry<BR>
<BR>
At 6/23/99 6:10 AM you wrote - HI MARTY<BR>
You were correct to pick up my typo error in my last input to you<BR>
/dev/ttyS1 should have read  /dev/lp1<BR>
My apologies for the typing mistake<BR>
<BR>
I have tried out what you have suggested and the problems remain<BR>
<BR>
When using kernel 2.2.5<BR>
<BR>
cat file > /dev/lp0<BR>
cat file > /dev/lp1<BR>
cat file > /dev/lp2<BR>
cat file | lpr<BR>
all generate the same error message which is<BR>
bash: ........ Operation not supported by device<BR>
<BR>
When using kernel 2.0.36<BR>
cat file > /dev/lp1<BR>
cat file | lpr<BR>
<BR>
work ok.<BR>
<BR>
Now to the hdd problem<BR>
I copy now my /etc/fstab file for you to look at<BR>
I believe that this is ok<BR>
<BR>
<BR>
/dev/sdb3               /                       ext2    defaults        1 1<BR>
/dev/sda2               /boot                   ext2    defaults        1 2<BR>
/dev/sdb5               /home                   ext2    defaults        1 2<BR>
/dev/sdc3               /hoop                   ext2    defaults        1 2<BR>
/dev/sdb6               /opt                    ext2    defaults        1 2<BR>
/dev/sdb2               /usr                    ext2    defaults        1 2<BR>
/dev/sdc2               /usr/src                ext2    defaults        1 2<BR>
/dev/sdc1               /var                    ext2    defaults        1 2<BR>
/dev/sdc4               /work                   ext2    defaults        1 2<BR>
/dev/sda3               swap                    swap    defaults        0 0<BR>
/dev/fd0                /mnt/floppy             ext2    noauto          0 0<BR>
/dev/hdd<TAB><TAB>/mnt/floppy2<TAB><TAB>ext2<TAB>noauto,user<TAB>0 0<BR>
/dev/cdrom              /mnt/cdrom              iso9660 noauto,ro       0 0<BR>
none                    /proc                   proc    defaults        0 0<BR>
<BR>
<BR>
There are however significant difference in the /var/dmesg files which are created by the two kernels. I therefore attach them now for your inspection and comments<BR>
<BR>
The first file is for kernel 2.0.36<BR>
<BR>
Memory: sized by int13 0e801h<BR>
Console: 16 point font, 400 scans<BR>
Console: colour VGA+ 80x25, 1 virtual console (max 63)<BR>
pcibios_init : BIOS32 Service Directory structure at 0x000fab20<BR>
pcibios_init : BIOS32 Service Directory entry at 0xfafa0<BR>
pcibios_init : PCI BIOS revision 2.10 entry at 0xfafd0<BR>
Probing PCI hardware.<BR>
Calibrating delay loop.. ok - 331.78 BogoMIPS<BR>
Memory: 127568k/131072k available (748k kernel code, 384k reserved, 2164k data)<BR>
Swansea University Computer Society NET3.035 for Linux 2.0<BR>
NET3: Unix domain sockets 0.13 for Linux NET3.035.<BR>
Swansea University Computer Society TCP/IP for NET3.034<BR>
IP Protocols: IGMP, ICMP, UDP, TCP<BR>
Linux IP multicast router 0.07.<BR>
VFS: Diskquotas version dquot_5.6.0 initialized<BR>
Checking 386/387 coupling... Ok, fpu using exception 16 error reporting.<BR>
Checking 'hlt' instruction... Ok.<BR>
Linux version 2.0.36 (root@porky.redhat.com) (gcc version 2.7.2.3) #1 Tue Oct 13 22:17:11 EDT 1998<BR>
Starting kswapd v 1.4.2.2 <BR>
Serial driver version 4.13 with no serial options enabled<BR>
tty00 at 0x03f8 (irq = 4) is a 16550A<BR>
tty01 at 0x02f8 (irq = 3) is a 16550A<BR>
PS/2 auxiliary pointing device detected -- driver installed.<BR>
Real Time Clock Driver v1.09<BR>
Ramdisk driver initialized : 16 ramdisks of 4096K size<BR>
ide: i82371 PIIX (Triton) on PCI bus 0 function 57<BR>
    ide0: BM-DMA at 0xf000-0xf007<BR>
    ide1: BM-DMA at 0xf008-0xf00f<BR>
hdb: ATAPI CDROM, ATAPI CDROM drive<BR>
hdd: LS-120 CSMO 05 UHD Floppy, ATAPI FLOPPY drive<BR>
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14<BR>
ide1 at 0x170-0x177,0x376 on irq 15<BR>
Floppy drive(s): fd0 is 1.44M<BR>
FDC 0 is a post-1991 82077<BR>
md driver 0.36.3 MAX_MD_DEV=4, MAX_REAL=8<BR>
scsi : 0 hosts.<BR>
scsi : detected total.<BR>
Partition check:<BR>
hdd: 123264kB, 963/8/32 CHS, 533 kBps, 512 sector size, 720 rpm<BR>
hdd: no media in the drive<BR>
RAMDISK: Compressed image found at block 0<BR>
VFS: Mounted root (ext2 filesystem).<BR>
(scsi0) &#60;Adaptec AIC-7895 Ultra SCSI host adapter> found at PCI 12/0<BR>
(scsi0) Wide Channel A, SCSI ID=7, 32/255 SCBs<BR>
(scsi0) Downloading sequencer code... 404 instructions downloaded<BR>
(scsi1) &#60;Adaptec AIC-7895 Ultra SCSI host adapter> found at PCI 12/1<BR>
(scsi1) Wide Channel B, SCSI ID=7, 32/255 SCBs<BR>
(scsi1) Downloading sequencer code... 404 instructions downloaded<BR>
scsi0 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI) 5.1.2/3.2.4<BR>
       &#60;Adaptec AIC-7895 Ultra SCSI host adapter><BR>
scsi1 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI) 5.1.2/3.2.4<BR>
       &#60;Adaptec AIC-7895 Ultra SCSI host adapter><BR>
scsi : 2 hosts.<BR>
  Vendor: IBM       Model: DCAS-34330W       Rev: S65A<BR>
  Type:   Direct-Access                      ANSI SCSI revision: 02<BR>
Detected scsi disk sda at scsi0, channel 0, id 0, lun 0<BR>
  Vendor: IBM       Model: DDRS-34560        Rev: S97B<BR>
  Type:   Direct-Access                      ANSI SCSI revision: 02<BR>
Detected scsi disk sdb at scsi0, channel 0, id 5, lun 0<BR>
  Vendor: IBM       Model: DDRS-34560        Rev: S97B<BR>
  Type:   Direct-Access                      ANSI SCSI revision: 02<BR>
Detected scsi disk sdc at scsi0, channel 0, id 6, lun 0<BR>
(scsi0:0:0:0) Synchronous at 40.0 Mbyte/sec, offset 8.<BR>
SCSI device sda: hdwr sector= 512 bytes. Sectors= 8467200 [4134 MB] [4.1 GB]<BR>
 sda: sda1 sda2 sda3<BR>
(scsi0:0:5:0) Synchronous at 20.0 Mbyte/sec, offset 15.<BR>
SCSI device sdb: hdwr sector= 512 bytes. Sectors= 8925000 [4357 MB] [4.4 GB]<BR>
 sdb: sdb1 sdb2 sdb3 sdb4 &#60; sdb5 sdb6 ><BR>
(scsi0:0:6:0) Synchronous at 20.0 Mbyte/sec, offset 15.<BR>
SCSI device sdc: hdwr sector= 512 bytes. Sectors= 8925000 [4357 MB] [4.4 GB]<BR>
 sdc: sdc1 sdc2 sdc3 sdc4<BR>
VFS: Mounted root (ext2 filesystem) readonly.<BR>
Trying to unmount old root ... okay<BR>
Adding Swap: 130748k swap-space (priority -1)<BR>
<BR>
<BR>
The second file is for kernel 2.2.5-15<BR>
<BR>
Linux version 2.2.5-15 (root@porky.devel.redhat.com) (gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)) #1 Mon Apr 19 23:00:46 EDT 1999<BR>
Detected 332503754 Hz processor.<BR>
Console: colour VGA+ 80x25<BR>
Calibrating delay loop... 331.78 BogoMIPS<BR>
Memory: 127816k/131072k available (996k kernel code, 412k reserved, 1572k data, 60k init)<BR>
VFS: Diskquotas version dquot_6.4.0 initialized<BR>
CPU: Intel Pentium II (Deschutes) stepping 01<BR>
Checking 386/387 coupling... OK, FPU using exception 16 error reporting.<BR>
Checking 'hlt' instruction... OK.<BR>
POSIX conformance testing by UNIFIX<BR>
mtrr: v1.26 (19981001) Richard Gooch (rgooch@atnf.csiro.au)<BR>
PCI: PCI BIOS revision 2.10 entry at 0xfafd0<BR>
PCI: Using configuration type 1<BR>
PCI: Probing PCI hardware<BR>
Linux NET4.0 for Linux 2.2<BR>
Based upon Swansea University Computer Society NET3.039<BR>
NET4: Unix domain sockets 1.0 for Linux NET4.0.<BR>
NET4: Linux TCP/IP 1.0 for NET4.0<BR>
IP Protocols: ICMP, UDP, TCP, IGMP<BR>
Initializing RT netlink socket<BR>
Starting kswapd v 1.5 <BR>
Detected PS/2 Mouse Port.<BR>
Serial driver version 4.27 with MANY_PORTS MULTIPORT SHARE_IRQ enabled<BR>
ttyS00 at 0x03f8 (irq = 4) is a 16550A<BR>
ttyS01 at 0x02f8 (irq = 3) is a 16550A<BR>
pty: 256 Unix98 ptys configured<BR>
apm: BIOS version 1.2 Flags 0x07 (Driver version 1.9)<BR>
Real Time Clock Driver v1.09<BR>
RAM disk driver initialized:  16 RAM disks of 4096K size<BR>
PIIX4: IDE controller on PCI bus 00 dev 39<BR>
PIIX4: not 100% native mode: will probe irqs later<BR>
    ide0: BM-DMA at 0xf000-0xf007, BIOS settings: hda:pio, hdb:pio<BR>
    ide1: BM-DMA at 0xf008-0xf00f, BIOS settings: hdc:pio, hdd:pio<BR>
hdb: ATAPI CDROM, ATAPI CDROM drive<BR>
hdd: LS-120 CSMO 05 UHD Floppy, ATAPI FLOPPY drive<BR>
ide0 at 0x1f0-0x1f7,0x3f6 on irq 14<BR>
ide1 at 0x170-0x177,0x376 on irq 15<BR>
hdb: ATAPI 36X CD-ROM drive, 128kB Cache<BR>
Uniform CDROM driver Revision: 2.54<BR>
Floppy drive(s): fd0 is 1.44M<BR>
FDC 0 is a post-1991 82077<BR>
md driver 0.90.0 MAX_MD_DEVS=256, MAX_REAL=12<BR>
raid5: measuring checksumming speed<BR>
raid5: using high-speed MMX checksum routine<BR>
   pII_mmx   :   809.244 MB/sec<BR>
   p5_mmx    :   784.098 MB/sec<BR>
   8regs     :   573.024 MB/sec<BR>
   32regs    :   411.480 MB/sec<BR>
using fastest function: pII_mmx (809.244 MB/sec)<BR>
scsi : 0 hosts.<BR>
scsi : detected total.<BR>
md.c: sizeof(mdp_super_t) = 4096<BR>
Partition check:<BR>
RAMDISK: Compressed image found at block 0<BR>
autodetecting RAID arrays<BR>
autorun ...<BR>
... autorun DONE.<BR>
VFS: Mounted root (ext2 filesystem).<BR>
(scsi0) &#60;Adaptec AIC-7895 Ultra SCSI host adapter> found at PCI 12/0<BR>
(scsi0) Wide Channel A, SCSI ID=7, 32/255 SCBs<BR>
(scsi0) Downloading sequencer code... 374 instructions downloaded<BR>
(scsi1) &#60;Adaptec AIC-7895 Ultra SCSI host adapter> found at PCI 12/1<BR>
(scsi1) Wide Channel B, SCSI ID=7, 32/255 SCBs<BR>
(scsi1) Downloading sequencer code... 374 instructions downloaded<BR>
scsi0 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI) 5.1.15/3.2.4<BR>
       &#60;Adaptec AIC-7895 Ultra SCSI host adapter><BR>
scsi1 : Adaptec AHA274x/284x/294x (EISA/VLB/PCI-Fast SCSI) 5.1.15/3.2.4<BR>
       &#60;Adaptec AIC-7895 Ultra SCSI host adapter><BR>
scsi : 2 hosts.<BR>
(scsi0:0:0:0) Synchronous at 40.0 Mbyte/sec, offset 8.<BR>
  Vendor: IBM       Model: DCAS-34330W       Rev: S65A<BR>
  Type:   Direct-Access                      ANSI SCSI revision: 02<BR>
Detected scsi disk sda at scsi0, channel 0, id 0, lun 0<BR>
(scsi0:0:5:0) Synchronous at 20.0 Mbyte/sec, offset 15.<BR>
  Vendor: IBM       Model: DDRS-34560        Rev: S97B<BR>
  Type:   Direct-Access                      ANSI SCSI revision: 02<BR>
Detected scsi disk sdb at scsi0, channel 0, id 5, lun 0<BR>
(scsi0:0:6:0) Synchronous at 20.0 Mbyte/sec, offset 15.<BR>
  Vendor: IBM       Model: DDRS-34560        Rev: S97B<BR>
  Type:   Direct-Access                      ANSI SCSI revision: 02<BR>
Detected scsi disk sdc at scsi0, channel 0, id 6, lun 0<BR>
SCSI device sda: hdwr sector= 512 bytes. Sectors= 8467200 [4134 MB] [4.1 GB]<BR>
 sda: sda1 sda2 sda3<BR>
SCSI device sdb: hdwr sector= 512 bytes. Sectors= 8925000 [4357 MB] [4.4 GB]<BR>
 sdb: sdb1 sdb2 sdb3 sdb4 &#60; sdb5 sdb6 ><BR>
SCSI device sdc: hdwr sector= 512 bytes. Sectors= 8925000 [4357 MB] [4.4 GB]<BR>
 sdc: sdc1 sdc2 sdc3 sdc4<BR>
autodetecting RAID arrays<BR>
autorun ...<BR>
... autorun DONE.<BR>
VFS: Mounted root (ext2 filesystem) readonly.<BR>
change_root: old root has d_count=1<BR>
Trying to unmount old root ... okay<BR>
Freeing unused kernel memory: 60k freed<BR>
Adding Swap: 130748k swap-space (priority -1)<BR>
<BR>
<BR>
You will see that there is a major difference in the PARTITION CHECK SECTION<BR>
<BR>
Hope this helps<BR>
<BR>
Gerry<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
At 6/24/99 2:41 PM you wrote - Hello Marty ( 24/6/99 7.45 pm)<BR>
Thanks for your latest instructions to me.<BR>
I will try them out later when I have a little free time<BR>
In the meantime I will try to clear up some of the confusion<BR>
<BR>
The situation is that I only have one machine which is a triple boot machine<BR>
At the front end I run System Commander which is a Windows 98 program.<BR>
<BR>
System Commander allows me to boot between<BR>
a) A floppy drive<BR>
b) Windows 98<BR>
c) Red Hat Linux (Resident Kernel 2.2.5-15) v5.2 + Xfree 3.3.3.1<BR>
<BR>
From the  floppy drive I can also boot Red Hat Linux 5.2 (Resident Kernel 2.0.36-37) + Xfree 3.3.3.1 which is the original kernel for 5.2<BR>
<BR>
Kernels to Linux are meant to be upwards compatible so that in using Kernel 2.2.5-15 with the v5.2 software I thought I would be OK but apparently I am not.<BR>
<BR>
The reason for going down this path will interest you.<BR>
<BR>
I originally tried to install v6.0 from scratch. This failed because it did not detect my LS120 drive as does v5.2. I therefore reinstalled v5.2 and tried the alternative of using the Upgrade path to install version 6.0. This also failed because the system came back with a list of partitions that it had recognised and asked me to pick out my root partition. The only problem was that the list did not contain my root partition.<BR>
<BR>
To overcome these problems I extracted the information to build a new kernel from the 6.0 disk 1 and did this following the instructions given in the book by Naba Barkati "Linux Secrets" and this worked OK. I therefore ended up with a 2.2.5-15 kernel on a v5.2 software system which itself had already been upgraded to Xfree 3.3.3.1.<BR>
<BR>
At this point I tried once again to upgrade my v5.2 with the 2.2.5-kernel to the software for 6.0. This time it worked and it worked because during the upgrade process the request to select my /root partition never appeared.<BR>
<BR>
This method of upgrading my system never really worked however and I could still not use my LS120 drive and the system kept freezing up on me. At this time the person at RedHat Software that I was dealing with had a user name  called 'mgalgaci' . You may know him .<BR>
<BR>
As a result of these problems I decided that I really could not use the software provided with version 6 of RedHat Linux  and returned it to my supplier who is LinuxIT in the UK. I did however keep the boot up floppy for the 2.2.5-15 kernel and decided to continue with it to sort out the underlying problems with it. After all I would have liked to have been able to install this release of the software because otherwise I am likely to be stuck up a gum tree in the future. I therefore tried to approach the problems involved afresh which is whwn I began dealing with yourself.<BR>
<BR>
I note that the dmesg file for kernel 2.2.5-15 does give an email address of<BR>
root@porky.devel.redhat.com<BR>
whereas the corresponding email address for the 2.0.36-37  kernel is<BR>
root@porky.redhat.com<BR>
This suggests to me that the 2.2.5-15 kernel is still not fully developed and would explain why it had so many bugs  and why it was not upwardly compatible with previous software. The 2.0.36-37 kernel appears to work differently particularly during the "partition check: ".e.g.<BR>
hdd: 123264kB, 963/8/32 CHS, 533 kBps, 512 sector size, 720 rpm<BR>
<BR>
I also could not find any part of the dmesg in either kernel which verified the existence of the parallel port which uses IRQ 7 ? although both serial ports were properly identified. On my machine I also have two USB ports but again they were not picked up by either kernel? I will check out the pointer information and let you know the result.<BR>
<BR>
Thank you for your assistance<BR>
<BR>
Gerry Hooper<BR>
<BR>
At 6/24/99 3:37 PM you wrote - Hello Again Marty<BR>
Its now 8.30 pm and I have run the tests that you requested<BR>
<BR>
Under kernel 2.2.5-15<BR>
<BR>
the #ls -l /lib/modules/preferred points to<BR>
/lib/modules2.2.5-15<BR>
<BR>
Under Kernel 2.0.36<BR>
<BR>
the #ls -l /lib/modules/preferred points to <BR>
/lib/modules/2.0.36-0.7<BR>
<BR>
If I delete the /etc/printcap file under kernel 2.2.5-15<BR>
and then start Xwindows and use the printtool I get the messages<BR>
/dev/lp0: not detected<BR>
/dev/lp1: not detected<BR>
/dev/lp2: not detected<BR>
<BR>
the system then indicates that it may be a hardware problem and that I should get it looked at.<BR>
<BR>
Again under 2.2.5-15 I checked out the cat file > /dev/lpX<BR>
rountines but they again failed.<BR>
<BR>
My recommendation is that you should refer the whole of this matter to <BR>
root@porky.devel.redhat.com<BR>
for his consideration. I am always happy to oblige by running any tests that are required because it is in my interest that I should be able to buy and install the latest release of Red Hat Linux. As matters stand I cannot perform this very simple function<BR>
<BR>
Thanks once again for your patience ans assistance<BR>
<BR>
Gerry Hooper<BR>
<BR>
<BR>At 6/25/99 2:41 AM you wrote - Hi Marty<BR>
Thanks for your continued support (6/24/99 5:31PM)<BR>
I have carried out your instructions and attach the results<BR>
The original faults remain unchanged<BR>
I personally believe that there are some bugs in the 2.2.5-15 complied binary code<BR>
These bugs are related to the ability of the 2.2.5-15 kernel to detect hardware<BR>
They do not exist in kernel 2.0.36-37<BR>
<BR>
PRINTER UPDATE<BR>
<BR>
I modified the /etc/conf.modules file to contain the added line<BR>
alias parport_lowlevel parport_pc<BR>
It had no effect. I therefore re-booted the kernel: still no effect.<BR>
The print tool still gives the message<BR>
/dev/lp0: not detected<BR>
/dev/lp1: not detected<BR>
/dev/lp2: not detected<BR>
On my machine I do not have Samba (Lan Printer) or ncpfs(Netware Printer) installed but this should not affect the setting up of a Local Printer<BR>
<BR>
LSMOD ETC<BR>
<BR>
1. lsmod response is listed now<BR>
<BR>
Module Size Used by<BR>
<BR>
aic7xxx 106928 10 <BR>
<BR>
<BR>
<BR>
2. insmod /lib/modules/2.2.5-15/fs/vfat.o is listed now through 2>> facility<BR>
<BR>
<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_read_super_R7101628c<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_date_unix2dos_R83fb36a1<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_read_inode_Rf23f0483<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_put_inode_R00b60105<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_dir_operations_R060b8452<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_put_super_R6cc696f2<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_fs_panic_R240a9fc6<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_unlock_creation_R9e32cc5b<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_get_entry_R57ed075c<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_brelse_R2190b516<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_add_cluster_R71aedf1a<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_delete_inode_R6499d474<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_mark_buffer_dirty_R3a53e527<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_notify_change_Re08c2a5f<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_esc2uni_Rdf8b5a1e<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_write_inode_Rc75806f3<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_lock_creation_R4d85e995<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_scan_R84c7a6b4<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_cache_inval_inode_R173fe278<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_statfs_Rf5ee95c8<BR>
<BR>
/lib/modules/2.2.5-15/fs/vfat.o: unresolved symbol fat_readdirx_Rd5f12b92<BR>
<BR>
<BR>
<BR>
3. repeated lsmod is listed now: there is no change in the values<BR>
<BR>
Module Size Used by<BR>
<BR>
aic7xxx 106928 10 <BR>
<BR>
3. the results for mount -t  vfat /dev/hdd1 /dev/floppy2 are listed now<BR>
<BR>
mount: fs type vfat not supported by kernel<BR>
<BR>
<BR>
<BR>
Anything else that I can do to sort these problems out please let me know<BR>
<BR>
I remain of the opinion that they should be thrown back to the person responsible for the 2.2.5-15 kernel at Red Hat because there are definite low level binary errors in this kernel<BR>
<BR>
Kind Regards<BR>
<BR>
Gerry<BR>
<BR>
<BR>
<BR>At 6/30/99 11:57 PM you wrote - Hi Marty<BR>
Its now five days since I heard from you<BR>
Does this mean that Redhat have given up on solving the problems with your 6.0 kernel?<BR>
I had an Email this morning from Stephen your sup-manager to tell me that he has sent on to you the files that I sent you on the 16th June!! Has he been away on holiday or somthing and only looks at his mail every three weeks?<BR>
Time is running out for maintenance but if there is anything you want me to do please let me know? How about sending the full record of this investigation to the Redhat Development chap listed at root@porky.devel.redhat.com on the /var/dmesg  message.<BR>
Kind Regards<BR>
Gerry Hooper<BR>
ghphpr@tesco.net</TD></TR>
<TR><TD>
<U>Our Previous Response:</U><BR>
<input type=hidden name=9 value="At 6/20/99 9:30 PM we wrote - 
Good evening,
Hmm, you should have the msdos module in your /lib/modules/2.2.5-15/fs directory. Do you see it there?
Either way, you should try the &#39vfat&#39 module instead:
# mount -t vfat /dev/hdd /dev/floppy2
Let me know if this works for you.
Thanks,
Marty
At 6/24/99 1:47 AM we wrote - 
Good morning,
I think I may see the problem. Where does the symlink /lib/modules/preferred point?
# ls -l /lib/modules/preferred
I bet it points to your old module directory 2.0.36. Is this the case? If so, first delete the link /lib/modules/preferred and try again loading the modules you need. I&#39m sorry I didn&#39t catch this the first time.
As for your printer, try deleting your /etc/printcap and recreating it with printtool. Hopefully this will clear things up.
One more thing, do you still have 5.2 installed? I&#39m a bit confused about your comparisons because I get the feeling you&#39re doing them on the same machine. Did you do a full upgrade from 5.2 using the boot diskette and all that?
Thanks,
Marty
At 6/24/99 5:31 PM we wrote - 
Good afternoon,
Your printer problem is due to the way upgrades from 5.X -> 6.0 &#34forget&#34 to write the following to your /etc/conf.modules:
alias parport_lowlevel parport_pc
Add the line and try printtool again.
Can you send me the following information, in the order specified?
# lsmod
# insmod /lib/modules/2.2.5-15/fs/vfat.o
# lsmod
# mount -t vfat /dev/hdd1 /dev/floppy2
Thanks,
Marty">
At 6/20/99 9:30 PM we wrote - <BR>
<BR>
Good evening,<BR>
<BR>
Hmm, you should have the msdos module in your /lib/modules/2.2.5-15/fs directory. Do you see it there?<BR>
<BR>
Either way, you should try the 'vfat' module instead:<BR>
<BR>
# mount -t vfat /dev/hdd /dev/floppy2<BR>
<BR>
Let me know if this works for you.<BR>
<BR>
Thanks,<BR>
Marty<BR>
<BR>
<BR>
<BR>
<BR>
At 6/24/99 1:47 AM we wrote - <BR>
<BR>
Good morning,<BR>
<BR>
I think I may see the problem. Where does the symlink /lib/modules/preferred point?<BR>
<BR>
# ls -l /lib/modules/preferred<BR>
<BR>
I bet it points to your old module directory 2.0.36. Is this the case? If so, first delete the link /lib/modules/preferred and try again loading the modules you need. I'm sorry I didn't catch this the first time.<BR>
<BR>
As for your printer, try deleting your /etc/printcap and recreating it with printtool. Hopefully this will clear things up.<BR>
<BR>
One more thing, do you still have 5.2 installed? I'm a bit confused about your comparisons because I get the feeling you're doing them on the same machine. Did you do a full upgrade from 5.2 using the boot diskette and all that?<BR>
<BR>
Thanks,<BR>
Marty<BR>
<BR>
<BR>
<BR>
<BR>
At 6/24/99 5:31 PM we wrote - <BR>
<BR>
Good afternoon,<BR>
<BR>
Your printer problem is due to the way upgrades from 5.X -> 6.0 "forget" to write the following to your /etc/conf.modules:<BR>
<BR>
alias parport_lowlevel parport_pc<BR>
<BR>
Add the line and try printtool again.<BR>
<BR>
Can you send me the following information, in the order specified?<BR>
<BR>
# lsmod<BR>
<BR>
# insmod /lib/modules/2.2.5-15/fs/vfat.o<BR>
<BR>
# lsmod<BR>
<BR>
# mount -t vfat /dev/hdd1 /dev/floppy2<BR>
<BR>
Thanks,<BR>
Marty</TD></TR><TR><TD>
Enter Your Results And Additional Comments:<BR>
<TEXTAREA name=26 WRAP=SOFT ROWS=20 COLS=75 MAXLENGTH=1000></TEXTAREA>
</TD></TR><TR><TD>
<U>Attachments:</U>
<BR>
<INPUT TYPE=hidden NAME=202 VALUE="a">
<FONT SIZE=-1>Add File Attachment:</FONT><BR>
<INPUT NAME=172 TYPE=file SIZE=40 MAX=80
</TD></TR>
<TR><TD><input type=checkbox name=21 >Mark My Incident As SOLVED.<BR>
</TD></TR></TABLE>
<input type=hidden name=99>
<CENTER>
<INPUT TYPE=IMAGE SRC=/rn_buttons/save.gif WIDTH=41 HEIGHT=16 BORDER=0 VALUE="Save">
</FORM><TABLE><TR>
<TD><FORM ACTION="support?custlogininc" METHOD=POST><INPUT TYPE=hidden NAME="100" VALUE="929898811">
<INPUT TYPE=hidden NAME="5" VALUE="Ghphpr@tesco.net">
<INPUT TYPE=hidden NAME="108" VALUE="GHPHPR@TESCO.NET">
<INPUT TYPE=hidden NAME="54" VALUE="incidents.time_created">
<INPUT TYPE=hidden NAME="30" VALUE="">
<INPUT TYPE=hidden NAME=11 VALUE="990620-0022">
<input type=hidden name=99>
<INPUT TYPE=IMAGE SRC=/rn_buttons/cancel.gif WIDTH=56 HEIGHT=16 BORDER=0 VALUE="Cancel">
</FORM></TD>
<TD><FORM ACTION="support?custlogininc" METHOD=POST><INPUT TYPE=hidden NAME="100" VALUE="929898811">
<INPUT TYPE=hidden NAME="5" VALUE="Ghphpr@tesco.net">
<INPUT TYPE=hidden NAME="108" VALUE="GHPHPR@TESCO.NET">
<INPUT TYPE=hidden NAME="54" VALUE="incidents.time_created">
<INPUT TYPE=hidden NAME="30" VALUE="">
<INPUT TYPE=hidden NAME=18 VALUE="custloginxactn">
<INPUT TYPE=hidden NAME=11 VALUE="990620-0022">
<input type=hidden name=99>
<INPUT TYPE=IMAGE SRC=/rn_buttons/transactions.gif WIDTH=94 HEIGHT=16 BORDER=0 VALUE="Cancel">
</FORM></TD>
</TR></TABLE></CENTER><CENTER><A Href="
http://www.rightnowtech.com
"><IMG SRC="/rn_buttons/rnt_pwr_btn.gif" border=0 width=88 height=18></A><BR><FONT SIZE=-2>(support - 2.4)</FONT></CENTER>                <!--- end content --->
                <BR></FONT>
                </TD>
                <TD WIDTH="57"><IMG SRC="../img/pixel.gif" WIDTH="57"
HEIGHT="1" BORDER="0"></TD>
        </TR>
        
        <!--- bottom button row --->
        <TR>
                <TD WIDTH="626" ALIGN="LEFT" VALIGN="TOP" COLSPAN="3"><IMG
SRC="../img/pixel.gif" WIDTH="626" HEIGHT="28" ALT="" BORDER="0"></TD>
                <TD WIDTH="17" VALIGN="TOP" ALIGN="RIGHT"><A
HREF="#top"><IMG SRC="../img/corp_button_home_left.gif" WIDTH="17"
HEIGHT="28" ALT="" BORDER="0"></A></TD>
                <TD WIDTH="40" VALIGN="TOP" ALIGN="LEFT"><A
HREF="#top"><IMG SRC="../img/corp_button_top.gif" alt="top" WIDTH="40"
HEIGHT="28" BORDER="0"></A></TD>
        </TR>
        <!--- end bottom button row --->
        
        <!---bottom row and footer --->
        <TR>
                <TD COLSPAN="5" ALIGN="LEFT" VALIGN="TOP"><IMG
SRC="../img/corp_bottom_bar.gif" WIDTH="682" HEIGHT="19" ALT="bottom
spacer" BORDER="0">
                <BR>&nbsp;<BR>
</TD>
                </TR>
        <!--- end bottom row and footer--->
</TABLE>
<BR><BR><BR>
<!-- footer -->
<BR><BR><BR>
<CENTER><FONT FACE="Verdana, Arial, Helvetica" SIZE="1"><A HREF="/news/slashdot/">Slashdot News</A> |
<A HREF="/news/freshmeat/">Freshmeat News</A> | <A HREF="/news/lwn/">Linux Week News</A> | <A HREF="/news/redhat/">Red Hat  News</A><BR>
<A HREF="/appindex/">Applications</A>| <A HREF="/usergroups/">User Groups</A> | <A HREF="/linuxindex/">Linux Index</A> | <A HREF="/devresources/">Developer Resources</A> | <A HREF="/knowledgebase/">Knowledge Base</A><BR>
<B><U>Corporate:</U></B> <A HREF="/corp/products.html">Products & Services</A>  |  <A HREF="/corp/about_us.html">About Us</A>  |  <A HREF="/corp/news.html">News & Events</A>  |  <A HREF="/corp/partners.html">Partners</A>  |  <A HREF="/corp/customers.html">Customers</A> | <A HREF="/corp/legal_statement.html">Legal</A>
<P>
<A HREF="/corp//legal_statement.html#copyright">copyright</A> &copy; 1999 Red Hat Software, Inc. All rights reserved.<BR></FONT>
</CENTER>
</BODY>
</HTML>
</BODY>
</HTML>