Date: Sun, 10 Oct 1999 15:54:26 -0700 (PDT)
From: Linus Torvalds <>
Subject: Re: 2.3.20 will not boot (PCI problem)
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/1999/10/10/111

On Sun, 10 Oct 1999, Tim Waugh wrote:
> > 
> > Would you mind trying to turn the hex addresses into function+offset?
> > ksymoops should do it for you, and it's needed to make any sense of it. 
> 
> I didn't do that originally because there's not much there.  My System.map
> has:
Ok.
It's a almost certainly a buggy BIOS. 
Not surprising, it's one of the issues we've always had - the 32-bit BIOS
interfaces tend to be buggy because they are never tested. When the PCI
code calls into the BIOS to find out the interrupt routing, the BIOS gets
confused and craps all over. The code to call into the BIOS for the irq
number is new as of 2.3.19 or so..
Martin, let's just change the defaults: NOT call the BIOS by default (and
maybe have a kernel command line to say "pciirq=bios" for the two people
who need it and have a working BIOS) because I'll bet this is not going to
be the only report on machines not booting when more people start testing.
And it's not as we got the interrupt numbes wrong by just looking them up
by hand.
Getting a irq wrong occasionally is better than crashing mysteriously at
boot. A device may not work, but at least it is a lot more debuggable. And
it's probably (almost certainly) more likely that there are more broken
32-bit BIOS interfaces than there are broken machines where we have
trouble guessing the irq number without the BIOS.
		Linus
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/