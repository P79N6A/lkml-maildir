Date: Fri, 29 Apr 2005 00:43:27 +0100
From: Alan Cox <>
Subject: Re: Multiple functionality breakages in 2.6.12rc3 IDE layer
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2005/4/28/256

On Gwe, 2005-04-29 at 00:00, Bartlomiej Zolnierkiewicz wrote:
> > why. You've disabled open() of a device with no bound driver.
> 
> Guess what open() for ide-default was doing in 2.6?
> 
> return -ENXIO;
> 
> and no it wasn't my change - it was the effect of fixing
> locking of the higher layers.
Yes so it needed fixing and without all the kref, kmalloc, unique object
structure per ide driver code spew too.
> > The fact that the IDE layer appears to be getting worse not better,
> > which given the starting point is a remarkable achievement.
> 
> Personal insults are easy, get technical facts.
I consider that a technical fact. The last IDE code I maintained fully
in 2.4 had mostly working locking, drive hotplug, open for unbound
drivers, didnt oops on spurious irqs and wasn't losing all sorts of
useful boot options. I had hoped that I wouldnt have to totally fork the
2.6 IDE code in order to get back to where 2.4-ac was and get the
locking working so you can't oops it via /proc
Alan
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/