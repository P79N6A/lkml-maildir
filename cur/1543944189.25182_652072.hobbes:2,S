Date: Tue, 12 Feb 2008 09:55:59 +0100
From: Stefan Richter <>
Subject: Re: [PATCH 6/9] firewire: fw-sbp2: don't add scsi_device twice
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2008/2/12/85

Stefan Richter wrote:
> Jarod Wilson wrote:
>> Was the spurious __scsi_add_device simply failing, or was it causing
>> other problems as well?
> SCSI core looks up whether the scsi_target and the scsi_device already
> exist.  If so, __scsi_add_device succeeds (there should also be a log
> message "scsi scan: device exists on %s\n") and returns the pointer to
> the existing scsi_device.
PS:  This behavior is undocumented and we shouldn't rely on it.
-- 
Stefan Richter
-=====-==--- --=- -==--
http://arcgraph.de/sr/