Date: Fri, 21 Jan 2000 18:24:34 +0100
From: Pavel Machek <>
Subject: Re: Inaccurate process time accounting
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/1/23/40

Hi!
> I'm working on monitoring system for Linux clusters and I need to get
> dynamicaly CPU time consumed by process (no matter in which mode) for
> performance prediction. It seems that time accounting in my kernel
> (2.2.14) does not count time slices shorter than one jiffie. I made
> process that runs for less than jiffie and then sleeps one jiffie (in
> cycle). Although benchmarking showed that test takes around 30% of CPU
> time, accounting said that it had consumed less than 1%.
> 
> I tested patch from Pavel Machek
> 
http://www.tux.org/hypermail/linux-kernel/1999week20/0232.html
> 
> Results are more accurate but only if there is no other CPU bound
> process. 
Yes, that's expected. Main thing I wanted to avoid machine saying 99%
idle if it is in fact 90% busy.
								Pavel
-- 
I'm pavel@ucw.cz. "In my country we have almost anarchy and I don't care."
Panos Katsaloulis describing me w.r.t. patents me at discuss@linmodems.org
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.rutgers.edu
Please read the FAQ at 
http://www.tux.org/lkml/