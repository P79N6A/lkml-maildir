Date: Sun, 25 Mar 2007 12:18:49 +0200 (CEST)
From: Jiri Kosina <>
Subject: Re: HID OOPS running hid2hci on logitech diNovo dongle
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2007/3/25/51

On Sun, 25 Mar 2007, CIJOML wrote:
> in combination of kernel 2.6.20-mh1 and hid2hci from bluez-utils-3.9 I 
> am getting following OOPS:
> BUG: at drivers/hid/hid-core.c:785 implement()
>  [<c027a9c3>] hid_output_report+0x213/0x2be
>  [<fcaf73fb>] hid_submit_ctrl+0x52/0x1bc [usbhid]
>  [<fcaf76b9>] usbhid_submit_report+0x154/0x187 [usbhid]
>  [<fcaf7970>] usbhid_init_reports+0x60/0xbb [usbhid]
>  [<fcaf917d>] hiddev_ioctl+0x361/0x8e7 [usbhid]
>  [<c01b4dd1>] avc_has_perm+0x4e/0x58
>  [<c01b5595>] inode_has_perm+0x5b/0x63
>  [<c0148652>] __handle_mm_fault+0x2c3/0x7b1
>  [<c01b5626>] file_has_perm+0x89/0x91
>  [<c0161158>] do_ioctl+0x4c/0x62
>  [<c01613aa>] vfs_ioctl+0x23c/0x24f
>  [<c0161409>] sys_ioctl+0x4c/0x67
>  [<c0102cc8>] syscall_call+0x7/0xb
>  [<c02d0033>] __sched_text_start+0x43/0x546
This is known bug that happens with recent Logitech dongles. Please see 
http://lkml.org/lkml/2007/2/16/215
 and 
http://lkml.org/lkml/2007/3/5/274
The problem here is that Logitech probably changed the way how the dongle 
is switched from HID to HCI mode, and bluez-utils don't support it (and 
send report that is not compliant with report descriptor of the dongle, 
which triggers this warning).
Are you able to verify whether this could be possibly caused solely by 
newer versions of bluez-utils, as Amedee stated in some of the threads 
above?
-- 
Jiri Kosina
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  
http://vger.kernel.org/majordomo-info.html
Please read the FAQ at  
http://www.tux.org/lkml/