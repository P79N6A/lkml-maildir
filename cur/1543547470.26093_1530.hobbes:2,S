Date: Sun, 3 Sep 2000 11:03:47 +0200 (CEST)
From: (Arjan van de Ven)
Subject: Re: 2.2.18pre2 compilation failure
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
X-Lkml-Link: https://lkml.org/lkml/2000/9/3/16

In article <87zolqt7ex.fsf@tsumakin.woot.au> you wrote:
> This came up today. 
[snip]
> /usr/src/linux/include/linux/kernel_stat.h: In function `kstat_irqs':
> /usr/src/linux/include/linux/kernel_stat.h:47: `smp_num_cpus' undeclared (first use in this function)
> /usr/src/linux/include/linux/kernel_stat.h:47: (Each undeclared identifier is reported only once
> /usr/src/linux/include/linux/kernel_stat.h:47: for each function it appears in.)make[3]: *** [ksyms.o] Error 1
Hi,
This is caused by you changing from UP to SMP without "make mrproper".
This is a (so far unfixed) bug in the 2.2 build system.
So the solution is to copy the .config to a safe place, type "make
mrproper", copy the .config back and then type "make oldconfig".
If you see more things that don't compile, try the patch at
http://www.fenrus.demon.nl/2.2.18/compile.diff
to see if that fixes it.
Greetings,
   Arjan van de Ven
-
To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
the body of a message to majordomo@vger.kernel.org
Please read the FAQ at 
http://www.tux.org/lkml/